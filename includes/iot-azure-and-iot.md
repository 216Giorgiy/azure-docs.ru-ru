# Azure и IoT

Добро пожаловать в Microsoft Azure и "Интернет вещей" (IoT). В этой статье рассматривается типовая архитектура решения IoT, описывающая общие характеристики решения IoT, которое можно развернуть с помощью служб Azure. Для типового решения IoT требуется надежная двухсторонняя связь между устройствами (которых могут быть миллионы) и серверной частью решения, которое может использовать для анализа данных в потоке событий между устройством и облаком прогнозную аналитику.

## Архитектура решения IoT

На приведенной ниже схеме показана архитектура типичного решения IoT. Обратите внимание, что она не содержит имен определенных служб Azure, а описывает ключевые элементы в архитектуре обобщенного решения IoT. В следующих разделах приведены дополнительные сведения об элементах этого решения.

![Архитектура решения IoT][img-solution-architecture]

### Взаимодействие устройств

В типичном сценарии IoT устройства отправляют данные телеметрии, например показания температуры, на конечную точку облака для хранения и обработки. Устройства также могут принимать команды, передаваемые из облака на устройство, и отвечать на них путем считывания сообщений из конечной точки облака. Например, устройство может получить команду, которая требует изменить частоту выборки данных.

Одной из крупнейших задач, стоящих перед проектами IoT, является надежное и безопасное подключение устройств к серверной части решения. Как правило, характеристики устройств IoT отличаются от характеристик других клиентов, таких как браузеры и мобильные приложения. Устройства IoT:

- часто представляют собой встраиваемые системы, у которых отсутствует оператор;
- могут располагаться в удаленных расположениях, там где физический доступ слишком дорог;
- могут быть доступны только через серверную часть решения;
- могут иметь ограниченную мощность и/или объем ресурсов для обработки;
- могут иметь временное, медленное или дорогостоящее подключение к сети;
- могут требовать использования закрытых, пользовательских или отраслевых протоколов приложения;
- могут создаваться с помощью большого числа популярных аппаратных и программных платформ.

В дополнение к изложенным выше требованиям любое решение IoT также должно быть масштабируемым, безопасным и надежным. В итоге получается набор требований к подключению, выполнить которые с помощью традиционных технологий, таких как веб-контейнеры и брокеры сообщений, очень трудно.

Устройство может взаимодействовать непосредственно с конечной точкой облачного шлюза или, если устройство не может использовать протоколы связи, поддерживаемые облачным шлюзом, подключаться через промежуточный шлюз, выполняющий преобразование протоколов.

### Обработка данных и аналитика

В облаке серверная часть решения IoT выполняет следующие действия:

- Принимает данные телеметрии в необходимом объеме с устройств и определяет способ обработки и хранения полученных данных. 
- В некоторых случаях позволяет также передавать команды из облака на определенное устройство.
- Предоставляет возможность регистрации устройств в решении IoT, позволяющей подготавливать их к работе и управлять доступом устройств к инфраструктуре.
- Позволяет отслеживать состояние устройств и отслеживать выполняемые ими операции.

Решения IoT могут включать в себя циклы автоматической обратной связи. Например, на основании данных телеметрии модуль машинного обучения в серверной части решения может выявить, что температура определенного устройства выше общего номинального уровня, и отправить на это устройство команду для выполнения корректирующих действий.

### Уровень представления

Многие решения IoT позволяют пользователям просматривать и анализировать данные, собранные с их устройств. Эти представления могут быть выполнены в форме панелей мониторинга или отчетов бизнес-аналитики.

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png

[lnk-machinelearning]: http://azure.microsoft.com/services/machine-learning/
[Azure IoT Suite]: http://azure.microsoft.com/solutions/iot

<!---HONumber=Nov15_HO3-->