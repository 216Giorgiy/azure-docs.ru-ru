# Azure и "Интернет вещей"

Добро пожаловать в Microsoft Azure и "Интернет вещей" (IoT). В этой статье рассматривается архитектура решения IoT, описывающая общие характеристики решения IoT, которое можно развернуть с помощью служб Azure. Для решений IoT требуется надежная двухсторонняя связь между устройствами (количество которых может исчисляться миллионами) и серверной частью решения, которое, например, может использовать прогнозную аналитику для анализа данных в потоке событий между устройством и облаком.

Центр IoT Azure является ключевым строительным блоком при реализации этой архитектуры решения IoT с помощью служб Azure. Набор IoT Suite предоставляет полные реализации этой архитектуры для определенных сценариев IoT, таких как *удаленный мониторинг* и *прогнозное обслуживание*.

## Архитектура решения IoT

На приведенной ниже схеме показана архитектура типичного решения IoT. Обратите внимание, что она не содержит имен определенных служб Azure, а описывает ключевые элементы в архитектуре обобщенного решения IoT. В этой архитектуре устройства IoT собирают данные, которые отправляют в облачный шлюз. Облачный шлюз делает данные доступными для обработки другими службами серверной части. Данные из серверной части предоставляются другим бизнес-приложениям или операторам через панель мониторинга или другое устройство для представления данных.

![Архитектура решения IoT][img-solution-architecture]

### Взаимодействие устройств

В этой архитектуре решения IoT устройства отправляют данные телеметрии, например показания температуры, на конечную точку облака для хранения и обработки. Устройства также могут принимать команды, передаваемые из облака на устройство, и отвечать на них путем считывания сообщений из конечной точки облака. Например, устройство может получить команду, которая требует изменить частоту выборки данных.

Одной из крупнейших задач, стоящих перед проектами IoT, является обеспечение надежного и безопасного подключения устройств к серверной части решения. Характеристики устройств IoT отличаются от характеристик других клиентов, таких как браузеры и мобильные приложения. Устройства IoT:

- часто представляют собой встраиваемые системы, у которых отсутствует оператор;
- могут располагаться в удаленных расположениях, где физический доступ слишком дорог;
- могут быть доступны только через серверную часть решения; другого способа взаимодействия с устройством нет.
- могут иметь ограниченную мощность и (или) объем ресурсов для обработки;
- могут иметь временное, медленное или дорогостоящее подключение к сети;
- могут требовать использования закрытых, пользовательских или отраслевых протоколов приложения;
- могут создаваться с помощью большого числа популярных аппаратных и программных платформ.

В дополнение к изложенным выше требованиям любое решение IoT также должно быть масштабируемым, безопасным и надежным. В итоге формируется набор требований к подключению, выполнить которые с помощью традиционных технологий, таких как веб-контейнеры и брокеры сообщений, очень трудно. Центр IoT Azure и пакеты SDK устройства IoT облегчают реализацию решений, соответствующих этим требованиям.

Устройство может взаимодействовать непосредственно с конечной точкой облачного шлюза или (если устройство не может использовать протоколы связи, поддерживаемые облачным шлюзом, такие как [протокол шлюза центра IoT][lnk-protocol-gateway]) подключаться через промежуточный шлюз, выполняющий преобразование протоколов. Пример:

### Обработка данных и аналитика

Большая часть обработки данных в решении происходит в серверной части решения IoT в облаке. В частности, там выполняются фильтрация и статистическая обработка данных телеметрии и их маршрутизация к другим службам. Серверная часть решения IoT:

- Принимает данные телеметрии в необходимом объеме с устройств и определяет способ обработки и хранения полученных данных. 
- В некоторых случаях позволяет передавать команды из облака на определенное устройство.
- Предоставляет возможность регистрации устройств в решении IoT, позволяющей подготавливать их к работе и управлять доступом устройств к инфраструктуре.
- Позволяет отслеживать состояние устройств и отслеживать выполняемые ими операции.

Решения IoT могут включать в себя циклы автоматической обратной связи. Например, на основании данных телеметрии модуль аналитики в серверной части решения может выявить, что температура определенного устройства выше общего нормального уровня, и отправить на это устройство команду для выполнения корректирующих действий.

### Представление и бизнес-подключение

Уровень представления и бизнес-подключения позволяет конечным пользователям взаимодействовать с решением IoT и устройствами. Это дает пользователям возможность просматривать и анализировать данные, собираемые с их устройств. Эти представления могут быть выполнены в форме панелей мониторинга или отчетов бизнес-аналитики. Например, оператор может проверить состояние конкретных грузовиков и увидеть все предупреждения, созданные системой. Этот уровень также обеспечивает интеграцию серверной части решения IoT с существующими бизнес-приложениями для привязки к корпоративным бизнес-процессам или рабочим процессам.

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png

[lnk-machinelearning]: http://azure.microsoft.com/services/machine-learning/
[Azure IoT Suite]: http://azure.microsoft.com/solutions/iot
[lnk-protocol-gateway]: iot-hub-protocol-gateway.md

<!---HONumber=AcomDC_0309_2016-->