
Диагностика неполадок в облачной службе Microsoft Azure предусматривает сбор файлов журналов служб на виртуальных машинах по мере возникновения проблем. Вы можете использовать запускаемое по запросу расширение AzureVMLogCollector для однократного выполнения операций по сбору журналов из одной или нескольких виртуальных машин облачной службы (из веб-ролей или рабочих ролей) и передачи собранных файлов в учетную запись хранения Azure. Все эти действия выполняются без удаленного входа на виртуальные машины.
> [AZURE.NOTE]Описание почти всей информации, которая записывается в журналы, см. в статье http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.asp.

Существует два режима сбора данных для файлов разных типов.
- Только журналы гостевого агента Azure (GA). В этом режиме собираются все журналы, связанные с гостевыми агентами и другими компонентами Azure.
- Все журналы (Full). В этом режиме собираются все файлы, которые собираются в режиме GA, а также:

  - журналы событий системы и приложений;
  
  - журналы ошибок HTTP;
  
  - Журналы IIS
  
  - журналы установки;
  
  - другие системные журналы.

Для двух этих режимов сбора можно указать папки, в которые будут собираться дополнительные данные. Это можно сделать с помощью коллекции со следующей структурой.

- **Name**: имя коллекции, которое будет использоваться как имя вложенной папки в ZIP-файле с собранной информацией.

- **Location**: путь к папке на виртуальной машине, куда будет записан файл.

- **SearchPattern**: шаблон имен файлов, которые будут собраны. Значение по умолчанию — *.

- **Recursive**: параметр определяет, будут ли файлы собраны рекурсивно в рамках заданной папки.

<!---HONumber=AcomDC_0323_2016-->