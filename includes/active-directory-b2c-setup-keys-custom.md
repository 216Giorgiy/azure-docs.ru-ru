
### <a name="add-signing-and-encryption-keys-to-your-b2c-tenant-for-use-by-custom-policies"></a>Добавление ключей подписывания и шифрования в клиент B2C для использования пользовательскими политиками

1. Перейдите к колонке Identity Experience Framework (Инфраструктура процедур идентификации) в параметрах вашего клиента Azure AD B2C.
1. Выберите `Policy Keys` для просмотра ключей, доступных в клиенте. Если `B2C_1A_TokenSigningKeyContainer` существует, пропустите этот ключ.
1. Создайте `TokenSigningKeyContainer`  
 * Щелкните `+Add`
 * "Параметры" > `Generate`
 * "Имя" > `TokenSigningKeyContainer`. Префикс B2C_1A_ может быть добавлен автоматически.
 * "Тип ключа" > `RSA`
 * "Даты" — используйте значения по умолчанию.
 * "Использование ключа" > `Signature`
1. Щелкните `Create`.
1. Если ключ с именем `B2C_1A_TokenEncryptionKeyContainer` существует, пропустите этот ключ.
1. Создайте `TokenEncryptionKeyContainer`.
 * "Параметры" > `Generate`
 * "Имя" > `TokenSigningKeyContainer`. Префикс B2C_1A_ может быть добавлен автоматически.
 * "Тип ключа" > `RSA`
 * "Даты" — используйте значения по умолчанию.
 * "Использование ключа" > `Encryption`
1. Щелкните `Create`.


[!TIP]
Дальнейшие действия НЕОБЯЗАТЕЛЬНЫ: их можно выполнить, если вы хотите предложить поставщиков удостоверений в социальных сетях или федеративных поставщиков удостоверений конечным пользователям.  Facebook является хорошей отправной точкой для изучения внешних поставщиков удостоверений с помощью Azure AD B2C и пользовательских политик.

1. Создайте `FacebookSecret`.  Хотя это и необязательно, этот шаг рекомендуется выполнить для тестирования возможности федерации с внешним поставщиком удостоверений.  Это послужит надежной основой для дальнейшей разработки политик в отношении других поставщиков удостоверений.
 * Щелкните `+Add`
 * "Параметры" > `Manual`
 * "Имя" > `FacebookSecret`. Префикс B2C_1A_ может быть добавлен автоматически.
 * "Секрет" > Введите значение FacebookSecret, указанное на сайте developers.facebook.com.  *Это не идентификатор приложения Facebook.*
 * "Использование ключа" > "Подпись".
1. Щелкните `Create` и подтвердите создание, запишите имя.

[!NOTE]
При использовании встроенных политик Azure AD B2C, как правило, используется одинаковый секрет для встроенных и пользовательских политик. 
