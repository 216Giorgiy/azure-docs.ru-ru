## Настройка строки подключения хранилища
Библиотека клиента хранилища Azure для .NET поддерживает использование строки подключения для настройки конечных точек и учетных данных для доступа к службам хранилища. Строку подключения хранилища рекомендуется хранить в файле конфигурации.

Дополнительные сведения о строках подключения см. в статье [Настройка строк подключения службы хранилища Azure](../articles/storage/storage-configure-connection-string.md).

> [!NOTE]
> Ключ учетной записи хранения похож на корневой пароль для вашей учетной записи хранения. Не забудьте защитить ключ учетной записи хранения. Не сообщайте его другим пользователям, не определяйте его в коде и не храните его в текстовом файле, доступном другим пользователям. Повторно создайте ключ с помощью портала Azure, если вы считаете, что он мог быть взломан.
> 
> 

### Определение целевой среды
Примеры из этого руководства можно выполнять в двух средах.

* Вы можете выполнить код в эмуляторе хранения Azure. Эмулятор хранения — это локальная среда, эмулирующая учетную запись хранения Azure в облаке. Эмулятор можно использовать как бесплатный вариант для тестирования и отладки кода, пока приложение находится на стадии разработки. Эмулятор использует известную учетную запись и ключ. Дополнительные сведения см. в статье [Использование эмулятора хранения Azure для разработки и тестирования](../articles/storage/storage-use-emulator.md).
* Вы можете выполнить код в учетной записи хранения Azure в облаке. 

Выбрав учетную запись хранения в облаке, скопируйте первичный ключ доступа к этой учетной записи хранения с портала Azure. Дополнительные сведения см. в разделе [Просмотр и копирование ключей доступа к хранилищу](../articles/storage/storage-create-storage-account.md#view-and-copy-storage-access-keys).

> [!NOTE]
> Вы можете указать эмулятор хранения, чтобы избежать затрат, связанных с хранилищем Azure. Однако если вы выберете учетную запись хранения Azure в облаке, затраты на выполнение заданий в учебнике будут незначительны.
> 
> 

### Настройка строки подключения с помощью конфигурации .NET
Если приложение выполняется на ПК или мобильном устройстве, на виртуальной машине Azure или в веб-приложении Azure, сохраните строку подключения с помощью конфигурации .NET (*например*, в файле `web.config` или `app.config` приложения). Сохраните строку подключения с помощью элемента `<appSettings>`, как показано ниже. Замените `account-name` именем своей учетной записи хранения, а `account-key` — ключом доступа своей учетной записи:

    <configuration>
          <appSettings>
            <add key="StorageConnectionString" value="DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key" />
          </appSettings>
    </configuration>

Например, параметр конфигурации будет приблизительно таким:

    <add key="StorageConnectionString" value="DefaultEndpointsProtocol=https;AccountName=storagesample;AccountKey=account-key" />

Чтобы указать эмулятор хранения, можно использовать ярлык, который сопоставляется с хорошо известным именем и ключом. В этом случае параметр строки подключения будет таким:

    <add key="StorageConnectionString" value="UseDevelopmentStorage=true;" />

### Настройка строки подключения для облачной службы Azure
Если приложение запущено в облачной службе Azure, сохраните строку подключения с помощью файлов конфигурации службы Azure (файлы `*.csdef` и `*.cscfg`). Дополнительную информацию о конфигурации облачной службы Azure см. в статье [Создание и развертывание облачной службы](../articles/cloud-services/cloud-services-how-to-create-deploy.md).

<!---HONumber=AcomDC_0406_2016-->