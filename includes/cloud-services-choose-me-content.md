<a name="tellmecs"></a>
## Информация об облачных службах

Облачные службы являются примером концепции «платформа как услуга» (PaaS). Так же как и [веб-службы](app-service-web-overview.md), эта технология предназначена для поддержки масштабируемых, надежных и недорогих в эксплуатации приложений. Как и [службы приложений](app-service-web-overview.md), облачные службы размещаются на виртуальных машинах, однако обладают большим контролем над виртуальными машинами. Вы можете установить собственное программное обеспечение в виртуальных машинах, в которых выполняются облачные службы, а также удаленно управлять ими.

![cs_diagram](./media/cloud-services-choose-me-content/diagram.png)

Дополнительный контроль также усложняет использование. Если вам не требуются возможности дополнительного контроля, как правило гораздо быстрее и проще запустить и выполнить веб-приложение на веб-сайтах, чем в облачных службах.

Технология обеспечивает два немного разных варианта виртуальных машин: в экземплярах *веб-ролей* выполняется вариант Windows Server со службами IIS, а в экземплярах *рабочих ролей* выполняется тот же самый вариант Windows Server без служб IIS. Работа приложения облачных служб основана на сочетании двух этих возможностей.

В облачной службе доступно любое сочетание этих двух немного разных вариантов размещения на виртуальных машинах.

* **Веб-роль**. Сервер Windows запускается с автоматическим развертыванием вашего приложения на IIS.
* **Рабочая роль**. Сервер Windows запускается без служб IIS.

Например, простое приложение может использовать только одну веб-роль, а более сложное приложение может использовать веб-роль для обработки поступающих от пользователей запросов, а затем передавать формируемые этими запросами операции в рабочую роль для обработки. (Для такого взаимодействия может использоваться [служебная шина](../articles/service-bus/fundamentals-service-bus-hybrid-solutions.md) или [очереди Azure](../articles/storage/storage-introduction.md).)

Как видно на рисунке выше, все виртуальные машины в рамках отдельного приложения выполняются в одной облачной службе. В связи с этим пользователи осуществляют доступ к приложению через отдельный общедоступный IP-адрес, при этом для виртуальных машин приложения осуществляется автоматическая балансировка нагрузки. Платформа [масштабирует и развертывает](../articles/cloud-services/cloud-services-how-to-scale.md) виртуальные машины в приложении облачных служб таким образом, чтобы исключить единственную точку отказа оборудования.

Несмотря на то, что приложения выполняются в виртуальных машинах, важно понимать, что облачные службы предоставляются не как IaaS, а PaaS. Вот как это можно себе представить: в IaaS, например, при использовании виртуальных машин Azure, вы сначала создаете и настраиваете среду, в которой будет выполняться приложение, а затем развертываете в ней само приложение. При таком подходе на вас ложится множество обязанностей, например, по развертыванию новых исправленных версий операционной системы в каждой виртуальной машине. В PaaS же среда уже существует. Вам нужно всего лишь развернуть свое приложение. Управление платформой, на базе которой оно выполняется, включая развертывание новых версий операционной системы, осуществляется за вас.

## Масштабирование и управление
С помощью облачных служб не нужно создавать виртуальные машины. Вместо этого предоставляется файл конфигурации, сообщающий Azure, сколько ресурсов вам требуется, например **три экземпляра веб-роли** и **два экземпляра рабочей роли**. Платформа создаст их самостоятельно. Вам все равно нужно выбрать [размер](../articles/cloud-services/cloud-services-sizes-specs.md) для резервных виртуальных машин, но не требуется явно создавать их самостоятельно. Если ваше приложение сталкивается с высокой нагрузкой, вы можете запросить дополнительные виртуальные машины, после чего Azure создаст необходимые экземпляры. В случае спада нагрузки вы можете завершить работу этих экземпляров и перестать оплачивать их.

В общем случае приложение облачных служб можно сделать доступным пользователям за два этапа. Сначала разработчик [загружает приложение](../articles/cloud-services/cloud-services-how-to-create-deploy.md) в промежуточную область платформы. Когда разработчик готов выпустить приложение, он использует портал управления Azure, чтобы запросить перемещение в производственную область. Это [переключение из промежуточной области в производственную](../articles/cloud-services/cloud-services-nodejs-stage-application.md) можно выполнить без простоя, что позволяет обновить запущенное приложение до новой версии, не нарушая работу пользователей в нем.

## Мониторинг
Кроме того, облачные службы обеспечивают мониторинг. Как и модель виртуальных машин Azure, эта модель обнаруживает неисправный физический сервер и перезапускает выполняемые на нем виртуальные машины на новом компьютере. Однако модель облачных служб также обнаруживает не только аппаратные сбои, но и неисправные виртуальные машины и приложения. В отличие от виртуальных машин, она использует агент внутри каждой веб-роли и рабочей роли, что позволяет в случае сбоя запустить новые виртуальные машины и экземпляры приложений.

Характер PaaS у модели облачных служб имеет и другие аспекты. Один из наиболее важных заключается в том, что построенное на базе этой технологии приложение должно обеспечивать правильную работу в случае сбоя какого-либо из экземпляров веб-роли или рабочей роли. Для этого приложение облачных служб не должно сохранять состояние в файловой системе своих собственных виртуальных машин. В отличие от виртуальных машин, созданных с помощью модели виртуальных машин Azure, записи в виртуальную машину облачных служб не сохраняются постоянно — здесь не существует ничего похожего на диск данных виртуальных машин. Вместо этого приложение облачных служб должно явным образом записывать все данные о состоянии в Базу данных SQL, BLOB-объекты, таблицы или любое другое внешнее хранилище. Построение приложений с учетом данного аспекта упрощает их масштабирование и делает их более отказоустойчивыми, что относится к важным задачам модели облачных служб.

<!---HONumber=July15_HO4-->