Большинство ошибок во время аутентификации возникает из-за неправильных или несогласованных параметров конфигурации. Вот несколько рекомендаций по проверке.

* Убедитесь, что не забыли где-нибудь нажать кнопку **Сохранить**. Это частая ошибка, в результате которой вы видите правильные значения на странице портала, но на самом деле они еще не были сохранены в среде Azure или приложении Azure AD.
* Убедитесь, что при вводе параметров на портале Azure в колонке **Параметры приложения** было правильно выбрано приложение API или веб-приложение. Также убедитесь, что были введены **параметры приложения**, а не **строки подключения**, так как формат этих двух разделов похож.
* Для аутентификации во внешнем интерфейсе JavaScript скачайте манифест еще раз, чтобы убедиться, что `oauth2AllowImplicitFlow` успешно изменено на `true`.
* Убедитесь, что в URL-адресах используется протокол HTTPS:

	* в коде проекта;
	* в CORS;
	* в параметрах приложения среды Azure каждого приложения API и веб-приложения;
	* в параметрах приложения Azure AD.
	
	Обратите внимание, что при копировании URL-адреса приложения API с портала он часто содержит `http://`, что необходимо вручную изменить на `https://`.

* Убедитесь, что все изменения кода были успешно развернуты. Например, в решении с несколькими проектами можно изменить код одного проекта и случайно выбрать другой, собираясь развернуть изменения.
* Убедитесь, что вы переходите в браузере к URL-адресам HTTPS, а не HTTP. По умолчанию Visual Studio создает профили публикации с URL-адресами HTTP, которые открываются в браузере после развертывания проекта.
* Для аутентификации во внешнем интерфейсе JavaScript убедитесь, что в приложении API правильно настроен CORS, который вызывается кодом JavaScript. Если вы сомневаетесь, связана ли проблема с CORS, попробуйте ввести "*" как URL-адрес разрешенного источника.
* Для внешнего интерфейса JavaScript откройте вкладку "Консоль средств разработчика" в браузере, чтобы получить дополнительные сведения об ошибках и проверить HTTP-запросы на вкладке "Сеть". Вместе с тем сообщения об ошибках консоли могут вводить в заблуждение. Если вы получили сообщение об ошибке CORS, реальной проблемой может быть аутентификация. Чтобы проверить, так ли это, можно запустить приложение с временно отключенной аутентификацией.
* Для приложения API .NET вы должны получать максимум информации в сообщениях об ошибках. Для этого [отключите режим customErrors](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remoteview).
* Для приложения API .NET запустите [удаленный сеанс отладки](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug) и проверьте значения переменных, которые передаются в код, используемый ADAL для получения токена носителя, или в код, который проверяет утверждения по ожидаемому идентификатору субъекта-службы. Обратите внимание, что код может выбирать значения конфигурации из множества различных источников, поэтому во время этой проверки возможны сюрпризы. Например, если во время настройки параметров среды службы приложений Azure вместо `ida:ClientId` вы введете `ida:ClientID`, код может получить значение `ida:ClientId`, которое он ищет в файле Web.config, игнорируя параметр службы приложений Azure. 
* Если не все работает как нужно в обычном окне Internet Explorer, возможно, мешает выполненный вход. Попробуйте использовать режим InPrivate либо повторите попытку в браузере Chrome или Firefox.

<!---HONumber=AcomDC_0309_2016-->