---
title: включение файла
description: включение файла
services: virtual-machines
author: cynthn
ms.service: virtual-machines
ms.topic: include
ms.date: 05/21/2018
ms.author: cynthn;kareni
ms.custom: include file
ms.openlocfilehash: b31e5cc3f99bdbb45aae6f9d71efdabdcc60f9c8
ms.sourcegitcommit: 5892c4e1fe65282929230abadf617c0be8953fd9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/29/2018
ms.locfileid: "37138183"
---
**Последнее обновление документа:** 15:00 (по тихоокеанскому времени) 21 мая 2018 года.

Недавно обнаружен [новый класс уязвимостей ЦП](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/ADV180002), известный как атаки упреждающего исполнения по сторонним каналам. В связи с этим у пользователей возникли вопросы, требующие разъяснения.  

Корпорация Майкрософт развернула по всем облачным службам средства устранения уязвимостей. Инфраструктура с изолированными друг от друга нагрузками, которая работает в Azure, является защищенной.  Это означает, что другим пользователям, работающим в Azure, не удастся осуществлять атаки на ваше приложение, воспользовавшись этой уязвимостью.

Кроме того, в Azure везде, где только возможно, расширяется использование [механизмов обслуживания с сохранением памяти](https://docs.microsoft.com/azure/virtual-machines/windows/maintenance-and-updates#memory-preserving-maintenance), включая 30-секундную приостановку работы виртуальной машины на время обновления узла или при перемещении виртуальной машины на уже обновленный узел.  Кроме того, эти механизмы минимизируют влияние работы пользователей и предотвращают возникновение причин возможных перезагрузок.  Azure будет использовать эти методы при обновлениях системы на узле.

> [!NOTE] 
21 мая 2018 года Google Project Zero и корпорация Майкрософт объявили об обнаружении нового подкласса уязвимостей побочного канала спекулятивного исполнения, известного как Speculative Store Bypass. В облачной инфраструктуре Майкрософт были развернуты средства, устраняющие риски и обеспечивающие дополнительную защиту, которые непосредственно устраняют уязвимости спекулятивного исполнения. Дополнительные сведения можно найти здесь: https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/ADV180012 
>
> В конце февраля 2018 г. корпорация Intel опубликовала обновленные [рекомендации о пересмотре](https://newsroom.intel.com/wp-content/uploads/sites/11/2018/03/microcode-update-guidance.pdf) состояния версий микрокода. Эти рекомендации позволяют улучшить стабильность и уменьшить риск атак, недавно раскрытых разработчиками из [Google Project Zero](https://googleprojectzero.blogspot.com/2018/01/reading-privileged-memory-with-side.html). Все меры по устранению рисков, реализованные в Azure [3 января 2018 г.](https://azure.microsoft.com/blog/securing-azure-customers-from-cpu-vulnerability/), остаются действительными после обновления рекомендаций корпорации Intel. Корпорация Майкрософт уже реализовала надежные способы предотвращения возникновения уязвимостей в процессе организации защиты клиентов Azure от влияния работы других виртуальных машин в Azure.  
>
> Обновление микрокода от корпорации Intel обеспечивает устранение уязвимости Spectre варианта 2 ([CVE-2017-5715](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5715) или целевое внедрение кода в ветвь) для защиты от атак, которые могут осуществляться только при запуске общих или ненадежных рабочих нагрузок на виртуальных машинах в Azure. Чтобы свести к минимуму влияние на производительность, наши инженеры проверяют стабильность микрокода, прежде чем он станет доступным для клиентов Azure.  Так как большинство клиентов не запускает ненадежные рабочие нагрузки на своих виртуальных машинах, не обязательно включать эту функцию сразу после выпуска. 
>
> Эта страница будет обновляться по мере добавления информации.  






## <a name="keeping-your-operating-systems-up-to-date"></a>Поддержка актуальности операционной системы

Чтобы изолировать ваши приложения в Azure от действий других пользователей, которые работают в Azure, обновлять операционную систему не нужно. Но лучше всего постоянно поддерживать актуальность версий ОС. С января 2018 года и далее [свертки безопасности для Windows](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/ADV180002) оснащены средствами устранения уязвимостей.

Рекомендуем выполнить следующие инструкции по обновлению операционной системы для указанных ниже предложений: 

<table>
<tr>
<th>Предложение</th> <th>Рекомендуемое действие </th>
</tr>
<tr>
<td>Облачные службы Azure </td>  <td>Включите автоматическое обновление и убедитесь, что используете последнюю версию гостевой ОС.</td>
</tr>
<tr>
<td>Виртуальные машины Linux в Azure</td> <td>Устанавливайте обновления от поставщика операционной системы по мере доступности. </td>
</tr>
<tr>
<td>Виртуальные машины Windows в Azure </td> <td>Перед установкой обновления ОС убедитесь, что используется поддерживаемое антивирусное приложение. Обратитесь к поставщику антивирусного программного обеспечения, чтобы получить сведения о совместимости.<p> Установите [выпущенную в январе свертку безопасности](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/ADV180002). </p></td>
</tr>
<tr>
<td>Прочие службы Azure PaaS</td> <td>Для клиентов, использующих эти службы, дополнительные действия не требуются. Azure автоматически выполняет обновление версий операционной системы. </td>
</tr>
</table>

## <a name="additional-guidance-if-you-are-running-untrusted-code"></a>Дополнительные рекомендации при выполнении кода без доверия 

Дополнительные действия не требуются, за исключением случаев, когда используется код без доверия. Если вы разрешаете выполнение кода без доверия (например, разрешаете одному из клиентов передать двоичный код или фрагмент кода, который затем выполняется в вашем приложении в облаке), сделайте следующее.  


### <a name="windows"></a>Windows 
Если при использовании Windows вы размещаете ненадежный код, включите функцию Windows для скрытия виртуального адреса ядра (KVA), обеспечивающую дополнительную защиту от уязвимостей, связанных с упреждающим исполнением по сторонним каналам (в частности, для варианта 3 с перегрузкой, [CVE-2017-5754](https://www.cve.mitre.org/cgi-bin/cvename.cgi?name=2017-5754) или несанкционированная загрузка кэша данных). По умолчанию эта функция отключена. При активации она может снизить производительность. Выполните инструкции из статьи [KB4072698 для Windows Server](https://support.microsoft.com/help/4072698/windows-server-guidance-to-protect-against-the-speculative-execution), чтобы включить защиту на сервере. Если вы работаете с облачными службами Azure, убедитесь, что используется WA-GUEST-OS-5.15_201801-01 или WA-GUEST-OS-4.50_201801-01 (доступны с 10 января 2018 г.), и включите раздел реестра при помощи задачи запуска.


### <a name="linux"></a>Linux
Если вы используете Linux и размещаете код без доверия, обновите Linux до последней версии с изоляцией страниц для таблиц, которые используются ядром (KPTI). При этом страницы таблиц, используемые ядром, отделяются от тех, которые относятся к пространству пользователя. Такие средства устранения рисков требуют обновления ОС Linux. Их можно получить у поставщика по мере доступности. Поставщик ОС сообщит, включены ли решения по обеспечению безопасности по умолчанию.



## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения см. в разделе [Securing Azure customers from CPU vulnerability](https://azure.microsoft.com/blog/securing-azure-customers-from-cpu-vulnerability/) (Защита клиентов Azure от уязвимости ЦП).
