

Расширение пользовательских сценариев широко применяется для настройки рабочих нагрузок на виртуальных машинах Windows и Linux с момента выпуска. С введением шаблонов диспетчера ресурсов Azure пользователи получили возможность создавать такие шаблоны, которые не только инициализируют виртуальную машину, но и управляют ее рабочей нагрузкой.

## О шаблонах диспетчера ресурсов Azure
Шаблон диспетчера ресурсов Azure позволяет декларативно задать IaaS-инфраструктуру Azure на языке JSON, установив зависимости между ресурсами. Более подробно шаблоны диспетчера ресурсов Azure рассматриваются в следующих статьях.

* [Общие сведения о группе ресурсов](../articles/resource-group-overview.md)
* [Развертывание шаблонов с помощью Azure Powershell](../articles/virtual-machines/virtual-machines-windows-ps-manage.md)

### Предварительные условия
1. Скачайте программы командной строки Azure для своей операционной системы [отсюда](https://azure.microsoft.com/downloads/).
2. Если сценарии будут запускаться на существующей виртуальной машине, убедитесь в том, что на ней включен агент виртуальной машины, если вы не следовали руководству по его установке для [Linux](../articles/virtual-machines/virtual-machines-linux-classic-manage extensions.md) или [Windows](../articles/virtual-machines/virtual-machines-windows-classic-manage extensions.md).
3. Передайте сценарии, которые требуется запускать на виртуальной машине, в службу хранилища Azure. Сценарии могут поступать как из одного, так и из нескольких контейнеров хранилища.
4. Кроме того, сценарии можно передать в учетную запись GitHub.
5. Сценарий должен быть создан таким образом, чтобы запущенный с помощью расширения первый сценарий запускал в свою очередь другие сценарии.

## Использование расширения для пользовательских сценариев
Для развертывания с помощью шаблонов используется та же версия расширения Custom Script, которая доступна для API управления службами Azure. Это расширение поддерживает такие же параметры и сценарии, например добавление файлов в учетную запись хранения Azure или в расположение Github. Основное отличие при использовании с шаблонами — это необходимость указывать версию расширения в ее непосредственном виде, а не в формате основной\_номер\_версии.*.

<!---HONumber=AcomDC_0420_2016-->