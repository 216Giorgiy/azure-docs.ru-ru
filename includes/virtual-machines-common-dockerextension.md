

[Docker](https://www.docker.com/) — одна из самых популярных технологий виртуализации. В рамках этой технологии для изоляции данных приложения и вычислений с использованием общих ресурсов вместо виртуальных машин используются [контейнеры Linux](http://en.wikipedia.org/wiki/LXC). Чтобы создать виртуальную машины Docker для размещения любого числа контейнеров с приложениями Azure, можно использовать [расширение Azure Docker](https://github.com/Azure/azure-docker-extension/blob/master/README.md) в [агенте Linux для Azure](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).

Содержание этого раздела:

* [Контейнеры Docker и Linux]
* [Использование расширения виртуальных машин Docker в Azure]
* [Расширения виртуальных машин для Linux и Windows]

Для создания виртуальных машин с поддержкой Docker см. раздел

* [Использование расширения виртуальных машин Docker из интерфейса командной строки Azure (CLI Azure)]
* [Использование расширения виртуальных машин Docker на классическом портале Azure]
* [Быстрое начало работы с Docker в Azure Marketplace]

См. дополнительные сведения о [расширении Docker и способе его работы](https://github.com/Azure/azure-docker-extension/blob/master/README.md).

## <a name="docker-and-linux-containers"></a>Контейнеры Docker и Linux
[Docker](https://www.docker.com/) — одна из самых популярных технологий виртуализации. В рамках этой технологии для изоляции данных приложения и вычислений с использованием общих ресурсов вместо виртуальных машин используются [контейнеры Linux](http://en.wikipedia.org/wiki/LXC). Кроме того, она предоставляет другие службы, которые позволяют быстро создавать или компоновать приложения, распределяя их между другими контейнерами Docker.

Docker и контейнеры Linux не являются [гипервизорами](http://en.wikipedia.org/wiki/Hypervisor), как Windows Hyper-V и [KVM](http://www.linux-kvm.org/page/Main_Page) в Linux (или множество других примеров). Гипервизоры виртуализируют базовую операционную систему для того, чтобы полноценные операционные системы (называемые *виртуальными машинами*) могли выполняться внутри гипервизора так, как будто они являются приложением.

Докер и другие подходы с использованием *контейнеров* позволили радикально уменьшить как время запуска, так и затраты на обработку и необходимый объем хранимой информации при помощи возможностей изоляции процессов и файловой системы с использованием особенностей ядра Linux, предоставляя полностью изолированным контейнерам доступ только к возможностям ядра.

Следующая таблица содержит обзорное описание функциональных различий между гипервизорами и контейнерами Linux. Обратите внимание, что полезность ряда функций зависит от потребностей конкретного приложения.

| Функция | Гипервизоры | Контейнеры |
|:--- | --- | --- |
| Изоляция процессов |Более или менее полная |При получении корневого процесса узел контейнера может быть поставлен под угрозу |
| Требуется память на диске |Полная версия ОС и приложения |Только требования приложений |
| Время для запуска |Значительно дольше: загрузка ОС и приложений |Значительно быстрее: необходим только запуск приложений, так как ядро уже работает |
| Автоматизация контейнера |Зависит от ОС и приложений |[Коллекция образов Docker](https://registry.hub.docker.com/); прочее |

Обзорное обсуждение контейнеров и их преимуществ см. на [доске по Docker](http://channel9.msdn.com/Blogs/Regular-IT-Guy/Docker-High-Level-Whiteboard).

См. дополнительные сведения о [расширении Docker и о том, как оно функционирует](https://www.docker.com/whatisdocker/).

#### <a name="docker-and-linux-container-security-best-practices"></a>Советы и рекомендации по безопасности контейнеров Docker и Linux
Поскольку контейнеры предоставляют общий доступ к ядру главного компьютера, то в случае, если вредоносный код сможет получить права привилегированного пользователя, он также может оказаться в состоянии получить доступ не только к компьютеру, но и к другим контейнерам. Чтобы обеспечить безопасность для системы контейнеров на более высоком уровне (по сравнению со стандартной конфигурацией), [Docker рекомендует](https://docs.docker.com/articles/security/) использовать дополнительную групповую политику или [безопасность на основе ролей](http://en.wikipedia.org/wiki/Role-based_access_control), или такие решения, как [SELinux](http://selinuxproject.org/page/Main_Page) или [AppArmor](http://wiki.apparmor.net/index.php/Main_Page). Кроме того, желательно свести к минимуму доступ к возможностям ядра, предоставляемым контейнерам. Кроме того, в Интернете есть много других документов, которые описывают подходы к обеспечению безопасности при использовании таких контейнеров, как Docker.

## <a name="how-to-use-the-docker-vm-extension-with-azure"></a>Использование расширения виртуальных машин Docker в Azure
Расширение виртуальных машин Docker — это компонент, который устанавливается в созданном экземпляре виртуальной машины. Он самостоятельно устанавливает механизм Docker и управляет удаленным соединением с виртуальной машиной. Есть два способа установить расширение виртуальной машины: можно создать виртуальную машину с помощью портала управления либо из кроссплатформенного интерфейса командной строки Azure (CLI Azure).

С помощью портала можно добавить расширение виртуальных машин Docker в любую совместимую виртуальную машину Linux (в настоящее время поддерживается только образ Ubuntu 14.04 LTS, созданный позже июля). Однако с помощью командной строки CLI Azure можно установить расширение виртуальной машины Docker и создать и загрузить сертификаты связи Docker одновременно с созданием экземпляра виртуальной машины.

Для создания виртуальных машин с поддержкой Docker см. раздел

* [Использование расширения виртуальных машин Docker из интерфейса командной строки Azure (CLI Azure)]
* [Использование расширения виртуальных машин Docker на классическом портале Azure]

## <a name="virtual-machine-extensions-for-linux-and-windows"></a>Расширения виртуальных машин для Linux и Windows
[Расширение виртуальных машин Docker для Azure](https://github.com/Azure/azure-docker-extension/blob/master/README.md) — это одно из множества расширений виртуальных машин, обеспечивающее определенное поведение; целый ряд таких расширений находится на этапе разработки. Например, некоторые возможности [расширения агента ВМ Linux](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) позволяют изменять и администрировать виртуальную машину, включая компоненты обеспечения безопасности, ядро, сетевые компоненты и т. д. Например, расширение VMAccess позволяет сбросить пароль администратора или ключ SSH.

См. [полный список расширений виртуальных машин Azure](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

<!--Anchors-->
[Использование расширения виртуальных машин Docker из интерфейса командной строки Azure (CLI Azure)]: http://azure.microsoft.com/documentation/articles/virtual-machines-docker-with-xplat-cli/
[Использование расширения виртуальных машин Docker на классическом портале Azure]: http://azure.microsoft.com/documentation/articles/virtual-machines-docker-with-portal/
[Быстрое начало работы с Docker в Azure Marketplace]: http://azure.microsoft.com/documentation/articles/virtual-machines-docker-ubuntu-quickstart/
[Контейнеры Docker и Linux]: #Docker-and-Linux-Containers
[Использование расширения виртуальных машин Docker в Azure]: #How-to-use-the-Docker-VM-Extension-with-Azure
[Расширения виртуальных машин для Linux и Windows]: #Virtual-Machine-Extensions-For-Linux-and-Windows
