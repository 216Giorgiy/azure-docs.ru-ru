Для поддержки автономных функций мобильных служб мы использовали интерфейс  `IMobileServiceSyncTable` и инициализировали  `MobileServiceClient.SyncContext` с локальным хранилищем. В этом случае локальным хранилищем была база данных SQLite.

Обычные операции CRUD для мобильных служб работают так, как если бы приложение по-прежнему подключено, но все операции выполняются с локальным хранилищем.

Когда мы хотели синхронизировать локальное хранилище с сервером, то использовали методы  `IMobileServiceSyncTable.PullAsync` и  `MobileServiceClient.SyncContext.PushAsync`.

*  Для отправки изменений на сервер мы вызвали метод  `IMobileServiceSyncContext.PushAsync()`. Этот метод является участником  `IMobileServicesSyncContext`, а не таблицы синхронизации, так как изменения будут переданы во все таблицы.

    Только те записи, которые были каким-либо образом локально изменены (с помощью операций CUD), будут отправлены на сервер.
   
* Для извлечения данных из таблицы на сервере в приложение мы вызвали метод  `IMobileServiceSyncTable.PullAsync`.

    Операции извлечения всегда предшествует операция передачи. Это позволяет убедиться, что все таблицы в локальном хранилище согласованы, как и связи между ними.

    Также существуют перегрузки  `PullAsync()`, позволяющие указать запрос, чтобы отфильтровать данные, хранящиеся на клиенте. Если запрос не передается,  `PullAsync()` извлекает все строки в соответствующей таблице (или запросе). Можно передать запрос для фильтрации только изменений, с которыми приложение должно быть синхронизировано.

* Чтобы включить добавочную синхронизацию, передайте идентификатор запроса в  `PullAsync()`. Идентификатор запроса используется для хранения метки времени последнего обновления из результатов последней операции включения внесенных изменений. Идентификатор запроса должен быть описательной строкой, которая является уникальной для каждого логического запроса в приложении. Если запрос содержит параметр, то такое же значение параметра должно быть частью идентификатора запроса.

    Например, при фильтрации по userid он должен быть частью идентификатора запроса:

        await PullAsync("todoItems" + userid, syncTable.Where(u => u.UserId = userid));

    Если вы хотите отказаться от добавочной синхронизации, передайте  `null` в качестве идентификатора запроса. В этом случае при каждом вызове  `PullAsync` будут извлекаться все записи, что потенциально неэффективно.

* Чтобы удалить записи из локального хранилища устройства, если они были удалены из базы данных мобильной службы, вам следует включить [обратимое удаление]. В противном случае приложению следует периодически вызывать  `IMobileServiceSyncTable.PurgeAsync()` для очистки локального хранилища.

<!--HONumber=42-->
