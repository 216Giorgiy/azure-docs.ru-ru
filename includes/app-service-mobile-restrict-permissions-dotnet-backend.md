

По умолчанию все запросы к ресурсам мобильного приложения из службы приложений могут отправлять только клиенты, которые представляют ключ приложения. Такой подход не предполагает полную безопасность ресурсов. Для защиты ресурсов необходимо предоставлять доступ только тем клиентам, которые прошли проверку подлинности.

1. В Visual Studio откройте проект, содержащий код вашего мобильного приложения. 

2. В обозревателе решений разверните папку «Контроллеры» и откройте файл проекта TodoItemController.cs.

	Класс **TodoItemController** реализует доступ к данным для таблицы TodoItem.

3. Добавьте следующий оператор `using` в верхнюю часть страницы кода:

		using Microsoft.Azure.Mobile.Security;

4. Примените следующий атрибут AuthorizeLevel к классу **TodoItemController**:

		[AuthorizeLevel(AuthorizationLevel.User)] 

	Это обеспечит, что только прошедший проверку пользователь сможет производить все операции с таблицей **TodoItem**.

	>[AZURE.NOTE]Примените атрибут AuthorizeLevel к отдельным методам, чтобы задать определенные уровни авторизации для методов, предоставляемых контроллером.

5. Если вы хотите выполнить локальную отладку проверки подлинности, откройте папку App_Start, откройте файл проекта WebApiConfig.cs и добавьте следующий код в метод **Register**:

		config.SetIsHosted(true);
	
	Благодаря этому локальный проект будет выполняться так, словно он размещен в Azure (включая использование параметров AuthorizeLevel). Без этого параметра все направляемые в *localhost* HTTP-запросы разрешаются без проверки подлинности без учета параметра AuthorizeLevel.

6. Повторно опубликуйте проект своего мобильного приложения.

<!---HONumber=62-->