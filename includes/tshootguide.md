#Устранение неполадок в Azure

*Устранение неполадок* относится к общим задачам поиска и понимания непредсказуемого поведения приложений с его последующим исправлением. При разработке приложений разработчики тестируют, запускают и выполняют отладку приложений перед их развертыванием в производственной среде. Это справедливо независимо от того, выполняется ли приложение на настольном компьютере или на сервере в облаке. Однако распределенные приложения с несколькими экземплярами, разработанные для поддержки масштабирования, могут быть трудны в отладке, так как требуют большего, нежели чем стандартные средства и подходы.

По этой причине облачные приложения следует разрабатывать с учетом необходимости устранения неполадок. Реализация поддержки устранения неполадок в приложении зависит прежде всего от места запуска приложения, а затем от тех языков, на которых приложение было написано, или сред выполнения, в которых оно работает. 

При создании приложения, которое выполняется на виртуальной машине Azure, во многих случаях к разработке функций устранения неполадок, а также к отладке нужно подходить так, как это делается в операционной системе, работающей на локальных серверах.

Приложения, работающие в Azure, являются широко распределенными приложениями с многочисленными экземплярами, отладка которых может стать довольно трудной задачей. Для устранения неполадок в этих приложениях требуется больше, чем стандартные средства и подходы. В этом разделе рассматриваются некоторые проверенные рекомендации по устранению неполадок и приводятся ссылки на дополнительные сведения, посвященные описанным рекомендациям.

**Примечание.** При работе с этим разделом подразумевается, что вы или разрабатываете свое приложение или успешно развернули свое приложение Azure, однако произошло что-то непредвиденное. Здесь не обсуждается, как развертывать приложение в среде Azure. Дополнительные сведения о разработке и развертывании приложения Azure см. в разделе <a href="https://www.windowsazure.com/ru-ru/develop/overview/">https://www.windowsazure.com/ru-ru/develop/overview/</a>.

Сначала в этом разделе описываются некоторые рекомендации, которые помогут разрабатывать приложения, чтобы при возникновении проблем можно было успешно устранить неполадки. (Если изначально приложение не разрабатывается с учетом последующего отслеживания потока кода, поиск причин неполадок при их возникновении может стать чрезвычайно трудной задачей.) Эти рекомендации допустимы для всех типов приложений, работающих в среде Azure, независимо от модели приложения или языка, на котором оно написано.

В следующих разделах описываются определенные подходы к разработке приложений, поддерживаемых в Azure, независимо от типа приложения: веб-сайты, облачные службы или виртуальные машины.

В каждом разделе дается высокоуровневое описание рекомендаций и приводятся указатели на ресурсы, в которых более подробно описываются рекомендации или же способы их реализации.


##В этом документе

* [Рекомендации по устранению неполадок в Azure](#BestPractices)
* [Веб-сайты Azure](#Websites)
* [Облачные службы Azure](#CloudServices)
* [Виртуальные машины Azure](#Vms)
* [Службы Azure](#PlatformServices)
* [Устранение неполадок, связанных с базами данных SQL](#SQLTroubleshooting)

<h2><a id="BestPractices"></a>Рекомендации по устранению неполадок в Azure</h2>

В этом разделе приводятся рекомендации, которые применимы к приложениям Azure независимо от модели размещения или используемого языка. Здесь приводятся ресурсы для более подробного изучения данных рекомендаций.

Чтобы сформировать основу для эффективного устранения неполадок в Azure, сосредоточьте свои усилия в трех основных перечисленных ниже областях.

-   Аккуратная обработка ошибок. *Каждая служба компонента должна выдерживать сбой зависимых служб или инфраструктуры*.
-   Трассировка, ведение журналов и мониторинг. *Каждая служба компонента должна поддерживать надлежащие возможности отладки, трассировки, регистрации событий и ошибок.*
-   Отладка ошибок при любой возможности: *перед развертыванием приложения в производственной среде, но также на уровне компонента и сети во время работы.*

Разработка приложения с учетом этих концепций позволит приложению предоставлять необходимые сведения для отслеживания неожиданного поведения при его возникновении.

###Разработка приложения для аккуратной обработки ошибок

По возможности приложения должны аккуратно обрабатывать условия ошибок. Это представляется еще более важным, учитывая распределенную природу Azure.
Эффективное устранение неполадок начинается с разработки надежной обработки временных ошибок. Временные ошибки – это одна из основных областей непредвиденного поведения облачных приложений вследствие того, что условия временных ошибок свойственны интернет-приложениям. 

Временные ошибки – это сбои, связанные с задержками и прерывающимися сетевыми подключениями вследствие общих ресурсов, размещенных в сети Интернет. Ниже приведены некоторые примеры.

-   Общие компьютерные ресурсы, такие как облачные службы Azure и база данных SQL (вот два примера), периодически могут быстрее или медленнее реагировать на запросы.
-   Задержки в скорости реагирования вследствие обеспечения устойчивости служб. Например, SQL Azure сохраняет несколько согласованных копий баз данных, чтобы обеспечить устойчивость. Это влияет на скорость реагирования.
-   Задержки, вызванные прерыванием подключений по HTTP или другим протоколам до завершения работы. Например, HTTP-запросы могут не достигать конечной точки и возвращаться до периода превышения времени ожидания.


Во избежание воздействия временных ошибок приложения Azure должны соответствовать следующим характеристикам:

-   Иметь слабые связи, чтобы компоненты не были зависимы от локальных служб, которые завершают работу с ошибкой чаще, чем в средах размещения на собственных ресурсах.
-   Выполнять по возможности асинхронные вызовы для предотвращения зависимости процессов от быстрых откликов.
-   Использовать такой подход к обработке временных ошибок, который определяет определенные категории ошибок, а затем реализует поведение повторных попыток применительно к этим ошибкам на основе настраиваемой политики повторных попыток.

Вызовы служб должны иметь или задействовать слой обработки временных ошибок для обнаружение общих сценариев ошибок и осуществления повторной попытки вызова на основе настроек конфигурации. Разработчикам .NET рекомендуется использовать библиотеку [Microsoft Enterprise Library 5.0 Integration Pack для Azure].
Библиотека Microsoft Enterprise Library является коллекцией блоков приложений, подходящих для повторного применения, которые позволяют решить многие распространенные межплатформенные проблемы в разработке корпоративных приложений. Пакет Microsoft Enterprise Library Integration Pack для Azure является расширением библиотеки Microsoft Enterprise Library 5.0, которое может использоваться в Azure. Он включает блок приложений автоматического масштабирования, блок приложений обработки временных сбоев, источник конфигурации BLOB-объектов, поставщик защищенной конфигурации и обучающие материалы. Другой, упрощенной библиотекой .NET с меньшим количеством компонентов является [Cloud Application Framework & Extensions (CloudFx)]. CloudFx предоставляет набор компонентов и структурных блоков производственного качества, предназначенных для быстрого внедрения богатых функциональными возможностями, надежных и расширяемых решений и служб на базе Azure.

###Выполнение надлежащей трассировки и ведения журналов

Вследствие сложности распределенных, масштабированных приложений работающие с одним процессом традиционные отладчики оказываются малоприменимы при устранении проблем, возникающих при выполнении вашего приложения.
Поэтому трассировка и ведение журналов являются критически важными задачами. Выполнение вашего приложения и использование его данных осуществляется сообща различными службами, которые размещены на различных машинах. При работе масштабно распределенного приложения очень трудно, практически невозможно, определить, для какого экземпляра службы следует запустить отладку. Трассировка и ведение журналов позволяют отследить выполнение приложения и поток данных, что позволит лучше понять состояние вашего приложения.

Успешно работающие приложения Azure реализуют стратегию ведения журналов и трассировки, которая с самого начала была внедрена в приложение. Это снижает время и трудозатраты, необходимые для обнаружения каких-либо проблем и быстрого их устранения без необходимости обращения за поддержкой в корпорацию Майкрософт.

**Примечание**. Расширенная запись трассировок и ведение журналов ведет к воздействию на производительность. Выполнение этих процессов интенсивно представляется более целесообразным. Поэтому ваше приложение должно включать настраиваемую политику трассировки и ведения журналов, которая может регулироваться в зависимости от потребностей. В идеале уровень ведения журналов должен регулироваться в файле **ServiceConfiguration.cscfg**, чтобы его можно было менять без необходимости в повторном развертывании.

Наличие томов журналов не гарантирует быстрого обнаружения ошибок и их исправлений; на расшифровку большого объема данных требуется длительное время, а сбор данных воздействует на производительность вашего приложения. Регулируемое ведение журналов контролирует и размер, и расходы на хранение данных журналов.

В статье журнала MSDN [Управление ведением журналов и трассировкой в Azure] Майк Келли (Mike Kelly) описывает четыре типа диагностических выходных данных, которые стоит рассматривать:

-   Отладка вывода – только в отладочной сборке, включает утверждения
-   Трассировка – отслеживает поток управления во время работы приложения
-   Ведение журнала событий – основные события при выполнении программы
-   Ведение журнала ошибок – исключительная или опасная ситуация

Другие языки, платформы приложений и операционные системы могут задействовать другую терминологию, описывающую принципы трассировки и ведения журналов. При использовании одной из этих платформ разработки для Azure воспользуйтесь аналогичной стратегией и средствами для использования языка или платформы.

Приложения смешанного режима – это приложения, которые выполняются на нескольких виртуальных машинах, веб-сайтах или облачных службах Azure. При создании приложений этого типа трассировка и ведение журналов становятся еще более важными, так как они становятся еще более распределенными. Для устранения неполадок в этих приложениях смешанного режима определение любых неполадок подразумевает необходимость отслеживания общего потока данных и выполнения. Механизм трассировки и ведения журналов в приложении смешанного режима зависит от модели размещения компонента. 

###Отслеживание приложения

Трассировка и ведение журналов включены в более общую область мониторинга. Мониторинг позволяет:

-   обнаруживать приложения Azure;
-   определять состояние каждого экземпляра роли;
-   собирать и отслеживать сведения о производительности, включая задержку и пропускную способность;
-   собирать и отслеживать события;
-   собирать и отслеживать сообщения трассировки;
-   отслеживать использование ресурсов;
-   отслеживать показатели качества обслуживания;
-   выполнять планирование производительности;
-   анализировать трафик (пользователи, просмотры, пиковое время);
-   оценивать выставление счетов;
-   проводить аудит.

Мониторинг осуществляется с помощью средства или набора средств. Какое средство будет использоваться зависит от платформы или языков, которые используются в приложении, а также от целей и требований мониторинга.

**Microsoft System Center Monitoring Pack для приложений Azure**

Этот пакет [Monitoring Pack] позволяет использовать [Microsoft System Center
Operations Manager] для отслеживания доступности и производительности приложений Azure.

Использование Microsoft System Center Operations Manager 2007 – это лучший способ отслеживания работоспособности приложения Azure.

**Средство управления платформой Azure**

Другим средством является [Средство управления платформой Azure (MMC)], которое позволяет управлять размещенными службами и учетными записями хранения Azure. Это средство предоставляется в качестве примера со всем исходным кодом, поэтому вы можете сами посмотреть, как выполняются различные задачи по управлению и настройке с использованием интерфейсов API управления и диагностики Azure.

**Средства Cerebrata**

Cerebrata предоставляет ряд средств, позволяющих отслеживать и управлять приложениями Azure. К ним относятся [Диспетчер диагностики Azure], [Cloud Storage Studio] и [командлеты управления Azure].

Диспетчер диагностики Azure 2 – это клиент на основе Windows (WPF), предназначенный для управления диагностикой Azure. Он позволяет просматривать, загружать и управлять данными диагностики, собранными приложениями, работающими в Azure. Дополнительные сведения об этих продуктах см. на сайте [http://www.cerebrata.com](http://www.cerebrata.com).

Cloud Storage Studio 2 является клиентом на основе Windows (WPF), который предназначен для управления хранилищем Azure.

Командлеты управления Azure представляют собой набор командлетов Windows PowerShell для управления хранилищем Azure, размещенными службами, экземплярами баз данных SQL и диагностикой. Кроме того, здесь также имеются командлеты для резервного копирования и восстановления учетных записей хранения.

**Мониторинг сети: AlertBot, Gomez, Keynote, Pingdom**

Приложения компании Compuware [Gomez] Application Performance Management, [Keynote], [Pingdom]
и [AlertBot] являются решениями, предназначенными для удаленного мониторинга приложений Azure. Они позволяют отслеживать доступность вашего приложения и оптимизировать его производительность. Некоторые службы, такие как Pingdom, поддерживают отправку уведомлений по электронной почте, SMS или через настольное приложение в случае обнаружения ошибки. Этот тип мониторинга симулирует действие конечного пользователя для успешного мониторинга приложения.

**Средства Apica**

Apica предоставляет средства, которые позволяют отслеживать веб-приложение Azure извне. Дополнительные сведения см. в разделе <a href="http://www.apicasystem.com/integration-partners/">http://www.apicasystem.com/integration-partners/</a>.


**AVIcode**

Корпорация Microsoft приобрела решение AVIcode, которое стало частью Microsoft System Center. [AVIcode] обеспечивает возможности мониторинга производительности приложения .NET благодаря полноценному набору средств мониторинга приложений.

**Профилирование производительности**

Можно [профилировать] приложение Azure во время его работы в среде Azure для определения любых проблем, связанных с производительностью. При публикации приложения Azure из Visual Studio можно профилировать это приложение и выбирать необходимые параметры профилирования.

**Azure VM Assistant**

Средство [VM Assistant] является проектом CodePlex, которое собирает все необходимые для устранения неполадок данные в одном месте при входе на удаленный рабочий стол экземпляра виртуальной машины. Кнопка **Работоспособность VM** позволяет оценить текущее состояние экземпляра.

###Отладка ошибок по возможности

Перед развертыванием приложения в Azure рекомендуется отладить приложение на локальных ресурсах. Azure SDK содержит эмуляторы, которые имитируют облачную среду Azure, что позволяет запускать приложения и выполнять элементарные тесты без необходимости развертывания приложения. Используемые средства отладки различаются в зависимости от используемого языка программирования и средств разработки.

После развертывания приложения можно отлаживать его в облаке с помощью такого отладчика, как Visual Studio. Для этого необходимо создание и развертывание сборки отладки. В свою очередь, для этого следует подключиться к определенному экземпляру роли. При наличии комплексного приложения с несколькими ролями и экземплярами ролей определение экземпляра роли, к которому нужно подключиться, может оказаться трудной задачей. Visual Studio Ultimate поддерживает технологию IntelliTrace, которая позволяет ролям .NET отслеживать сведения отладки. При возникновении проблемы можно загрузить эту информацию и передать ее в Visual Studio. Можно просмотреть журнал IntelliTrace каждого экземпляра роли, чтобы определить этап, на котором возникла неполадка. Хотя есть некоторые недостатки отладки в облаке, в некоторых случаях она оказывается просто незаменимой. Не все службы Azure имеют эмулятор (например, Service Bus), и не все поддерживаемые средства разработки (например, Mac и Linux) поставляются с эмуляторами. 

После отладки приложения локально, скорее всего, придется полагаться на инструментарий, встроенный в ваше приложение, который позволит определить возникновение неполадок.

**Отладка Node.js**

Для отладки приложений Node.JS можно использовать средство Node-Inspector, доступное на сайте [GitHub](https://github.com/dannycoates/node-inspector). Средство Node-Inspector может выполняться локально на машине разработки с использованием эмулятора хранилища Azure. Дополнительные сведения см. в блоге Джима Уэнга (Jim Wang): [Отладка узла в эмуляторе Azure].

При отладке приложения в среде Azure установите полную версию IISNode с [GitHub](https://github.com/windowsazure/iisnode/downloads) в веб-роли, рабочей роли или экземпляре виртуальной машины. Как уже говорилось, это не рекомендуется для отладки приложения в производственной среде после его масштабирования до нескольких экземпляров, так как вы можете не знать, на каком экземпляре роли или на какой виртуальной машине следует запускать отладчик.

Чтобы использовать Node-Inspector в веб-роли, установите пакет в веб-роли и используйте средство Node-Inspector стандартным способом. Дополнительные сведения об отладке с помощью Node-Inspector см. в разделе [Отладка с помощью Node-Inspector].

**IntelliTrace**

Microsoft Visual Studio Ultimate содержит технологию [IntelliTrace], которую можно включить для отладки приложений перед развертыванием в производственной среде.
IntelliTrace поддерживает приложения ASP.NET и WCF. Технология IntelliTrace не поддерживается, если включена в рамках производственной службы, однако может использоваться для получения исключений из приложения после развертывания в Azure. Сообщение в блоге Джима Накашимы (Jim Nakashima) описывает использование [IntelliTrace для отладки облачных служб Azure].

**Fiddler**

[Fiddler] является прокси-сервером отладки веб-приложений, который регистрирует весь трафик HTTP(S) между компьютером и Интернетом. Fiddler позволяет анализировать трафик, определять точки останова и манипулировать входящими или исходящими данными. Приложение Fiddler особенно полезно для устранения неполадок, связанных с хранилищем Azure.

Чтобы использовать Fiddler в локальной фабрике развертывания, используйте ipv4.fiddler вместо 127.0.0.1:

-   Запустите Fiddler.
-   Запустите свою службу в фабрике развертывания.
-   Откройте сайт http://ipv4.fiddler:/. Fiddler начнет трассировку запроса.

Чтобы использовать Fiddler для анализа локального хранилища развертывания, измените файл конфигурации службы для адресации на Fiddler:

Откройте файл ServiceConfiguration.cscfg и измените строку подключения на:

	Value="UseDevelopmentStorage=true;DevelopmentStorageProxyUri=http://ipv4.fiddler"

-   Запустите Fiddler.
-   Запустите службу. Fiddler начнет трассировать любые запросы к хранилищу.

##Устранение неполадок и модель размещения Azure##
В этом разделе рассматриваются рекомендации для отладки приложений с помощью различных моделей размещения Azure.
<h2><a id="Websites"></a>Веб-сайты Azure</h2>

При разработке поддерживаемого веб-сайта Azure по возможности следуйте ранее приведенным в этом документе рекомендациям. Это включает проверку на наличие любых ошибок обработки, применение логики повторного запуска после временной ошибки, трассировку и ведение журналов. Устранение неполадок на веб-сайтах Azure осуществляется путем настройки веб-сайтов для отображения ошибок приложений, настройки диагностики для веб-сайта, сбора данных диагностики и последующего анализа собранных данных для идентификации и устранения проблем.

Веб-сайты Azure поддерживают конфигурацию следующих параметров диагностики:

-   Ведение журнала веб-сервера
-   Подробные сообщения об ошибках
-   Трассировка неудачно завершенных запросов

Дополнительные сведения об этих разделах см. в разделе  [Устранение неполадок, связанных с веб-сайтом Azure].

При включении журналов веб-сервера для веб-сайтов Azure веб-сайт будет регистрировать все транзакции HTTP в файле журнала с применением [расширенного формата журнала W3C]. Затем можно использовать [средство Log Parser] для анализа файла журнала. Некоторые примеры запросов синтаксического анализа журнала доступны в разделах [Log Parser Plus] и [Примеры использования Log Parser на сайте TechNet]. Если необходимо создать тип вывода ДИАГРАММА на компьютере с Office 2007/2010, установите [веб-компоненты Office 2003] по инструкциям, приведенным в разделе [Log Parser Plus](http://logparserplus.com/article/2).

Веб-сайты Azure используют те же функциональные возможности трассировки неудачно завершенных запросов, которые доступны в IIS, начиная с версии 7.0. Однако здесь нет таких возможностей настроек, как в случае трассировки неудачно завершенных запросов в среде IIS. При включении трассировки неудачно завершенных запросов для веб-сайтов Azure регистрируются **все** неудачно завершенные запросы. 

<h2><a id="Cloudservices"></a>Облачные службы Azure</h2>

Из-за распределенной природы облачных служб Azure важно защищать приложения, асинхронно выполняя вызовы и обрабатывая повторные попытки выполнения при временных ошибках, как говорилось выше.

Методика отладки для облачных служб Azure зависит от типа возникающих проблем. Проблемы, касающиеся определенной роли или экземпляра роли, например роли, которая не запускается или находится в цикле, лучше всего изучать с помощью удаленного рабочего стола. В этих случаях вы будете знать, какая роль или какой экземпляр роли являются проблемными, и сможете подключиться к соответствующей роли. Когда возникает проблема и вы не знаете, какой экземпляр роли является причиной проблемы, трассировка и ведение журнала являются лучшим методом устранения неполадок. Диагностика Azure предоставляет механизм для сбора и управления данными трассировки и ведения журналов.

В Azure SDK 1.7 были добавлены некоторые новые компоненты, включая упрощение поиска трассировок содержимого стека при возникновении исключений, а также улучшения в подключении к удаленным рабочим столам. Трассировки содержимого стека теперь включены в журнал событий Windows, что упрощает поиск неисправностей. Кроме того, было улучшено подключение к удаленным рабочим столам. При нахождении роли в цикле или ее прерывании вы сможете использовать удаленный рабочий стол для подключения к проблемной роли с последующим изучением неполадки. 

Портал Azure предоставляет доступ для отслеживания данных, что позволяет ИТ-специалистам и разработчикам прогнозировать и диагностировать проблемы в облачных службах Azure. По умолчанию на размещенной ВМ собираются такие значения, как "Процент ЦП", "Входящие данные", "Исходящие данные", "Скорость чтения с диска", "Скорость записи на диск". Для включения этих показателей для экземпляров ролей никакой конфигурации не требуется, и они не представляют собой никаких дополнительных затрат для клиентов. Кроме того, может быть собрана дополнительная информация о производительности. Для сбора подробной диагностической информации необходимо иметь допустимую строку подключения к диагностическим данным, так как эти данные хранятся в хранилище Azure, что приводит к дополнительным затратам на хранение. Если пользователь включает подробный мониторинг, портал удаленно настраивает экземпляры ролей для сбора набора счетчиков производительности по умолчанию. 

###Диагностика Azure 

Функциональные возможности в исходном пакете Azure SDK 1.0 поддерживают сбор данных диагностики и сохранение их в хранилище Azure, что в совокупности называется диагностикой Azure. Это программное обеспечение, построенное на платформе трассировки событий для Windows (ETW), удовлетворяет два требования к проектированию, представленные в масштабируемой архитектуре Azure:

-   сохранение данных диагностики, которые могут быть утрачены при повторном создании образа экземпляра;
-   предоставление центрального репозитория для диагностики из различных экземпляров.

После настройки диагностики для роли диагностика собирает данные диагностики со всех экземпляров этой определенной роли. Данные диагностики могут использоваться для отладки и устранения неполадок, измерения производительности мониторинга использования ресурсов, анализа трафика и планирования производительности, а также в целях аудита. Передача в учетную запись хранилища Azure для сохранения может быть запланированной или по требованию.

Диагностика Azure изменяет парадигму серверной платформы с точки зрения четырех разных аспектов:

-   Диагностика должна быть включена во время создания приложения.
-   Определенные средства/действия необходимы для визуализации результатов диагностики.
-   Сбои могут привести к утрате диагностических данных, если только они не записаны в долговременном хранилище (хранилище Azure по сравнению с сохранением в пределах каждого экземпляра).
-   Хранилище диагностики приводит к повышению ежемесячных затрат при сохранении в хранилище Azure.

Цена имеет значение, потому что одним из ключевых преимуществ Azure является снижение затрат. В настоящее время единственный способ устранения затрат средствами диагностики является оставление данных на виртуальной машине.
Это может работать при небольшом развертывании, но не является практичным при наличии большого количества экземпляров. Ниже приведены несколько способов снижения финансового воздействия.

-   Убедитесь в том, что учетная запись хранения находится в том же центре обработки данных, что и ваше приложение. Если по какой-либо причине они не находится в одном центре обработки данных, выберите оптимальный интервал запланированных передач данных. Более короткое время передачи увеличит релевантность данных, однако это может оказаться недостаточным для обоснования дополнительных накладных расходов на пропускную способность и обработку.
-   Периодически копируйте и очищайте диагностические данные в хранилище Azure. Диагностические данные будут передаваться через хранилище Azure, но не обязательно будут там сохраняться. Для этого существует ряд инструментов: пакет System Center Monitoring Pack для Azure, Cerebrata Azure Diagnostics Manager и командлеты Azure PowerShell.
-   Выберите только те диагностические данные, которые понадобятся вам для устранения неполадок и мониторинга вашего приложения. Захват слишком большого объема данных может усложнить устранение неполадок в дополнение к значительно более высоким затратам.
-   Управляйте сбором и расширением данных диагностики путем реализации в своем приложении переключателя, срабатывающего по требованию.
-   Используйте уровень ведения журнала (подробный, информация, предупреждения, ошибки), чтобы была доступной вся информация, затем используйте конфигурацию диагностики после развертывания для выборочного сбора данных.

<h2><a id="Vms"></a>Виртуальные машины Azure</h2>

Устранение неполадок в приложениях, работающих на виртуальных машинах Azure, как правило, связано с теми же методами устранения неполадок, которые будут использоваться в операционных системах и платформах. Например:

-   Windows Server 2008 R2 x64 (RTM и SP1); Windows 8 Service x64 (Datacenter и Core). Существует большой объем сведений, доступных по этой теме, а также различные средства, что позволит вам быстро решить поставленную задачу.

-   Дополнительные сведения об этих подходах см. в разделе [Инструкции по отладке приложений служб Windows].

-   Видео, демонстрирующие лучшие методы работы, см. в разделе [Презентация Дэниеля Пирсона (Daniel Pearson) по отладке и устранению неполадок в Windows].

-   Откройте Suse Linux. Кроме того, существует множество ресурсов, посвященных устранению неполадок в приложениях, работающих на базе ОС Suse Linux, которые содержатся как в [документации по Suse Linux], так и в Интернете.
-   Ubuntu Linux. И здесь можно найти огромное количество справочных данных. Чтобы начать работу с документацией по продукту, изучите раздел [https://help.ubuntu.com/](https://help.ubuntu.com/).
-   CentOS Linux. Дополнительные сведения см. в разделе [http://centos.org/](http://centos.org/).

<h2><a id="PlatformServices"></a>Устранение неполадок, связанных со службами Azure</h2>

Многие службы Azure, такие как база данных SQL Azure, Azure Active Directory и хранилище Azure, содержат советы по устранению неисправностей, которые типичны для использования конкретной службы независимо от того, работает ли приложение в среде Azure, с помощью каких языков программирования и библиотек оно было разработано и в какой операционной системе (Microsoft или нет) оно выполняется. Ниже приведены советы и рекомендации для некоторых из этих служб.

Существуют многие поддерживаемые библиотеки, реализующие рекомендации для асинхронных вызовов, трассировки и ведения журнала событий, как описано в части этого документа, посвященной разработке.

####Устранение неполадок, связанных с хранилищем Azure

В приведенных ниже ссылках обсуждаются методы и рекомендации по устранению неполадок, а также расположения, куда следует добавлять трассировку или ведение журналов.

- Состояние хранилища и коды ошибок: [http://msdn.microsoft.com/ru-ru/library/windowsazure/dd179382.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/dd179382.aspx)

- Аналитика хранилища: [http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-analytics.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-analytics.aspx) (см. три ссылки "Дополнительные сведения" в конце документа).

- Обзор политик повторного выполнения в клиентской библиотеке хранилища Azure: [http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/03/overview-of-retry-policies-in-the-windows-azure-storage-client-library.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/03/overview-of-retry-policies-in-the-windows-azure-storage-client-library.aspx)

- Эффективное использование таблицы Azure: [http://blogs.msdn.com/b/windowsazurestorage/archive/2010/11/06/how-to-get-most-out-of-windows-azure-tables.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/11/06/how-to-get-most-out-of-windows-azure-tables.aspx)

	- Ознакомьтесь со следующими разделами: "Рекомендации", "Советы по программированию в Azure" и "Таймауты и занятость сервера – нормально ли это?".

- Защита BLOB-объектов от ошибок в приложениях: [http://blogs.msdn.com/b/windowsazurestorage/archive/2010/04/30/protecting-your-blobs-against-application-errors.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/04/30/protecting-your-blobs-against-application-errors.aspx)

**Обучающие ресурсы для хранилища Azure**

Существует несколько способов ознакомления с хранилищем Azure. Группа, занимающаяся хранилищем Azure, сформировала [список обучающих ресурсов для хранилища]. Любой из этих обучающих ресурсов позволит просмотреть файлы диагностики и файлы аналитики хранилища Azure. Приложение Cloudberry Lab [Explorer for Azure Blob Storage] обеспечивает пользовательский интерфейс, с помощью которого можно использовать аналитику хранилища непосредственно в приложении, щелкнув **Параметры хранилища**.

<h2><a id="Misc"></a>Устранение неполадок Azure Service Bus</h2>

В этом разделе приведено высокоуровневое руководство по разработке приложения, которое использует Azure Service Bus надежным способом, допускающим обслуживание, что позволяет снизить до минимума возникновение распространенных неполадок. Кроме того, здесь также содержатся сведения о распространенных ошибках учетных данных и адресов Service Bus.

###Общее руководство

Service Bus является [корпоративной шиной обслуживания] в Интернете, которая поддерживает функциональные возможности ретрансляции и обмена сообщениями. Service Bus реализует квоты и пороговые значения на системном уровне для обоих типов обмена сообщениями. Если приложение превышает эти квоты, оно перейдет в регулируемый режим, а ваши запросы или сообщения будут отклонены. Полные сведения о квотах Service Bus и поведении, которое наблюдается при их превышении, см. в разделе [Квоты Azure Service Bus]. Некоторые квоты задаются пользователем, например размер очереди или раздела, который определяется при создании сущности.

Для представления данных в сущности обмена сообщений Service Bus, а также изучения обработки этих данных можно использовать [Service Bus Explorer] или Server Explorer в средствах Azure для Visual Studio (версия 1.7 и выше), которые позволяют создавать, удалять и тестировать очереди, разделы, подписки и правила. Это отличный способ устранения неполадок в приложении, которое выполняется, но не обрабатывает данные должным образом. Эти средства включают функции, которые позволяют тестировать очереди, разделы и сущности ретрансляции, выполнять трассировку операций, выполняемых отдельным отправителем, а также задачи получателя, отслеживать ход выполнения и производительность текущего тестирования, а также создавать подробные журналы результатов, включающие любые сообщения об ошибках.

###Ретрансляция Service Bus

Служба ретрансляции Service Bus выполняется в облаке и поддерживает различные транспортные протоколы и стандарты веб-служб, включая SOAP, WS-\* и REST. Можно использовать ретрансляцию Service Bus в качестве делегата для прослушивания входящих сеансов и запросов, отправленных службе WCF. В шаблоне ретранслируемого обмена сообщениями локальная или облачная служба подключается к службе ретрансляции через исходящий порт и создает двунаправленный сокет для связи с привязкой к конкретному встречному адресу. Клиент не должен знать, где расположена служба, а для работы локальной службы не требуется открытие портов на брандмауэре. Тем не менее, в зависимости от конфигурации сети могут возникнуть проблемы при подключении к ретрансляции Service Bus через брандмауэр или прокси-сервер. В разделе [Размещение за брандмауэром с Service Bus] описывается, как устранять неполадки и решать подобные проблемы с подключением.

###Очереди и разделы Service Bus

Очереди и разделы Service Bus предоставляют функциональную возможность управляемого обмена сообщениями. Сообщения передаются в очередь или раздел Service Bus, где они надежно сохраняются, пока получатель не будет готов их принять. Отправители и получатели сообщений не должны находиться в сети одновременно; инфраструктура обмена сообщениями надежно сохраняет сообщения, пока принимающая сторона не готова будет их получить. В интерфейсе API для обмена сообщениями могут возникать различные ошибки, которые окажут влияние на ваше приложение. Эти ошибки можно в широком смысле сгруппировать по следующим категориям:

-   Пользовательские ошибки, например код, указывающий, что аргумент был недопустимым.
    Рекомендуемое действие: прежде чем продолжить, попытайтесь исправить код.
-   Ошибка установки/конфигурации, например очередь или раздел, связанные с действием, не существуют или были удалены. Рекомендуемое действие: проверьте конфигурацию и измените ее при необходимости.
-   Временная ошибка, например ответ, который указывает, что служба не смогла обработать запрос в текущее время. Рекомендуемое действие: повторите выполнение операции или уведомьте пользователей. Дополнительные сведения см. в разделе [Обработка временных ошибок связи].
-   Прочие ошибки, например ошибки истечения времени ожидания или ошибки, указывающие, что блокировка сообщения была утрачена. Рекомендуемое действие: как правило, для выполнения очисток или прерываний эти исключения не обрабатываются. Они могут использоваться для трассировки.

В разделе [Исключения в обмене сообщениями] приведен обзор исключений, которые могут возникнуть у пользователей клиентских библиотек Service Bus для .NET, а также даны рекомендации по обработке каждого типа исключения. Поскольку клиентские библиотеки для .NET близко соответствуют библиотекам Service Bus для других языков программирования, это руководство может оказаться полезным, даже если вы не программируете на языке .NET. Например, в некоторых случаях возникновения временных ошибок можно повторно выполнить действие. Можно придерживаться ранее упомянутому в этой статье руководству по обработке временных ошибок, чтобы эффективно обрабатывать временные ошибки. Кроме того, чтобы получить дополнительные сведения, рекомендации и примеры кода, в которых демонстрируется, как обрабатывать временные ошибки Service Bus в приложении .NET, ознакомьтесь с разделом [Обработка временных ошибок связи] в статье руководства разработчика Azure [Советы и рекомендации по использованию интерфейса API управляемого обмена сообщениями Azure Service Bus].

Другая область, которой следует уделять внимание при разработке приложения, где используется управляемый обмен сообщениями, — это обеспечение реализации надежной логики получения сообщений, которая сможет точно и эффективно обрабатывать аномалии в сообщениях.
В разделе "Внедрение надежных циклов получения сообщений" статьи [Советы и рекомендации по использованию интерфейса API управляемого обмена сообщениями Azure Service Bus] описывается ряд методов использования режима приема **PeekLock**, который является режимом поддерживающим несколько доставок сообщений, если сообщение не было успешно доставлено при первой попытке.
В этой статье приведены рекомендации, которые позволят реализовать в приложении блокировку обработки дублированных сообщений. В ней также даются советы по устранению проблем, которые могут возникать в связи с тайм-аутами блокировки, а также по повышению общей производительности режима **PeekLock** путем внедрения своевременной обработки сообщений. В этой статье также приводится пример кода, в котором задействуются клиентские библиотеки Service Bus для .NET.

###Дополнительные ресурсы по устранению неполадок

Дополнительные сведения о наиболее распространенных ошибках Service Bus и способах их обнаружения и устранения см. в разделе [Устранение неполадок, связанных с Service Bus].


##Устранение неполадок, связанных с службой Azure Active Directory Access Control Service (ACS)

-   Коды ошибок:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/gg185949.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/gg185949.aspx)
-   Ограничения службы ACS:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/gg185909.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/gg185909.aspx)

<h2><a id="SQLTroubleshooting"></a>Устранение неполадок, связанных с базой данных Azure SQL</h2>

При взаимодействии с базой данных Azure SQL необходимо предпринять дополнительные меры предосторожности для учета распределенного характера приложений баз данных Azure SQL. В этом разделе рассматриваются несколько областей, которые заслуживают особого внимания. Список отнюдь не является исчерпывающим. Ключевым аспектом написания поддерживаемого кода для баз данных Azure SQL является изучение кодов возврата и обеспечение наличия надежных кодов повторного выполнения для обработки ошибок.

Ваше приложение должно правильно обрабатывать ошибки входа. Экземпляры базы данных SQL нуждаются в использовании проверки подлинности SQL. Если невозможно выполнить успешный вход, ваши учетные данные являются недопустимыми или запрошенная база данных недоступна.

Ваше приложение должно обрабатывать отсутствие доступа к службе. Если сервер уже подготовлен и служба баз данных Azure SQL доступна (это можно проверить на странице [Состояние работоспособности Azure]), вероятной причиной являются проблемы с конфигурацией локальной установки. Например, может не удастся разрешить имя (это можно проверить с помощью таких средств, как tracert), брандмауэр может блокировать порт 1433, который используется базой данных SQL или может использоваться прокси-сервер, не настроенный надлежащим образом. Используйте те же способы для устранения подобных трудностей, которые используются и для SQL Server. Дополнительные сведения см. в руководстве [Устранение неполадок, связанных с подключением к SQL] и [Устранение неполадок, связанных с базами данных SQL].

Ваше приложение должно обрабатывать общие сетевые ошибки. Общие сетевые ошибки могут возникать, потому что база данных Azure SQL может отключать пользователей при следующих обстоятельствах:

-   подключение неактивно в течение длительного периода времени;
-   подключение потребляет избыточное количество ресурсов или слишком долго удерживает транзакцию;
-   сервер слишком занят;

Чтобы повысить производительность в базе данных Azure SQL, используйте те же методы, которые используются в SQL Server. Дополнительные сведения см. в следующих разделах:

-   [Устранение неполадок, связанных с очередями] в электронной документации по SQL Server
-   [Устранения неполадок и оптимизация очередей в базе данных SQL]
-   [Вопросы производительности базы данных SQL и устранение неполадок]
-   [Повышение производительности ввода/вывода]
-   [Пакет System Center Monitoring Pack для баз данных SQL]

База данных Azure SQL использует поднабор сообщений об ошибках SQL Server. Дополнительные сведения об ошибках SQL Server см. в разделе [Ссылки на ошибки и события (ядро СУБД)] в электронной документации по SQL Server.

Если требуется восстановить имена входа и пароли, обратитесь к администратору службы, который может предоставить права доступа к серверу и базе данных. Администраторы служб также могут сбрасывать собственные пароли с помощью портала управления Azure.

Запросы к базе данных SQL могут завершиться с ошибкой по различным причинам: плохо сформированный запрос, сетевые проблемы и т. д. Некоторые ошибки являются временными, т. е. проблема часто исчезает сама собой. Для этого поднабора ошибок имеет смысл повторно выполнить запрос через короткий промежуток времени. Если запрос все также завершается с ошибкой после нескольких попыток, необходимо сообщить об ошибке. Конечно, не все ошибки являются временными. Ошибка SQL 102 "Неправильный синтаксис" не исчезнет независимо от количества повторных отправок того же запроса. В целом внедрение надежной логики повторных попыток должно быть тщательно продумано. Маркер ошибки потока табличных данных отправляется по возможности до отключения пользователей. Чтобы улучшить взаимодействие с приложением, рекомендуется внедрить в свои приложения базы данных SQL логику повторных выполнений для перехвата этих ошибок. При возникновении ошибки повторно создайте подключение, затем повторите выполненные с ошибкой команды или запрос. Дополнительные сведения см. по следующим ссылкам:

-   [Логика повторных выполнений для временных ошибок в базе данных SQL]
-   [Пример логики повторения выполнения в базе данных SQL]
-   [Блок приложения для обработки временной ошибки]

###Стратегия резервного копирования и восстановления Azure SQL

База данных Azure SQL нуждается в собственной стратегии резервного копирования и восстановления вследствие доступной среды и средств. Во многих случаях риски устранялись расположением баз данных в центрах обработки данных Майкрософт. Средства, которые мы задействуем сегодня, охватывают прочие факторы риска, однако вскоре будут доступны еще более совершенные средства, которые значительно упростят работу. Red gate недавно опубликовала бесплатное средство для резервного копирования и восстановления баз данных SQL, которое можно найти здесь: [http://www.red-gate.com/products/dba/sql-azure-backup/](http://www.red-gate.com/products/dba/sql-azure-backup/).

Синхронизация данных SQL позволяет легко создавать и планировать двунаправленные синхронизации на веб-сайте синхронизации данных без необходимости составления хотя бы одной строки кода. Дополнительные сведения можно найти здесь:[http://msdn.microsoft.com/ru-ru/library/windowsazure/hh456371.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/hh456371.aspx).

Дополнительные сведения о стратегии резервного копирования и восстановления баз данных SQL см. в следующих статьях:

-   В этом разделе приведен обзор стратегий резервного копирования и восстановления баз данных SQL:
    [http://social.technet.microsoft.com/wiki/contents/articles/1792.sql-azure-backup-and-restore-strategy.aspx](http://social.technet.microsoft.com/wiki/contents/articles/1792.sql-azure-backup-and-restore-strategy.aspx)
-   В этом разделе объясняется, как выполнить резервное копирование базы данных в другую базу данных на том же сервере:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/ff951631.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/ff951631.aspx)
-   В этом разделе объясняется, как экспортировать существующий экземпляр базы данных SQL в BLOB-объект определенной учетной записи хранения:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/hh335292.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/hh335292.aspx)
-   В этом разделе объясняется, как импортировать существующий экземпляр базы данных SQL из файла BACPAC, хранящегося в BLOB-объекте:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/hh335291.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/hh335291.aspx)
-   В этом разделе описаны возможности обеспечения непрерывности бизнеса с помощью баз данных SQL:
    [http://msdn.microsoft.com/ru-ru/library/windowsazure/hh852669.aspx](http://msdn.microsoft.com/ru-ru/library/windowsazure/hh852669.aspx)

<h2><a id="Cache"></a>Azure Caching</h2>
Кэширование Azure Caching бывает двух видов: Azure Shared Caching и кэширование Azure Caching на основе ролей (предварительная версия). Shared Caching является многопользовательской службой Azure, которая предоставляет услуги кэширования. Azure Caching (предварительная версия) поддерживает функции кэширование в виде роли с помощью части памяти виртуальных машин, где хранятся экземпляры роли. Для устранения неполадок, связанных с Azure Caching, понаблюдайте за поведением кэша, проверяя коды ошибок и перехватывая исключения. При использовании кэширования на основе ролей (предварительная версия) можно также использовать счетчики производительности. В целом проблемы кэширования можно отнести к одной из следующих категорий:

- 	Ошибки, связанные с квотами, — квота была превышена (Shared Caching)
- 	Регулирование — возникает, когда не хватает физической памяти, для поддержки дополнительных кэшированных элементов
- 	Удаление — элементы принудительно удаляются для освобождения места под новые элементы, но при этом страдает производительность приложения
- 	Срок действия — срок действия задается слишком коротким или слишком длинным

Дополнительные сведения об ошибках, связанных с квотами, см. в разделах [Общие сведения о квотах].





















[Пакет Monitoring Pack]: http://www.microsoft.com/download/en/details.aspx?id=11324
[Microsoft System Center Operations Manager]: http://www.microsoft.com/ru-ru/server-cloud/system-center/operations-manager.aspx
[Средство управления платформой Azure (MMC)]: http://wapmmc.codeplex.com/
[Диспетчер диагностики Azure]: http://cerebrata.com/Products/AzureDiagnosticsManager/
[Cloud Storage Studio]: http://cerebrata.com/Products/CloudStorageStudio/
[Командлеты управления Azure]: http://cerebrata.com/Products/AzureManagementCmdlets/
[Gomez]: http://www.compuware.com/application-performance-management/
[Keynote]: http://www.keynote.com/solutions/
[Pingdom]: http://pingdom.com/
[AlertBot]: http://www.alertbot.com/products/website-monitoring/default.aspx
[IntelliTrace]: http://msdn.microsoft.com/ru-ru/library/dd264915.aspx
[задача при запуске]: http://msdn.microsoft.com/ru-ru/library/gg456327.aspx
[AVIcode]: http://www.microsoft.com/ru-ru/server-cloud/system-center/avicode.aspx
[профилировать]: http://msdn.microsoft.com/ru-ru/library/windowsazure/hh369930.aspx
[VM Assistant]: http://azurevmassist.codeplex.com/
[Отладка узла в эмуляторе Azure]: http://weblogs.asp.net/jimwang/archive/2012/04/17/debugging-node-node-inspector-in-the-azure-emulator.aspx
[Отладка с помощью Node-Inspector]: http://howtonode.org/debugging-with-node-inspector

[IntelliTrace для отладки облачных служб Azure]: http://blogs.msdn.com/b/jnak/archive/2010/06/07/using-intellitrace-to-debug-windows-azure-cloud-services.aspx

[Устранение неполадок, связанных с веб-сайтом Azure]: /ru-ru/develop/net/best-practices/troubleshooting-web-sites/
[расширенного формата журнала W3C]: http://go.microsoft.com/fwlink/?LinkID=90561
[Средство Log Parser]: http://go.microsoft.com/fwlink/?LinkId=246619
[Log Parser Plus]: http://logparserplus.com/Examples
[Примеры использования Log Parser на сайте TechNet]: http://technet.microsoft.com/ru-ru/library/ee692659.aspx
[веб-компоненты Office 2003]: http://www.microsoft.com/downloads/en/details.aspx?familyid=7287252C-402E-4F72-97A5-E0FD290D4B76&displaylang=enBlockquote
[Инструкции по отладке приложений служб Windows]: http://msdn.microsoft.com/ru-ru/library/7a50syb3%28v=vs.90%29.aspx
[Презентация Дэниеля Пирсона (Daniel Pearson) по отладке и устранению неполадок в Windows]: http://technet.microsoft.com/ru-ru/edge/Video/hh867800
[документации по Suse Linux]: https://www.suse.com/documentation/
[список обучающих ресурсов для хранилища]: http://blogs.msdn.com/b/windowsazurestorage/archive/2010/04/17/windows-azure-storage-explorers.aspx
[Обозреватель хранилища Blob-объектов Azure]: http://www.cloudberrylab.com/free-microsoft-azure-explorer.aspx
[корпоративной шиной обслуживания]: http://en.wikipedia.org/wiki/Enterprise_service_bus
[Квоты Azure Service Bus]: http://msdn.microsoft.com/ru-ru/library/windowsazure/ee732538.aspx
[Service Bus Explorer]: http://code.msdn.microsoft.com/Service-Bus-Explorer-f2abca5a
[Размещение за брандмауэром с Service Bus]: http://msdn.microsoft.com/ru-ru/library/windowsazure/ee706729.aspx
[Обработка временных ошибок связи]: http://msdn.microsoft.com/ru-ru/library/hh851746(VS.103).aspx
[Исключения в обмене сообщениями]: http://msdn.microsoft.com/ru-ru/library/hh418082.aspx
[Обработка временных ошибок связи]: http://msdn.microsoft.com/ru-ru/library/hh851746(VS.103).aspx
[Советы и рекомендации по использованию интерфейса API управляемого обмена сообщениями Azure Service Bus]: http://msdn.microsoft.com/ru-ru/library/windowsazure/hh545245.aspx
[Устранение неполадок, связанных с Service Bus]: http://msdn.microsoft.com/ru-ru/library/windowsazure/ee706702.aspx
[Состояние работоспособности Azure]: http://go.microsoft.com/fwlink/p/?LinkId=168847
[Устранение неполадок, связанных с подключением к SQL]: http://social.technet.microsoft.com/wiki/contents/articles/sql-azure-connectivity-troubleshooting-guide.aspx
[Устранение неполадок, связанных с базами данных SQL]: http://msdn.microsoft.com/ru-ru/library/ee730906.aspx
[Устранение неполадок, связанных с очередями]: http://msdn.microsoft.com/ru-ru/library/ms186351(SQL.100).aspx
[Устранения неполадок и оптимизация очередей в базе данных SQL]: http://social.technet.microsoft.com/wiki/contents/articles/1104.troubleshoot-and-optimize-queries-with-sql-azure.aspx
[Вопросы производительности базы данных SQL и устранение неполадок]: http://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI314
[Повышение производительности ввода/вывода]: http://blogs.msdn.com/b/sqlazure/archive/2010/07/27/10043069.aspx?PageIndex=2#comments
[Пакет System Center Monitoring Pack для баз данных SQL]: http://www.microsoft.com/ru-ru/download/details.aspx?id=10631
[Ссылки на ошибки и события (ядро СУБД)]: http://go.microsoft.com/fwlink/p/?LinkId=166622
[Логика повторных выполнений для временных ошибок в базе данных SQL]: http://social.technet.microsoft.com/wiki/contents/articles/4235.retry-logic-for-transient-failures-in-sql-azure.aspx
[Пример логики повторения выполнения в базе данных SQL]: http://code.msdn.microsoft.com/windowsazure/SQL-Azure-Retry-Logic-2d0a8401
[Блок приложения для обработки временной ошибки]: http://msdn.microsoft.com/ru-ru/library/hh680934(PandP.50).aspx
[Microsoft Enterprise Library 5.0 Integration Pack для Azure]: http://msdn.microsoft.com/ru-ru/library/hh680918%28v=pandp.50%29.aspx
[Управление ведением журналов и трассировкой в Azure]: http://msdn.microsoft.com/ru-ru/magazine/ff714589.aspx
[Cloud Application Framework & Extensions (CloudFx)]: http://nuget.org/packages/Microsoft.Experience.CloudFx
[Fiddler]: http://www.fiddler2.com/fiddler2/
[Общие сведения о квотах]: http://msdn.microsoft.com/ru-ru/library/gg185683.aspx
[Устранение неполадок, связанных с кэшем]: http://go.microsoft.com/fwlink/?LinkId=252730 

