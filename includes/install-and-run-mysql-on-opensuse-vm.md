1.  Чтобы передать права, выполните следующую команду:

        sudo -s

    Введите пароль.

2.  Выполните следующую команду, чтобы установить MySQL Community Server:

        # zypper install mysql-community-server

    Подождите, пока MySQL загрузится и установится.

3.  Чтобы настроить MySQL для запуска при загрузке системы, выполните следующую команду:

        # insserv mysql

4.  Теперь можно вручную запустить управляющую программу MySQL (mysqld) с помощью следующей команды:

        # rcmysql start

    Чтобы проверить состояние управляющей программы MySQL, выполните следующую команду:

        # rcmysql status

    Чтобы остановить управляющую программу MySQL, выполните следующую команду:

        # rcmysql stop

5.  Внимание! После установки MySQL корневой пароль пустой по умолчанию. Рекомендуется выполнить скрипт **mysql\_secure\_installation**, который помогает защитить MySQL. При выполнении скрипта **mysql\_secure\_installation** вы получите запросы на изменение корневого пароля MySQL, удаление анонимных учетных записей, отключение удаленного входа с учетными данными привилегированного пользователя, удаление тестовых баз данных и перезагрузку таблицы привилегий. Рекомендуется ответить "да" на все запросы и изменить корневой пароль. Выполните следующую команду, чтобы запустить скрипт:

        $ mysql_secure_installation

6.  После выполнения скрипта вы можете войти в MySQL:

        $ mysql -u root -p

    Введите корневой пароль MySQL (который был изменен на предыдущем шаге), чтобы открыть командное окно, в котором можно вводить инструкции SQL для взаимодействия с базой данных.

7.  Чтобы создать нового пользователя MySQL, выполните следующую команду в командной строке **mysql\>**:

        mysql> CREATE USER 'mysqluser'@'localhost' IDENTIFIED BY 'password';

    Обратите внимание, что точка с запятой в конце строки является символом завершения команды.

8.  Чтобы создать базу данных и предоставить `mysqluser` разрешения пользователю, выполните следующие команды:

        mysql> CREATE DATABASE testdatabase;
        mysql> GRANT ALL ON testdatabase.* TO 'mysqluser'@'localhost' IDENTIFIED BY 'password';

    Обратите внимание, что имена пользователей и пароли для базы данных используются только скриптами, подключающимися к базе данных. Имена учетных записей базы данных могут не совпадать с учетными записями системы.

9.  Чтобы войти с другого компьютера, выполите следующую команду:

        mysql> GRANT ALL ON testdatabase.* TO 'mysqluser'@'<ip-address>' IDENTIFIED BY 'password';

    где `ip-address` — это IP-адрес компьютера, с которого осуществляется подключение к MySQL.

10. Чтобы выйти из программы администрирования базы данных MySQL, выполите следующую команду:

        quit

11. После установки MySQL необходимо настроить конечную точку для удаленного доступа к MySQL. Выполните вход на [портал управления Azure][портал управления Azure]. На портале управления Azure щелкните **Виртуальные машины** и выберите имя новой виртуальной машины, а затем щелкните **Конечные точки**.

    ![Конечные точки][Конечные точки]

12. Щелкните **Добавить конечную точку** в нижней части страницы.
    ![Endpoints][Endpoints]

13. Добавьте конечную точку с именем "MySQL", протоколом **TCP** и портами **Общий** и **Частный** со значением "3306". Это позволит получать удаленный доступ к MySQL.
    ![Endpoints][1]

14. Для удаленного подключения к MySQL на виртуальной машине OpenSUSE в Azure выполните следующую команду на локальном компьютере:

        mysql -u mysqluser -p -h <yourservicename>.cloudapp.net

    Например, при использовании виртуальной машины, созданной в этом руководстве, команда должна быть такой:

        mysql -u mysqluser -p -h testlinuxvm.cloudapp.net

15. Вы успешно настроили MySQL, создали базу данных и нового пользователя. Дополнительные сведения о MySQL см. в [документации по MySQL][документации по MySQL].

  [портал управления Azure]: http://manage.windowsazure.com
  [Конечные точки]: ./media/install-and-run-mysql-on-opensuse-vm/LinuxVmAddEndpoint.png
  [Endpoints]: ./media/install-and-run-mysql-on-opensuse-vm/LinuxVmAddEndpoint2.png
  [1]: ./media/install-and-run-mysql-on-opensuse-vm/LinuxVmAddEndpointMySQL.png
  [документации по MySQL]: http://dev.mysql.com/doc/
