<h2><a name="what-are-service-bus-topics"></a>Что такое разделы и подписки служебной шины</h2>

Service Bus topics and subscriptions support a Разделы и подписки служебной шины поддерживают модель **обмена сообщениями публикации/подписки**. При использовании разделов и подписок компоненты распределенного приложения не взаимодействуют между собой напрямую, а обмениваются сообщениями через раздел, который выступает в качестве посредника.

![TopicConcepts](./media/howto-service-bus-topics/sb-topics-01.png)

В отличие от очередей служебной шины, где каждое сообщение обрабатывается одним потребителем, разделы и подписки предоставляют вид связи **один ко многим** с помощью шаблона публикации/подписки. Можно зарегистрировать несколько подписок на раздел. Когда сообщение отправляется в раздел, оно затем может обрабатываться независимо каждой подпиской.

Раздел подписки напоминает виртуальную очередь, которая получает копии сообщений, отправленных в раздел. Вы можете зарегистрировать правила фильтрации для раздела на основе подписки, которые позволят указать, какие сообщения и от каких подписок могут быть получены разделом.

Разделы и подписки Service Bus обеспечивают возможность масштабирования для обработки очень большого количества сообщений для очень большого количества пользователей и приложений.

<h2><a name="create-a-service-namespace"></a>Создание пространства имен службы</h2>

Чтобы начать использование разделов и подписок служебной шины в Azure, необходимо сначала создать пространство имен службы. Это пространство имен службы предоставляет контейнер для адресации ресурсов служебной шины в вашем приложении.

Создание пространства имен службы:

1.  Выполните вход на [портал управления Azure][].

2.  В левой области навигации портала управления щелкните
    **Служебная шина**.

3.  В нижней части портала управления нажмите кнопку **Создать**.   
    ![][0]

4.  В диалоговом окне **Добавить новое пространство имен** введите имя пространства имен.
    Система немедленно проверяет, доступно ли оно.   
    ![][2]

5.  Убедившись, что имя пространства имен доступно, выберите страну или регион, в котором будет размещено ваше пространство имен (необходимо указать страну и регион развертывания своих вычислительных ресурсов).

	ВАЖНО! Выберите **регион**, в котором будет развернуто ваше приложение. Это обеспечит наилучшую производительность.

6. 	Оставьте в остальных полях диалогового окна значений по умолчанию (**Обмен сообщениями** и **Уровень Standard**), затем установите флажок. Теперь система создает пространство имен службы и включает его. Вероятно, придется подождать несколько минут, пока система не выделит ресурсы для вашей учетной записи.

	![][6]


<h2><a name="obtain-default-credentials"></a>Получение учетных данных управления по умолчанию для пространства имен</h2>

Для выполнения операций управления, таких как создание раздела или подписки в новом пространстве имен, необходимо получить учетные данные управления для пространства имен. Эти учетные данные можно получить с портала управления или из обозревателя серверов Visual Studio.

###Получение учетных данных управления с портала

1.  В левой области навигации щелкните узел **Служебная шина**, чтобы отобразить список доступных пространств имен:    ![][0]

2.  Выберите пространство имен, которое вы только что создали из появившегося списка:    ![][3]

3.  Щелкните **Сведения о подключении**.    ![][4]

4.  В диалоговом окне **Сведения по доступу к подключению** найдите записи **Издатель по умолчанию** и **Ключ по умолчанию**. Запишите эти значения, они понадобятся вам в дальнейшем для выполнения операций с пространством имен. 

###Получение учетных данных управления с обозревателя серверов

Чтобы получить сведения о подключении с помощью Visual Studio, а не портала управления, выполните процедуру, описанную [здесь](http://http://msdn.microsoft.com/ru-ru/library/windowsazure/ff687127.aspx), в разделе **Подключение к Azure из Visual Studio**. При входе в Azure узел **Service Bus** в дереве **Microsoft Azure** в обозревателе серверов автоматически заполняется уже созданными пространствами имен. Щелкните правой кнопкой мыши любое пространство имен и выберите **Свойства**, чтобы увидеть строку подключения и другие метаданные, связанные с этим пространством имен, которые отображаются в области **Свойства** Visual Studio. 

Запишите значение **SharedAccessKey** или скопируйте его в буфер обмена.

![][34]

 
  [Портал управления Azure]: http://manage.windowsazure.com
  [0]: ./media/howto-service-bus-topics/sb-queues-13.png
  [2]: ./media/howto-service-bus-topics/sb-queues-04.png
  [3]: ./media/howto-service-bus-topics/sb-queues-09.png
  [4]: ./media/howto-service-bus-topics/sb-queues-06.png
  
  [6]: ./media/howto-service-bus-topics/getting-started-multi-tier-27.png
  [34]: ./media/howto-service-bus-topics/VSProperties.png

<!--HONumber=42-->
