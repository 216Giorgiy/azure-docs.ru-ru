## <a name="test-your-code"></a>Тестирование кода

Чтобы запустить проект, в Visual Studio, выберите **F5**. Приложение **MainWindow** отображается, как показано ниже:

![Тестирование приложения](./media/active-directory-develop-guidedsetup-windesktop-test/samplescreenshot.png)

При первом запуске приложения и выберите **вызова API Graph Microsoft** кнопку, появится запрос на вход. Используйте учетную запись Azure Active Directory (рабочая или учебная учетная запись) или учетной записи Майкрософт (live.com, outlook.com), для его тестирования.

![Вход в приложение](./media/active-directory-develop-guidedsetup-windesktop-test/signinscreenshot.png)

### <a name="provide-consent-for-application-access"></a>Предоставить разрешения для доступа к приложениям
При первом входе в приложение, также появится запрос для предоставления согласия разрешить приложению доступ к профиль и вход в, как показано ниже: 

![Предоставить разрешения пользователя для доступа к приложениям](./media/active-directory-develop-guidedsetup-windesktop-test/consentscreen.png)

### <a name="view-application-results"></a>Просмотр результатов приложения
После входа вы увидите сведения о профиле пользователя, который возвращается вызовом Microsoft Graph API. Результаты отображаются в **результатов вызова API** поле. Основные сведения о маркере, приобретенной через вызов `AcquireTokenAsync` или `AcquireTokenSilentAsync` должен быть видимым в **маркера сведения** поле. Результаты содержат следующие свойства:

|Свойство  |Формат  |ОПИСАНИЕ |
|---------|---------|---------|
|**Имя** |Полное имя пользователя |Пользователь и фамилию имя.|
|**Имя пользователя** |<span>user@domain.com</span> |Имя пользователя, который используется для идентификации пользователя.|
|**Срок действия токена истекает** |Datetime |Время истечения срока действия токена. MSAL расширяет дату истечения срока действия, обновив токен при необходимости.|
|**Токен доступа** |Строка |Строки токена, который отправляется на HTTP-запросов, требующих *заголовок авторизации*.|

<!--start-collapse-->
### <a name="more-information-about-scopes-and-delegated-permissions"></a>Дополнительные сведения об областях и делегированных разрешениях

Требуется Microsoft Graph API *user.read* область чтение профиля пользователя. Эта область автоматически добавляется по умолчанию во всех приложениях, регистрируется на портале регистрации приложения. Другие интерфейсы API для Microsoft Graph, а также пользовательские интерфейсы API для вашего внутреннего сервера могут потребоваться дополнительные области. Требуется Microsoft Graph API *Calendars.Read* область, чтобы вывести список календарей пользователя.

Чтобы получить доступ к пользовательским календарям в контексте приложения, добавьте *Calendars.Read* делегировать разрешения на сведения о регистрации приложения. Затем добавьте *Calendars.Read* выборку по `acquireTokenSilent` вызова. 

>[!NOTE]
>При увеличении количества областей, пользователю может быть предложено для дополнительных согласие.

<!--end-collapse-->

[!INCLUDE  [Help and support](./active-directory-develop-help-support-include.md)]
