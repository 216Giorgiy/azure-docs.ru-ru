<properties
   pageTitle="Каталог данных в Azure: начало работы с каталогом данных | Microsoft Azure"
   description="Комплексное руководство, в котором описываются сценарии использования и возможности каталога данных Azure."
   documentationCenter=""
   services="data-catalog"
   authors="dvana"
   manager="mblythe"
   editor=""
   tags=""/>
<tags
   ms.service="data-catalog"
   ms.devlang="NA"
   ms.topic="get-started-article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-catalog"
   ms.date="03/03/2016"
   ms.author="derrickv"/>

# Начало работы с каталогом данных Azure

Данная статья содержит исчерпывающие сведения о сценариях использования и возможностях **каталога данных Azure**. Зарегистрировавшись для работы со службой, вы сможете создать каталог данных, зарегистрировать и найти источники данных, а также добавить к ним заметки.

## Предварительные требования для учебника

Перед началом работы с этим учебником необходимо иметь следующее.

- **Подписка Azure ** — если ее нет, можно создать бесплатную пробную учетную запись всего за несколько минут. Дополнительные сведения см. на странице [Бесплатный ознакомительный период в один месяц](https://azure.microsoft.com/pricing/free-trial/).
- **Azure Active Directory** — каталог данных Azure использует [Azure Active Directory](https://azure.microsoft.com/services/active-directory/) для управления доступом и идентификацией.
- **Источники данных** —каталог данных Azure позволяет находить источники данных. В этом руководстве в качестве примера используется база данных Adventure Works, но вы можете использовать любой поддерживаемый источник, который вам знаком и имеет для вас значимость. Список поддерживаемых источников данных см. в статье [Источники данных, поддерживаемые каталогом данных Azure](data-catalog-dsr.md).

Давайте сначала установим базу данных Adventure Works.

## Упражнение 1. Установка образца базы данных Adventure Works

В этом упражнении мы установим образец базы данных Adventure Works для ядра СУБД SQL Server. Этот образец мы будем использовать во всех последующих упражнениях.

### Установка базы данных OLTP Adventure Works 2014

База данных Adventure Works поддерживает стандартные сценарии оперативной обработки транзакций вымышленного производителя велосипедов (компания Adventure Works Cycles). Транзакции включают производство, продажи и закупки. В этом руководстве сведения о продуктах регистрируются в **каталоге данных Azure**.

Вот как можно установить образец базы данных Adventure Works.

Чтобы установить образец базы данных Adventure Works, восстановите резервную копию AdventureWorks2014 из файла [Adventure Works 2014 Full Database Backup.zip](https://msftdbprodsamples.codeplex.com/downloads/get/880661) на сайте CodePlex. Один из способов восстановления базы данных — запуск сценария T-SQL в SQL Server Management Studio.

**Установка образца базы данных Adventure Works с помощью сценария T-SQL**

1.	Создайте папку с именем C:\\DataCatalog\_GetStarted. Если вы укажете другое имя папки, вам нужно будет изменить путь в сценарии T-SQL ниже.
2.	Загрузите файл [Adventure Works 2014 Full Database Backup.zip](https://msftdbprodsamples.codeplex.com/downloads/get/880661).
3.	Извлеките файл Adventure Works 2014 Full Database Backup.zip в папку C:\\DataCatalog\_GetStarted. Приведенный ниже сценарий ссылается на файл резервной копии, который находится в расположении C:\\DataCatalog\_GetStarted\\Adventure Works 2014 Full Database Backup\\AdventureWorks2014.bak.
4.	В **SQL Server Management Studio** на панели инструментов **Стандартная** щелкните **Новый запрос**.
5.	В окне запроса выполните следующий код T-SQL.

**Сценарий для установки базы данных Adventure Works 2014**

    USE [master]
    GO
    -- NOTE: This script is for sample purposes only. The default backup file path for this script is C:\DataCatalog_GetStarted. To run this script, create the default file path or change the file path, and copy AdventureWorks2014.bak into the path.

    -- IMPORTANT: In a production application, restore a SQL database to the data folder for your SQL Server instance.

    RESTORE DATABASE AdventureWorks2014
    	-- AdventureWorks2014.bak file location
    	FROM disk = 'C:\DataCatalog_GetStarted\Adventure Works 2014 Full Database Backup\AdventureWorks2014.bak'

    	-- AdventureWorks2014.mdf database location
    	WITH MOVE 'AdventureWorks2014_data' TO 'C:\DataCatalog_GetStarted\AdventureWorks2014.mdf',

    	-- AdventureWorks2014.ldf log location
    	MOVE 'AdventureWorks2014_Log' TO 'C:\DataCatalog_GetStarted\AdventureWorks2014.ldf'
    ,REPLACE
    GO

В качестве альтернативы базу данных можно восстановить с помощью SQL Server Management Studio. См. статью [Восстановление резервной копии базы данных (среда SQL Server Management Studio)](http://msdn.microsoft.com/library/ms177429.aspx).

В этом упражнении мы установили образец базы данных Adventure Works, который будет использоваться далее. В следующем упражнении вы узнаете, как регистрировать источники данных **каталога данных Azure**, используя таблицы из базы данных Adventure Works.

## Упражнение 2. Регистрация источников данных

В этом упражнении мы зарегистрируем источники данных Adventure Works в **каталоге данных Azure**. Регистрация — это процесс извлечения ключевых метаданных структуры, таких как имена, типы и расположения, из источника данных и ресурсов, содержащихся в нем, и копирования этих метаданных в каталог. Источники данных и их данные остаются на своем месте, а каталог использует метаданные, чтобы упростить их обнаружение и понимание.

### Ниже описана процедура регистрации источников данных.

1.	Перейдите на страницу https://azure.microsoft.com/services/data-catalog и нажмите кнопку **Начало работы**.
2.	Войдите на портал **каталога данных Azure** и нажмите кнопку **Опубликовать данные**.

    ![](media/data-catalog-get-started/data-catalog-publish-data.png)

3.	Щелкните **Запуск приложения**.

    ![](media/data-catalog-get-started/data-catalog-launch-application.png)

4. На странице **Приветствие** щелкните **Вход** и введите учетные данные.
5. На странице **каталога данных Microsoft Azure** дважды щелкните **SQL Server** или последовательно выберите **SQL Server** и **Далее**.

    ![](media/data-catalog-get-started/data-catalog-data-sources.png)

6.	Укажите для AdventureWorks2014 свойства подключения к серверу SQL Server (см. пример ниже) и нажмите кнопку **Подключиться**.

    ![](media/data-catalog-get-started/data-catalog-sql-server-connection.png)

7.	Следующая страница — страница регистрации метаданных вашего источника данных. В этом примере мы регистрируем объекты **Production/Product** из пространства имен AdventureWorks Production. Вот как это сделать.

    а. В дереве **Иерархия серверов** щелкните **Production**.

    ![](media/data-catalog-get-started/data-catalog-server-hierarchy.png)

    b. Нажмите CTRL и щелкните Product, ProductCategory, ProductDescription и ProductPhoto.

    c. Щелкните стрелку перемещения выбранных элементов (**>**). Так вы переместите все выбранные объекты в список **Объекты для регистрации**.

    ![](media/data-catalog-get-started/data-catalog-available-objects.png)

    г) В поле **Добавить теги** введите описание, фото. При этом теги поиска будут добавлены в эти ресурсы данных. Теги — отличный способ помочь пользователям найти зарегистрированный источник данных.

    ![](media/data-catalog-get-started/data-catalog-objects-register.png)

    д. **Необязательно**. Вы можете **включить предварительный просмотр** и (или) **добавить специалиста источника данных**.

    Е. Щелкните **Зарегистрировать**. Выбранные объекты будут зарегистрированы в **каталоге данных Azure**. В этом упражнении регистрируются выбранные объекты Adventure Works.

    g. Для просмотра зарегистрированных объектов источника данных щелкните **Просмотр портала**. На портале **каталога данных Azure** объекты источника данных можно просмотреть в представлении **Плитки** или **Список**.

    ![](media/data-catalog-get-started/data-catalog-view-portal.png)

В этом упражнении мы зарегистрировали объекты из образца базы данных Adventure Works. Теперь корпоративные пользователи смогут легко их находить. В следующем упражнении вы узнаете, как находить зарегистрированные ресурсы данных.

## Упражнение 3. Обнаружение зарегистрированных ресурсов данных

В этом упражнении с помощью портала **каталога данных Azure** мы найдем зарегистрированные ресурсы данных и просмотрим их метаданные. В **каталоге данных Azure** есть несколько инструментов для поиска ресурсов данных, включая простой поиск по ключевым словам, интерактивные фильтры и расширенный синтаксис поиска для опытных пользователей.

### Вот как находить зарегистрированные ресурсы данных

В **каталоге данных Azure** используется простой, но эффективный синтаксис, который позволяет легко создавать запросы для получения необходимых пользователям данных. Дополнительные сведения о поиске в **каталоге данных Azure** см. в [справочнике по синтаксису поисковых запросов](https://msdn.microsoft.com/library/azure/mt267594.aspx).

**Каталог данных Azure** имеет следующие возможности для поиска.

- Поиск по ключевому слову
- Фильтр
- Расширенный поиск

Также можно уточнить ресурсы данных для просмотра. **Каталог данных Azure** имеет следующие параметры представления.

- Свойства
- Столбцы
- Предварительный просмотр

В этом примере производится поиск по ключевому слову. Поиск по **каталогу данных Azure** может осуществляться несколькими методами. В этом примере будет использоваться поисковой запрос с **группированием**.

**Способы создания запросов**

|Метод|Использование|Пример
|---|---|---
|Ограничение по свойству|Возвращает только те источники данных, в которых условие поиска совпадает с указанным свойством.|name:product
|Логические операторы|Расширяют или сужают область поиска с помощью логических операций, как описано на этой странице в разделе, посвященном логическим операторам.|финансы NOT организации
|Обособление с помощью скобок|Скобки используются для обособления частей запросов, позволяя добиться логической изоляции. Это особенно удобно при использовании логических операторов.|name:product AND (tags:illustration OR tags:photo)
|Операторы сравнения|Операторы сравнения, в отличие от операторов равенства, используются для свойств с числовым типом данных и типом данных даты.|creationTime:>11/05/14

В этом примере мы выполним поиск ресурсов данных **Группирование**, где имя равно продукту, и теги равны иллюстрации, или теги равны фото.

1. Перейдите на страницу https://azure.microsoft.com/services/data-catalog, щелкните **Начало работы** и войдите на портал **каталога данных Azure**.
2. В поле **Поиск в каталоге данных** введите **запрос с группированием**: (tags:description OR tags:photo).
3. Щелкните значок поиска или нажмите клавишу ВВОД. **Каталог данных Azure** отобразит ресурсы данных, соответствующие этому поисковому запросу.

    ![](media/data-catalog-get-started/data-catalog-search-box.png)

В этом упражнении с помощью портала **каталога данных Azure** мы нашли и просмотрели зарегистрированные в каталоге ресурсы данных Adventure Works.

<a name="annotating"/>
## Упражнение 4. Добавление примечаний к зарегистрированным источникам данных

В этом упражнении с помощью портала **каталога данных Azure** мы создадим заметки к ресурсам данных, которые уже зарегистрированы в каталоге. Добавленные заметки не только дополнят и расширят структурные метаданные, полученные из источника данных во время регистрации, но и упростят поиск и использование ресурсов данных. Каждый пользователь **каталога данных** может внести собственные примечания, что легко позволяет делиться информацией всем, кто использует эти данные.

### Вот как создавать примечания к ресурсам данных

1. Перейдите на страницу https://azure.microsoft.com/services/data-catalog, щелкните **Начало работы** и войдите на портал **каталога данных Azure**.
2. Щелкните **Обнаружение**.
3. Выберите один или несколько **ресурсов данных**. Например, выберите **ProductPhoto** и введите "Фотографии товара для рекламных материалов".
4. Введите **описание**, которое поможет другим пользователям понять, как и для чего можно использовать выбранные ресурсы данных. Например, введите «Изображения продуктов». Также можно добавить дополнительные теги и просмотреть столбцы.
5. Теперь можно попробовать поиск и фильтрацию, чтобы обнаружить ресурсы данных с помощью описательных метаданных, добавленных в каталог.

    ![](media/data-catalog-get-started/data-catalog-annotate.png)

В этом упражнении мы добавили к зарегистрированным ресурсам данных описательные сведения. Теперь пользователи каталога смогут искать источники данных, используя понятные им термины.

## Упражнение 5. Сбор метаданных

В этом упражнении мы привлечем другого пользователя, чтобы он добавил метаданные к ресурсам данных в каталоге. В **каталоге данных Azure** реализована возможность коллективной работы с заметками. Любой пользователь может добавлять теги, описания и другие метаданные. В результате любой пользователь может добавить примечание, описывающее ресурс данных и возможности его использования, сделав это примечание доступным для других пользователей.

> [AZURE.NOTE] Если нет другого пользователя для работы с учебником, не волнуйтесь! Любой пользователь, который получает доступ к каталогу данных, может при желании добавить свое примечание. Такой коллективный подход к метаданным обеспечивает рост содержимого и разнообразия метаданных каталога.

### Вот как можно собрать метаданные о ресурсах данных

Попросите коллегу повторить описанное выше упражнение [Добавление примечаний к зарегистрированным источникам данных](#annotating). Когда ваш коллега добавит описание к ресурсу данных (например, ProductPhoto), вы увидите несколько заметок.

![](media/data-catalog-get-started/data-catalog-crowdsource.png)

В этом упражнении мы исследовали возможности коллективной работы с метаданными **каталога данных Azure**. Любой пользователь каталога может добавлять заметки к ресурсам данных, которые он находит.

## Упражнение 6. Подключение к источникам данных

В этом упражнении с помощью портала **каталога данных Azure** мы подключимся к источнику данных с помощью Microsoft Excel.

> [AZURE.NOTE] Важно помнить, что **каталог данных Azure** не предоставляет пользователям доступ к исходному источнику данных — он просто облегчает пользователям поиск и понимание информации. При подключении пользователей к источнику данных выбранное ими клиентское приложение будет использовать их учетные данные Windows или запросит учетные данные при необходимости. Если раньше у пользователя не было доступа к источнику данных, ему нужно будет предоставить доступ, прежде чем он сможет подключиться.

### Ниже описана процедура подключения к источнику данных из Excel.

1. Перейдите на страницу https://azure.microsoft.com/services/data-catalog, щелкните **Начало работы** и войдите на портал **каталога данных Azure**.
2. Щелкните **Обнаружение**.
3. Выберите ресурс данных. В этом примере выберите ProductCategory.
4. Выберите **Открыть в** > **Excel**.

    ![](media/data-catalog-get-started/data-catalog-connect1.png)

5. В окне **Уведомление безопасности Microsoft Excel** нажмите кнопку **Включить**.
6. Откройте файл **ProductCategory.odc**.
7. Источник данных открыт в Excel.

    ![](media/data-catalog-get-started/data-catalog-connect2.png)

В этом упражнении мы подключились к источникам данных, найденным с помощью **каталога данных Azure**. Портал **каталога данных Azure** позволяет пользователям подключаться напрямую с помощью клиентских приложений, интегрированных в меню **Открыть в**, а также подключаться с использованием любого выбранного приложения, используя сведения о расположении подключения, указанные в метаданных ресурса.

## Упражнение 7. Удаление метаданных источника данных

В этом упражнении мы используем портал **каталога данных Azure** для удаления предварительных данных из зарегистрированных ресурсов данных и удаления ресурсов данных из каталога.

> [AZURE.NOTE] Каталог по умолчанию дает любому пользователю возможность зарегистрировать любой источник данных и удалить любой зарегистрированный ресурс данных. Функции управления, включенные в **стандартный выпуск каталога данных Azure**, предоставляют дополнительные возможности для смены владельца ресурсов и ограничения круга пользователей, которые могут обнаруживать или удалять ресурсы.

В **каталоге данных Azure** вы можете удалять как отдельные ресурсы, так и несколько ресурсов сразу.

### Вот как можно удалить несколько ресурсов данных

1. Перейдите на страницу https://azure.microsoft.com/services/data-catalog, щелкните **Начало работы** и войдите на портал **каталога данных Azure**.
2. Щелкните **Обнаружение**.
3. Выберите один или несколько ресурсов данных.
4. Нажмите кнопку **Delete** (Удалить).

В этом упражнении мы удалили зарегистрированные ресурсы данных из каталога.

## Упражнение 8. Управление зарегистрированными источниками данных

В этом упражнении с помощью функций управления **каталогом данных Azure** мы назначим владельца ресурсов данных. Кроме того, мы ограничим круг пользователей, которые могут находить ресурсы данных, а также определим, как эти пользователи смогут управлять этими ресурсами.

> [AZURE.NOTE] Возможности управления, описанные в этом упражнении, доступны только в **стандартном выпуске каталога данных Azure**. В **бесплатном выпуске** они не доступны. В **каталоге данных Azure** можно стать владельцем ресурсов данных, добавить совладельцев ресурсов данных или задать ограничения видимости ресурсов данных.

### Вот как стать владельцем ресурсов данных и ограничить их видимость

1. Перейдите на страницу https://azure.microsoft.com/services/data-catalog, щелкните **Начало работы** и войдите на портал **каталога данных Azure**.
2. Щелкните **Обнаружение**.
3. Выберите один или несколько ресурсов данных.
4. На панели **Свойства** в разделе **Управление** щелкните **Стать владельцем**.
5. Чтобы ограничить видимость, щелкните пункт **Владельцы и эти пользователи**.

    ![](media/data-catalog-get-started/data-catalog-ownership.png)

В этом упражнении мы изучили возможности управления **каталогом данных Azure** и научились ограничивать видимость выбранных ресурсов данных.

## Сводка

В этом руководстве мы изучили основные возможности **каталога данных Azure**, включая регистрацию и поиск корпоративных источников данных, добавление к ним заметок и управление ими. Теперь, после завершения учебника, пора начать работу. Вы можете начать прямо сегодня, зарегистрировав источники данных, используемые вами и вашей командой, и пригласив коллег использовать каталог.

<!---HONumber=AcomDC_0406_2016-->