<properties 
    pageTitle="Обзор примеров для служебной шины | Microsoft Azure"
    description="Классификация и описание примеров использования служебной шины со ссылками."
    services="service-bus"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="05/06/2016"
    ms.author="sethm" />

# Служебная шина: примеры

В примерах служебной шины демонстрируются ключевые возможности [служебной шины](https://azure.microsoft.com/services/service-bus/) (облачной службы) и [служебной шины для Windows Server](https://msdn.microsoft.com/library/dn282144.aspx). В этой статье приведены категории примеров с описаниями и ссылками.

>[AZURE.NOTE] Примеры служебной шины не устанавливаются вместе с пакетом SDK. Примеры доступны на [странице примеров пакета SDK для Azure](https://code.msdn.microsoft.com/site/search?query=service%20bus&f%5B0%5D.Value=service%20bus&f%5B0%5D.Type=SearchText&ac=5).
>
>Обновленный набор примеров обмена сообщениями Service Bus см. [здесь](https://github.com/Azure-Samples/azure-servicebus-messaging-samples) (на момент написания этой статьи они в ней не описаны). Примеры ретрансляции см. [здесь](https://github.com/Azure-Samples/azure-servicebus-relay-samples).

## Обмен сообщениями через посредника в служебной шине

В следующем примере показывается, как писать приложения, использующие служебную шину.

Обратите внимание, что для примеров обмена сообщениями через посредника необходима строка подключения для доступа к пространству имен службы служебной шины.

### Получение строки подключения для служебной шины Azure

1. Перейдите на [классический портал Azure](http://manage.windowsazure.com).

1. В столбце слева щелкните **Служебная шина**.

1. В списке щелкните имя пространства имен службы.

1. Нажмите кнопку **Сведения о подключении** В диалоговом окне **Сведения о доступе к подключению** скопируйте строку подключения в буфер обмена.

1. Вставьте строку подключения в файл App.config примера.

### Получение строки подключения для служебной шины Windows Server

1. Выполните такой командлет PowerShell:

	```
	get-sbClientConfiguration
	```

2. Вставьте строку подключения в файл App.config примера.

### Приступая к работе: примеры

В этих примерах описываются основные функции обмена сообщениями и ретрансляции.

|Имя примера|Описание|Минимальная версия пакета SDK|availability|
|---|---|---|---|
|[Приступая к работе: обмен сообщениями с помощью очередей](http://code.msdn.microsoft.com/Getting-Started-Brokered-aa7a0ac3)|Демонстрирует использование служебной шины Microsoft Azure для отправки и получения сообщений из очереди.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Приступая к работе: обмен сообщениями с помощью разделов](http://code.msdn.microsoft.com/Getting-Started-Brokered-614d42e5)|Демонстрирует использование служебной шины Microsoft Azure для отправки и получения сообщений из раздела с несколькими подписками.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Приступая к работе с концентраторами событий](http://code.msdn.microsoft.com/Service-Bus-Event-Hub-286fd097)|Демонстрирует основные возможности концентраторов событий: создание концентратора событий, отправку событий в него, обработку событий с помощью обработчика событий.|2\.4|Служебная шина Microsoft Azure|

### Обзор функций

Следующие примеры демонстрируют разные функции служебной шины.

|Имя примера|Описание|Минимальная версия пакета SDK|availability|
|---|---|---|---|
|[Поставщики маркеров HTTP](http://code.msdn.microsoft.com/Service-Bus-HTTP-Token-38f2cfc5)|Демонстрирует разные способы проверки подлинности клиента HTTP/REST с помощью служебной шины.|2,1|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[HTTP-клиент служебной шины](http://code.msdn.microsoft.com/Service-Bus-HTTP-client-fe7da74a)|Демонстрирует отправку сообщений в служебную шину и их получение оттуда через HTTP/REST.|2\.3|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Автоматическая переадресация в служебной шине](http://code.msdn.microsoft.com/Service-Bus-Autoforwarding-b9df470b)|Демонстрирует автоматическую пересылку сообщений из очереди, подписки или очереди недоставленных сообщений в другую очередь или раздел. Также показывается, как отправить сообщение в очередь или раздел через очередь передачи.|2\.3|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: пример сеанса канала WCF](http://code.msdn.microsoft.com/Brokered-Messaging-WCF-0a526451)|Демонстрирует использование служебной шины Microsoft Azure с помощью каналов Windows Communication Foundation (WCF). В этом примере показано использование каналов WCF для отправки и получения сообщений через очередь служебной шины. В этом примере показывается использование служебной шины для связи в рамках сеанса и вне сеанса.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: транзакции](http://code.msdn.microsoft.com/Brokered-Messaging-8cd41d1e)|Демонстрирует использование возможностей служебной шины Microsoft Azure для обмена сообщениями в области транзакции, что обеспечивает атомарную фиксацию операций обмена сообщениями.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: операции управления с помощью REST](http://code.msdn.microsoft.com/Brokered-Messaging-569cff88)|Демонстрирует выполнение операций управления в служебной шине с помощью REST.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[REST API поставщика ресурсов](http://code.msdn.microsoft.com/Service-Bus-Resource-5d887203)|Демонстрирует использование новых интерфейсов REST API RDFE, предоставляемых служебной шиной для управления пространствами имен и сущностями обмена сообщениями.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: пример сеанса службы WCF](http://code.msdn.microsoft.com/Brokered-Messaging-WCF-db4262c2)|Демонстрирует использование служебной шины Microsoft Azure с помощью модели службы WCF. В примере показано использование модели службы WCF для установления связи через очередь служебной шины на основе сеансов.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: функция типа «запрос — ответ»](http://code.msdn.microsoft.com/Brokered-Messaging-Request-2b4ff5d8)|Демонстрирует использование служебной шины Microsoft Azure и возможностей типа «запрос — ответ». В этом примере показывается простой обмен данными между клиентами и серверами через очередь служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: очередь недоставленных сообщений](http://code.msdn.microsoft.com/Brokered-Messaging-Dead-22536dd8)|Демонстрирует использование служебной шины Microsoft Azure и возможностей обработки недоставленных сообщений. В этом примере показывается простой обмен данными между отправителем и получателем через очередь служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: отложенные сообщения](http://code.msdn.microsoft.com/Brokered-Messaging-ccc4f879)|Демонстрирует использование функции отложенных сообщений в служебной шине Microsoft Azure. В этом примере показывается простой обмен данными между отправителем и получателем через очередь служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: сообщения в рамках сеанса](http://code.msdn.microsoft.com/Brokered-Messaging-Session-41c43fb4)|Демонстрирует использование служебной шины Microsoft Azure и возможностей сеанса обмена сообщениями. В этом примере показывается простой обмен данными между отправителями и получателями через очередь служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: раздел типа «запрос-ответ»](http://code.msdn.microsoft.com/Brokered-Messaging-Request-6759a36e)|Демонстрируется реализация схемы «запрос — ответ» с использованием разделов и подписок служебной шины Microsoft Azure. В этом примере показывается простой обмен данными между клиентами и серверами через раздел служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: очередь типа «запрос — ответ»](http://code.msdn.microsoft.com/Brokered-Messaging-Request-0ce8fcaf)|Демонстрирует использование служебной шины Microsoft Azure и возможностей схемы «запрос — ответ». В этом примере показывается простой обмен данными между клиентами и серверами через две очереди служебной шины.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: обнаружение дубликатов](http://code.msdn.microsoft.com/Brokered-Messaging-c0acea25)|Демонстрирует использование функции обнаружения дубликатов в служебной шине Microsoft Azure с помощью очередей. В примере создается две очереди: в одной используется функция обнаружения дубликатов, а во второй — нет.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: асинхронный обмен сообщениями](http://code.msdn.microsoft.com/Brokered-Messaging-Async-211c1e74)|Демонстрирует использование служебной шины Microsoft Azure для асинхронной отправки и получения сообщений из очереди. Очередь обеспечивает несвязанный и асинхронный обмен данными между отправителем и любым количеством получателей (в данном примере имеется один получатель).|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: расширенные фильтры](http://code.msdn.microsoft.com/Brokered-Messaging-6b0d2749)|Демонстрирует использование расширенных фильтров публикации/подписки в служебной шине Microsoft Azure. Этот пример создает раздел и три подписки с разными определениями фильтров, отправляет сообщения в раздел и получает все сообщения из подписок.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Обмен сообщениями через посредника: предварительный выбор сообщений](http://code.msdn.microsoft.com/Brokered-Messaging-be2dac1d)|Демонстрирует использование функции предварительного выбора сообщений в служебной шине Microsoft Azure. В этом примере показывается, как использовать функцию предварительного выбора при получении сообщений.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|

## Ретранслятор служебной шины

Примеры, демонстрирующие ретранслятор служебной шины.

### Приступая к работе

|Имя примера|Описание|Минимальная версия пакета SDK|availability|
|---|---|---|---|
|[Обмен сообщениями с ретрансляцией: Azure](http://code.msdn.microsoft.com/Relayed-Messaging-Windows-0d2cede3)|Демонстрирует запуск клиента и службы служебной шины в Azure. В этом примере осуществляется программная настройка служебной шины. В файлах конфигурации хранятся только сведения о среде и безопасности.|1\.8|Служебная шина Microsoft Azure|
|[Проверка подлинности при обмене сообщениями с ретрансляцией: общий секрет](http://code.msdn.microsoft.com/Relayed-Messaging-92b04c02)|Демонстрирует использование имени поставщика и секрет от поставщика для проверки подлинности в служебной шине.|1\.8|Служебная шина Microsoft Azure|
|[Проверка подлинности при обмене сообщениями с ретрансляцией: WebNoAuth](http://code.msdn.microsoft.com/Relayed-Messaging-a4f0b831)|Демонстрирует способ предоставления HTTP-службы, которая не требует проверки подлинности клиентов.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: WebHttp](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-a6477ba0)|Демонстрирует использование привязки **WebHttpRelayBinding** для возвращения двоичных данных при использовании модели веб-программирования.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: NetTcp с ретрансляцией](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-2dec7692)|Демонстрирует использование привязки **NetTcpRelayBinding**.|1\.8|Служебная шина Microsoft Azure|

### Обзор функций

Примеры, демонстрирующие различные функции ретранслятора служебной шины.

|Имя примера|Описание|Минимальная версия пакета SDK|availability|
|---|---|---|---|
|[Проверка подлинности при обмене сообщениями с ретрансляцией: простой веб-маркер (SWT)](http://code.msdn.microsoft.com/Relayed-Messaging-32c74392)|Демонстрируется использование учетных данных простого веб-маркера для проверки подлинности с помощью служебной шины. Этот пример аналогичен примеру Echo, но содержит ряд изменений. В частности, этот пример добавляет поведение в приложения ServiceHost (служба) и ChannelFactory (клиент).|1\.8|Служебная шина Microsoft Azure|
|[Обмен сообщениями с ретрансляцией: балансировка нагрузки](http://code.msdn.microsoft.com/Relayed-Messaging-Load-bd76a9f8)|Демонстрирует использование служебной шины Microsoft Azure для перенаправления сообщений нескольким получателям. В нем показывается простой обмен данными между несколькими экземплярами службы и клиентом через привязку **NetTcpRelayBinding**.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: сетевое событие](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-c0176977)|Демонстрирует использование привязки **NetEventRelayBinding** в служебной шине Microsoft Azure.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: сеанс WS2007Http](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-ef1f1fcb)|Демонстрирует использование привязки **WS2007HttpRelayBinding** с включением надежных сеансов. Также в примере описывается, как указывать учетные данные служебной шины в файле конфигурации, не используя программный подход.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: WS2007Http MsgSecCertificate](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-f29c9da5)|Демонстрирует использование привязки **WS2007HttpRelayBinding** с использованием защищенного режима для сквозного шифрования сообщений и требованием проверки подлинности клиентов с помощью служебной шины.|1\.8|Служебная шина Microsoft Azure|
|[Обмен сообщениями с ретрансляцией: обмен метаданными](http://code.msdn.microsoft.com/Relayed-Messaging-Metadata-f122312e)|Демонстрирует способ предоставления конечной точки метаданных, которая использует привязку ретрансляции. **MetadataExchange** поддерживается в следующих привязках ретрансляции: **NetTcpRelayBinding**, **NetOnewayRelayBinding**, **BasicHttpRelayBinding** и **WS2007HttpRelayBinding**.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: прямое соединение NetTcp](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-ca039161)|Демонстрирует настройку привязки **NetTcpRelayBinding** для поддержки **гибридного** подключения. В этом сценарии сначала устанавливается подключение с ретрансляцией, а затем, если это возможно, происходит автоматическое переключение на непосредственный обмен данными между клиентом и службой.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: NetTcp MsgSec UserName](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-30542392)|Демонстрирует использование привязки **NetTcpRelayBinding** с функцией защиты сообщений.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: Net Oneway](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-bb5b813a)|Демонстрирует способы предоставления и использования конечной точки службы с помощью привязки **NetOnewayRelayBinding**.|1\.8|Служебная шина Microsoft Azure|
|[Привязки при обмене сообщениями с ретрансляцией: WS2007Http](http://code.msdn.microsoft.com/Relayed-Messaging-Bindings-aa4b793a)|Демонстрирует использование привязки **WS2007HttpRelayBinding**. В примере показана простая служба, не использующая параметры безопасности и не требующая проверки подлинности клиентов.|1\.8|Служебная шина Microsoft Azure|

## Справочные материалы по служебной шине

Следующие примеры демонстрируют другие возможности этой службы.

|Имя примера|Описание|Минимальная версия пакета SDK|availability|
|---|---|---|---|
|[Service Bus Explorer](http://code.msdn.microsoft.com/Service-Bus-Explorer-f2abca5a)|Обозреватель служебной шины позволяет пользователям без усилий подключаться к пространству имен служебной шины и управлять сущностями обмена сообщениями. Это средство предоставляет такие дополнительные возможности, как импорт и экспорт, а также тестирование сущностей обмена сообщениями и служб ретрансляции.|1\.8|Служебная шина Microsoft Azure; служебная шина для Windows Server|
|[Авторизация: SBAzTool](http://code.msdn.microsoft.com/Authorization-SBAzTool-6fd76d93)|В этом примере показано, как создавать удостоверения служб при помощи службы контроля доступа Microsoft Azure Active Directory (ACS) для использования со служебной шиной, а также управлять ими.|Недоступно|Служебная шина Microsoft Azure|

## Дальнейшие действия

Принципиальные сведения о служебной шине см. в следующих статьях.

- [Основные сведения об обмене сообщениями через служебную шину](service-bus-messaging-overview.md)
- [Архитектура служебной шины](service-bus-architecture.md)
- [Базовая информация о Service Bus](service-bus-fundamentals-hybrid-solutions.md)

<!---HONumber=AcomDC_0518_2016-->