---
title: Визуальная разработка в фабрике данных Azure | Документация Майкрософт
description: Сведения о визуальной разработке в фабрике данных Azure.
services: data-factory
documentationcenter: ''
author: sharonlo101
manager: craigg
ms.reviewer: douglasl
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 08/14/2018
ms.author: shlo
ms.openlocfilehash: b457d1ae01e523ac99c6171fa8d2123023ebcd2c
ms.sourcegitcommit: 4ea0cea46d8b607acd7d128e1fd4a23454aa43ee
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2018
ms.locfileid: "42142815"
---
# <a name="visual-authoring-in-azure-data-factory"></a>Визуальная разработка в фабрике данных Azure
С пользовательским интерфейсом фабрики данных Azure пользователи могут визуально разрабатывать и развертывать ресурсы в своей фабрике, не написав не единой строки кода. Вы можете перетаскивать действия на панель холста конвейера, выполнять тестовые запуски, выполнять последовательную отладку, а также развертывать и выполнять мониторинг запуска конвейера. Пользовательский интерфейс можно использовать для визуальной разработки двумя способами:

- Работать напрямую со службой фабрики данных.
- Выполнять разработку с интеграцией Git VSTS для совместной работы, контроля и управления версиями.

## <a name="author-directly-with-the-data-factory-service"></a>Разработка с помощью службы фабрики данных
Визуальная разработка с помощью службы фабрики данных отличается от разработки через VSTS в таких двух аспектах:

- Служба фабрики данных не содержит репозиторий для хранения сущностей JSON для изменений.
- Служба фабрики данных не оптимизирована для совместной работы или управления версиями.

![Настройка службы фабрики данных ](media/author-visually/configure-data-factory.png)

При использовании пользовательского интерфейса **Работа над холстом** для выполнения разработки напрямую со службой фабрики данных доступен только режим **Опубликовать все**. Любые внесенные изменения публикуются непосредственно в службе фабрики данных.

![Режим публикации](media/author-visually/data-factory-publish.png)

## <a name="author-with-vsts-git-integration"></a>Разработка с помощью интеграции Git VSTS
Визуальная разработка с помощью интеграции Git VSTS поддерживает управление исходным кодом и совместную работу для создания конвейеров фабрики данных. Фабрику данных можно сопоставить с репозиторием учетной записи Git VSTS для управления исходным кодом, совместной работы, управления версиями и т. д. В одной учетной записи GIT VSTS может быть несколько репозиториев, но репозиторий Git VSTS может быть связан только с одной фабрикой данных. Если у вас нет учетной записи VSTS или репозитория, создайте их, следуя [этим инструкциям](https://docs.microsoft.com/vsts/accounts/create-account-msa-or-work-student).

> [!NOTE]
> Можно хранить файлы данных и сценариев в репозитории Git VSTS. Но в службу хранилища Azure файлы необходимо отправлять вручную. Конвейер Фабрики данных автоматически не отправляет в службу хранилища Azure файлы данных и сценариев, которые хранятся в репозитории Git VSTS.

### <a name="configure-a-vsts-git-repository-with-azure-data-factory"></a>Настройка репозитория GIT VSTS с помощью фабрики данных Azure
Репозиторий Git VSTS можно настроить с помощью фабрики данных двумя способами.

#### <a name="method1"></a> Метод настройки 1 (репозиторий Git VSTS). Страница "Начало работы"

В фабрике данных Azure перейдите на страницу **Начало работы**. Выберите **Configure Code Repository** (Настроить репозиторий кода):

![Настройка репозитория кода VSTS](media/author-visually/configure-repo.png)

Появится область конфигурации **Параметры репозитория**.

![Настройка параметров репозитория кода](media/author-visually/repo-settings.png)

В области показаны следующие параметры репозитория кода VSTS:

| Параметр | ОПИСАНИЕ | Значение |
|:--- |:--- |:--- |
| **Тип репозитория** | Тип репозитория кода VSTS.<br/>**Примечание.** Сейчас GitHub не поддерживается. | Visual Studio Team Services Git |
| **Azure Active Directory** | Имя вашего клиента Azure AD. | <your tenant name> |
| **Учетная запись Visual Studio Team Services** | Имя учетной записи VSTS. Имя учетной записи VSTS можно найти по адресу `https://{account name}.visualstudio.com`. [Войдите в свою учетную запись VSTS](https://www.visualstudio.com/team-services/git/) и получите доступ к профилю Visual Studio, чтобы просмотреть свои репозитории и проекты. | <your account name> |
| **Имя проекта** | Имя проекта VSTS. Имя проекта VSTS можно найти по адресу `https://{account name}.visualstudio.com/{project name}`. | <your VSTS project name> |
| **Имя репозитория** | Имя репозитория кода VSTS. Проекты VSTS содержат репозитории Git, которые управляют исходным кодом по мере роста проекта. Создайте репозиторий либо используйте репозиторий, который уже имеется в проекте. | <your VSTS code repository name> |
| **Ветвь совместной работы** | Ветвь вашей совместной работы в VSTS, которая используется для публикации. По умолчанию это `master`. Измените этот параметр, если нужно опубликовать ресурсы из другой ветви. | <your collaboration branch name> |
| **Корневая папка** | Корневая папка в ветви совместной работы VSTS. | <your root folder name> |
| **Import existing Data Factory resources to repository** (Импорт существующих ресурсов фабрики данных в репозиторий) | Указывает, следует ли импортировать имеющиеся ресурсы фабрики данных из пользовательского интерфейса **Работа над холстом** в репозиторий Git VSTS. Установите флажок, чтобы импортировать ресурсы фабрики данных в связанный репозиторий Git в формате JSON. Это действие экспортирует каждый ресурс по отдельности (то есть, связанные службы и наборы данных будут экспортироваться в отдельных файлах JSON). Если этот флажок не установлен, имеющиеся ресурсы не импортируются. | Установлен (по умолчанию) |

#### <a name="configuration-method-2--vsts-git-repo-ux-authoring-canvas"></a>Метод настройки 2 (репозиторий Git VSTS). Пользовательский интерфейс "Работа над холстом"
В пользовательском интерфейсе **Работа над холстом** фабрики данных Azure найдите свою фабрику данных. Щелкните раскрывающееся меню **Фабрика данных** и выберите пункт **Configure Code Repository** (Настроить репозиторий кода).

Появится область конфигурации. Дополнительные сведения о параметрах конфигурации см. в описании <a href="#method1">метода 1</a>.

![Настройка параметров репозитория кода для создания в пользовательском интерфейсе](media/author-visually/configure-repo-2.png)

## <a name="use-a-different-azure-active-directory-tenant"></a>Использование другого клиента Azure Active Directory

Репозиторий Git VSTS можно создать в другом клиенте Azure Active Directory. Чтобы указать другой клиент Azure AD, у вас должны быть права администратора для подписки Azure, которую вы используете.

## <a name="switch-to-a-different-git-repo"></a>Выберите другой репозиторий Git

Для выбора другого репозитория Git в правом верхнем углу страницы обзора фабрики данных необходимо найти значок, как показано на снимке экрана ниже. Если значок не отображается, очистите кэш локального браузера. Чтобы разорвать связь с текущим репозиторием, выберите значок.

После того как связь с текущим репозиторием была разорвана, в параметрах Git можно настроить использование другого репозитория. Затем существующие ресурсы фабрики данных можно импортировать в новый репозиторий.

![Удаление связи с текущим репозиторием Git](media/author-visually/remove-repo.png)

## <a name="use-version-control"></a>Использование управления версиями
Системы управления версиями, также называемые системами _контроля версий_, позволяют разработчикам взаимодействовать с кодом и отслеживать изменения, внесенные в базу кода. Система управления версиями является важным инструментом для проектов с несколькими разработчиками.

Каждый репозиторий Git VSTS, который связан с фабрикой данных, имеет ветвь совместной работы. (`master` — ветвь совместной работы по умолчанию.) Пользователи также могут создавать ветви компонентов, нажимая **+Создать ветвь** и выполняя разработку в ветвях компонентов.

![Изменение кода путем синхронизации или публикации](media/author-visually/sync-publish.png)

Когда разработка в ветви компонента будет готова, можно щелкнуть **Создать запрос на вытягивание**. Вы перейдете в Git VSTS, где можно инициировать запросы на вытягивание, выполнять проверки кода и объединять изменения в ветви совместной работы. (Значение по умолчанию — `master`.) Публикация в службе фабрики данных разрешена только из ветви совместной работы. 

![Создание нового запроса на вытягивание](media/author-visually/create-pull-request.png)

## <a name="publish-code-changes"></a>Публикация изменений кода
После объединения изменений в ветви совместной работы (по умолчанию `master`) выберите **Опубликовать**, чтобы вручную опубликовать изменения кода главной ветви в службе Фабрики данных.

![Публикация изменений в службе фабрики данных](media/author-visually/publish-changes.png)

> [!IMPORTANT]
> Главная ветвь может не соответствовать тому, что развернуто в службе фабрики данных. Главную ветвь *нужно* опубликовать вручную в службе фабрики данных.

## <a name="author-with-github-integration"></a>Разработка с помощью интеграции GitHub

Визуальная разработка с помощью интеграции GitHub поддерживает управление исходным кодом и совместную работу для создания конвейеров фабрики данных. Фабрику данных можно связать с репозиторием учетной записи GitHub для управления исходным кодом, совместной работы и управления версиями. В одной учетной записи GitHub может быть несколько репозиториев, но репозиторий GitHub может быть связан только с одной фабрикой данных. Если у вас нет учетной записи GitHub или репозитория, создайте их, следуя [этим инструкциям](https://github.com/join). Интеграция GitHub с Фабрикой данных поддерживает открытый GitHub и GitHub Enterprise.

Чтобы настроить репозиторий GitHub, у вас должны быть права администратора для подписки Azure, которую вы используете.

Уделите 9 минут вашего времени, чтобы просмотреть следующее видео с кратким обзором и демонстрацией этой функции:

> [!VIDEO https://channel9.msdn.com/shows/azure-friday/Azure-Data-Factory-visual-tools-now-integrated-with-GitHub/player]

### <a name="limitations"></a>Ограничения

- В репозитории GitHub можно хранить файлы данных и сценариев. Но в службу хранилища Azure файлы необходимо отправлять вручную. Конвейер Фабрики данных автоматически не отправляет в службу хранилища Azure файлы данных и сценариев, которые хранятся в репозитории GitHub.

- GitHub Enterprise версии ниже 2.14.0 не работает в браузере Microsoft Edge.

- Интеграция GitHub с визуальными средствами разработки Фабрики данных работает только в общедоступной версии Фабрики данных.

### <a name="configure-a-public-github-repository-with-azure-data-factory"></a>Настройка общедоступного репозитория GitHub с помощью Фабрики данных Azure

Репозиторий GitHub можно настроить с помощью фабрики данных двумя способами.

**Метод настройки 1 (общедоступный репозиторий). Страница "Начало работы"**

В фабрике данных Azure перейдите на страницу **Начало работы**. Выберите **Configure Code Repository** (Настроить репозиторий кода):

![Страница "Начало работы" в фабрике данных](media/author-visually/github-integration-image1.png)

Появится область конфигурации **Параметры репозитория**.

![Параметры репозитория GitHub](media/author-visually/github-integration-image2.png)

В области показаны следующие параметры репозитория кода VSTS:

| **Параметр**                                              | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                                   | **Значение**          |
|----------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
| **Тип репозитория**                                      | Тип репозитория кода VSTS.                                                                                                                                                                                                                                                                                                                                                                                             | GitHub             |
| **Учетная запись GitHub**                                       | Имя учетной записи GitHub. Это имя можно найти в https://github.com/{account имя}/{имя репозитория}. При переходе на эту страницу вам предложат ввести учетные данные OAuth GitHub для вашей учетной записи GitHub.                                                                                                                                                                                                                                               |                    |
| **Имя репозитория**                                       | Имя репозитория кода GitHub. Учетные записи GitHub содержат репозитории Git для управления исходным кодом. Создайте репозиторий либо используйте уже имеющийся в учетной записи.                                                                                                                                                                                                                              |                    |
| **Ветвь совместной работы**                                 | Ветвь вашей совместной работы в GitHub, которая используется для публикации. По умолчанию это главная ветвь. Измените этот параметр, если нужно опубликовать ресурсы из другой ветви.                                                                                                                                                                                                                                                               |                    |
| **Корневая папка**                                          | Корневая папка в ветви совместной работы GitHub.                                                                                                                                                                                                                                                                                                                                                                             |                    |
| **Import existing Data Factory resources to repository** (Импорт существующих ресурсов фабрики данных в репозиторий) | Указывает, следует ли импортировать имеющиеся ресурсы фабрики данных из пользовательского интерфейса **Работа над холстом** в репозиторий GitHub. Установите флажок, чтобы импортировать ресурсы фабрики данных в связанный репозиторий Git в формате JSON. Это действие экспортирует каждый ресурс по отдельности (то есть, связанные службы и наборы данных будут экспортироваться в отдельных файлах JSON). Если этот флажок не установлен, имеющиеся ресурсы не импортируются. | Установлен (по умолчанию) |
| **Branch to import resource into** (Ветвь для импорта ресурсов)                       | Указывает, в какую ветвь импортируются ресурсы фабрики данных (конвейеры, наборы данных, связанные службы и т.д.). Вы можете выбрать для импорта ресурсов один из следующих вариантов: 1) "Совместная работа"; 2) "Создать"; 3) "Использовать имеющуюся".                                                                                                                                                                                                     |                    |

#### <a name="configuration-method-2-public-repo-ux-authoring-canvas"></a>Метод настройки 2 (общедоступный репозиторий). Пользовательский интерфейс "Работа над холстом"

В пользовательском интерфейсе **Работа над холстом** фабрики данных Azure найдите свою фабрику данных. Щелкните раскрывающееся меню **Фабрика данных** и выберите пункт **Configure Code Repository** (Настроить репозиторий кода).

Появится область конфигурации. Дополнительные сведения о параметрах конфигурации см. в описании *метода 1*.

### <a name="configure-a-github-enterprise-repository-with-azure-data-factory"></a>Настройка репозитория GitHub Enterprise с помощью Фабрики данных Azure

Репозиторий GitHub Enterprise можно настроить с помощью фабрики данных двумя способами.

 #### <a name="configuration-method-1-enterprise-repo-lets-get-started-page"></a>Метод настройки 1 (репозиторий "Корпоративный"). Страница "Начало работы"

В фабрике данных Azure перейдите на страницу **Начало работы**. Выберите **Configure Code Repository** (Настроить репозиторий кода):

![Страница "Начало работы" в фабрике данных](media/author-visually/github-integration-image1.png)

Появится область конфигурации **Параметры репозитория**.

![Параметры репозитория GitHub](media/author-visually/github-integration-image3.png)

В области показаны следующие параметры репозитория кода VSTS:

| **Параметр**                                              | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                                   | **Значение**          |
|----------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
| **Тип репозитория**                                      | Тип репозитория кода VSTS.                                                                                                                                                                                                                                                                                                                                                                                             | GitHub             |
| **Use GitHub Enterprise** (Использовать GitHub Enterprise)                                | Флажок для выбора GitHub Enterprise.                                                                                                                                                                                                                                                                                                                                                                                              |                    |
| **GitHub Enterprise URL** (URL-адрес GitHub Enterprise)                                | Корневой URL-адрес GitHub Enterprise. Например: https://github.mydomain.com                                                                                                                                                                                                                                                                                                                                                          |                    |
| **Учетная запись GitHub**                                       | Имя учетной записи GitHub. Это имя можно найти в https://github.com/{account имя}/{имя репозитория}. При переходе на эту страницу вам предложат ввести учетные данные OAuth GitHub для вашей учетной записи GitHub.                                                                                                                                                                                                                                               |                    |
| **Имя репозитория**                                       | Имя репозитория кода GitHub. Учетные записи GitHub содержат репозитории Git для управления исходным кодом. Создайте репозиторий либо используйте уже имеющийся в учетной записи.                                                                                                                                                                                                                              |                    |
| **Ветвь совместной работы**                                 | Ветвь вашей совместной работы в GitHub, которая используется для публикации. По умолчанию это главная ветвь. Измените этот параметр, если нужно опубликовать ресурсы из другой ветви.                                                                                                                                                                                                                                                               |                    |
| **Корневая папка**                                          | Корневая папка в ветви совместной работы GitHub.                                                                                                                                                                                                                                                                                                                                                                             |                    |
| **Import existing Data Factory resources to repository** (Импорт существующих ресурсов фабрики данных в репозиторий) | Указывает, следует ли импортировать имеющиеся ресурсы фабрики данных из пользовательского интерфейса **Работа над холстом** в репозиторий GitHub. Установите флажок, чтобы импортировать ресурсы фабрики данных в связанный репозиторий Git в формате JSON. Это действие экспортирует каждый ресурс по отдельности (то есть, связанные службы и наборы данных будут экспортироваться в отдельных файлах JSON). Если этот флажок не установлен, имеющиеся ресурсы не импортируются. | Установлен (по умолчанию) |
| **Branch to import resource into** (Ветвь для импорта ресурсов)                       | Указывает, в какую ветвь импортируются ресурсы фабрики данных (конвейеры, наборы данных, связанные службы и т.д.). Вы можете выбрать для импорта ресурсов один из следующих вариантов: 1) "Совместная работа"; 2) "Создать"; 3) "Использовать имеющуюся".                                                                                                                                                                                                     |                    |

#### <a name="configuration-method-2-enterprise-repo-ux-authoring-canvas"></a>Метод настройки 2 (репозиторий "Корпоративный"). Пользовательский интерфейс "Работа над холстом"

В пользовательском интерфейсе **Работа над холстом** фабрики данных Azure найдите свою фабрику данных. Щелкните раскрывающееся меню **Фабрика данных** и выберите пункт **Configure Code Repository** (Настроить репозиторий кода).

Появится область конфигурации. Дополнительные сведения о параметрах конфигурации см. в описании *метода 1*.

## <a name="use-the-expression-language"></a>Использование языка выражений
Вы можете указать выражения для значений свойств с помощью языка выражений, поддерживаемого фабрикой данных Azure.

Укажите выражения для значений свойств, выбрав **Добавить динамическое содержимое**:

![Использование языка выражений](media/author-visually/dynamic-content-1.png)

## <a name="use-functions-and-parameters"></a>Использование функций и параметров

Можно использовать функции или указать параметры для конвейеров и наборов данных в **построителе выражений** фабрики данных:

Дополнительные сведения о поддерживаемых выражениях см. в статье [Expressions and functions in Azure Data Factory](control-flow-expression-language-functions.md) (Выражения и функции в фабрике данных Azure).

![Добавление динамического содержимого](media/author-visually/dynamic-content-2.png)

## <a name="provide-feedback"></a>Отзывы
Выберите **Обратная связь**, чтобы оставить комментарии о возможностях или сообщить корпорации Майкрософт о проблемах со средством:

![Отзыв](media/author-visually/provide-feedback.png)

## <a name="next-steps"></a>Дополнительная информация
Дополнительные сведения о мониторинге и управлении конвейерами см. в статье [Отслеживание фабрики данных Azure с помощью программных средств](monitor-programmatically.md).
