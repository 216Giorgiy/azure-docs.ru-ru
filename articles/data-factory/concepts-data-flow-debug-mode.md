---
title: Режим отладки функции сопоставления потоков данных в Фабрике данных Azure
description: Запуск интерактивного сеанса отладки при создании потоков данных
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 10/04/2018
ms.openlocfilehash: 2851517aee0176775bde8b58994f0ed20f6ed01d
ms.sourcegitcommit: 301128ea7d883d432720c64238b0d28ebe9aed59
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/13/2019
ms.locfileid: "56212543"
---
# <a name="azure-data-factory-mapping-data-flow-debug-mode"></a>Режим отладки функции сопоставления потоков данных в Фабрике данных Azure

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

В функции сопоставления потоков данных Фабрики данных Azure есть режим отладки, который можно включить с помощью кнопки отладки в верхней части области конструктора. Если при разработке потоков данных включить режим отладки, вы сможете интерактивно просматривать преобразование формы данных при создании и отладке потоков данных.

<img src="media/data-flow/debugbutton.png" width="400">

## <a name="overview"></a>Обзор
Если режим отладки включен, вы будете в интерактивном режиме создавать поток данных с использованием работающего интерактивного кластера в Azure Databricks. Сеанс будет закрыт после отключения отладки в Фабрике данных Azure. Следует помнить о почасовой оплате, которая взимается в Azure Databricks за время, когда сеанс отладки был включен.

В большинстве случаев рекомендуется создавать потоки данных в режиме отладки, чтобы можно было проверить бизнес-логику и просматривать преобразования данных перед публикацией данных в Фабрике данных Azure.

## <a name="debug-mode-on"></a>Включение режима отладки
При включении режима отладки появится форма боковой панели с запросом указать интерактивный кластер Azure Databricks и выбрать параметры для выборки источника. Необходимо использовать интерактивный кластер из Azure Databricks и выбрать размер выборки из каждого преобразования источника или выбрать текстовый файл для тестовых данных.

<img src="media/data-flow/upload.png" width="400">

> [!NOTE]
>Если при работе с Потоком данных включен режим отладки, данные не записываются в преобразование приемника. Сеанс отладки предназначен для использования в качестве окружения теста для преобразования. Приемники не нужны во время отладки и игнорируются в потоке данных. Если вы хотите протестировать запись данных в приемник, выполните поток данных из конвейера Фабрики данных Azure и используйте выполнение отладки из конвейера.

## <a name="debug-settings"></a>Параметры отладки
Параметрами отладки может быть каждый источник из Потока данных, который будет отображаться на боковой панели и который также можно изменить, выбрав "Параметры источника" на панели инструментов конструктора Потока данных. Вы можете выбрать ограничения и/или источник файлов для каждого преобразования источника. Вы также можете выбрать кластер Databricks, который нужно использовать для отладки.

## <a name="cluster-status"></a>Состояние кластера
В верхней части области конструктора размещен индикатор состояния кластера, который станет зеленым, когда кластер будет готов для отладки. Если кластер уже готов, тогда зеленый индикатор появится практически мгновенно. Если кластер не был запущен во время перехода в режим отладки, то необходимо будет подождать 5–7 минут для его запуска. Световой индикатор будет желтым, пока кластер не будет готов. Когда кластер будет готов для отладки Потока данных, световой индикатор станет зеленым.

После завершения отладки отключите параметр отладки, чтобы кластер Azure Databricks мог завершить работу.

<img src="media/data-flow/datapreview.png" width="400">

## <a name="data-preview"></a>Предварительный просмотр данных
В режиме отладки вкладка "Предварительный просмотр данных" засветится на нижней панели. Если режим отладки отключен, в Потоке данных отобразятся только текущие входящие и исходящие метаданные каждого из преобразований на вкладке "Проверка". Предварительный просмотр данных будет запрашивать только количество строк, которые заданы как ограничения в настройках источника. Чтобы обновить предварительный просмотр данных, щелкните Fetch data (Получить данные).

<img src="media/data-flow/stats.png" width="400">

## <a name="data-profiles"></a>Профили данных
После выбора отдельных столбцов на вкладке "Предварительный просмотр данных" появится всплывающее окно диаграммы в крайнем правом углу сетки данных с подробной статистикой о каждом поле. Фабрика данных Azure будет принимать решения на основе выборки данных того типа диаграммы, который нужно отобразить. Поля с высокой кратностью по умолчанию будут использовать диаграммы NULL или NOT NULL, а категориальные и числовые данные с низкой кратностью будут отображать линейчатые диаграммы, показывающие частоту значений данных. Вы также увидите максимальное и фактическое количество знаков в строковых полях, максимальное и минимальное значения в числовых полях, стандартное отклонение, процентили, счетчики и средние значения. 

<img src="media/data-flow/chart.png" width="400">
