<properties
	pageTitle="Учебник. Копирование данных из хранилища BLOB-объектов Azure в Azure SQL"
	description="В этом учебнике показано, как создать пример конвейера данных, который копирует данные из большого двоичного объекта в экземпляр базы данных SQL Azure."
	services="data-factory"
	documentationCenter=""
	authors="spelluru"
	manager="jhubbard"
	editor="monicar"/>

<tags
	ms.service="data-factory"
	ms.workload="data-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article" 
	ms.date="07/27/2015"
	ms.author="spelluru"/>

# Учебник. Копирование данных из хранилища BLOB-объектов Azure в Azure SQL
> [AZURE.SELECTOR]
- [Tutorial Overview](data-factory-get-started.md)
- [Using Data Factory Editor](data-factory-get-started-using-editor.md)
- [Using PowerShell](data-factory-monitor-manage-using-powershell.md)
- [Using Visual Studio](data-factory-get-started-using-vs.md)

Руководство, представленное в этой статье, поможет быстро перейти к использованию службы фабрики данных Azure. В этом учебнике будет создана фабрика данных Azure и конвейер в фабрике данных, который будет выполнять копирование данных из хранилища больших двоичных объектов Azure в базу данных SQL Azure.

> [AZURE.NOTE]Подробный обзор службы фабрики данных см. в статье [Введение в фабрику данных Azure][data-factory-introduction].

##Предварительные требования для прохождения этого учебника
Перед началом работы с этим учебником необходимо иметь следующее:

- **Подписка Azure**. Если у вас нет подписки, вы можете создать бесплатную пробную версию учетной записи всего за несколько минут. Дополнительные сведения см. в статье [Бесплатная пробная версия][azure-free-trial].
- **Учетная запись хранения Azure** В этом учебнике будет использоваться хранилище больших двоичных объектов в качестве **исходного** хранилища данных. Если у вас нет учетной записи хранения Azure, инструкции по ее созданию см. в статье [Создание учетной записи хранения][data-factory-create-storage].
- **База данных SQL Azure**. В этом учебнике будет использоваться база данных SQL Azure в качестве **конечного** хранилища данных. Если нет базы данных SQL Azure, которую можно использовать для изучения этого учебника, см. раздел [Как создать и настроить базу данных SQL Azure][data-factory-create-sql-database], чтобы создать такую базу данных.
- **SQL Server 2012/2014 или Visual Studio 2013**. Вы будете использовать SQL Server Management Studio или Visual Studio для создания образца базы данных и просмотра итоговых данных в базе данных.  

### Приготовьте имя и ключ учетной записи для своей учетной записи хранения Azure.
Имя и ключ вашей учетной записи хранения Azure потребуются в ходе изучения этого учебника. Запишите **имя** и **ключ** вашей учетной записи хранения Azure, следуя инструкциям ниже.

1. Войдите на [портал предварительной версии Azure][azure-preview-portal].
2. Щелкните раздел **ОБЗОР** слева и выберите **Учетные записи хранения**.
3. В колонке **Учетные записи хранения** выберите **учетную запись хранения Azure**, которая будет использоваться в ходе изучения этого учебника.
4. В колонке **ХРАНИЛИЩЕ** щелкните плитку **КЛЮЧИ**.
5. В колонке **Управление ключами** нажмите кнопку **копировать** (изображение) рядом с текстовым полем **ИМЯ УЧЕТНОЙ ЗАПИСИ ХРАНЕНИЯ** и сохраните и вставьте его куда-нибудь (например, в текстовый файл).  
6. Повторите предыдущий шаг, чтобы скопировать или записать **ПЕРВИЧНУЮ КЛАВИШУ ДОСТУПА**.
7. Закройте все колонки, нажав **X**.

### Приготовьте имя сервера, имя базы данных и учетную запись пользователя для базы данных SQL Azure
Вам потребуются имена сервера Azure SQL Server, базы данных и пользователя в ходе изучения этого учебника. Запишите имена **сервера**, **базы данных** и **пользователя** базы данных SQL Azure, следуя инструкциям ниже.

1. На **портале предварительной версии Azure** щелкните **ОБЗОР** слева и выберите **Базы данных SQL**.
2. В **колонке баз данных SQL** выберите **базу данных**, которую вы планируете использовать для этого учебника. Запишите **имя базы данных**.  
3. В колонке **БАЗА ДАННЫХ SQL** щелкните плитку **СВОЙСТВА**.
4. Запишите значения параметров **ИМЯ СЕРВЕРА** и **ИМЯ ВХОДА АДМИНИСТРАТОРА СЕРВЕРА**.
5. Закройте все колонки, нажав **X**.

### Разрешите службам Azure доступ к серверу Azure SQL Server
Убедитесь, что настройка **Разрешить доступ к службам Azure** имеет состояние **ВКЛ** для вашего сервера Azure SQL Server, чтобы служба фабрики данных могла иметь доступ к серверу Azure SQL Server. Чтобы проверить и при необходимости включить этот параметр, выполните следующие действия.

1. Щелкните раздел **ОБЗОР** слева и выберите пункт **Серверы SQL**.
2. Выберите **свой сервер** и нажмите **ПАРАМЕТРЫ** в колонке **SQL SERVER**.
3. В колонке **ПАРАМЕТРЫ** щелкните пункт **Брандмауэр**.
4. В колонке **Параметры брандмауэра** щелкните **ВКЛ** для параметра **Разрешить доступ к службам Azure**.
5. Закройте все колонки, нажав **X**.

### Подготовка хранилища больших двоичных объектов Azure и базы данных SQL Azure для учебника
Теперь подготовьте хранилище больших двоичных объектов Azure и базу данных SQL Azure к изучению этого учебника, выполнив следующие действия.

1. Запустите блокнот, вставьте следующий текст и сохраните файл на жестком диске под именем **emp.txt** в папке **C:\\ADFGetStarted**.

        John, Doe
		Jane, Doe

2. При помощи таких средств, как [обозреватель хранилища Azure](https://azurestorageexplorer.codeplex.com/), создайте контейнер **adftutorial** и загрузите файл **emp.txt** в этот контейнер.

    ![Обозреватель хранилищ Azure](./media/data-factory-get-started/getstarted-storage-explorer.png)
3. Используйте следующий скрипт SQL, чтобы создать таблицу **emp** в базе данных SQL Azure.  


        CREATE TABLE dbo.emp
		(
			ID int IDENTITY(1,1) NOT NULL,
			FirstName varchar(50),
			LastName varchar(50),
		)
		GO

		CREATE CLUSTERED INDEX IX_emp_ID ON dbo.emp (ID);

	**Если на вашем компьютере установлен SQL Server 2012/2014**, следуйте инструкциям в статье [Шаг 2. Подключение к базе данных SQL управляющей базы данных SQL Azure при помощи SQL Server Management Studio][sql-management-studio] для подключения к серверу Azure SQL Server и запуска скрипта SQL. Обратите внимание, что в этой статье используется портал управления выпусками (http://manage.windowsazure.com), а не портал предварительных версий (http://portal.azure.com) для настройки брандмауэра сервера Azure SQL Server.

	**Если на компьютере установлено программное обеспечение Visual Studio 2013**, на [портале предварительной версии Azure](http://portal.azure.com) щелкните концентратор **ПРОСМОТР** слева, щелкните **Серверы SQL**, выберите свою базу данных и нажмите кнопку **Открыть в Visual Studio** на панели инструментов, чтобы подключиться к серверу Azure SQL Server и запустить скрипт. Если клиенту не разрешен доступ к серверу Azure SQL Server, следует настроить брандмауэр вашего сервера Azure SQL Server, чтобы разрешить доступ с вашей машины (IP-адрес). См. статью выше, чтобы ознакомиться с шагами по настройке брандмауэра для сервера Azure SQL Server.


Выполните следующие действия.

- Щелкните ссылку [Использование редактора фабрики данных](data-factory-get-started-using-editor.md) вверху, чтобы пройти учебник, используя редактор фабрики данных, который является компонентом портала Azure.
- Щелкните ссылку [Использование PowerShell](data-factory-monitor-manage-using-powershell.md) вверху, чтобы пройти учебник с помощью Azure PowerShell.
- Щелкните ссылку [Использование Visual Studio](data-factory-get-started-using-vs.md) вверху, чтобы пройти учебник с помощью Visual Studio 2013.
 

<!--Link references-->
[azure-free-trial]: http://azure.microsoft.com/pricing/free-trial/
[azure-preview-portal]: https://portal.azure.com/
[sql-management-studio]: http://azure.microsoft.com/documentation/articles/sql-database-manage-azure-ssms/#Step2

[monitor-manage-using-powershell]: data-factory-monitor-manage-using-powershell.md
[data-factory-introduction]: data-factory-introduction.md
[data-factory-create-storage]: http://azure.microsoft.com/documentation/articles/storage-create-storage-account/#create-a-storage-account
[data-factory-create-sql-database]: ../sql-database-get-started.md

<!---HONumber=August15_HO6-->