---
title: Копирование файлов из нескольких контейнеров с помощью Фабрики данных Azure | Документация Майкрософт
description: Сведения об использовании шаблона решения для копирования файлов из нескольких контейнеров с помощью Фабрики данных Azure.
services: data-factory
documentationcenter: ''
author: dearandyxu
ms.author: yexu
ms.reviewer: douglasl
manager: craigg
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.topic: conceptual
ms.date: 11/1/2018
ms.openlocfilehash: aa5f32594c295ab6a8e60af8359370f64f75a72d
ms.sourcegitcommit: d1c5b4d9a5ccfa2c9a9f4ae5f078ef8c1c04a3b4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2019
ms.locfileid: "55966815"
---
# <a name="copy-files-from-multiple-containers-with-azure-data-factory"></a>Копирование файлов из нескольких контейнеров с помощью Фабрики данных Azure

Описанный в этой статье шаблон решения поможет вам копировать файлы из нескольких файлов, контейнеров или сегментов в другое хранилище файлов. Предположим, что вы хотите перенести озеро данных из AWS S3 в Azure Data Lake Store. Или же вам потребовалось реплицировать все содержимое одной учетной записи хранилища BLOB-объектов Azure в другую учетную запись хранилища BLOB-объектов Azure. Этот шаблон разработан специально для таких вариантов использования.

Если вы хотите копировать файлы из одного контейнера или группы, эффективнее создать конвейер с одним действием копирования с помощью **инструмента копирования данных**. Для такого простого сценария этот шаблон будет слишком сложным.

## <a name="about-this-solution-template"></a>Информация о шаблоне решения

Этот шаблон составляет список контейнеров в исходном хранилище, а затем копирует каждый контейнер из исходного хранилища в целевое. 

Шаблон содержит три действия.
-   Действие **GetMetadata** сканирует исходное хранилище и получает из него список контейнеров.
-   Действие **ForEach** принимает список контейнеров от действия **GetMetadata** и последовательно передает каждый контейнер из этого списка в действие копирования.
-   Действие **Copy** копирует каждый контейнер из исходного хранилища в целевое хранилище.

Шаблон определяет два параметра.
-   Параметр *SourceFilePath* содержит путь к исходном хранилищу данных, из которого можно получить список контейнеров или групп. В большинстве случаев путь указывает на корневой каталог с несколькими папками контейнеров. По умолчанию этот параметр имеет значение `/`.
-   Параметр *DestinationFilePath* содержит путь, в который будут скопированы файлы в целевом хранилище. По умолчанию этот параметр имеет значение `/`.

## <a name="how-to-use-this-solution-template"></a>Использование шаблона решения

1. Перейдите к шаблону **копирования нескольких контейнеров файлов между хранилищами файлов** и создайте **новое подключение** к нужному исходному хранилищу. Исходное хранилище — это расположение, из которого нужно скопировать несколько контейнеров или групп.

    ![Создание нового подключения к источнику](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image1.png)

2. Создайте **новое подключение** к целевому хранилищу.

    ![Создание нового подключения к целевому хранилищу](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image2.png)

3. Щелкните **Использовать этот шаблон**.

    ![Использование шаблона](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image3.png)
    
4. На панели откроется доступный конвейер, как показано в следующем примере:

    ![Отображение конвейера](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image4.png)

5. Щелкните **Отладка**, введите **Параметры** и щелкните **Готово**.

    ![Запуск конвейера](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image5.png)

6. Просмотрите результаты.

    ![Просмотр результатов](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image6.png)

## <a name="next-steps"></a>Дополнительная информация

- [Общие сведения о службе фабрики данных Azure, службе интеграции данных в облаке](introduction.md)
