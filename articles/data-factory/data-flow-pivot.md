---
title: Преобразование потоков данных сопоставления в Фабрике данных Azure с помощью функции сведения
description: Преобразование потоков данных сопоставления в Фабрике данных Azure с помощью функции сведения
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 01/30/2019
ms.openlocfilehash: 86404f4eb2eb2de4243c6bb725f4292e7b560d18
ms.sourcegitcommit: f715dcc29873aeae40110a1803294a122dfb4c6a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2019
ms.locfileid: "56271532"
---
# <a name="azure-data-factory-mapping-data-flow-pivot-transformation"></a>Преобразование потоков данных сопоставления в Фабрике данных Azure с помощью функции сведения

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

Сведение потока данных Фабрики данных Azure (ADF) используется как статистическая функция, которая преобразовывает уникальные значения строк из одного или нескольких столбцов группирования в отдельные столбцы. По сути сведение позволяет сформировать новые столбцы из значений строк (превратить данные в метаданные).

![Параметры сведения](media/data-flow/pivot1.png "Сведение 1")

## <a name="group-by"></a>Сгруппировать по

![Параметры сведения](media/data-flow/pivot2.png "Сведение 2")

Сначала укажите столбцы, по которым вы хотите группировать данные для агрегирования сводных данных. Здесь можно задать несколько столбцов, используя знак "+" рядом со списком столбцов.

## <a name="pivot-key"></a>Ключ сведения

![Параметры сведения](media/data-flow/pivot3.png "Сведение 3")

Ключом сведения называется столбец, по которому ADF выполняет сведение от строки к столбцу. По умолчанию каждое уникальное значение в наборе данных для этого поля будет сводиться к столбцу. Но вы можете при желании ввести из набора данных значения, которые хотите свести к значениям столбца.

## <a name="pivoted-columns"></a>Сведенные столбцы

![Параметры сведения](media/data-flow/pivot4.png "Сведение 4")

Наконец, выберите агрегирование, которое вы хотите использовать для сведенных значений, и способ отображения столбцов в новой выходной проекции преобразования.

(Необязательно.) Вы можете задать шаблон именования с префиксом, серединой и суффиксом, которые будут добавляться к каждому новому имени столбца из значений строки.

Например, сведение таблицы Sales (Продажи) по Region (Регион) создаст новые значения столбцов из каждого значения продаж, например "25", "50", "1000" и т. д. Но если вы зададите значение префикса Sales (Продажи), произойдет следующее: 

![Параметры сведения](media/data-flow/pivot5.png "Сведение 5")

Если для параметра Column Arrangement (Расположение столбцов) выбрано значение Normal (Обычное), все столбцы при сведении сгруппируются вместе с их агрегированными значениями. Вариант Lateral (Боковое) для расположения столбцов создает чередование столбцов и значений.

### <a name="aggregation"></a>Агрегирование

Чтобы настроить агрегирование, которое вам нужно для сведенных значений, щелкните поле в нижней части панели Pivoted Columns (Сведенные столбцы). Откроется построитель выражений потока данных Фабрики данных Azure, где вы можете создать выражение статистической обработки и присвоить описательный псевдоним новым агрегированным значениям.

Используйте язык выражений потока данных Фабрики данных Azure, чтобы описать преобразования сведенных столбцов в построителе выражений: https://aka.ms/dataflowexpressions.

### <a name="how-to-rejoin-original-fields"></a>Повторное присоединение исходных полей
> [!NOTE]
> Преобразование "Сведение" будет передавать только те столбцы, которые использовались в действиях агрегирования, группирования и сведения. Если вы хотите включить в поток данных и другие столбцы из предыдущего шага, используйте действие New Branch (Новая ветвь) из предыдущего шага и шаблон самосоединения, чтобы подключить поток с исходными метаданными.
