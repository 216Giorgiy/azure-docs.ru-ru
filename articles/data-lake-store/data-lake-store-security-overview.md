<properties 
   pageTitle="Общие сведения об обеспечении безопасности в хранилище озера данных | Microsoft Azure" 
   description="Узнайте, почему хранилище озера данных Azure безопасно для хранения больших данных" 
   services="data-lake-store" 
   documentationCenter="" 
   authors="nitinme" 
   manager="paulettm" 
   editor="cgronlun"/>
 
<tags
   ms.service="data-lake-store"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="big-data" 
   ms.date="06/22/2016"
   ms.author="nitinme"/>

# Обеспечение безопасности в хранилище озера данных Azure

Многие предприятия используют аналитику больших данных, чтобы получать информацию, которая поможет принимать обоснованные решения. В этих организациях могут быть сложные управляемые среды с растущим числом разных пользователей. Поэтому для предприятий крайне важно, чтобы ценные данные хранились в безопасном расположении и чтобы определенным пользователям можно было назначать надлежащий уровень доступа к этим данным. Хранилище озера данных Azure разработано с учетом этих требований к безопасности. Из этой статьи вы узнаете о том, как обеспечить безопасность хранилища озера данных Azure (ADLS) с помощью следующих функций.

* Аутентификация
* Авторизация
* Сетевая изоляция
* Защита данных
* Аудит

 
## Проверка подлинности и управление удостоверениями

Проверка подлинности — это процесс, в ходе которого пользователи подтверждают свое удостоверение при взаимодействии с хранилищем озера данных или любыми службами, которые подключаются к хранилищу озера данных. Чтобы управлять удостоверениями и выполнять проверку подлинности, хранилище озера данных использует [Azure Active Directory](../active-directory/active-directory-whatis.md) (AAD), комплексное решение для управления удостоверениями и доступом в облаке, которое упрощает управление пользователями и группами.

Сейчас каждая подписка Azure связана с одним каталогом Azure Active Directory. Доступ к хранилищу озера данных могут получить только удостоверения пользователей и служб, определенные в этом каталоге. Доступ реализуется с помощью портала Azure, средств командной строки или клиентских приложений, созданных с помощью пакета SDK для хранилища озера данных. Ниже перечислены основные преимущества использования Azure Active Directory в качестве централизованного механизма управления доступом.

* Azure Active Directory упрощает управление жизненным циклом удостоверений. Удостоверение пользователя или службы (удостоверение субъекта-службы) можно быстро создавать и отзывать. Для этого нужно просто удалить или отключить учетную запись в каталоге.

* Azure Active Directory поддерживает [многофакторную проверку подлинности](../multi-factor-authentication/multi-factor-authentication.md), которая обеспечивает дополнительный уровень безопасности при входе пользователей в систему и осуществлении транзакций.

* Пользователи могут проходить проверку подлинности в Azure Active Directory с любого клиента с помощью стандартного открытого протокола, например OAuth и OpenID.

* Azure Active Directory поддерживает федерацию со службами каталога предприятия и поставщиками удостоверений в облаке.

## Проверка подлинности и управление доступом

После того, как пользователь прошел проверку подлинности в AAD для доступа к хранилищу озера данных, проверка подлинности управляет разрешениями на доступ к хранилищу озера данных. Хранилище озера данных различает проверку подлинности для действий, связанных с учетной записью, и для действий, связанных с данными, следующим образом. Управление учетными записями реализуется с помощью [управления доступом на основе ролей] (../active-directory/role-based access control-what-is.md) (RBAC), которое доступно в Azure. Также поддерживаются списки управления доступом для доступа к данным в хранилище.

### Использование RBAC для управления учетными записями

По умолчанию определены четыре основных роли. С помощью этих ролей разрешается доступ на выполнение различных операций в хранилище озера данных с помощью портала, командлетов PowerShell и REST API. Роли **Владелец** и **Участник** предоставляют доступ к различным функциям администрирования учетной записи. Пользователям, которые будут взаимодействовать с данными, можно назначить роль **Читатель**.

![Роли RBAC](./media/data-lake-store-security-overview/rbac-roles.png "Роли RBAC")

Обратите внимание, что эти роли назначаются для управления учетными записями. Конкретная роль также может иметь разрешения на доступ к данным. Уровень этих разрешений зависит от роли. Для операций, которые пользователь может выполнять в файловой системе, используйте списки управления доступом (ACL). Ниже приведен краткий обзор прав управления и прав доступа к данным для этих ролей.

| Роли | Права управления | Права доступа к данным | Пояснение |
|--------------------------|---------------------------------|--------------------|-------------|
| Роль не назначена | None | Управление с помощью ACL | В этом сценарии пользователи не могут использовать портал Azure или командлеты PowerShell Azure для просмотра хранилища озера данных. Такие пользователи должны использовать только средства командной строки. |
| Владелец | Все | Все | Владелец — это привилегированный пользователь, который может управлять всеми учетными данными и который имеет полный доступ к данным. | 
| Читатель | Только для чтения | Управление с помощью ACL | Читатель может просматривать всю информацию об управлении учетными записями. Например, пользователь с такой ролью может видеть, кому какая роль назначена, но не может вносить изменения в эти данные. |
| Участник | Все, кроме добавления и удаления ролей | Управление с помощью ACL | Участник может управлять другими функциями учетной записи, включая создание оповещений и управление ими, развертывание и т. д. Участник не может добавлять или удалять роли. |
| Администратор доступа пользователей | Добавление и удаление ролей | Управление с помощью ACL | Администратор доступа пользователей может управлять доступом пользователей к учетным записям. |

Инструкции см. в разделе [Назначение пользователей или групп безопасности учетным записям хранения озера данных Azure](data-lake-store-secure-data.md#assign-users-or-security-groups-to-azure-data-lake-store-accounts).

### Использование списков управления доступом для операций в файловых системах

Хранилище озера данных Azure — это иерархическая файловая система (как HDFS), которая поддерживает [списки управления доступом POSIX](https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html#ACLs_Access_Control_Lists), предоставляя владельцам, группе владельцев и другим пользователям и (или) группам права на чтение (r), запись (w) и выполнение (x) операций в ресурсах. В общедоступной предварительной версии хранилища озера данных (текущий выпуск) списки управления доступом поддерживаются только в корневой папке. Это означает, что списки управления доступом, настроенные для корневой папки, также применимы ко всем дочерним папкам и файлам. В будущих выпусках можно будет настраивать списки управления доступом для любого файла или папки.

Рекомендуется определять списки управления доступом для большого количества пользователей с помощью [групп безопасности](../active-directory/active-directory-accessmanagement-manage-groups.md). Включите пользователей в группу безопасности, а затем назначьте этой группе безопасности список управления доступом для файла или папки. Это удобно при предоставлении пользовательского доступа, так как для пользовательского доступа существует ограничение — не более девяти записей. Дополнительную информацию о защите данных, содержащихся в хранилище данных озера, с помощью групп безопасности AAD см. в разделе [Назначение пользователей или группы безопасности в виде ACL в файловой системе хранилища озера данных Azure](data-lake-store-secure-data.md#filepermissions).

![Перечисление стандартных и пользовательских сценариев доступа](./media/data-lake-store-security-overview/adl.acl.2.png "Перечисление стандартных и пользовательских сценариев доступа")

## Сетевая изоляция

Хранилище озера данных Azure позволяет дополнительно блокировать доступ к хранилищу данных на уровне сети. Вы можете включить брандмауэр и определить диапазон IP-адресов для доверенных клиентов. После включения брандмауэра к хранилищу смогут подключаться только клиенты с IP-адресами из определенного диапазона.

![Параметры брандмауэра и доступ по IP-адресу](./media/data-lake-store-security-overview/firewall-ip-access.png "Параметры брандмауэра и IP-адрес")

## Защита данных

Для организаций важно обеспечивать безопасность критических данных на протяжении всего жизненного цикла. Хранилище озера данных использует стандартный протокол TLS для защиты передаваемых данных между клиентом и хранилищем озера данных.

В будущих выпусках также будет доступна защита неактивных данных.

## Журналы аудита и диагностики

Действия, связанные с управлением учетными записями и данными, можно просматривать в журналах аудита или журналах диагностики.

*  Действия, связанные с управлением учетными записями, используют API-интерфейсы Azure Resource Manager и отображаются на портале Azure в журналах аудита.
*  Действия, связанные с данными, используют API-интерфейсы WebHDFS и отображаются на портале Azure в журналах диагностики.

### Журналы аудита

Чтобы обеспечить соответствие нормативным требованиям, организациям могут потребоваться журналы аудита, если возникнет необходимость расследовать инцидент. В хранилище озера данных реализована встроенная функция мониторинга и аудита, которая регистрирует все действия, связанные с управлением учетными записями.

В журналах аудита для управления учетными записями вы можете просматривать и выбирать нужные столбцы для регистрации, а также экспортировать журналы аудита в службу хранилища Azure.

![Журналы аудита](./media/data-lake-store-security-overview/audit-logs.png "Журналы аудита")

### Журналы диагностики

Журнал аудита доступа к данным можно включить на портале Azure (в разделе **Параметры диагностики**). Там же вы можете указать учетную запись хранилища BLOB-объектов Azure для хранения журналов.

![Журналы диагностики](./media/data-lake-store-security-overview/diagnostic-logs.png "Журналы диагностики")

Включив параметры диагностики, вы сможете просматривать журналы на вкладке **Журналы диагностики**.

## Сводка

Корпоративным клиентам нужна безопасная и простая в использовании облачная платформа для аналитики данных. Хранилище озера данных Azure полностью отвечает этим требованиям благодаря интеграции с Azure Active Directory. Это позволяет реализовать управление удостоверениями и проверку подлинности, проверку подлинности с помощью ALC, сетевую изоляцию, шифрование данных при передаче и хранении (ожидается в будущем), а также аудит.

Если вы хотите, чтобы мы добавили в хранилище данных новые функции, оставьте свой отзыв на [форуме Uservoice](https://feedback.azure.com/forums/327234-data-lake).

## См. также

- [Обзор хранилища озера данных Azure](data-lake-store-overview.md)
- [Начало работы с хранилищем озера данных](data-lake-store-get-started-portal.md)
- [Защита данных в хранилище озера данных](data-lake-store-secure-data.md)

<!---HONumber=AcomDC_0622_2016-->