---
title: "Руководство по миграции Azure Data Lake Store между регионами | Документация Майкрософт"
description: "Руководство по миграции Azure Data Lake Store между регионами"
services: data-lake-store
documentationcenter: 
author: stewu
manager: amitkul
editor: stewu
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 01/27/2017
ms.author: stewu
translationtype: Human Translation
ms.sourcegitcommit: 3c83a76c589178d5a2a01ed4edd208e42fb2e83e
ms.openlocfilehash: 785f97a28c060f88a0e0f3a5aa9cf6555ed2b5a4
ms.lasthandoff: 02/22/2017


---
# <a name="guidance-to-migrate-azure-data-lake-store-across-regions"></a>Руководство по миграции Azure Data Lake Store между регионами

Когда служба Azure Data Lake Store становится доступной в одном регионе, вам может понадобиться выполнить однократную миграцию, чтобы воспользоваться преимуществами нового региона.  Здесь приведены рекомендации, которые необходимо учитывать при планировании и выполнении миграции.

## <a name="prerequisites"></a>Предварительные требования

* **Подписка Azure**. Ознакомьтесь с [бесплатной пробной версией Azure](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись Azure Data Lake Store в двух разных регионах**. Инструкции по созданию учетной записи см. в статье, посвященной [началу работы с Azure Data Lake Store с помощью портала Azure](data-lake-store-get-started-portal.md).
* **Фабрика данных Azure**.  Дополнительные сведения см. в статье [Общие сведения о службе фабрики данных Azure, службе интеграции данных в облаке](../data-factory/data-factory-introduction.md).


## <a name="guidance-for-migration"></a>Руководство по миграции

Рекомендуем сначала определить правильную стратегию миграции приложения, то есть способы записи, чтения или обработки данных в Azure Data Lake Store. При выборе стратегии следует учитывать требования к доступности приложения (т. е. время простоя). Например, проще всего будет использовать быструю загрузку и удаление данных.  Это означает приостановку работы приложения в старом регионе, пока все данные копируются в новый регион.  После завершения процесса копирования вы можете возобновить работу приложения в новом регионе и удалить старую учетную запись Azure Data Lake Store.  Но в ходе миграции приложение не будет работать некоторое время.

Чтобы сократить время простоя, вы можете начать прием новых данных в новом регионе сразу и запустить приложение в нем, как только получите минимальный набор необходимых данных.  В фоновом режиме вы можете скопировать данные из старой учетной записи Azure Data Lake Store в учетную запись в новом регионе.  Такой подход позволяет переключиться в новый регион с минимальным временем простоя.  После копирования данных вы можете удалить старую учетную запись ADLS.

Далее перечислены другие важные факторы, которые следует учесть при планировании миграции.

* **Объем данных** — объем данных (количество ГБ, количество файлов и папок и т.д.) будет влиять на время и ресурсы, необходимые для миграции.

* **Имя учетной записи Azure Data Lake Store** — имя учетной записи в новом регионе должно быть уникальным для всего региона. Например, если contosoeastus2.azuredatalakestore.net — имя старой учетной записи хранилища в восточном регионе США 2, в регионе "северная Европа" вы можете назвать учетную запись contosonortheu.azuredatalakestore.net

* **Выбор средств** — для копирования файлов хранилища Azure Data Lake Store рекомендуется использовать [действие копирования в фабрике данных Azure](../data-factory/data-factory-azure-datalake-connector.md).   Фабрика данных Azure поддерживает надежное и эффективное перемещение данных.  Учтите, что фабрика данных Azure копирует только иерархию папок и содержимое файлов. Все списки управления доступом (ACL), которые вы использовали, потребуется применить вручную в новой учетной записи.  Из [руководства по улучшению производительности фабрики данных Azure](../data-factory/data-factory-copy-activity-performance.md) вы узнаете, как добиться целевых показателей производительности для оптимальных сценариев.  Если вы хотите скопировать данные в короткий промежуток времени, вам потребуются дополнительные единицы перемещения данных в облаке.  Обратите внимание, что некоторые средства, например ADLCopy, не поддерживают копирование данных между регионами.  

* **[Стоимость пропускной способности](https://azure.microsoft.com/en-us/pricing/details/bandwidth/)** — перемещение данных из региона Azure является платной услугой.

* **Списки управления доступом к данным** — защитите данные в новом регионе, используя списки управления доступом для файлов и папок.  Соответствующее руководство находится [здесь](data-lake-store-secure-data.md).  Рекомендуем воспользоваться этой миграцией для обновления и настройки списков управления доступом.  Если вы не хотите менять настройки, вы можете просмотреть списки управления доступом, применяемые к конкретному файлу, на портале, с помощью [командлетов PowerShell](https://docs.microsoft.com/en-us/powershell/resourcemanager/azurerm.datalakestore/v3.1.0/get-azurermdatalakestoreitempermission) или пакета SDK.  

* **Расположение служб аналитики** — для оптимальной производительности ваши службы аналитики, такие как Data Lake Analytics или HDInsight, должны находиться в том же регионе, где находятся данные.  

## <a name="see-also"></a>См. также
* [Обзор хранилища озера данных Azure](data-lake-store-overview.md)

