---
title: "Внедрение решение по обновлению и отслеживанию изменений в службу автоматизации Azure | Документация Майкрософт"
description: "Узнайте, как подключить решения по обновлению и отслеживанию изменений к службе автоматизации Azure."
services: automation
documentationcenter: 
author: eamonoreilly
manager: 
editor: 
ms.assetid: edae1156-2dc7-4dab-9e5c-bf253d3971d0
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/11/2017
ms.author: eamono
ms.openlocfilehash: 25ad5e04c96aab9dddd39cdb4d33bd8411817e8e
ms.sourcegitcommit: a648f9d7a502bfbab4cd89c9e25aa03d1a0c412b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="onboard-update-and-change-tracking-solutions-to-azure-automation"></a>Внедрение решений по обновлению и отслеживанию изменений в службу автоматизации Azure

В этом руководстве описаны следующие шаги по автоматическому внедрению в службу автоматизации Azure решений по обновлению и отслеживанию изменений, а также инвентаризации виртуальных машин:

> [!div class="checklist"]
> * Встроенный Виртуальной машине Azure
> * Для использования решений
> * Установка и обновление модулей
> * Импорт runbook адаптации
> * Запуск модуля runbook

## <a name="prerequisites"></a>Технические условия

Чтобы завершить этот учебник, необходимы следующие компоненты:

* Подписка Azure. Если у вас ее нет, [активируйте преимущества для подписчиков MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) или [зарегистрируйте бесплатную учетную запись](https://azure.microsoft.com/free/?WT.mc_id=A261C142F).
* [Учетная запись службы автоматизации](automation-offering-get-started.md) для управления компьютерами.
* Объект [виртуальной машины](../virtual-machines/windows/quick-create-portal.md) освоить.

## <a name="onboard-an-azure-vm"></a>Встроенный Виртуальной машине Azure

Чтобы присоединять виртуальные машины Azure автоматически, существующей виртуальной Машине должен быть встроен с отслеживанием изменений или решение для управления обновлениями. На этом этапе вам освоить виртуальную машину с управления обновлениями и отслеживание изменений.

### <a name="enable-change-tracking-and-inventory"></a>Включить отслеживание изменений и инвентаризации

Это решение отслеживания изменений и инвентаризации предоставляет возможность [отслеживания изменений](automation-vm-change-tracking.md) и [инвентаризации](automation-vm-inventory.md) на виртуальных машинах. На этом этапе включите решения на виртуальной машине.

1. В левом меню, выберите **учетные записи автоматизации**и выберите в списке учетную запись автоматизации.
1. Выберите **инвентаризации** под **УПРАВЛЕНИЯ КОНФИГУРАЦИЕЙ**.
1. Выберите существующую или создайте новую рабочую область Log Analytics. Нажмите кнопку **включить** кнопки.

![Встроенные решения для обновлений](media/automation-onboard-solutions/inventory-onboard.png)

По завершении инвентаризации и отслеживания решения адаптации уведомление об изменении, щелкните на **управления обновлениями** под **УПРАВЛЕНИЯ КОНФИГУРАЦИЕЙ**.

### <a name="enable-update-management"></a>Включение управления обновлениями

Решение для управления обновлениями позволяет управлять обновлений и исправлений для виртуальных машин Windows Azure. Можно оценить состояние доступные обновления расписание установки необходимых обновлений и просмотрите результаты развертывания для проверки обновлений были успешно применены к виртуальной машине. На этом шаге вы включить решение для виртуальной Машины.

1. Ваша учетная запись автоматизации, выберите **управление обновлениями** под **УПРАВЛЕНИЯ ОБНОВЛЕНИЯМИ**.
1. Выбранные рабочей областью аналитики журналов имеет ту же рабочую область на предыдущем шаге. Нажмите кнопку **включить** освоить решение для управления обновлениями.

![Встроенные решения для обновлений](media/automation-onboard-solutions/update-onboard.png)

При установке решения для управления обновлениями, отображается синий баннер. При включении решения выберите **отслеживания изменений** под **УПРАВЛЕНИЯ КОНФИГУРАЦИЕЙ** для перехода к следующему шагу.

### <a name="select-azure-vm-to-be-managed"></a>Выберите виртуальную Машину Azure для управления

Теперь, когда включены решений, чтобы выполнить регистрацию этих решений можно добавить ВМ Azure.

1. Из учетной записи автоматизации на **отслеживания изменений** выберите **+ добавить виртуальную Машину Azure** для добавления к виртуальной машине.

1. Выберите из списка и выберите ВМ **включить**. Это действие активирует решение инвентаризации для виртуальной машины и отслеживания изменений.

   ![Разрешить обновление решения для виртуальной машины](media/automation-onboard-solutions/enable-change-tracking.png)

1. После завершения адаптации уведомление виртуальной Машины, из вашей учетной записи автоматизации выберите **управление обновлениями** под **УПРАВЛЕНИЯ ОБНОВЛЕНИЯМИ**.

1. Выберите **+ добавить виртуальную Машину Azure** для добавления к виртуальной машине.

1. Выберите из списка и выберите ВМ **включить**. Это действие включает решение для управления обновлениями для виртуальной машины.

   ![Разрешить обновление решения для виртуальной машины](media/automation-onboard-solutions/enable-update.png)

> [!NOTE]
> Если вы не ожидаете другие решения для выполнения, при включении решении следующего вы получите сообщение о том,: *установки другого решения выполняется в данный момент на этот или другой виртуальной машины. После завершения этой установки "Включить" включен, и сможет запросить установки решения на этой виртуальной машине.*

## <a name="install-and-update-modules"></a>Установка и обновление модулей

Необходимо обновить до последних модулей Azure и импортировать `AzureRM.OperationalInsights` успешно автоматизации адаптации решения.

## <a name="update-azure-modules"></a>Обновить Azure модули

Ваша учетная запись автоматизации, выберите **модули** под **общие ресурсы**. Выберите **обновление модули Azure** для обновления до последней версии Azure модули. Выберите **Да** из командной строки, чтобы обновить все существующие модули Azure до последней версии.

![Модули обновления](media/automation-onboard-solutions/update-modules.png)

### <a name="install-azurermoperationalinsights-module"></a>Установка модуля AzureRM.OperationalInsights

Из **модули** выберите **обзора коллекции** открывая коллекции модулей. Найдите модуль AzureRM.OperationalInsights и импортируйте его в учетную запись автоматизации.

![Импорт модуля OperationalInsights](media/automation-onboard-solutions/import-operational-insights-module.png)

## <a name="import-the-onboarding-runbook"></a>Импорт runbook адаптации

1. Выберите учетную запись автоматизации, на **Runbooks** под **АВТОМАТИЗАЦИИ ПРОЦЕССОВ**.
1. Выберите **обзора коллекции**.
1. Поиск **обновление и отслеживание изменений**щелкните runbook и выберите **импорта** на **источник** страницы. Выберите **ОК** для импорта модуля runbook в учетной записи автоматизации.

  ![Импорт runbook адаптации](media/automation-onboard-solutions/import-from-gallery.png)

1. На **Runbook** выберите **изменить**, а затем выберите **публикации**. На **публикации Runbook** диалогового окна выберите **Да** для публикации модуля runbook.

## <a name="start-the-runbook"></a>Запуск модуля runbook

Чтобы запустить этот модуль runbook, нужно иметь уже подключенную к Azure решение по отслеживанию изменений или обновлению. Модуль принимает в качестве параметров уже существующую виртуальную машину и группу ресурсов, к которой подключена система.

1. Откройте модуль runbook с именем Enable-MultipleSolution.

   ![Несколько модулей Runbook решения](media/automation-onboard-solutions/runbook-overview.png)

1. Нажмите кнопку "Пуск" и введите следующие значения параметров.

   * **VMNAME** -оставьте поле пустым. Это имя существующей виртуальной машины, которую нужно подключить к решению по обновлению или отслеживанию изменений. Если оставить это значение пустым, все виртуальные машины в группе ресурсов, выставленных.
   * **VMRESOURCEGROUP** -имя группы ресурсов для виртуальных машин разместить.
   * **SUBSCRIPTIONID** -оставьте поле пустым. Идентификатор подписки подключать новой виртуальной Машины. Если оставить поле пустым, используется подписки рабочей области. Если вы укажете идентификатор другой подписки, учетная запись запуска от имени в учетной записи автоматизации будет добавлена в роль участника для указанной подписки.
   * **ALREADYONBOARDEDVM** -имя виртуальной Машины, которая была вручную подключать к отслеживание изменений или обновлений решения.
   * **ALREADYONBOARDEDVMRESOURCEGROUP** -имя группы ресурсов, членом которых является виртуальной Машины.
   * **SOLUTIONTYPE** -введите **обновления** или **отслеживание изменений**

   ![Включить MultipleSolution параметров runbook](media/automation-onboard-solutions/runbook-parameters.png)

1. Выберите **ОК** для запуска задания runbook.
1. Отслеживайте ход выполнения и наличие ошибок на странице задания runbook.

## <a name="next-steps"></a>Дальнейшие действия

Из этого руководства вы узнали, как выполнить следующие задачи:

> [!div class="checklist"]
> * подключение виртуальной машины Azure вручную;
> * установка и обновление необходимых модулей Azure;
> * импорт модуля runbook, который подключает виртуальные машины Azure;
> * запуск модуля runbook, который автоматически подключает виртуальные машины Azure.

Перейдите по ссылке для получения дополнительных сведений о планировании модулей Runbook.

> [!div class="nextstepaction"]
> [Планирование модулей Runbook](automation-schedules.md).
