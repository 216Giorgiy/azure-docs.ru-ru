<properties 
   pageTitle="Типы модулей Runbook в службе автоматизации Azure"
   description="Описание различных типов модулей Runbook, которые можно использовать в службе автоматизации Azure, и рекомендации по выбору типа модуля."
   services="automation"
   documentationCenter=""
   authors="bwren"
   manager="stevenka"
   editor="tysonn" />
<tags 
   ms.service="automation"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="09/17/2015"
   ms.author="bwren" />

# Типы модулей Runbook в службе автоматизации Azure

Служба автоматизации Azure поддерживает три типа модулей Runbook, кратко описанных в приведенной ниже таблице. Следующие разделы содержат дополнительную информацию о каждом типе, включая рекомендацию по использованию.


| Тип | Описание |
|:---|:---|
| [Графический](#graphical-runbooks) | Опирается на рабочий процесс Windows PowerShell, а полностью создается и редактируется в графическом редакторе на портале Azure. | 
| [Рабочий процесс PowerShell](#powershell-workflow-runbooks) | Текстовый модуль Runbook, основанный на рабочем процессе Windows PowerShell. |
| [PowerShell](#powershell-runbooks) | Текстовый модуль Runbook, основанный на сценарии Windows PowerShell. |

## Графические модули Runbook

[Графические модули Runbook](automation-runbook-types.md#graphical-runbooks) создаются и редактируются в графическом редакторе на портале Azure. Их можно экспортировать в файл и затем импортировать в другую учетную запись автоматизации, но создавать и редактировать их в других инструментах нельзя. Графические модули Runbook генерируют код рабочего процесса PowerShell, но просматривать и изменять код напрямую нельзя. Графические модули Runbook нельзя конвертировать ни в один из [текстовых форматов](automation-runbook-types.md), а текстовые нельзя превратить в графические.

### Преимущества

- Создание модулей Runbook с минимальными знаниями о [рабочем процессе PowerShell](automation-powershell-workflow.md).
- Визуальное представление процессов управления.
- Использование [контрольных точек](automation-powershell-workflow.md#checkpoints) для возобновления модулей Runbook в случае ошибки.
- Использование [параллельной обработки](automation-powershell-workflow.md#parallel-processing) для одновременного выполнения нескольких действий.
- Другие графические модули Runbook и модули Runbook рабочих процессов PowerShell можно добавлять как дочерние модули для создания рабочих процессов высокого уровня.

### Ограничения

- Редактировать модуль Runbook за пределами портала Azure нельзя.
- Для выполнения сложной логики может потребоваться [элемент управления сценарием рабочего процесса](automation-powershell-workflow.md#activities) с рабочим процессом PowerShell.
- Модуль Runbook запускается дольше, чем модули Runbook PowerShell, поскольку требует предварительной компиляции.
- Модули Runbook PowerShell можно включать только с помощью командлета Start-AzureAutomationRunbook, который создает новое задание.

## Модули Runbook рабочих процессов PowerShell

Модули Runbook рабочих процессов PowerShell представляют собой текстовые модули Runbook, основанные на [рабочем процессе Windows PowerShell](automation-powershell-workflow.md). Код модуля Runbook можно редактировать в текстовом редакторе на портале Azure. Кроме того, можно использовать любой автономный текстовый редактор и [импортировать модуль Runbook](http://msdn.microsoft.com/library/azure/dn643637.aspx) в службу автоматизации Azure.

### Преимущества

- Реализация сложной логики с помощью кода рабочего процесса PowerShell.
- Использование [контрольных точек](automation-powershell-workflow.md#checkpoints) для возобновления модулей Runbook в случае ошибки.
- Использование [параллельной обработки](automation-powershell-workflow.md#parallel-processing) для одновременного выполнения нескольких действий.
- Другие графические модули Runbook или модули Runbook рабочих процессов PowerShell можно добавлять как дочерние модули для создания рабочих процессов высокого уровня.

### Ограничения

- Автор должен знать рабочий процесс PowerShell.
- Модуль Runbook должен справляться с усложнениями рабочего процесса PowerShell, например с [десериализованными объектами](automation-powershell-workflow.md#code-changes).
- Модуль Runbook запускается дольше, чем модули Runbook PowerShell, поскольку требует предварительной компиляции.
- Модули Runbook PowerShell можно включать только с помощью командлета Start-AzureAutomationRunbook, который создает новое задание.

## Модули Runbook PowerShell

Модули Runbook PowerShell используют Windows PowerShell. Код модуля Runbook можно редактировать в текстовом редакторе на портале Azure. Кроме того, можно использовать любой автономный текстовый редактор и [импортировать модуль Runbook](http://msdn.microsoft.com/library/azure/dn643637.aspx) в службу автоматизации Azure.

### Преимущества

- Реализация сложной логики с помощью кода рабочего процесса PowerShell без дополнительного усложнения рабочего процесса PowerShell. 
- Модуль Runbook запускается быстрее, чем графические модули или модули рабочего процесса PowerShell, поскольку не требуют предварительной компиляции.

### Ограничения

- Необходимо знание сценариев PowerShell.
- Невозможность использования [параллельной обработки](automation-powershell-workflow.md#parallel-processing) для одновременного выполнения нескольких действий.
- Невозможность использования [контрольных точек](automation-powershell-workflow.md#checkpoints) для возобновления модулей Runbook в случае ошибки.
- Невозможность запуска модулей Runbook на [гибридном компоненте Runbook Worker](automation-hybrid-runbook-worker.md).
- Модули рабочего процесса PowerShell и графические модули Runbook можно включать только с помощью командлета Start-AzureAutomationRunbook, который создает новое задание.

### Известные проблемы
Ниже перечислены проблемы с модулями Runbook PowerShell, известные на данный момент.

- Модули Runbook PowerShell не могут извлекать незашифрованный [переменный ресурс](automation-variables.md) с нулевым значением.
- Модули Runbook PowerShell не могут извлекать незашифрованный [переменный ресурс](automation-variables.md), в имени которого есть символ *~*.
- Модуль Get-Process в цикле в модуле Runbook PowerShell может аварийно завершить работу после примерно 80 итераций. 
- Модуль Runbook PowerShell может завершиться ошибкой, если попытается записать слишком большой объем данных в поток вывода за один раз. Обычно эту проблему можно обойти, выводя при работе с большими объектами только необходимые данные. Например, вместо того чтобы использовать метод *Get-Process*, можно вывести только требуемые поля, указав *Get-Process | Select ProcessName, CPU*.

## Рекомендации

Выбирая тип модуля Runbook, принимайте во внимание следующие факторы:

- Модули Runbook нельзя конвертировать из одного типа в другой.
- При использовании других типов дочерних модулей Runbook могут действовать некоторые ограничения. Дополнительные сведения см. в статье [Дочерние модули Runbook в службе автоматизации Azure](automation-child-runbooks.md).



  
## Связанные статьи

- [Графическая разработка в службе автоматизации Azure](automation-graphical-authoring-intro.md)
- [Изучение рабочего процесса Windows PowerShell](automation-powershell-workflow.md)
- [Создание или импорт модуля Runbook](http://msdn.microsoft.com/library/azure/dn643637.aspx)

<!---HONumber=Sept15_HO4-->