<properties 
	pageTitle="Администрирование кэша Redis для Azure | Microsoft Azure"
	description="Узнайте, как выполнять задачи администрирования, такие как перезагрузка и планирование обновлений кэша Redis для Azure."
	services="redis-cache"
	documentationCenter="na"
	authors="steved0x"
	manager="douge"
	editor="tysonn" />
<tags 
	ms.service="cache"
	ms.devlang="na"
	ms.topic="article"
	ms.tgt_pltfrm="cache-redis"
	ms.workload="tbd"
	ms.date="06/28/2016"
	ms.author="sdanie" />

# Администрирование кэша Redis для Azure

В этом разделе описывается выполнение задач администрирования, таких как перезагрузка и планирование обновлений для экземпляров кэша Redis для Azure.

>[AZURE.IMPORTANT] Параметры и функции, описанные в этой статье, доступны только для кэшей уровня "Премиум".


## Параметры администрирования

Параметры в разделе **Администрирование** кэша Redis для Azure позволяют выполнить следующие задачи администрирования для кэша уровня "Премиум". Чтобы получить доступ к параметрам администрирования, щелкните **Параметры** или **Все параметры** в колонке кэша Redis и перейдите к разделу **Администрирование** в колонке **Параметры**.

![Администрирование](./media/cache-administration/redis-cache-administration.png)

-	[Reboot](#reboot)
-	[Планирование обновлений](#schedule-updates)

## Reboot

Колонка **Перезагрузка** позволяет перезагрузить один или несколько узлов кэша. Это дает возможность протестировать приложение на устойчивость в случае сбоя.

![Reboot](./media/cache-administration/redis-cache-reboot.png)

Если у вас кэш уровня "Премиум" с включенной кластеризацией, то вы можете выбрать сегменты кэша для перезагрузки.

![Reboot](./media/cache-administration/redis-cache-reboot-cluster.png)

Чтобы перезагрузить один или несколько узлов кэша, выберите необходимые узлы и нажмите кнопку **Перезагрузить**. Если у вас кэш уровня "Премиум" с включенной кластеризацией, выберите сегменты для перезагрузки и нажмите кнопку **Перезагрузить**. Через несколько минут выбранные узлы перезагрузятся, а еще через несколько минут — возобновят работу.

Воздействие на клиентские приложения зависит от того, какие узлы перезагружаются.

-	**Главный**: при перезагрузке главного узла кэш Redis для Azure выполняет отработку отказа на узел реплики, а затем повышает его уровень до главного узла. Во время этой отработки отказа может возникать короткий интервал, когда попытки подключения к кэшу заканчиваются сбоем.
-	**Подчиненный**: перезагрузка подчиненного узла обычно не оказывает никакого воздействия на клиенты кэша.
-	**Главный и подчиненный**: при перезагрузке обоих узлов кэша все данные в нем теряются. Подключения к кэшу заканчиваются сбоем, пока основной узел не станет доступным снова. Если вы настроили [сохраняемость данных](cache-how-to-premium-persistence.md), то когда кэш снова станет доступным, будет восстановлена последняя резервная копия.
-	**Узлы кэша уровня "Премиум" с включенной кластеризацией**: при перезагрузке узлов кэша уровня "Премиум" с включенной кластеризацией процедура восстановления такая же, как при перезагрузке узлов некластеризованного кэша.


>[AZURE.IMPORTANT] Функция перезагрузки доступна только для кэшей уровня "Премиум".

## Часто задаваемые вопросы о перезагрузке

-	[Какой узел следует перезагрузить, чтобы протестировать приложение?](#which-node-should-i-reboot-to-test-my-application)
-	[Можно ли перезагрузить кэш, чтобы очистить подключения клиентов?](#can-i-reboot-the-cache-to-clear-client-connections)
-	[Сохранятся ли данные кэша после перезагрузки?](#will-i-lose-data-from-my-cache-if-i-do-a-reboot)
-	[Можно ли перезагрузить кэш с помощью PowerShell, интерфейса командной строки или других средств управления?](#can-i-reboot-my-cache-using-powershell-cli-or-other-management-tools)
-	[Для каких ценовых категорий доступна функция перезагрузки?](#what-pricing-tiers-can-use-the-reboot-functionality)


### Какой узел следует перезагрузить, чтобы протестировать приложение?

Чтобы протестировать приложение на устойчивость в случае сбоя основного узла кэша, перезагрузите **главный** узел. Чтобы протестировать приложение на устойчивость в случае сбоя вторичного узла, перезагрузите **подчиненный** узел. Чтобы протестировать приложение на устойчивость в случае общего сбоя кэша, перезагрузите **оба** узла.

### Можно ли перезагрузить кэш, чтобы очистить подключения клиентов?

Да, при перезагрузке кэша все клиентские подключения очищаются. Это может оказаться полезным, когда все подключения клиентов уже использованы, например, из-за логической ошибки или ошибки в клиентском приложении. В каждой ценовой категории существуют [ограничения на подключение клиентов](cache-configure.md#default-redis-server-configuration) для различных размеров, и когда эти ограничения достигаются, последующие подключения не принимаются. Перезагрузка кэша позволяет очистить все подключения клиентов.

### Сохранятся ли данные кэша после перезагрузки?

Если перезагрузить и **главный**, и **подчиненный** узлы, то все данные в кэше (или в отдельном сегменте — при использовании кэша уровня "Премиум" с включенной кластеризацией) будут потеряны. Если вы настроили [сохраняемость данных](cache-how-to-premium-persistence.md), то когда кэш снова станет доступным, будет восстановлена последняя резервная копия.

Если перезагрузить только один из узлов, то, как правило, данные не теряются, но это все же может произойти. Например, если перезагрузить главный узел в то время, когда выполняется запись в кэш, то данные кэша будут потеряны.

### Можно ли перезагрузить кэш с помощью PowerShell, интерфейса командной строки или других средств управления?

В данный момент эта функция не поддерживается, но она появится в ближайшее время.

### Для каких ценовых категорий доступна функция перезагрузки?

Функция перезагрузки доступна только в ценовой категории "Премиум".

## Планирование обновлений

Колонка **Schedule updates** (Планирование обновлений) позволяет указать период обслуживания для кэша. Если задан период обслуживания, то любые обновления сервера Redis выполняются в этот период. Обратите внимание, что данный период обслуживания относится только к обновлениям сервера Redis, а не ко всем обновлениям Azure или операционной системы виртуальных машин, на которых размещен кэш.

![Планирование обновлений](./media/cache-administration/redis-schedule-updates.png)

Чтобы задать период обслуживания, отметьте необходимые дни и укажите время начала периода обслуживания в каждый из дней, а затем нажмите кнопку **ОК**. Обратите внимание, что время периода обслуживания указывается в формате UTC.

## Часто задаваемые вопросы о планировании обновлений

-	[Когда происходят обновления, если функция планирования обновлений не используется?](#when-do-updates-occur-if-i-dont-use-the-schedule-updates-feature)
-	[Какие типы обновлений выполняются в запланированный период обслуживания?](#what-type-of-updates-are-made-during-the-scheduled-maintenance-window)
-	[Для каких ценовых категорий доступна функция планирования обновлений?](#what-pricing-tiers-can-use-the-schedule-updates-functionality)

### Когда происходят обновления, если функция планирования обновлений не используется?

Если период обслуживания не указан, то обновления могут выполняться в любое время.

### Какие типы обновлений выполняются в запланированный период обслуживания?

В запланированный период обслуживания выполняются только обновления сервера Redis. Этот период обслуживания не распространяется на обновления Azure или обновления операционной системы виртуальной машины.

### Для каких ценовых категорий доступна функция планирования обновлений?

Функция планирования обновлений доступна только в ценовой категории "Премиум".

<!---HONumber=AcomDC_0629_2016-->