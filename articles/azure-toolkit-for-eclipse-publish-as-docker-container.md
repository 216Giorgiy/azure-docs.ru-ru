---
title: "Публикация контейнера Docker с помощью набора средств Azure для Eclipse | Документы Майкрософт"
description: "Вы можете узнать, как опубликовать веб-приложение в Microsoft Azure в виде контейнера Docker с помощью набора средств Azure для Eclipse."
services: 
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: multiple
ms.devlang: Java
ms.topic: article
ms.date: 04/14/2017
ms.author: robmcm
translationtype: Human Translation
ms.sourcegitcommit: 9eafbc2ffc3319cbca9d8933235f87964a98f588
ms.openlocfilehash: f738647fa1dad757b53611c7d4abe2dd99fe8838
ms.lasthandoff: 04/22/2017


---

# <a name="how-to-publish-a-web-app-as-a-docker-container-using-the-azure-toolkit-for-eclipse"></a>Публикация веб-приложения в виде контейнера Docker с помощью набора средств Azure для Eclipse

Контейнеры Docker широко используются для развертывания веб-приложений. При этом разработчики могут объединить все зависимости и файлы проекта в одном пакете для развертывания на сервере. Набор средств Azure для Eclipse упрощает этот процесс для разработчиков на Java, добавив функции *публикации в качестве контейнера Docker* при развертывании в Microsoft Azure. В этой статье описаны действия, необходимые для публикации приложений в Azure в качестве контейнеров Docker.

> [!NOTE]
>
> Дополнительные сведения о Docker см. на [веб-сайте Docker].
>

[!INCLUDE [azure-toolkit-for-eclipse-prerequisites](../includes/azure-toolkit-for-eclipse-prerequisites.md)]

## <a name="publishing-your-web-app-to-azure-using-a-docker-container"></a>Публикация веб-приложения в Azure с помощью контейнера Docker

1. Откройте проект веб-приложения в Eclipse.

1. Используйте один из следующих методов, чтобы запустить мастер публикации как контейнера Docker:

   * Щелкните правой кнопкой мыши проект в представлении **Навигатор**, щелкните **Azure**, а затем выберите **Publish as Docker Container** (Опубликовать как контейнер Docker):  ![Публикация в виде контейнера Docker][PUB01]

   * Щелкните меню **Публикация** на панели инструментов Eclipse, а затем выберите **Publish as Docker Container** (Опубликовать как контейнер Docker):  ![Публикация в виде контейнера Docker][PUB02]

1. При отображении мастера **Deploy Docker Container on Azure** (Развертывание контейнера Docker в Azure) появляется диалоговое окно, аналогичное следующему: ![Мастер развертывания контейнер Docker в Azure][PUB03]

   а. Введите в текстовом поле **Docker image name** (Имя образа Docker) уникальное имя для узла Docker. (Мастер создаст имя автоматически, но его можно изменить.)

   b. В окне **Узлы** отображаются все созданные вами узлы Docker.
      * Если вы еще не создали узлы Docker, этот раздел диалогового окна будет пуст.
      * Если вы уже создали узлы Docker, то сможете развернуть веб-приложение на существующем узле. В противном случае выполните описанные ниже действия, чтобы создать узел Docker.

1. Для создания узла Docker нажмите кнопку **Добавить**, чтобы открыть диалоговое окно **Create Docker Host** (Создать узел Docker).
      ![Мастер по развертыванию контейнера Docker в Azure][PUB04]

   а. Укажите для узла Docker приведенные ниже параметры. (Мастер создает большинство параметров автоматически, но их можно изменить.)

      * **Имя**: уникальное имя для узла Docker. (Оно не совпадает с указанным выше именем образа Docker.)

      * **Подписка**: укажите, какая подписка Azure будет использоваться для вашего узла.
      
      * **Регион**: укажите географический регион, где будет размещаться узел.
      
      * На вкладке **OS and Size** (ОС и размер):
         * **Host OS** (ОС узла): укажите операционную систему для виртуальной машины, содержащей ваш узел.
         * **Размер**: укажите размер виртуальной машины для узла.

      * На вкладке **Группа ресурсов**:
         * **Новая группа ресурсов**: позволяет создать группу ресурсов для узла.
         * **Существующая группа ресурсов**: позволяет указать существующую группу ресурсов из учетной записи Azure.

      * На вкладке **Сеть**:
         * **Новая виртуальная сеть**: позволяет создать виртуальную сеть для узла.
         * **Существующая виртуальная сеть**: позволяет указать существующую виртуальную сеть из учетной записи Azure.

      * На вкладке **Хранилище**:
         * **Новая учетная запись хранения**: позволяет создать учетную запись хранения для узла.
         * **Существующая учетная запись хранения**: позволяет указать существующую учетную запись хранения из учетной записи Azure.

   b. После указания перечисленных выше параметров нажмите кнопку **Далее**.

   c. Выберите один из следующих параметров для имени входа виртуальной машины на узле Docker:    ![Создание узла Docker][PUB05]

      * **Import credentials from Azure Key Vault** (Импортировать учетные данные из Azure Key Vault): позволяет указать ранее сохраненный набор учетных данных, хранящихся в подписке Azure.

      > [!NOTE]
      > Azure Key Vault, создаваемое с помощью определенной учетной записи или определенного субъекта-службы, не становится по умолчанию доступным для другой учетной записи или другого субъекта-службы, которые относятся к той же подписке. Чтобы разрешить другой учетной записи или другому субъекту-службе использовать Key Vault, нужно добавить их с помощью портала Azure.

      * **New log in credentials** (Новые учетные данные для входа): позволяет создать набор учетных данных для входа, для которых потребуется указать следующие параметры на вкладке **VM Credentials** (Учетные данные для виртуальной машины):
         * **Username** (Имя пользователя): указывает имя пользователя для входа в виртуальную машину.
         * **Password** (Пароль) и **Confirm** (Подтверждение): указывают пароль для входа в виртуальную машину.
         * **SSH**: задает параметры Secure Shell (SSH) для узла Docker. Доступны следующие параметры:
            * **None** (Нет): указывает, что виртуальная машина не разрешает соединения по протоколу SSH.
            * **Auto-generate** (Автоматическое создание): этот параметр автоматически создает необходимые параметры для подключения через SSH.
            * **Import from directory** (Импорт из каталога): позволяет указать каталог, содержащий набор ранее сохраненных параметров SSH. В частности, каталог должен содержать два следующих файла:
               * *id_rsa*: этот файл содержит идентификацию RSA для пользователя.
               * *id_rsa.pub*: этот файл содержит открытый ключ RSA, который будет использоваться для проверки подлинности.
        
      * На вкладке **Docker Daemon Access** (Доступ к управляющей программе Docker) укажите следующие параметры: ![Создание узла Docker][PUB06]

         * **Docker Daemon port** (Порт управляющей программы Docker): задает уникальный TCP-порт для узла Docker.
         * **TLS Security** (Безопасность TLS): задает параметры TLS для узла Docker. Доступны следующие параметры:
            * **None** (Нет): указывает, что виртуальная машина не разрешает соединения по протоколу TLS.
            * **Auto-generate** (Автоматическое создание): этот параметр автоматически создает необходимые параметры для подключения через TLS.
            * **Import from directory** (Импорт из каталога): позволяет указать каталог, содержащий набор ранее сохраненных параметров TLS. В частности, каталог должен содержать шесть следующих файлов:
               * *ca.pem* и *ca-key.pem*: эти файлы содержат сертификат и открытый ключ для центра сертификации TLS.
               * *cert.pem* и *key.pem*: эти файлы содержат клиентский сертификат и открытый ключ, которые будут использоваться для проверки подлинности TLS.
               * *server.pem* и *server-key.pem*: эти файлы содержат сертификат сервера и открытый ключ для узла.

   г) После указания всех перечисленных выше параметров нажмите кнопку **Готово**.

1. Когда снова отображается мастер по **развертыванию контейнера Docker в Azure**, нажмите кнопку **Далее**.
   ![Мастер по развертыванию контейнера Docker в Azure][PUB07]

1. На последней странице мастера укажите следующие параметры:

   * **Docker container name** (Имя контейнера Docker): это уникальное имя для контейнера Docker.

   * Выберите один из следующих образов Docker:

      * **Predefined Docker image** (Предопределенный образ Docker): позволяет указать существующий образ Docker из Azure.

      > [!NOTE]
      > Список образов Docker в этом раскрывающемся меню состоит из нескольких образов, которые набор средств Azure исправляет так, чтобы артефакт развертывался автоматически.

      * **Custom Dockerfile** (Пользовательский Dockerfile): позволяет указать сохраненный ранее Dockerfile на локальном компьютере.

      > [!NOTE]
      > Это расширенная функция для разработчиков, желающих развернуть собственный Dockerfile. Однако за правильность Dockerfile отвечают сами разработчики, использующие эту возможность. Набор средств Azure не проверяет содержимое пользовательского Dockerfile, поэтому при наличии проблем в Dockerfile развертывание может завершиться ошибкой. Кроме того, набор средств Azure ожидает, что пользовательский Dockerfile содержит артефакт веб-приложения, и попытается установить соединение HTTP. Если разработчики публикуют артефакт другого типа, после развертывания могут возникнуть безвредные ошибки.

   * **Port settings** (Параметры порта): указывает уникальную привязку TCP-порта для контейнера Docker.
   ![Мастер по развертыванию контейнера Docker в Azure][PUB08]

1. После выполнения всех перечисленных выше действий нажмите кнопку **Готово**.

Набор средств Azure начинает развертывание веб-приложения в контейнере Docker Azure. 

## <a name="see-also"></a>См. также
Дополнительные сведения о наборах средств Azure для Java IDE см. по следующим ссылкам:

* [Набор средств Azure для Eclipse]
  * [Новые возможности набора средств Azure для Eclipse]
  * [Установка набора средств Azure для Eclipse]
  * [Инструкции по входу для набора средств Azure для Eclipse]
  * [Создание веб-приложения Hello World для Azure в Eclipse]
* [Набор средств Azure для IntelliJ]
  * [Новые возможности набора средств Azure для IntelliJ]
  * [Установка набора средств Azure для IntelliJ]
  * [Инструкции по входу для набора средств Azure для IntelliJ]
  * [Создание веб-приложения Hello World для Azure в IntelliJ]

Дополнительные сведения об использовании Azure см. в [центре разработчиков Java для Azure] и на странице [инструментов Java для Visual Studio Team Services].

Дополнительные ресурсы по Docker см. на официальном [веб-сайте Docker].

<!-- URL List -->

[Набор средств Azure для Eclipse]: ./azure-toolkit-for-eclipse.md
[Набор средств Azure для IntelliJ]: ./azure-toolkit-for-intellij.md
[Создание веб-приложения Hello World для Azure в Eclipse]: ./app-service-web/app-service-web-eclipse-create-hello-world-web-app.md
[Создание веб-приложения Hello World для Azure в IntelliJ]: ./app-service-web/app-service-web-intellij-create-hello-world-web-app.md
[Установка набора средств Azure для Eclipse]: ./azure-toolkit-for-eclipse-installation.md
[Установка набора средств Azure для IntelliJ]: ./azure-toolkit-for-intellij-installation.md
[Инструкции по входу для набора средств Azure для Eclipse]: ./azure-toolkit-for-eclipse-sign-in-instructions.md
[Инструкции по входу для набора средств Azure для IntelliJ]: ./azure-toolkit-for-intellij-sign-in-instructions.md
[Новые возможности набора средств Azure для Eclipse]: ./azure-toolkit-for-eclipse-whats-new.md
[Новые возможности набора средств Azure для IntelliJ]: ./azure-toolkit-for-intellij-whats-new.md

[центре разработчиков Java для Azure]: https://azure.microsoft.com/develop/java/
[инструментов Java для Visual Studio Team Services]: https://java.visualstudio.com/ (Инструменты Java для Visual Studio Team Services)

[веб-сайте Docker]: https://www.docker.com/

<!-- IMG List -->

[PUB01]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB01.png
[PUB02]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB02.png
[PUB03]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB03.png
[PUB04a]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB04a.png
[PUB04b]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB04b.png
[PUB04c]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB04c.png
[PUB04d]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB04d.png
[PUB05]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB05.png
[PUB06]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB06.png
[PUB07]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB07.png
[PUB08]: ./media/azure-toolkit-for-eclipse-publish-as-docker-container/PUB08.png

