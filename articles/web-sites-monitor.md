<properties linkid="manage-services-how-to-monitor-websites" urlDisplayName="How to monitor" pageTitle="How to monitor websites - Azure service management" metaKeywords="Azure monitoring web sites, Azure Management Portal Monitor, Azure monitoring" description="Learn how to monitor Azure websites by using the Monitor page in the Management Portal." metaCanonical="" services="web-sites" documentationCenter="" title="How to Monitor Websites" authors="cephalin" solutions="" manager="wpickett" editor="mollybos" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="cephalin"></tags>

# <a name="howtomonitor"></a>Мониторинг веб-сайтов

Веб-сайты предоставляют возможности мониторинга на странице управления «Монитор». Страница управления «Монитор» содержит описанную ниже статистику производительности для веб-сайта.

## Оглавление

-   [Практическое руководство. Добавление метрик веб-сайта][Практическое руководство. Добавление метрик веб-сайта]
-   [Практическое руководство. Получение оповещений от метрик веб-сайта][Практическое руководство. Получение оповещений от метрик веб-сайта]
-   [Практическое руководство. Просмотр квот использования для веб-сайта][Практическое руководство. Просмотр квот использования для веб-сайта]
-   [Практическое руководство. Уменьшение использования ресурсов][Практическое руководство. Уменьшение использования ресурсов]
-   [Что происходит при превышении квоты на использование ресурсов][Что происходит при превышении квоты на использование ресурсов]
-   [Практическое руководство. Настройка диагностики и скачивание журналов для веб-сайта][Практическое руководство. Настройка диагностики и скачивание журналов для веб-сайта]
-   [Практическое руководство. Мониторинг состояния конечной веб-точки][Практическое руководство. Мониторинг состояния конечной веб-точки]

## <a name="websitemetrics"></a>Практическое руководство. Добавление метрик веб-сайта

1.  На страницах управления веб-сайтом [портала управления Azure][портала управления Azure] выберите вкладку **Монитор**, чтобы просмотреть страницу управления **Монитор**. По умолчанию на диаграмме на странице **Монитор** отображаются те же показатели, что и на диаграмме на странице **Панель мониторинга**.

2.  Чтобы просмотреть дополнительные метрики для веб-сайта, щелкните **Добавить метрики** в нижней части страницы, чтобы открыть диалоговое окно **Выберите метрики**.

3.  Установите флажок для отображения дополнительных метрик на странице **Монитор**.

4.  После выбора метрик, добавляемых на страницу **Монитор**, нажмите кнопку **ОК**

5.  Добавив метрики на страницу **Монитор**, щелкните флажок включения/отключения рядом с каждой метрикой, чтобы добавить / удалить метрики из диаграммы в верхней части страницы.

6.  Чтобы удалить метрики со страницы **Монитор**, выберите метрику, которую требуется удалить, и щелкните значок **Удалить метрики** в нижней части страницы.

Следующий список содержит метрики, которые можно просматривать на диаграмме страницы **Монитор**:

-   **Время ЦП** — мера использования ЦП веб-сайтом.
-   **Запросы** — счетчик всех клиентских запросов к веб-сайту.
-   **Исходящие данные** — мера данных, отправленных веб-сайтом клиентам.
-   **Входящие данные** — мера данных, полученных веб-сайтом от клиентов.
-   **Ошибки клиента HTTP** — число отправленных сообщений HTTP «4xx - ошибка клиента».
-   **Ошибки сервера HTTP** — число отправленных сообщений HTTP «5xx - ошибка сервера».
-   **Успехи HTTP** — число отправленных сообщений HTTP «2xx - успешно».
-   **Перенаправления HTTP** — число отправленных сообщений HTTP «3xx - перенаправление».
-   **Ошибки HTTP 401** — число отправленных сообщений Http «401 - не санкционировано».
-   **Ошибки HTTP 403** — число отправленных сообщений Http «403 - запрещено».
-   **Ошибки HTTP 404** — число отправленных сообщений Http «404 - не найдено».
-   **Ошибки HTTP 406** — число отправленных сообщений Http «406 - неприемлемо».

## <a name="howtoreceivealerts"></a>Практическое руководство. Получение оповещений от метрик веб-сайта

В режиме веб-сайта **Стандартный** вы можете получать оповещения на основе метрик мониторинга своего веб-сайта. Функция оповещения требует, чтобы сначала была настроена конечная веб-точка для мониторинга, что можно выполнить в разделе **Мониторинг** страницы **Настройка**. На странице **Настройки** портала управления Azure можно создать правило, которое вызывает оповещение при достижении заданного значения выбранной метрики. Кроме того, вы можете настроить отправку сообщения электронной почты с оповещением. Дополнительные сведения см. в разделе [Практическое руководство. Получение уведомлений об оповещениях и управление правилами оповещения в Azure][Практическое руководство. Получение уведомлений об оповещениях и управление правилами оповещения в Azure].

## <a name="howtoviewusage"></a>Практическое руководство. Просмотр квот использования для веб-сайта

Для веб-сайтов на странице управления **Масштаб** можно настроить либо режим **В общем доступе**, либо режим **Стандартный**. У каждой подписки Azure есть доступ к пулу ресурсов, предоставляемому для выполнения до 100 веб-сайтов на регион в режиме веб-сайта **В общем доступе**. Пул ресурсов, доступных для каждой подписки веб-сайта, используется совместно с другими веб-сайтами, настроенными для работы в режиме **В общем доступе** и находящимися в том же географическом регионе. Поскольку эти ресурсы являются общими для использования совместно с другими веб-сайтами, использование этих ресурсов ограничено для всех подписок. Ограничения, налагаемые на использование этих ресурсов в рамках подписки, выражаются в виде квот использования, которые перечислены в разделе обзора использования на странице управления **Панель мониторинга** для каждого веб-сайта.

**Примечание**.  
 Когда веб-сайт настроен для работы в режиме **Стандартный**, для него назначаются выделенные ресурсы, эквивалентные размерам виртуальных машин **Малый** (по умолчанию), **Средний** или **Большой** в таблице [Размеры виртуальных машин и облачных служб для Azure][Размеры виртуальных машин и облачных служб для Azure]. Ограничений на ресурсы, которые могут использоваться в рамках подписки для выполнения веб-сайтов в режиме **Стандартный**, не предусмотрено. Но число веб-сайтов, которые могут быть созданы в режиме **Стандартный**, не может превышать 500 для каждого региона.

### Просмотр квот использования для веб-сайтов, настроенных для работы в режиме общего доступа

Вот как можно определить степень влияния веб-сайта на квоты использования ресурсов:

1.  Откройте для веб-сайта страницу управления **Панель мониторинга**.
2.  В разделе **Обзор использования** отображаются квоты использования для показателей **Исходящие данные**, **Время ЦП** и **Хранилище файловой системы**. Зеленая полоска, отображаемая для каждого ресурса, показывает, какая часть квоты использования ресурсов для подписки, потребляется текущим веб-сайтом, а серая полоска, отображаемая для каждого ресурса, показывает, какая часть квоты использования ресурсов для подписки потребляется всеми остальными веб-сайтами, связанными с подпиской на веб-сайт и работающими в режиме общего доступа.

Квоты использования ресурсов помогают предотвратить чрезмерное использование следующих ресурсов:

-   **Исходящие данные**: мера объема данных, передаваемых веб-сайтами, работающими в режиме **В общем доступе**, своим клиентам в текущем интервале квоты (24 часа).
-   **Время ЦП**: количество времени ЦП, используемого веб-сайтами, работающими в режиме **В общем доступе**, для текущего интервала квоты.
-   **Хранилище файловой системы**: объем хранилища файловой системы, которое используется веб-сайтами, работающими в режиме **В общем доступе**.

При превышении квот использования для подписки в Azure принимаются меры по остановке чрезмерного использования ресурсов. Это выполняется, чтобы предотвратить истощение ресурсов любым подписчиком, наносящее ущерб другим подписчикам.

## <a name="resourceusage"></a>Практическое руководство. Уменьшение использования ресурсов

Поскольку Azure вычисляет квоты использования ресурсов, измеряя ресурсы, используемые веб-сайтами подписки, работающими в режиме общего доступа, в течение 24-часового интервала квоты, учитывайте следующее.

-   При увеличении числа веб-сайтов, настроенных для запуска в режиме общего доступа, увеличивается вероятность превышения квот на использование ресурсов в режиме общего доступа.
    При превышении квоты использования ресурсов рассмотрите возможность уменьшения числа веб-сайтов, настроенных для запуска в режиме общего доступа.
-   Аналогично, вероятность превышения квот на использование ресурсов в режиме общего доступа увеличивается и при увеличении числа экземпляров любого веб-сайта, работающего в режиме общего доступа.
    Если квоты на использование ресурсов превышены, рассмотрите возможность удаления дополнительных экземпляров веб-сайтов, работающих в режиме общего доступа.

## <a name="exceeded"></a>Что происходит при превышении квоты на использование ресурсов

При превышении квоты использования ресурсов для подписки в интервале квоты (24 часа) в Azure выполняются следующие действия:

-   **Исходящие данные**: при превышении этой квоты Azure останавливает все веб-сайты для подписки, настроенные для работы в режиме **В общем доступе** на оставшуюся часть текущего интервала квоты. Azure запустит веб-сайты в начале следующего интервала квоты.

-   **Время ЦП**: при превышении этой квоты Azure останавливает все веб-сайты для подписки, настроенные для работы в режиме **В общем доступе** на оставшуюся часть текущего интервала квоты. Azure запустит веб-сайты в начале следующего интервала квоты.

-   **Хранилище файловой системы**: если развертывание вызовет превышение квоты хранилища файловой системы, Azure запрещает развертывание для подписки любых веб-сайтов, настроенных для работы в режиме общего доступа. При достижении для ресурса хранилища файловой системы максимального размера, разрешенного соответствующей квотой, хранилище файловой системы остается доступным для операций чтения, но все операции записи блокируются, включая записи, необходимые для обычной работы веб-сайта. В этом случае можно настроить запуск одного или нескольких веб-сайтов, работающих в режиме общего доступа, в режиме веб-сайта «Стандартный» или уменьшить использование хранилища файловой системы до уровня ниже квоты использования хранилища файловой системы.

## <a name="howtoconfigdiagnostics"></a>Практическое руководство. Настройка диагностики и скачивание журналов для веб-сайта

Диагностика включается на странице управления **Настройка** для веб-сайта. Существует два типа диагностики: **диагностика приложений** и **диагностика сайта**.

#### Диагностика приложений

Раздел **диагностика приложений** страницы управления **Настройка** управляет регистрацией информации, создаваемой приложением, что полезно для регистрации событий, возникающих в приложении. Например, в случае ошибки в приложении можно вывести для пользователя понятное сообщение об ошибке, одновременно записывая более подробные сведения об ошибке в журнал для последующего анализа.

Можно включить или отключить следующие функции диагностики приложений:

-   **Ведение журнала приложений (файловая система)** — включение ведения журнала для информации, создаваемой приложением. Поле **Уровень ведения журнала** определяет уровень, на котором записывается информация: ошибка, предупреждение или сведения. Можно также выбрать вариант "Подробно", чтобы записать в журнал все сведения, созданные приложением.

    Журналы, созданные с помощью этого параметра, хранятся в файловой системе вашего веб-сайта и могут быть загружены с помощью действий, описанных ниже в разделе **Загрузка файлов журнала для веб-сайта**.

-   **Ведение журнала приложений (табличное хранилище)** — включение ведения журнала сведений, создаваемых приложением, аналогично параметру «Ведение журнала приложений (файловая система)». Но данные журнала хранятся в таблице учетной записи хранилища Azure.

    Чтобы задать учетную запись и таблицу хранилища Azure, выберите **Включено**, выберите **Уровень ведения журнала** и выберите **Управление табличным хранилищем**. Задайте учетную запись хранилища и используемую таблицу или создайте новую таблицу.

    Доступ к данным журнала, хранящегося в таблице, можно получить с помощью клиента хранилища Azure.

-   **Ведение журнала приложений (BLOB-объектов)** — включение ведения журнала информации, создаваемой приложением, аналогично параметру «Ведение журнала приложения (табличное хранилище)». Но данные журнала хранятся в BLOB-объекте учетной записи хранения Azure.

    Чтобы задать учетную запись и BLOB-объект хранилища Azure, выберите **Включено**, выберите **Уровень ведения журнала** и выберите **Управление хранилищем BLOB-объектов**. Укажите учетную запись хранилища, контейнер BLOB-объектов и имя BLOB-объекта для использования или создайте новый контейнер и BLOB-объект.

Дополнительные сведения об учетных записях хранения Azure см. в статье [Управление учетными записями хранения][Управление учетными записями хранения].

<div class="dev-callout"> 
<b>Примечание.</b> 
<p>Запись журналов приложений в табличное хранилище или в хранилище BLOB-объектов поддерживается только для приложений .NET.</p> </div>

Так как запись журналов приложения в хранилище требует использования клиента хранилища для просмотра данных журнала, может быть полезно спланировать использование службы или приложения, знающего, как обрабатывать данные, читая их прямо из таблицы Azure или хранилища BLOB-объектов. При записи журнала в файловую систему создаются файлы, которые могут быть загружены на локальный компьютер с помощью FTP или других служебных программ, как описывается далее в этом разделе.

<div class="dev-callout"> 
    <b>Примечание.</b> 
    <p>Функции <b>Диагностика приложений (файловая система)</b>, <b>Диагностика приложений (табличное хранилище)</b> и <b>Диагностика приложений (хранилище BLOB-объектов)</b> можно включить одновременно, настроив индивидуальные конфигурации уровня ведения журнала. Например, запись в хранилище ошибок и предупреждений может потребоваться в качестве решения для длительного подробного ведения журнала после инструментирования кода приложения для устранения проблемы.</p> </div>

<div class="dev-callout"> 
    <b>Примечание.</b> 
    <p>Вы также можете включить диагностику из PowerShell Azure с помощью командлета <b>Set-AzureWebsite</b>.</p><p>Если оболочка Azure PowerShell не установлена или не настроена для использования подписки Azure, см. раздел <a href="http://www.windowsazure.com/ru-ru/develop/nodejs/how-to-guides/powershell-cmdlets/">Как использовать Azure PowerShell</a>.</p></div>

<div class="dev-callout"> 
<b>Примечание.</b> 
<p>Ведение журналов приложений опирается на информацию журнала, создаваемую приложением. Метод, используемый для создания данных журнала, а также формат информации зависит от языка написания приложения. Сведения об информации, зависящей от языка, при ведении журналов приложений см. в следующих статьях:</p>
<ul>
<li><b>.NET</b>: <a href="/ru-ru/develop/net/common-tasks/diagnostics-logging-and-instrumentation/">Включение ведения журналов диагностики для веб-сайтов Azure</a></li>
<li><b>Node.js</b>: <a href="/ru-ru/develop/nodejs/how-to-guides/Debug-Website/">Как выполнять отладку приложения Node.js для веб-сайтов Azure</a></li>
</ul>
<p>Запись журналов приложений в табличное хранилище или в хранилище BLOB-объектов поддерживается только для приложений .NET.</p>
</div>

#### Диагностика сайта

Раздел **диагностика сайтов** на странице управления **Настройка** позволяет управлять ведением журнала, выполняемым веб-сервером, например регистрацией веб-запросов, сбоев обслуживания страниц или продолжительности обслуживания страниц. Можно включить или отключить следующие возможности:

-   **Журналы веб-сервера** — включение ведения журналов веб-сервера, чтобы сохранить журналы веб-сайтов, используя расширенный формат файлов журналов консорциума W3C. Ведение журналов веб-сервера обеспечивает запись всех входящих запросов к веб-сайту, содержащих такие сведения, как IP-адрес клиента, запрошенный URI, код состояния ответа HTTP и пользовательская строка агента для клиента. Журналы можно сохранять в учетную запись хранения Azure или в файловую систему.

 Чтобы сохранять журналы веб-сервера в учетную запись хранения Azure, выберите **Хранилище**, затем выберите **управление хранилищем**, чтобы задать учетную запись хранилища и контейнер BLOB-объектов Azure, где будут храниться файлы журналов. Дополнительные сведения об учетных записях хранения Azure см. в статье [Управление учетными записями хранения][Управление учетными записями хранения].

 Чтобы сохранять журналы веб-сервера в файловой системе, выберите **Файловая система** Это делает доступным поле **Квота**, в котором можно задать максимальный объем дискового пространства для файлов журналов. Минимальный размер составляет 25 МБ, максимальный — 100 МБ. По умолчанию используется размер 35 МБ.

 По умолчанию журналы веб-сервера никогда не удаляются. Чтобы задать период времени, после которого журналы будут удалены автоматически, выберите **Задать хранение** и введите число дней для хранения журналов в поле **Срок хранения**. Этот параметр доступен и для хранилища Azure, и для файловой системы.

-   **Подробные сообщения об ошибках** — включение подробного ведения журнала ошибок для регистрации дополнительных сведений об ошибках HTTP (коды состояния больше 400).

-   **Трассировка неудачно завершенных запросов** — включение трассировки неудачно завершенных запросов для записи неудачно завершенных запросов клиентов, например для кода состояния 400 серии HTTP. При трассировке неудачно завершенных запросов создается XML-документ, содержащий записи о модулях, через которые запрос проходит в IIS, сведения, возвращаемые модулем, и время вызова модуля. Эти сведения можно использовать для определения компонента, в котором произошел сбой.

После включения диагностики для веб-сайта щелкните значок **Сохранить** в нижней части страницы управления **Настройка**, чтобы применить заданные параметры.

<div class="dev-callout"> 
<b>Важно!</b> 
<p>Ведение журнала и трассировка предъявляют значительные требования к веб-сайту. После воспроизведения устраняемых проблем рекомендуем вам отключить функции ведения журнала и трассировки.</p> 
</div>

### Расширенная конфигурация

Диагностику можно изменить, добавив пары ключа и значения в раздел **параметры приложения** страницы управления **Настройка**. В разделе **параметры приложения** можно настроить следующие параметры:

**DIAGNOSTICS\_TEXTTRACELOGDIRECTORY**

-   Расположение, в котором будут сохраняться журналы приложений, относительно корневого каталога документов.

-   Значение по умолчанию: ..\\..\\LogFiles\\Application

**DIAGNOSTICS\_TEXTTRACEMAXBUFFERSIZEBYTES**

-   Максимальный размер буфера, используемый при записи в журналы приложений. Перед записью в файл или хранилище данные сначала записываются в буфер. Запись новых данных в буфер, прежде чем он будет записан на диск, может привести к потере данных, ранее записанных в буфер. Если приложение создает большие пакеты данных журнала, рекомендуется увеличить размер буфера.

-   Значение по умолчанию: 10МБ

**DIAGNOSTICS\_TEXTTRACEMAXLOGFOLDERSIZEBYTES**

-   Максимальный размер папки **Приложение**, в которой хранятся данные диагностики приложения, записанные в файл.

-   Значение по умолчанию: 1МБ

### Скачивание файлов журнала для веб-сайта

Файлы журнала можно загрузить с помощью FTP, Azure PowerShell или средств командной строки Azure.

**FTP**

1.  Откройте страницу управления **Панель мониторинга** веб-сайта и запишите адрес FTP-узла, указанного в разделе **Журналы диагностики**, и учетную запись, приведенную в разделе **Пользователь развертывания**. FTP-узел — это узел, на котором находятся файлы журнала, а учетная запись, указанная в разделе "Пользователь развертывания", используется для проверки подлинности на FTP-узле.
2.  Если учетные данные развертывания еще не созданы, учетная запись в разделе **Пользователь развертывания** отображается с пометкой **Не задано**. В этом случае необходимо создать учетные данные развертывания, как описано в разделе "Сброс учетных данных развертывания" панели мониторинга, так как эти учетные данные должны использоваться для проверки подлинности на FTP-узле, где хранятся файлы журналов. Azure не поддерживает для этого FTP-узла проверку подлинности с использованием учетных данных Live ID.
3.  Рассмотрите возможность использования FTP-клиента, например [FileZilla][FileZilla], для подключения к FTP-узлу. По сравнению с типичным браузером FTP-клиент значительно упрощает использование указанных учетных данных и просмотр папок на FTP-узле.
4.  Скопируйте файлы журналов с FTP-узла на локальный компьютер.

**Azure PowerShell**

1.  В окне **Пуск** или в меню **Пуск** найдите **Azure PowerShell**. Щелкните правой кнопкой мыши пункт **Azure PowerShell** и выберите **Запуск от имени администратора**.

    <div class="dev-callout"> 
<b>Примечание.</b> 
<p>Если оболочка <b>Azure PowerShell</b> не установлена, см. информацию об установке и настройке в статье <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/jj554332.aspx">Начало работы с командлетами Azure PowerShell</a>.</p> 
</div>

2.  Чтобы скачать файлы журналов, выполните в командной строке Azure PowerShell следующую команду:

        Save-AzureWebSiteLog -Name websitename

    Она загрузит файлы журналов для веб-сайта, заданного параметром **websitename**, и сохранит их в файл **log.zip** в текущем каталоге.

    Можно также просмотреть поток событий журнала в реальном времени с помощью следующей команды:

        Get-AzureWebSiteLog -Name websitename -Tail

    Она обеспечит вывод данных журнала в командной строке Azure PowerShell при их возникновении.

**Средства командной строки Azure**

Чтобы загрузить файлы журналов, откройте окно командной строки, PowerShell, bash или сеанс терминала и введите следующую команду:

    azure site log download websitename

Она загрузит файлы журналов для веб-сайта, заданного параметром **websitename**, и сохранит их в файл **log.zip** в текущем каталоге.

Можно также просмотреть поток событий журнала в реальном времени с помощью следующей команды:

    azure site log tail websitename

При этом информация журнала появится в командной строке, PowerShell, bash или сеансе терминала, где была выполнена команда.

<div class="dev-callout"> 
<b>Примечание.</b> 
<p>Если команда <b>azure</b> не установлена, см. информацию об установке и настройке в статье <a href="http://www.windowsazure.com/ru-ru/develop/nodejs/how-to-guides/command-line-tools/">Как использовать средства командной строки Azure</a>.</p>
</div>

### Чтение файлов журналов

Файлы журналов, созданные после включения ведения журнала и/или трассировки для веб-сайта, зависят от уровня ведения журнала и трассировки, заданного на странице управления «Настройка» для веб-сайта. Ниже приведено местоположение файлов журналов и информация о том, как их проанализировать.

**Тип файла журнала: ведение журнала приложений**

-   Расположение: /LogFiles/Application/. Эта папка содержит один или несколько текстовых файлов со сведениями, созданными при ведении журнала приложения. Информация журнала включает дату и время, код процесса (PID) приложения и значение, полученное при инструментировании приложения.

-   Чтение файлов: используйте текстовый редактор или синтаксический анализатор, который понимает значения, созданные приложением.

**Тип файла журнала: трассировка неудачно завершенных запросов**

-   Расположение: /LogFiles/W3SVC#\#\#\#\#\#\#\#\#/. Эта папка содержит XSL-файл и один или несколько XML-файлов. Убедитесь, что XSL-файл загружен в тот же каталог, что и XML-файлы, так как XSL-файл обеспечивает функциональные возможности форматирования и фильтрации содержимого XML-файлов при просмотре в браузере Internet Explorer.

-   Чтение файлов: браузер Internet Explorer

**Тип файла журнала: подробное ведение журнала ошибок**

-   Расположение: /LogFiles/DetailedErrors/. Папка /LogFiles/DetailedErrors/ содержит один или несколько HTM-файлов с подробными сведениями обо всех произошедших ошибках HTTP.

-   Чтение файлов: браузер

HTM-файлы содержат следующие разделы:

-   **Подробные сведения об ошибке:** содержит сведения об ошибке, такие как *Модуль*, *Обработчик*, *Код ошибки* и *Запрошенный URL-адрес*.

-   **Наиболее вероятные причины:** перечислены несколько возможных причин ошибки.

-   **Способы устранения:** перечислены возможные решения для устранения проблемы, вызвавшей ошибку.

-   **Ссылки и дополнительные сведения**: содержит дополнительную информацию об ошибке, а также может включать ссылки на другие ресурсы, такие как статьи базы знаний Майкрософт.

**Тип файла журнала: ведение журнала веб-сервера**

-   Расположение: /LogFiles/http/RawLogs. Сведения, хранящиеся в файлах, форматируются с использованием [расширенного формата журналов консорциума W3C][расширенного формата журналов консорциума W3C]. Поля s-computername, s-ip и cs-version не используются веб-сайтами Azure.

-   Чтение файлов: синтаксический анализатор журнала. Используется для синтаксического анализа файлов журналов IIS и выполнения запросов к ним. Анализатор Log Parser 2.2 доступен в центре загрузки Майкрософт по адресу <http://go.microsoft.com/fwlink/?LinkId=246619>.

## <a name="webendpointstatus"></a>Практическое руководство. Мониторинг состояния конечной веб-точки

Эта функция, доступная в режиме **Стандартный**, позволяет отслеживать до 2 конечных точек из нескольких (до 3) географических расположений.

Функция мониторинга конечных точек настраивает веб-тесты из географически распределенных местоположений, позволяя проверить время ответа и время непрерывной работы URL-адресов. Тест выполняет операцию HTTP get для URL-адреса в Интернете, чтобы определить время ответа и время непрерывной работы из каждого расположения. Для каждого настроенного расположения тест выполняется каждые пять минут.

Время непрерывной работы контролируется при помощи кодов ответов HTTP, а время ответа измеряется в миллисекундах. Время непрерывной работы считается равным 100%, когда время ответа не превышает 30 секунд, а код состояния HTTP не превышает 400. Время непрерывной работы равно 0%, когда время ответа превышает 30 секунд или когда код состояния HTTP больше 400.

После настройки мониторинга конечной точки можно получить более подробную информацию для отдельных конечных точек, чтобы просмотреть сведения о времени ответа и состоянии непрерывной работы в интервале мониторинга из каждого тестового расположения.

**Настройка мониторинга конечной точки:**

1.  Откройте **Веб-сайты**. Щелкните имя веб-сайта, который вы хотите настроить.
2.  Выберите вкладку **Настройка**.
3.  Перейдите в раздел **Мониторинг**, чтобы ввести параметры конечной точки.
4.  Введите имя конечной точки.
5.  Введите URL-адрес службы, которую требуется отслеживать. Например, [][]<http://contoso.cloudapp.net></a>.
6.  Выберите в списке одно или несколько географических расположений.
7.  При необходимости повторите предыдущие шаги, чтобы создать вторую конечную точку.
8.  Щелкните **Сохранить**. Может пройти некоторое время, прежде чем данные мониторинга конечных точек появятся на вкладках **Панель мониторинга** и **Монитор**.

Дополнительную информацию об отслеживании конечных точек веб-сайтов см. в следующих видео:

-   [Скотт Гатри представляет веб-сайты Azure и настраивает мониторинг конечных точек][Скотт Гатри представляет веб-сайты Azure и настраивает мониторинг конечных точек]

-   [Поддержка работы веб-сайтов Azure с помощью мониторинга конечных точек — со Стефаном Щаков (Stefan Schackow)][Поддержка работы веб-сайтов Azure с помощью мониторинга конечных точек — со Стефаном Щаков (Stefan Schackow)]

  [Практическое руководство. Добавление метрик веб-сайта]: #websitemetrics
  [Практическое руководство. Получение оповещений от метрик веб-сайта]: #howtoreceivealerts
  [Практическое руководство. Просмотр квот использования для веб-сайта]: #howtoviewusage
  [Практическое руководство. Уменьшение использования ресурсов]: #resourceusage
  [Что происходит при превышении квоты на использование ресурсов]: #exceeded
  [Практическое руководство. Настройка диагностики и скачивание журналов для веб-сайта]: #howtoconfigdiagnostics
  [Практическое руководство. Мониторинг состояния конечной веб-точки]: #webendpointstatus
  [портала управления Azure]: http://manage.windowsazure.com/
  [Практическое руководство. Получение уведомлений об оповещениях и управление правилами оповещения в Azure]: http://go.microsoft.com/fwlink/?LinkId=309356
  [Размеры виртуальных машин и облачных служб для Azure]: http://go.microsoft.com/fwlink/?LinkID=309169
  [Управление учетными записями хранения]: https://www.windowsazure.com/ru-ru/manage/services/storage/how-to-manage-a-storage-account/
  [Как использовать Azure PowerShell]: http://www.windowsazure.com/ru-ru/develop/nodejs/how-to-guides/powershell-cmdlets/
  [Включение ведения журналов диагностики для веб-сайтов Azure]: /ru-ru/develop/net/common-tasks/diagnostics-logging-and-instrumentation/
  [Как выполнять отладку приложения Node.js для веб-сайтов Azure]: /ru-ru/develop/nodejs/how-to-guides/Debug-Website/
  [FileZilla]: http://go.microsoft.com/fwlink/?LinkId=247914
  [Начало работы с командлетами Azure PowerShell]: http://msdn.microsoft.com/ru-ru/library/windowsazure/jj554332.aspx
  [Как использовать средства командной строки Azure]: http://www.windowsazure.com/ru-ru/develop/nodejs/how-to-guides/command-line-tools/
  [расширенного формата журналов консорциума W3C]: http://go.microsoft.com/fwlink/?LinkID=90561
  []: http://contoso.cloudapp.net
  [Скотт Гатри представляет веб-сайты Azure и настраивает мониторинг конечных точек]: http://www.windowsazure.com/ru-ru/documentation/videos/websites-and-endpoint-monitoring-scottgu/
  [Поддержка работы веб-сайтов Azure с помощью мониторинга конечных точек — со Стефаном Щаков (Stefan Schackow)]: http://www.windowsazure.com/ru-ru/documentation/videos/azure-web-sites-endpoint-monitoring-and-staying-up/
