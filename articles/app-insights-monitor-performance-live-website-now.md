<properties title="Diagnose performance issues on a running website" pageTitle="Диагностика проблем производительности на запущенном веб-сайте" description="Monitor a website's performance without re-deploying it." metaKeywords="analytics monitoring application insights" authors="awills"  manager="kamrani" />

<tags ms.service="application-insights" ms.workload="tbd" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="2014-09-24" ms.author="awills" />
 

# Наблюдение за текущей производительностью действующего веб-сайта

*Служба Application Insights доступна в предварительной версии.*

Веб-приложение плохо работает? Выполните быструю диагностику исключений и проблем производительности без необходимости повторного построения или развертывания приложения. Установите агент Application Insights на сервере, и у вас появится возможность поиска узких мест производительности и получения трассировок стека для любых исключений. 


#### Когда следует использовать этот путь установки Application Insights?

Этот подход в основном предназначен для быстрой диагностики проблем действующего веб-сайта IIS.

Достаточно просто установить агент, и можно просматривать сведения о производительность в Application Insights.

- Можно использовать этот способ в приложении ASP.NET, размещенном на сервере IIS.

- Для просмотра своих данных потребуется [учетная запись Microsoft Azure](http://azure.com).

- Также потребуется административный доступ на сервер, на котором работает веб-приложение. 

- Код веб-приложения *не* требуется, и вам не нужно выполнять повторное построение или повторное развертывание приложения. 

- С помощью этого способа веб-приложение будет инструментировано "как есть". Не требуется вставлять код трассировки или журнала. (Однако при желании это можно сделать позднее.)

Если требуется вставить трассировку ведения журнала или диагностики, не делайте это здесь. Вместо этого [добавьте Application Insights в свой проект][greenbrown] и разверните его повторно. Описание всех возможностей приведено в статье [Application Insights - приступая к работе][start].

## Установка агента Application Insights на веб-сервере

1. Войдите на веб-сервер с учетными данными администратора.

2. Убедитесь, что у вас есть [установщик веб-платформы](http://www.microsoft.com/web/downloads/platform.aspx) версии 5.0 или более поздней.
3. Установите агент Application Insights с помощью установщика веб-платформы.

    ![](./media/appinsights/appinsights-031-wpi.png)
4. В мастере установки выполните вход в Microsoft Azure.

    ![](./media/appinsights/appinsights-035-signin.png)
5. Выберите установленное веб-приложение или веб-сайт для наблюдения и задайте имя, под которым вы будете просматривать результаты на портале Application Insights. В конце нажмите кнопку "Добавить".

    ![](./media/appinsights/appinsights-036-configAIC.png)

    Обычно следует выбирать создание нового ресурса.

    Существующий ресурс можно использовать, если, например, [веб-тесты][availability] уже настроены для вашего сайта.  

6. Обратите внимание, что в веб-сайты, за которыми планируется наблюдать, вставляется файл ApplicationInsights.config.

    ![](./media/appinsights/appinsights-034-aiconfig.png)

   Также некоторые изменения вносятся в файл web.config.

### Необходимо выполнить настройку позднее?

После завершения работы мастера можно в любое время выполнить повторную настройку агента. Это можно использовать и в том случае, если агент был установлен, но на начальном этапе возникли какие-либо проблемы.

![Click the Application Insights icon on the task bar](./media/appinsights/appinsights-033-aicRunning.png)

## Просмотр данных

Откройте свою учетную запись в Azure, перейдите в Application Insights и откройте созданный ресурс.

![](./media/appinsights/appinsights-08openApp.png)

В разделе работоспособности приложения появятся данные.

![](./media/appinsights/appinsights-037-results.png)

#### Данные отсутствуют?

  * С помощью своего сайта создайте данные.
  * Подождите несколько минут, чтобы данные поступили.
  * Убедитесь, что брандмауэр сервера позволяет входящий трафик в порте 443 на dc.services.visualstudio.com 

#### Для чего можно использовать отчеты о работоспособности приложения?
 * [Изучение данных и настройка плиток][perf]

## <a name="next"></a>Дальнейшие действия


[Просмотр данных][perf]

[Поиск по журналам диагностики][diagnostic]

[Веб-тесты][availability]

[Настройка мониторинга][start]

[Устранение неполадок][qna]




[AZURE.INCLUDE [app-insights-learn-more](../includes/app-insights-learn-more.md)]



