<properties title="Diagnose performance issues on a running website" pageTitle="Diagnose performance issues on a running website" description="Monitor a website's performance without re-deploying it." metaKeywords="analytics monitoring application insights" authors="awills"  />

<tags ms.service="application-insights" ms.workload="tbd" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="awills"></tags>

<!-- Required end of Sprint 69 - AUX48 -->

# Наблюдение за текущей производительностью действующего веб-сайта

*Компонент Application Insights находится в состоянии предварительной версии.*

Имеется плохо работающее приложение? Выполните быструю диагностику исключений и проблем производительности без необходимости повторного построения или развертывания приложения. Установите агент Application Insights на сервере, и появится возможность поиска узких мест производительности и получения трассировок стека для любых исключений.

#### Когда следует использовать этот путь установки Application Insights?

Этот подход в основном предназначен для быстрой диагностики проблем действующего веб-сайта IIS.

Достаточно просто установить агент, и можно просматривать сведения о производительность в Application Insights.

-   Можно использовать этот способ в приложении ASP.NET, размещенном на сервере IIS.

-   Для просмотра своих данных потребуется [учетная запись Microsoft Azure][учетная запись Microsoft Azure].

-   Также потребуется административный доступ на сервер, на котором работает веб-приложение.

-   Код веб-приложения *не* требуется, и не нужно выполнять повторное построение или повторное развертывание приложения.

-   Этот способ оборудует веб-приложение как есть. Не требуется вставлять код трассировки или журнала. (Однако при желании это можно сделать позднее.)

Если требуется вставить трассировку ведения журнала или диагностики, не делайте это здесь — вместо этого [добавьте Application Insights в проект][существующий] и повторно разверните его.

## Установка агента Application Insights на веб-сервере

1.  Войдите на веб-сервер с учетными данными администратора.

2.  Убедитесь, что имеется [установщик веб-платформы][установщик веб-платформы] версии не ниже 5.0.
3.  Установите агент Application Insights с помощью установщика веб-платформы.

    ![][]

4.  В мастере установки выполните вход в Microsoft Azure.

    ![][1]

5.  Выберите установленное веб-приложение или веб-сайт для наблюдения, затем настройте имя, под которым будут просматриваться результаты на портале Application Insights. Нажмите кнопку "Добавить".

    ![][2]

    Обычно следует выбирать создание нового ресурса.

    Существующий ресурс можно использовать, например, если [веб-тесты][веб-тесты] уже настроены для сайта.

6.  Обратите внимание, что в веб-сайты, за которыми планируется наблюдать, вставляется файл ApplicationInsights.config.

    ![][3]

Также некоторые изменения вносятся в файл web.config.

### Необходимо выполнить настройку позднее?

После завершения работы мастера можно в любое время выполнить повторную настройку агента. Повторную настройку также можно использовать, если агент был установлен, но на начальном этапе возникли какие-либо проблемы.

![Нажатие значка Application Insights в панели задач][Нажатие значка Application Insights в панели задач]

## Просмотр данных

Откройте свою учетную запись в Azure, перейдите в Application Insights и откройте созданный ресурс.

![][4]

В разделе работоспособности приложения появятся данные.

![][5]

#### Данные отсутствуют?

-   С помощью своего сайта создайте данные.
-   Подождите несколько минут, чтобы данные поступили.
-   Убедитесь, что брандмауэр сервера позволяет входящий трафик в порте 443 на dc.services.visualstudio.com

## <a name="next"></a>Дальнейшие действия

[Просмотр данных][Просмотр данных]

[Поиск журналов диагностики][Поиск журналов диагностики]

[Веб-тесты][веб-тесты]

[Настройка мониторинга][Настройка мониторинга]

[Устранение неполадок][Устранение неполадок]

## Подробнее

-   [Application Insights][Application Insights]
-   [Добавление Application Insights в проект][Настройка мониторинга]
-   [Наблюдение за текущим состоянием веб-сервера][Наблюдение за текущим состоянием веб-сервера]
-   [Исследование метрик в Application Insights][Просмотр данных]
-   [Поиск журналов диагностики][Поиск журналов диагностики]
-   [Отслеживание доступности с помощью веб-тестов][веб-тесты]
-   [Отслеживание использования с помощью событий и метрик][Отслеживание использования с помощью событий и метрик]
-   [Вопросы и ответы, устранение неполадок][Устранение неполадок]

<!--Link references-->

  [учетная запись Microsoft Azure]: http://azure.com
  [установщик веб-платформы]: http://www.microsoft.com/web/downloads/platform.aspx
  []: ./media/appinsights/appinsights-031-wpi.png
  [1]: ./media/appinsights/appinsights-035-signin.png
  [2]: ./media/appinsights/appinsights-036-configAIC.png
  [веб-тесты]: ../app-insights-monitor-web-app-availability/
  [3]: ./media/appinsights/appinsights-034-aiconfig.png
  [Нажатие значка Application Insights в панели задач]: ./media/appinsights/appinsights-033-aicRunning.png
  [4]: ./media/appinsights/appinsights-08openApp.png
  [5]: ./media/appinsights/appinsights-037-results.png
  [Просмотр данных]: ../app-insights-explore-metrics/
  [Поиск журналов диагностики]: ../app-insights-search-diagnostic-logs/
  [Настройка мониторинга]: ../app-insights-monitor-application-health-usage/
  [Устранение неполадок]: ../app-insights-troubleshoot-faq/
  [Application Insights]: ../app-insights-get-started/
  [Наблюдение за текущим состоянием веб-сервера]: ../app-insights-monitor-performance-live-website-now/
  [Отслеживание использования с помощью событий и метрик]: ../app-insights-track-usage-custom-events-metrics/
