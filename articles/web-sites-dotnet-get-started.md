<properties linkid="develop-net-tutorials-get-started-vs2013" urlDisplayName="Начало работы с Azure для ASP.NET" pageTitle="Начало работы с Azure для ASP.NET" metaKeywords="" description="В этом учебнике показано, как создать веб-проект ASP.NET в Visual Studio 2013 и развернуть его на веб-сайте Azure. Менее чем за 15 минут вы получите приложение, которое работает в облаке." metaCanonical="" services="web-sites" documentationCenter=".NET" title="Начало работы с Azure и ASP.NET" authors="tdykstra"  solutions="" manager="wpickett" editor="mollybos"  />


# Начало работы с Azure и ASP.NET

<div class="dev-center-tutorial-selector sublanding"><a href="/ru-ru/develop/net/tutorials/get-started/" title="Visual Studio 2013" class="current">Visual Studio 2013</a><a href="/ru-ru/develop/net/tutorials/get-started-vs2012/" title="Visual Studio 2012">Visual Studio 2012</a></div>

В этом учебнике показано, как создать веб-приложение ASP.NET и развернуть его на веб-сайте Azure с помощью мастера Visual Studio 2013 или Visual Studio 2013 for Web Express. Этот учебник разработан для читателей, не имеющих опыта использования Azure или ASP.NET. По завершении изучения этого учебника вы получите простое веб-приложение, работающее в облаке.

Можно бесплатно создать учетную запись Azure, а если у вас еще нет Visual Studio 2013, пакет SDK автоматически установит Visual Studio 2013 for Web Express. Благодаря этому вы можете приступить к разработке приложений для Azure совершенно бесплатно.
 
Вы узнаете:

* Как подготовить компьютер к разработке для Azure путем установки пакета Azure SDK.
* Как создать веб-проект ASP.NET в Visual Studio и развернуть его на веб-сайте Azure.
* Как внести изменения в проект и повторно развернуть его.

На следующем рисунке показано завершенное приложение:

![Главная страница веб-сайта](./media/web-sites-dotnet-get-started-vs2013/deployedandazure.png)

>[WACOM.NOTE]Для работы с этим учебником требуется учетная запись Azure. Если у вас нет учетной записи, можно <a href="/ru-ru/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F" target="_blank">активировать преимущества для подписчиков MSDN</a> или <a href="/ru-ru/pricing/free-trial/?WT.mc_id=A261C142F" target="_blank">подписаться на бесплатную пробную версию</a>.
 
### Сегменты учебника

* [Настройка среды разработки](#set-up-the-development-environment)
* [Создание веб-проекта ASP.NET в Visual Studio](#create-an-asp.net-web-project)
* [Развертывание приложения в Azure](#deploy-the-application-to-azure)
* [Внесение изменений и повторное развертывание](#make-a-change-and-redeploy)
* [Дальнейшие действия](#next-steps)

[WACOM.INCLUDE [install-sdk-2013-only](../includes/install-sdk-2013-only.md)]


## Создание веб-приложения ASP.NET

Первым шагом является создание проекта веб-приложения. Visual Studio автоматически создает веб-сайт Azure, на котором ваш проект будет развернут в дальнейшем. 

1. Откройте Visual Studio 2013 или Visual Studio 2013 Express for Web.

2. В меню **Файл** выберите **Новый проект**.

	!["Новый проект" в меню "Файл"](./media/web-sites-dotnet-get-started-vs2013/gs13newproj.png)

3. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите **Интернет** в разделе **Установленные шаблоны**, а затем щелкните **Веб-приложение ASP.NET**.

3. Убедитесь, что в качестве целевой платформы выбрана **.NET Framework 4.5**.

4. Присвойте приложению имя **MyExample** и нажмите кнопку **ОК**.

	![Диалоговое окно "Новый проект"](./media/web-sites-dotnet-get-started-vs2013/GS13newprojdb.png)

5. В диалоговом окне **Новый проект ASP.NET** выберите шаблон **MVC** или **Web Forms**, а затем щелкните **Изменить аутентификацию**.

	[MVC и Web Forms](http://www.asp.net/get-started/websites) — это платформы ASP.NET для создания веб-сайтов. Если у вас нет предпочтений и вы планируете изучить другие учебники по Azure, то MVC будет хорошим вариантом, так как во многих из них используется MVC.

	![Диалоговое окно "Новый проект ASP.NET"](./media/web-sites-dotnet-get-started-vs2013/GS13changeauth.png)

6. В диалоговом окне **Изменить проверку подлинности** щелкните **Без проверки подлинности** и нажмите кнопку **ОК**.

	![Без аутентификации](./media/web-sites-dotnet-get-started-vs2013/GS13noauth.png)

	В создаваемом образце приложения не будет функций, требующих от пользователей входа в систему. В разделе [Дальнейшие действия](#next-steps) в конце этого учебника представлены ссылки на учебник, в котором реализованы проверка подлинности и авторизация.

5. В разделе **Azure** в диалоговом окне оставьте флажок установленным, а в раскрывающемся списке оставьте выбранным параметр **Веб-сайт**. 

	Флажок может называться **Размещать в облаке** или **Создать удаленные ресурсы**. Результат их действия одинаков. 

	Эти параметры указывают, что Visual Studio создаст веб-сайт Azure для вашего веб-проекта. На этом веб-сайте будет развернут веб-проект. (В качестве альтернативы можно выбрать другой элемент в раскрывающемся списке, чтобы создать виртуальную машину Azure под управлением служб IIS, но в этом учебнике этот вариант не описывается.)

5. В диалоговом окне **Новый проект ASP.NET** нажмите кнопку **ОК**.

	![Диалоговое окно "Новый проект ASP.NET"](./media/web-sites-dotnet-get-started-vs2013/GS13newaspnetprojdb.png)

	На снимке экрана показан выбранный шаблон MVC. Если вы выбрали Web Forms, выбран элемент **Web Forms**. 

5. Если вы еще не вошли в Azure, Visual Studio покажет запрос для этого. Нажмите кнопку **Войти**.

	![Вход в Azure](./media/web-sites-dotnet-get-started-vs2013/signin.png)

6. Введите имя пользователя и пароль учетной записи, которая используется для управления подпиской Azure.

	![Вход в Azure](./media/web-sites-dotnet-get-started-vs2013/signindb.png)

	После выполнения входа появится диалоговое окно **Настройка параметров сайта Azure**, где вам будет предложено выбрать ресурсы, которые требуется создать.

	![Выполнен вход в Azure](./media/web-sites-dotnet-get-started-vs2013/configuresitesettings.png)

3. Visual Studio предоставляет **имя сайта** по умолчанию, который Azure будет использовать в качестве префикса URL-адреса приложения. При необходимости введите другое имя сайта.

	Полный URL-адрес будет состоять из введенной здесь строки и домена, который отображается рядом с текстовым полем. Например, если имя сайта — `MyExample6442`, URL-адресом будет `MyExample6442.azurewebsites.net`. Если кто-то уже использует введенный вами URL-адрес, справа появится красный восклицательный знак вместо зеленой галочки и потребуется ввести другое значение.

4. В раскрывающемся списке **Регион** выберите ближайшее к вам расположение.

	Этот параметр определяет, в каком центре обработки данных Azure будет работать ваш веб-сайт. 

5. Оставьте поле базы данных без изменений.

	В этом учебнике база данных не используется. В разделе [Дальнейшие действия](#next-steps) в конце данного учебника приводится ссылка на учебник, в котором показано, как использовать базу данных.

6. Нажмите кнопку **ОК**.

	Через несколько секунд Visual Studio создаст веб-проект в указанной папке и создаст веб-сайт в выбранном регионе Azure.  

	В окне **обозревателя решений** отображаются файлы и папки нового проекта. (Снимок экрана представлен для проекта Web Forms; у проекта MVC будут другие папки и файлы.)

	![Обозреватель решений](./media/web-sites-dotnet-get-started-vs2013/solutionexplorer.png)

	В окне **Действие веб-публикации** показывается, что сайт был создан.

	![Созданный веб-сайт](./media/web-sites-dotnet-get-started-vs2013/GS13sitecreated1.png)


## Развертывание приложения в Azure

7. В окне **Действие веб-публикации** щелкните **Опубликовать MyExample на этом сайте**.

	![Созданный веб-сайт](./media/web-sites-dotnet-get-started-vs2013/GS13sitecreated.png)

	Через несколько секунд появится мастер **веб-публикации**. Мастер создает новый *профиль публикации*, содержащий такие параметры, как URL-адрес веб-сайта, необходимый Visual Studio для развертывания проекта в Azure. Профиль автоматически сохраняется, чтобы при внесении изменений в проект в дальнейшем вы легко могли повторно развернуть проект на том же сайте.

8. На вкладке **Подключение** мастера **веб-публикации** нажмите кнопку **Проверить подключение**, чтобы убедиться, что Visual Studio может подключиться к Azure для развертывания веб-проекта.

	![Проверка подключения](./media/web-sites-dotnet-get-started-vs2013/GS13ValidateConnection.png)

	После проверки подключения рядом с кнопкой **Проверить подключение** отображается зеленая галочка. 

9. Нажмите кнопку **Далее**.

	![Успешно проверенное подключение](./media/web-sites-dotnet-get-started-vs2013/GS13ValidateConnectionSuccess.png)

10. На вкладке **Параметры** нажмите кнопку **Далее**.

	![Вкладка "Параметры"](./media/web-sites-dotnet-get-started-vs2013/GS13SettingsTab.png)

	Можно принять заданные по умолчанию параметры, представленные на этой вкладке.  Вы развертываете сборку для выпуска, и вам не требуется удалять файлы на целевом сервере, выполнять предварительную компиляцию приложения или исключать файлы из папки App_Data.   В разделе [Дальнейшие действия](#next-steps) в конце данного учебника приводятся ссылки на учебник, в котором выполняется развертывание сборки для отладки и описывается удаленный запуск Visual Studio в режиме отладки.

11. На вкладке **Предварительный просмотр** нажмите кнопку **Начало предварительного просмотра**.

	![Кнопка "Начало предварительного просмотра" на вкладке "Предварительный просмотр"](./media/web-sites-dotnet-get-started-vs2013/GS13Preview.png)

	На вкладке отображается список файлов, которые будут копироваться на сервер. Предварительный просмотр не является обязательным для публикации приложения, но это полезная функция, о которой нужно знать.

12. Щелкните **Опубликовать**.

	![Вывод файлов при нажатии кнопки "Начало предварительного просмотра"](./media/web-sites-dotnet-get-started-vs2013/GS13previewoutput.png)

	Visual Studio начинает процесс копирования файлов на сервер Azure.

	В окнах **Вывод** и **Действие веб-публикации** указывается, какие действия по развертыванию были выполнены, а также сообщается об успешном завершении развертывания.

	![Окно вывода с отчетом об успешном развертывании](./media/web-sites-dotnet-get-started-vs2013/PublishOutput.png)

	После успешного развертывания URL-адрес развернутого веб-сайта автоматически открывается в используемом по умолчанию браузере,
	а созданное приложение теперь выполняется в облаке. URL-адрес в адресной строке браузера указывает на то, что сайт загружается из Интернета.

	![Веб-сайт, работающий в Azure](./media/web-sites-dotnet-get-started-vs2013/GS13deployedsite.png)

13. Закройте браузер.

## Внесение изменений и повторное развертывание

В этом дополнительном разделе учебника вы измените веб-проект, запустите его локально на компьютере разработчика, чтобы проверить изменения, а затем развернете обновленный проект в Azure.

2. Если вы создали проект MVC, откройте файл *Views/Home/Index.cshtml* или *VBHTML*-файл в **обозревателе решений**, измените заголовок **h1** с "ASP.NET" на "ASP.NET и Azure" и сохраните файл. 

	![index.cshtml для MVC](./media/web-sites-dotnet-get-started-vs2013/index.png)

	![Изменение h1 для MVC](./media/web-sites-dotnet-get-started-vs2013/mvcandazure.png)

1. Если вы создали проект Web Forms, откройте файл *Default.aspx* в **обозревателе решений**, измените заголовок **h1** с "ASP.NET" на "ASP.NET и Azure" и сохраните файл.

	![Файл default.aspx для Web Forms](./media/web-sites-dotnet-get-started-vs2013/default.png)

	![Изменение h1 для Web Forms](./media/web-sites-dotnet-get-started-vs2013/wfandazure.png)

1. Нажмите CTRL+F5, чтобы проверить изменение, запустив сайт на локальном компьютере.

	![Веб-сайт, работающий локально](./media/web-sites-dotnet-get-started-vs2013/localandazure.png)

	URL-адрес `http://localhost` указывает на то, что веб-сайт работает на локальном компьютере. По умолчанию он работает в IIS Express — упрощенной версии IIS, используемой на этапе разработки веб-приложений.


1. Закройте браузер.

1. В **обозревателе решений** щелкните правой кнопкой проект и выберите пункт **Опубликовать**.

	![Выберите "Опубликовать"](./media/web-sites-dotnet-get-started-vs2013/choosepublish.png)

	Появится вкладка "Предварительный просмотр" мастера **веб-публикации**. Если бы вам требовалось изменить какие-либо параметры публикации, вы бы выбрали другую вкладку, но нам нужно просто выполнить повторное развертывание с теми же параметрами.

2. В диалоговом окне **Публикации веб-сайта** нажмите кнопку **Опубликовать**.

	![Нажмите кнопку "Опубликовать"](./media/web-sites-dotnet-get-started-vs2013/clickpublish.png)

	Visual Studio развертывает проект в Azure и открывает сайт в браузере по умолчанию.

	![Развертывание измененного сайта](./media/web-sites-dotnet-get-started-vs2013/deployedandazure.png)

Еще более быстрый способ повторного развертывания, когда не требуется изменять настройки публикации, — использование панели инструментов **веб-публикации одним щелчком**.

![Панель инструментов веб-публикации одним щелчком](./media/web-sites-dotnet-get-started-vs2013/weboneclickpublish.png)

По умолчанию эта панель инструментов отключена. Включите ее в меню **Вид - Панели инструментов**. С ее помощью можно выбрать профиль, нажать кнопку публикации или запуска мастера **веб-публикации**. 

## Дальнейшие действия

Из этого учебника вы узнали, как создать простое веб-приложение и развернуть его на веб-сайте Azure. Ниже приведены некоторые связанные разделы и ресурсы для изучения более подробных сведений:

* Другие способы развертывания веб-проекта
* Масштабирование сайта, устранение неполадок и управление сайтом
* Как добавить функции доступа к базе данных и авторизации
* Как выбрать веб-сайты, облачные службы или виртуальные машины для веб-приложений

### Другие способы развертывания веб-проекта

В этом учебнике был показан самый быстрый способ создания сайта и его развертывания в одной операции. Обзор других способов развертывания с помощью Visual Studio и [автоматизации развертывания](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) из [системы управления версиями](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) см. в разделе [Развертывание веб-сайта Azure](/ru-ru/documentation/articles/web-sites-deploy/"). 

Один из способов автоматизации развертывания — использование скриптов Windows PowerShell. Visual Studio и Azure упрощают эту задачу, создавая скрипты PowerShell, которые можно использовать для выполнения тех же операций развертывания, которые вы выполняете в Visual Studio. Дополнительные сведения см. в разделе [Полная автоматизация (создание реальных облачных приложений в Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything).

### Как управлять веб-сайтом

[Портал управления Azure](ru-ru/services/management-portal/) — это веб-интерфейс, который позволяет отслеживать службы Azure, например веб-сайты, облачные службы, виртуальные машины, базы данных и т. д., и управлять ими. Чтобы узнать, что можно сделать на этом портале, перейдите на веб-сайт [https://manage.windowsazure.com]() и войдите с именем пользователя и паролем учетной записи, имеющей права администратора для вашей подписки Azure. Дополнительные сведения см. в статье [Как управлять веб-сайтами](/ru-ru/manage/services/web-sites/how-to-manage-websites/).

Некоторые функции управления веб-сайтом можно выполнять непосредственно из **Обозревателя сервера** в Visual Studio. Дополнительные сведения о возможных действиях в **Обозревателе сервера** см. в статье [Устранение неполадок веб-сайтов Azure в Visual Studio](/ru-ru/develop/net/tutorials/troubleshoot-web-sites-in-visual-studio/).

### Масштабирование веб-сайта

Если сайт является общедоступным и на нем начинает увеличиваться трафик, время ответа может возрасти, замедляя работу. Чтобы исправить это, можно легко добавить ресурсы сервера на вкладке **Масштаб** портала управления. Дополнительные сведения см. в статье [Как масштабировать веб-сайт](/ru-ru/manage/services/web-sites/how-to-scale-websites/). (Добавление ресурсов сервера для масштабирования веб-сайта не является бесплатным.)

### Как устранить неполадки веб-сайта

Просмотр выходных данных трассировки или журналов поможет выявить и устранить неполадки. Visual Studio предоставляет встроенные инструменты, упрощающие просмотр журналов Azure по мере их создания в режиме реального времени. Можно также работать в Azure удаленно в режиме отладки. Дополнительные сведения см. в статье [Устранение неполадок веб-сайтов Azure в Visual Studio](/ru-ru/develop/net/tutorials/troubleshoot-web-sites-in-visual-studio/).

### Как добавить функции доступа к базе данных и авторизации

На большинстве веб-сайтов используется база данных и некоторые функции сайта доступны только для определенных авторизованных пользователей. Сведения о том, как начать работу с функциями доступа к базе данных, аутентификации и авторизации, см. в учебнике [Развертывание безопасного приложения ASP.NET MVC с членством, OAuth и базой данных SQL на веб-сайте Azure](/ru-ru/develop/net/tutorials/web-site-with-sql-database/).

### Как решить, должно ли приложение работать в облачной службе

Веб-приложения в Azure можно выполнять на веб-сайтах, как показано в этом учебнике, а также в облачных службах и на виртуальных машинах. Дополнительные сведения см. в статьях [Модели выполнения Azure](/ru-ru/develop/net/fundamentals/compute/) и [Веб-сайты Azure, облачные службы и виртуальные машины: когда они используются?](/ru-ru/manage/services/web-sites/choose-web-app-service/).

