<properties 
	pageTitle="Справочник по политикам Azure API Management" 
	description="Сведения о политиках, доступных для настройки службы управления API." 
	services="api-management" 
	documentationCenter="" 
	authors="steved0x" 
	manager="dwrede" 
	editor=""/>

<tags 
	ms.service="api-management" 
	ms.workload="mobile" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="2/11/2015" 
	ms.author="sdanie"/>

# Справочник по политикам Azure API Management

В этом разделе содержится ссылка на следующие политики API Management (предварительная версия). Дополнительные сведения о добавлении и настройке политик см. в разделе [Политики в API Management][Политики в API Management].

-   [Политики ограничения доступа][Политики ограничения доступа]

    -   [Квота использования][Квота использования] - позволяет принудительно устанавливать возобновляемую или действующую в течение срока службы квоту на число вызовов и/или квоту пропускной способности.
    -   [Ограничение скорости][Ограничение скорости] - предотвращает пики использования API путем ограничения числа вызовов и/или скорости потребления пропускной способности.
    -   [Ограничение IP-адресов вызывающих объектов][Ограничение IP-адресов вызывающих объектов] - фильтрует (разрешает/запрещает) вызовы с конкретных IP-адресов и/или диапазонов адресов.
-   [Политики преобразования контента][Политики преобразования контента]

    -   [Установка HTTP-заголовка][Установка HTTP-заголовка] - назначает значение существующему заголовку ответа и/или запроса или добавляет новый заголовок ответа и/или запроса.
    -   [Преобразование XML в JSON][Преобразование XML в JSON] - преобразует тело запроса или ответа из формата XML в формат "JSON" или "строгий XML" для JSON.
    -   [Замена строки в теле][Замена строки в теле] - отыскивает подстроку запроса или ответа и заменяет ее на другую подстроку.
    -   [Настройка параметра строки запроса][Настройка параметра строки запроса] - добавляет, заменяет значение или удаляет параметр строки запроса.
-   [Политики кэширования][Политики кэширования]

    -   [Сохранение в кэше][Сохранение в кэше] - помещение в кэш ответа в соответствии с заданной конфигурацией кэша.
    -   [Получение из кэша][Получение из кэша] - выполнение операции поиска в кэше и возврат допустимого кэшированного ответа при его наличии.
-   [Другие политики][Другие политики]

    -   [Перезапись URI-адреса][Перезапись URI-адреса] - преобразует URL-адрес запроса из его общедоступной формы в форму, ожидаемую веб-службой.
    -   [Маскирование URL-адресов в контенте][Маскирование URL-адресов в контенте] - перезаписывает (маскирует) ссылки в теле ответа и в заголовке папки так, чтобы они указывали на эквивалентную ссылку через прокси-сервер.
    -   [Разрешение кросс-доменных вызовов][Разрешение кросс-доменных вызовов] - делает API доступным из клиентов на основе браузеров Adobe Flash и Microsoft Silverlight.
    -   [JSONP][JSONP] - добавляет поддержку JSON с заполнением (JSONP) для операции или API, чтобы разрешить кросс-доменные вызовы из клиентов на основе браузера JavaScript.
    -   [CORS][CORS] - добавляет поддержку общего доступа к ресурсам независимо от источника (CORS) для операции или API, чтобы разрешить кросс-доменные вызовы от клиентов на основе браузера.

## <a name="access-restriction-policies"> </a> Политики ограничения доступа

-   [Квота использования][Квота использования] - позволяет принудительно устанавливать возобновляемую или действующую в течение срока службы квоту на число вызовов и/или квоту пропускной способности.
-   [Ограничение скорости][Ограничение скорости] - предотвращает пики использования API путем ограничения числа вызовов и/или скорости потребления пропускной способности.
-   [Ограничение IP-адресов вызывающих объектов][Ограничение IP-адресов вызывающих объектов] - фильтрует (разрешает/запрещает) вызовы с конкретных IP-адресов и/или диапазонов адресов.

### <a name="usage-quota"> </a> Квота использования

**Описание:**
Принудительно применяет возобновляемую или действующую в течение срока службы квоту на число вызовов и/или квоту пропускной способности.

**Оператор политики:**

    <quota calls="number" bandwidth="kilobytes" renewal-period="seconds">
        <api name="name" calls="number" bandwidth="kilobytes">
            <operation name="name" calls="number" bandwidth="kilobytes" />
        </api>
    </quota>

**Пример:**

    <policies>
        <inbound>
            <base />
            <quota calls="10000" bandwidth="40000" renewal-period="3600" />
        </inbound>
        <outbound>
            <base />
        </outbound>
    </policies>

**Где может применяться:**
Используется в разделе "inbound" в области продукта.

**Когда может применяться:**
Когда использование операций и/или интерфейсов API должно быть ограничено для продукта.

**Почему должна или не должна применяться:**
Чтобы определить пределы использования для продукта на основе времени и пропускной способности. Когда API достигает заданной предельной квоты, последующие вызовы отклоняются, и появляется сообщение об ошибке. Квоты обычно определяются как число сообщений-запросов, разрешенных в течение предварительно заданного интервала времени и предела пропускной способности.

| Атрибут                  | Описание                                                                                                                                                     |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| quota calls="number"     | Максимальное количество вызовов подписки, разрешенных в течение периода возобновления (то есть, 10000)                                                       |
| bandwidth="kilobytes"    | Максимальное количество килобайтов, которое может быть использовано для этого продукта, API или операции за указанный период возобновления (то есть, 40000). |
| renewal-period="seconds" | Период времени (в секундах), в течение которого применяется квота (то есть, 3600).                                                                           |
| api name="name"          | Имя вызова API, для которого применяется квота.                                                                                                              |
| calls="number"           | Максимальное количество вызовов в API или операцию, которые могут быть сделаны в течение заданного периода возобновления (то есть, 5000).                    |
| operation name="name"    | Имя операции, для которой применяется квота.                                                                                                                 |

### <a name="rate-limit"> </a> Ограничение скорости

**Описание:**
Предотвращает выбросы использования API путем ограничения скорости запросов, поступающих в API и, при необходимости, в конкретную операцию API. При запуске политики потребитель получает код состояния ответа `429 Too Many Requests`.

**Оператор политики:**

    <rate-limit calls="number" renewal-period="seconds">
        <api name="name" calls="number" renewal-period="seconds">
            <operation name="name" calls="number" renewal-period="seconds" />
        </api>
    </rate-limit>

**Пример:**

    <policies>
        <inbound>
            <base />
            <rate-limit calls="20" renewal-period="90" />
        </inbound>
        <outbound>
            <base />        
        </outbound>
    </policies>

**Где может применяться:**
Используется в разделе "inbound" в области продукта.

| Элемент/атрибут          | Описание                                                                                     |
|--------------------------|----------------------------------------------------------------------------------------------|
| calls="number"           | допустимое количество вызовов в период возобновления                                         |
| renewal-period="seconds" | период времени, по окончании которого возобновляется квота на вызовы с ограничением скорости |
| api name="name"          | Имя API, для которого применяется ограничение скорости                                       |
| operation name="name"    | Имя операции, для которой применяется ограничение скорости                                   |

### <a name="caller-ip-restriction"> </a> Ограничение IP-адресов вызывающих объектов

**Описание:**
Фильтрует (разрешает/запрещает) вызовы с конкретных IP-адресов и/или диапазонов адресов.

**Оператор политики:**

    <ip-filter action="allow | forbid">
        <address>address</address>
        <address-range from="address" to="address" />
    </ip-filter>

**Пример:**

    <ip-filter action="allow | forbid">
        <address>address</address>
        <address-range from="address" to="address" />
    </ip-filter>

**Где может применяться:**
Используется в разделе "inbound" в области продукта.

**Когда должна применяться:**
Используйте эту политику, когда требуется специальный контроль за объектом, который может получать доступ к вашей службе

**Почему должна или не должна применяться:**
Эта политика требуется только в том случае, когда требуется жесткий контроль доступа (например, для служб с высокими требованиями по безопасности) на уровне отдельного узла или диапазона узлов.

| Атрибут                                   | Описание                                                                                       |
|-------------------------------------------|------------------------------------------------------------------------------------------------|
| ip-filter action="allow | forbid"         | Указывает, должны ли быть разрешены или запрещены вызовы для указанного адреса (адресов).      |
| address="address"                         | Один или несколько IP-адресов, для которого (которых) действует разрешение или запрет доступа. |
| address-range from="address" to="address" | Диапазон IP-адресов, для которого действует разрешение или запрет доступа.                     |

## <a name="content-transformation-policies"> </a> Политики преобразования контента

-   [Установка HTTP-заголовка][Установка HTTP-заголовка] - назначает значение существующему заголовку ответа и/или запроса или добавляет новый заголовок ответа и/или запроса.
-   [Преобразование XML в JSON][Преобразование XML в JSON] - преобразует тело запроса или ответа из формата XML в формат "JSON" или "строгий XML" для JSON.
-   [Замена строки в теле][Замена строки в теле] - отыскивает подстроку запроса или ответа и заменяет ее на другую подстроку.
-   [Настройка параметра строки запроса][Настройка параметра строки запроса] - добавляет, заменяет значение или удаляет параметр строки запроса.

### <a name="set-http-header"> </a> Настройка HTTP-заголовка

**Описание:**
Назначает значение существующему заголовку ответа и/или запроса или добавляет новый заголовок ответа и/или запроса.

Вставляет список HTTP-заголовков в HTTP-сообщение. Если эта политика находится во входящем конвейере, она устанавливает HTTP-заголовки для запроса, передаваемого в целевую службу. Если эта политика находится в исходящем конвейере, она устанавливает HTTP-заголовки для ответа, отправляемого клиенту прокси-сервера.

**Оператор политики:**

    <set-header name="header name" exists-action="override | skip | append | delete">
        <value>value</value> <!--for multiple headers with the same name add additional value elements-->
    </set-header>

**Пример:**

    <set-header exists-action="override">
        <header name="some value to set" exists-action="override">
        <value>20</value> 
        </header>
    </set-header>

**Где может применяться:**
Используется в разделах "inbound" и "outbound" в любой области, отличной от *Publisher*.

**Когда должна применяться:**
Используется для задания рабочих параметров и/или возвращаемых значений транзакции HTTP.

**Почему должна или не должна применяться:**
Большинство HTTP-запросов и многие ответы требуют наличия заголовков для задания параметров ввода/вывода. Таким образом, эта политика, скорее всего, будет применяться практически ко всем вашим службам.

| Атрибут                                  | Описание                                                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| reconcile-action="override|skip|append"  | Указывает действие, которое должно быть выполнено, когда заголовок уже задан. Примечание. если установлено значение «override», перечисление нескольких записей с одним и тем же именем будет приводить к тому, что заголовок будет устанавливаться в соответствии со всеми записями (будут перечисляться несколько раз); в результате будут установлены только перечисленные значения. |
| header name="header name"                | Указывает имя заголовка, которое должно быть установлено. Обязательный параметр.                                                                                                                                                                                                                                                                                                        |
| exists-action="override | skip | append" | Указывает действие, которое должно быть выполнено, когда заголовок уже задан.                                                                                                                                                                                                                                                                                                           |
| value="value"                            | Указывает значение заголовка, которое должно быть установлено.                                                                                                                                                                                                                                                                                                                          |

### <a name="convert-xml-to-json"> </a> Преобразование XML в JSON

**Описание:**
Преобразует тело запроса или ответа из XML в JSON.

**Оператор политики:**

    <xml-to-json kind="javascript-friendly | direct" apply="always | content-type-xml" consider-accept-header="true | false"/>

**Пример:**

    <policies>
        <inbound>
            <base />
        </inbound>
        <outbound>
            <base />
            <xml-to-json kind="direct" apply="always" consider-accept-header="false" />
        </outbound>
    </policies>

**Где может применяться:**
Используется в разделах "inbound" или "outbound" в областях API или операций.

**Почему должна или не должна применяться:**
Для модернизации интерфейсов API, основанных на серверных веб-службах (только XML).

| Атрибут                               | Описание                                                                                                                                       |
|---------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| kind="javascript-friendly | direct    | Преобразованный JSON имеет форму, дружественную для разработчиков JavaScript | преобразованный JSON отражает структуру исходного XML-документа |
| apply= always | content-type-xml      | Преобразовывать всегда | Преобразовывать только в том случае, если заголовок `Content-Type` указывает наличие XML-кода                         |
| consider-accept-header="true | false" | Применять преобразование на основе значения заголовка `Accept` | Преобразовывать всегда                                                        |

### <a name="replace-string-in-body"> </a> Замена строки в теле

**Описание:**
Отыскивает подстроку в запросе или ответе и заменяет ее на другую строку

**Оператор политики:**

    <find-and-replace from="what to replace" to="replacement" />

**Пример:**

    <find-and-replace from="notebook" to="laptop" />

**Где может применяться:**
Используется в разделах "inbound" и "outbound" в любой области.

| Атрибут                | Описание                                                         |
|------------------------|------------------------------------------------------------------|
| from="what to replace" | Строка, которую нужно найти.                                     |
| to="replacement"       | Строка, которую нужно поместить на место строки, найденной выше. |

### <a name="set-query-string-parameter"> </a> Установка параметра строки запроса

**Описание:**
Добавляет, заменяет значение или удаляет параметр строки запроса.

**Оператор политики:**

    <set-query-parameter name="param name" exists-action="override | skip | append | delete">
        <value>value</value> <!--for multiple parameters with the same name add additional value elements-->
    </set-query-parameter>

**Пример:**

    <policies>
        <inbound>
            <base />
            <set-query-parameter>
                <parameter name="api-key" exists-action="skip">
                    <value>12345678901</value>
                </parameter>
                <!-- for multiple parameters with the same name add additional value elements -->
            </set-query-parameter>
        </inbound>
        <outbound>
            <base />
        </outbound>
    </policies>

**Где может применяться:**
Может использоваться в разделе "inbound" в любой области.

**Почему должна или не должна применяться:**
Используется для передачи параметров запроса, ожидаемых серверной службой, которые являются необязательными, или никогда не присутствуют в запросе.

| Элемент/атрибут          | Описание                                                |
|--------------------------|---------------------------------------------------------|
| name="name"              | строка, которая является именем параметра               |
| exists-action="override" | заменяет значение параметра, если он имеется в запросе  |
| exists-action="skip"     | ничего не делает, если параметр присутствует в запросе  |
| exists-action="append"   | добавляет значение к существующему параметру запроса    |
| exists-action="delete"   | удаляет параметр из запроса*                           |
| value="value"            | устанавливает значение параметра в вышестоящем элементе |

## <a name="caching-policies"> </a> Политики кэширования

-   [Сохранение в кэше][Сохранение в кэше] - помещение в кэш ответа в соответствии с заданной конфигурацией кэша.
-   [Получение из кэша][Получение из кэша] - выполнение операции поиска в кэше и возврат допустимого кэшированного ответа при его наличии.

### <a name="store-to-cache"> </a> Сохранение в кэше

**Описание:**
Помещает в кэш ответы в соответствии с заданными настройками кэша. Должна иметь соответствующую политику [Получение из кэша][Получение из кэша].

**Оператор политики:**

    cache-store duration="seconds" caching-mode="cache-on | do-not-cache" />

**Пример:**

    <policies>
        <inbound>
            <base />
              <cache-lookup vary-by-developer=*"true | false"* vary-by-developer-groups=*"true | false"* downstream-caching-type=*"none | private | public"*>
                    <vary-by-header>Accept</vary-by-header> <!-- should be present in most cases -->
                    <vary-by-header>Accept-Charset</vary-by-header> <!-- should be present in most cases -->
                    <vary-by-header>header name</vary-by-header> <!-- optional, can repeated several times -->
                    <vary-by-query-parameter>parameter name</vary-by-query-parameter> <!-- optional, can repeated several times -->
            </cache-lookup>
        </inbound>
        <outbound>
            <base />
                <cache-store duration="3600" caching-mode="cache-on" />
        </outbound>
    </policies>

**Где может применяться:**
Может присутствовать в разделе "outbound" в одной из или в обеих областях API и операции.

**Когда должна применяться:**
Должна применяться в тех случаях, когда содержимое ответа остается статическим в течение определенного интервала времени.

**Почему должна или не должна применяться:**
Кэширование ответов уменьшает требования по пропускной способности и обработке, накладываемые на внутренний веб-сервер, а также снижает время задержки для потребителей API.

| Элемент/атрибут         | Описание                                                                                                                     |
|-------------------------|------------------------------------------------------------------------------------------------------------------------------|
| seconds                 | Срок жизни кэшированных записей (в секундах, значение по умолчанию = 3600)                                                   |
| cache-on | do-not-cache | Ответы кэшируются | Ответы не кэшируются, и для запрета нисходящего кэширования устанавливаются заголовки, связанные с кэшем |

### <a name="get-from-cache"> </a> Получение из кэша

**Описание:**
Выполняет операцию поиска в кэше и возвращает допустимый кэшированный ответ при его наличии Отвечает соответствующим образом на запросы проверки достоверности кэша, поступающие от потребителей API. Должна иметь соответствующую политику [Сохранение в кэш][Сохранение в кэше].

**Оператор политики:**

    <cache-lookup vary-by-developer=*"true | false"* vary-by-developer-groups=*"true | false"* downstream-caching-type=*"none | private | public"*>
        <vary-by-header>Accept</vary-by-header> <!-- should be present in most cases -->
        <vary-by-header>Accept-Charset</vary-by-header> <!-- should be present in most cases -->
        <vary-by-header>header name</vary-by-header> <!-- optional, can repeated several times -->
        <vary-by-query-parameter>parameter name</vary-by-query-parameter> <!-- optional, can repeated several times -->
    </cache-lookup>

**Пример:**

    <policies>
        <inbound>
            <base />
            <cache-lookup vary-by-developer="false" vary-by-developer-groups="false" downstream-caching-type="none">
                <vary-by-query-parameter>version</vary-by-query-parameter>
                <vary-by-header>Accept</vary-by-header>
                <vary-by-header>Accept-Charset</vary-by-header>
            </cache-lookup>         
        </inbound>
        <outbound>
            <cache-store duration="seconds" caching-mode="cache-on | do-not-cache" />
            <base />        
        </outbound>
    </policies>

**Где может применяться:**
Может присутствовать в разделе "inbound" в одной из или в обеих областях API и операции.

**Когда должна применяться:**
Должна применяться в тех случаях, когда содержимое ответа остается статическим в течение определенного интервала времени.

**Почему должна или не должна применяться:**
Кэширование ответов уменьшает требования по пропускной способности и обработке, накладываемые на внутренний веб-сервер, а также снижает время задержки для потребителей API.

| Элемент/атрибут                                   | Описание                                                                                                                                                                                                                                  |
|---------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| vary-by-developer="true | false"                  | Установите значение *true*, чтобы начать процесс кэширования ответов для каждого ключа разработчика; значение по умолчанию = *false*                                                                                                  |
| vary-by-developer-groups="true | false"           | Установите значение *true*, чтобы начать процесс кэширования ответов для каждой роли пользователя; значение по умолчанию = *false*                                                                                                    |
| downstream-caching-type="none | private | public" | *none* - нисходящее кэширование не разрешено; устанавливается по умолчанию | *private* - нисходящее частное кэширование разрешено | *public* - частное и совместно используемое нисходящее кэширование разрешено.                   |
| vary-by-header: "Accept"                          | Запускается процесс кэширования ответов для значения заголовка `Accept`                                                                                                                                                                   |
| vary-by-header: Accept-Charset"                   | Запускается процесс кэширования ответов для значения заголовка `Accept-Charset`                                                                                                                                                           |
| vary-by-header: "header name"                     | Запускается процесс кэширования ответов для значения заданного заголовка, например, `Accept | Accept-Charset | Accept-Encoding | Accept-Language | Authorization | Expect | From | Host | If-Match`                                       |
| vary-by-query-parameter: "parameter name"         | Запускается процесс кэширования ответов для значения заданных параметров запроса. Введите один или несколько параметров. В качестве разделителя используйте точку с запятой. Если значение не задано, используются все параметры запроса. |

## <a name="other-policies"> </a> Другие политики

-   [Перезапись URI-адреса][Перезапись URI-адреса] - преобразует URL-адрес запроса из его общедоступной формы в форму, ожидаемую веб-службой.
-   [Маскирование URL-адресов в контенте][Маскирование URL-адресов в контенте] - перезаписывает (маскирует) ссылки в теле ответа и в заголовке папки так, чтобы они указывали на эквивалентную ссылку через прокси-сервер.
-   [Разрешение кросс-доменных вызовов][Разрешение кросс-доменных вызовов] - делает API доступным из клиентов на основе браузеров Adobe Flash и Microsoft Silverlight.
-   [JSONP][JSONP] - добавляет поддержку JSON с заполнением (JSONP) для операции или API, чтобы разрешить кросс-доменные вызовы из клиентов на основе браузера JavaScript.
-   [CORS][CORS] - добавляет поддержку общего доступа к ресурсам независимо от источника (CORS) для операции или API, чтобы разрешить кросс-доменные вызовы от клиентов на основе браузера.

### <a name="rewrite-uri"> </a> Перезапись URI

**Описание:**
Преобразует URL-адрес запроса из его общедоступной формы в форму, ожидаемую веб-службой.

**Открытый URL:** <http://api.example.com/storenumber/ordernumber>

**URL-адрес запроса:** <http://api.example.com/v2/US/hardware/storenumber&ordernumber?City&State>.

Не добавляйте дополнительный параметр пути к шаблону в URL перезаписи. Можно добавлять только параметры строки запроса.

**Оператор политики:**

    <rewrite-uri template="uri template" />

**Пример:**

    <policies>
        <inbound>
            <base />
            <rewrite-uri template="/v2/US/hardware/{storenumber}&{ordernumber}?City=city&State=state" />
        </inbound>
        <outbound>
            <base />
        </outbound>
    </policies>

**Где может применяться:**
Только в разделе "inbound" в области операции.

**Когда должна применяться:**
Используется, когда дружественный для пользователя и/или браузера URL-адрес должен быть преобразован в формат URL-адреса, ожидаемый веб-службой.

**Почему должна или не должна применяться:**
Должна применяться только при демонстрации альтернативного формата URL-адреса. "Чистые" URL-адреса, URL-адреса типа "RESTful", дружественные для пользователя URL-адреса или дружественные для SEO URL-адреса представляют собой чисто структурные URL-адреса, которые не содержат строку запроса. Вместо этого они содержат только путь к ресурсу (после схемы и полномочия). Это часто делает в эстетических целях, для удобства и простоты использования или для оптимизации поисковых систем (SEO).

| Атрибут                 | Описание                                                             |
|-------------------------|----------------------------------------------------------------------|
| template="uri template" | фактический URL-адрес веб-службы с любыми параметрами строки запроса |

### <a name="mask-urls-in-content"> </a> Маскирование URL-адресов в контенте

**Описание:**
Перезаписывает (маскирует) ссылки в теле ответа и в заголовке папки так, чтобы они указывали на эквивалентную ссылку через прокси-сервер.

**Оператор политики:**

    <redirect-body-urls />

**Пример:**

    <redirect-body-urls />

**Где может применяться:**
Применяется в областях *API* и *Operation* Может применяться в любом разделе "inbound" и "outbound".

### <a name="allow-cross-domain-calls"> </a> Разрешение кросс-доменных вызовов

**Описание:**
Делает API доступным из клиентов на основе браузеров Adobe Flash и Microsoft Silverlight.

**Оператор политики:**

    <cross-domain />

**Пример:**

    <cross-domain />

**Где может применяться:**
Используется в разделе "inbound" в области *Publishers*.

### <a name="jsonp"> </a> JSONP

**Описание:**
Добавляет поддержку JSON с заполнением (JSONP) для операции или API, чтобы разрешить кросс-доменные вызовы из клиентов на основе браузера JavaScript. JSONP — это метод, который используется в программах JavaScript для запроса данных из сервера в другом домене. JSONP обходит ограничение, принудительно устанавливаемое большинством веб-браузеров, когда доступ к веб-страницам должен выполняться в том же домене.

**Оператор политики:**

    <jsonp callback-parameter-name="callback function name" />

**Пример:**

    <jsonp callback-parameter-name="cb" />

При вызове метода без параметра обратного вызова`?cb=XXX` будет возвращаться простой JSON (без обертки для вызовов функции).

При добавлении параметра обратного вызова`?cb=XXX` будет возвращаться результат JSONP, обертывающий исходные результаты JSON вокруг функции обратного вызова, например, `XXX('<json result goes here>')`;

**Где может применяться:**
Используется только в разделе "outbound".

**Когда должна применяться:**
Для запроса данных из сервера в другом домене.

| Атрибут                 | Описание                                                                                                                            |
|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| callback-parameter-name | Кросс-доменный вызов функции JavaScript, в качестве префикса в котором присутствует полное имя домена, в котором находится функция. |

### <a name="cors"> </a> CORS

**Описание:**
Добавляет поддержку общего доступа к ресурсам независимо от источника (CORS) для операции или API, чтобы разрешить кросс-доменные вызовы от клиентов на основе браузера.

CORS позволяет браузеру и серверу взаимодействовать друг с другом и определять, разрешать конкретные запросы независимо от источника или нет (то есть, вызовы XMLHttpRequests, отправляемые из кода JavaScript на веб-странице в другие домены). Это обеспечивает большую гибкость, чем просто разрешение запросов из одного источника, и более высокую защищенность, чем разрешение всех запросов независимо от источника.

**Оператор политики:**

     <cors>
        <allowed-origins>
            <origin>*</origin> <!-- allow any -->
            <!-- OR a list of one or more specific URIs (case-sensitive) -->
            <origin>URI</origin> <!-- URI must include scheme, host, and port. If port is omitted, 80 is assumed for http and 443 is assumed for https. -->
        </allowed-origins>
     </cors>

**Пример:**

    <cors>
        <allowed-origins>
            <origin>*</origin> <!-- allow any -->
            <!-- OR a list of one or more specific URIs (case-sensitive) -->
            <origin>http://contoso.com:81</origin> <!-- URI must include scheme, host, and port. If port is omitted, 80 is assumed for http and 443 is assumed for https. -->
        </allowed-origins>
    </cors>

**Где может применяться:**
Используется в разделе "inbound" и только в областях *API* и *Operation*.

| Атрибут              | Описание                                                                                                                      |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------|
| <origin>*</origin>  | Разрешить любые ИЛИ список одного или нескольких конкретных URI-адресов                                                       |
| <origin>URI</origin> | URI-адрес должен включать схему, узел и порт. Если порт не задан, то для http предполагается порт 80, а для https — порт 443. |

  [Политики в API Management]: ../api-management-howto-policies
  [Политики ограничения доступа]: #access-restriction-policies
  [Квота использования]: #usage-quota
  [Ограничение скорости]: #rate-limit
  [Ограничение IP-адресов вызывающих объектов]: #caller-ip-restriction
  [Политики преобразования контента]: #content-transformation-policies
  [Установка HTTP-заголовка]: #set-http-header
  [Преобразование XML в JSON]: #convert-xml-to-json
  [Замена строки в теле]: #replace-string-in-body
  [Настройка параметра строки запроса]: #set-query-string-parameter
  [Политики кэширования]: #caching-policies
  [Сохранение в кэше]: #store-to-cache
  [Получение из кэша]: #get-from-cache
  [Другие политики]: #other-policies
  [Перезапись URI-адреса]: #rewrite-uri
  [Маскирование URL-адресов в контенте]: #mask-urls-in-content
  [Разрешение кросс-доменных вызовов]: #allow-cross-domain-calls
  [JSONP]: #jsonp
  [CORS]: #cors

<!--HONumber=46--> 
 