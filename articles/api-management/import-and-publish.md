---
title: "Импорт и публикация API в службе управления API Azure | Документация Майкрософт"
description: "Сведения о том, как импортировать и опубликовать ваш первый API с помощью службы управления API."
services: api-management
documentationcenter: 
author: juliako
manager: cfowler
editor: 
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.custom: mvc
ms.topic: tutorial
ms.date: 11/15/2017
ms.author: apimpm
ms.openlocfilehash: cd6ceaf5f8cdcfbde5d0d2bebb4b89488d0122e9
ms.sourcegitcommit: b854df4fc66c73ba1dd141740a2b348de3e1e028
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2017
---
# <a name="import-and-publish-your-first-api"></a>Импорт и публикация первого API 

В этом руководстве показано, как импортировать API серверной части "Спецификация OpenAPI", размещенный по адресу http://conferenceapi.azurewebsites.net?format=json. Этот API серверной части предоставляется корпорацией Майкрософт. Он размещен в Azure. 

Когда API серверной части будет импортирован в службу управления API, этот API будет использоваться как фасад для API серверной части. Когда вы импортируете API серверной части, исходный API и API службы управления API являются идентичными. Служба управления API позволяет настраивать фасад согласно вашим потребностям, не используя API серверной части. Дополнительные сведения см. в статье [Transform and protect your API](transform-api.md) (Преобразование и защита API). 

Из этого руководства вы узнаете, как выполнять такие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;
> * проверка API на портале разработчика.

![Новый API](./media/api-management-get-started/created-api.png)

## <a name="prerequisites"></a>Предварительные требования

Выполните задачи в кратком руководстве по [созданию экземпляра службы управления API Azure](get-started-create-service-instance.md).

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-navigate-to-instance.md)]

## <a name="create-api"> </a>Импорт и публикация API серверной части

В этом разделе показано, как импортировать и опубликовать API серверной части "Спецификация OpenAPI".
 
1. Выберите **Интерфейсы API** в разделе **Управление API**.
2. Выберите **Спецификация OpenAPI** из списка.

    ![Создание API](./media/api-management-get-started/create-api.png)

    Можно задать значения API во время создания или позже, перейдя на вкладку **Параметры**.  

    |Настройка|Значение|Описание|
    |---|---|---|
    |**Спецификация OpenAPI**|http://conferenceapi.azurewebsites.net?format=json|Определяет службу, которая реализует API-интерфейс. Портал управления API направит запросы по этому адресу.|
    |**Отображаемое имя**|*Demo Conference API*|Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json. <br/>Это имя отображается на портале разработчика.|
    |**Имя**|*demo-conference-api*|Содержит уникальное имя API. <br/>Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json.|
    |**Описание**|Необязательное описание API.|Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json.|
    |**Суффикс URL-адреса API**|*conference*|Этот суффикс добавляется к основному URL-адресу службы управления API. API Management отличает интерфейсы API по их суффиксу. Следовательно, суффикс должен быть уникальным для каждого API для заданного издателя.|
    |**Схема URL-адресов**|*HTTPS*|Определяет, какие протоколы можно использовать для доступа к этому API. |
    |**Продукты**|*Unlimited*| Чтобы опубликовать API, его нужно связать с определенным продуктом. Чтобы добавить новый API к продукту (необязательно), введите здесь название продукта. Этот шаг можно повторить несколько раз, чтобы добавить API в несколько продуктов.<br/>Продуктами называют ассоциации из одного или нескольких API. Вы можете включить определенное количество API-интерфейсов и предлагать их разработчикам через портал разработчика. Чтобы получить доступ к API, разработчикам необходимо сначала подписаться на продукт. После этого они получат ключ подписки, который подходит для любого API в этом продукте. Создавая экземпляр службы управления API, вы автоматически становитесь его администратором. Поэтому вы по умолчанию будете подписаны на все продукты.<br/> По умолчанию каждый экземпляр службы управления API создается с двумя демонстрационными продуктами: **Начальный** и **Без ограничений**. |
3. Нажмите кнопку **Создать**.

## <a name="test-the-new-apim-api-in-the-azure-portal"></a>Проверка нового API службы управления API на портале Azure

Операции можно вызывать непосредственно на портале Azure. Это удобный способ просмотра и проверки операций API.  
1. Выберите API, созданный на предыдущем шаге.
2. Откройте вкладку **Тест**.

    ![Проверка API](./media/api-management-get-started/test-api.png)
3. Щелкните **GetSpeakers**.

    Эта страница отображает поля для параметров запроса, но в нашем примере параметры не используются. Также на этой странице отображаются поля для заголовков. Один из заголовков, Ocp-Apim-Subscription-Key, содержит ключ подписки для продукта, связанного с этим API. Как создатель экземпляра службы управления API, вы автоматически являетесь администратором, поэтому сведения о ключе будут заполнены автоматически. 
4. Нажмите кнопку **Отправить**.

    Служба серверной части вернет ответ **200 ОК** и некоторые данные.

## <a name="call-operation"> </a>Вызов операции с портала разработчика

Также операции можно вызвать через **портал разработчиков**, чтобы проверить API. 

1. Выберите API, который вы создали на шаге "Импорт и публикация API серверной части".
2. Щелкните **Портал разработчика**.

    ![Проверка через портал разработчика](./media/api-management-get-started/developer-portal.png)

    Откроется сайт портала разработчика.
3. Выберите **API**.
4. Выберите **Demo Conference API**.
5. Щелкните **GetSpeakers**.
    
    Эта страница отображает поля для параметров запроса, но в нашем примере параметры не используются. Также на этой странице отображаются поля для заголовков. Один из заголовков, Ocp-Apim-Subscription-Key, содержит ключ подписки для продукта, связанного с этим API. Как создатель экземпляра службы управления API, вы автоматически являетесь администратором, поэтому сведения о ключе будут заполнены автоматически.
6. Щелкните **Попробовать**.
7. Нажмите кнопку **Отправить**.
    
    После вызова операции портал разработчика отображает **состояние ответа**, **заголовки ответа** и **содержимое ответа**.

## <a name="next-steps"> </a>Дальнейшие действия

Из этого руководства вы узнали, как выполнять такие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;
> * проверка API на портале разработчика.

Перейдите к следующему руководству:

> [!div class="nextstepaction"]
> [Создание и публикация продукта](api-management-howto-add-products.md)