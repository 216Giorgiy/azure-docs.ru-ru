---
title: "Обзор Azure Monitor | Документация Майкрософт"
description: "Azure Monitor собирает статистику, которую можно использовать для оповещений, объектов webhook, автомасштабирования и автоматизации. В статье также перечислены другие возможности мониторинга Майкрософт."
author: rboucher
manager: carmonm
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 1b962c74-8d36-4778-b816-a893f738f92d
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/01/2017
ms.author: robb
translationtype: Human Translation
ms.sourcegitcommit: 3693b90509646fd7292861979cd7c2d1c0100d68
ms.openlocfilehash: 30e92d17a99a0c751397e448108d488aefdd557a
ms.lasthandoff: 02/22/2017


---

# <a name="overview-of-azure-monitor"></a>Обзор Azure Monitor
В этой статье представлены общие сведения о мониторинге ресурсов Azure. Она содержит указатели на сведения для определенных типов ресурсов.  Общие сведения о мониторинге приложения не в контексте Azure можно найти в [руководстве по мониторингу и диагностике](../best-practices-monitoring.md).

Видеоруководство по Azure Monitor доступно на странице  
[Начало работы с Azure Monitor](https://channel9.msdn.com/Blogs/Azure-Monitoring/Get-Started-with-Azure-Monitor). Дополнительное видеоруководство, в котором объясняется сценарий использования Azure Monitor, доступно на странице [Explore Microsoft Azure monitoring and diagnostics](https://channel9.msdn.com/events/Ignite/2016/BRK2234) (Обзор мониторинга и диагностики в Microsoft Azure).  

Облачные приложения являются сложными и содержат множество подвижных частей. Мониторинг дает возможность отслеживать данные, чтобы обеспечить работоспособность приложения, а также позволяет предотвратить потенциальные проблемы или устранить неполадки. Кроме того, данные мониторинга можно использовать для получения подробных сведений о приложении. Эти знания могут помочь повысить его производительность и улучшить возможности обслуживания, а также автоматизировать действия, которые в противном случае выполнялись бы вручную.

На следующей схеме изображено концептуальное представление мониторинга Azure, в том числе тип журналов, которые можно собрать, и возможные действия с данными.   

![Логическая модель мониторинга и диагностики для невычислительных ресурсов](./media/monitoring-overview/MonitoringAzureResources-non-compute_v3.png)

Рис. 1. Концептуальная модель мониторинга и диагностики для невычислительных ресурсов

<br/>

![Логическая модель мониторинга и диагностики для вычислительных ресурсов](./media/monitoring-overview/MonitoringAzureResources-compute_v3.png)

Рис. 2. Концептуальная модель мониторинга и диагностики для вычислительных ресурсов

## <a name="monitoring-sources"></a>Источники данных мониторинга
### <a name="activity-logs"></a>Журналы действий
В журналах действий (которые ранее назывались операционными журналами или журналами аудита) вы можете искать информацию о ресурсе в контексте инфраструктуры Azure. Эти журналы содержат такие сведения, как время создания или удаления ресурсов.  

### <a name="host-vm"></a>Виртуальная машина узла
**Только для вычислительных ресурсов**

Некоторые вычислительные ресурсы, например облачные службы, виртуальные машины и Service Fabric, взаимодействуют с выделенной виртуальной машиной узла. Виртуальная машина узла является эквивалентом корневой виртуальной машины в модели гипервизора Hyper-V. В этом случае вы можете собирать метрики только для виртуальной машины узла в дополнение к гостевой ОС.  

Для других служб Azure не обязательно взаимно однозначное сопоставление ресурса и конкретной виртуальной машины узла, поэтому метрики виртуальной машины узла недоступны.

### <a name="resource---metrics-and-diagnostics-logs"></a>Ресурс — метрики и журналы диагностики
Доступные для сбора метрики отличаются в зависимости от типа ресурса. Например, виртуальные машины предоставляют статистику по операциям ввода-вывода и загрузке ЦП в процентах. Но для очереди служебной шины такие данные не существуют. Они предоставляют такие метрики, как размер очереди и пропускная способность для передачи сообщений.

Для вычислительных ресурсов можно получить метрики гостевой ОС и модули диагностики, такие как система диагностики Azure. Система диагностики Azure помогает собирать диагностические данные и перенаправлять их в другие расположения, включая службу хранилища Azure.

Список метрик, доступных для сбора в настоящее время, можно найти на странице сведений [о поддерживаемых метриках](monitoring-supported-metrics.md).

### <a name="application---diagnostics-logs-application-logs-and-metrics"></a>Приложения — журналы диагностики, журналы приложений и метрики
**Только для вычислительных ресурсов**

Приложения могут выполняться в гостевой ОС в рамках модели вычислений. Они выдают собственный набор журналов и метрик.

Это могут быть метрики следующих типов:

* Счетчики производительности
* Журналы приложений
* Журналы событий Windows
* Источник событий .NET
* Журналы IIS
* Трассировка событий Windows на основе манифестов
* аварийные дампы;
* журналы ошибок пользователей.

## <a name="uses-for-monitoring-data"></a>Применение данных мониторинга
### <a name="visualize"></a>Визуализация
Визуализация данных мониторинга на графиках и диаграммах помогает находить тенденции намного быстрее, чем при просмотре самих данных.  

Ниже представлены некоторые способы визуализации.

* Использование портала Azure
* отправка данных в Azure Application Insights;
* отправка данных в Microsoft PowerBI;
* отправка данных в стороннее средство визуализации с помощью потоковой трансляции или использования инструмента для чтения из архива в службе хранилища Azure.

### <a name="archive"></a>Архив
Обычно данные мониторинга записываются в службу хранилища Azure и хранится там, пока вы их не удалите.

Вот несколько способов использования этих данных:

* После записи данные можно считывать и обрабатывать с помощью дополнительных инструментов в среде Azure или вне ее.
* Данные можно скачать на локальный компьютер и поместить в архив. Можно также изменить политику хранения в облаке для длительного хранения данных.  
* <a name="you-leave-the-data-in-azure-storage-indefinitely-though-you-have-to-pay-for-azure-storage-based-on-the-amount-of-data-you-keep"></a>Оставьте данные в службе хранилища Azure на неограниченное время, несмотря на необходимость оплаты за ее использование, исходя из объема сохраняемых в ней данных.
  -

### <a name="query"></a>Запрос
Для доступа к данным в системе или службе хранилища Azure можно использовать REST API Azure Monitor, кроссплатформенные команды интерфейса командной строки, командлеты PowerShell или пакет SDK для .NET.

Примеры таких ошибок: 

* Получение данных для пользовательского приложения мониторинга, созданного вами.
* Создание пользовательских запросов и отправка этих данных в стороннее приложение.

### <a name="route"></a>Маршрутизация
Можно передавать данные мониторинга в другие расположения в режиме реального времени.

Примеры приведены ниже.

* Передача в Application Insights для использования встроенных инструментов визуализации.
* Отправка в концентраторы событий для передачи в сторонние средства, выполняющие анализ в режиме реального времени.

### <a name="automate"></a>Автоматизация
Можно использовать данные мониторинга для активации оповещений или даже целых процессов. Примеры приведены ниже.

* Использование данных для автомасштабирования вычислительных операций на основе нагрузки на приложение.
* Отправка электронных сообщений в случае, если метрика достигла предварительно заданного порогового значения.
* Вызов URL-адреса (webhook) для выполнения действия в системе за пределами Azure.
* Запуск модуля Runbook в службе автоматизации Azure для разнообразных задач.

## <a name="methods-of-use"></a>Способы использования
В большинстве случаев для управления отслеживанием, маршрутизацией и извлечением данных можно использовать один из следующих методов. Не все методы доступны для всех действий или типов данных.

* [Портал Azure](https://portal.azure.com)
* [PowerShell](insights-powershell-samples.md)  
* [Кроссплатформенный интерфейс командной строки](insights-cli-samples.md)
* [ИНТЕРФЕЙС REST API](https://msdn.microsoft.com/library/dn931943.aspx)
* [ПАКЕТ SDK .NET](https://msdn.microsoft.com/library/dn802153.aspx)

## <a name="azures-monitoring-offerings"></a>Предложения Azure для мониторинга
В Azure есть предложения для мониторинга самых разных служб, от инфраструктуры без ОС до телеметрии приложений. Лучшая стратегия мониторинга объединяет все три решения, что обеспечивает комплексное, подробное представление о работоспособности ваших служб.

* [Azure Monitor](http://aka.ms/azmondocs) предлагает возможности визуализации, создания запросов, маршрутизации, оповещения, автомасштабирования и автоматизации на основе данных инфраструктуры Azure (журнал действий) и каждого отдельного ресурса Azure (журналы диагностики). Эта статья является частью документации по Azure Monitor. Имя Azure Monitor впервые было озвучено на конференции Ignite 2016, которая состоялась 25 сентября.  Ранее это решение называлось Azure Insights.  
* [Application Insights](https://azure.microsoft.com/documentation/services/application-insights/) предоставляет широкие возможности обнаружения и диагностики проблем на уровне приложения вашей службы и хорошо интегрируется с данными из службы мониторинга Azure. Это платформа диагностики по умолчанию для веб-приложений службы приложений.  Вы можете направлять ей данные из других служб.  
* [Log Analytics](https://azure.microsoft.com/documentation/services/log-analytics/) (входит в состав пакета [Operations Management Suite](https://www.microsoft.com/oms/)) обеспечивает целостное решение для управления ИТ-инфраструктурой (как локальной, так и сторонней облачной, например AWS), а также для ресурсов Azure.  Данные из Azure Monitor могут направляться непосредственно в журнал аналитики, в результате чего метрики и журналы для всей среды будут отображаться в одном месте.     

## <a name="next-steps"></a>Дальнейшие действия
Кроме того, вы можете узнать больше о:

* [Azure Monitor на видео с конференции Ignite 2016](https://myignite.microsoft.com/videos/4977)
* [Приступая к работе с Azure Monitor](monitoring-get-started.md)
* [Системе диагностики Azure](../azure-diagnostics.md) , если вы пытаетесь диагностировать проблемы в работе облачной службы, виртуальной машины или приложения Service Fabric.
* [Application Insights](https://azure.microsoft.com/documentation/services/application-insights/) , если вы пытаетесь диагностировать проблемы в работе веб-приложения службы приложений.
* [Устранении неполадок службы хранилища Azure](../storage/storage-e2e-troubleshooting.md) , если вы используете большие двоичные объекты, таблицы или очереди этой службы.
* [Log Analytics](https://azure.microsoft.com/documentation/services/log-analytics/) и пакет [Operations Management Suite](https://www.microsoft.com/oms/)

