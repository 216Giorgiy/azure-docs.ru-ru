<properties title="Azure Machine Learning Sample: CRM task" pageTitle="Пример машинного обучения: задача CRM | Azure" description="A sample Azure Machine Learning experiment to develop multiple models that predict customer churn, upsell, and propensity to buy a new product." metaKeywords="" services="machine-learning" solutions="" documentationCenter="" authors="garye" manager="paulettm" editor="cgronlun"  videoId="" scriptId="" />

<tags ms.service="machine-learning" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/23/2014" ms.author="garye" />


# Пример машинного обучения Azure: задача CRM

>[AZURE.NOTE]
>[Пример эксперимента] и [образцы наборов данных], связанные с этой моделью, доступны в ML Studio. См. дополнительные сведения ниже.
[Пример эксперимента]: #sample-experiment
[Образцы наборов данных]: #sample-datasets

<!--
- [Problem Description]
- [Data]
- [Model]
- [Results]
- [API]
- [Sample Experiment]
-->
[Описание проблемы]: #problem-description
[Данные]: #data
[Модель]: #model
[Результаты]: #results
[API]: #api

## Описание проблемы ##

Прогнозирование оттока клиентов (смена поставщика услуг), увеличения суммы покупок (покупка обновлений или надстроек) и склонности к покупкам нового продукта (стремления) 

## Данные ##

Набор данных по 50 000 клиентов (абонентов) французской телекоммуникационной компании Orange. Каждый клиент имеет 230 обезличенных функций. Эти данные взяты из программы состязания KDD Cup 2009. 

Существуют числовые и строковые атрибуты. Атрибуты являются очень разреженными.
 
## Модель ##

Единственная предварительная обработка данных заключалась в обработке отсутствующих значений. Вместо отсутствующих значений в строковых атрибутах мы использовали "0". Почти все числовые атрибуты имеют неотрицательные значения. Мы добавили 1 к существующим значениям числовых атрибутов и использовали 0 в записях с отсутствующим значением. Таким образом, мы различаем фактические исходные нули и нули, указывающие на отсутствующее значение. Для этого мы сначала применили математическую операцию (+1) только к числовым атрибутам. Затем мы заменили все отсутствующие значения на 0 (или "0" для строк). 

Так как у нас есть и числовые и категориальные атрибуты, мы использовали классификатор увеличивающегося дерева решений. Все три проблемы являются несбалансированными с незначительной долей положительных примеров. В некоторых случаях это может приводить к тому, что классификатор будет игнорировать зоны в пространстве функций с небольшим количеством положительных выборок. Для проверки мы обучили две модели для каждой проблемы: в одной используются исходные данные, а в другой реплицируются положительные примеры, чтобы новое количество положительных примеров было примерно равно количеству отрицательных примеров теста. Это было достигнуто с помощью простого скрипта R, который разделил положительные и отрицательные примеры, а затем мы добавили 13 копий положительной выборки в отрицательную выборку. 

## Результаты ##

Модели выводят оценку, связанную с вероятностью положительного результата для каждой задачи. Так как для маркировки наблюдения как положительного можно выбрать произвольное пороговое значение отключения, мы измеряем рабочие характеристики в зоне под кривой рабочих характеристик приемника (ROC) (AUC). Следует отметить, что и для случаев оттока клиентов, и для случаев увеличения суммы покупок репликация положительных выборок для создания более сбалансированного набора незначительно улучшила характеристики модели.  

<table border="1">
<tr><td>Отток</td><td>AUC</td></tr>
<tr style="background-color: #fff"><td>no replication</td><td>0.711</td></tr>
<tr><td>реплицированные положительные значения</td><td>0,728</td></tr>
</table>


<table border="0">
<tr><td>Увеличение суммы покупок</td><td>AUC</td></tr>
<tr style="background-color: #fff"><td>no replication</td><td>0.853</td></tr>
<tr><td>реплицированные положительные значения</td><td>0,865</td></tr>
</table>


<table border="0">
<tr><td>Стремление</td><td>AUC</td></tr>
<tr style="background-color: #fff"><td>no replication</td><td>0.805</td></tr>
<tr><td>реплицированные положительные значения</td><td>0,8</td></tr>
</table>

## API ##

Мы не активировали данную модель, так как она имеет обезличенные функции.



## Пример эксперимента

Следующий пример эксперимента, связанный с этой моделью, доступен в ML Studio в разделе **ЭКСПЕРИМЕНТЫ** на вкладке **ПРИМЕРЫ**.

> **Примеры экспериментов - CRM - Разработка**

## Образцы наборов данных

Следующие образцы наборов данных, используемые для этого эксперимента, доступны в ML Studio в палитре модулей в разделе **Сохраненные наборы данных**.

###Общий набор данных CRM
[AZURE.INCLUDE [machine-learning-sample-dataset-crm-dataset-shared](../includes/machine-learning-sample-dataset-crm-dataset-shared.md)]

###Общие метки стремления CRM
[AZURE.INCLUDE [machine-learning-sample-dataset-crm-appetency-labels-shared](../includes/machine-learning-sample-dataset-crm-appetency-labels-shared.md)]

###Общие метки оттока CRM
[AZURE.INCLUDE [machine-learning-sample-dataset-crm-churn-labels-shared](../includes/machine-learning-sample-dataset-crm-churn-labels-shared.md)]

###Общие метки увеличения суммы покупок CRM
[AZURE.INCLUDE [machine-learning-sample-dataset-crm-upselling-labels-shared](../includes/machine-learning-sample-dataset-crm-upselling-labels-shared.md)]
