<properties umbracoNaviHide="0" pageTitle="Основные понятия для учетных записей хранения | Azure" metaKeywords="Azure storage, storage service, service, storage account, account, create storage account, create account" description="Learn about storage account concepts." urlDisplayName="How to: storage accounts" headerExpose="" footerExpose="" disqusComments="1" title="Storage Account Concepts" services="storage" authors="tamram" manager="adinah" />

<tags ms.service="storage" ms.workload="storage" ms.tgt_pltfrm="na" ms.devlang="multiple" ms.topic="article" ms.date="11/10/2014" ms.author="tamram" />


# Об учетных записях хранения Azure

Ваша учетная запись хранения Azure - это уникальная безопасная учетная запись, которая предоставляет права доступа к службам хранилища Azure: службам больших двоичных объектов, службам очередей, службам таблиц и файловым службам. Ваши данные защищены на уровне учетной записи хранения, и по умолчанию только у вас есть к ним доступ. 

За пользование услугами службы хранилища Azure вам будет выставлен счет согласно вашей учетной записи хранения. Затраты на хранение основываются на четырех факторах: емкость хранилища, схема репликации, транзакции хранилища и передача данных. 

- Объем хранилища определяет, какая часть выделенного объема учетной записи хранения используется для хранения данных. Стоимость простого хранения данных определяется в зависимости от объема хранящихся данных и способа их репликации. 
- Репликация определяет, какое количество копий ваших данных следует хранить и где. 
- Транзакции - это все операции чтения и записи в службе хранилища Azure. 
- Передача данных означает данные, переданные из региона Azure. Когда к данным вашей учетной записи хранения обращается приложение, выполняемое в другом регионе, то независимо от типа приложения (облачная служба или приложение другого типа) вам начисляется плата за исходящие данные. (Для служб Azure можно сгруппировать данные и службы в одном центре обработки данных, чтобы уменьшить или исключить плату за передачу данных.)  

[Информация о ценах - стоимость хранения](http://www.windowsazure.com/ru-ru/pricing/details/#storage) странице содержится информация о ценах на объем хранилища, репликацию и транзакции. [Информация о ценах - передача данных](http://www.windowsazure.com/ru-ru/pricing/details/data-transfers/) содержит детализированную информацию об исходящих данных.

В этом разделе описывается создание учетной записи хранения и некоторые решения, необходимые для создания учетной записи. Здесь также описывается, как управлять ключами доступа к учетной записи хранения и как удалить саму учетную запись хранения.

## Оглавление

- [Практическое руководство. Создание учетной записи хранения](#create)
- [Практическое руководство. Просмотр, копирование и повторное создание ключей доступа к хранилищу](#regeneratestoragekeys)
- [Практическое руководство. Удаление учетной записи хранения](#deletestorageaccount)


## <a id="create"></a>Практическое руководство: Создание учетной записи хранения

1. Войдите на [Портал управления](https://manage.windowsazure.com).

2. Щелкните **Создать**, затем **Хранилище** и **Быстрое создание**..

	![NewStorageAccount](./media/storage-create-storage-account/storage_NewStorageAccount.png)

3. В поле **URL-адрес** введите имя вашей учетной записи хранения. См. раздел [Конечные точки учетной записи хранения](#account-endpoints) информация об использовании имени для адресации объектов, которые содержатся в службе хранилища Azure.

4. С помощью поля **Расположение или территориальная группа**выберите расположение вашей учетной записи хранения, наиболее близкое к вам или вашим клиентам. Если необходимо, чтобы данные из вашей учетной записи хранения были доступны для другой службы Azure (например, виртуальной машины или облачной службы Azure), рекомендуется выбирать территориальную группу, которая совпадает с территориальной группой вашей учетной записи хранения, чтобы данные и службы Azure, которые их обрабатывают, хранились в одном центре обработки данных, так как это позволит повысить производительность и снизить расходы. 

	> [WACOM.NOTE] Обратите внимание, что территориальная группа определяется при создании учетной записи хранения и потом не может быть изменена.

	Дополнительную информацию о территориальных группах см. в разделе [Совместное размещение служб с помощью территориальной группы](#affinity-group) ниже.

	
5. При наличии нескольких подписок Azure отображается поле **Подписка**. В поле **Подписка** введите подписку Azure, которую требуется использовать вместе с учетной записью хранения. Можно создать до пяти учетных записей хранения для вашей подписки Azure.

6. В поле **Репликация** выберите желаемый уровень репликации для вашей учетной записи хранения. Рекомендуется использовать геоизбыточную репликацию, так как она обеспечивает наибольшую сохранность ваших данных. Дополнительную информацию о параметрах репликации службы хранилища Azure см. в разделе [Параметры репликации учетной записи хранения](#replication-options) ниже.

6. Щелкните **Создать учетную запись хранения**.

	На создание учетной записи хранения может уйти несколько минут. Для проверки состояния можно отслеживать уведомления в нижней части портала. После создания учетной записи хранения ваша новая учетная запись хранения переходит в состояние **В сети** и становится готовой к использованию. 

![StoragePage](./media/storage-create-storage-account/Storage_StoragePage.png)


### <a id="account-endpoints"></a>Конечные точки учетной записи хранения 

Каждый объект службы хранилища Azure имеет уникальный URL-адрес; имя учетной записи хранения формирует поддомен этого адреса. Поддомен вместе с доменным именем, уникальным для каждой службы, формирует конечную точку вашей учетной записи хранения. 

Например, если учетная запись хранения имеет имя mystorageaccount, конечной точкой для учетной записи хранения будет: 

- Служба больших двоичных объектов: http://*mystorageaccount*.blob.core.windows.net

- Служба таблиц: http://*mystorageaccount*.table.core.windows.net

- Служба очередей: http://*mystorageaccount*.queue.core.windows.net

- Служба файлов: http://*mystorageaccount*.file.core.windows.net

Конечные точки вашей учетной записи хранения можно увидеть на панели мониторинга портала управления Azure сразу после создания учетной записи.

URL-адрес для доступа к объекту в учетной записи хранения строится путем добавления местоположения объекта в учетной записи хранения к конечной точке. Например, адрес большого двоичного объекта может иметь следующий формат:: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*.

Для своей учетной записи хранения вы можете настроить имя домена. Для получения дополнительной информации см. раздел [Настройка имени домена для данных больших двоичных объектов в учетной записи хранения](http://azure.microsoft.com/ru-ru/documentation/articles/storage-custom-domain-name/) .

### <a id="affinity-group"></a>Совместное размещение служб с помощью территориальной группы 

Территориальная группа - это географическое группирование облачных служб и виртуальных машин для учетных записей хранения в Azure. Территориальная группа может повысить производительность служб, если расположить нагрузку, связанную с вычислениями и хранением данных, в одном центре обработки данных или рядом с целевой аудиторией пользователей. Кроме того, плата за передачу данных не взимается, если доступ к данным в учетной записи хранения предоставляется через службу, работающую в той же территориальной группе.

> [WACOM.NOTE]  Чтобы создать территориальную группу, откройте <b>Параметры</b> портал управления, щелкните <b>Территориальные группы</b>и нажмите кнопку <b>"Добавить территориальную группу"</b> или <b>"Добавить"</b> . Можно также создавать территориальные группы и управлять ими с помощью API управления службами Azure. См. раздел <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/ee460798.aspx">Операции с территориальными группами</a> для получения дополнительной информации.


### <a id="replication-options"></a>Параметры репликации учетной записи хранения

[WACOM.INCLUDE [storage-replication-options](../includes/storage-replication-options.md)]


## <a id="regeneratestoragekeys"></a>Практическое руководство: Просмотр, копирование и повторное создание ключей доступа к хранилищу

При создании учетной записи хранения Azure создает два 512-битных кода доступа к хранилищу, которые используются для проверки подлинности при доступе к учетной записи хранения. Предоставляя два ключа доступа к хранилищу, Azure позволяет повторно создавать ключи без прерывания предоставления службы хранилища или доступа к этой службе.

> [WACOM.NOTE] Рекомендуем никому не сообщать свои ключи доступа к учетной записи хранения. Чтобы предоставить доступ к ресурсам хранилища. не сообщая свои ключи доступа, можно использовать подписанный URL-адрес. Подпись коллективного доступа обеспечивает доступ к ресурсам вашей учетной записи на срок и с разрешениями, которые вы сами определяете. См. раздел [Подписанный URL-адрес](../storage-dotnet-shared-access-signature-part-1/) для получения дополнительной информации.

На [портале управления](http://manage.windowsazure.com) используйте **Управление ключами** на панели мониторинга или странице **Хранилище** для просмотра, копирования и повторного создания ключей доступа к хранилищу, которые используются для получения доступа к таблице больших двоичных объектов и службам очередей. 

### Копирование ключа доступа к хранилищу

Можно также использовать функцию **Управление ключами** для копирования ключа доступа к хранилищу с целью использования этой функции в строке подключения. Для строки подключения требуется имя учетной записи хранения и ключ, которые задействуются в проверке подлинности. Информация о настройке строк подключения для доступа к службам хранилища Azure см. в разделе [Настройка строк подключения].(http://msdn.microsoft.com/ru-ru/library/ee758697.aspx).

1. На [портале управления](http://manage.windowsazure.com) щелкните **Хранилище**, затем выберите имя учетной записи хранения, чтобы открыть панель мониторинга.

2. Щелкните **Управление ключами**.

 	Откроется окно **Управление ключами доступа**.

	![Managekeys](./media/storage-manage-storage-account/Storage_ManageKeys.png)

 
3. Чтобы скопировать ключ доступа к хранилищу, выберите текст ключа. Затем щелкните его правой кнопкой и выберите пункт **Копировать**.

### Повторное создание ключей доступа к хранилищу
Необходимо периодически изменять ключи доступа к хранилищу, чтобы подключения к хранилищу были более безопасными. Назначены два ключа доступа, которые позволяют обслуживать подключения к учетной записи хранения с помощью одного ключа доступа во время переназначения другого ключа доступа. 

<div class="dev-callout"> 
    <b>Предупреждение</b> 
    <p>Повторное создание ключей доступа влияет на виртуальные машины, службы мультимедиа и любые приложения, которые зависят от учетной записи хранения. Все клиенты, использующие ключ доступа к учетной записи хранения, должны быть обновлены для использования нового ключа.
    </p> 
    </div>

**Виртуальные машины** - если учетная запись хранения содержит какие-либо работающие виртуальные машины, необходимо будет повторно развернуть все виртуальные машины после повторного создания ключей доступа. Чтобы избежать повторного развертывания, завершите работу виртуальных машин, прежде чем повторно создавать ключи доступа.
 
**Службы мультимедиа** - если у вас используются службы мультимедиа, зависящие от учетной записи хранения, необходимо повторно синхронизировать ключи доступа со службой мультимедиа после повторного создания ключей.
 
**Приложения** - если у вас имеются веб-приложения или облачные службы, которые используют учетную запись хранения, после повторного создания ключей подключения будут утрачены, если только ключи не будут переключены. Процесс приведен ниже.

1. Обновите строки подключения в коде приложения, чтобы ссылаться на дополнительный ключ доступа учетной записи хранения. 

2. Повторное создание основного ключа доступа для вашей учетной записи хранения. На [портале управления](http://manage.windowsazure.com), на панели мониторинга или странице **Настройка** щелкните **Управление ключами**. Щелкните **Создать повторно** в разделе основного ключа доступа, затем щелкните **Да**, чтобы подтвердить создание нового ключа.

3. Обновите строки подключения в коде, чтобы они ссылались на новый основной ключ доступа.

4. Повторно создайте дополнительный ключ доступа.

## <a id="deletestorageaccount"></a>Практическое руководство: Удаление учетной записи хранения

Чтобы удалить учетную запись хранения, которая больше не используется, воспользуйтесь командой **Удалить** на панели мониторинга или странице **Настройка**. Команда **Удалить** удаляет всю учетную запись хранения, включая все большие двоичные объекты, таблицы и очереди учетной записи. 

<div class="dev-callout">
	<b>Предупреждение</b>
	<p>Восстановить содержимое удаленной учетной записи хранения невозможно. Убедитесь, 
	что вы создали необходимые резервные копии нужных данных, прежде чем удалять учетную запись.
	</p>
	<p>
	Если учетная запись хранения содержит какие-либо VHD-файлы или диски для виртуальных 
	машин Azure, необходимо удалить любые изображения и диски, использующие эти VHD-файлы, 
	прежде чем удалять учетную запись хранения. Сначала остановите виртуальную машину, если она работает, затем удалите ее. Чтобы удалить диски, перейдите на вкладку "Диски" и удалите любые диски, содержащиеся в учетной записи хранения. Чтобы удалить образы, перейдите на вкладку "Образы" и удалите любые образы, содержащиеся в учетной записи.
	</p>
</div>


1. На [портале управления](http://manage.windowsazure.com) щелкните **Хранилище**.

2. Щелкните любое место учетной записи хранения, за исключением имени, и выберите пункт **Удалить**..

	 -Или-

	Щелкните имя учетной записи хранения, чтобы открыть панель мониторинга, затем щелкните **Удалить**..

3. Щелкните **Да**, чтобы подтвердить удаление учетной записи хранения.




<!--HONumber=35_1-->
