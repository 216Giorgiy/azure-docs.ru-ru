.<properties
	pageTitle="Часто задаваемые вопросы о DevTest Labs | Microsoft Azure"
	description="Ответы на часто задаваемые вопросы о DevTest Labs."
	services="devtest-lab,virtual-machines"
	documentationCenter="na"
	authors="tomarcher"
	manager="douge"
	editor=""/>

.<tags
	ms.service="devtest-lab"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="08/05/2016"
	ms.author="tarcher"/>

# Часто задаваемые вопросы о DevTest Labs

В этой статье содержатся ответы на некоторые самые распространенные вопросы о DevTest Labs.

## Общие сведения
- [Почему следует использовать DevTest Labs?](#why-should-i-use-devtest-labs)
- [Что означает "самообслуживание без проблем"?](#what-does-quotworry-free-self-servicequot-mean)
- [Как можно использовать DevTest Labs?](#how-can-i-use-devtest-labs)
- [Как тарифицируется работа в DevTest Labs?](#how-will-i-be-charged-for-devtest-labs)
 
## Безопасность 
- [Какие уровни безопасности предусмотрены в DevTest Labs?](#what-are-the-different-security-levels-in-devtest-labs)
- [Как создать роль, позволяющую пользователям выполнять только одну задачу?](#how-do-i-create-a-specific-role-to-allow-users-to-perform-only-a-single-task)
 
## Интеграция и автоматизация средств непрерывной интеграции и доставки (CI/CD) 
 
- [Можно ли интегрировать DevTest Labs с собственным набором инструментов CI/CD?](#does-devtest-labs-integrate-with-my-cicd-toolchain)
 
## Виртуальные машины 
 
- [Почему в колонке "Виртуальные машины Azure" не отображаются все виртуальные машины, доступные в DevTest Labs?](#why-cant-i-see-certain-vms-in-the-azure-virtual-machines-blade-that-i-see-within-devtest-labs)
- [В чем разница между пользовательскими образами и формулами?](#what-is-the-difference-between-custom-images-and-formulas)
- [Как создать несколько виртуальных машин с помощью одного шаблона?](#how-do-i-create-multiple-vms-from-the-same-template-at-once)
- [Как переместить имеющиеся виртуальные машины Azure в лабораторию DevTest Labs?](#how-do-i-move-my-existing-azure-vms-into-my-devtest-labs-lab)
- [Можно ли присоединить к виртуальной машине несколько дисков?](#can-i-attach-multiple-disks-to-my-vms)
- [Как автоматизировать процесс передачи VHD-файлов для создания пользовательских образов?](#how-do-i-automate-the-process-of-uploading-vhd-files-to-create-custom-images)
 
## Артефакты 
 
- [Что такое артефакты?](#what-are-artifacts)
 
## Настройка лаборатории 
 
- [Как создать лабораторию на основе шаблона Azure Resource Manager?](#how-do-i-create-a-lab-from-an-arm-template)
- [Почему все виртуальные машины создаются в разных группах ресурсов с произвольными именами? Можно ли переименовать или изменить эти группы ресурсов?](#why-are-all-of-my-vms-created-in-different-resource-groups-with-arbitrary-names-can-i-rename-or-modify-these-resource-groups)
- [Сколько лабораторий можно создать в рамках одной подписки?](#how-many-labs-can-i-create-under-the-same-subscription)
- [Сколько виртуальных машин можно создать на лабораторию?](#how-many-vms-can-i-create-per-lab)
 
## Устранение неполадок 
 
- [Во время создания виртуальной машины произошел сбой артефакта. Как устранить эту проблему?](#my-artifact-failed-during-vm-creation-how-do-i-troubleshoot-it)
- [Почему имеющаяся виртуальная сеть не сохраняется должным образом?](#why-isnt-my-existing-virtual-network-saving-properly)

### Почему следует использовать DevTest Labs? 
Лаборатория DevTest Labs позволяет сэкономить время и сократить затраты рабочей группы. Разработчики могут создавать собственные среды с применением разных основ и использовать артефакты для быстрого развертывания и настройки приложений. Благодаря пользовательским образам и формулам виртуальные машины можно сохранять в качестве шаблонов, которые позже можно легко воспроизвести. Кроме того, лаборатории поддерживают несколько настраиваемых политик, таких как автоматическое завершение работы, пороговое значение затрат, максимальное количество виртуальных машин для каждого пользователя и максимальные размеры виртуальных машин, которые позволяют администраторам лаборатории сократить издержки и управлять средами группы. См. дополнительные сведения о лаборатории DevTest Labs в статье [Что такое DevTest Labs?](devtest-lab-overview.md) или просмотрите [вводное видео](/documentation/videos/videos/what-is-azure-devtest-labs).

### Что означает "самообслуживание без проблем"?
"Самообслуживание без проблем" означает, что разработчики и тестировщики при необходимости могут создавать собственные среды. Кроме того, администраторы могут быть уверены, что DevTest Labs позаботится о минимизации потерь и контроле затрат. Администраторы могут указать доступные размеры и максимальное количество виртуальных машин, а также определить время их запуска и завершения работы. DevTest Labs упрощает процесс контроля расходов и настройки получения оповещений о потреблении ресурсов в лаборатории.

### Как можно использовать DevTest Labs? 
DevTest Labs — это удобная служба, позволяющая быстро создавать среды разработки и тестирования и/или применять к ним политики сокращения расходов.

Ниже приведено несколько сценариев использования DevTest Labs.

- Централизованное управление средами разработки и тестирования, применение политик для сокращения расходов и пользовательских образов для совместного использования сборок в группе.
- Разработка приложений с помощью пользовательских образов для сохранения состояния диска на протяжении развертывания.
- Отслеживание расходов, связанных с ходом выполнения.
- Создание массовых сред тестирования для гарантии качества.
- Использование артефактов и формул для удобной настройки и воспроизведения приложений в разных средах.
- Распределение виртуальных машин для интенсивной работы группы (совместная работа над разработкой или тестированием) с последующим удобным отзывом этих машин после окончания события.

### Как тарифицируется работа в DevTest Labs? 
DevTest Labs — это бесплатная служба, то есть за создание лабораторий, настройку политик, шаблонов и артефактов платить не нужно. Плата взимается только за ресурсы Azure, используемые в лабораториях, например виртуальные машины, учетные записи хранения и виртуальные сети. Дополнительные сведения о ценах на ресурсы лаборатории см. [здесь](https://azure.microsoft.com/pricing/details/devtest-lab/).

### Какие уровни безопасности предусмотрены в DevTest Labs?  
Доступ к DevTest Labs определяется [службой управления доступом на основе ролей Azure (RBAC)](../active-directory/role-based-access-built-in-roles.md). Чтобы понять особенности доступа, нужно определить разницу между разрешением, ролью и областью в соответствии с RBAC. Разрешение — это определенный доступ на выполнение конкретного действия (например, доступ на чтение ко всем виртуальным машинам). Роль — это набор разрешений, которые можно объединять в группы и назначать пользователю (например, пользователь с ролью владельца подписки имеет доступ ко всем ресурсам в рамках подписки). Область — уровень в иерархии ресурсов Azure (например, группа ресурсов, отдельная лаборатория или целая подписка).
 
DevTest Labs предусматривает два типа ролей для предоставления пользователю разрешений в рамках службы: владелец и пользователь лаборатории.

- Владелец лаборатории — пользователь, имеющий доступ ко всем ресурсам в лаборатории. Такие пользователи могут изменять политики и виртуальную сеть, выполнять операции чтения и записи на любой виртуальной машине и т. д.
- Пользователь лаборатории — пользователь с этой ролью может просматривать все ресурсы лаборатории, такие как виртуальные машины, политики и виртуальные сети, но не может изменять политики или управлять виртуальными машинами, созданными другими пользователями. В DevTest Labs также можно создать настраиваемые роли. Дополнительные сведения см. в статье [Предоставление пользователю разрешений для определенных политик лаборатории](devtest-lab-grant-user-permissions-to-specific-lab-policies.md).
 
Области имеют иерархическую структуру, поэтому когда пользователю назначаются разрешения на определенном уровне, они автоматически применяются к областям более низкого уровня. Например, если пользователю назначена роль владельца подписки, он имеет доступ ко всем ресурсам в подписке, в том числе ко всем виртуальным машинам, виртуальным сетям и лабораториям. Таким образом, владелец подписки автоматически наследует роль владельца лаборатории. Однако владелец лаборатории не может наследовать роль владельца подписки, так как он имеет доступ к лаборатории, которая находится ниже уровня подписки в рамках иерархии. Поэтому владелец лаборатории не сможет просматривать виртуальные машины, виртуальные сети и другие ресурсы, находящиеся вне лаборатории.

### Как создать роль, позволяющую пользователям выполнять конкретную задачу?
Сведения о создании настраиваемых ролей и назначении для них разрешений см. в статье "Предоставление пользователю разрешений для определенных политик лаборатории". Ниже приведен пример сценария для создания роли "Пользователь Advanced DevTest Labs" с разрешениями на запуск и завершение работы виртуальных машин в лаборатории.
 
	$policyRoleDef = (Get-AzureRmRoleDefinition "DevTest Labs User") 
	$policyRoleDef.Actions.Remove('Microsoft.DevTestLab/Environments/*') 
	$policyRoleDef.Id = $null 
	$policyRoleDef.Name = "DevTest Labs Advance User" 
	$policyRoleDef.IsCustom = $true 
	$policyRoleDef.AssignableScopes.Clear() 
	$policyRoleDef.AssignableScopes.Add("subscriptions/<subscription Id>") 
	$policyRoleDef.Actions.Add("Microsoft.DevTestLab/labs/virtualMachines/Start/action") 
	$policyRoleDef.Actions.Add("Microsoft.DevTestLab/labs/virtualMachines/Stop/action") 
	$policyRoleDef = (New-AzureRmRoleDefinition -Role $policyRoleDef)  
 
### Можно ли интегрировать DevTest Labs с собственным набором инструментов CI/CD? 
При использовании VSTS пользователям предоставляется расширение [Задачи Azure DevTest Labs](https://marketplace.visualstudio.com/items?itemName=ms-azuredevtestlabs.tasks), которое позволяет автоматизировать конвейер выпуска в DevTest Labs. Это расширение можно использовать в следующих целях:

- автоматическое создание и развертывание виртуальной машины, а также ее настройка с помощью последней сборки с использованием задачи "Копирование файлов Azure" или задачи PowerShell VSTS;
- автоматическая запись состояния виртуальной машины после тестирования с целью воспроизведения ошибки на таком же экземпляре для дальнейшего исследования;
- удаление виртуальной машины во время завершения работы конвейера выпуска, если она больше не нужна.

Дополнительные сведения и руководство по использованию расширения VSTS см. в следующих записях блога:
 
- [Azure DevTest Labs – VSTS extension](https://blogs.msdn.microsoft.com/devtestlab/2016/06/15/azure-devtest-labs-vsts-extension/) (Azure DevTest Labs: расширение VSTS)
- [Deploying a new VM in an existing AzureDevTestLab from VSTS](http://www.visualstudiogeeks.com/blog/DevOps/Deploy-New-VM-To-Existing-AzureDevTestLab-From-VSTS) (Развертывание из VSTS новой виртуальной машины в имеющейся лаборатории Azure DevTest Labs)
- [Using VSTS Release Management for Continuous Deployments to AzureDevTestLabs](http://www.visualstudiogeeks.com/blog/DevOps/Use-VSTS-ReleaseManagement-to-Deploy-and-Test-in-AzureDevTestLabs) (Использование управления выпусками VSTS для непрерывного развертывания в Azure DevTest Labs)
 
Для других наборов инструментов CI/CD все указанные сценарии, осуществляемые с использованием задач VSTS, можно также реализовать путем развертывания [шаблонов Azure Resource Manager](https://github.com/Azure/azure-devtestlab/tree/master/ARMTemplates) с помощью [командлетов Azure PowerShell](../resource-group-template-deploy.md) и [пакетов SDK для .NET](https://www.nuget.org/packages/Microsoft.Azure.Management.DevTestLabs/). Для интеграции DevTest Labs с набором инструментов также можно использовать [REST API для DevTest Labs](http://aka.ms/dtlrestapis).

### Почему в колонке "Виртуальные машины Azure" не отображаются все виртуальные машины, доступные в DevTest Labs?
После создания виртуальной машины в DevTest Labs пользователю предоставляется разрешение на доступ к ней и она будет отображаться в колонке Labs (Лаборатории) и **Виртуальные машины**. Для пользователей DevTest Labs список всех виртуальных машин, созданных в лаборатории, доступен в колонке **All Virtual Machines** (Все виртуальные машины). Однако пользователи DevTest Labs автоматически не получают доступ на чтение ресурсов виртуальной машины, созданных другими пользователями. Поэтому такие ресурсы не будут отображаться в колонке **Виртуальные машины**.

### В чем разница между пользовательскими образами и формулами? 
Пользовательский образ — это виртуальный жесткий диск (VHD), а формула — настраиваемый образ, для которого можно задать дополнительные параметры, а затем сохранить их для воспроизведения в будущем. Пользовательский образ рекомендуется использовать для быстрого создания нескольких сред с одинаковой базой. А формула лучше подходит, если необходимо воспроизвести конфигурацию виртуальной машины с последними обновлениями, виртуальной сетью или подсетью, а также с определенным размером. Дополнительные сведения см. в статье [Сравнение пользовательских образов и формул в DevTest Labs](devtest-lab-comparing-vm-base-image-types.md).
 
### Как создать несколько виртуальных машин с помощью одного шаблона? 
Чтобы создать несколько виртуальных машин, используйте [задачи VSTS](https://marketplace.visualstudio.com/items?itemName=ms-azuredevtestlabs.tasks) или во время создания виртуальной машины [создайте шаблон Azure Resource Manager](devtest-lab-add-vm-with-artifacts.md#save-arm-template) и [разверните его из Windows PowerShell](../resource-group-template-deploy.md).
 
### Как переместить имеющиеся виртуальные машины Azure в лабораторию DevTest Labs? 
Мы уже разрабатываем решение для перемещения виртуальных машин непосредственно в DevTest Labs. Пока что вы можете скопировать имеющиеся виртуальные машины в DevTest Labs, выполнив следующие действия:

1. Скопируйте VHD-файл имеющейся виртуальной машины с помощью этого [сценария Windows PowerShell](https://github.com/Azure/azure-devtestlab/blob/master/Scripts/CopyVHDFromVMToLab.ps1).
1. Создайте в лаборатории DevTest Labs [пользовательский образ](devtest-lab-create-template.md).
1. Затем создайте на его основе виртуальную машину.
 
### Можно ли присоединить к виртуальной машине несколько дисков? 
Такая возможность поддерживается.
 
### Как автоматизировать процесс передачи VHD-файлов для создания пользовательских образов? 
Существуют два варианта:

- Для копирования и передачи VHD-файлов в учетную запись хранения, связанную с лабораторией, можно использовать программу командной строки [Azure AzCopy](../storage/storage-use-azcopy.md#blob-upload).
- Использовать автономное приложение [Обозреватель службы хранилища Microsoft Azure](../vs-azure-tools-storage-manage-with-storage-explorer.md), работающее на платформе Windows, OSX и Linux.
 
Чтобы найти целевую учетную запись хранения, связанную с лабораторией, выполните следующие действия:

1. Выполните вход на [портал Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040).
1. На панели слева выберите **Группы ресурсов**.
1. Найдите и выберите группу ресурсов, связанную с вашей лабораторией.
1. В колонке **Обзор** выберите одну из учетных записей хранения.
1. Выберите **Большие двоичные объекты**.
1. Просмотрите список отправленных файлов. Если отправленные файлы отсутствуют, вернитесь к шагу 4 и выберите другую учетную запись хранения.
1. В команде AzCopy введите **URL-адрес** в качестве места назначения.

### Что такое артефакты? 
Артефакты — это настраиваемые элементы, используемые для развертывания последних обновлений или средств разработки на виртуальной машине. Во время создания артефакты легко прикрепляются к виртуальной машине, а после подготовки виртуальной машины они используются для ее развертывания и настройки. В [общедоступном репозитории GitHub](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) находится несколько созданных ранее артефактов, но вы также можете без труда [создать собственные](devtest-lab-artifact-author.md).

### Как создать лабораторию на основе шаблона Azure Resource Manager? 
Шаблоны Azure Resource Manager, используемые для создания лабораторий, доступны в [репозитории GitHub](https://github.com/Azure/azure-devtestlab/tree/master/ARMTemplates). Каждый из этих шаблонов содержит ссылку, щелкнув которую вы запустите процесс развертывания лаборатории DevTest Labs с использованием собственной подписки Azure.
 
### Почему все виртуальные машины создаются в разных группах ресурсов с произвольными именами? Можно ли переименовать или изменить эти группы ресурсов? 
Такая особенность групп ресурсов позволяет DevTest Labs управлять разрешениями пользователя и доступом к виртуальным машинам. Мы работаем над тем, чтобы исправить эту особенность и предоставить большую гибкость. При необходимости эти группы ресурсов можно переименовать. Чтобы избежать непреднамеренного изменения разрешений, рекомендуется не перемещать виртуальные машины в разные группы ресурсов.
 
### Сколько лабораторий можно создать в рамках одной подписки? 
Определенного ограничения на количество лабораторий, которые можно создать в рамках одной подписки, нет, но используемые ресурсы ограничены. Дополнительные сведения см. в статье [Подписка Azure, границы, квоты и ограничения службы](../azure-subscription-service-limits.md) и записи блога [об увеличении предельных значений ограничений](https://azure.microsoft.com/blog/azure-limits-quotas-increase-requests).
 
### Сколько виртуальных машин можно создать на лабораторию? 
Определенного ограничения на количество виртуальных машин, которые можно создать на лабораторию, нет, но в данный момент лаборатория поддерживает только 40 виртуальных машин, запущенных одновременно, в стандартном хранилище и 25 в хранилище класса Premium. В настоящее время мы работаем над увеличением этих предельных значений.
 
### Во время создания виртуальной машины произошел сбой артефакта. Как устранить эту проблему? 
Дополнительные сведения о получении журналов с записями об этом артефакте см. в записи блога [How to troubleshoot failing Artifacts in AzureDevTestLabs](http://www.visualstudiogeeks.com/blog/DevOps/How-to-troubleshoot-failing-artifacts-in-AzureDevTestLabs) (Способы устранения сбоя артефактов в лабораториях для разработки и тестирования Azure). Эта запись создана одним из наших специалистов в области MVP.
 
### Почему имеющаяся виртуальная сеть не сохраняется должным образом?  
Причина этого может заключаться в том, что в имени виртуальной сети содержатся точки. Если это так, удалите точки или замените их дефисами, а затем повторите попытку.

<!---HONumber=AcomDC_0810_2016-->