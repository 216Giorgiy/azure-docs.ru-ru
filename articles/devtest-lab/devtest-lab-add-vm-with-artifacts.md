<properties
	pageTitle="Добавление виртуальной машины с артефактами в Azure DevTest Lab | Microsoft Azure"
	description="Узнайте, как добавить виртуальную машину с артефактами в лабораторию для разработки и тестирования"
	services="devtest-lab,virtual-machines"
	documentationCenter="na"
	authors="tomarcher"
	manager="douge"
	editor=""/>

<tags
	ms.service="devtest-lab"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="03/13/2016"
	ms.author="tarcher"/>

# Добавление виртуальной машины с артефактами в лабораторию для разработки и тестирования

> [AZURE.NOTE] Щелкните следующую ссылку, чтобы просмотреть видео для этой статьи: [Как создавать виртуальные машины с артефактами в лаборатории для разработки и тестирования](/documentation/videos/how-to-create-vms-with-artifacts-in-a-devtest-lab).

## Обзор

Виртуальная машина создается в лаборатории для разработки и тестирования из базового образа, который представляет собой [пользовательский образ](./devtest-lab-create-template.md) или образ Marketplace.

*Артефакты* лаборатории для разработки и тестирования позволяют указать *действия*, выполняемые при создании виртуальной машины.

Действия артефактов могут запускать такие процедуры, как выполнение сценариев Windows PowerShell, выполнение команд Bash и установка программного обеспечения.

*Параметры* артефакта позволяют настроить артефакт для конкретной ситуации.

В этой статье показано, как создать виртуальную машину в лаборатории с помощью артефактов.

## Добавление виртуальной машины с артефактами

1. Войдите на [портал Azure](https://portal.azure.com).

1. Выберите **Обзор**, а затем в списке выберите **Лаборатории для разработки и тестирования**.

1. В списке лабораторий щелкните лабораторию, в которой нужно создать виртуальную машину.

1. В колонке лаборатории щелкните пункт **+ ВМ лаборатории**, как показано на следующем рисунке. ![Домашняя колонка DevTest Lab](./media/devtest-lab-add-vm-with-artifacts/devtestlab-home-blade-add-vm.png)

1. В колонке **Лаборатория ВМ** введите имя для новой виртуальной машины в текстовое поле **Имя ВМ лаборатории **.

1. Коснитесь пункта **База / Настроить необходимые параметры** и выберите образ базы для виртуальной машины.

    ![Параметры ВМ лаборатории](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-lab-vm-blade-1.png)

1. После выбора базового образа и нажатия кнопки **ОК** колонка **Виртуальные машины в лаборатории** будет расширена. В ней появятся элементы пользовательского интерфейса для указания учетных записей пользователей, включая **Имя пользователя**, **Тип проверки подлинности** (если типом ОС для выбранного базового является Linux) и **Пароль** (при условии, что тип проверки подлинности — *Пароль*).

    ![Развернутая колонка ВМ лаборатории](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-lab-vm-blade-2.png)

1. Введите **имя пользователя**, которому будут предоставлены права администратора на виртуальной машине.

1. Если типом ОС для выбранного базового является Linux, укажите тип проверки подлинности: *Пароль* или *Открытый ключ SSH*.

1. В зависимости от указанного типа проверки подлинности введите пароль или открытый ключ SSH.

1. Коснитесь пункта **Размер ВМ** и выберите один из стандартных элементов, указывающих количество ядер процессора, объем ОЗУ и размер жесткого диска для создания виртуальной машины.

1. Щелкните **Виртуальная сеть** и выберите нужную виртуальную сеть.

1. Щелкните **Подсеть** и выберите подсеть.

1. Если политика лаборатории разрешает использовать общедоступные IP-адреса для выбранной подсети, укажите, должен ли IP-адрес быть общедоступным, выбрав **Да** или **Нет**. В противном случае этот параметр отключен и имеет значение **Нет**.

1. Коснитесь пункта **Артефакты** в списке артефактов, а затем выберите и настройте артефакты, которые нужно добавить в образ базы. **Примечание.** Если вы не знакомы с лабораториями для разработки и тестирования или настройкой артефактов, перейдите к разделу [Добавление существующего артефакта к виртуальной машине](#add-an-existing-artifact-to-a-vm), выполните необходимые действия и вернитесь сюда.

1. Коснитесь пункта **Создать**, чтобы добавить в лабораторию определенную виртуальную машину.

1. В колонке лаборатории отображается состояние создания виртуальной машины: сначала **Создается**, а после того, как машина будет создана, — **Выполняется**.

1. Перейдите к разделу [Дальнейшие действия](#next-steps).

## Добавление существующего артефакта к виртуальной машине

Существующие артефакты можно добавить при создании виртуальной машины. Каждая лаборатория включает артефакты из общедоступного репозитория артефактов DevTest Lab, а также артефакты, созданные и добавленные в ваш собственный репозиторий артефактов. Чтобы узнать, как создать артефакты, обратитесь к статье [Узнайте, как создавать собственные артефакты для лаборатории для разработки и тестирования](devtest-lab-artifact-author.md).

1. В колонке **Виртуальная машина лаборатории** щелкните **Артефакты**. 

1. В колонке **Добавить артефакты** щелкните нужный артефакт.

![Колонка "Добавление артефактов"](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-artifact-blade.png)

1. Введите значения обязательных параметров и другие параметры по желанию.  

1. Щелкните пункт **Добавить**, чтобы добавить артефакт и вернуться в колонку **Добавление артефактов**.

1. Продолжайте добавлять артефакты, необходимые для виртуальной машины.

1. После добавления артефактов можно [изменить порядок, в котором выполняются артефакты](#change-the-order-in-which-artifacts-are-run). Также можно вернуться к [просмотру или изменению артефакта](#view-or-modify-an-artifact).

## Изменение порядка выполнения артефактов

По умолчанию действия артефактов выполняются в порядке их добавления на виртуальную машину. Ниже показано, как изменить порядок, в котором выполняются артефакты.

1. В верхней части колонки **Добавление артефактов** щелкните ссылку с количеством артефактов, добавленных в виртуальную машину.

    ![](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-artifacts-blade-selected-artifacts.png)

1. Перетащите артефакты в список в необходимом порядке. **Примечание.** Если у вас возникли проблемы при перетаскивании артефактов, убедитесь, что вы перетаскиваете артефакты с левой стороны.

1. Когда закончите, нажмите **ОК**.

## Просмотр или изменение артефакта

Для просмотра или изменения параметров артефакта выполните следующие действия:

1. В верхней части колонки **Добавление артефактов** щелкните ссылку с количеством артефактов, добавленных в виртуальную машину.

    ![](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-artifacts-blade-selected-artifacts.png)

1. В колонке **Выбранные артефакты** щелкните артефакт, который хотите просмотреть или изменить.

1. В колонке **Добавление артефакта** внесите необходимые изменения, а затем щелкните кнопку **ОК**, чтобы закрыть колонку **Добавление артефактов**.

1. Щелкните кнопку **ОК**, чтобы закрыть колонку **Выбранные артефакты**.

## Дальнейшие действия

- После создания виртуальной машины можно подключиться к ней, щелкнув **Подключиться** в колонке виртуальной машины.
- Чтобы узнать, как создать артефакты, обратитесь к статье [Узнайте, как создавать собственные артефакты для лаборатории для разработки и тестирования](devtest-lab-artifact-author.md).

<!---HONumber=AcomDC_0316_2016-->