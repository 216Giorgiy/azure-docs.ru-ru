---
title: "Глобальное распределение данных с помощью DocumentDB | Документация Майкрософт"
description: "Узнайте о георепликации в масштабах планеты, отработке отказа и восстановлении данных с помощью глобальных баз данных из Azure DocumentDB — полностью управляемой службы базы данных NoSQL."
services: documentdb
documentationcenter: 
author: arramac
manager: jhubbard
editor: 
ms.assetid: ba5ad0cc-aa1f-4f40-aee9-3364af070725
ms.service: documentdb
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 12/13/2016
ms.author: arramac
translationtype: Human Translation
ms.sourcegitcommit: 70ccae77af2ace919e01a595a3e61711be2f760d
ms.openlocfilehash: f7ae58ff1dd500e130aa6a5b362065b1a304b7aa


---
# <a name="distribute-data-globally-with-documentdb"></a>Глобальное распространение данных с помощью DocumentDB

Служба Azure DocumentDB разработана для удовлетворения потребностей приложений IoT. Она состоит из миллионов глобально распределенных устройств и интернет-приложений, обеспечивающих быстрое взаимодействие для пользователей по всему миру. Эти системы базы данных сталкиваются с необходимостью обеспечивать высокоскоростной доступ к данным приложений в нескольких географических регионах с четко определенными гарантиями согласованности и доступности данных. Являясь глобально распределенной системой базы данных, DocumentDB упрощает глобальное распространение данных, предлагая полностью управляемые учетные записи базы данных в нескольких регионах, которые обеспечивают четкие компромиссы между согласованностью, доступностью и производительностью с соответствующими гарантиями. Учетные записи базы данных DocumentDB обеспечивают высокий уровень доступности, задержки в единицы миллисекунд, несколько [четко определенных уровней согласованности][consistency], прозрачную региональную отработку отказа с интерфейсами API многосетевого подключения, а также возможность эластично масштабировать пропускную способность и хранилище по всему миру. 

Рекомендуем начать с просмотра следующего видео, в котором Картик Раман (Karthik Raman) объясняет принципы географического распределения с помощью Azure DocumentDB.

> [!ВИДЕО https://channel9.msdn.com/Shows/Azure-Friday/Planet-Scale-NoSQL-with-DocumentDB/player]
> 
> 

## <a name="configuring-multi-region-accounts"></a>Настройка учетных записей в нескольких регионах
Настроить учетную запись DocumentDB для масштабирования по всему миру можно менее чем за минуту, воспользовавшись [порталом Azure](documentdb-portal-global-replication.md). Вам всего лишь нужно выбрать подходящий уровень согласованности из нескольких поддерживаемых четко определенных уровней согласованности и связать любое количество регионов Azure со своей учетной записью базы данных. Уровни согласованности DocumentDB обеспечивает четкие компромиссы между конкретными гарантиями согласованности и производительностью. 

![DocumentDB предлагает несколько четко определенных моделей согласованности (нестрогой) на ваш выбор.][1]

DocumentDB предлагает несколько четко определенных моделей согласованности (нестрогой) на ваш выбор.

Выбор правильного уровня согласованности зависит от гарантии согласованности данных, требуемой вашему приложению. DocumentDB автоматически реплицирует данные во все указанные регионы и гарантирует согласованность, которую вы выбрали для своей учетной записи базы данных. 

## <a name="using-multi-region-failover"></a>Использование отработки отказа в нескольких регионах
В Azure DocumentDB возможна прозрачная отработка отказа учетных записей базы данных в нескольких регионах Azure. Новые интерфейсы [API многосетевого подключения][developingwithmultipleregions] гарантируют, что при отработке отказа ваше приложение будет и дальше использовать логическую конечную точку без прерывания работы. Вы управляете отработкой отказа, а это обеспечивает гибкость при переносе учетной записи базы данных в целом ряде случаев, когда возможны сбои, включая сбои приложений, инфраструктуры, служб или всего региона (реальные или смоделированные). В случае регионального сбоя DocumentDB служба выполнит прозрачную отработку отказа учетной записи базы данных, и ваше приложение продолжит обращаться к данным без ущерба доступности. Принимая во внимание, что DocumentDB предлагает [Соглашения об уровне обслуживания, гарантирующие 99,99 % доступности][sla], вы можете комплексно проверить свойства доступности своего приложения, сымитировав региональный сбой как [программно][arm], так и на портале Azure.

## <a name="scaling-across-the-planet"></a>Масштабирование по всей планете
DocumentDB позволяет независимо подготавливать пропускную способность и использовать хранилище для каждой коллекции DocumentDB любого масштаба, причем глобально во всех регионах, связанных с вашей учетной записью базы данных. Коллекция DocumentDB автоматически глобально распределяется и управляется во всех регионах, связанных с учетной записью базы данных. Коллекции в учетной записи базы данных могут быть распределены между любыми регионами Azure, в которых [доступна служба DocumentDB][serviceregions]. 

Приобретенная пропускная способность и объем хранилища для каждой коллекции DocumentDB автоматически подготавливается во всех регионах в равном размере. Это позволяет легко масштабировать приложение по всему миру, [оплачивая только каждый час использования пропускной способности и хранилища][pricing]. Например, если вы подготовили для коллекции DocumentDB 2 миллиона единиц запроса, то каждый регион, связанный с вашей учетной записью базы данных, получает 2 миллиона единиц запроса для этой коллекции. Это показано на рисунке ниже.

![Масштабирование пропускной способности для коллекции DocumentDB в четырех регионах][2]

DocumentDB гарантирует менее 10 мс задержки для чтения и менее 15 мс — для записи при уровне P99. Запросы чтения никогда не перекрывают границы центра обработки данных, чтобы гарантировать выполнение [выбранных требований к согласованности][consistency]. Операции записи всегда фиксируются кворумом локально, прежде чем подтверждаются для клиентов. Для каждой учетной записи базы данных настроен приоритетный регион записи. Регион, которому назначен максимальный приоритет, будет выступать в качестве текущего региона записи для учетной записи. Все пакеты SDK будут прозрачно перенаправлять операции записи учетной записи базы данных в текущий регион записи. 

Наконец, так как служба DocumentDB является полностью [схемонезависимой][vldb], вам никогда не придется беспокоиться об управлении схемами или вторичными индексами либо об их обновлении в нескольких центрах обработки данных. Ваши [SQL-запросы][sqlqueries] будут работать, пока ваше приложение и модели данных продолжают развиваться. 

## <a name="enabling-global-distribution"></a>Включение глобального распределения
Вы можете применить глобальное или локальное распределение данных, связав один или несколько регионов Azure с учетной записью базы данных DocumentDB. Вы можете добавлять области в учетную запись базы данных и удалять их оттуда в любое время. Сведения о включении глобального распределения с помощью портала см. в статье [Выполнение репликации глобальной базы данных DocumentDB с помощью портала Azure](documentdb-portal-global-replication.md). Сведения о включении глобального распределения программным путем см. в статье [Developing with multi-region DocumentDB accounts](documentdb-developing-with-multiple-regions.md) (Разработка с помощью учетных записей DocumentDB в нескольких регионах).

## <a name="next-steps"></a>Дальнейшие действия
Узнайте больше о глобальном распространении данных с помощью DocumentDB в следующих статьях.

* [Дополнительные сведения о подготовке хранилища и прогнозируемой производительности в DocumentDB][throughputandstorage]
* [Разработка с помощью учетных записей DocumentDB в нескольких регионах][developingwithmultipleregions]
* [Уровни согласованности в DocumentDB][consistency]
* [Соглашение об уровне обслуживания для DocumentDB][sla]
* [Управление учетной записью DocumentDB][manageaccount]

[1]: ./media/documentdb-distribute-data-globally/consistency-tradeoffs.png
[2]: ./media/documentdb-distribute-data-globally/collection-regions.png

<!--Reference style links - using these makes the source content way more readable than using inline links-->
[pcolls]: documentdb-partition-data.md
[consistency]: documentdb-consistency-levels.md
[consistencytradeooffs]: ./documentdb-consistency-levels/#consistency-levels-and-tradeoffs
[developingwithmultipleregions]: documentdb-developing-with-multiple-regions.md
[createaccount]: documentdb-create-account.md
[manageaccount]: documentdb-manage-account.md
[manageaccount-consistency]: documentdb-manage-account.md#consistency
[throughputandstorage]: documentdb-manage.md
[arm]: documentdb-automation-resource-manager-cli.md
[regions]: https://azure.microsoft.com/regions/
[serviceregions]: https://azure.microsoft.com/en-us/regions/#services 
[pricing]: https://azure.microsoft.com/pricing/details/documentdb/
[sla]: https://azure.microsoft.com/support/legal/sla/documentdb/ 
[vldb]: http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf
[sqlqueries]: documentdb-sql-query.md




<!--HONumber=Dec16_HO3-->


