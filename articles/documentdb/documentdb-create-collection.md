---
title: "Создание базы данных и коллекции DocumentDB | Документация Майкрософт"
description: "Узнайте, как создать базы данных NoSQL и коллекции документов JSON с помощью интерактивного портала служб Azure DocumentDB, облачной базы данных документов. Получите бесплатную пробную  версию сегодня."
services: documentdb
author: mimig1
manager: jhubbard
editor: monicar
documentationcenter: 
ms.assetid: b81ad2f6-df7f-4c6d-8ca9-f8a9982d647e
ms.service: documentdb
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/18/2017
ms.author: mimig
translationtype: Human Translation
ms.sourcegitcommit: 8c4e33a63f39d22c336efd9d77def098bd4fa0df
ms.openlocfilehash: 97b634b10f75dd10c9cf4b61a5b9674f7ee73e00
ms.lasthandoff: 04/20/2017


---
# <a name="how-to-create-a-documentdb-collection-and-database-using-the-azure-portal"></a>Создание коллекции и базы данных DocumentDB на портале Azure
Чтобы использовать Microsoft Azure DocumentDB, необходимы [учетная запись DocumentDB](documentdb-create-account.md), база данных, коллекция и документы. В этой статье описывается создание коллекции DocumentDB на портале Azure.

Не знаете, что такое коллекция? Обратитесь к статье [Что такое коллекция DocumentDB?](#what-is-a-documentdb-collection).

Существует два способа создать коллекцию на портале — с помощью кнопки "Добавить коллекцию" или с помощью [обозревателя данных (предварительная версия)](#data-explorer).

## <a name="create-a-colletion-using-add-collection-button"></a>Создание коллекции с помощью кнопки "Добавить коллекцию"

1. На [портале Azure](https://portal.azure.com/) на навигационной панели щелкните **DocumentDB (NoSQL)**, а затем в колонке **DocumentDB (NoSQL)** выберите учетную запись, в которую необходимо добавить коллекцию. При отсутствии учетных записей необходимо [создать учетную запись DocumentDB](documentdb-create-account.md).

   ![Снимок экрана, на котором изображены учетные записи DocumentDB на панели быстрых переходов, учетная запись в колонке "Учетные записи DocumentDB" и база данных в колонке учетной записи DocumentDB в группе связанных элементов "База данных"](./media/documentdb-create-collection/docdb-database-creation-1-2.png)

   Если служба **DocumentDB (NoSQL)** не отображается на навигационной панели, то щелкните **Больше служб**, а затем выберите **DocumentDB (NoSQL)**. При отсутствии учетных записей необходимо [создать учетную запись DocumentDB](documentdb-create-account.md).
2. В колонке **Учетная запись DocumentDB** для выбранной учетной записи щелкните **Добавить коллекцию**.

    ![Снимок экрана, на котором изображены учетные записи DocumentDB на панели быстрых переходов, учетная запись в колонке "Учетные записи DocumentDB" и база данных в колонке учетной записи DocumentDB в группе связанных элементов "База данных"](./media/documentdb-create-collection/docdb-database-creation-3.png)
3. В колонке **Добавить коллекцию** в поле **Идентификатор коллекции** введите идентификатор новой коллекции. Имя коллекции может иметь длину от 1 до 255 символов и не может содержать `/ \ # ?` или пробел. После проверки имени в поле идентификатора отображается зеленая галочка.

    ![Снимок экрана, на котором изображены кнопка "Добавить коллекцию" в колонке "База данных", параметры в колонке "Добавление коллекции" и кнопка OK — портал Azure для DocumentDB — инструмент создания облачных баз данных JSON для NoSQL](./media/documentdb-create-collection/docdb-collection-creation-5-8.png)
4. Для обработки секционированных коллекций для параметра **Емкость хранилища** по умолчанию используется значение **250 ГБ**.

    Установите объем хранилища **10 ГБ**, если вы хотите использовать [коллекцию с одной секцией](documentdb-partition-data.md#single-partition-and-partitioned-collections) и предусмотрена пропускная способность от 400 до 10 000 единиц запроса в секунду (ЕЗ/с). Одна ЕЗ соответствует пропускной способности для операции чтения документа размером 1 КБ. Дополнительные сведения о единицах запроса см. в статье [Единицы запросов в DocumentDB](documentdb-request-units.md).

    Установите объем хранилища **250 ГБ**, если вы хотите, чтобы [секционированную коллекцию](documentdb-partition-data.md#single-partition-and-partitioned-collections) можно было масштабировать, получив в результате неограниченный объем хранилища (в нескольких секциях) и пропускную способность от 2500 ЕЗ/с.

    Установите объем хранилища **Настраиваемый**, если объемы в 10 ГБ и в 250 ГБ вам не подходят. DocumentDB имеет практически неограниченные возможности масштабирования, поэтому в запросе на поддержку укажите требуемые размер хранилища и значение пропускной способности.

6. В поле **Ключ секции** введите ключ секции для коллекции. Это необходимо для секционированных коллекций, а для коллекций с одной секцией — необязательно. Для создания высокопроизводительной коллекции важно выбрать правильный ключ раздела. Дополнительные сведения о выборе ключа секции см. в разделе [Проектирование секционирования](documentdb-partition-data.md#designing-for-partitioning).
7. В колонке **База данных** создайте базу данных или используйте имеющуюся. Имя базы данных может иметь длину от 1 до 255 символов и не может содержать `/ \ # ?` или пробел. Чтобы проверить имя, щелкните вне текстового поля. После проверки имени в поле отображается зеленая галочка.
8. Нажмите **ОК** в нижней части экрана, чтобы создать коллекцию.
9. Новая коллекция теперь отображается в разделе **Коллекции** колонки **База данных**.

    ![Снимок экрана новой коллекции в колонке "База данных" — портал Azure для DocumentDB — инструмент создания облачных баз данных JSON для NoSQL](./media/documentdb-create-collection/docdb-collection-creation-9.png)
10. **Необязательно.** Чтобы изменить пропускную способность коллекции на портале, щелкните **Масштаб** в меню ресурсов.

    ![Снимок экрана с меню ресурсов, в котором выбран пункт "Масштаб"](./media/documentdb-create-collection/docdb-collection-creation-scale.png)

<a id="data-explorer"></a>
## <a name="create-a-collection-by-using-data-explorer-preview"></a>Создание коллекции с помощью обозревателя данных (предварительная версия)

Другой способ создания коллекции на портале заключается в использовании обозревателя данных. Чтобы открыть обозреватель данных, щелкните элемент **Обозреватель данных (ознакомительная версия)** на панели навигации портала, а затем нажмите кнопку **Создать коллекцию**, как показано на следующем снимке экрана.

 ![Снимок экрана с кнопкой "Создать коллекцию" на портале](./media/documentdb-create-collection/azure-documentdb-data-explorer.png)


## <a name="what-is-a-documentdb-collection"></a>Что такое коллекция DocumentDB?
Коллекция представляет собой контейнер документов JSON и связанной логики приложения на JavaScript. Коллекция представляет собой тарифицируемый объект, и его [стоимость](documentdb-performance-levels.md) определяется уровнем подготовленной пропускной способности. Коллекции могут охватывать один или несколько разделов либо серверов и масштабироваться до практически неограниченных объемов хранилища или пропускной способности.

DocumentDB автоматически секционирует коллекции на один или несколько физических серверов. При создании коллекции можно указать подготовленную пропускную способность в единицах запросов в секунду и свойство ключа раздела. С помощью этого свойства служба DocumentDB будет распределять документы между разделами и перенаправлять запросы. Значение ключа раздела тоже выступает в качестве границы транзакции для хранимых процедур и триггеров. Каждой коллекции назначается зарезервированный объем пропускной способности, который не используется совместно с другими коллекциями в данной учетной записи. Таким образом, для приложения можно масштабировать как объем хранилища, так и пропускную способность.

Коллекции отличаются от таблиц в реляционных базах данных тем, Коллекции не используют схемы, на самом деле, DocumentDB не использует никаких схем, это база данных без схем. Поэтому вы можете хранить разные типы документов с разными схемами в одной коллекции. Вы можете использовать коллекции для хранения объектов одного типа, как и таблицы. Оптимальная модель зависит только от того, как данные совместно отображаются в запросах и транзакциях.

## <a name="other-ways-to-create-a-documentdb-collection"></a>Другие способы создания коллекции DocumentDB
Коллекции не обязательно создавать на портале — это можно сделать также с помощью [пакетов SDK для DocumentDB](documentdb-sdk-dotnet.md) и REST API.

* Пример кода C# см. в [примерах коллекции C#](documentdb-dotnet-samples.md#collection-examples).
* Пример кода Node.js см. в [примерах коллекции Node.js](documentdb-nodejs-samples.md#collection-examples).
* Пример кода Python см. в [примерах коллекции Python](documentdb-python-samples.md#collection-examples).
* Пример кода REST API см. в статье [Создание коллекции](https://msdn.microsoft.com/library/azure/mt489078.aspx).

## <a name="troubleshooting"></a>Устранение неполадок
Если элемент **Добавить коллекцию** отключен на портале Azure, это означает, что ваша учетная запись в настоящее время отключена. Обычно это происходит, когда все доступные кредиты за месяц истекли.    

## <a name="next-steps"></a>Дальнейшие действия
Следующий шаг после создания коллекция — добавление или импорт документов в коллекцию. Добавить документы в коллекцию можно несколькими способами.

* Вы можете [добавить документы](documentdb-view-json-document-explorer.md) с помощью обозревателя документов на портале.
* Вы можете [импортировать документы и данные](documentdb-import-data.md) с помощью средства миграции данных DocumentDB, которое позволяет импортировать JSON- и CSV-файлы, а также данные из SQL Server, MongoDB, табличного хранилища Azure и других коллекций DocumentDB.
* Либо можно добавить документы с помощью одного из [пакетов SDK для DocumentDB](documentdb-sdk-dotnet.md). DocumentDB содержит пакеты SDK для .NET, Java, Python, Node.js и JavaScript API. Примеры кода C#, в которых показано, как работать с документами с помощью пакета SDK .NET для DocumentDB, см. в [примерах документов C#](documentdb-dotnet-samples.md#document-examples). Примеры кода Node.js, в которых показано, как работать с документами с помощью пакета SDK Node.js для DocumentDB, см. в [примерах документов Node.js](documentdb-nodejs-samples.md#document-examples).

Добавив документы в коллекцию, [DocumentDB SQL](documentdb-sql-query.md) можно использовать для [выполнения запросов](documentdb-sql-query.md#ExecutingSqlQueries) к документам с помощью [обозревателя запросов](documentdb-query-collections-query-explorer.md) на портале, [REST API](https://msdn.microsoft.com/library/azure/dn781481.aspx) или одного из [пакетов SDK](documentdb-sdk-dotnet.md). 

