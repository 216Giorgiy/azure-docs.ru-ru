.<properties
	pageTitle="Обозреватель скриптов DocumentDB, редактор JavaScript | Microsoft Azure"
	description="Узнайте об обозревателе скриптов DocumentDB, средстве портала Azure для управления артефактами программирования на стороне сервера DocumentDB, включая хранимые процедуры, триггеры и определяемые пользователем функции."
	keywords="редактор JavaScript"
	services="documentdb"
	authors="AndrewHoh"
	manager="jhubbard"
	editor="monicar"
	documentationCenter=""/>

<tags
	ms.service="documentdb"
	ms.workload="data-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="08/30/2016"
	ms.author="anhoh"/>

# Создавайте и запускайте хранимые процедуры, триггеры и определяемые пользователем функции с помощью обозревателя скриптов DocumentDB

В этой статье приведены общие сведения об обозревателе скриптов [Microsoft Azure DocumentDB](https://azure.microsoft.com/services/documentdb/), которое представляет собой редактор JavaScript на портале Azure, позволяющий просматривать и запускать артефакты программирования на стороне сервера DocumentDB, включая хранимые процедуры, триггеры и определяемые пользователем функции. Дополнительные сведения о программировании DocumentDB на стороне сервера см. в статье [Хранимые процедуры, триггеры баз данных и определяемые пользователем функции](documentdb-programming.md).

## Запуск обозревателя скриптов

1. На навигационной панели портала Azure щелкните **DocumentDB (NoSQL)**. Если **учетные записи DocumentDB** не отображаются, нажмите кнопку **Другие службы** и выберите **DocumentDB (NoSQL)**.

2. В меню ресурсов выберите **Обозреватель скриптов**.

	![Снимок экрана: команда "Обозреватель скриптов"](./media/documentdb-view-scripts/scriptexplorercommand.png)
 
    Раскрывающиеся списки **База данных** и **Коллекция** предварительно заполняются в зависимости от контекста запуска обозревателя скриптов. Например, при запуске из панели базы данных предварительно заполняется текущая база данных. Если запуск выполняется из панели коллекции, предварительно заполняется текущая коллекция.

4.  Используйте раскрывающиеся списки **База данных** и **Коллекция** для удобного редактирования коллекции, скрипты которой просматриваются в настоящее время, без необходимости закрывать и повторно запускать обозреватель скриптов.

5. Обозреватель скриптов также поддерживает фильтрацию загруженного в настоящий момент набора скриптов по их свойству id. Просто введите необходимые данные в поле фильтра, и результаты в списке обозревателя скриптов будут отфильтрованы на основе предоставленных критериев.

	![Снимок экрана: обозреватель скриптов с результатами фильтрации](./media/documentdb-view-scripts/scriptexplorerfilterresults.png)


	> [AZURE.IMPORTANT] Функциональные возможности фильтрации обозревателя скриптов обеспечивают только фильтрацию загруженного ***в настоящее время*** набора скриптов и не обновляют автоматически выбранную в данный момент коллекцию.

5. Чтобы обновить список скриптов, которые загружены в обозревателе скриптов, щелкните команду **Обновить** в верхней части колонки.

	![Снимок экрана: команда обновления обозревателя скриптов](./media/documentdb-view-scripts/scriptexplorerrefresh.png)


## Создание, просмотр и изменение хранимых процедур, триггеров и определяемых пользователем функций

Обозреватель скриптов позволяет с легкостью выполнять операции CRUD с артефактами программирования на стороне сервера DocumentDB.

- Чтобы создать скрипт, просто выберите соответствующую команду в окне обозревателя скриптов, укажите идентификатор, введите содержимое скрипта и щелкните **Сохранить**.

	![Снимок экрана: команда создания обозревателя скриптов с редактором JavaScript](./media/documentdb-view-scripts/scriptexplorercreatecommand.png)

- При создании триггера необходимо также указать его тип и операцию

	![Снимок экрана: параметр создания триггера в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorercreatetrigger.png)

- Чтобы просмотреть скрипт, просто щелкните его.

	![Снимок экрана: интерфейс просмотра скрипта в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorerviewscript.png)

- Чтобы изменить скрипт, просто внесите необходимые изменения в редакторе JavaScript и щелкните **Сохранить**.

	![Снимок экрана: интерфейс просмотра скрипта в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorereditscript.png)

- Чтобы отменить все несохраненные изменения скрипта, выберите команду **Отменить**.

	![Снимок экрана: интерфейс отмены изменений в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorerdiscardchanges.png)

- Обозреватель скриптов также позволяет легко просмотреть системные свойства текущего загруженного скрипта: для этого достаточно щелкнуть команду **Свойства**.

	![Снимок экрана: представление свойств скрипта в обозревателе скриптов](./media/documentdb-view-scripts/scriptproperties.png)

	> [AZURE.NOTE] Свойство метки времени (\_ts) внутренне представлено как время эпохи, но обозреватель скриптов отображает значение в читаемом формате GMT.

- Чтобы удалить скрипт, выберите его в окне обозревателя скриптов и выберите команду **Удалить**.

	![Снимок экрана: команда удаления в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorerdeletescript1.png)

- Подтвердите удаление, нажав кнопку **Да**, или отмените операцию, нажав кнопку **Нет**.

	![Снимок экрана: команда удаления в обозревателе скриптов](./media/documentdb-view-scripts/scriptexplorerdeletescript2.png)

## Выполнение хранимой процедуры

> [AZURE.WARNING] Выполнение хранимых процедур в обозревателе скриптов пока не поддерживается для секционированных коллекций на стороне сервера. Дополнительные сведения см. в статье [Секционирование и масштабирование в DocumentDB](documentdb-partition-data.md).

Обозреватель скриптов позволяет выполнять хранимые процедуры на стороне сервера на портале Azure.

- При открытии новой колонки создания хранимой процедуры скрипт по умолчанию (*prefix*) уже будет указан. Для запуска скрипта *prefix* или собственного скрипта добавьте *идентификатор* и *входные параметры*. Для хранимых процедур, которые принимают несколько параметров, все входные параметры должны находиться в массиве (например *["foo", "bar"]*).

	![Снимок экрана: добавление входных данных и выполнение хранимой процедуры в колонке "Хранимые процедуры" в обозревателе скриптов](./media/documentdb-view-scripts/documentdb-execute-a-stored-procedure-input.png)

- Для выполнения хранимой процедуры просто щелкните команду **Сохранить и выполнить** в области редактора скриптов.

	> [AZURE.NOTE] Команда **Сохранить и выполнить** сохранит хранимую процедуру перед выполнением, и это означает, что ранее сохраненная версия хранимой процедуры будет перезаписана.

- При успешном выполнении хранимая процедура будет иметь состояние *Хранимая процедура успешно сохранена и выполнена*, а возвращенные результаты отобразятся в области *Результаты*.

	![Снимок экрана: выполнение хранимой процедуры в колонке "Хранимые процедуры" в обозревателе скриптов](./media/documentdb-view-scripts/documentdb-execute-a-stored-procedure.png)

- Если при выполнении возникает ошибка, она отобразится в области *Результаты*.

	![Снимок экрана: представление свойств скрипта в обозревателе скриптов Ошибки при выполнении хранимой процедуры](./media/documentdb-view-scripts/documentdb-execute-a-stored-procedure-error.png)

## Работа со сценариями вне портала

Обозреватель скриптов на портале Azure — это лишь один из способов работы с хранимыми процедурами, триггерами и определяемыми пользователем функциями в DocumentDB. Со скриптами также можно работать с помощью интерфейса REST API и [клиентских пакетов SDK](documentdb-sdk-dotnet.md). Документация по REST API включает примеры [по работе с хранимыми процедурами с помощью REST](https://msdn.microsoft.com/library/azure/mt489092.aspx), [с определяемыми пользователем функциями с помощью REST](https://msdn.microsoft.com/library/azure/dn781481.aspx) и [с триггерами с помощью REST](https://msdn.microsoft.com/library/azure/mt489116.aspx). Также доступны примеры [по работе со скриптами с помощью C#](documentdb-dotnet-samples.md#server-side-programming-examples) и [со скриптами с помощью Node.js](documentdb-nodejs-samples.md#server-side-programming-examples).

## Дальнейшие действия

Дополнительные сведения о программировании DocumentDB на стороне сервера см. в статье [Хранимые процедуры, триггеры баз данных и определяемые пользователем функции](documentdb-programming.md).

[Схема обучения](https://azure.microsoft.com/documentation/learning-paths/documentdb/) — еще один полезный ресурс, который поможет вам узнать больше о DocumentDB.

<!---HONumber=AcomDC_0831_2016-->