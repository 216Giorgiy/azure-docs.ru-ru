<properties 
	pageTitle="Вопросы и ответы по DocumentDB | Azure" 
	description="Ответы на часто задаваемые вопросы о службе базы данных документов NoSQL Azure DocumentDB. Узнайте о емкости и единицах запросов и поймите, как выполнять масштабирование согласно требованиям приложения." 
	services="documentdb" 
	authors="mimig1" 
	manager="jhubbard" 
	editor="monicar" 
	documentationCenter=""/>

<tags 
	ms.service="documentdb" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="03/20/2015" 
	ms.author="mimig"/>


# Вопросы и ответы по DocumentDB

## <a id="fundamentals"></a> Основы Azure DocumentDB

### Что такое Microsoft Azure DocumentDB? 
Microsoft Azure DocumentDB - хорошо масштабируемая служба баз данных документов NoSQL, предлагающая широкий набор разнообразных запросов к данным, не имеющим схемы, которая помогает добиться настраиваемого и надежного уровня производительности и позволяет осуществлять разработку в короткий срок благодаря управляемой платформе, за которой стоит вся мощь и доступность Microsoft Azure. DocumentDB - верное решение для мобильных и веб-приложений, для которых предсказуемая пропускная способность, низкие задержки и модели данных без схемы - ключевые требования. DocumentDB обеспечивает гибкость схемы и обширные возможности индексирования посредством встроенной модели данных JSON и включает поддержку транзакций нескольких документов с интегрированным JavaScript.  
  
Инструкции по развертыванию и использованию этой службы приведены на [странице документации DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402319).

### К какому виду принадлежит база данных DocumentDB?
DocumentDB - это база данных NoSQL, предназначенная для использования с документами, данные в которой хранятся в формате JSON.  DocumentDB поддерживает вложенные структуры автономных данных, которые можно запрашивать с использованием многофункциональной грамматики запросов SQL DocumentDB. DocumentDB обеспечивает высокую производительность обработки транзакций для JavaScript на серверной стороне с помощью хранимых процедур, триггеров и пользовательских функций. Эта база данных также поддерживает настраиваемые разработчиками уровни согласованности со связанными уровнями производительности.
 
### Имеются ли в базах данных DocumentDB таблицы, как в реляционных СУБД?
Нет, в DocumentDB данные хранятся в коллекциях документов JSON.  Для получения информации о ресурсах DocumentDB см. статью [Модель ресурсов и понятия DocumentDB](documentdb-resources.md). 

### Поддерживают ли базы данных DocumentDB данные без схемы?
Да, DocumentDB позволяет приложениям хранить произвольные документы JSON без определения схемы и без указаний. Данные немедленно становятся доступными для запроса с помощью интерфейса запросов SQL DocumentDB.   

### Поддерживает ли DocumentDB транзакции ACID?
Да, DocumentDB поддерживает транзакции между документами, выраженные в виде хранимых процедур и триггеров JavaScript. Транзакции объединяются в одну коллекцию и выполняются с помощью семантики ACID только полностью, изолированно от другого параллельно выполняемого кода и запросов пользователей.  Если в результате выполнения на стороне сервера кода JavaScript приложения возникает исключение, выполняется откат всей транзакции. 

### Каковы типичные примеры использования DocumentDB?  
DocumentDB - хороший выбор для новых мобильных и веб-приложений, для которых масштабирование, производительность и возможность запрашивать данные без схемы имеют важное значение. DocumentDB предоставляет возможности для быстрой разработки и поддерживает непрерывную итерацию моделей данных приложения. В качестве типичных примеров использования DocumentDB можно привести приложения, управляющие контентом и данными, которые создаются пользователями.  

### Каковы ограничения масштабируемости и мощности?
Каждая учетная запись Azure DocumentDB поддерживает максимальное число единиц мощности, которое можно настроить на портале Azure. Если требуются дополнительные единицы мощности, обратитесь в службу поддержки, чтобы увеличить квоту учетной записи.  Для получения информации о квотах на ресурсы см. статью [Ограничения для предварительного выпуска DocumentDB](documentdb-limits.md).


### Какова стоимость Microsoft Azure DocumentDB?
Подробную информацию см. в разделе [Сведения о ценах на DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402317).

## <a id="setup"></a> Установка Azure DocumentDB

### Как зарегистрироваться для Microsoft Azure DocumentDB?
Microsoft Azure DocumentDB (предварительная версия) доступна на новом портале [предварительной версии Azure][preview-portal].  Сначала необходимо зарегистрироваться для получения подписки Microsoft Azure.  После регистрации подписки Microsoft Azure в нее можно добавить учетную запись DocumentDB через Marketplace.   

### Что такое главный ключ?
Главный ключ - это токен безопасности для доступа ко всем ресурсам учетной записи. Пользователи с этим ключом имеют доступ на чтение и запись во всех ресурсах в учетной записи базы данных. Поэтому при распространении главных ключей необходимо соблюдать осторожность. Первичный главный ключ и вторничный главный ключ доступны на вкладке "Ключи" [портала предварительной версии Azure][preview-portal].

### Как создать базу данных?
Базы данных можно создавать с помощью одного из пакетов SDK DocumentDB или с помощью интерфейсов API REST.  См. раздел "Разработка" на [странице документации DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402319) для получения информации о разработке приложений. 

### Что такое коллекция?
Коллекция представляет собой контейнер документов JSON и связанной логики приложения на JavaScript. Запросы и транзакции ограничены рамками коллекций. В одной коллекции можно хранить ряд разнородных документов JSON, причем все они индексируются автоматически.   

### Существуют ли какие-либо ограничения в базах данных и коллекциях?
Каждая приобретенная единица мощности предоставляется с выделенным хранилищем базы данных и подготовленной пропускной способностью. Кроме того, предусмотрены квоты для каждого ресурса, управляемого этой службой. Дополнительные сведения см. в разделе [Ограничения для предварительной версии DocumentDB](documentdb-limits.md).  

### Как настраивать пользователей и разрешения?
Пользователей и разрешения можно создавать с помощью одного из пакетов SDK DocumentDB или с помощью интерфейсов API REST. Подробные сведения о разработке приложений см. в разделе "Разработка" на [странице документации по DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402319).  


## <a id="develop"></a>Разработка для Microsoft Azure DocumentDB

### Как начать разработку для DocumentDB?
В качестве предварительной версии пакеты SDK доступны для .NET, Python, Node.js, JavaScript и Java.  Разработчики также могут использовать интерфейс API HTTP REST для взаимодействия с ресурсами DocumentDB на разнообразных платформах и языках программирования. Подробные сведения об использовании этих пакетов SDK см. в разделе "Разработка" на [странице документации DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402319).

### Поддерживается ли SQL в DocumentDB?
Язык SQL-запросов DocumentDB обеспечивает разнообразные иерархические и реляционные операторы и расширяемость с помощью пользовательских функций (UDF) на JavaScript. Грамматика JSON позволяет моделировать документы JSON в виде деревьев с метками в виде узлов дерева, которые используются как технологиями автоматического индексирования DocumentDB, так и запросами на диалекте языка SQL DocumentDB.  Подробные сведения об использовании грамматики SQL см. в статье [Запросы с использованием SQL DocumentDB][query].

### Какие типы данных поддерживаются DocumentDB?
В DocumentDB поддерживаются те же простые типы данных, что и в JSON. JSON имеет простую систему типов, которая состоит из строк, чисел (двойной точности в соответствии с IEEE754), логических значений (истина и ложь), а также пустых значений.  Более сложные типы данных, такие как DateTime, Guid, Int64 и Geometry, могут быть представлены в JSON и DocumentDB посредством создания вложенных объектов с помощью оператора { } и массивов с помощью оператора [ ]. 

### Каким образом DocumentDB обеспечивает согласованность?
DocumentDB поддерживает оптимистическое управление параллелизмом (OCC) посредством тегов объектов HTTP или тегов ETag. Каждый ресурс DocumentDB имеет ETag, и клиенты DocumentDB включают тег, указывающий последнюю прочитанную версию, в запросы записи. Если значение ETag актуально, изменение фиксируется. Если это значение изменялось извне, сервер отклоняет запрос записи с кодом ответа "HTTP 412 Precondition failure" (Необходимое условие не выполнено). Клиенты должны прочесть последнюю версию ресурса и повторить запрос. 

### Как выполнять транзакции в DocumentDB?
DocumentDB поддерживает транзакции LINQ посредством хранимых процедур и триггеров JavaScript. Все операции базы данных в скриптах выполняются в изоляции моментального снимка в рамках коллекции. Моментальный снимок версий документов (ETag) выполняется в начале транзакции и фиксируется только в случае успешного выполнения скрипта. Если JavaScript выдает ошибку, выполняется откат транзакции.

### Как выполнять массовую вставку документов в DocumentDB? 
DocumentDB поддерживает хранимые процедуры, которые обеспечивают эффективные средства для пакетной обработки вставки данных. Массовые вставки можно выполнять, разработав простую хранимую процедуру JavaScript, которая принимает и вставляет документы. Этот способ имеет дополнительное преимущество, состоящее в том, что массовая вставка будет выполняться как транзакция, что гарантирует согласованное состояние коллекции. Подробные сведения о модели программирования см. в разделе "Разработка" на [странице документации DocumentDB](http://go.microsoft.com/fwlink/p/?LinkID=402319).

### Поддерживается ли в DocumentDB кэширование ссылок на ресурсы?
Да, поскольку DocumentDB - это служба RESTful, ссылки на ресурсы являются неизменяемыми и могут кэшироваться. Клиенты DocumentDB могут задавать заголовок "If-None-Match" для операций чтения в любом ресурсе, таком как документ или коллекция, и обновлять их локальные копии только при изменении версии сервера. 




[preview-portal]: https://portal.azure.com
[query]: documentdb-sql-query.md

<!--HONumber=49--> 