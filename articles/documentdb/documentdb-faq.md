<properties 
	pageTitle="Вопросы о базе данных DocumentDB — вопросы и ответы по DocumentDB | Microsoft Azure" 
	description="Ознакомьтесь с ответами на часто задаваемые вопросы о службе базы данных документов NoSQL Azure DocumentDB для JSON. Ответы на вопросы о емкости, уровнях производительности и масштабировании базы данных." 
	keywords="Вопросы о базе данных DocumentDB — вопросы и ответы по DocumentDB | Microsoft Azure"
	services="documentdb" 
	authors="mimig1" 
	manager="jhubbard" 
	editor="monicar" 
	documentationCenter=""/>

<tags 
	ms.service="documentdb" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="07/01/2016" 
	ms.author="mimig"/>


#Вопросы и ответы по DocumentDB

## Вопросы об основах Microsoft Azure DocumentDB

### Что такое Microsoft Azure DocumentDB? 
Microsoft Azure DocumentDB — это доступная по всему земному шару высокоскоростная база данных документов NoSQL как служба, предлагающая широкий набор разнообразных запросов к данным, не имеющим схемы, которая помогает добиться настраиваемого и надежного уровня производительности и позволяет осуществлять разработку в короткие сроки благодаря управляемой платформе, за которой стоит вся мощь и возможности Microsoft Azure. DocumentDB представляет собой отличное решение для веб-приложений, мобильных приложений, игр и приложений IoT, для которых необходимы предсказуемая пропускная способность, высокий уровень доступности, низкие задержки и модель данных без схемы. DocumentDB обеспечивает гибкость схемы и обширные возможности индексирования посредством встроенной модели данных JSON и включает поддержку транзакций нескольких документов с интегрированным JavaScript.
  
Дополнительные вопросы о базах данных, ответы на них и инструкции по развертыванию и использованию этой службы см. на [странице документации по DocumentDB](https://azure.microsoft.com/documentation/services/documentdb/).

### К какому виду принадлежит база данных DocumentDB?
DocumentDB — это база данных NoSQL, предназначенная для использования с документами, данные в которой хранятся в формате JSON. DocumentDB поддерживает вложенные структуры автономных данных, к которым можно выполнять запросы с использованием многофункциональной [грамматики запросов SQL](documentdb-sql-query.md) DocumentDB. DocumentDB обеспечивает высокую производительность обработки транзакций для JavaScript на стороне сервера с помощью [хранимых процедур, триггеров и пользовательских функций](documentdb-programming.md). В базах данных предусмотрены разные [уровни производительности](documentdb-performance-levels.md) и уровни согласованности с возможностью настройки.
 
### Есть ли в базах данных DocumentDB таблицы как в реляционных СУБД?
Нет, DocumentDB хранит данные в коллекциях документов JSON. Информацию о ресурсах DocumentDB см. в статье [Модель ресурсов и основные принципы DocumentDB](documentdb-resources.md). Дополнительные сведения об отличиях решений NoSQL, таких как DocumentDB, от реляционных решений см. в разделе [Базы данных NoSQL и SQL](documentdb-nosql-vs-sql.md).

### Поддерживают ли базы данных DocumentDB данные без схемы?
Да, DocumentDB позволяет приложениям хранить произвольные документы JSON без определения схемы и без указаний. Данные немедленно становятся доступными для запроса с помощью интерфейса запросов SQL DocumentDB.

### Поддерживает ли DocumentDB транзакции ACID?
Да, DocumentDB поддерживает транзакции между документами, выраженные в виде хранимых процедур и триггеров JavaScript. Транзакции объединяются в одну секцию в каждой коллекции и выполняются с помощью семантики ACID только полностью, изолированно от другого параллельно выполняемого кода и запросов пользователей. Если в результате выполнения на стороне сервера кода JavaScript приложения возникает исключение, выполняется откат всей транзакции. Дополнительные сведения о транзакциях см. в разделе [Транзакции программы базы данных](documentdb-programming.md#database-program-transactions).

### Каковы типичные примеры использования DocumentDB?  
DocumentDB — это хороший выбор для новых веб-приложений, мобильных устройств, игр и приложений IoT, для которых важны автоматическое масштабирование, прогнозируемая производительность, быстрое (порядка нескольких миллисекунд) время отклика и возможность выполнения запросов к данным без схемы. DocumentDB предоставляет возможности для быстрой разработки и поддерживает непрерывную итерацию моделей данных приложения. В качестве [типичного сценария использования DocumentDB](documentdb-use-cases.md) можно привести приложения, управляющие содержимым пользователей и их данными.

### Как DocumentDB обеспечивает прогнозируемую производительность?
Для измерения пропускной способности в DocumentDB используется [единица запроса](documentdb-request-units.md). 1 единица запроса соответствует пропускной способности операций GET, выполняемых для документа объемом 1 КБ. Все операции в DocumentDB, в том числе операции чтения, записи, SQL-запросы и хранимые процедуры, имеют определенное значение единиц запроса, основанное на пропускной способности, необходимой для выполнения этой операции. Вместо того, чтобы думать о загрузке ЦП, операциях ввода-вывода и потребляемой памяти, а также о том, как они влияют на пропускную способность приложения, можно рассматривать единицу запроса как общий показатель производительности.

Каждую коллекцию DocumentDB можно зарезервировать с определенной пропускной способностью в единицах запроса пропускной способности в секунду. Для приложений любого масштаба можно выполнять оценку отдельных запросов для получения их единиц запроса и подготавливать коллекции для обработки суммарного количества единиц запроса для всех запросов. Также можно увеличивать или уменьшать пропускную способность вашей коллекции с изменением потребностей вашего приложения. Дополнительные сведения о единицах запроса и о том, как определить потребность в единицах запроса для своей коллекции, см. в разделе [Управление производительностью и емкостью](documentdb-manage.md). Также вы можете опробовать [калькулятор пропускной способности](https://www.documentdb.com/capacityplanner).

### Соответствует ли DocumentDB HIPAA?
Да, DocumentDB соответствует HIPAA. HIPAA устанавливает требования к использованию, раскрытию и защите идентифицирующей личной медицинской информации. Дополнительные сведения см. в [центре управления безопасностью Майкрософт](https://www.microsoft.com/ru-RU/TrustCenter/Compliance/HIPAA).

### Каковы ограничения на использование хранилища в DocumentDB? 
Общий объем данных, которые коллекция может хранить в DocumentDB, теоретически не ограничен. Если вы хотите хранить более 250 ГБ данных в одной коллекции, [обратитесь в службу поддержки](documentdb-increase-limits.md), чтобы увеличить квоту для своей учетной записи.

### Каковы ограничения пропускной способности DocumentDB? 
Общий объем пропускной способности, который коллекция может поддерживать в DocumentDB, теоретически не ограничен, при условии, что рабочую нагрузку можно распределить примерно поровну между достаточно большим количеством ключей секций. Если вам необходимо более 250 000 единиц запроса в секунду для коллекции или учетной записи, [обратитесь в службу поддержки](documentdb-increase-limits.md), чтобы увеличить квоту для своей учетной записи.

### Какова стоимость Microsoft Azure DocumentDB?
Подробные сведения см. на странице [Сведения о ценах на DocumentDB](https://azure.microsoft.com/pricing/details/documentdb/). Плата за использование DocumentDB определяется количеством используемых коллекций, временем, в течение которых они были в сети, используемым объемом хранилища и подготовленной пропускной способностью для каждой коллекции.

### Предусмотрена ли бесплатная учетная запись?
Если вы ранее не работали с Azure, то можете зарегистрироваться для получения [бесплатной учетной записи Azure](https://azure.microsoft.com/free/), действующей 30 дней и включающей 200 долларов, которые можно потратить на любые службы Azure. Кроме того, если у вас есть подписка на Visual Studio, вам доступны [кредиты Azure на сумму 150 долларов в месяц](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/), которые также можно потратить на любые службы Azure.

### Как я могу получить помощь по работе с DocumentDB?
Если вам требуется поддержка, обратитесь к нам через форумы [Stack Overflow](http://stackoverflow.com/questions/tagged/azure-documentdb) либо [форумы MSDN для разработчиков DocumentDB](https://social.msdn.microsoft.com/forums/azure/home?forum=AzureDocumentDB) или договоритесь об [индивидуальной встрече с представителями технической службы DocumentDB](http://www.askdocdb.com/). Чтобы оставаться в курсе последних новостей о DocumentDB, подпишитесь на наши обновления в [Twitter](https://twitter.com/DocumentDB).

## Установка Microsoft Azure DocumentDB

### Как зарегистрироваться для Microsoft Azure DocumentDB?
Служба Microsoft Azure DocumentDB доступна на [портале Azure][azure-portal]. Сначала необходимо зарегистрироваться для получения подписки Microsoft Azure. После регистрации подписки Microsoft Azure в нее можно добавить учетную запись DocumentDB. Инструкции по добавлению учетной записи DocumentDB см. в разделе [Создание учетной записи базы данных DocumentDB](documentdb-create-account.md).

### Что такое главный ключ?
Главный ключ — это токен безопасности для доступа ко всем ресурсам учетной записи. Пользователи с этим ключом имеют доступ на чтение и запись во всех ресурсах в учетной записи базы данных. Будьте осторожны при распространении главных ключей. Первичный и вторичный главные ключи можно найти в колонке **Ключи** на [портале Azure][azure-portal]. Дополнительные сведения о ключах см. в разделе [Просмотр, копирование и повторное создание ключей доступа](documentdb-manage-account.md#keys).

### Как создать базу данных?
Вы можете создать базу данных на [портале Azure]() в соответствии с инструкциями в статье [Создание базы данных DocumentDB](documentdb-create-database.md), используя один из пакетов [SDK для DocumentDB](documentdb-sdk-dotnet.md) или [интерфейсы API REST](https://msdn.microsoft.com/library/azure/dn781481.aspx).

### Что такое коллекция?
Коллекция представляет собой контейнер документов JSON и связанной логики приложения на JavaScript. Коллекция представляет собой тарифицируемую сущность, и ее [стоимость](documentdb-performance-levels.md) определяется используемой пропускной способностью и хранилищем. Коллекции могут охватывать один или несколько разделов либо серверов и масштабироваться до практически неограниченных объемов хранилища или пропускной способности.

Коллекции также являются основанием для выставления счетов за использование DocumentDB. Счета за использование коллекции выставляются ежечасно на основе подготовленной пропускной способности и используемого объема хранилища. Дополнительные сведения см. в разделе [Цены на DocumentDB](https://azure.microsoft.com/pricing/details/documentdb/).

### Как устанавливать настройки для пользователей и разрешений?
Пользователей и разрешения можно создавать с помощью одного из [пакетов SDK DocumentDB](documentdb-sdk-dotnet.md) или [интерфейсов API REST](https://msdn.microsoft.com/library/azure/dn781481.aspx).

## Вопросы о разработке с использованием Microsoft Azure DocumentDB

### Как начать разработку для DocumentDB?
[Пакеты SDK](documentdb-sdk-dotnet.md) доступны для .NET, Python, Node.js, JavaScript и Java. Разработчики также могут использовать интерфейс [API HTTP REST](https://msdn.microsoft.com/library/azure/dn781481.aspx) для работы с ресурсами DocumentDB на разных платформах и с использованием разных языков программирования.

Примеры SDK DocumentDB для [.NET](documentdb-dotnet-samples.md), [Java](https://github.com/Azure/azure-documentdb-java), [Node.js](documentdb-nodejs-samples.md) и [Python](documentdb-python-samples.md) доступны на сайте GitHub.

### Поддерживается ли SQL в DocumentDB?
Язык SQL-запросов DocumentDB включает в себя усовершенствованное подмножество функций обработки запросов, поддерживаемых SQL. Язык SQL-запросов DocumentDB обеспечивает разнообразные иерархические и реляционные операторы и расширяемость с помощью пользовательских функций (UDF) на JavaScript. Грамматика JSON позволяет моделировать документы JSON в виде деревьев с метками в виде узлов дерева, которые используются как технологиями автоматического индексирования DocumentDB, так и запросами на диалекте языка SQL DocumentDB. Подробные сведения об использовании грамматики SQL см. в статье [Запросы DocumentDB][query].

### Какие типы данных поддерживаются DocumentDB?
В DocumentDB поддерживаются те же простые типы данных, что и в JSON. JSON имеет систему простых типов, состоящую из типов данных String (строки), Number (числа IEEE754 с двойной точностью), Boolean (true и false) и Null (пустые значения). Более сложные типы данных, такие как DateTime, Guid, Int64 и Geometry, могут быть представлены в JSON и DocumentDB посредством создания вложенных объектов с помощью оператора { } и массивов с помощью оператора [ ].

### Каким образом DocumentDB обеспечивает согласованность?
DocumentDB поддерживает оптимистическое управление параллелизмом (OCC) посредством тегов сущностей HTTP или тегов ETag. У каждого ресурса DocumentDB есть тег ETag, а значение ETag задается на сервере при каждом обновлении документа. Заголовок и текущее значение ETag добавляются во все сообщения ответа. Чтобы сервер мог определить, нужно ли обновить ресурс, можно использовать теги ETag с заголовком If-Match. Значением If-Match является значение ETag, используемое для проверки. Если это значение ETag совпадает со значением ETag сервера, то ресурс будет обновлен. Если тег ETag больше не актуален, то сервер отклоняет операцию с кодом ответа "HTTP 412: ошибка в предусловии". После этого клиенту придется повторно получить ресурс, чтобы получить его текущее значение ETag. Кроме того, теги ETag можно использовать с заголовком If-None-Match, чтобы определять, требуется ли повторное получение ресурса.

Чтобы применить оптимистичный параллелизм в .NET, используйте класс [AccessCondition](https://msdn.microsoft.com/library/azure/microsoft.azure.documents.client.accesscondition.aspx). Пример для .NET приведен в файле [Program.cs](https://github.com/Azure/azure-documentdb-dotnet/blob/master/samples/code-samples/DocumentManagement/Program.cs) примера DocumentManagement на сайте GitHub.

### Как выполнять транзакции в DocumentDB?
DocumentDB поддерживает транзакции LINQ посредством хранимых процедур и триггеров JavaScript. Все операции с базами данных в скриптах выполняются при изоляции моментального снимка в коллекции, если это коллекция с одной секцией, или в документах с одинаковым ключом секции в коллекции, если эта коллекция секционирована. Моментальный снимок версий документов (ETag) выполняется в начале транзакции и фиксируется только в случае успешного выполнения скрипта. Если JavaScript выдает ошибку, выполняется откат транзакции. Дополнительные сведения см. в разделе [Программирование на стороне сервера DocumentDB](documentdb-programming.md).

### Как выполнять массовую вставку документов в DocumentDB? 
Массовую вставку документов в DocumentDB можно выполнить тремя способами:

- Средство миграции данных (см. раздел [Импорт данных в DocumentDB](documentdb-import-data.md)).
- Обозреватель документов на портале Azure (см. раздел [Массовое добавление документов с помощью обозревателя документов](documentdb-view-json-document-explorer.md#BulkAdd)).
- Хранимые процедуры (см. статью [Программирование DocumentDB на стороне сервера](documentdb-programming.md)).

### Поддерживается ли в DocumentDB кэширование ссылок на ресурсы?
Да, поскольку DocumentDB — это служба RESTful, ссылки на ресурсы являются неизменяемыми и могут кэшироваться. Клиенты DocumentDB могут задавать заголовок "If-None-Match" для операций чтения в любом ресурсе, таком как документ или коллекция, и обновлять их локальные копии только при изменении версии сервера.

### Доступен ли локальный экземпляр DocumentDB?
На данный момент локальный экземпляр DocumentDB недоступен. Вы можете отслеживать состояние локального эмулятора и проголосовать за него на [форуме обратной связи](https://feedback.azure.com/forums/263030-documentdb/suggestions/6328798-standalone-local-instance).


[azure-portal]: https://portal.azure.com
[query]: documentdb-sql-query.md
 

<!---HONumber=AcomDC_0706_2016-->