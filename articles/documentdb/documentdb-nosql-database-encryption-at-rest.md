---
title: "Шифрование неактивных данных базы данных в Azure Cosmos DB | Документация Майкрософт"
description: "Сведения о шифровании всех данных по умолчанию в Azure Cosmos DB."
services: cosmosdb
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmosdb
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/31/2017
ms.author: voellm
ms.translationtype: Human Translation
ms.sourcegitcommit: 71fea4a41b2e3a60f2f610609a14372e678b7ec4
ms.openlocfilehash: 8248b429cf9b7fdfc709a68c4d1e88b7b660020b
ms.contentlocale: ru-ru
ms.lasthandoff: 05/10/2017


---

# <a name="azure-cosmos-db-database-encryption-at-rest"></a>Шифрование неактивных данных базы данных в Azure Cosmos DB

При шифровании неактивных данных обычно шифруются данные на устройствах долговременного хранения, например твердотельных накопителях (SSD) и жестких дисках (HDD).  Azure Cosmos DB сохраняет основные базы данных на SSD, а вложения мультимедиа и резервные копии — в больших двоичных объектах Azure, которые обычно поддерживают HDD.  С реализацией возможности шифрования неактивных данных Azure Cosmos DB вы можете шифровать все базы данных, вложения мультимедиа и резервные копии.  Это означает, что шифруются как передаваемые данные (по сети), так и неактивные (долговременное хранение), обеспечивая непрерывное шифрование.

Специалисты по работе со службой PaaS сделали все возможное, чтобы максимально упростить использование Azure Cosmos DB.  С учетом этого все пользовательские данные, хранящиеся в Azure Cosmos DB, шифруются при хранении и передаче автоматически.  Другими словами, шифрование неактивных данных включено по умолчанию.  Элементы управления, позволяющие отключить или включить его, отсутствуют. Мы предоставляем эту возможность в соответствии с [соглашениями об уровне обслуживания, обеспечивающими определенный уровень доступности и производительности](https://azure.microsoft.com/support/legal/sla/documentdb/v1_1/).

## <a name="how-does-encryption-at-rest-work"></a>Как действует шифрование неактивных данных?

Шифрование неактивных данных реализуется с применением различных технологий обеспечения безопасности, включая безопасные системы хранения ключей, зашифрованные сети и криптографические API.  На следующей схеме показано, как разделено хранение зашифрованных данных и управление ключами.  Системы расшифровки и обработки данных должны взаимодействовать с системами управления ключами.

![Схема структуры](./media/documentdb-nosql-database-encryption-at-rest/design-diagram.png)

Запрос пользователя выполняется и обрабатывается следующим образом:
- Учетная запись базы данных пользователя подготавливается, а ключи к хранилищу данных извлекаются по запросу к поставщику ресурсов службы управления.
- Пользователь создает подключение к Azure Cosmos DB с помощью протокола HTTPS или безопасного транспортного протокола. Пакеты SDK абстрагируют подробные сведения.
- Пользователь отправляет документ JSON для сохранения, используя ранее созданное безопасное подключение.
- Документ JSON индексируется, если пользователь не отключил эту возможность.
- Документ JSON и данные индекса записываются в безопасное хранилище.
- Время от времени данные считываются из безопасного хранилища и архивируются в зашифрованное хранилище BLOB-объектов Azure.

## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы

### <a name="q-how-much-more-does-azure-storage-cost-if-sse-is-enabled"></a>Вопрос. Насколько дороже обходится служба хранилища Azure с включенным SSE?
Ответ. Дополнительные затраты не требуются.

### <a name="q-who-manages-the-encryption-keys"></a>Вопрос. Кто управляет ключами шифрования?
Ответ. Ключами управляет корпорация Майкрософт.

### <a name="q-how-often-are-encryption-keys-rotated"></a>Вопрос. Как часто меняются ключи шифрования?
Ответ. В Майкрософт разработали подробные внутренние инструкции, выполняемые DocumentDB.  Несмотря на то что конкретные рекомендации не публикуются, корпорация Майкрософт опубликовала жизненный цикл разработки средств безопасности (SDL). Дополнительные сведения см. здесь: https://www.microsoft.com/sdl/default.aspx. SDL представляет собой набор внутренних инструкций, включающих рекомендации для разработчиков.

### <a name="q-can-i-use-my-own-encryption-keys"></a>Вопрос. Можно ли использовать собственные ключи шифрования?
Ответ. Azure Cosmos DB — это служба PaaS. Мы сделали все возможное, чтобы максимально упростить работу с ней.  Мы заметили, что этот вопрос часто задают при обсуждении соответствия требованиям, например PCI-DSS.  Разрабатывая эту функцию, мы совместно с аудиторами соответствия старались создать для клиентов такие условия, в которых они могли бы использовать Azure Cosmos DB в соответствии со своими требованиями без необходимости управлять ключами самостоятельно.
Именно поэтому сейчас мы предлагаем пользователям возможность самостоятельно управлять ключами.


### <a name="q-what-regions-have-encryption-turned-on"></a>Вопрос. В каких регионах включено шифрование?
Ответ. Шифрование пользовательских данных включено во всех регионах Azure Cosmos DB.

### <a name="q-does-encryption-affect-the-performance-latency-and-throughput-slas"></a>Вопрос. Влияет ли шифрование на пропускную способность и задержку производительности, определенные соглашениями об уровне обслуживания?
Ответ. Нет, не влияет, так как шифрование при хранении включено для всех имеющихся или новых учетных записей.  Чтобы ознакомиться с гарантиями, дополнительные сведения см. на странице о [соглашении об уровне обслуживания для Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/documentdb).

### <a name="q-does-the-local-emulator-support-encryption-at-rest"></a>Вопрос. Поддерживает ли локальный эмулятор шифрование при хранении?
Ответ. Эмулятор — это изолированное средство разработки и тестирования, которое не использует службы управления ключами, применяемые управляемой службой DocumentDB. Мы советуем включить BitLocker на дисках, где хранятся конфиденциальные тестовые данные эмулятора. Эмулятор поддерживает изменение каталога данных по умолчанию (https://docs.microsoft.com/azure/documentdb/documentdb-nosql-local-emulator), а также использование хорошо известного расположения.

## <a name="next-steps"></a>Дальнейшие действия

Общие сведения о системе безопасности и последних усовершенствованиях Azure Cosmos DB см. в [этой статье](documentdb-nosql-database-security.md).

Дополнительные сведения о сертификатах Майкрософт см. в [центре управления безопасностью Azure](https://azure.microsoft.com/en-us/support/trust-center/).

