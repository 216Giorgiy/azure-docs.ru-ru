---
title: "Шифрование неактивных данных базы данных NoSQL в Azure DocumentDB | Документация Майкрософт"
description: "Узнайте, как Azure DocumentDB обеспечивает шифрование всех данных NoSQL по умолчанию."
services: documentdb
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: documentdb
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/31/2017
ms.author: voellm
ms.translationtype: Human Translation
ms.sourcegitcommit: 8f291186c6a68dea8aa00b846a2e6f3ad0d7996c
ms.openlocfilehash: 9c97f76d581935cb85f33b0016c192ded3b6f880
ms.contentlocale: ru-ru
ms.lasthandoff: 04/28/2017


---

# <a name="documentdb-nosql-database-encryption-at-rest"></a>Шифрование неактивных данных базы данных NoSQL DocumentDB

При шифровании неактивных данных обычно шифруются данные на устройствах долговременного хранения, например твердотельных накопителях (SSD) и жестких дисках (HDD).  DocumentDB сохраняет основные базы данных на SSD, а вложения мультимедиа и резервные копии — в больших двоичных объектах Azure, которые обычно поддерживают HDD.  С реализацией возможности шифрования неактивных данных DocumentDB вы можете шифровать все базы данных, вложения мультимедиа и резервные копии.  Это означает, что шифруются как передаваемые данные (по сети), так и неактивные (долговременное хранение), обеспечивая непрерывное шифрование.

Специалисты по работе со службой PaaS сделали все возможное, чтобы максимально упростить использование DocumentDB.  С учетом этого все пользовательские данные, хранящиеся в DocumentDB, шифруются при хранении и передаче автоматически.  Другими словами, шифрование неактивных данных включено по умолчанию.  Элементы управления, позволяющие отключить или включить его, отсутствуют. Мы предоставляем эту возможность в соответствии с [соглашениями об уровне обслуживания, обеспечивающими определенный уровень доступности и производительности](https://azure.microsoft.com/support/legal/sla/documentdb/v1_1/).

## <a name="how-does-encryption-at-rest-work"></a>Как действует шифрование неактивных данных?

Шифрование неактивных данных реализуется с применением различных технологий обеспечения безопасности, включая безопасные системы хранения ключей, зашифрованные сети и криптографические API.  На следующей схеме показано, как разделено хранение зашифрованных данных и управление ключами.  Системы расшифровки и обработки данных должны взаимодействовать с системами управления ключами.

![Схема структуры](./media/documentdb-nosql-database-encryption-at-rest/design-diagram.png)

Запрос пользователя выполняется и обрабатывается следующим образом:
- Учетная запись базы данных пользователя подготавливается, а ключи к хранилищу данных извлекаются по запросу к поставщику ресурсов службы управления.
- Пользователь создает подключение к DocumentDB по HTTPS или безопасному транспортному протоколу. Пакеты SDK абстрагируют подробные сведения.
- Пользователь отправляет документ JSON для сохранения, используя ранее созданное безопасное подключение.
- Документ JSON индексируется, если пользователь не отключил эту возможность.
- Документ JSON и данные индекса записываются в безопасное хранилище.
- Время от времени данные считываются из безопасного хранилища и архивируются в зашифрованное хранилище BLOB-объектов Azure.

## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы

### <a name="q-how-much-more-does-azure-storage-cost-if-sse-is-enabled"></a>Вопрос. Насколько дороже обходится служба хранилища Azure с включенным SSE?
Ответ. Дополнительные затраты не требуются.

### <a name="q-who-manages-the-encryption-keys"></a>Вопрос. Кто управляет ключами шифрования?
Ответ. Ключами управляет корпорация Майкрософт.

### <a name="q-can-i-use-my-own-encryption-keys"></a>Вопрос. Можно ли использовать собственные ключи шифрования?
Ответ. DocumentDB — это служба PaaS. Мы сделали все возможное, чтобы максимально упростить работу с ней.  Мы заметили, что этот вопрос часто задают при обсуждении соответствия требованиям, например PCI-DSS.  Разрабатывая эту функцию, мы совместно с аудиторами соответствия старались создать для клиентов такие условия, в которых они могли бы использовать DocumentDB в соответствии со своими требованиями без необходимости управлять ключами самостоятельно.
Именно поэтому сейчас мы предлагаем пользователям возможность самостоятельно управлять ключами.

### <a name="q-what-regions-have-encryption-turned-on"></a>Вопрос. В каких регионах включено шифрование?
Ответ. Шифрование пользовательских данных включено во всех регионах DocumentDB.

## <a name="next-steps"></a>Дальнейшие действия

Общие сведения о системе безопасности и последних усовершенствованиях DocumentDB см. в статье [DocumentDB: безопасность базы данных NoSQL](documentdb-nosql-database-security.md).

Дополнительные сведения о сертификатах Майкрософт см. в [центре управления безопасностью Azure](https://azure.microsoft.com/en-us/support/trust-center/).

