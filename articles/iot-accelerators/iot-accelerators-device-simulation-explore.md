---
title: Начало работы с решением симулятора устройства в Azure | Документация Майкрософт
description: Решение для моделирования акселераторов решений для Интернета вещей — это инструмент, который помогает в разработке и тестировании решения Интернета вещей. Служба моделирования — это отдельное предложение, которое можно использовать в сочетании с другими акселераторами решений или в собственных настраиваемых решениях.
services: iot device simulation
suite: iot-suite
author: troyhopwood
manager: timlt
ms.author: troyhop
ms.service: iot-suite
ms.date: 12/15/2017
ms.topic: article
ms.devlang: NA
ms.tgt_pltfrm: NA
ms.workload: NA
ms.openlocfilehash: 742998dce07f6ceef0ad906831c60f11a7d08bd9
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
---
# <a name="device-simulation-walkthrough"></a>Руководство по симуляторам устройств

Симулятор устройств Интернета вещей Azure — это инструмент, который может помочь в разработке и тестировании решения Интернета вещей. Решение для моделирования устройств — это отдельное предложение, которое вы можете использовать в сочетании с другими акселераторами решений или в собственных настраиваемых решениях.

В этом руководстве описаны некоторые возможности симулятора устройств. В нем показано, как они работают. Кроме того, сведения из этого руководства можно использовать для тестирования собственных решений Интернета вещей с помощью симулятора.

Из этого руководства вы узнаете, как выполнять такие задачи:

>[!div class="checklist"]
> * Настройка симулятора.
> * Запуск и остановка симулятора.
> * Просмотр метрик телеметрии.

## <a name="prerequisites"></a>предварительным требованиям

Для работы с этим руководством необходим развернутый экземпляр симулятора устройств Центра интернета вещей Azure.

Если симулятор устройств еще не развернут, выполните инструкции в статье [Руководство по симулятору устройства](iot-accelerators-device-simulation-deploy.md).

## <a name="configuring-device-simulation"></a>Настройка симулятора устройства

Симулятор устройств можно полностью настроить и запустить с панели мониторинга. Откройте панель мониторинга на странице [Подготовленные решения](https://www.azureiotsuite.com/) акселераторов решений для Интернета вещей. Щелкните **Запустить** в новом развертывании симулятора устройств.

### <a name="target-iot-hub"></a>Целевой Центр Интернета вещей

Вы можете использовать симулятор устройств с предварительно подготовленным Центром Интернета вещей или с другим Центром Интернета вещей:

![Целевой Центр Интернета вещей](./media/iot-accelerators-device-simulation-explore/targethub.png)

> [!NOTE]
> Вариант для использования предварительно подготовленного Центра Интернета вещей доступен, только если выбрать создание нового Центра Интернета вещей при развертывании симулятора устройств. При отсутствии Центра Интернета вещей на [портале Azure](https://portal.azure.com) всегда можно создать новый.

Чтобы выбрать конкретный Центр Интернета вещей, предоставьте строку подключения **iothubowner**. Эту строку подключения можно получить на [портале Azure](https://portal.azure.com):

1. На странице конфигурации Центра Интернета вещей на портале Azure щелкните **Политики общего доступа**.
1. Щелкните **iothubowner**.
1. Скопируйте первичный или вторичный ключ.
1. Вставьте это значение в текстовом поле целевого Центра Интернета вещей.

![Целевой Центр Интернета вещей](./media/iot-accelerators-device-simulation-explore/connectionstring.png)

### <a name="device-model"></a>Модель устройства

Модель устройства позволяет выбрать тип симулируемого устройства. Можно выбрать одну из моделей предварительно настроенных устройств или указать список датчиков для пользовательской модели устройства:

![Модель устройства](./media/iot-accelerators-device-simulation-explore/devicemodel.png)

#### <a name="pre-configured-device-models"></a>Модели предварительно настроенных устройств

Симулятор устройств предоставляет три модели предварительно настроенных устройств. Доступны модели устройств для холодильников, лифтов и грузовиков.

Предварительно настроенные модели устройств включают несколько датчиков с дополнительными расширениями функциональности, определенными в файле JavaScript. В веб-интерфейсе эти пользовательские расширения функциональности не поддерживаются. 

В следующей таблице показан список конфигураций для каждой модели предварительно настроенного устройства:

| Модель устройства | Датчик | Единица измерения | 
| -------------| ------ | -----| 
| Холодильник | Влажность | % |
| | pressure | фунтов на кв. дюйм | 
| | Температура | F | 
| Лифт | Этаж | 
| | Вибрация | ММ | 
| | температура; | F | 
| Грузовик | Широта | |
| | Долгота | | 
| | Скорость | миль в час | 
| | Температура груза | F | 

#### <a name="custom-device-model"></a>Модель пользовательского устройства

Модели пользовательских устройств позволяют включить датчики модели, которые более точно представляют собственные устройства. В пользовательском устройстве может быть до 10 датчиков.

При выборе типа модели пользовательского устройства можно добавить новые датчики, щелкнув **+Add sensor** (+Добавить датчик).

![Добавление датчиков](./media/iot-accelerators-device-simulation-explore/customsensors.png)

Пользовательские датчики обладают перечисленными ниже свойствами:

| Поле | ОПИСАНИЕ |
| ----- | ----------- |
| Имя датчика | Понятное имя датчика, такое как **температура** или **скорость**. |
| Поведение | Реакции на событие позволяют передавать разные данные телеметрии между сообщениями, симулируя реальные данные. **Приращение** увеличивает значение на один в каждом отправленном сообщении, начиная с минимального значения. После достижения максимального значения оно вернется к минимальному значению и снова начнет увеличиваться. **Уменьшение** ведет себя подобно **приращению**, но в обратном порядке. Реакция на событие **Случайно** создает случайное значение в промежутке между максимальным и минимальным значением. |
| Минимальное значение | Наименьшее число, представляющее допустимый диапазон. |
| Максимальное значение | Наибольшее число, представляющее допустимый диапазон. |
| Единица измерения | Единица измерения для датчика, например "°F" или "миль в час". |

### <a name="number-of-devices"></a>Количество устройств

Симуляторы устройств в настоящее время позволяют имитировать до 20 000 устройств.

![Количество устройств](./media/iot-accelerators-device-simulation-explore/numberofdevices.png)

### <a name="telemetry-frequency"></a>Частота получения телеметрии

Частота получения телеметрии позволяет указать, как часто имитированные устройства должны отправлять данные в Центр Интернета вещей. Данные можно отправлять регулярно — каждые 10 секунд или нерегулярно — каждые 99 часов, 59 минут и 59 секунд.

![Частота получения телеметрии](./media/iot-accelerators-device-simulation-explore/frequency.png)

> [!NOTE]
> При использовании Центра Интернета вещей, отличного от предварительно подготовленного, следует рассмотреть ограничения сообщений для целевого Центра Интернета вещей. Например при наличии 1000 имитируемых устройств, отправляющих данные телеметрии каждые 10 секунд в концентратор S1, вы достигнете предела телеметрии для центра в течение часа.

### <a name="simulation-duration"></a>Длительность моделирования

Моделирование можно запустить на определенный промежуток времени или выполнять, пока оно не будет явным образом остановлено. При выборе определенного промежутка времени можно выбрать любую продолжительность: от 10 минут до 99 часов, 59 минут и 59 секунд.

![Длительность моделирования](./media/iot-accelerators-device-simulation-explore/duration.png)

### <a name="start-and-stop-the-simulation"></a>Запуск и остановка симуляции

При добавлении всех необходимы данных конфигурации в форму включается кнопка **Запустить имитацию**. Чтобы начать моделирование, нажмите эту кнопку.

![Запуск моделирования](./media/iot-accelerators-device-simulation-explore/start.png)

Если для моделирования указан определенный отрезок времени, она автоматически остановится при достижении этого времени. Моделирование можно всегда остановить раньше, щелкнув **Остановить имитацию**.

Если выбрать неограниченное время выполнения моделирования, тогда она будет выполняться, пока вы не щелкнете **Остановить имитацию**. Вы можете закрыть браузер и вернуться на страницу "Имитация устройств", чтобы остановить моделирование в любое время.

![Остановка моделирования](./media/iot-accelerators-device-simulation-explore/stop.png)

> [!NOTE]
> Одновременно может выполняться только одно моделирование. Перед началом нового моделирования необходимо остановить текущее.
