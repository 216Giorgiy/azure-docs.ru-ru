---
title: Сведения об архитектуре решения удаленного мониторинга в Azure | Документация Майкрософт
description: В этой статье приведены сведения об архитектуре и технических компонентах в решении удаленного мониторинга
services: iot-suite
suite: iot-suite
author: timlaverty
manager: camerons
ms.author: timlav
ms.service: iot-suite
ms.date: 04/30/2018
ms.topic: article
ms.devlang: NA
ms.tgt_pltfrm: NA
ms.workload: NA
ms.openlocfilehash: 607b8aeb2f986eebddf8fe13b88e7f3bc7b4494b
ms.sourcegitcommit: 688a394c4901590bbcf5351f9afdf9e8f0c89505
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/18/2018
---
# <a name="remote-monitoring-architectural-choices"></a>Сведения об архитектуре решения для удаленного мониторинга

Решение для удаленного мониторинга Интернета вещей Azure — это акселератор решений с открытым исходным кодом и лицензией MIT, который представляет такие распространенные сценарии Интернета вещей, как подключение устройства и управление им, а также обработка потока данных, чтобы пользователи могли ускорить свои процессы разработки.  В решении для удаленного мониторинга применяется рекомендованная эталонная архитектура Центра Интернета вещей Azure, опубликованная [здесь](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/).  

В этой статье приведены сведения об архитектуре и технических компонентах, используемых для каждой подсистемы решения удаленного мониторинга, и рассматриваются альтернативные варианты.  Важно отметить, что решения, касающиеся технической структуры, — это не единственная возможность реализовать решение Интернета вещей для удаленного мониторинга.  Техническая реализация является основой для создания успешного приложения и должна изменяться, чтобы соответствовать навыкам, опыту и потребностям отрасли для клиентской реализации решения.

## <a name="architectural-choices"></a>Выбор архитектуры

### <a name="microservices-serverless-and-cloud-native"></a>Микрослужбы, бессерверные приложения и полностью облачные решения

Мы рекомендуем использовать для приложений Интернета вещей облачную, микрослужебную архитектуру, которая не зависит от сервера.  Различные подсистемы приложения Центра Интернета вещей должны быть созданы в качестве отдельных служб, развертываемых независимо друг от друга и способных масштабироваться независимо.  Эти атрибуты обеспечивают лучшую масштабируемость и гибкость в обновлении отдельных подсистем и предоставляют гибкие возможности выбора соответствующей технологии отдельно для каждой системы.  Микрослужбы можно реализовать с помощью нескольких технологий. Например, с помощью такой технологии контейнеров, как Docker, с такой бессерверной технологией, как решение "Функции Azure", или размещение микрослужб в службах PaaS, таких как службы приложений Azure.

## <a name="core-subsystem-technology-choices"></a>Выбор основных технологических компонентов подсистемы

В этом разделе описаны технологии, используемые в решении удаленного мониторинга для каждой базовой подсистемы.

![Схема базовых подсистем](./media/iot-accelerators-remote-monitoring-architectural-choices/subsystem.png) 

### <a name="cloud-gateway"></a>Облачный шлюз
Центр Интернета вещей Azure используется в качестве облачного шлюза для решения удаленного мониторинга.  Центр Интернета вещей предлагает безопасный, двунаправленный обмен данными с устройствами. Дополнительные сведения о Центре Интернета вещей см. [здесь](https://azure.microsoft.com/services/iot-hub/). Для подключения устройств Центра Интернета вещей используются пакеты SDK Центра Интернета вещей для .NET Core и для Java.  Пакеты SDK обеспечивают оболочки вокруг REST API Центра Интернета вещей и обработку сценариев, таких как повторы. 

### <a name="stream-processing"></a>Потоковая обработка
При потоковой обработке решение удаленного мониторинга использует Azure Stream Analytics для обработки сложных правил.  Пользователям, которым нужны более простые правила, у нас также есть пользовательская микрослужба с поддержкой обработки простых правил, хотя эта настройка не является частью упрощенного развертывания. Эталонная архитектура рекомендует использование решения "Функции Azure" для обработки простых правил и Azure Stream Analytics (ASA) для обработки сложных правил.  

### <a name="storage"></a>Служба хранилища
Служба Cosmos DB используется для всех потребностей хранения: в качестве холодного, горячего хранилища, хранилища правил и уведомлений. В настоящий момент выполняется перенос хранилища BLOB-объектов Azure, согласно рекомендациям по эталонной архитектуре.  Cosmos DB — это рекомендуемое решение горячего хранилища общего назначения для приложений Центра Интернета вещей, хотя такие решения, как "Аналитика временных рядов Azure" и Azure Data Lake, подходят для многих вариантов использования.

### <a name="business-integration"></a>Интеграция бизнес-процессов
Интеграция бизнес-процессов в решении удаленного мониторинга ограничена созданием оповещений, которые помещаются в горячее хранилище. Дальнейшую интеграцию бизнес-процессов можно выполнить путем интеграции решения с Azure Logic Apps.

### <a name="user-interface"></a>Пользовательский интерфейс
Пользовательский веб-интерфейс создан с JavaScript React.  React предлагает распространенную в отрасли платформу пользовательского веб-интерфейса, которая аналогична другим популярным платформам, таким как Angular.  

### <a name="runtime-and-orchestration"></a>Среда выполнения и оркестрация
Среда выполнения приложения, выбранная для реализации подсистемы в решении удаленного мониторинга, состоит из контейнеров Docker с Kubernetes (K8s) в качестве оркестратора для горизонтального масштабирования.  Эта архитектура позволяет определять индивидуальные масштабы для каждой подсистемы, однако это несет затраты на уровне разработки и операций, связанные с поддержанием виртуальных машин и контейнеров в актуальном состоянии с точки зрения безопасности.  К альтернативам Docker и K8 можно отнести размещение микрослужб в службах PaaS (например, службе приложений Azure) или использование Service Fabric, DCOS, Swarm и т. д. в качестве оркестратора.

## <a name="next-steps"></a>Дополнительная информация
* Сведения об развертывании решения для удаленного мониторинга см. в [этой статье](https://www.azureiotsuite.com/).
* Изучите код в GitHub на [C#](https://github.com/Azure/azure-iot-pcs-remote-monitoring-dotnet/) и [Java](https://github.com/Azure/azure-iot-pcs-remote-monitoring-java/).  
* Дополнительные сведения об эталонной архитектуре Интернета вещей см. в этой [статье](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/).
