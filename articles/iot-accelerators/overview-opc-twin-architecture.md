---
title: Архитектура управления устройствами на основе унифицированной архитектуры OPC Интернета вещей Azure | Документация Майкрософт
description: Архитектура двойника OPC
author: dominicbetts
ms.author: dobett
ms.date: 11/26/2018
ms.topic: overview
ms.service: iot-industrialiot
services: iot-industrialiot
manager: philmea
ms.openlocfilehash: 904c889866d3aa24e1da387af44b3f589b7769aa
ms.sourcegitcommit: 563f8240f045620b13f9a9a3ebfe0ff10d6787a2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2019
ms.locfileid: "58759795"
---
# <a name="opc-twin-architecture"></a>Архитектура двойника OPC

На приведенных ниже схемах изображена архитектура двойника OPC.

## <a name="discover-and-activate"></a>Обнаружение и активация

1. Оператор запускает сканирование сети в модуле или выполняет однократное обнаружение с помощью URL-адреса обнаружения. Сведения об обнаруженных конечных точках и приложении отправляются как данные телеметрии к агенту подключения для обработки.  Агент подключения устройства на основе унифицированной архитектуры OPC обрабатывает события обнаружения сервера на основе унифицированной архитектуры OPC, отправленные модулем IoT Edge двойника OPC в режиме обнаружения или сканирования. События обнаружения приводят к регистрации приложения и обновлению реестра устройства на основе унифицированной архитектуры OPC.

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin1.png)

1. Оператор проверяет сертификат обнаруженной конечной точки и активирует зарегистрированный двойник конечной точки для доступа. 

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin2.png)

## <a name="browse-and-monitor"></a>Обзор и мониторинг

1. После активации оператор с помощью REST API службы двойника может просматривать или проверять информационную модель сервера, читать и записывать переменные объекта или вызывать методы.  Пользователь использует упрощенный API-интерфейс на основе унифицированной архитектуры OPC, выраженный полностью в HTTP и JSON.

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin3.png)

1. Интерфейс REST службы двойника позволяет также создавать отслеживаемые элементы и подписки в издателе OPC. Издатель OPC позволяет отправлять данные телеметрии из серверных систем на основе унифицированной архитектуры OPC в Центр Интернета вещей. Дополнительные сведения об издателе OPC см. в [этом репозитории GitHub](https://github.com/Azure/iot-edge-opc-publisher).

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin4.png)