<properties
	pageTitle="Создание виртуальной машины для веб-проекта с помощью Visual Studio"
	description="Создание виртуальной машины для веб-сайта"
	services="virtual-machines"
	documentationCenter=""
	authors="kempb"
	manager="douge"
	editor=""/>

<tags
	ms.service="virtual-machines"
	ms.workload="infrastructure-services"
	ms.tgt_pltfrm="vm-multiple"
	ms.devlang="dotnet"
	ms.topic="article"
	ms.date="02/19/2015" 
	ms.author="kempb"/>

# Создание виртуальной машины для веб-сайта с помощью Visual Studio

При создании веб-проекта для веб-сайта Azure можно подготовить виртуальную машину в Azure. Затем можно настроить эту виртуальную машину, добавив дополнительное программное обеспечение, или использовать ее для диагностики или отладки.

Чтобы создать виртуальную машину при создании веб-сайта, выполните следующие действия.

1. В Visual Studio последовательно выберите пункты **Файл**, **Создать проект**, **Веб** и **Веб-приложение ASP.NET**.
2. В диалоговом окне **создания проекта ASP.NET** выберите нужный тип веб-приложения, и в разделе Azure диалогового окна (в нижнем правом углу) установите флажок **Host in the cloud** (Разместить в облаке); в некоторых установках этот флажок имеет метку **Create remote resources** (Создать удаленные ресурсы).

	![][0]

3. Выберите в раскрывающемся меню пункт **Виртуальная машина**, а затем нажмите кнопку **ОК**.
4. Если будет предложено, выполните вход в Azure. Появится диалоговое окно создания виртуальной машины.

	![][2]

5. В поле "Имя DNS" укажите имя для виртуальной машины. Имя DNS должно быть уникальным в рамках Azure. Если указанное имя недоступно, появится красный восклицательный знак.
6. В списке образов выберите образ операционной системы для виртуальной машины. Можно выбрать любой стандартный образ или свой собственный образ, отправленный в Azure.
7. Если не планируется установка другого веб-сервера, не снимайте флажок **Enable IIS and Web Deploy** (Включить IIS и веб-развертывание). Если отключить веб-развертывание, то нельзя будет выполнять публикацию из Visual Studio. Можно добавить IIS и веб-развертывание в любой упакованный образ Windows Server, включая собственные образы.
8. В поле **Размер** выберите размер виртуальной машины.
9. Укажите учетные данные для входа для этой виртуальной машины. Запишите их, поскольку они потребуются для доступа к этой машине через удаленный рабочий стол.
10. В списке **Расположение** выберите регион, виртуальную сеть или территориальную группу, в которой будет размещена виртуальная машина. Территориальные группы можно использовать, чтобы ресурсы Azure с большим сетевым трафиком между собой находились вместе в одном центре обработки данных, а регионы — чтобы указать точное расположение центра обработки данных.
11. Нажмите кнопку **ОК**, чтобы запустить процесс создания виртуальной машины. Следить за ходом выполнения можно в **окне ** вывода. 
	![][3]

12. Когда виртуальная машина подготавливается, создаются скрипты публикации в узле **PublishScripts** решения. Скрипт публикации выполняется и подготавливает виртуальную машину в Azure. В окне **вывода** показывается состояние. Для установки виртуальной машины скрипт выполняет следующие действия.

	* Создает виртуальную машину, если она не существует.
	* Создает учетную запись хранения с именем, начинающимся на `devtest`, но только если такая учетная запись хранения еще не существует в указанном регионе.
	* Создает облачную службу в качестве контейнера для виртуальной машины, а также создает веб-роль для веб-сайта.
	* Настраивает на виртуальной машине веб-развертывание.
	* Настраивает на виртуальной машине IIS и ASP.NET.

	![][4]

<br/> 13. (Дополнительно.) В **обозревателе сервера** разверните узел **Виртуальные машины**, выберите узел для созданной виртуальной машины, а затем выберите **Подключение к удаленному рабочему столу**, чтобы подключиться к виртуальной машине.

# Дальнейшие действия

Если требуется настроить созданные скрипты публикации, более подробные сведения см. [здесь](http://msdn.microsoft.com/library/dn642480.aspx).

[0]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_NewProject.PNG
[1]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_SignIn.PNG
[2]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_CreateVM.PNG
[3]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_Provisioning.png
[4]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_SolutionExplorer.png

<!---HONumber=58-->