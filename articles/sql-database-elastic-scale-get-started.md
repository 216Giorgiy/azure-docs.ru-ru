<properties title="Начало работы с эластичным масштабированием базы данных SQL Azure" pageTitle="Начало работы с эластичным масштабированием базы данных SQL Azure" description="Объяснение основных принципов эластичного масштабирования  базы данных SQL Azure, включая пример простого для запуска приложения." metaKeywords="sharding scaling, Azure SQL DB sharding, elastic scale" services="sql-database" documentationCenter="" manager="jhubbard" authors="sidneyh@microsoft.com"/>

<tags ms.service="sql-database" ms.workload="sql-database" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/02/2014" ms.author="sidneyh" />

# Начало работы с эластичным масштабированием базы данных SQL Azure (предварительная версия)

Увеличение и уменьшение ресурсов по требованию является одним из важнейших преимуществ облачных вычислений. Ранее обеспечение работоспособности в таких условиях на уровне базы данных для облачных приложений было малопродуктивным и сложным. Однако в течение нескольких последних лет в данной отрасли произошел переход на использование хорошо себя зарекомендовавшие шаблоны проектирования, известные под названием "сегментирование" (sharding). Хотя шаблон сегментирования общего назначения решает обозначенные проблемы, но создание и управление приложениями с помощью данной технологии требует значительных инфраструктурных капиталовложений независимо от бизнес-логики приложений.

Технология эластичного масштабирования базы данных SQL Azure (предварительная версия) позволяет выполнять в приложениях увеличение и уменьшение масштаба на уровне данных с помощью стандартных для отрасли методов сегментирования при существенной оптимизации процессов разработки и управления сегментированных облачных приложений. Эластичное масштабирование обеспечивает достаточные функциональные возможности для разработки и управления, которые предоставляются посредством набора библиотек .Net и шаблонов служб Azure, которые можно разместить в собственной подписке Azure для управления высокомасштабируемыми приложениями. В технологии эластичного масштабирования базы данных Azure реализованы различные инфраструктурные аспекты, касающиеся сегментирования, что позволяет сосредоточить основное внимание на бизнес-логике приложений.

Настоящий документ выступает в качестве введения в процесс разработки эластичного масштабирования базы данных SQL Azure.

С дополнительной информацией о базовых принципах технологии эластичного масштабирования можно ознакомиться в разделе [Обзор технологии эластичного масштабирования][Обзор технологии эластичного масштабирования].

Чтобы просмотреть список всех разделов Elastic Scale, см. [Карту документации по эластичному масштабированию][Карту документации по эластичному масштабированию]

## Пример приложения для эластичного масштабирования

В данном примере выполняется создание простого сегментированного приложения и исследуются основные возможности технологии эластичного масштабирования. Чтобы загрузить и запустить данное приложение, выполните приведенные далее действия, которые перечисляются также в видеоролике [Эластичное масштабирование — Начало работы][Эластичное масштабирование — Начало работы].

### Предварительные требования

Для запуска демонстрационного приложения следует использовать Visual Studio и необходимо иметь доступ к базе данных SQL Azure, размещенной на платформе Azure. При отсутствии подписки на Azure рекомендуется оформить [пробную подписку][пробную подписку].

#### Visual Studio и Nuget

1.  Требуется Visual Studio 2012 или выше с пакетом C\#. Загрузите бесплатную версию на странице [Загрузок Visual Studio][Загрузок Visual Studio].
2.  Maven 2,7 или выше Для получения самой новой версии см. раздел [Установка NuGet][Установка NuGet]

    #### Создание базы данных SQL Azure

-   См. раздел [Приступая к работе с базой данных SQL Microsoft Azure][Приступая к работе с базой данных SQL Microsoft Azure].

## Загрузка и запуск демонстрационного приложения

Демонстрационное приложение из раздела **Эластичное масштабирование базы данных SQL Azure — Начало работы** позволяет познакомиться с наиболее важными аспектами процесса разработки сегментрированных приложений с использованием технологии эластичного масштабирования базы данных SQL Azure. Основное внимание здесь уделяется важнейшим вариантам использования по следующим темам: [Управление сопоставлениями сегментов][Управление сопоставлениями сегментов], [Маршрутизация, зависящая от данных][Маршрутизация, зависящая от данных] и [Многосегментное формирование запросов][Многосегментное формирование запросов]. Чтобы загрузить и запустить демонстрационное приложение, выполните следующие действия.

1.  Откройте Visual Studio и выберите **Файл -\> Создать -\> Проект**.
2.  В открывшемся диалоговом окне нажмите на пункт **В сети**.

    ![Новый проект\>В сети][Новый проект\>В сети]

3.  Затем щелкните пункт **Visual C\#** в разделе **Примеры**.

    ![Щелкните Visual C\#][Щелкните Visual C\#]

4.  В поисковое поле введите **Elastic Scale (Эластичное масштабирование)**, чтобы найти демонстрационное приложение. После этого должен отобразиться заголовок **Эластичное масштабирование базы данных SQL Azure — Начало работы**.

    ![Поле поиска][Поле поиска]

5.  Выберите необходимый пример, укажите название и месторасположение для нового проекта, а затем нажмите кнопку **OK**, чтобы создать этот проект.
6.  Откройте файл **app.config** в решении для данного демонстрационного проекта и следуйте приведенным в нем указаниям, чтобы добавить имя сервера базы данных SQL Azure и учетные данные (имя пользователя и пароль).
7.  Создайте и запустите приложение. После соответствующего запроса разрешите Visual Studio восстановить пакеты NuGet из данного решения. В результате этого будет выполнена загрузка самых новых версий клиентских библиотек для эластичного масштабирования из NuGet.
8.  Попробуйте устанавливать различные значения параметров, чтобы более подробно исследовать возможности эластичного масштабирования. Обратите внимание на то, какие действия выполняет приложение, отслеживая выводимые им в консоль сообщения, и ознакомьтесь с отвечающим за эти действия программным кодом.

    ![ход выполнения][ход выполнения]

Поздравляем! Вы успешно создали и запустили свое первое приложение по эластичному масштабированию базы данных SQL на платформе Azure. Ознакомьтесь с сегментами, созданными демонстрационным приложением, подключившись с помощью SQL Server Management Studio к серверу базы данных Azure. Таким образом можно увидеть новые сегментированные базы данных и базу данных диспетчера сопоставлений сегментов, созданные демонстрационным приложением.

**Примечание**. Если в вашем распоряжении нет SQL Server Management Studio, обратитесь к разделу [Управление базой данных SQL Azure с помощью SQL Server Management Studio][Управление базой данных SQL Azure с помощью SQL Server Management Studio], где можно найти указания для получения данного инструмента.

### Ключевые фрагменты программного кода демонстрационного приложения

1.  **Управление сегментами и сопоставлениями сегментов**. Данный программный код, демонстрирующий, каким образом следует работать с сегментами, диапазонами и сопоставлениями, взят из файла **ShardMapManagerSample.cs**. Дополнительную информацию по данной теме можно найти здесь: [Управление сопоставлениями сегментов][Управление сопоставлениями сегментов].
2.  **Маршрутизация, зависящая от данных**. Маршрутизация транзакций к необходимому сегменту демонстрируется в файле **DataDependentRoutingSample.cs**. Более подробная информация приводится в разделе [Маршрутизация, зависящая от данных][Маршрутизация, зависящая от данных].
3.  **Формирование запросов по нескольким сегментам**. Формирование запросов по сегментам демонстрируется в файле **MultiShardQuerySample.cs**. Более подробная информация приводится в разделе [Многосегментное формирование запросов][Многосегментное формирование запросов].
4.  **Добавление пустых сегментов**. Итеративное добавление новых пустых сегментов выполняется программным кодом, который приводится в
    файле **AddNewShardsSample.cs**. С подробностями по данному вопросу можно ознакомиться здесь: [Управление сопоставлениями сегментов][Управление сопоставлениями сегментов].

### Другие операции, относящиеся к эластичному масштабированию

1.  **Разбиение существующего сегмента**. Возможность разбиения сегментов реализована посредством **Службы Разбиения/Объединения**. Дополнительную информацию об этой службе можно найти здесь: [Служба Разбиения/Объединения][Служба Разбиения/Объединения].
2.  **Объединение существующих сегментов**. Объединение сегментов также выполняется посредством **Службы Разбиения/Объединения**. Дополнительная информация приводится в разделе: [Служба Разбиения/Объединения][Служба Разбиения/Объединения].

## Стоимость

Библиотеки для эластичного масштабирования и шаблоны служб являются бесплатными. Использование технологии эластичного масштабирования не предполагает взимания каких-либо дополнительных платежей помимо оплаты за использование платформы Azure.

Например, демонстрационное приложение создает новую базу данных. Оплачиваемая стоимость зависит от выбранной версии базы данных SQL Azure и от использования данным приложением платформы Azure.

Сведения о ценах см. в разделе [Информация о ценах на базу данных SQL][Информация о ценах на базу данных SQL].

## Дальнейшие действия

Для получения более подробной информации о возможностях эластичного масштабирования рекомендуется обращаться к следующим ресурсам:

-   [Страница по изучению технологии эластичного масштабирования][Карту документации по эластичному масштабированию]
-   Примеры программного кода:

    -   [Эластичное масштабирование базы данных SQL — Начало работы][Эластичное масштабирование базы данных SQL — Начало работы]
    -   [Эластичное масштабирование базы данных SQL — Интеграция с Entity Framework][Эластичное масштабирование базы данных SQL — Интеграция с Entity Framework]
    -   [Эластичность сегментов в Центре сценариев][Эластичность сегментов в Центре сценариев]
-   Блог: [Объявления, касающиеся эластичного масштабирования][Объявления, касающиеся эластичного масштабирования]
-   Канал 9: [Обзор технологии эластичного масштабирования][1]
-   Форум для обсуждений: [Форум по базе данным SQL Azure][Форум по базе данным SQL Azure]

<!--Anchors-->\r\n<!--Image references-->

  [Обзор технологии эластичного масштабирования]: http://go.microsoft.com/?linkid=9862592
  [Карту документации по эластичному масштабированию]: ./sql-database-elastic-scale-documentation-map.md
  [Эластичное масштабирование — Начало работы]: http://go.microsoft.com/?linkid=9862983
  [пробную подписку]: http://azure.microsoft.com/ru-ru/pricing/free-trial/
  [Загрузок Visual Studio]: http://www.visualstudio.com/ru-ru/downloads/download-visual-studio-vs.aspx
  [Установка NuGet]: http://docs.nuget.org/docs/start-here/installing-nuget
  [Приступая к работе с базой данных SQL Microsoft Azure]: http://azure.microsoft.com/ru-ru/documentation/articles/sql-database-get-started/
  [Управление сопоставлениями сегментов]: http://go.microsoft.com/?linkid=9862595
  [Маршрутизация, зависящая от данных]: http://go.microsoft.com/?linkid=9862596
  [Многосегментное формирование запросов]: http://go.microsoft.com/?linkid=9862597
  [Новый проект\>В сети]: ./media/sql-database-elastic-scale-get-started/click-online.png
  [Щелкните Visual C\#]: ./media/sql-database-elastic-scale-get-started/click-CSharp.png
  [Поле поиска]: ./media/sql-database-elastic-scale-get-started/newProject.png
  [ход выполнения]: ./media/sql-database-elastic-scale-get-started/output2.png
  [Управление базой данных SQL Azure с помощью SQL Server Management Studio]: http://azure.microsoft.com/ru-ru/documentation/articles/sql-database-manage-azure-ssms/
  [Служба Разбиения/Объединения]: http://go.microsoft.com/?linkid=9862795
  [Информация о ценах на базу данных SQL]: http://azure.microsoft.com/ru-ru/pricing/details/sql-database/
  [Эластичное масштабирование базы данных SQL — Начало работы]: http://code.msdn.microsoft.com/Elastic-Scale-with-Azure-a80d8dc6?SRC=VSIDE
  [Эластичное масштабирование базы данных SQL — Интеграция с Entity Framework]: http://code.msdn.microsoft.com/Elastic-Scale-with-Azure-bae904ba?SRC=VSIDE
  [Эластичность сегментов в Центре сценариев]: http://go.microsoft.com/?linkid=9862617
  [Объявления, касающиеся эластичного масштабирования]: http://go.microsoft.com/?linkid=9862608
  [1]: http://go.microsoft.com/?linkid=9862609
  [Форум по базе данным SQL Azure]: http://social.msdn.microsoft.com/forums/azure/ru-ru/home?forum=ssdsgetstarted
