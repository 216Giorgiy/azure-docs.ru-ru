<properties title="Azure Websites Web Hosting Plans In-Depth Overview" pageTitle="Подробный обзор планов размещения веб-сайтов в Azure - руководство по компонентам Azure" description="Learn how Web Hosting Plans for Azure Websites work, and how they benefit your management experience." metaKeywords="Azure Web Sites, Azure Websites, WHP, Web Hosting Plan, Web Hosting Plans, Resource Groups" services="web-sites" solutions="web" documentationCenter="Infrastructure" authors="Byron Tardif and Yochay Kiryaty" videoId="" scriptId="" manager="wpickett" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="Byron Tardif and Yochay Kiryaty" />
 
#Детальный обзор планов размещения веб-сайтов Azure#
 
Планы размещения веб-сайтов (WHP) представляют собой набор инструментов и ресурсов, которые вы можете распределить между своими веб-сайтами.  Планы размещения веб-сайтов имеют четыре ценовые категории (Free, Shared, Basic и Standard), в каждой из которых предоставляется определенный объем возможностей и ресурсов.   Сайты из одной подписки или группы ресурсов, а также сайты, расположенные в одном географическом регионе, могут совместно использовать один план размещения. Все сайты, совместно использующие план размещения веб-сайтов, могут пользоваться всеми возможностями и компонентами, определенными для уровня плана размещения веб-сайтов. Все веб-сайты, связанные с конкретным планом размещения веб-сайтов, выполняются на ресурсах, определенных планом размещения веб-сайтов. Например, если план размещения веб-сайтов настроен на использование двух "малых" виртуальных машин, все сайты, связанные с этим планом, будут запущены на обоих виртуальных машинах. Как и для всех веб-сайтов Azure, виртуальные машины, на которых запущены ваши веб-сайты, имеют большие возможности управления и высокую производительность.
 
В этой статье рассматриваются ключевые характеристики, такие как ценовая категория и объем плана размещения веб-сайтов, а также его роль в управлении вашими веб-сайтами. 
 
##Веб-сайты, планы размещения веб-сайтов и группы ресурсов##
 
Веб-сайт может быть связан с только одним планом размещения веб-сайтов в данный момент времени. План размещения веб-сайтов связан с группой ресурсов. Группа ресурсов - новая концепция в Azure, которая выступает как граница жизненного цикла для каждого ресурса, содержащегося в ней. Группы ресурсов позволяют управлять всеми частями приложения одновременно. 
 
У вас может быть несколько планов размещения веб-сайтов в пределах одной группы ресурсов. При этом каждый план будет иметь свой собственный набор функций и ресурсов, используемых связанными с ним узлами.  Эта взаимосвязь показана на следующем рисунке.
 
 
![Resource Groups and Web Hosting Plans](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview01.png)
 
 
Возможность иметь несколько планов размещения веб-сайтов в одной группе ресурсов позволяет выделять разное количество ресурсов для разных узлов - главным образом для виртуальных машин, на которых запущены ваши веб-сайты. Это дает возможность разделения ресурсов между узлами разработки/тестирования и узлами исполнения. Если вы, например, захотите выделить один план размещения с определенным набором ресурсов для рабочих веб-узлов, а второй план размещения - для узлов разработки и тестирования. 
 
Наличие нескольких планов размещения в одной группе ресурсов также позволяет создать приложение, которое охватывает несколько регионов. Например, высокодоступный веб-сайт, запущенный в двух регионах, будет включать два веб-сайта: по одному для каждого региона - и по одному веб-сайту для каждого плана размещения веб-сайтов. В таком случае все сайты будут связаны с единственной группой ресурсов, которая определяет одно приложение.  Наличие единого представления группы ресурсов с несколькими планами размещения веб-сайтов и несколькими сайтами облегчает управление, проверку и просмотр состояния веб-сайтов. Помимо управления ресурсами веб-сайтов и соответствующих узлов для конкретного приложения, можно ассоциировать любой связанный с Azure ресурс, например базы данных SQL Azure, с командными проектами. 
 
##Когда следует создавать новую группу ресурсов и когда следует создавать новый план размещения веб-сайтов?##
 
При создании нового веб-сайта можно предпочесть создание новой группы ресурсов, если веб-сайт, который планируется создать, представляет новое веб-приложение. В этом случае рекомендуется создание новой группы ресурсов, а также связанного с ней плана размещения веб-сайтов и самих веб-сайтов.  При создании нового веб-сайта через предварительную версию нового портала Azure используйте коллекцию или новую опцию создания веб-сайта вместе с SQL - и портал по умолчанию создаст новую группу ресурсов и план размещения веб-сайтов для нового сайта. Тем не менее, если необходимо, можно заменить эти значения по умолчанию.
 
 
![Creating a new Web Hosting Plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview02.png)
 
 
Вы всегда можете добавить новый веб-сайт или любой другой ресурс в существующую группу ресурсов. При создании нового веб-сайта в контексте существующей группы ресурсов мастер создания веб-сайта по умолчанию соединит его с существующими ресурсами и планом размещения веб-сайтов. В данном случае также можно переписать настройки по умолчанию. При добавлении нового веб-сайта в существующую группу ресурсов вы можете добавить сайт в существующий план размещения веб-сайта (этот параметр установлен по умолчанию в предварительной версии нового портала Azure) или создать новый план размещения , в который будет добавлен веб-сайт.
 
Создание нового плана размещения позволяет выделить новый набор ресурсов для веб-сайтов и предоставляет дополнительные возможности для контроля выделенных ресурсов, поскольку каждый план размещения веб-сайтов получает свой собственный набор виртуальных машин. Поскольку можно перемещать веб-сайты между планами размещения веб-сайтов, то, считая что планы размещения веб-сайтов связаны с одними и теми же регионами, решение о том, создавать ли новый план размещения веб-сайтов, становится не столь уж и важным. Если определенный веб-сайт начинает потреблять слишком много ресурсов или вам просто необходимо отделить несколько веб-сайтов, вы можете создать новый план размещения и переместить в него свои веб-сайты.
 
Если требуется создать новый веб-сайт в другом регионе и для этого региона нет плана размещения веб-сайтов, необходимо создать план размещения в этом регионе и связать с ним создаваемый веб-сайт. 
 
Важно помнить,что перемещать планы размещения веб-сайтов или веб-сайты между группами ресурсов невозможно. Также нельзя переместить веб-сайт между двумя планами размещения веб-сайтов, которые расположены в разных регионах. 
 
##Существующая группа ресурсов на портале Azure (предварительная версия)##
 
Если у вас уже имеются веб-сайты Azure, можно увидеть их все на портале Azure (предварительная версия). Для просмотра всех своих веб-сайтов в виде плоского списка нажмите на кнопку **обзор** на левой навигационной панели и выберите **Веб-сайты**.
 
 
![See all your website as a flat list](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview03.png)
 
 
Для просмотра всех групп ресурсов, которые были созданы автоматически, нажмите на кнопку **обзор** на левой навигационной панели и выберите **Группы ресурсов**:.
 
 
![See all the resource groups that have been created](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview04.png)
 
 
Вы также заметите, что существует автоматически созданная группа ресурсов по умолчанию в каждом регионе, где у вас есть веб-сайты. Имя автоматически создаваемой группы ресурсов для веб-сайтов - *Default-Web-<ИМЯ РАСПОЛОЖЕНИЯ>*, где имя расположения представляет регион Azure (например, *Default-Web-WestUS*). В каждой группе ресурсов будут находиться все существующие веб-сайты для региона группы. Все сайты, которые были или будут созданы в полной версии портала Azure или в предварительной версии портала Azure, будут доступны в обоих порталах. 
 
Поскольку каждый веб-сайт должен быть связан с планом размещения веб-сайтов, мы создали план размещения по умолчанию для ваших уже существующих узлов в каждом регионе в соответствии со следующим соглашением.
 
* Все веб-сайты с планом**Free** связаны с планом размещения веб-сайтов **По умолчанию**; при этом установлена ценовая категория **Free**. 
 
* Все веб-сайты с планом**Shared** связаны с планом размещения веб-сайтов **По умолчанию**; при этом установлена ценовая категория **Shared**
 
* Все веб-сайты с планом**Standard** связаны с планом размещения веб-сайтов по умолчанию; при этом установлена ценовая категория **Standard**. 
 
Этот план размещения веб-сайтов называется **DefaultServerFarm**. Имя выбрано для поддержки API прежних версий. Имя **ServerFarm** может немного ввести в заблуждение, поскольку относится к **плану размещения веб-сайтов**, но важно отметить, что это имя плана размещения веб-сайтов, а не отдельный элемент сам по себе. 
 
##Вопросы и ответы по планам размещения веб-сайтов##
 
**Вопрос.** Как создать план размещения веб-сайтов?
 
**Ответ**. План размещения веб-сайтов - это контейнер, и в силу этого нельзя создать пустой план размещения веб-сайтов. При этом новый план размещения веб-сайтов явно создается во время создания сайта.
 
Для этого в пользовательском интерфейсе новой **предварительной версии портала Azure** щелкните **СОЗДАТЬ** и выберите **Веб-сайт**, после чего откроется модуль создания веб-сайта. На первом из приведенных ниже рисунков показан значок **СОЗДАТЬ** слева внизу, а на втором - модуль создания **веб-сайта**, модуль **План размещения веб-сайтов** и модуль **Ценовая категория**.
 
 
![Create a new website](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview05.png)
 
 
![Website, Web Hosting Plan and pricing tier blades](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview06.png)
 
 
В данном примере мы выбираем создание нового веб-сайта с именем **contosomarketing** и размещаем его в новом плане размещения веб-сайтов с именем **contoso**. Уровень цен для этого плана размещения веб-сайтов - **Small Standard**. Подробнее о ценовых категориях планов размещения веб-сайтов, а также о функциях, ценах и объемах ресурсов в рамках каждой категории см. на странице [Спецификации планов размещения веб-сайтов Azure](http://go.microsoft.com/?linkid=9845586). 
 
Следует также отметить, что план размещения веб-сайтов может также быть создан в существующем портале Azure. Это выполняется при работе мастера **быстрого создания** путем выбора пункта **Создать новый план размещения веб-сайтов** в раскрывающемся списке **ПЛАН РАЗМЕЩЕНИЯ ВЕБ-САЙТОВ**.
 
 
![Create new web hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview07.png)
 
 
В данном примере мы создадим новый узел **northwind** и новый план размещения веб-сайтов. Результатом этой операции будет новый план размещения веб-сайтов **default0**, который содержит веб-сайт **northwind**. Все созданные таким образом планы размещения веб-сайтов следуют соглашению об именовании, и планы размещения веб-сайтов нельзя переименовать после создания. Созданные таким образом планы размещения веб-сайтов будут относиться к ценовой категории **Free**.
 
**Вопрос.** Как назначить веб-сайту **План размещения веб-сайтов**?
 
**Ответ**. Веб-сайты назначаются в план размещения веб-сайтов в процессе создания. Для этого в пользовательском интерфейсе новой **предварительной версии портала Azure** щелкните **СОЗДАТЬ** и выберите **Веб-сайт**, после чего откроется модуль создания веб-сайта.
 
 
![Create a new website](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview08.png)
 
 
В модуле создания веб-сайта выберите план размещения.
 
 
![Select a hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview09.png)
 
 
Сайт также может быть создан в конкретном плане размещения с помощью существующего портала Azure. Это делается в рамках мастера **быстрого создания**. После ввода URL-адреса веб-сайта выберите в раскрывающемся списке **ПЛАН РАЗМЕЩЕНИЯ ВЕБ-САЙТОВ** план, к которому будет добавлен узел.
 
 
![Select a hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview10.png)
 
 
**Вопрос.** Как переместить веб-сайт в другой план размещения веб-сайтов?
 
**Ответ**. Можно переместить веб-сайт в другой план размещения веб-сайтов с использованием предварительной версии портала Azure. Веб-сайты можно перемещать между планами размещения в пределах одного географического региона или в пределах одной группы ресурсов.
 
Для перемещения узла в другой план перейдите в модуль веб-сайта, который вы собираетесь переместить.  Затем щелкните **План размещения веб-сайтов**.
 
 
![Choose a new or existing web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview22.png)
 
 
Откроется модуль "План размещения веб-сайтов". На этом шаге можно выбрать существующий план размещения веб-сайтов или создать новый. Планы с другими географическими регионами или группами ресурсов отображаются серым цветом, и их нельзя выбрать.
 
Обратите внимание, что каждый план размещения веб-сайтов имеет свою ценовую категорию. При перемещении сайта из плана размещения веб-сайтов категории **Free** в план размещения веб-сайтов **Standard** веб-сайт получит все функции и ресурсы категории Standard. 
 
 
**Вопрос.** Как масштабировать план размещения веб-сайтов?
 
**Ответ**. Есть два способа масштабировать план размещения веб-сайтов. Один - это масштабирование вверх плана размещения веб-сайтов и всех сайтов, связанных с ним. При изменении ценовой категории плана размещения веб-сайтов все сайты из этого плана получат функции и ресурсы новой ценовой категории. 
 
На рисунке внизу показаны модули **План размещения веб-сайтов** и **Ценовая категория**. При нажатии на пункт **Ценовая категория** модуля **План размещения веб-сайтов** раскроется модуль **Ценовая категория**, в котором можно изменить ценовую категорию плана размещения веб-сайтов.
 
 
![The Web Hosting Plan blade and the Pricing Tier](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview16.png)
 
 
Второй способ масштабирования плана - это увеличение числа экземпляров в вашем плане размещения веб-сайтов. На рисунке внизу видно лезвие **План размещения веб-сайтов** и лезвие **Масштабирование**. Если нажать на область "Масштабирование" модуля **План размещения веб-сайтов**, она откроется и в ней можно будет изменить количество экземпляров плана размещения.
 
 
![Changing the instance count of a hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview17.png)
 
 
Так как для плана размещения веб-сайтов, приведенного на рисунке выше, установлена ценовая категория **Standard**, параметр **Автомасштабирование** включен. 
 
Чтобы сделать это в полной версии портала Azure, необходимо перейти на вкладку **Масштабирование**, как показано ниже.
 
 
![Changing the instance count of a hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview18.png)
 
 
**Вопрос.** Как удалить план размещения веб-сайтов?
 
**Ответ**. Чтобы удалить план размещения веб-сайтов, вначале необходимо удалить все веб-сайты, связанные с ним. После удаления всех веб-сайтов из плана размещения веб-сайтов этот план может быть удален из модуля "План размещения веб-сайтов".
 
 
![Deleting a web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview19.png)
 
 
В полной версии портала Azure при удалении последнего веб-сайта из плана размещения этот план удаляется автоматически.
 
**Вопрос.** Как контролировать планы размещения веб-сайтов?
 
**Ответ**. Планы размещения веб-сайтов можно контролировать с помощью инструментов мониторинга в модуле "План размещения веб-сайтов".
 
 
![Monitoring a web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview20.png)
 
 
Элементы управления мониторингом можно настроить, щелкнув правой кнопкой мыши элемент управления и выбрав **редактировать запрос**.
 
 
![Editing the monitoring controls](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview21.png)
 
 
Отображаются следующие метрики.
 
* Процент использования ЦП
 
* Процент использования памяти
 
* Длина дисковой очереди 
 
* Длина очереди HTTP 
 
Эти значения представляют собой средние показатели использования по экземплярам, принадлежащим к плану размещения веб-сайтов. Все эти показатели можно использовать для установки оповещений, а также для правил автомасштабирования.
 
##Заключение##
 
Планы размещения веб-сайтов представляют собой набор компонентов и возможностей, которые можно использовать по всем веб-сайтам.  План размещения веб-сайтов позволяет гибко относить определенные сайты к конкретному набору ресурсов (виртуальным машинам), и таким образом оптимизировать выделение ресурсов Azure и использование веб-сайтов. 
