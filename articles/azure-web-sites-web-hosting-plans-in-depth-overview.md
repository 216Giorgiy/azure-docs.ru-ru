<properties title="Azure Websites Web Hosting Plans In-Depth Overview" pageTitle="Azure Websites Web Hosting Plans In-Depth Overview - Windows Azure feature guide" description="Learn how Web Hosting Plans for Azure Websites work, and how they benefit your management experience." metaKeywords="Azure Web Sites, Azure Websites, WHP, Web Hosting Plan, Web Hosting Plans, Resource Groups" services="web-sites" solutions="web" documentationCenter="Infrastructure" authors="Byron Tardif and Yochay Kiryaty" videoId="" scriptId="" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="Byron Tardif and Yochay Kiryaty"/>
</br>

# Детальный обзор планов размещения веб-сайтов Azure

</br>
Планы размещения веб-сайтов представляют собой набор компонентов и возможностей, которые можно использовать по всем веб-сайтам. Планы размещения веб-сайтов поддерживают 4 ценовых уровня веб-сайтов Azure (Free, Shared, Basic и Standard), где каждый уровень имеет свои возможности и объем. Сайты в одной подписке, группе ресурсов и географическом расположении могут совместно использовать один план размещения веб-сайтов. Все сайты, совместно использующие план размещения веб-сайтов, могут пользоваться всеми возможностями и компонентами, определенными для уровня плана размещения веб-сайтов. Все веб-сайты, связанные с конкретным планом размещения веб-сайтов, выполняются на ресурсах, определенных планом размещения веб-сайтов. Например, если план размещения веб-сайтов настроен на использование двух "малых" виртуальных машин, все сайты, связанные с этим планом, будут запущены на обоих виртуальных машинах. Как и для всех веб-сайтов Azure, виртуальные машины, на которых запущены веб-сайты, полностью управляемы и высокодоступны.
</br>
В этой статье описываются важные характеристики, такие как уровень и масштаб плана размещения веб-сайтов, и то, как они задействуются при управлении веб-сайтами.
</br>

## Веб-сайты, планы размещения веб-сайтов и группы ресурсов

</br>
Веб-сайт может быть связан с только одним планом размещения веб-сайтов в данный момент времени. План размещения веб-сайтов связан с группой ресурсов. Группа ресурсов — новая концепция в Azure, которая выступает как граница жизненного цикла для каждого ресурса, содержащегося в ней. Группы ресурсов дают возможность управлять всеми частями приложения вместе.
</br>
Можно иметь несколько планов размещения веб-сайтов в группе ресурсов, и каждый план размещения будет иметь свой собственный набор компонентов и возможностей, которые используются связанными с ним веб-сайтами. Следующий рисунок иллюстрирует такую взаимосвязь:
</br>
</br>
![Группы ресурсов и планы размещения веб-сайтов][Группы ресурсов и планы размещения веб-сайтов]
</br>
</br>
Возможность иметь несколько планов размещения веб-сайтов в единой группе ресурсов позволяет выделять разным сайтам разные ресурсы, прежде всего виртуальные машины, на которых запускаются веб-сайты. Например, такая возможность позволяет разделить ресурсы между сайтами разработки и тестирования и производственными сайтами, и можно назначить один план размещения веб-сайтов со своим особым набором ресурсов для производственных сайтов, а второй план размещения веб-сайтов — для сайтов разработки и тестирования.
</br>
Наличие нескольких планов размещения веб-сайтов позволяет создать приложение, которое охватывает несколько регионов. Например, высокодоступный веб-сайт, запущенный в двух регионах, будет включать два веб-сайта, — по одному для каждого региона, — и по одному веб-сайту для каждого плана размещения веб-сайтов. В таком случае все сайты будут связаны с единственной группой ресурсов, которая определяет одно приложение. Наличие единого представления группы ресурсов с несколькими планами размещения веб-сайтов и несколькими сайтами облегчает управление, проверку и просмотр состояния веб-сайтов. Помимо управления ресурсами веб-сайтов и соответствующих сайтов для конкретного приложения, можно ассоциировать любой связанный с Azure ресурс, такой как базы данных SQL Azure, с командными проектами.
</br>

## Когда следует создавать новую группу ресурсов и когда следует создавать новый план размещения веб-сайтов?

</br>
При создании нового веб-сайта можно предпочесть создание новой группы ресурсов, если веб-сайт, который планируется создать, представляет новое веб-приложение. В этом случае создание новой группы ресурсов, связывание ее с планом размещения веб-сайтов и веб-сайтами будет правильным выбором. При создании нового веб-сайта через предварительную версию нового портала Azure используйте коллекцию или новую возможность создания веб-сайта с SQL, и портал по умолчанию создаст новую группу ресурсов и план размещения веб-сайтов для нового сайта. При необходимости можно переписать настройки по умолчанию.
</br>
</br>
![Создание нового плана размещения веб-сайтов][Создание нового плана размещения веб-сайтов]
</br>
</br>
Можно всегда добавить новые веб-сайты или любые другие ресурсы в существующую группу ресурсов. При создании нового веб-сайта в контексте существующей группы ресурсов мастер создания веб-сайта по умолчанию соединит его с существующими ресурсами и планом размещения веб-сайтов. В данном случае также можно переписать настройки по умолчанию. При добавлении нового веб-сайта к существующей группе ресурсов можно добавить сайт к существующему плану размещения веб-сайтов (это стандартный вариант в пробной версии нового портала Azure) или создать новый план размещения веб-сайтов, к которому и добавить сайт.
</br>
Создание нового плана размещения веб-сайтов позволяет выделить новый набор ресурсов для веб-сайта и обеспечить больше возможностей управления выделением ресурсов, поскольку каждый план размещения веб-сайтов получает свой собственный набор виртуальных машин. Поскольку можно перемещать веб-сайты между планами размещения веб-сайтов, то, считая что планы размещения веб-сайтов связаны с одними и теми же регионами, решение о том, создавать ли новый план размещения веб-сайтов, становится не столь уж и важным. Если отдельный веб-сайт потребляет слишком много ресурсов или нужно отделить некоторые веб-сайты, можно создать новый план размещения веб-сайтов и перенести веб-сайты в него.
</br>
Если требуется создать новый веб-сайт в другом регионе и этот регион не имеет существующего плана размещения веб-сайтов, придется создать новый план размещения веб-сайтов в этом регионе, чтобы связать с ним веб-сайт.
</br>
Важно помнить, что нельзя перемещать планы размещения веб-сайтов или веб-сайты между группами ресурсов. Также нельзя переместить веб-сайт между двумя планами размещения веб-сайтов, которые расположены в разных регионах.
</br>

## Существующая группа ресурсов на портале Azure (предварительная версия)

</br>
Если у вас уже имеются веб-сайты Azure, можно увидеть их все на портале Azure (предварительная версия). Можно увидеть веб-сайты в виде простого списка, нажав кнопку **обзор** на левой панели навигации и выбрав **Веб-сайты**:
</br>
</br>
![Просмотреть все веб-сайты в виде простого списка][Просмотреть все веб-сайты в виде простого списка]
</br>
</br>
Можно также увидеть все группы ресурсов, которые были созданы, нажав кнопку **обзор** на левой панели навигации и выбрав **Группы ресурсов**:
</br>
</br>
![Просмотреть все группы ресурсов, которые были созданы][Просмотреть все группы ресурсов, которые были созданы]
</br>
</br>
Можно заметить, что в каждом регионе, где уже есть веб-сайты, имеется автоматически созданная группа ресурсов по умолчанию. Имя автоматически создаваемой группы ресурсов для веб-сайтов — *Default-Web-<location name>*, где имя расположения представляет регион Azure (например, *Default-Web-WestUS*). В каждой группе ресурсов будут находиться все существующие веб-сайты для региона группы. Каждый сайт, созданный ранее и создаваемый в будущем либо на пробном, либо на полнофункциональном портале Azure, будет доступен на обоих порталах
</br>
Поскольку каждый веб-сайт должен быть связан с планом размещения веб-сайтов, для существующих веб-сайтов в каждом регионе созданы планы размещения веб-сайтов по умолчанию с учетом следующего соглашения:
</br>

-   Все веб-сайты **Free** связываются с планом размещения веб-сайтов **По умолчанию**, и уровень цен установлен как **Free**.
    </br>
-   Все веб-сайты **Shared** связываются с планом размещения веб-сайтов **По умолчанию**, и уровень цен установлен как **Shared**
    </br>
-   Все веб-сайты **Standard** связываются с планом размещения веб-сайтов по умолчанию, и уровень цен установлен как **Standard**.
    </br>
    Имя этого плана размещения веб-сайтов — **DefaultServerFarm**. Имя выбрано для поддержки API прежних версий. Имя **ServerFarm** может немного ввести в заблуждение, поскольку относится к **плану размещения веб-сайтов**, но важно отметить, что это имя плана размещения веб-сайтов, а не отдельный элемент сам по себе.
    </br>

    ## Вопросы и ответы по планам размещения веб-сайтов

    </br>
    **Вопрос.** Как создать план размещения веб-сайтов
    </br>
    **Ответ.** План размещения веб-сайтов — это контейнер, и в силу этого нельзя создать пустой план размещения веб-сайтов. Однако новый план размещения веб-сайтов обязательно создается при создании веб-сайта.
    </br>
    Для этого в интерфейсе нового **портала Azure (предварительная версия)** щелкните **Создать** и выберите **Веб-сайт**, после чего откроется лезвие создания веб-сайта. На первом рисунке внизу можно увидеть значок **Создать** внизу слева, а на втором рисунке можно увидеть лезвие создания **веб-сайта**, лезвие **План размещения веб-сайтов** и **Уровень цен**:
    </br>
    </br>
    ![Создать новый веб-сайт][Создать новый веб-сайт]
    </br>
    </br>
    ![лезвия веб-сайта, плана размещения веб-сайтов и уровня цен][лезвия веб-сайта, плана размещения веб-сайтов и уровня цен]
    </br>
    </br>
    Для этого примера выбрано создание нового веб-сайта **contosomarketing** и его помещение в новый план размещения веб-сайтов **contoso**. Уровень цен для этого плана размещения веб-сайтов — **Small Standard**. Дополнительные сведения по уровням цен планов размещения веб-сайтов, а также по компонентам, ценам и возможностям масштабирования в каждом из них см. в документе [Спецификация по планам размещения веб-сайтов Azure][Спецификация по планам размещения веб-сайтов Azure].
    </br>
    Следует отметить, что план размещения веб-сайтов может быть создан на существующем портале Azure. Это выполняется в рамках мастера **быстрого создания** путем выбора вариант **Создать новый план размещения веб-сайтов** в раскрывающемся меню **План размещения веб-сайтов**
    </br>
    </br>
    ![Создать новый план размещения веб-сайтов на существующем портале][Создать новый план размещения веб-сайтов на существующем портале]
    </br>
    </br>
    Для этого примера создается новый сайт с именем **northwind** и выбирается создание нового плана размещения веб-сайтов. Результатом этой операции будет новый план размещения веб-сайтов **default0**, который содержит веб-сайт **northwind**. Все созданные таким образом планы размещения веб-сайтов следуют соглашению об именовании, и планы размещения веб-сайтов нельзя переименовать после создания. Также планы размещения веб-сайтов, созданные таким образом, будут созданы на уровне цен **Free**
    </br>
    **Вопрос.** Как назначить веб-сайт в **план размещения веб-сайтов**?
    </br>
    **Ответ.** Веб-сайты назначаются в план размещения веб-сайтов в процессе создания. Чтобы сделать это в интерфейсе нового **портала Azure предварительной версии**, щелкните **Создать** и выберите **Веб-сайт**:
    </br>
    </br>
    ![Создать новый веб-сайт][1]
    </br>
    </br>
    Затем в лезвии создания веб-сайта выберите план размещения веб-сайтов:
    </br>
    </br>
    ![Выбор плана размещения][Выбор плана размещения]
    </br>
    </br>
    Веб-сайт может быть создан также для конкретного плана размещения веб-сайтов на существующем портале Azure. Это делается в рамках мастера **быстрого создания**. После ввода URL-адреса веб-сайта используйте раскрывающееся меню **План размещения веб-сайтов** для выбора плана:
    </br>
    </br>
    ![Выбор плана размещения на существующем портале][Выбор плана размещения на существующем портале]
    </br>
    </br>
    **Вопрос.** Как переместить веб-сайт в другой план размещения веб-сайтов?
    </br>
    **Ответ.** Можно переместить веб-сайт в другой план размещения веб-сайтов с использованием предварительной версии портала Azure. Переместить веб-сайты между планами размещения веб-сайтов можно только в одном и том же географическом регионе и одной и той же группе ресурсов.
    </br>
    Для перемещения сайта в другой план перейдите к лезвию веб-сайта на сайте, который нужно переместить. Затем щелкните **План размещения веб-сайтов**:
    </br>
    </br>
    ![Выберите новый или существующий план размещения веб-сайтов][Выберите новый или существующий план размещения веб-сайтов]
    </br>
    </br>
    Откроется лезвие плана размещения веб-сайтов. На этом шаге можно выбрать существующий план размещения веб-сайтов или создать новый. Планы в различных географических расположениях или группах ресурсов выделены серым, и их нельзя выбрать.
    </br>
    Учтите, что каждый план размещения веб-сайтов имеет свой уровень цен. При перемещении сайта из плана размещения веб-сайтов уровня **Free** в план размещения веб-сайтов **Standard** веб-сайт получит все функции и ресурсы уровня "Standard"
    </br>
    </br>
    **Вопрос.** Как масштабировать план размещения веб-сайтов?
    </br>
    **Ответ.** Есть два способа масштабировать план размещения веб-сайтов. Один — это масштабирование вверх плана размещения веб-сайтов и всех сайтов, связанных с ним. При изменении уровня цен плана размещения веб-сайтов все сайты в нем получат все функции и ресурсы, определенные уровнем цен.
    </br>
    На рисунке внизу можно увидеть лезвие **План размещения веб-сайтов** и лезвие **Уровень оплаты**. Щелкните раздел **Уровень цен** в лезвии **План размещения веб-сайтов**, чтобы открыть лезвие **Уровень цен**, где можно изменить уровень цен для плана размещения веб-сайтов:
    </br>
    </br>
    ![План размещения веб-сайтов и уровень цен][План размещения веб-сайтов и уровень цен]
    </br>
    </br>
    Второй способ масштабировать план — это масштабирование вширь за счет увеличения числа экземпляров в плане размещения веб-сайтов. На рисунке внизу видно лезвие **План размещения веб-сайтов** и лезвие **Масштабирование**. Щелкните область "Масштабирование" в лезвии **План размещения веб-сайтов**, чтобы раскрыть его и изменить число экземпляров в плане:
    </br>
    </br>
    ![Изменение числа экземпляров в плане размещения][Изменение числа экземпляров в плане размещения]
    </br>
    </br>
    Поскольку план размещения веб-сайтов на рисунке выше настроен на использование уровня цен **Standard**, включено **Автомасштабирование**.
    </br>
    Сделать это же на полнофункциональном портале Azure можно на вкладке **Масштабирование**, как показано ниже:
    </br>
    </br>
    ![Изменение числа экземпляров в плана размещения на существующем портале][Изменение числа экземпляров в плана размещения на существующем портале]
    </br>
    </br>
    **Вопрос.**: Как удалить план размещения веб-сайтов?
    </br>
    **Ответ.** Чтобы удалить план размещения веб-сайтов, вначале необходимо удалить все веб-сайты, связанные с ним. Как только все веб-сайты, связанные с планом размещения веб-сайтов, будут удалены, план размещения веб-сайтов можно удалить в лезвии "План размещения веб-сайтов":
    </br>
    </br>
    ![Удаление плана размещения веб-сайтов][Удаление плана размещения веб-сайтов]
    </br>
    </br>
    На полнофункциональном портале Azure удаление последнего веб-сайта в плане размещения веб-сайтов автоматически удалит связанный план размещения веб-сайтов.
    </br>
    **Вопрос.** Как наблюдать за планом размещения веб-сайтов?
    </br>
    **Ответ.** За планом размещения веб-сайтов можно наблюдать, используя элементы мониторинга в лезвии "План размещения веб-сайтов":
    </br>
    </br>
    ![Мониторинг плана размещения веб-сайтов][Мониторинг плана размещения веб-сайтов]
    </br>
    </br>
    Элементы управления мониторинга можно настраивать, щелкая правой кнопкой мыши элемент и выбирая **Редактировать запрос**:
    </br>
    </br>
    ![Редактирование элементов управления мониторинга][Редактирование элементов управления мониторинга]
    </br>
    </br>
    Показанные значения:
    </br>

-   Процент использования ЦП
    </br>
-   Процент использования памяти
    </br>
-   Длина дисковой очереди
    </br>
-   Длина очереди HTTP.
    </br>
    Эти значения представляют средние показатели использования по экземплярам, принадлежащим к плану размещения веб-сайтов. Все эти показатели можно использовать для установки оповещений, а также для правил автомасштабирования.
    </br>

    ## Заключение

    </br>
    Планы размещения веб-сайтов представляют собой набор компонентов и возможностей, которые можно использовать по всем веб-сайтам. План размещения веб-сайтов позволяет гибко относить определенные сайты к конкретному набору ресурсов (виртуальным машинам), и таким образом оптимизировать выделение ресурсов Azure и использование веб-сайтов.

  [Группы ресурсов и планы размещения веб-сайтов]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview01.png
  [Создание нового плана размещения веб-сайтов]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview02.png
  [Просмотреть все веб-сайты в виде простого списка]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview03.png
  [Просмотреть все группы ресурсов, которые были созданы]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview04.png
  [Создать новый веб-сайт]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview05.png
  [лезвия веб-сайта, плана размещения веб-сайтов и уровня цен]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview06.png
  [Спецификация по планам размещения веб-сайтов Azure]: http://go.microsoft.com/?linkid=9845586
  [Создать новый план размещения веб-сайтов на существующем портале]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview07.png
  [1]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview08.png
  [Выбор плана размещения]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview09.png
  [Выбор плана размещения на существующем портале]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview10.png
  [Выберите новый или существующий план размещения веб-сайтов]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview22.png
  [План размещения веб-сайтов и уровень цен]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview16.png
  [Изменение числа экземпляров в плане размещения]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview17.png
  [Изменение числа экземпляров в плана размещения на существующем портале]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview18.png
  [Удаление плана размещения веб-сайтов]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview19.png
  [Мониторинг плана размещения веб-сайтов]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview20.png
  [Редактирование элементов управления мониторинга]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview21.png
