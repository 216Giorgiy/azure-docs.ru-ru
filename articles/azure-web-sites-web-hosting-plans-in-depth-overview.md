<properties title="Azure Websites Web Hosting Plans In-Depth Overview" pageTitle="Подробный обзор планов размещения веб-сайтов Azure - руководство по компонентам Microsoft Azure" description="Узнайте, как работают планы размещения веб-сайтов Azure и чем они удобны для вашей среды управления." metaKeywords="Azure Web Sites, Azure Websites, WHP, Web Hosting Plan, Web Hosting Plans, Resource Groups" services="web-sites" solutions="web" documentationCenter="Infrastructure" authors="Byron Tardif and Yochay Kiryaty" videoId="" scriptId="" manager="wpickett" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="11/17/2014" ms.author="Byron Tardif and Yochay Kiryaty" />
</br>
#Подробный обзор планов размещения веб-сайтов Azure#
</br>
Планы размещения веб-сайтов (WHP) представляют собой набор компонентов и ресурсов, которые могут совместно использоваться веб-сайтами.  Планы размещения веб-сайтов поддерживают 4 ценовых уровня веб-сайтов Azure (Free, Shared, Basic и Standard), где каждый уровень имеет свои возможности и объем.  Сайты в одной подписке, группе ресурсов и географическом расположении могут совместно использовать один план размещения веб-сайтов. Все сайты, совместно использующие план размещения веб-сайтов, могут пользоваться всеми возможностями и компонентами, определенными для уровня плана размещения веб-сайтов. Все веб-сайты, связанные с конкретным планом размещения веб-сайтов, выполняются на ресурсах, определенных планом размещения веб-сайтов. Например, если план размещения веб-сайтов настроен на использование двух "малых" виртуальных машин, все сайты, связанные с этим планом, будут запущены на обоих виртуальных машинах. Как и для веб-сайтов Azure, виртуальные машины, на которых работают сайты, полностью управляемы и имеют высокую доступность.
</br>
В этой статье рассматриваются ключевые характеристики, такие как ценовая категория и объем плана размещения веб-сайтов, а также его роль в управлении вашими веб-сайтами. 
</br>
##веб-сайты, планы размещения веб-сайтов, ресурсные группы##
</br>
Веб-сайт в конкретный момент времени может быть связан лишь с одним планом размещения. План размещения веб-сайтов связан с группой ресурсов. Группы ресурсов - это новая концепция в Azure, которая определяет жизненный цикл для каждого ресурса, содержащегося в группе. Группы ресурсов позволяют совместно управлять всеми частями приложения. 
</br>
У вас может быть несколько планов размещения веб-сайтов в пределах одной группы ресурсов. При этом каждый план будет иметь свой собственный набор функций и ресурсов, используемых связанными с ним узлами.  Эта взаимосвязь показана на следующем рисунке.
</br>
</br>
![Resource Groups and Web Hosting Plans](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview01.png)
</br>
</br>
Возможность иметь несколько планов размещения веб-сайтов в одной группе ресурсов позволяет выделять разным сайтам различные ресурсы, в основном виртуальные машины для выполнения сайтов. Например, это дает возможность разделить ресурсы между сайтами в процессе разработки, тестирования и производства. Можно назначить один план размещения со своим набором ресурсов для рабочих сайтов, а второй для разрабатываемых и тестируемых сайтов. 
</br>
Наличие нескольких планов размещения в одной группе ресурсов также позволяет создать приложение, которое охватывает несколько регионов. Например, веб-сайт высокой доступности, работающий в двух регионах, будет содержать два плана размещения, по одному на регион, и один веб-сайт, связанный с каждым из планов размещения. В таком случае все сайты будут связаны с единственной группой ресурсов, которая определяет одно приложение.  Наличие единого представления группы ресурсов с несколькими планами размещения веб-сайтов и несколькими сайтами облегчает управление, проверку и просмотр состояния веб-сайтов. Кроме управления веб-сайтами и ресурсами для них в рамках приложения можно назначить любой связанный ресурс Azure, например базу данных SQL Azure и командный проект. 
</br>
##Когда необходимо создавать новую группу ресурсов и новый план размещения веб-сайтов?##
</br>
При разработке нового веб-сайта стоит задуматься о создании новой группы ресурсов, если планируемый сайт будет представлять новое веб-приложение. В этом случае создание новой группы ресурсов, связывание ее с планом размещения веб-сайтов и веб-сайтами будет правильным выбором.  При создании такого веб-сайта через портал предварительной версии Azure из коллекции или через пункт "Новый веб-сайт + SQL" портал по умолчанию создаст новую группу ресурсов и план размещения сайта. При необходимости можно изменить эти действия по умолчанию.
</br>
</br>
![Creating a new Web Hosting Plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview02.png)
</br>
</br>
Вы всегда можете добавить новый веб-сайт или любой другой ресурс в существующую группу ресурсов. При создании нового веб-сайта в контексте существующей группы ресурсов мастер создания веб-сайта по умолчанию соединит его с существующими ресурсами и планом размещения веб-сайтов. В данном случае также можно переписать настройки по умолчанию. При добавлении нового веб-сайта в существующую группу ресурсов можно добавить сайт к существующему плану размещения (это вариант по умолчанию на портале новой предварительной версии Azure) или создать новый план размещения, куда сайт будет добавлен впоследствии.
</br>
Создание нового плана размещения позволяет выделить новый набор ресурсов для веб-сайтов и предоставляет дополнительные возможности для контроля выделенных ресурсов, поскольку каждый план размещения веб-сайтов получает свой собственный набор виртуальных машин. Поскольку можно перемещать веб-сайты между планами размещения веб-сайтов, то, считая что планы размещения веб-сайтов связаны с одними и теми же регионами, решение о том, создавать ли новый план размещения веб-сайтов, становится не столь уж и важным. Если некоторый веб-сайт начинает потреблять слишком много ресурсов, то можно создать новый план размещения и переместить веб-сайты туда.
</br>
Если требуется создать новый веб-сайт в другом регионе и для этого региона нет плана размещения веб-сайтов, необходимо создать план размещения в этом регионе и связать с ним создаваемый веб-сайт. 
</br>
Важно помнить,что перемещать планы размещения веб-сайтов или веб-сайты между группами ресурсов невозможно. Также нельзя переместить веб-сайт между двумя планами размещения веб-сайтов, которые расположены в разных регионах. 
</br>
##Существующие группы ресурсов на портале предварительной версии Azure##
</br>
Если уже имеются веб-сайты в службе веб-сайтов Azure, то все они будут показаны на портале предварительной версии Azure. Можно посмотреть полный список своих веб-сайтов, нажав кнопку **Обзор** на левой панели навигации и выбрав категорию **Веб-сайты**.
</br>
</br>
![See all your website as a flat list](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview03.png)
</br>
</br>
Кроме того, можно посмотреть все созданные группы ресурсов, нажав кнопку **Обзор** на левой панели навигации и выбрав категорию **Группы ресурсов**.
</br>
</br>
![See all the resource groups that have been created](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview04.png)
</br>
</br>
Вы также заметите, что существует автоматически созданная группа ресурсов по умолчанию в каждом регионе, где у вас есть веб-сайты. Имя группы ресурсов, автоматически созданной для веб-сайтов, будет таким: * Default-Web-<LOCATION NAME>*, где LOCATION NAME - это регион Azure (например, *Default-Web-WestUS*). В каждой группе ресурсов будут находиться все существующие веб-сайты для региона группы. Каждый сайт, созданный ранее или только планируемый на портале полной или предварительной версии Azure, будет доступен на обоих порталах. 
</br>
Поскольку каждый веб-сайт должен быть связан с планом размещения веб-сайтов, мы создали план размещения по умолчанию для ваших уже существующих узлов в каждом регионе в соответствии со следующим соглашением.
</br>
* Все веб-сайты **Free** назначаются плану размещения **Default**, его уровень цен задается как **Free**. 
</br>
* Все веб-сайты **Shared** назначаются плану размещения **Default**, его уровень цен задан как **Shared**
</br>
* Все веб-сайты **Standard** назначаются плану размещения по умолчанию, его уровень цен задан как **Standard**. 
</br>
Название этого плана размещения - **DefaultServerFarm**. Имя выбрано для поддержки API прежних версий. Возможно, имя **ServerFarm** немного сбивает с толку, т. к. оно относится к **плану размещения веб-сайтов**, но важно помнить, что это всего лишь название плана, а не какой-то отдельный объект системы. 
</br>
##Часто задаваемые вопросы по планам размещения веб-сайтов.##
</br>
**Вопрос**. Как создать план размещения веб-сайтов?
</br>
**Ответ**. План размещения - это контейнер, поэтому пустой план создать нельзя. План размещения формируется при создания сайта.
</br>
Чтобы сделать это на новом **портале предварительной версии Azure**, щелкните значок **Создать** и выберите **Веб-сайт**. Откроется колонка создания сайта. На первом изображении виден значок **Создать** в нижнем левом углу, на втором рисунке показаны колонки создания **веб-сайта**, **плана размещения** и **уровень цен**.
</br>
</br>
![Create a new website](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview05.png)
</br>
</br>
![Website, Web Hosting Plan and pricing tier blades](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview06.png)
</br>
</br>
В этом примере мы решили создать новый веб-сайт **contosomarketing** и поместить его в новый план размещения **contoso**. Для плана размещения выбран уровень цен **Small Standard**. Дополнительные сведения об уровнях цен для планов размещения, а также о функциях, ценах и вариантах масштабирования каждого уровня см. в [спецификациях планов размещения веб-сайтов Azure](http://go.microsoft.com/?linkid=9845586). 
</br>
Следует также отметить, что план размещения веб-сайтов может также быть создан в существующем портале Azure. Это делается в мастере **быстрого создания**, для этого нужно выбрать команду **Создать новый план размещения** в раскрывающемся списке **ПЛАН РАЗМЕЩЕНИЯ ВЕБ-САЙТОВ**.
</br>
</br>
![Create new web hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview07.png)
</br>
</br>
В этом примере мы создадим новый сайт **northwind** и выберем вариант с новым планом размещения. В результате получится новый план размещения **default0**, содержащий сайт **northwind**. Все созданные таким образом планы размещения веб-сайтов следуют соглашению об именовании, и планы размещения веб-сайтов нельзя переименовать после создания. Кроме того, планы размещения, созданные в рамках этой процедуры, будут иметь уровень цен **Free**.
</br>
**Вопрос**. Как назначить сайт **плану размещения**?
</br>
**Ответ**. Веб-сайты назначаются в план размещения веб-сайтов в процессе создания. Для этого на новом **портале предварительной версии Azure** щелкните **СОЗДАТЬ** и выберите **Веб-сайт**.
</br>
</br>
![Create a new website](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview08.png)
</br>
</br>
В модуле создания веб-сайта выберите план размещения.
</br>
</br>
![Select a hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview09.png)
</br>
</br>
Сайт также может быть создан в конкретном плане размещения с помощью существующего портала Azure. Это делается с помощью мастера **быстрого создания**. Указав URL-адрес веб-сайта, выберите в раскрывающемся списке **ПЛАН РАЗМЕЩЕНИЯ** план, куда следует добавить сайт.
</br>
</br>
![Select a hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview10.png)
</br>
</br>
**Вопрос**. Как переместить сайт в другой план размещения?
</br>
**Ответ**. Можно переместить веб-сайт в другой план размещения веб-сайтов с использованием предварительной версии портала Azure. Веб-сайты можно перемещать между планами размещения в том же географическом регионе, что принадлежит той же группе ресурсов.
</br>
Чтобы переместить сайт в другой план, перейдите к колонке нужного веб-сайта.  Затем щелкните **План размещения**.
</br>
</br>
![Choose a new or existing web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview22.png)
</br>
</br>
Откроется модуль "План размещения веб-сайтов". На этом шаге можно выбрать существующий план размещения веб-сайтов или создать новый. Планы в других географических расположениях и группах ресурсов будут закрашены серым, их выбрать нельзя.
</br>
Обратите внимание, что каждый план размещения веб-сайтов имеет свою ценовую категорию. При перемещении сайта из плана размещения **Free** в **Standard** сайт сможет использовать все функции и ресурсы уровня Standard. 
</br>
</br>
**Вопрос**. Как масштабировать план размещения?
</br>
**Ответ**. Есть два способа масштабировать план размещения веб-сайтов. Первый - масштабировать план размещения и все сайты, связанные с ним. Если изменить уровень цен для плана размещения, то все сайты плана смогут использовать функции и ресурсы этого уровня. 
</br>
В приведенном ниже рисунке показана колонка **План размещения** и **Уровень цен**. Щелкнув раздел **Уровень цен** колонки **План размещения**, можно развернуть колонку **Уровень цен** и изменить уровень цен плана размещения веб-сайтов.
</br>
</br>
![The Web Hosting Plan blade and the Pricing Tier](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview16.png)
</br>
</br>
Второй способ масштабирования плана - увеличение числа экземпляров в плане. На приведенном ниже рисунке показана колонка **План размещения**, а также колонка **Масштабирование**. Щелкнув раздел "Масштабирование" колонки **План размещения**, можно изменить количество экземпляров в плане.
</br>
</br>
![Changing the instance count of a hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview17.png)
</br>
</br>
Поскольку план размещения на приведенном выше рисунке настроен на использование уровня цен **Standard**, включена функция **Автомасштабирование**. 
</br>
Выполнение этой операции на портале полной версии Azure проводится на вкладке **Масштабирование** (см. ниже).
</br>
</br>
![Changing the instance count of a hosting plan in the existing portal](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview18.png)
</br>
</br>
**Вопрос**. Как удалить план размещения веб-сайтов?
</br>
**Ответ**. Чтобы удалить план размещения веб-сайтов, вначале необходимо удалить все веб-сайты, связанные с ним. После удаления всех веб-сайтов из плана размещения его можно удалить из колонки "План размещения".
</br>
</br>
![Deleting a web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview19.png)
</br>
</br>
В полной версии портала Azure при удалении последнего веб-сайта из плана размещения этот план удаляется автоматически.
</br>
**Вопрос**. Как контролировать план размещения веб-сайтов?
</br>
**Ответ**. Планы размещения можно отслеживать в разделе "Мониторинг" колонки "План размещения".
</br>
</br>
![Monitoring a web hosting plan](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview20.png)
</br>
</br>
Элементы управления мониторингом можно настроить, щелкнув правой кнопкой мыши элемент управления и выбрав команду **Изменить запрос**.
</br>
</br>
![Editing the monitoring controls](./media/azure-web-sites-web-hosting-plans-in-depth-overview/azure-web-sites-web-hosting-plans-in-depth-overview21.png)
</br>
</br>
Отображаются следующие метрики.
</br>
* Процент использования ЦП
</br>
* Процент использования памяти
</br>
* Длина дисковой очереди 
</br>
* Длина очереди HTTP 
</br>
Эти значения представляют собой средние показатели использования по экземплярам, принадлежащим к плану размещения веб-сайтов. Все эти показатели можно использовать для установки оповещений, а также для правил автомасштабирования.
</br>
##Вывод и заключение##
</br>
Планы размещения веб-сайтов представляют собой набор компонентов и возможностей, которые можно использовать по всем веб-сайтам.  План размещения веб-сайтов позволяет гибко относить определенные сайты к конкретному набору ресурсов (виртуальным машинам), и таким образом оптимизировать выделение ресурсов Azure и использование веб-сайтов.

<!--HONumber=35.2-->
