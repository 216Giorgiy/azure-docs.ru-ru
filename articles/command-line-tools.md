<properties linkid="manage-linux-other-resources-command-line-tools" urlDisplayName="Средства командной строки" pageTitle="Средства командной строки Azure для Mac и Linux" metaKeywords="командная строка Azure, средства Azure для Mac, средства Azure для Linux" description="Узнайте о том, как использовать средство командной строки для Mac и Linux в Azure." metaCanonical="" services="web-sites,virtual-machines,mobile-services,cloud-services" documentationCenter="" title="" authors=""  solutions="" writer="larryfr" manager="" editor=""  />

#Средство командной строки Azure для Mac и Linux

Это средство предоставляет функциональные возможности для создания, развертывания и использования виртуальных машин, веб-сайтов и мобильных служб Azure с рабочих станций Mac и Linux. Эти функциональные возможности аналогичны командлетам Windows PowerShell, которые устанавливаются вместе с пакетами Azure SDK для .NET, Node.JS и PHP.

Чтобы установить средство в среде Mac, загрузите и запустите [установщик Azure SDK](http://go.microsoft.com/fwlink/?LinkId=252249)

Чтобы установить средство в среде Linux, установите последнюю версию Node.JS, а затем используйте NPM для установки.

    npm install azure-cli -g

Необязательные параметры заключены в квадратные скобки (например, [параметр]). Все остальные параметры являются обязательными.

Помимо описанных здесь необязательных параметров для конкретных команд существуют три необязательных параметра, которые можно использовать для отображения подробных выходных данных, например параметров запроса и кодов состояния. Параметр -v предоставляет подробные выходные данные, а параметр -vv — еще более подробные выходные данные. Параметр --json будет выводить результат в необработанном JSON-формате.

**Оглавление:**

* [Управление сведениями об учетной записи и параметрами публикации](#Manage_your_account_information_and_publish_settings)
* [Команды для управления виртуальными машинами Azure](#Commands_to_manage_your_Azure_virtual_machines)
* [Команды для управления конечными точками виртуальных машин Azure](#Commands_to_manage_your_Azure_virtual_machine_endpoints)
* [Команды для управления образами виртуальных машин Azure](#Commands_to_manage_your_Azure_virtual_machine_images)
* [Команды для управления дисками данных виртуальных машин Azure](#Commands_to_manage_your_Azure_virtual_machine_data_disks)
* [Команды для управления облачными службами Azure](#Commands_to_manage_your_Azure_cloud_services)
* [Команды для управления сертификатами Azure](#Commands_to_manage_your_Azure_certificates)
* [Команды для управления веб-сайтами](#Commands_to_manage_your_web_sites)
* [Команды для управления мобильными службами Azure](#Commands_to_manage_mobile_services)
* [Управление локальными параметрами средства](#Manage_tool_local_settings)
* [Команды для управления службой Service Bus](#Commands_to_manage_service_bus)
* [Команды для управления базами данных SQL](#Commands_to_manage_sql)
* [Команды для управления виртуальными сетями](#Commands_to_manage_vnet)

##<a name="Manage_your_account_information_and_publish_settings"></a>Управление сведениями об учетной записи и параметрами публикации
Сведения о вашей подписке на Azure используются средством для подключения к вашей учетной записи. Эти сведения можно получить через портал Azure в файле параметров публикации, как описано здесь. Затем файл параметров публикации можно импортировать как постоянный локальный параметр конфигурации, который средство будет использовать для последующих операций. Вам необходимо импортировать параметры публикации только один раз.

**account download [параметры]**

Эта команда запускает браузер для загрузки PUBLISHSETTINGS-файла с портала Azure.

	~$ azure account download
	информ:   Выполнение команды account download
	информ:   Запуск браузера со страницей https://windows.azure.com/download/publishprofile.aspx
	справка:  Сохраните загруженный файл, затем выполните команду
	справка:  account import <file>
	информ:   Команда account download успешно выполнена

**account import [параметры] &lt;файл>**

Эта команда импортирует PUBLISHSETTINGS-файл или сертификат, чтобы средство могло его использовать в дальнейшем.

	~$ azure account import publishsettings.publishsettings
	информ:   Импорт файла настроек публикации publishsettings.publishsettings
	информ:   Найдена подписка: 3 месяца бесплатного использования
	информ:   Найдена подписка: оплата по мере использования
	информ:   Задание подписки по умолчанию: 3 месяца бесплатного использования
	предупр:   Файл "publishsettings.publishsettings" содержит конфиденциальную информацию.
	предупр:   Не забудьте удалить его теперь, когда импорт завершен.
	информ:   Параметры публикации учетной записи успешно импортированы

<div class="dev-callout"><b>Примечание.</b>
   <p>PUBLISHSETTINGS-файл может содержать сведения (например, имя и идентификатор подписки) о нескольких подписках. При импорте PUBLISHSETTINGS-файла первая подписка используется в качестве описания по умолчанию. Чтобы использовать другую подписку, выполните следующую команду.</p>
<code>~$ azure config set subscription &lt;other-subscription-id&gt;</code>
</div>

**account clear [параметры]**

Эта команда удаляет сохраненные параметры публикации, которые были импортированы. Используйте эту команду, если вы закончили работу со средством на этом компьютере и хотите быть уверены, что средство нельзя будет использовать с вашей учетной записью в дальнейшем.

	~$ azure account clear
	Удаление информации об учетной записи.
	информ:   ОК

**account list [параметры]**

Вывод списка импортированных подписок

	~$ azure account list
	информ:    Выполнение команды account list
	данные:    Имя                                    ИД
	       Текущее значение
	данные:    --------------------------------------  -------------------------------
	-----  -------
	данные:    Подписка на форумы                     8679c8be-3b05-49d9-b8fb  true
	данные:    Подписка на Evangelism Team            9e672699-1055-41ae-9c36  false
	данные:    MSOpenTech-Prod                         c13e6a92-706e-4cf5-94b6  false

**account set [параметры] &lt;подписка&gt;**

Задание текущей подписки

###Команды для управления территориальными группами

**account affinity-group list [параметры]**

Эта команда выводит список ваших территориальных групп Azure.

Территориальные группы можно задать, если группа виртуальных машин охватывает несколько физических компьютеров. Территориальная группа указывает, что физические компьютеры должны находиться как можно ближе друг к другу, чтобы уменьшить сетевую задержку.
 
	~$ azure account affinity-group list
	+ Получение территориальных групп
	данные:   Имя                                  Метка   Расположение
	данные:   ------------------------------------  ------  --------
	данные:   535EBAED-BF8B-4B18-A2E9-8755FB9D733F  opentec  Запад США
	информ:   Команда account affinity-group list успешно выполнена

**account affinity-group create [параметры] &lt;имя&gt;**

Эта команда создает новую территориальную группу.

	~$ azure account affinity-group create opentec -l "West US"
	информ:    Выполнение команды account affinity-group create
	+ Создание территориальной группы
	информ:    Команда account affinity-group create успешно выполнена

**account affinity-group show [параметры] &lt;имя&gt;**

Эта команда отображает сведения о территориальной группе.

	~$ azure account affinity-group show opentec
	информ:    Выполнение команды account affinity-group show
	+ Получение территориальных групп
	данные:    $ xmlns "http://schemas.microsoft.com/windowsazure"
	данные:    $ xmlns:i "http://www.w3.org/2001/XMLSchema-instance"
	данные:    Имя "opentec"
	данные:    Метка "b3BlbnRlYw=="
	данные:    Описание $ i:nil "true"
	данные:    Расположение "Запад США"
	данные:    HostedServices ""
	данные:    StorageServices ""
	данные:    Возможности Возможность 0 "PersistentVMRole"
	данные:    Возможности Возможность 1 "HighMemory"
	информ:    Команда account affinity-group show успешно выполнена

**account affinity-group delete [параметры] &lt;имя&gt;**

Эта команда удаляет указанную территориальную группу.

	~$ azure account affinity-group delete opentec
	информ:    Выполнение команды account affinity-group delete
	Удалить территориальную группу opentec? [y/n] y
	+ Удаление территориальной группы
	информ:    Команда account affinity-group delete успешно выполнена

###Команды для управления средой учетной записи

**account env list [параметры]**

Выводит список сред учетной записи.

	C:\windows\system32>azure account env list
	информ:    Выполнение команды account env list
	данные:    Имя
	данные:    ---------------
	данные:    AzureCloud
	данные:    AzureChinaCloud
	информ:    Команда account env list успешно выполнена

**account env show [параметры] [среда]**

Отображает сведения о среде учетной записи

	~$ azure account env show
	информ:    Выполнение команды account env show
	Имя среды: AzureCloud
	данные:    Профиль публикации среды  http://go.microsoft.com/fwlink/?LinkId=2544
	данные:    Портал среды  http://go.microsoft.com/fwlink/?LinkId=2544
	информ:    Команда account env show успешно выполнена

**account env add [параметры] [среда]**

Эта команда добавляет среду в учетную запись.

**account env set [параметры] [среда]**

Эта команда задает среду учетной записи.

**account env delete [параметры] [среда]**

Эта команда удаляет указанную среду из учетной записи.

##<a name="Commands_to_manage_your_Azure_virtual_machines"></a>Команды для управления виртуальными машинами Azure
На следующей схеме показано, как виртуальные машины Azure размещаются в рабочей среде развертывания облачных служб Azure.
 
![Техническая схема Azure](./media/command-line-tools/architecturediagram.jpg)	

**create-new** создает диск в хранилище BLOB-объектов (e:\ на схеме); **attach** присоединяет уже созданный, но еще неприсоединенный диск к виртуальной машине.

**vm create [параметры] &lt;dns-имя> &lt;образ> &lt;имя_пользователя> [пароль]**

Эта команда создает новую виртуальную машину Azure. По умолчанию каждая виртуальная машина создается в собственной облачной службе, однако с помощью параметра -c вы можете указать, что виртуальную машину следует добавить в существующую облачную службу, как описано здесь.

Обратите внимание, что команда vm create, как и портал Azure, создает виртуальные машины в рабочей среде развертывания. В настоящее время нет возможности создавать виртуальную машину в промежуточной среде развертывания облачной службы. Имейте в виду, что эта команда создает учетную запись хранения в Azure, если такой учетной записи еще не существует для вашей подписки.

Вы можете указать расположение с помощью параметра --location или территориальную группу с помощью параметра --affinity-group. Если ни один из этих параметров не указан, вам будет предложено выбрать значение из списка допустимых расположений.

Введенный пароль должен содержать от 8 до 123 символов и удовлетворять требованиям к сложности пароля, которые предъявляет операционная система, используемая для виртуальной машины.

Если предполагается использовать SSH для управления развернутой виртуальной машиной Linux (как это обычно бывает), необходимо при создании виртуальной машины включить SSH с помощью параметра -e. После создания виртуальной машины включить SSH невозможно.

Для виртуальных машин Windows можно включить RDP позже, добавив порт 3389 в качестве конечной точки.

Для этой команды поддерживаются следующие необязательные параметры:

**-c, --connect** создает виртуальную машину в уже созданном развертывании в службе размещения. Если с этим параметром не используется параметр -vmname, имя новой виртуальной машины создается автоматически.<br />
**-n, --vm-name** задает имя виртуальной машины. Этот параметр по умолчанию берет имя службы размещения. Если параметр -vmname не указан, для новой виртуальной машины создается имя в следующем формате: &lt;имя службы >&lt;ИД>, где &lt;ИД> — количество существующих виртуальных машин в службе плюс 1. Например, если эта команда используется для добавления новой виртуальной машины в службу размещения MyService, в которой имеется одна виртуальная машина, то новая виртуальная машина получает имя MyService2.<br /> 
**-u, --blob-url** задает URL-адрес хранилища BLOB-объектов, из которого создается системный диск виртуальной машины. <br />
**-z, --vm-size** задает размер виртуальной машины. Допустимые значения: "очень малый", "малый", "средний", "крупный", "очень крупный". Значение по умолчанию: "малый". <br />
**-r** добавляет RDP-подключение к виртуальной машине Windows. <br />
**-e, --ssh** добавляет SSH-подключение к виртуальной машине Windows. <br />
**-t, --ssh-cert** задает сертификат SSh. <br />
**-s** подписка <br />
**-o, --community** указанный образ является образом сообщества <br />
**-w** имя виртуальной сети <br/>
**-l, --location** задает расположение (например, "Северо-Центральный регион США"). <br />
**-a, --affinity-group** задает территориальную группу.<br />
**-w, --virtual-network-name** задает виртуальную сеть, в которой нужно добавить новую виртуальную машину. Можно настраивать виртуальные сети и управлять ими на портале Azure.<br />
**-b, --subnet-names** задает имена подсетей для назначения виртуальной машине.

В этом примере MSFT__Win2K8R2SP1-120514-1520-141205-01-en-us-30GB — образ, предоставленный платформой. Дополнительные сведения об образах операционных систем см. в описании команды vm image list.

	~$ azure vm create my-vm-name MSFT__Windows-Server-2008-R2-SP1.11-29-2011 username --location "Western US" -r
	информ:   Выполнение команды vm create
	Введите пароль виртуальной машины "my-vm-name": ************                                     
	информ:   Команда vm create успешно выполнена

**vm create-from &lt;dns-имя> &lt;файл-ролей>**

Эта команда создает новую виртуальную машину Azure из JSON-файла ролей.

	~$ azure vm create-from my-vm example.json
	информ:   ОК

**vm list [параметры]**

Эта команда выводит список виртуальных машин Azure. Параметр -json указывает, что результаты возвращаются в необработанном JSON-формате. 

	~$ azure vm list
	информ:   Выполнение команды vm list
	данные:   DNS-имя                          Имя ВМ      Состояние                  
	данные:   --------------------------------  -----------  ---------
	данные:   my-vm-name.cloudapp-preview.net        my-vm        ReadyRole
	информ:   Команда vm list успешно выполнена

**vm location list [параметры]**

Эта команда выводит список всех доступных расположений учетной записи Azure.

	~$ azure vm location list
	информ:   Выполнение команды vm location list
	данные:   Имя                   Отображаемое имя                                    
	данные:   ---------------------  ------------
	данные:   Azure (предварительная версия)  Запад США     
	информ:   Команда account location list успешно выполнена

**vm show [параметры] &lt;имя>**

Эта команда отображает сведения о виртуальной машине Azure. Параметр -json указывает, что результаты возвращаются в необработанном JSON-формате. 

	~$ azure vm show my-vm
	информ:   Выполнение команды vm show
	данные:   {                                                                      
	данные:       Размер экземпляра: "Малый",
	данные:       Состояние экземпляра: "ReadyRole",
	данные:       Диски данных: [],
	данные:       IP-адрес: "10.26.192.206",
	данные:       DNS-имя: "my-vm.cloudapp.net",
	данные:       Сведения о состоянии экземпляра: {},
	данные:       Имя виртуальной машины: "my-vm",
	данные:       Сеть: {
	данные:           Конечные точки: [
	данные:               {
	данные:                   Протокол: "tcp",
	данные:                   Vip: "65.52.250.250",
	данные:                   Порт: "63238",
	данные:                   Локальный порт: "3389",
	данные:                   Имя: "RemoteDesktop"
	данные:               }
	данные:           ]
	данные:       },
	данные:       Образ: "MSFT__Windows-Server-2008-R2-SP1.11-29-2011",
	данные:       Версия ОС: "WA-GUEST-OS-1.18_201203-01"
	данные:   } 
	информ:   Команда vm show успешно выполнена

**vm delete [параметры] &lt;имя>**

Эта команда удаляет виртуальную машину Azure. По умолчанию эта команда не удаляет BLOB-объект Azure, из которого созданы диск операционной системы и диск с данными. Для удаления BLOB-объекта вместе с соответствующей виртуальной машиной используйте параметр -b.

	~$ azure vm delete my-vm 
	информ:   Выполнение команды vm delete
	информ:   Команда vm delete успешно выполнена

**vm start [параметры] &lt;имя>**

Эта команда запускает виртуальную машину Azure.

	~$ azure vm start my-vm
	информ:   Выполнение команды vm start
	информ:   Команда vm start успешно выполнена

**vm restart [параметры] &lt;имя>**

Эта команда перезагружает виртуальную машину Azure.

	~$ azure vm restart my-vm
	информ:   Выполнение команды vm restart
	информ:   Команда vm restart успешно выполнена

**vm shutdown [параметры] &lt;имя>**

Эта команда завершает работу виртуальной машины Azure. С помощью необязательного параметра -p можно указать, что ресурс среды выполнения приложений не следует освобождать при завершении работы.

```
~$ azure vm shutdown my-vm
информ:   Выполнение команды vm shutdown
информ:   Команда vm shutdown успешно выполнена  
```

**vm capture &lt;имя-виртуальной-машины> &lt;имя-целевого-образа>**

Эта команда записывает образ виртуальной машины Azure.

Можно записать образ виртуальной машины, только когда она находится в состоянии "Остановлено".

	~$ azure.cmd vm capture my-vm mycaptureimagename --delete
	информ:   Выполнение команды vm capture
	+ Получение виртуальных машин
	+ Запись виртуальной машины
	информ:   Команда vm capture успешно выполнена

**vm export [параметры] &lt;имя-виртуальной-машины> &lt;путь-к-файлу>**

Эта команда экспортирует образ виртуальной машины Azure в файл.

	~$ azure vm export "myvm" "C:\"
	информ:    Выполнение команды vm export
	+ Получение виртуальных машин
	+ Экспорт виртуальной машины
	информ:   Команда vm export успешно выполнена

##<a name="Commands_to_manage_your_Azure_virtual_machine_endpoints"></a>Команды для управления конечными точками виртуальной машины Azure
На следующей схеме показана архитектура типичного развертывания нескольких экземпляров виртуальной машины. Обратите внимание, что в этом примере на каждой виртуальной машине открыт порт 3389 (для доступа по RDP), а также имеется внутренний IP-адрес (например, 168.55.11.1), который используется средством балансировки нагрузки для маршрутизации трафика на виртуальную машину. Этот внутренний IP-адрес также может использоваться для обмена данными между виртуальными машинами.

![azurenetworkdiagram](./media/command-line-tools/networkdiagram.jpg)
 
Внешние запросы к виртуальным машинам проходят через средство балансировки нагрузки. Таким образом, в развертываниях с несколькими виртуальными машинами невозможно указывать запросы для конкретной виртуальной машины. Для развертываний с несколькими виртуальными машинами необходимо настроить сопоставление портов между виртуальными машинами (порт-виртуальной-машины) и средством балансировки нагрузки (порт-балансировщика-нагрузки).

**vm endpoint create &lt;имя-виртуальной-машины> &lt;порт-балансировщика-нагрузки> [порт-виртуальной-машины]**

Эта команда создает конечную точку виртуальной машины. Можно также с помощью параметра -u или --enable-direct-server-return указать, нужно ли включить отключенную по умолчанию службу Direct Server Return в этой конечной точке.

	~$ azure vm endpoint create my-vm 8888 8888
	azure vm endpoint create my-vm 8888 8888
	информ:   Выполнение команды vm endpoint create
	+ Получение виртуальной машины
	+ Чтение конфигурации сети
	+ Обновление конфигурации сети
	информ:   Команда vm endpoint create успешно выполнена

**vm endpoint create-multiple [параметры] &lt;имя-виртуальной-машины> &lt;порт-балансировщика-нагрузки>[:&lt;порт-виртуальной-машины>[:&lt;протокол>[:&lt;имя-набора-балансировки-нагрузки>[:&lt;протокол-зонда>:&lt;порт-зонда-балансировщика-нагрузки>[:&lt;путь-к-зонду>]]]]] ]{1-*}**

Создает несколько конечных точек виртуальной машины. Можно также с помощью параметра -u или --enable-direct-server-return указать, нужно ли включить отключенную по умолчанию службу Direct Server Return в этой конечной точке.

**vm endpoint delete &lt;имя-виртуальной-машины> &lt;порт-балансировщика-нагрузки>**

Эта команда удаляет конечную точку виртуальной машины.

	~$ azure vm endpoint delete my-vm 8888
	azure vm endpoint delete my-vm 8888
	информ:   Выполнение команды vm endpoint delete
	+ Получение виртуальной машины
	+ Чтение конфигурации сети
	+ Обновление конфигурации сети
	информ:   Команда vm endpoint delete успешно выполнена

**vm endpoint list &lt;имя-виртуальной-машины>**

Эта команда выводит список всех конечных точек виртуальной машины. Параметр -json указывает, что результаты возвращаются в необработанном JSON-формате. 

	~$ azure vm endpoint list my-linux-vm
	данные:   Имя  Внешний порт  Локальный порт                                        
	данные:   ----  -------------  ----------
	данные:   ssh   22             22

**vm endpoint update [параметры] &lt;имя-виртуальной-машины> &lt;имя-конечной-точки>**

Эта команда обновляет конечную точку виртуальной машины, применяя новые значения с помощью этих параметров.

    -n, --endpoint-name <name>          новое имя конечной точки
    -t, --lb-port <port>                новый порт средства балансировки нагрузки
    -t, --vm-port <port>                новый локальный порт
    -o, --endpoint-protocol <protocol>  новый протокол транспортного уровня для порта (tcp или udp) 

**vm endpoint show [параметры] &lt;имя-виртуальной-машины>**

Эта команда отображает сведения о конечных точках на виртуальной машине.

	~$ azure vm endpoint show "mycouchvm"
	информ:    Выполнение команды vm endpoint show
	+ Получение виртуальных машин
	данные:    Конечные точки сети 0 Имя набора конечных точек балансировщика нагрузки "CouchDB_EP-5984"
	данные:    Конечные точки сети 0 Локальный порт "5984"
	данные:    Конечные точки сети 0 Имя "CouchDB_EP"
	данные:    Конечные точки сети 0 Порт "5984"
	данные:    Конечные точки сети 0 Протокол "tcp"
	данные:    Конечные точки сети 0 Vip "168.61.9.97"
	данные:    Конечные точки сети 1 Имя набора конечных точек балансировщика нагрузки "CouchEP_2-2020"
	данные:    Конечные точки сети 1 Локальный порт "2020"
	данные:    Конечные точки сети 1 Имя "CouchEP_2"
	данные:    Конечные точки сети 1 Порт "2020"
	данные:    Конечные точки сети 1 Протокол "tcp"
	данные:    Конечные точки сети 1 Vip "168.61.9.97"
	данные:    Конечные точки сети 2 Локальный порт "3389"
	данные:    Конечные точки сети 2 Имя "RemoteDesktop"
	данные:    Конечные точки сети 2 Порт "3389"
	данные:    Конечные точки сети 2 Протокол "tcp"
	данные:    Конечные точки сети 2 Vip "168.61.9.97"
	информ:    Команда vm endpoint show успешно выполнена

##<a name="Commands_to_manage_your_Azure_virtual_machine_images"></a>Команды для управления образами виртуальных машин Azure

Образы записываются с уже настроенных виртуальных машин, которые могут быть реплицированы надлежащим образом.

**vm image list [параметры]**

Эта команда возвращает список образов виртуальных машин. Существуют три типа образов: образы, созданные корпорацией Майкрософт и имеющие префикс "MSFT", образы, созданные третьими сторонами и имеющие в качестве префикса имя поставщика, и образы, которые создаете вы. Можно записать образ существующей виртуальной машины или создать образ из пользовательского VHD-файла, переданного в хранилище BLOB-объектов. Дополнительные сведения об использовании пользовательских VHD-файлов см. в описании команды vm image create.
Параметр -json указывает, что результаты возвращаются в необработанном JSON-формате. 

	~$ azure vm image list
	данные:   Имя                                                                   Категория   ОС
	данные:   ---------------------------------------------------------------------  ---------  -------
	данные:   CANONICAL__Canonical-Ubuntu-12-04-20120519-2012-05-19-en-us-30GB.vhd   Canonical  Linux
	данные:   MSFT__Windows-Server-2008-R2-SP1.11-29-2011                            Microsoft  Windows
	данные:   MSFT__Windows-Server-2008-R2-SP1-with-SQL-Server-2012-Eval.11-29-2011  Microsoft  Windows
	данные:   MSFT__Windows-Server-8-Beta.en-us.30GB.2012-03-22                      Microsoft  Windows
	данные:   MSFT__Windows-Server-8-Beta.2-17-2012                                  Microsoft  Windows
	данные:   MSFT__Windows-Server-2008-R2-SP1.en-us.30GB.2012-3-22                  Microsoft  Windows
	данные:   OpenLogic__OpenLogic-CentOS-62-20120509-en-us-30GB.vhd                 OpenLogic  Linux
	данные:   SUSE__SUSE-Linux-Enterprise-Server-11SP2-20120521-en-us-30GB.vhd       SUSE       Linux
	данные:   SUSE__OpenSUSE64121-03192012-en-us-15GB.vhd                            SUSE       Linux
	данные:   WIN2K8-R2-WINRM                                                        Пользователь       Windows
	информ:   Команда vm image list успешно выполнена   

**vm image show [параметры] &lt;имя>**

Эта команда отображает сведения об образе виртуальной машины.

	~$ azure vm image show MSFT__Windows-Server-2008-R2-SP1.11-29-2011
	+ Получение образа виртуальной машины
	информ:   Выполнение команды vm image show
	данные:   {                                                                      
	данные:       Метка: "Windows Server 2008 R2 SP1, ноябрь 2011",
	данные:       Имя: "MSFT__Windows-Server-2008-R2-SP1.11-29-2011",
	данные:       Описание: "Microsoft Windows Server 2008 R2 SP1",
	данные:       @: { xmlns: "http://schemas.microsoft.com/windowsazure", xmlns:i: "http://www.w3.org/2001/XMLSchema-instance" },
	данные:       Категория: "Microsoft",
	данные:       ОС: "Windows",
	данные:       Лицензионное соглашение: "http://www.microsoft.com",
	данные:       Логический размер (ГБ): "30"
	данные:   }
	информ:   Команда vm image show успешно выполнена 

**vm image delete [параметры] &lt;имя>**

Эта команда удаляет образ виртуальной машины.

	~$ azure vm image delete my-vm-image
	информ:   Выполнение команды vm image delete
	информ:   Удален образ виртуальной машины: my-vm-image                                         
	информ:   Команда vm image delete успешно выполнена

**vm image create &lt;имя> [путь-к-источнику]**

Эта команда создает образ виртуальной машины. Пользовательские VHD-файлы передаются в хранилище BLOB-объектов, а затем из них создается образ виртуальной машины. Используйте этот образ виртуальной машины для создания виртуальной машины. Такие параметры, как расположение и ОС, не являются обязательными.

В некоторых системах устанавливается ограничение для дескрипторов файлов в каждом процессе. Если это ограничение превышено, появляется ошибка ограничения дескрипторов файлов. Можно выполнить команду еще раз, используя параметр -p &lt;число> для уменьшения максимального числа параллельных передач. Максимальное число параллельных передач по умолчанию: 96.

	~$ azure vm image create mytestimage ./Sample.vhd -o windows -l "West US"
	информ:   Выполнение команды vm image create
	+ Получение учетных записей хранения
	информ:   Размер VHD: 13 МБ
	информ:   Передача 13312,5 КБ
	Запрошено: 100,0% Завершено: 100,0% Выполняется: 105 Время:    8 с Скорость:  1721 КБ/с
	информ:   Передача http://myaccount.blob.core.azure.com/vm-images/Sample.vhd выполнено успешно
	информ:   Команда vm image create успешно выполнена

##<a name="Commands_to_manage_your_Azure_virtual_machine_data_disks"></a>Команды для управления дисками данных виртуальных машин Azure

Диски данных — это VHD-файлы в хранилище BLOB-объектов, которые может использовать виртуальная машина. Дополнительные сведения о том, как диски данных развертываются в хранилище BLOB-объектов Azure, см. на приведенной выше технической схеме. 

Команды для присоединения дисков данных (azure vm disk attach и azure vm disk attach-new) назначают номер логического устройства (LUN) присоединяемому диску данных в соответствии с требованиями для протокола SCSI. Первому присоединенному к виртуальной машине диску данных назначается номер LUN 0, следующему — LUN 1 и т. д.

При отсоединении диска данных с помощью команды vm disk detach используйте параметр &lt;lun&gt;, чтобы указать, какой диск отсоединять. 

<div class="dev-callout"><b>Примечание.</b>
   <p>Обратите внимание, что диски данных всегда следует отсоединять в обратном порядке, начиная с наибольшего назначенного номера LUN. На уровне Linux SCSI не поддерживается отсоединение дисков с меньшими номерами LUN, если все еще присоединены диски с большими номерами LUN. Например, не следует отсоединять LUN 0, если все еще присоединен LUN 1.</p>
</div>

**vm disk show [параметры] &lt;имя>**

Эта команда отображает сведения о диске Azure.

	~$ azure vm disk show anucentos-anucentos-0-20120524070008
	информ:   Выполнение команды vm disk show
	данные:   Присоединен: имя развертывания "mycentos"
	данные:   Присоединен: имя размещенной службы "myanucentos"
	данные:   Присоединен: имя роли "myanucentos"
	данные:   ОС "Linux"
	данные:   Расположение "Azure (предварительная версия)"
	данные:   Размер логического диска (ГБ) "30"
	данные:   Ссылка на носитель "http://mystorageaccount.blob.core.azure-preview.com/vhd-store/mycentos-cb39b8223b01f95c.vhd"
	данные:   Имя "mycentos-mycentos-0-20120524070008"
	данные:   Имя исходного образа "OpenLogic__OpenLogic-CentOS-62-20120509-en-us-30GB.vhd"
	информ:   Команда vm disk show успешно выполнена

**vm disk list [параметры] [имя-виртуальной-машины]**

Эта команда выводит список дисков Azure или дисков, присоединенных к указанной виртуальной машине. Если в команде в качестве параметра указывается имя виртуальной машины, она возвращает все диски, присоединенные к виртуальной машине. LUN 1 создан вместе с виртуальной машиной, а все остальные перечисленные диски присоединены отдельно.

	~$ azure vm disk list mycentos
	информ:   Выполнение команды vm disk list
	данные:   Lun  Размер (ГБ)  Имя BLOB-объекта
	данные:   ---  --------  --------------------------------
	данные:   1    30        mycentos-cb39b8223b01f95c.vhd
	данные:   2    10        mycentos-e3f0d717950bb78d.vhd
	информ:   Команда vm disk list успешно выполнена                                               

Если в команде не указано в качестве параметра имя виртуальной машины, возвращаются все диски.

	~$ azure vm disk list 
	данные:   Имя                                        ОС
	данные:   ------------------------------------------  -------
	данные:   mycentos-mycentos-0-20120524070008          Linux
	данные:   mycentos-mycentos-2-20120525055052
	данные:   mywindows-winvm-20120522223119              Windows
	информ:   Команда vm disk list успешно выполнена

**vm disk delete [параметры] &lt;имя>**

Эта команда удаляет диск Azure из личного репозитория. Перед удалением диск необходимо отсоединить от виртуальной машины.

	~$ azure vm disk delete mycentos-mycentos-2-20120525055052
	информ:   Выполнение команды vm disk delete
	информ:   Удален диск: mycentos-mycentos-2-20120525055052                  
	информ:   Команда vm disk delete успешно выполнена

**vm disk create &lt;имя> [путь-к-источнику]**

Эта команда передает и регистрирует диск Azure. Необходимо указать --blob-url, --location или --affinity-group. Если в этой команде используется параметр [путь-к-источнику], передается указанный VHD-файл и создается новый образ. Затем можно присоединить этот образ к виртуальной машине, используя команду vm disk attach.

В некоторых системах устанавливается ограничение для дескрипторов файлов в каждом процессе. Если это ограничение превышено, появляется ошибка ограничения дескрипторов файлов. Можно выполнить команду еще раз, используя параметр -p &lt;число> для уменьшения максимального числа параллельных передач. Максимальное число параллельных передач по умолчанию: 96. 

	~$ azure vm disk create my-data-disk ~/test.vhd --location "Western US"
	информ:   Выполнение команды vm disk create
	информ:   Размер VHD: 10 МБ                                                       
	информ:   Передача 10240,5 КБ
	Запрошено: 100,0% Завершено: 100,0% Выполняется:  81 Время:   11 с Скорость:   952 КБ/с 
	информ:   Передача http://account.blob.core.azure.com/disks/test.vhd успешно выполнено
	информ:   Команда vm disk create успешно выполнена

**vm disk upload [параметры] &lt;путь-к-источнику> &lt;url-адрес-blob> &lt;ключ-учетной-записи-хранения>**

Эта команда позволяет передать диск виртуальной машины.

	~$ azure vm disk upload "http://sourcestorage.blob.core.windows.net/vhds/sample.vhd" "http://destinationstorage.blob.core.windows.net/vhds/sample.vhd" "DESTINATIONSTORAGEACCOUNTKEY"
	информ:   Выполнение команды vm disk upload                                                      
	информ:   Передача 12351,5 КБ
	информ:   Команда vm disk upload успешно выполнена

**vm disk attach &lt;имя-виртуальной-машины> &lt;имя-образа-диска>**

Эта команда присоединяет диск, существующий в хранилище BLOB-объектов, к существующей виртуальной машине, развернутой в облачной службе.

	~$ azure vm disk attach my-vm my-vm-my-vm-2-201242418259
	информ:   Выполнение команды vm disk attach
	информ:   Команда vm disk attach успешно выполнена

**vm disk attach-new &lt;имя-виртуальной-машины> &lt;размер-в-Гб> [url-адрес-blob]**

Эта команда присоединяет диск данных к виртуальной машине Azure. В этом примере 20 — это размер (в гигабайтах) нового диска, который нужно присоединить. В качестве последнего аргумента при желании можно использовать URL-адрес BLOB-объекта, чтобы явно указать целевой BLOB-объект для создания. Если URL-адрес BLOB-объекта не указан, BLOB-объект создается автоматически.

	~$ azure vm disk attach-new nick-test36 20 http://nghinazz.blob.core.azure-preview.com/vhds/vmdisk1.vhd
	информ:   Выполнение команды vm disk attach-new
	информ:   Команда vm disk attach-new успешно выполнена  

**vm disk detach &lt;имя-виртуальной-машины> &lt;lun>**

Эта команда отсоединяет диск данных, присоединенный к виртуальной машине Azure. Параметр &lt;lun> указывает диск для отсоединения. Чтобы перед отсоединением получить список дисков, связанных с данным диском, используйте команду vm disk-list &lt;имя-виртуальной-машины>.

	~$ azure vm disk detach my-vm 2
	информ:   Выполнение команды vm disk detach
	информ:   Команда vm disk detach успешно выполнена

##<a name="Commands_to_manage_your_Azure_cloud_services"></a>Команды для управления облачными службами Azure

Облачные службы Azure — это приложения и службы, размещаемые в веб-ролях и рабочих ролях. Для управления облачными службами Azure можно использовать следующие команды.

**service create [параметры] &lt;имя-службы>**

Эта команда создает новую облачную службу.

	~$ azure service create newservicemsopentech
	информ:    Выполнение команды service create
	+ Получение расположений
	справка:  Расположение:
	  1) Восточная Азия
	  2) Юго-Восточная Азия
	  3) Северная Европа
	  4) Западная Европа
	  5) Восток США
	  6) Запад США
	  : 6
	+ Создание облачной службы
	данные:    Имя облачной службы: newservicemsopentech
	информ:    Команда service create успешно выполнена

**service show [параметры] &lt;имя-службы>**

Эта команда отображает сведения об облачной службе Azure.

	~$ azure service show newservicemsopentech
	информ:    Выполнение команды vm service show
	+ Получение облачной службы
	данные:    Имя: newservicemsopentech
	данные:    URL-адрес: https://management.core.windows.net/9e672699-1055-41ae-9c36-e85152f2e352/services/hostedservices/newservicemsopentech
	данные:    Расположение свойств: Запад США
	данные:    Метка свойств: newservicemsopentech
	данные:    Состояние свойств: Создано
	Данные:    Дата создания свойств
	данные:    Дата последнего изменения свойств
	информ:    Команда service show успешно выполнена

**service list [параметры]**

Эта команда выводит список облачных служб Azure.

	~$ azure service list
	информ:   Выполнение команды service list
	данные:   Имя         Состояние                                                    
	данные:   -----------  -------
	данные:   service1     Создано
	данные:   service2     Создано
	информ:   Команда service list успешно выполнена

**service delete [параметры] &lt;имя>**

Эта команда удаляет облачную службу Azure.

	~$ azure cloud-service delete myservice
	информ:   Выполнение команды cloud-service delete myservice 
	информ:   Команда cloud-service delete успешно выполнена


##<a name="Commands_to_manage_your_Azure_certificates"></a>Команды для управления сертификатами Azure

Сертификаты Azure — это сертификаты (сертификаты SSL), подключенные к вашей учетной записи Azure.

**service cert list [параметры]**

Эта команда выводит список сертификатов Azure.

	~$ azure service cert list
	информ:   Выполнение команды service cert list
	+ Получение облачных служб                                                      
	+ Получение сертификатов                                                        
	данные:   Служба   Отпечаток                                Алгоритм
	данные:   --------  ----------------------------------------  ---------
	данные:   myservice  262DBF95B5E61375FA27F1E74AC7D9EAE842916C  sha1     
	информ:   Команда service cert list успешно выполнена

**service cert create &lt;dns-префикс> &lt;файл> [пароль]**

Эта команда добавляет сертификат. Не указывайте пароль для сертификатов, которые не защищены паролем.

	~$ azure service cert create nghinazz ~/publishSet.pfx
	информ:   Выполнение команды service cert create
	Пароль сертификата: 
	+ Создание сертификата                                                         
	информ:   Команда service cert create успешно выполнена

**service cert delete [параметры] &lt;отпечаток>**

Эта команда удаляет сертификат.

	~$ azure service cert delete 262DBF95B5E61375FA27F1E74AC7D9EAE842916C
	информ:   Выполнение команды service cert delete
	+ Удаление сертификата                                                         
	информ:   nghinazz : сертификат удален
	информ:   Команда service cert delete успешно выполнена


##<a name="Commands_to_manage_your_web_sites"></a>Команды для управления веб-сайтами

Веб-сайт Azure — это веб-конфигурация, доступ к которой осуществляет с помощью URI. Веб-сайты размещаются на виртуальных машинах, но вам нет необходимости задумываться о деталях создания и развертывания виртуальных машин. Эти детали для вас обработает Azure.

**site list [параметры]**

Эта команда выводит список веб-сайтов.

	~$ azure site list
	информ:   Выполнение команды site list
	данные:   Имя            Состояние    Имена узлов                                        
	данные:   --------------  -------  --------------------------------------------------
	данные:   mongosite       Выполняется  mongosite.antdf0.antares.windows.net     
	данные:   myphpsite       Выполняется  myphpsite.antdf0.antares.windows.net     
	данные:   mydrupalsite36  Выполняется  mydrupalsite36.antdf0.antares.windows.net
	информ:   Команда site list успешно выполнена

**site set [параметры] [имя]**

Эта команда задает параметры конфигурации для веб-сайта [имя].

	~$ azure site set
	информ:    Выполнение команды site set
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Обновление сведений о конфигурации сайта
	информ:    Команда site set успешно выполнена

**site deploymentscript [параметры]**

Эта команда создает пользовательский скрипт развертывания.

	~$ azure site deploymentscript --node
	информ:    Выполнение команды site deploymentscript
	информ:    Создание скрипта развертывания для веб-сайта node.js
	информ:    Файлы скрипта развертывания созданы
	информ:    Команда site deploymentscript успешно выполнена

**site create [параметры] [имя]**

Эта команда создает новый веб-сайт и локальный каталог. 

	~$ azure site create mysite
	информ:   Выполнение команды site create
	информ:   Используется расположение northeuropewebspace
	информ:   Создание нового веб-сайта
	информ:   Создан веб-сайт по адресу mysite.antdf0.antares.windows.net
	информ:   Инициализация репозитория
	информ:   Репозиторий инициализирован
	информ:   Команда site create успешно выполнена

<div class="dev-callout"><b>Примечание.</b>
   <p>Имя сайта должно быть уникальным. Нельзя создать сайт, DNS-имя которого совпадает с существующим сайтом.</p>
</div>

**site portal [параметры] [имя]**

Эта команда открывает в браузере портал, с помощью которого можно управлять веб-сайтами.

	~$ azure site portal mysite
	информ:   Выполнение команды site portal
	информ:   Запуск браузера со страницей https://windows.azure.net/#Workspaces/WebsiteExtension/Website/mysite/dashboard
	информ:   Команда site portal успешно выполнена

**site browse [параметры] [имя]**

Эта команда открывает в браузере ваш веб-сайт.

	~$ azure site browse mysite
	информ:   Выполнение команды site browse
	информ:   Запуск браузера со страницей http://mysite.antdf0.antares-test.windows-int.net
	информ:   Команда site browse успешно выполнена

**site show [параметры] [имя]**

Эта команда отображает сведения для веб-сайта.

	~$ azure site show mysite
	информ:   Выполнение команды site show
	информ:   Отображение сведений для сайта
	данные:   Администрирование включено для сайта: true
	данные:   Имена узлов сайта: mysite.antdf0.antares-test.windows-int.net
	данные:   Имя сайта: mysite
	данные:   Владелец сайта: 00060000814EDDEE
	данные:   Имя сайта репозитория для сайта: mysite
	данные:   Ссылка на сам сайт: https://s1.api.antdf0.antares.windows.net:454/subscriptions/444e62ff-4c5f-4116-a695-5c803ed584a5/webspaces/northeuropewebspace/sites/mysite
	данные:   Состояние сайта: Выполняется
	данные:   Состояние использования сайта: Обычный
	данные:   Пространство имен сайта: northeuropewebspace
	данные:   Конфигурация: параметры приложения
	данные:   Конфигурация: строки подключения
	данные:   Конфигурация: документы по умолчанию 0=Default.htm, 1=Default.asp, 2=index.htm, 3=index.html, 4=iisstart.htm, 5=default.aspx, 6=index.php, 7=hostingstart.aspx
	данные:   Конфигурация: ведение подробного журнала ошибок включено false
	данные:   Конфигурация: ведение журнала HTTP включено false
	данные:   Конфигурация: метаданные
	данные:   Конфигурация: версия NetFramework 4.0
	данные:   Конфигурация: число работников 1
	данные:   Конфигурация: версия PHP 5.3
	данные:   Конфигурация: пароль публикации rJ}[Er2v[Y]q16B6vTD]n$[C2z}Z.pvgLfRcLnAp%ax]xstiLny};o@vmMAote@d
	данные:   Конфигурация: трассировка запросов включена false
	данные:   Репозиторий https://mysite.scm.antdf0.antares-test.windows-int.net/
	информ:   Команда site show успешно выполнена

**site delete [параметры] [имя]**

Эта команда удаляет веб-сайт.

	~$ azure site delete mysite
	информ:   Выполнение команды site delete
	информ:   Удаление сайта mysite
	информ:   Сайт mysite удален
	информ:   Команда site delete успешно выполнена

**site start [параметры] [имя]**

Эта команда запускает веб-сайт.

	~$ azure site start mysite
	информ:   Выполнение команды site start
	информ:   Запуск сайта mysite
	информ:   Сайт mysite запущен
	информ:   Команда site start успешно выполнена

**site stop [параметры] [имя]**

Эта команда останавливает веб-сайт.

	~$ azure site stop mysite
	информ:   Выполнение команды site stop
	информ:   Остановка сайта mysite
	информ:   Сайт mysite остановлен
	информ:   Команда site stop успешно выполнена

**site location list [параметры]**

Эта команда выводит расположений веб-сайтов.

	~$ azure site location list
	информ:    Выполнение команды site location list
	+ Получение расположений
	данные:    Имя
	данные:    ----------------
	данные:    Западная Европа
	данные:    Запад США
	данные:    Северо-Центральный регион США
	данные:    Северная Европа
	данные:    Восточная Азия
	данные:    Восток США
	информ:    Команда site location list успешно выполнена

###Команды для управления параметрами приложений веб-сайта

**site appsetting list [параметры] [имя]**

Эта команда выводит список параметров приложения, добавленных к веб-сайту.

	~$ azure site appsetting list
	информ:    Выполнение команды site appsetting list
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о конфигурации сайта
	данные:    Имя  Значение
	данные:    ----  -----
	данные:    test  value
	информ:    Команда site appsetting list успешно выполнена

**site appsetting add [параметры] &lt;пара-ключ-значение> [имя]**

Эта команда добавляет параметр приложения к веб-сайту в качестве пары "ключ-значение".

	~$ azure site appsetting add test=value
	информ:    Выполнение команды site appsetting add
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о конфигурации сайта
	+ Обновление сведений о конфигурации сайта
	информ:    Команда site appsetting add успешно выполнена

**site appsetting delete [параметры] &lt;ключ> [имя]**

Эта команда удаляет указанный параметр приложения с веб-сайта.

	~$ azure site appsetting delete test
	информ:    Выполнение команды site appsetting delete
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о конфигурации сайта
	Удалить тест параметра приложения? [y/n] y
	+ Обновление сведений о конфигурации сайта
	информ:    Команда site appsetting delete успешно выполнена

**site appsetting show [параметры] &lt;ключ> [имя]**

Эта команда отображает сведения об указанном параметре приложения.

	~$ azure site appsetting show test
	информ:    Выполнение команды site appsetting show
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о конфигурации сайта
	данные:    Значение:  value
	информ:    Команда site appsetting show успешно выполнена

###Команды для управления сертификатами веб-сайта

**site cert list [параметры] [имя]**

Эта команда отображает список сертификатов веб-сайта.

	~$ azure site cert list
	информ:    Выполнение команды site cert list
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о сайте
	данные:    Субъект                       Срок действия	                  Отпечаток
	данные:    ----------------------------  -----------------------------------------
	----------------  ----------------------------------------
	данные:    *.msopentech.com              Fri Nov 28 2014 09:49:57 GMT-0800 (Тихоокеанское время США)  A40E82D3DC0286D1F58650E570ECF8224F69A148
	данные:    msopentech.azurewebsites.net  Fri Jun 19 2015 11:57:32 GMT-0700 (Тихоокеанское летнее время США)  CE1CD6538852BF7A5DC32001C2E26A29B541F0E8
	информ:    Команда site cert list успешно выполнена

**site cert add [параметры] &lt;путь-к-сертификату> [имя]**

**site cert delete [параметры] &lt;отпечаток> [имя]**

**site cert show [параметры] &lt;отпечаток> [имя]**

Эта команда отображает сведения о сертификате.

	~$ azure site cert show CE1CD65852B38DC32001C2E0E8F7A526A29B541F
	информ:    Выполнение команды site cert show
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о сайте
	данные:    Имена узлов сертификата: 0=msopentech.azurewebsites.net
	данные:    Дата окончания действия сертификата
	данные:    Понятное имя сертификата: msopentech.azurewebsites.net
	данные:    Дата выпуска сертификата
	данные:    Издатель сертификата: CN=MSIT Machine Auth CA 2, DC=redmond, DC=corp, DC=microsoft, DC=com
	данные:    Имя субъекта сертификата: msopentech.azurewebsites.net
	данные:    Отпечаток сертификата: CE1CD65852B38DC32001C2E0E8F7A526A29B541F
	информ:    Команда site cert show успешно выполнена

###Команды для управления строками подключения веб-сайта

**site connectionstring list [параметры] [имя]**

**site connectionstring add [параметры] &lt;имя-подключения> &lt;значение> &lt;тип> [имя]**

**site connectionstring delete [параметры] &lt;имя-подключения> [имя]**

**site connectionstring show [параметры] &lt;имя-подключения> [имя]**

###Команды для управления документами по умолчанию веб-сайта

**site defaultdocument list [параметры] [имя]**

**site defaultdocument add [параметры] &lt;документ> [имя]**

**site defaultdocument delete [параметры] &lt;документ> [имя]**

###Команды для управления развертываниями веб-сайта

**site deployment list [параметры] [имя]**

**site deployment show [параметры] &lt;ид-применения> [имя]**

**site deployment redeploy [параметры] &lt;ид-применения> [имя]**

**site deployment github [параметры] [имя]**

**site deployment user set [параметры] [имя-пользователя] [пароль]**

###Команды для управления доменами веб-сайта

**site domain list [параметры] [имя]**

**site domain add [параметры] &lt;имя-домена> [имя]**

**site domain delete [параметры] &lt;имя-домена> [имя]**

###Команды для управления сопоставлениями обработчиков веб-сайта

**site handler list [параметры] [имя]**

**site handler add [параметры] &lt;расширение> &lt;процессор> [имя]**

**site handler delete [параметры] &lt;расширение> [процессор]** имя

###Команды для управления диагностикой веб-сайта

**site log download [параметры] [имя]**

Загружает ZIP-файл диагностики на веб-сайт

	~$ azure site log download
	информ:    Выполнение команды site log download
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о сайте
	+ Загрузка журнала диагностики в файл diagnostics.zip
	информ:    Команда site log download успешно выполнена

**site log tail [параметры] [имя]**

Эта команда подключает терминал к службе потоковой передачи журналов.

	~$ azure site log tail
	информ:    Выполнение команды site log tail
	Имя веб-сайта: mydemosite
	+ Получение сайтов
	+ Получение сведений о сайте
	2013-11-19T17:24:17  Добро пожаловать! Вы теперь подключены к службе потоковой передачи журналов.

**site log set [параметры] [имя]**

Эта команда настраивает параметры диагностики

	~$ azure site log set -a
	информ:    Выполнение команды site log set
	+ Получение параметров вывода
	справка:  Вывод:
	  1) файл
	  2) хранилище
	  : 1
	Имя веб-сайта: mydemosite
	+ Получение расположений
	+ Получение сайтов
	+ Получение сведений о сайте
	+ Получение параметров диагностики
	+ Обновление параметров диагностики
	информ:    Команда site log set успешно выполнена

###Команды для управления репозиториями веб-сайта

**site repository branch [параметры] &lt;ветвь> [имя]**

**site repository delete [параметры] [имя]**

**site repository sync [параметры] [имя]**

###Команды для управления масштабированием веб-сайта

**site scale mode [параметры] &lt;режим> [имя]**

**site scale instances [параметры] &lt;экземпляры> [имя]**


##<a name="Commands_to_manage_mobile_services"></a>Команды для управления мобильными службами Azure

Мобильные службы Azure — это набор служб Azure, обеспечивающих для приложений серверные возможности. Команды мобильных служб делятся на следующие категории:

+ [Команды для управления экземплярами мобильных служб](#Mobile_Services)
+ [команды для управления конфигурацией мобильных служб](#Mobile_Configuration)
+ [команды для управления таблицами мобильных служб](#Mobile_Tables)
+ [команды для управления скриптами мобильных служб](#Mobile_Scripts)
+ [команды для управления запланированными заданиями](#Mobile_Jobs)
+ [команды для масштабирования мобильных служб](#Mobile_Scale)

Для большинства команд мобильных служб применяются следующие параметры:

+ **-h** или **--help**: показать сведения об использовании.
+ **-s `<id>`** или **--subscription `<id>`**: использовать конкретную подписку, заданную как `<id>`.
+ **- v** или **--verbose**: записывать подробные выходные данные.
+ **--json**: записывать выходные данные в JSON-формате.

###<a name="Mobile_Services"></a>Команды для управления экземплярами мобильных служб

**mobile locations [параметры]**

Эта команда выводит список географических расположений, поддерживаемых мобильными службами.

	~$ azure mobile locations
	информ:    Выполнение команды mobile locations
	информ:    Восток США (по умолчанию)
	информ:    Запад США		
	информ:    Северная Европа

**mobile create [параметры] [имя-службы] [имя-администратора-sql] [пароль-администратора-sql]**

Эта команда создает мобильные службы вместе с базой данных и сервером SQL.

	~$ azure mobile create todolist your_login_name Secure$Password
	информ:    Выполнение команды mobile create
	+ Создание мобильной службы
	информ:    Общее состояние приложения: Исправно
	информ:    Состояние мобильной службы (todolist): Подготовка настроена
	информ:    Состояние базы данных SQL (todolist_db): Подготовлена
	информ:    Состояние SQL Server (e96ean1c6v): Подготовка настроена
	информ:    Команда mobile create успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **- r `<sqlServer>`**  или **--sqlServer `<sqlServer>`**: использовать существующий сервер базы данных SQL, заданный как `<sqlServer>`.
+ **-d `<sqlDb>`** или **--sqlDb `<sqlDb>`**: использовать существующую базу данных SQL, заданную как `<sqlDb>`.
+ **-l `<location>`** или **--location `<location>`**: создать службу в конкретном расположении, заданном как `<location>`. Для получения дополнительных расположений выполните команду azure mobile locations.	
+ **--sqlLocation `<location>`**: создать сервер SQL в конкретном `<location>`; по умолчанию используется расположение мобильной службы.

**mobile delete [параметры] [имя-службы]**

Эта команда удаляет мобильные службы вместе с соответствующей базой данных и сервером SQL.

	~$ azure mobile delete todolist -a -q
	информ:    Выполнение команды mobile delete
	данные:    Мобильная служба: todolist
	данные:    База данных SQL: todolistAwrhcL60azo1C401
	данные:    SQL Server: fh1kvbc7la
	+ Удаление мобильной службы
	информ:    Мобильная служба удалена
	+ Удаление SQL Server
	информ:    SQL Server удален
	+ Удаление мобильного приложения
	информ:    Мобильное приложение удалено
	информ:    Команда mobile delete успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-d** или **--deleteData**: удалить из базы данных все данные этой мобильной службы.
+ **-a** или **--deleteAll**: удалить базу данных и сервер SQL.
+ **-q или **--quiet**: не запрашивать подтверждение. Используйте этот параметр в автоматизированных скриптах.

**mobile list [параметры]**

Эта команда выводит список мобильных служб.

	~$ azure mobile list
	информ:    Выполнение команды mobile list
	данные:    Имя          Состояние  URL-адрес
	данные:    ------------  -----  --------------------------------------
	данные:    todolist      Готово  https://todolist.azure-mobile.net/
	данные:    mymobileapp   Готово  https://mymobileapp.azure-mobile.net/
	информ:    Команда mobile list успешно выполнена

**mobile show [параметры] [имя-службы]**

Эта команда отображает сведения о мобильной службе.

	~$ azure mobile show todolist
	информ:    Выполнение команды mobile show
	+ Получение сведений
	информ:    Мобильное приложение
	данные: Состояние: Исправно
	данные:    Имя мобильной службы: todolist
	данные:    Состояние мобильной службы: Подготовка настроена
	данные:    Имя базы данных SQL: todolistAwrhcL60azo1C401
	данные:    Состояние базы данных SQL: Привязано
	данные:    Имя сервера SQL: fh1kvbc7la
	данные:    Состояние сервера SQL: Привязано
	информ:    Мобильная служба
	данные:    Имя: todolist
	данные:    Состояние: Готово
	данные:    URL-адрес приложения: https://todolist.azure-mobile.net/
	данные:    Ключ приложения: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
	данные:    Главный ключ: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
	данные:    Пространство имен: WESTUSWEBSPACE
	данные:    Регион: Запад США
	данные:    Таблицы: TodoItem
	информ:    Команда mobile show успешно выполнена	

**mobile restart [параметры] [имя-службы]**

Эта команда перезапускает экземпляр мобильной службы.

	~$ azure mobile restart todolist
	информ:    Выполнение команды mobile restart
	+ Перезапуск мобильной службы
	информ:    Служба перезапущена.
	информ:    Команда mobile restart успешно выполнена

**mobile log [параметры] [имя-службы]**

Эта команда возвращает журналы мобильной службы, оставляя после фильтрации только журналы типа `ошибка`.

	~$ azure mobile log todolist -t error
	информ:    Выполнение команды mobile log
	данные:
	данные:    Время создания 2013-01-07T16:04:43.351Z
	данные:    Тип "ошибка"
	данные:    Источник /scheduler/TestingLogs.js
	данные:    Сообщение "Это ошибка".
	данные:
	информ:    Команда mobile log успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-r `<query>`** или **--query `<query>`**: выполнить указанный запрос журнала.
+ **-t `<type>`** или **--type `<type>`**: отфильтровать возвращаемые журналы по записи `<type>`, которая может иметь значение `information` (информация), `warning` (предупреждение) или `error` (ошибка).
+ **-k `<skip>`** или **--skip `<skip>`**: пропустить определенное число строк, заданное значением `<skip>`.
+ **-p `<top>`** или **--top `<top>`**: возвратить конкретное число строк, заданных значением `<top>`.

<div class="dev-callout"><b>Примечание.</b>
   <p>Параметр **--query** имеет приоритет над параметрами **--type**, **--skip** и **--top**.</p>
</div>

**mobile key regenerate [параметры] [имя-службы] [тип]**

Эта команда заново создает ключ приложения мобильной службы.

	~$ azure mobile key regenerate todolist application
	информ:    Выполнение команды mobile key regenerate
	информ:    Новый ключ приложения: SmLorAWVfslMcOKWSsuJvuzdJkfUpt40
	информ:    Команда mobile key regenerate успешно выполнена

Типы ключей: `master` (главный) и `application` (приложение).

<div class="dev-callout"><b>Примечание.</b>
   <p>При повторном создании ключей клиенты, использующие старый ключ, не смогут получить доступ к вашей мобильной службе. При повторном создании ключа приложения следует обновить приложение, используя новое значение ключа. </p>
</div> 

###<a name="Mobile_Configuration"></a>Команды для управления конфигурацией мобильных служб

**mobile config list [параметры] [имя-службы]**

Эта команда выводит список параметров конфигурации для мобильной службы.

	~$ azure mobile config list todolist
	информ:    Выполнение команды mobile config list
	+ Получение конфигурации мобильной службы
	данные:    Динамическая схема включена: true
	данные:    Секрет клиента учетной записи Microsoft: Не настроено
	данные:    Идентификатор клиента учетной записи Microsoft: Не настроено
	данные:    SID пакета учетной записи Microsoft: Не настроено
	данные:    Идентификатор клиента Facebook: Не настроено
	данные:    Секрет клиента Facebook: Не настроено
	данные:    Идентификатор клиента Twitter: Не настроено
	данные:    Секрет клиента Twitter: Не настроено
	данные:    Идентификатор клиента Google: Не настроено
	данные:    Секрет клиента Google: Не настроено
	данные:    Режим apns: Нет
	данные:    Пароль apns: Не настроено
	данные:    Сертификат apns: Не настроено
	информ:    Команда mobile config list успешно выполнена

**mobile config get [параметры] [имя-службы] [ключ]**

Эта команда возвращает конкретный параметр конфигурации для мобильной службы, в данном случае динамическую схему.

	~$ azure mobile config get todolist dynamicSchemaEnabled
	информ:    Выполнение команды mobile config get
	данные:    Динамическая схема включена: true
	информ:    Команда mobile config get успешно выполнена

**mobile config set [параметры] [имя-службы] [ключ] [значение]**

Эта команда задает конкретный параметр конфигурации для мобильной службы, в данном случае динамическую схему.

	~$ azure mobile config set todolist dynamicSchemaEnabled false
	информ:    Выполнение команды mobile config set
	информ:    Команда mobile config set успешно выполнена


###<a name="Mobile_Tables"></a>Команды для управления таблицами мобильных служб

**mobile table list [параметры] [имя-службы]**

Эта команда выводит список всех таблиц в вашей мобильной службе.

	~$azure mobile table list todolist
	информ:    Выполнение команды mobile table list
	данные:    Имя      Индексы  Строки
	данные:    --------  -------  ----
	данные:    Channel   1        0
	данные:    TodoItem  1        0
	информ:    Команда mobile table list успешно выполнена

**mobile table show [параметры] [имя-службы] [имя-таблицы]**

Эта команда возвращает сведения о конкретной таблице.

	~$azure mobile table show todolist
	информ:    Выполнение команды mobile table show
	+ Получение сведений о таблице
	информ:    Статистика таблицы:
	данные:    Число записей 5
	информ:    Операции в таблице:
	данные:    Операция  Скрипт       Разрешения
	данные:    ---------  -----------  -----------
	данные:    Вставить     1900 байт   Пользователь
	данные:    Читать       Не определено  Пользователь
	данные:    Обновить     Не определено  Пользователь
	данные:    Удалить     Не определено  Пользователь
	информ:    Столбцы таблицы:
	данные:    Имя  Тип           Индексировано
	данные:    ----  -------------  -------
	данные:    ИД    bigint(MSSQL)  Да
	данные:    Текст      string
	данные:    Завершение  boolean
	информ:    Команда mobile table show успешно выполнена

**mobile table create [параметры] [имя-службы] [имя-таблицы]**

Эта команда создает таблицу.

	~$azure mobile table create todolist Channels
	информ:    Выполнение команды mobile table create
	+ Создание таблицы
	информ:    Команда mobile table create успешно выполнена

Эта команда поддерживает следующий дополнительный параметр:

+ **-p `<permissions>`** или **--permissions `<permissions>`**: разделенный запятыми список пар `<operation>`=`<permission>`, где `<operation>` принимает значение `insert` (вставить), `read` (читать), `update` (обновить) или `delete` (удалить), а `<permissions>` — значение `public` (открытый), `application` (приложение, используется по умолчанию), `user` (пользователь) или `admin` (администрирование).

**mobile data read [параметры] [имя-службы] [имя-таблицы] [запрос]**

Эта команда читает данные из таблицы.

	~$azure mobile data read todolist TodoItem
	информ:    Выполнение команды mobile data read
	данные:    ИД  Текст     Завершено
	данные:    --  -------  --------
	данные:    1   Элемент #1  false
	данные:    2   Элемент #2  true
	данные:    3   Элемент #3  false
	данные:    4   Элемент #4  true
	информ:    Команда mobile data read успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-k `<skip>`** или **--skip `<skip>`**: пропустить определенное число строк, заданное значением `<skip>`.
+ **-t `<top>`** или **--top `<top>`**: возвратить конкретное число строк, заданных значением `<top>`.
+ **-l** или **--list**: возвратить данные в формате списка.

**mobile table update [параметры] [имя-службы] [имя-таблицы]**

Эта команда изменяет разрешения на удаление таблицы, оставляя это разрешение только администратору.

	~$azure mobile table update todolist Channels -p delete=admin
	информ:    Выполнение команды mobile table update
	+ Обновление разрешений
	информ:    Разрешения обновлены
	информ:    Команда mobile table update успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-p `<permissions>`** или **--permissions `<permissions>`**: разделенный запятыми список пар `<operation>`=`<permission>`, где `<operation>` принимает значение `insert` (вставить), `read` (читать), `update` (обновить) или `delete` (удалить), а `<permissions>` — значение `public` (открытый), `application` (приложение, используется по умолчанию), `user` (пользователь) или `admin` (администрирование).
+ **--deleteColumn `<columns>`**: разделенный запятыми список столбцов для удаления, заданных как `<columns>`.
+ **-q** или **--quiet**: удалить столбцы без запроса подтверждения.
+ **--addIndex `<columns>`**: разделенный запятыми список столбцов, включаемых в индекс.
+ **--deleteIndex `<columns>`**: разделенный запятыми список столбцов, исключаемых из индекса.

**mobile table delete [параметры] [имя-службы] [имя-таблицы]**

Эта команда удаляет таблицу.

	~$azure mobile table delete todolist Channels
	информ:    Выполнение команды mobile table delete
	Удалить таблицу? (yes/no): yes
	+ Удаление таблицы
	информ:    Команда mobile table delete успешно выполнена

Укажите параметр -q, чтобы удалить таблицу без подтверждения. Это необходимо для предотвращения блокировки скриптов автоматизации.

**mobile data truncate [параметры] [имя-службы] [имя-таблицы]**

Эта команда удаляет все строки данных из таблицы.

	~$azure mobile data truncate todolist TodoItem
	информ:    Выполнение команды mobile data truncate
	информ:    Таблица содержит 7 строк данных.
	Удалить все данные из таблицы? (y/n): y
	информ:    Удалено 7 строк.
	информ:    Команда mobile data truncate успешно выполнена


###<a name="Mobile_Scripts"></a>Команды для управления скриптами

Описанные в этом разделе команды используются для управления серверными скриптами, относящимися к мобильной службе. Дополнительные сведения см. в разделе [Работа с серверными скриптами в мобильных службах](http://www.windowsazure.com/ru-ru/develop/mobile/how-to-guides/work-with-server-scripts/)

**mobile script list [параметры] [имя-службы]**

Эта команда выводит список зарегистрированных скриптов, включая и таблицы, и скрипты планировщика.

	~$azure mobile script list todolist
	информ:    Выполнение команды mobile script list
	+ Получение сведений о скрипте
	информ:    Скрипты таблицы
	данные:    Имя                   Размер
	данные:    ---------------------  ----
	данные:    table/TodoItem.delete  256
	данные:    table/Devices.insert   1660
	ошибка: Не удалось получить общие скрипты
	информ:    Скрипты планировщика
	данные:    Имя                 Состояние     Интервал   Последнее выполнение   Следующее выполнение
	данные:    -------------------  ---------  ---------  ---------  ---------
	данные:    scheduler/undefined  Не определено  Не определено  Не определено  Не определено
	данные:    scheduler/undefined  Не определено  Не определено  Не определено  Не определено
	информ:    Команда mobile script успешно выполнена

**mobile script upload [параметры] [имя-службы] [имя-скрипта]**

Эта команда передает новый скрипт с именем `todoitem.insert.js` из вложенной папки `table`.

	~$azure mobile script upload todolist table/todoitem.insert.js
	информ:    Выполнение команды mobile script upload
	информ:    Команда mobile script upload успешно выполнена

Имя файла должно состоять из имен таблицы и операции, и файл должен находиться во вложенной папке таблиц относительно расположения, где выполняется команда. Можно также с помощью параметра **-f `<file>`** или **--file `<file>`** указать другое имя файла и путь к файлу, содержащему регистрируемый скрипт.

**mobile script download [параметры] [имя-службы] [имя-скрипта]**

Эта команда загружает скрипт вставки из таблицы TodoItem в файл с именем `todoitem.insert.js` во вложенной папке `table`.

	~$azure mobile script download todolist table/todoitem.insert.js
	информ:    Выполнение команды mobile script download
	информ:    Скрипт сохранен в файл ./table/todoitem.insert.js
	информ:    Команда mobile script download успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-p `<path>`** или **--path `<path>`**: расположение в файле, в котором нужно сохранить скрипт; по умолчанию используется текущий рабочий каталог.
+ **-f `<file>`** или **--file `<file>`**: имя файла, в котором нужно сохранить скрипт.
+ **-o** или **--override**: перезаписать существующий файл.
+ **-c** или **--console**: записать скрипт на консоль, а не в файл.

**mobile script delete [параметры] [имя-службы] [имя-скрипта]**

Эта команда удаляет существующий скрипт вставки из таблицы TodoItem.

	~$azure mobile script delete todolist table/todoitem.insert.js
	информ:    Выполнение команды mobile script delete
	информ:    Команда mobile script delete успешно выполнена

###<a name="Mobile_Jobs"></a> Команды для управления запланированными заданиями

Описанные в этом разделе команды используются для управления запланированными заданиями, относящимися к мобильной службе. Дополнительные сведения см. в разделе [Запланированные задания](http://msdn.microsoft.com/ru-ru/library/windowsazure/jj860528.aspx).

**mobile job list [параметры] [имя-службы]**

Эта команда выводит список запланированных заданий.

	~$azure mobile job list todolist
	информ:    Выполнение команды mobile job list
	информ:    Запланированные задания
	данные:    Имя задания    Имя скрипта           Состояние    Интервал     Последнее выполнение              Следующее выполнение
	данные:    ----------  --------------------  --------  -----------  --------------------  --------------------
	данные:    getUpdates  scheduler/getUpdates  Включено   15 [мин.]  2013-01-14T16:15:00Z  2013-01-14T16:30:00Z
	информ:    Вы можете изменять скрипты запланированных заданий с помощью команды "azure mobile script".
	информ:    Команда mobile job list успешно выполнена

**mobile job create [параметры] [имя-службы] [имя-задания]**

Эта команда создает новое задание с именем `getUpdates`, которое по расписанию должно выполняться каждый час.

	~$azure mobile job create -i 1 -u hour todolist getUpdates 
	информ:    Выполнение команды mobile job create
	информ:    Задание создано в отключенном состоянии. Вы можете включить задание с помощью команды "azure mobile job update".
	информ:    Вы можете изменить скрипт запланированного задания с помощью команды "azure mobile script".
	информ:    Команда mobile job create успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-i `<number>`** или **--interval `<number>`**: интервал выполнения задания, целое число; по умолчанию используется значение `15`.
+ **-u `<unit>`** или **--intervalUnit `<unit>`**: единица измерения для _interval_, которая может принимать одно из следующих значений: 
	+ **minute** (по умолчанию)
	+ **hour**
	+ **day**
	+ **month** 
	+ **none** (задания по требованию)
+ **-t `<time>`** **--startTime `<time>`**: время начала первого выполнения скрипта, в формате ISO; по умолчанию используется значение `now` (сейчас).

<div class="dev-callout"><b>Примечание.</b>
   <p>Новые задания создаются в отключенном состоянии, поскольку необходимо еще передать скрипт. Используйте команду <strong>mobile script upload</strong> для передачи скрипта и команду <strong>mobile job update</strong> для включения задания.</p>
</div> 

**mobile job update [параметры] [имя-службы] [имя-задания]**

Эта команда включает отключенное задание `getUpdates`.

	~$azure mobile job update -a enabled todolist getUpdates 
	информ:    Выполнение команды mobile job update
	информ:    Команда mobile job update успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-i `<number>`** или **--interval `<number>`**: интервал выполнения задания, целое число; по умолчанию используется значение `15`.
+ **-u `<unit>`** или **--intervalUnit `<unit>`**: единица измерения для _interval_, которая может принимать одно из следующих значений: 
	+ **minute** (по умолчанию)
	+ **hour**
	+ **day**
	+ **month** 
	+ **none** (задания по требованию)
+ **-t `<time>`** **--startTime `<time>`**: время начала первого выполнения скрипта, в формате ISO; по умолчанию используется значение `now` (сейчас).
+ **-a `<status>`** или **--status `<status>`**: состояние задания, которое может принимать значение `enabled` (включено) или `disabled` (отключено).

**mobile job delete [параметры] [имя-службы] [имя-задания]**

Эта команда удаляет запланированное задание getUpdates с сервера TodoList.

	~$azure mobile job delete todolist getUpdates
	информ:    Выполнение команды mobile job delete
	информ:    Команда mobile job delete успешно выполнена

<div class="dev-callout"><b>Примечание.</b>
   <p>При удалении задания также удаляется переданный скрипт.</p>
</div> 

###<a name="Mobile_Scale"></a>Команды для масштабирования мобильной службы

Описанные в этом разделе команды используются для масштабирования мобильной службы. Дополнительные сведения см. в разделе [Масштабирование мобильной службы](http://msdn.microsoft.com/ru-ru/library/windowsazure/jj193178.aspx).

**mobile scale show [параметры] [имя-службы]**

Эта команда отображает сведения о масштабировании, включая текущий режим среды выполнения и число экземпляров.

	~$azure mobile scale show todolist
	информ:    Выполнение команды mobile scale show
	данные:    Пространство имен: WESTUSWEBSPACE
	данные:    Режим среды выполнения: Бесплатно
	данные:    Число экземпляров: 1
	информ:    Команда mobile scale show успешно выполнена

**mobile scale change [параметры] [имя-службы]**

Эта команда изменяет масштаб мобильной службы с бесплатного на расширенный.

	~$azure mobile scale change -c Reserved -i 1 todolist
	информ:    Выполнение команды mobile scale change
	+ Масштабирование мобильной службы
	информ:    Команда mobile scale change успешно выполнена

Эта команда поддерживает следующие дополнительные параметры:

+ **-c `<mode>`** или **--computeMode `<mode>`**: режим среды выполнения должен иметь значение `Free` (Бесплатно) или `Reserved` (Зарезервировано).
+ **-i `<count>` или **--numberOfInstances `<count>`**: число экземпляров, используемых при работе в режиме Зарезервировано.

<div class="dev-callout"><b>Примечание.</b>
   <p>Если для режима среды выполнения задано значение Зарезервировано, все ваши мобильные службы в этом регионе будут работать в расширенном режиме.</p>
</div>  

##<a name="Manage_tool_local_settings"></a>Управление локальными параметрами средства

Локальные параметры связаны с вашим идентификатором подписки и именем учетной записи хранения по умолчанию.

**config list [параметры]**

Эта команда отображает параметры конфигурации.

	~$ azure config list
	информ:   Отображение параметров конфигурации
	данные:   Параметр                Значение                               
	данные:   ---------------------  ------------------------------------
	данные:   Подписка           Ключ подписки из 32 цифр
	данные:   defaultStorageAccount  name

**config set [параметры] &lt;имя&gt;,&lt;значение&gt;**

Эта команда изменяет параметр конфигурации.

	~$ azure config set defaultStorageAccount myname
	информ:   Задание значения "myname" для параметра "defaultStorageAccount"
	информ:   Изменения сохранены.

##<a name ="Commands_to_manage_service_bus"></a>Команды для управления службой Service Bus

Для управления учетной записью Service Bus используйте следующие команды:

**sb namespace create &lt;имя> &lt;расположение>**

Создает новое пространство имен Service Bus.

	~$ azure sb namespace create mysbnamespacea-test "West US"
	информ:    Выполнение команды sb namespace create
	+ Создание пространства имен mysbnamespacea-test в регионе "Запад США"
	данные:    Имя: mysbnamespacea-test
	данные:    Регион: Запад США
	данные:    Ключ по умолчанию: fBu8nQ9svPIesFfMFVhCFD+/sY0rRbifWMoRpYy0Ynk=
	данные:    Состояние: Активация
	данные:    Создано: 2013-11-14T16:23:29.32Z
	данные:    Конечная точка управления ACS: https://mysbnamespacea-test-sb.accesscontrol.windows.net/
	данные:    Конечная точка Service Bus: https://mysbnamespacea-test.servicebus.windows.net/
	
	данные:    Строка подключения: Endpoint=sb://mysbnamespacea-test.servicebus.windows.
	net/;SharedSecretIssuer=owner;SharedSecretValue=fBu8nQ9svPIesFfMFVhCFD+/sY0rRbif
	WMoRpYy0Ynk =
	данные:    Идентификатор подписки: 8679c8be3b0549d9b8fb4bd232a48931
	данные:    Включено: true
	данные:    _: [объект Object]
	информ:    Команда sb namespace create успешно выполнена

**sb namespace show &lt;имя>**

Отображает сведения о конкретном пространстве имен.

	~$ azure sb namespace show mysbnamespacea-test
	информ:    Выполнение команды sb namespace show
	+ Получение пространства имен
	данные:    Имя: mysbnamespacea-test
	данные:    Регион: Запад США
	данные:    Ключ по умолчанию: fBu8nQ9svPIesFfMFVhCFD+/sY0rRbifWMoRpYy0Ynk=
	данные:    Состояние: Активно
	данные:    Создано: 2013-11-14T16:23:29.32Z
	данные:    Конечная точка управления ACS: https://mysbnamespacea-test-sb.accesscontrol.windows.net/
	данные:    Конечная точка Service Bus: https://mysbnamespacea-test.servicebus.windows.net/
	
	данные:    Строка подключения: Endpoint=sb://mysbnamespacea-test.servicebus.windows.
	net/;SharedSecretIssuer=owner;SharedSecretValue=fBu8nQ9svPIesFfMFVhCFD+/sY0rRbif
	WMoRpYy0Ynk =
	данные:    Идентификатор подписки: 8679c8be3b0549d9b8fb4bd232a48931
	данные:    Включено: true
	данные:    Обновлено: 2013-11-14T16:25:37.85Z
	информ:    Команда sb namespace show успешно выполнена

**sb namespace list**

Выводит список всех пространств имен, созданных для вашей учетной записи.

	~$ azure sb namespace list
	информ:    Выполнение команды sb namespace list
	+ Получение пространств имен
	данные:    Имя                 Регион   Состояние
	данные:    -------------------  -------  ------
	данные:    mysbnamespacea-test  Запад США  Активно
	информ:    Команда sb namespace list успешно выполнена

**sb namespace delete &lt;имя>**

Удаляет пространство имен.

	~$ azure sb namespace delete mysbnamespacea-test
	информ:    Выполнение команды sb namespace delete
	Удалить пространство имен mysbnamespacea-test? [y/n] y
	+ Удаление пространства имен mysbnamespacea-test
	информ:    Команда sb namespace delete успешно выполнена

**sb namespace location list**

Отображает список всех доступных расположений пространства имен.

	~$ azure sb namespace location list
	информ:    Выполнение команды sb namespace location list
	+ Получение расположений
	данные:    Имя              Код
	данные:    ----------------  ----------------
	данные:    Восточная Азия         East Asia
	данные:    Западная Европа       West Europe
	данные:    Северная Европа      North Europe
	данные:    Восток США           East US
	данные:    Юго-Восточная Азия    Southeast Asia
	данные:    Северо-Центральный регион США  North Central US
	данные:    Запад США           West US
	данные:    Юго-Центральный регион США  South Central US
	информ:    Команда sb namespace location list успешно выполнена

**sb namespace verify &lt;имя>**

Проверяет, доступно ли пространство имен.

##<a name ="Commands_to_manage_sql"></a>Команды для управления базами данных SQL

Для управлениями вашими базами данных Azure SQL используйте следующие команды.

###Команды для управления серверами SQL Server

Для управлениями вашими серверами SQL Server используйте следующие команды.

**sql server create &lt;имя-администратора> &lt;пароль-администратора> &lt;расположение>**

Создает новый сервер базы данных.

	~$ azure sql server create test T3stte$t "West US"
	информ:    Выполнение команды sql server create
	+ Создание SQL Server
	данные:    Имя сервера: i1qwc540ts
	информ:    Команда sql server create успешно выполнена

**sql server show &lt;имя>**

Отображает сведения о сервере.

	~$ azure sql server show xclfgcndfg
	информ:    Выполнение команды sql server show
	+ Получение SQL Server
	данные:    Имя SQL Server: xclfgcndfg
	данные:    Имя администратора SQL Server: msopentechforums
	данные:    Расположение SQL Server: Запад США
	данные:    Полное доменное имя SQL Server: xclfgcndfg.database.windows.net
	информ:    Команда sql server show успешно выполнена

**sql server list**

Возвращает список серверов.

	~$ azure sql server list
	информ:    Выполнение команды sql server list
	+ Получение SQL Server
	данные:    Имя        Расположение
	данные:    ----------  --------
	данные:    xclfgcndfg  Запад США
	информ:    Команда sql server list успешно выполнена

**sql server delete &lt;имя>**

Удаляет сервер. 

	~$ azure sql server delete i1qwc540ts
	информ:    Выполнение команды sql server delete
	Удалить сервер i1qwc540ts? [y/n] y
	+ Удаление SQL Server
	информ:    Команда sql server delete успешно выполнена

###Команды для управления базами данных SQL

Для управлениями вашими базами данных SQL используйте следующие команды.

**sql db create [параметры] &lt;имя-сервера> &lt;имя-базы-данных> &lt;пароль-администратора>**

Создает новый экземпляр базы данных.

	~$ azure sql db create fr8aelne00 newdb test
	информ:    Выполнение команды sql db create
	Пароль администратора: ********
	+ Создание базы данных SQL Server
	информ:    Команда sql db create успешно выполнена

**sql db show [параметры] &lt;имя-сервера> &lt;имя-базы-данных> &lt;пароль-администратора>**

Отображает сведения о базе данных.

	C:\windows\system32>azure sql db show fr8aelne00 newdb test
	информ:    Выполнение команды sql db show
	Пароль администратора: ********
	+ Получение баз данных SQL Server
	данные:    База данных: _ ContentRootElement=m:properties, id=https://fr8aelne00.datab
	ase.windows.net/v1/ManagementService.svc/Server2('fr8aelne00')/Databases(4), ter
	m=Microsoft.SqlServer.Management.Server.Domain.Database, scheme=http://schemas.m
	icrosoft.com/ado/2007/08/dataservices/scheme, link=[rel=edit, title=Database, hr
	ef=Databases(4), rel=http://schemas.microsoft.com/ado/2007/08/dataservices/relat
	ed/Server, type=application/atom+xml;type=entry, title=Server, href=Databases(4)
	/Server, rel=http://schemas.microsoft.com/ado/2007/08/dataservices/related/Servi
	ceObjective, type=application/atom+xml;type=entry, title=ServiceObjective, href=
	Databases(4)/ServiceObjective, rel=http://schemas.microsoft.com/ado/2007/08/data
	services/related/DatabaseMetrics, type=application/atom+xml;type=entry, title=Da
	tabaseMetrics, href=Databases(4)/DatabaseMetrics, rel=http://schemas.microsoft.c
	om/ado/2007/08/dataservices/related/DatabaseCopies, type=application/atom+xml;ty
	pe=feed, title=DatabaseCopies, href=Databases(4)/DatabaseCopies], title=, update
	d=2013-11-18T19:48:27Z, name=
	данные:    Идентификатор базы данных: 4
	данные:    Имя базы данных: newdb
	данные:    Идентификатор цели службы для базы данных: 910b4fcb-8a29-4c3e-958f-f7ba794388b2
	данные:    Назначенный идентификатор цели службы для базы данных: 910b4fcb-8a29-4c3e-958f-f7ba794388b2
	данные:    Состояние назначения цели службы для базы данных: 1
	данные:    Описание состояния назначения цели службы для базы данных: Завершено
	данные:    Код ошибки назначения цели службы для базы данных
	данные:    Описание ошибки назначения цели службы для базы данных
	данные:    Дата успешного назначения цели службы для базы данных
	данные:    База данных Web Edition
	данные:    Максимальный размер (ГБ) для базы данных: 1
	данные:    Максимальный размер (байты) для базы данных: 1073741824
	данные:    Имя параметров сортировки базы данных: SQL_Latin1_General_CP1_CI_AS
	данные:    Дата создания базы данных
	данные:    Дата начала периода восстановления базы данных
	данные:    База данных является системным объектом
	данные:    Состояние базы данных: 1
	данные:    База данных является корневым объектом федерации
	данные:    Размер базы данных в МБ: 1
	данные:    Включены рекурсивные триггеры для базы данных
	данные:    База данных предназначена только для чтения
	данные:    База данных является элементом федерации
	данные:    Включено хранилище очереди для базы данных
	данные:    Хранилище очереди базы данных предназначено только для чтения
	данные:    Максимальный размер хранилища очереди (МБ) для базы данных
	данные:    Период очистки (секунды) хранилища очереди для базы данных
	данные:    Длина интервала (минуты) хранения очереди для базы данных
	данные:    Очистка всего хранилища очереди для базы данных
	данные:    Порог устаревания (дни) очереди в хранилище очереди для базы данных
	информ:    Команда sql db show успешно выполнена

**sql db list [параметры] &lt;имя-сервера> &lt;пароль-администратора>**

Выводит список баз данных.

	~$ azure sql db list fr8aelne00 test
	информ:    Выполнение команды sql db list
	Пароль администратора: ********
	+ Получение баз данных SQL Server
	данные:    Имя    Выпуск  Сортировка                     Макс. размер (ГБ)
	данные:    ------  -------  ----------------------------  -----------
	данные:    master  Web      SQL_Latin1_General_CP1_CI_AS  5
	информ:    Команда sql db list успешно выполнена

**sql db delete [параметры] &lt;имя-сервера> &lt;имя-базы-данных> &lt;пароль-администратора>**

Удаляет базу данных. 

	~$ azure sql db delete fr8aelne00 newdb test
	информ:    Выполнение команды sql db delete
	Пароль администратора: ********
	Удалить базу данных newdb? [y/n] y
	+ Получение баз данных SQL Server
	+ Удаление базы данных
	информ:    Команда sql db delete успешно выполнена

###Команды для управления правилами брандмауэра SQL Server

Для управления правилами брандмауэра SQL Server используйте следующие команды:

**sql firewallrule create [параметры] &lt;имя-сервера> &lt;имя-правила> &lt;начальный-IP-адрес> &lt;конечный-IP-адрес>**

Создает новое правило брандмауэра для SQL Server.

	~$ azure sql firewallrule create fr8aelne00 allowed 131.107.0.0 131.107.255.255
	информ:    Выполнение команды sql firewallrule create
	+ Создание правил брандмауэра
	информ:    Команда sql firewallrule create успешно выполнена

**sql firewallrule show [параметры] &lt;имя-сервера> &lt;имя-правила>**

Отображает сведения о правиле брандмауэра.

	~$ azure sql firewallrule show fr8aelne00 allowed
	информ:    Выполнение команды sql firewallrule show
	+ Получение правила брандмауэра
	данные:    Имя правила брандмауэра: allowed
	данные:    Тип правила брандмауэра: Microsoft.SqlAzure.FirewallRule
	данные:    Состояние правила брандмауэра: Обычный
	данные:    Ссылка на само правило брандмауэра: https://management.core.windows.net/9e672699-105
	5-41ae-9c36-e85152f2e352/services/sqlservers/servers/fr8aelne00/firewallrules/allowed
	данные:    Родительская ссылка для правила брандмауэра: https://management.core.windows.net/9e672699-1
	055-41ae-9c36-e85152f2e352/services/sqlservers/servers/fr8aelne00
	данные:    Начальный IP-адрес для правила брандмауэра: 131.107.0.0
	данные:    Конечный IP-адрес для правила брандмауэра: 131.107.255.255
	информ:    Команда sql firewallrule show успешно выполнена

**sql firewallrule list [параметры] &lt;имя-сервера>**

Выводит список правил брандмауэра

	~$ azure sql firewallrule list fr8aelne00
	информ:    Выполнение команды sql firewallrule list
	\данные:    Имя     Начальный IP-адрес  Конечный IP-адрес
	данные:    -------  ----------------  ---------------
	данные:    allowed  131.107.0.0       131.107.255.255
	+
	информ:    Команда sql firewallrule list успешно выполнена

**sql firewallrule delete [параметры] &lt;имя-сервера> &lt;имя-правила>**

Эта команда удаляет правило брандмауэра.

	~$ azure sql firewallrule delete fr8aelne00 allowed
	информ:    Выполнение команды sql firewallrule delete
	Удалить правило allowed? [y/n] y
	+ Удаление правила брандмауэра
	информ:    Команда sql firewallrule delete успешно выполнена

##<a name ="Commands_to_manage_vnet"></a>Команды для управления виртуальными сетями

Для управления виртуальными сетями используйте следующие команды:

**network vnet create [параметры] &lt;расположение>**

Создает новую виртуальную сеть.

	~$ azure network vnet create vnet1 --location "West US" -v
	информ:    Выполнение команды network vnet create
	информ:    По умолчанию для адресного пространства используется начальный IP-адрес: 10.0.0.0
	информ:    По умолчанию для адресного пространства используется CIDR: 8
	информ:    По умолчанию для подсети используется начальный IP-адрес: 10.0.0.0
	информ:    По умолчанию для подсети используется CIDR: 11
	подробно: Адресное пространство [Начальный IP-адрес/CIDR (макс. число виртуальных машин)]: 10.0.0.0/8 (16777216)
	подробно: Подсеть [Начальный IP-адрес/CIDR (макс. число виртуальных машин)]: 10.0.0.0/11 (2097152)
	подробно: Получение конфигурации сети
	подробно: Получение или создание территориальной группы
	подробно: Получение территориальных групп
	подробно: Получение расположений
	подробно: Создание новой территориальной группы AG1
	информ:    Используется территориальная группа AG1
	подробно: Обновление конфигурации сети
	информ:    Команда network vnet create успешно выполнена

**network vnet show &lt;имя>**

Отображает сведения о виртуальной сети.

	~$ azure network vnet show vnet1
	информ:   Выполнение команды network vnet show
	+ Получение виртуальных сетей
	данные:   Имя "vnet1"
	данные:   Идентификатор "25786fbe-08e8-4e7e-b1de-b98b7e586c7a"
	данные:   Территориальная группа "AG1"
	данные:   Состояние "Создано"
	данные:   Префиксы адресов в пространстве имен 0 "10.0.0.0/8"
	данные:   Подсети 0 Имя "subnet-1"
	данные:   Подсети 0 Префикс адреса "10.0.0.0/11"
	информ:    Команда network vnet show успешно выполнена

**vnet list**

Выводит список всех существующих виртуальных сетей.

	~$ azure network vnet list
	информ:   Выполнение команды network vnet list
	+ Получение виртуальных сетей
	данные:   Имя        Состояние   Территориальная группа
	данные:    ----------  -------  -------------
	данные:    vnet1      Создано  AG1
	данные:    vnet2      Создано  AG1
	данные:    vnet3      Создано  AG1
	данные:    vnet4      Создано  AG1
	информ:   Команда network vnet list успешно выполнена

**network vnet show &lt;имя>**

Отображает сведения об указанной виртуальной сети.

	~$ azure network vnet show opentechvn1
	информ:   Выполнение команды network vnet show
	+ Получение виртуальных сетей
	данные:   Имя "opentechvn1"
	данные:   Идентификатор "cab41cb0-396a-413b-83a1-302f0f1c867d"
	данные:   Территориальная группа "AG-CLI-456f89eaa7fae2b3"
	данные:   Состояние "Создано"
	данные:   Префиксы адресов в пространстве имен 0 "10.100.23.255/27"
	данные:   Подсети 0 Имя "frontend"
	данные:   Подсети 0 Префикс адреса "10.100.23.224/29"
	информ:    Команда network vnet show успешно выполнена

**network vnet delete &lt;имя>**

Удаляет указанную виртуальную сеть.

	~$ azure network vnet delete opentechvn1
	информ:   Выполнение команды network vnet delete
	+ Получение конфигурации сети
	Удалить виртуальную сеть opentechvn1?  (y/n) y
	+ Удаление виртуальной сети opentechvn1
	информ:   Команда network vnet delete успешно выполнена

**network export [путь-к-файлу]**

Для расширенной конфигурации сети можно экспортировать конфигурацию сети локально. Обратите внимание, что экспортированная конфигурация сети включает параметры DNS-сервера, параметры виртуальной сети, локальные параметры сетевого сайта и другие параметры.

**network import [путь-к-файлу]**

Импортирует локальную конфигурацию сети.

**network dnsserver register [параметры] &lt;IP-адрес-dns>**

Регистрирует DNS-сервер, который планируется использовать для разрешения имен в конфигурации сети.

	~$ azure network dnsserver register 98.138.253.109 --dns-id FrontEndDnsServer
	информ:   Выполнение команды network dnsserver register
	+ Получение конфигурации сети
	+ Обновление конфигурации сети
	информ:   Команда network dnsserver register успешно выполнена

**network dnsserver list**

Выводит список DNS-серверов, зарегистрированных в конфигурации сети.

	~$ azure network dnsserver list
	информ:   Выполнение команды network dnsserver list
	+ Получение конфигурации сети
	данные:   ИД DNS-сервера         IP-адрес DNS-сервера
	данные:    --------------------  --------------
	данные:   DNS-bb39b4ac34d66a86  44.55.22.11
	данные:   FrontEndDnsServer     98.138.253.109
	информ:   Команда network dnsserver list успешно выполнена

**network dnsserver unregister [параметры] &lt;IP-адрес-dns>**

Удаляет запись DNS-сервера из конфигурации сети.

	~$ azure network dnsserver unregister 77.88.99.11
	информ:   Выполнение команды network dnsserver unregister
	+ Получение конфигурации сети
	Удалить запись DNS-сервера dns-4 ( 77.88.99.11 ) %s? (y/n) y
	+ Удаление записи DNS-сервера dns-4 ( 77.88.99.11 )
	информ:   Команда network dnsserver unregister успешно выполнена


