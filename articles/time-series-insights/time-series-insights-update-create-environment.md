---
title: Руководство по службе "Аналитика временных рядов Azure" (предварительная версия) | Документация Майкрософт
description: Сведения о службе "Аналитика временных рядов Azure" (предварительная версия)
author: ashannon7
ms.author: anshan
ms.workload: big-data
manager: cshankar
ms.service: time-series-insights
services: time-series-insights
ms.topic: tutorial
ms.date: 11/26/2018
ms.openlocfilehash: ed25d03f7c592476b9284790ac12f9954661a42b
ms.sourcegitcommit: b0f39746412c93a48317f985a8365743e5fe1596
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2018
ms.locfileid: "52872311"
---
# <a name="azure-time-series-insights-preview-tutorial"></a>Руководство по службе "Аналитика временных рядов Azure" (предварительная версия)

Это руководство поможет вам создать среду "Аналитика временных рядов Azure" (TSI) предварительной версии, заполненную данными из имитированных устройств. Из этого руководства вы узнаете, как выполнять следующие задачи:

* Создавать среды TSI (предварительная версия).
* Подключать среды TSI (предварительная версия) к концентратору событий.
* Запускать имитацию ветроэлектростанции для потоковой передачи данных в среду TSI (предварительная версия).
* Выполнять базовый анализ данных.
* Определять тип модели временных рядов и иерархию и связывать их с экземплярами.

## <a name="create-a-time-series-insights-preview-environment"></a>Создание среды "Аналитика временных рядов" (предварительная версия)

В этом разделе описывается создание среды "Аналитика временных рядов Azure" (предварительная версия) с помощью [портала Azure](https://portal.azure.com/).

1. Войдите на портал Azure, используя учетную запись подписки.
1. Щелкните **+Создать ресурс** слева вверху.
1. Выберите категорию **Интернет вещей**, а затем щелкните **Аналитика временных рядов**.

  ![Руководство 1][1]

1. На странице среды службы "Аналитика временных рядов" введите значения для обязательных параметров и нажмите кнопку **Далее: источник события**.

  ![Руководство 2][2]

1. На странице  **Источник события** введите значения для обязательных параметров и нажмите кнопку **Просмотр и создание**.

  ![Руководство 3][3]

1. Просмотрите все сведения и нажмите кнопку **Создать**, чтобы начать подготовку среды.

  ![Руководство 4][4]

1. Когда развертывание будет успешно завершено, вы получите уведомление.

  ![Руководство 5][5]

## <a name="send-events-to-your-tsi-environment"></a>Отправка событий в среду TSI

В этом разделе вы используете симулятор устройства ветряной мельницы для отправки событий в среду TSI через концентратор событий.

  1. На портале Azure перейдите к ресурсу концентратора событий и подключите его к среде TSI. Узнайте, [как подключить свой ресурс к существующему концентратору событий](./time-series-insights-how-to-add-an-event-source-eventhub.md).

  1. На странице ресурса концентратора событий перейдите к разделу **Политики общего доступа**, а затем выберите **RootManageSharedAccessKey**. Скопируйте значение, отображаемое в поле **Строка подключения — первичный ключ** .

      ![Руководство 6][6]

  1. Перейдите к [https://tsiclientsample.azurewebsites.net/windFarmGen.html]( https://tsiclientsample.azurewebsites.net/windFarmGen.html). Это веб-приложение имитирует ветряные мельницы.
  1. Вставьте строку подключения, скопированную на шаге 3, в поле **Event Hub Connection String** (Строка подключения концентратора событий).

      ![Руководство 7][7]

  1. Нажмите кнопку **Click to Start** (Начать), чтобы начать отправку событий в концентратор событий. На этом этапе файл с именем `instances.json` будет скачан на ваш компьютер. Сохраните этот файл, так как он понадобится позже.

  1. Вернитесь к концентратору событий. Теперь вы увидите, что концентратор получает новые события.

     ![Руководство 8][8]

## <a name="analyze-data-in-your-environment"></a>Анализ данных в вашей среде

В этом разделе будет выполняться базовая аналитика ваших данных временных рядов с использованием обозревателя обновления службы "Аналитика временных рядов".

  1. Перейдите в обозреватель обновления службы "Аналитика временных рядов", щелкнув URL-адрес на странице ресурсов на портале Azure.

      ![Руководство 9][9]

  1. В обозревателе щелкните узлы **Unparented Instances** (Экземпляры без родителей), чтобы просмотреть все экземпляры временных рядов в среде.

     ![Руководство 10][10]

  1. В этом руководстве мы будем анализировать данные, отправляемые в течение последнего дня. Для этого нужно щелкнуть **Краткое время** и выбрать вариант **Последние 24 часа**.

     ![Руководство 11][11]

  1. Выберите **Sensor_0** (Датчик_0), затем — **Show Avg Value** (Показать среднее значение) для визуализации данных, отправляемых из этого экземпляра временных рядов.

     ![Руководство 12][12]

  1. Аналогичным образом вы можете отобразить на графике данные, поступающие от других экземпляров временных рядов, для выполнения базовой аналитики.

     ![Руководство 13][13]

## <a name="define-a-type--hierarchy"></a>Определение типа и иерархии 

В этом разделе вы создадите тип, иерархию и свяжите их с экземплярами временных рядов. Дополнительные сведения о [моделях временных рядов](./time-series-insights-update-tsm.md).

  1. В обозревателе на панели приложения щелкните вкладку **Модель**.

     ![Руководство 14][14]

  1. В разделе "Типы" щелкните **+ Добавить**. Это позволит вам создать новый тип модели временных рядов.

     ![Руководство 15][15]

  1. В редакторе типов введите **имя**, **описание** и создайте переменные для **среднего**, **минимального** и **максимального** значений, как показано ниже. Нажмите кнопку **Создать**, чтобы сохранить тип.

     ![Руководство 16][16]

     ![Руководство 17][17]

  1. В разделе **Иерархии** щелкните **+ Добавить**. Это позволит вам создать новую иерархию модели временных рядов.

     ![Руководство 18][18]

  1. В редакторе иерархии введите **имя** и добавьте уровни иерархии, как показано ниже. Нажмите кнопку **Создать**, чтобы сохранить иерархию.

     ![Руководство 19][19]

     ![Руководство 20][20]

  1. В разделе **Экземпляры** выберите экземпляр и нажмите кнопку **Изменить**. Так вы свяжете тип и иерархию с этим экземпляром.

     ![Руководство 21][21]

  1. В редакторе экземпляра выберите тип и иерархию, определенные на шагах 3 и 5, представленных выше.

     ![Руководство 22][22]

  1. Кроме того, чтобы сделать это за один раз для всех экземпляров, можно изменить файл `instances.json`, который вы скачали ранее. В этом файле замените значения в полях **typeId** и **hierarchyId** на идентификатор, полученный на шагах 3 и 5, представленных выше.

  1. В разделе **Экземпляры** щелкните **Отправка файла JSON** и отправьте измененный файл `instances.json`, как показано ниже.

     ![Руководство 23][23]

  1. Перейдите на вкладку **Аналитика** и обновите страницу в браузере. Теперь вы увидите все экземпляры, связанные с типом и иерархией, определенными выше.

     ![Руководство 24][24]

## <a name="next-steps"></a>Дополнительная информация

Из этого руководства вы узнали, как выполнить следующие задачи:  

* Создавать среды TSI (предварительная версия).
* Подключать среды TSI (предварительная версия) к концентратору событий.
* Запускать имитацию ветроэлектростанции для потоковой передачи данных в среду TSI (предварительная версия).
* Выполнять базовый анализ данных.
* Определять тип модели временных рядов, иерархию и связывать их с экземплярами.

Теперь, когда вы знаете, как создать собственную обновленную среду TSI, узнайте больше об основных понятиях в TSI.

Сведения о конфигурации хранилища TSI:

> [!div class="nextstepaction"]
> [Хранилище и входящие данные в службе "Аналитика временных рядов Azure" (предварительная версия)](./time-series-insights-update-storage-ingress.md)

Дополнительные сведения о моделях временных рядов:

> [!div class="nextstepaction"]
> [Моделирование данных в службе "Аналитика временных рядов Azure" (предварительная версия)](./time-series-insights-update-tsm.md)

<!-- Images -->
[1]: media/v2-update-provision/tutorial-one.png
[2]: media/v2-update-provision/tutorial-two.png
[3]: media/v2-update-provision/tutorial-three.png
[4]: media/v2-update-provision/tutorial-four.png
[5]: media/v2-update-provision/tutorial-five.png
[6]: media/v2-update-provision/tutorial-six.png
[7]: media/v2-update-provision/tutorial-seven.png
[8]: media/v2-update-provision/tutorial-eight.png
[9]: media/v2-update-provision/tutorial-nine.png
[10]: media/v2-update-provision/tutorial-ten.png
[11]: media/v2-update-provision/tutorial-eleven.png
[12]: media/v2-update-provision/tutorial-twelve.png
[13]: media/v2-update-provision/tutorial-thirteen.png
[14]: media/v2-update-provision/tutorial-fourteen.png
[15]: media/v2-update-provision/tutorial-fifteen.png
[16]: media/v2-update-provision/tutorial-sixteen.png
[17]: media/v2-update-provision/tutorial-seventeen.png
[18]: media/v2-update-provision/tutorial-eighteen.png
[19]: media/v2-update-provision/tutorial-nineteen.png
[20]: media/v2-update-provision/tutorial-twenty.png
[21]: media/v2-update-provision/tutorial-twenty-one.png
[22]: media/v2-update-provision/tutorial-twenty-two.png
[23]: media/v2-update-provision/tutorial-twenty-three.png
[24]: media/v2-update-provision/tutorial-twenty-four.png