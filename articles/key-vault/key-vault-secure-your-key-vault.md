---
title: Защита Azure Key Vault | Документация Майкрософт
description: Управление правами доступа к хранилищу ключей для управления Azure Key Vault, ключами и секретами. Модель аутентификации и авторизации для хранилища ключей и обеспечение защиты этого хранилища.
services: key-vault
documentationcenter: ''
author: amitbapat
manager: mbaldwin
tags: azure-resource-manager
ms.assetid: e5b4e083-4a39-4410-8e3a-2832ad6db405
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 10/09/2018
ms.author: ambapat
ms.openlocfilehash: 4a1de3c011f1f8cfa1ea9246efad4ebb7f9e3a76
ms.sourcegitcommit: 6361a3d20ac1b902d22119b640909c3a002185b3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2018
ms.locfileid: "49364529"
---
# <a name="secure-your-key-vault"></a>Защита хранилища ключей
Azure Key Vault — это облачная служба, которая обеспечивает защиту ключей шифрования и секретов (например, сертификатов, строк подключения и паролей). Так как это критически важные для бизнеса конфиденциальные данные, необходимо обеспечить защиту доступа к хранилищу ключей, чтобы его могли получить только авторизованные приложения и пользователи. 

В этой статье содержится обзор модели доступа к хранилищу ключей. Здесь приводится описание процессов аутентификации и авторизации, а также содержатся сведения о том, как защитить доступ к хранилищу ключей.

## <a name="overview"></a>Обзор
Доступ к хранилищу ключей осуществляется с помощью двух отдельных интерфейсов: плоскость управления и плоскость данных. Прежде чем вызывающий объект (пользователь или приложение) сможет получить доступ к хранилищу ключей, для обеих плоскостей требуется выполнить надлежащую аутентификацию и авторизацию. При аутентификации выполняется идентификация вызывающего объекта, а при авторизации определяется, какие операции ему разрешено выполнять.

Для проверки подлинности в плоскости управления и плоскости данных используется Azure Active Directory. Для авторизации в плоскости управления используется управление доступом на основе ролей (RBAC), а в плоскости данных — политика доступа к хранилищу ключей.

Ниже приведен краткий обзор статьи.

[Проверка подлинности с помощью Azure Active Directory.](#authentication-using-azure-active-directory) В этом разделе объясняется, как вызывающий объект проходит проверку подлинности с помощью Azure Active Directory, чтобы получить доступ к хранилищу ключей через плоскость управления и плоскость данных. 

[Плоскость управления и плоскость данных.](#management-plane-and-data-plane) Плоскость управления и плоскость данных — это две плоскости доступа к хранилищу ключей. В каждой плоскости доступа поддерживаются определенные операции. В этом разделе описываются конечные точки доступа, поддерживаемые операции и метод контроля доступа, используемый в каждой плоскости. 

[Управление доступом в плоскости управления.](#management-plane-access-control) В этом разделе рассматривается разрешение доступа к операциям плоскости управления с помощью управления доступом на основе ролей.

[Управление доступом в плоскости данных.](#data-plane-access-control) В этом разделе описывается, как использовать политику доступа к хранилищу ключей для управления доступом к плоскости данных.

[Пример.](#example) В этом примере описывается настройка контроля доступа к хранилищу ключей, чтобы разрешить трем различным группам (группа безопасности, разработчики и операторы, а также аудиторы) выполнять определенные задачи разработки и мониторинга приложения, а также управления им в Azure.

## <a name="authentication-using-azure-active-directory"></a>Проверка подлинности с помощью Azure Active Directory
При создании хранилища ключей в подписке Azure оно автоматически связывается с клиентом Azure Active Directory этой подписки. Все вызывающие объекты (пользователи и приложения) должны быть зарегистрированы в этом клиенте, а также пройти аутентификацию, чтобы получить доступ к этому хранилищу ключей. Это относится к доступу к плоскости управления и плоскости данных. В обоих случаях приложение может получить доступ к хранилищу ключей двумя способами.

* **Доступ с помощью пользователя и приложения.** Обычно этот способ используется для приложений, которые получают доступ к хранилищу ключей от имени выполнившего вход пользователя. Такой доступ осуществляется через Azure PowerShell и портал Azure. Есть два способа предоставления доступа пользователям: 
- Предоставить доступ пользователям, чтобы они могли получить доступ к хранилищу ключей из любого приложения.
- Предоставить доступ пользователям к хранилищу ключей, только если они используют конкретное приложение (называемое составным идентификатором).

* **Доступ только с помощью приложения.** Этот способ применяется для приложений, запущенных в качестве служб управляющих программ или фоновых заданий. Доступ к хранилищу ключей предоставляется по удостоверению приложения.

Приложения обоих типов проходят проверку подлинности в Azure Active Directory с использованием любого из [поддерживаемых методов проверки подлинности](../active-directory/develop/authentication-scenarios.md) и получают маркер. Используемый метод проверки подлинности зависит от типа приложения. Затем приложение отправляет запрос REST API в хранилище ключей, используя этот маркер. Запросы плоскости управления направляются через конечную точку Azure Resource Manager. При получении доступа к плоскости данных приложение напрямую обменивается данными с конечной точкой хранилища ключей. Узнайте больше о [полном потоке проверки подлинности](../active-directory/develop/v1-protocols-oauth-code.md). 

Имя ресурса, для которого приложение запрашивает маркер, отличается в зависимости от того, к какой плоскости приложение получает доступ: управления или данных. Таким образом, имя ресурса — это конечная точка плоскости управления или плоскости данных (описывается в таблице раздела ниже) в зависимости от среды Azure.

Единый механизм проверки подлинности при получении доступа к плоскости управления и плоскости данных обеспечивает определенные преимущества:

* организации могут централизованно управлять доступом ко всем принадлежащим им хранилищам ключей;
* когда пользователь покидает организацию, он мгновенно теряет доступ ко всем этим хранилищам ключей;
* организации могут настроить проверку подлинности с помощью параметров в Azure Active Directory (например, включение многофакторной идентификации для повышения безопасности).

## <a name="management-plane-and-data-plane"></a>Плоскость управления и плоскость данных
Azure Key Vault — это служба Azure, доступная через модель развертывания с помощью Azure Resource Manager. При создании хранилища ключей вы получаете виртуальный контейнер, в котором можно хранить конфиденциальные данные, например ключи, секреты и сертификаты. С помощью интерфейсов плоскости управления и плоскости данных можно выполнить определенные операции. Плоскость управления используется для управления хранилищем ключей. Сюда входят операции, такие как управление атрибутами и настройка политик доступа для плоскости данных. Интерфейс плоскости данных, в свою очередь, предназначен для добавления, удаления, изменения и использования ключей, секретов и сертификатов, размещенных в хранилище ключей.

Доступ к интерфейсам плоскости управления и плоскости данных осуществляется через различные конечные точки, приведенные в указанном ниже списке. Во втором столбце таблицы указаны DNS-имена для этих конечных точек в разных средах Azure. В третьем столбце перечислены операции, которые можно выполнять из каждой плоскости доступа. Каждая плоскость доступа также включает собственный механизм управления доступом. Управление доступом плоскости управления можно настроить с помощью управления доступом на основе ролей (RBAC) Azure Resource Manager. Управление доступом плоскости данных настраивается с помощью политики управления доступом к хранилищу ключей.

| Плоскость доступа | Конечные точки доступа | Операции | Механизм контроля доступа |
| --- | --- | --- | --- |
| Плоскость управления |**Глобально:**<br> management.azure.com:443<br><br> **Azure China 21Vianet:**<br> management.chinacloudapi.cn:443<br><br> **Azure для правительства США:**<br> management.usgovcloudapi.net:443<br><br> **Azure для Германии:**<br> management.microsoftazure.de:443 |Создание, чтение, обновление и удаление хранилища ключей <br> Задание политик доступа к хранилищу ключей<br>Задание тегов для хранилища ключей |Управление доступом на основе ролей Azure Active Directory (RBAC) |
| Плоскость данных |**Глобально:**<br> &lt;vault-name&gt;.vault.azure.net:443<br><br> **Azure China 21Vianet:**<br> &lt;vault-name&gt;.vault.azure.cn:443<br><br> **Azure для правительства США:**<br> &lt;vault-name&gt;.vault.usgovcloudapi.net:443<br><br> **Azure для Германии:**<br> &lt;vault-name&gt;.vault.microsoftazure.de:443 |Для ключей: расшифровка, шифрование, оборачивание, разворачивание, проверка, подписывание, получение, перечисление, обновление, создание, импорт, удаление, резервное копирование, восстановление<br><br> Для секретов: получение, перечисление, настройка, удаление |Политика доступа к хранилищу ключей |

Контроль доступа к плоскости управления и плоскости данных осуществляется отдельно. Например, если вы хотите предоставить доступ к приложению для использования ключей в хранилище ключей, вам необходимо предоставить доступ к плоскости данных. Доступ предоставляется с помощью политик доступа к хранилищу ключей. И наоборот, пользователю, которому необходимо прочитать свойства хранилища и теги, а не получить доступ к данным (ключам, секретам или сертификатам), требуется только доступ к плоскости управления. Доступ предоставляется путем назначения пользователю доступа на чтение с помощью RBAC.

## <a name="management-plane-access-control"></a>Контроль доступа к плоскости управления
Плоскость управления состоит из операций, которые влияют на само хранилище ключей. Эти операции включают:

- создание или удаление хранилища ключей;
- получение списка хранилищ в подписке;
- извлечение свойств хранилища ключей (например, SKU, тегов);
- установку политик доступа к хранилищу ключей, с помощью которых можно управлять доступом пользователя и приложения к ключам и секретам.

Контроль доступа к плоскости управления использует RBAC. Полный список операций хранилища ключей, которые можно выполнять с помощью плоскости управления, приведен в таблице предыдущего раздела. 

### <a name="role-based-access-control-rbac"></a>Управление доступом на основе ролей (RBAC)
Каждая подписка Azure имеет каталог Azure Active Directory. Пользователям, группам и приложениям из этого каталога можно предоставить доступ к управлению ресурсами в подписке Azure, для которых используется модель развертывания с помощью Azure Resource Manager. Этот тип контроля доступа называется управлением доступом на основе ролей (RBAC). Для управления доступом можно использовать [портал Azure](https://portal.azure.com/), [инструменты интерфейса командной строки Azure](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs) или [REST API Azure Resource Manager](https://msdn.microsoft.com/library/azure/dn906885.aspx).

Вы можете создать хранилище ключей в группе ресурсов и управлять доступом к плоскости управления с помощью Azure Active Directory. Например, можно предоставить пользователям или группе возможность управлять хранилищами ключей в группе ресурсов.

Вы можете предоставить доступ пользователям, группам и приложениям в определенной области путем назначения соответствующей роли RBAC. Например, чтобы предоставить пользователю доступ к управлению хранилищами ключей, ему необходимо назначить предопределенную роль "Участник хранилища ключей" в определенной области. В этом случае область — это подписка, группа ресурсов или определенное хранилище ключей. Роль, назначенная на уровне подписки, применяется ко всем группам ресурсов и ресурсам в этой подписке. Роль, назначенная на уровне группы ресурсов, применяется ко всем ресурсам в этой группе ресурсов. Роль, назначенная для конкретного ресурса, применяется только к этому ресурсу. Есть несколько заданных по умолчанию ролей (ознакомьтесь со статьей [Встроенные роли для ресурсов Azure](../role-based-access-control/built-in-roles.md)). Если заданные роли не соответствуют вашим потребностям, вы можете определить собственные.

> [!IMPORTANT]
> Обратите внимание, что если у пользователя есть разрешения участника (RBAC) в плоскости управления хранилища ключей, он может предоставить себе доступ к плоскости данных, настроив политику доступа к хранилищу ключей, которая контролирует доступ к плоскости данных. Поэтому рекомендуется тщательно следить за тем, у кого есть доступ участника к вашим хранилищам ключей, чтобы только авторизованные лица могли получать доступ к хранилищам ключей, ключам, секретам и сертификатам, а также управлять ими.
> 
> 

## <a name="data-plane-access-control"></a>Контроль доступа к плоскости данных
Операции плоскости данных хранилища ключей применяются к хранимым объектам, таким как ключи, секреты и сертификаты. Основные операции включают создание, импорт, обновление, получение списка, резервное копирование и восстановление ключей. Криптографические операции включают подписывание, проверку, шифрование, расшифровку, создание программы-оболочки, удаление такой программы, установку тегов и других атрибутов ключей. Аналогично операции с секретами включают операции получения, установки, вывода списка и удаления.

Доступ к плоскости данных предоставляется путем настройки политик доступа для хранилища ключей. У пользователя, группы или приложения должны быть разрешения участника (RBAC) для плоскости управления хранилища ключей, чтобы иметь возможность установить политики доступа для этого хранилища. Пользователю, группе или приложению можно предоставить доступ на выполнение определенных операций с ключами или секретами в хранилище ключей. Хранилище ключей в Key Vault поддерживает до 1024 записей политики доступа. Создайте группу безопасности Azure Active Directory и добавьте пользователей в нее, чтобы предоставить нескольким пользователям доступ к плоскости данных в хранилище ключей.

### <a name="key-vault-access-policies"></a>Политики доступа Key Vault
Политики доступа к хранилищу ключей предоставляют доступ отдельно к ключам, секретам и сертификатам. Например, можно предоставить пользователю доступ только к ключам, но не предоставлять разрешения на секреты. Разрешения на доступ к ключам и секретам или сертификатам находятся на уровне хранилища. Политика доступа к хранилищу ключей не поддерживает детализированные разрешения на уровне объектов, таких как определенный ключ, секрет или сертификат. Чтобы задать политики доступа для хранилища ключей, можно использовать [портал Azure](https://portal.azure.com/), [инструменты интерфейса командной строки Azure](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs) или [REST API управления хранилища ключей](https://msdn.microsoft.com/library/azure/mt620024.aspx).

> [!IMPORTANT]
> Обратите внимание, что политики доступа к хранилищу ключей применяются на уровне хранилища. Например, если пользователю предоставлено разрешение на создание и удаление ключей, он может выполнять эти операции со всеми ключами в этом хранилище ключей.

Помимо использования политик доступа, вы можете применить ограничение доступа к плоскости данных с помощью [конечных точек службы виртуальной сети для Azure Key Vault](key-vault-overview-vnet-service-endpoints.md), настроив [брандмауэры и правила виртуальной сети](key-vault-network-security.md), чтобы обеспечить дополнительный уровень безопасности.

## <a name="example"></a>Пример
Предположим, что разрабатывается приложение, в котором используется сертификат для SSL, служба хранилища Azure для хранения данных и 2048-разрядный ключ RSA для операций подписывания. Предположим, что это приложение выполняется на виртуальной машине Azure (или в масштабируемом наборе виртуальных машин). Вы можете использовать хранилище ключей для хранения секретов приложения и сертификата начальной загрузки, используемого приложением для аутентификации с помощью Azure Active Directory.

Вот краткий перечень всех ключей и секретов, которые должны храниться в хранилище ключей:

* **SSL-сертификат** — используется для SSL;
* **ключ к хранилищу данных** — используется для получения доступа к учетной записи хранения;
* **2048-разрядный ключ RSA** — используется для операций подписывания;
* **сертификат начальной загрузки** — используется для аутентификации с помощью Azure Active Directory. После предоставления доступа можно получить ключ к хранилищу данных и использовать ключ RSA для подписывания.

Теперь давайте познакомимся с людьми, которые развертывают это приложение, управляют им и выполняют его аудит. В этом примере используются три роли.

* **Группа безопасности.** Как правило, это ИТ-специалисты из отдела руководителя службы безопасности или аналогичного ему, ответственные за надлежащее хранение секретов, таких как SSL-сертификаты, ключи RSA для подписывания, строки подключения для баз данных и ключи учетной записи хранения.
* **Разработчики и операторы.** Это люди, которые разрабатывают и развертывают это приложение в Azure. Как правило, они не являются частью группы безопасности и поэтому не должны иметь доступ к конфиденциальным данным, например SSL-сертификатам, ключам RSA, но приложения, которые они развертывают, должны иметь доступ к этим данным.
* **Аудиторы.** Как правило, это разные люди, изолированные от разработчиков и ИТ-специалистов. В их обязанности входит проверка надлежащего использования и обслуживания сертификатов, ключей и секретов, а также обеспечение соответствия стандартам безопасности данных. 

Есть еще одна роль, которая выходит за рамки этого приложения, но ее стоит упомянуть. Это администратор подписки (или группы ресурсов). Администратор подписки устанавливает начальные права доступа для группы безопасности. Администратор подписки предоставляет доступ к группе безопасности с помощью группы ресурсов, которая содержит ресурсы, необходимые для этого приложения.

Теперь давайте посмотрим, какие действия предписаны каждой роли в контексте этого приложения.

* **Группа безопасности:**
  * создание хранилищ ключей;
  * включение ведения журнала хранилища ключей;
  * добавление ключей и секретов;
  * создание резервной копии ключей для аварийного восстановления;
  * задание политики доступа к хранилищу ключей для предоставления пользователям и приложениям разрешений на выполнение определенных операций;
  * периодическое развертывание ключей и секретов.
* **Разработчики и операторы:**
  * получение ссылок на сертификаты начальной загрузки и SSL-сертификаты (отпечатки), ключ к хранилищу данных (универсальный код ресурса (URI) секрета) и ключ подписывания (URI ключа) из группы безопасности;
  * разработка и развертывание приложения, которое получает доступ к ключам и секретам программным способом.
* **Аудиторы:**
  * просмотр журналов использования для подтверждения правильного использования ключей или секретов и соответствия стандартам безопасности данных.

Теперь давайте рассмотрим, какие права доступа необходимы каждой роли (и приложению) для выполнения поставленных задач. 

| Роль пользователя | Разрешения плоскости управления | Разрешения плоскости данных |
| --- | --- | --- |
| Группа безопасности |Участник хранилища ключей |Ключи: резервное копирование, создание, удаление, получение, импорт, перечисление, восстановление <br> Секреты: все |
| Разработчики и операторы |Разрешения на развертывание хранилища ключей, чтобы развертываемые ими виртуальные машины могли получать секреты из хранилища ключей |None |
| Аудиторы |None |Ключи: перечисление<br>Секреты: перечисление |
| Приложение |None |Ключи: подписывание<br>Секреты: получение |

> [!NOTE]
> Аудиторам требуются разрешения на перечисление ключей и секретов, чтобы они могли проверить их атрибуты, которые не отправляются в журналы, например теги, даты активации и окончания срока действия.
> 
> 

Кроме прав доступа к хранилищу ключей, этим трем ролям также необходим доступ к другим ресурсам. Например, чтобы иметь возможность развертывать виртуальные машины (или веб-приложения и т. д.). Разработчикам и операторам также необходим доступ участника к этим типам ресурсов. Аудиторам требуется доступ на чтение к учетной записи хранения, где хранятся журналы хранилища ключей.

Так как в этой статье внимание уделяется защите доступа к хранилищу ключей, здесь рассматриваются только соответствующие аспекты, относящиеся к этой теме, и не указаны сведения о развертывании сертификатов, получении доступа к ключам и секретам программным способом и т. д. например

- Развертывание сертификатов, находящихся в хранилище ключей, на виртуальных машинах, описано в [записи блога, посвященной развертыванию сертификатов на виртуальных машинах из хранилища Key Vault, управляемого клиентом](https://blogs.technet.microsoft.com/kv/2016/09/14/updated-deploy-certificates-to-vms-from-customer-managed-key-vault/).
- Доступны для скачивания [примеры клиента Azure Key Vault](https://www.microsoft.com/download/details.aspx?id=45343), в которых показано, как с помощью сертификата начальной загрузки выполнить аутентификацию в Azure AD и получить доступ к хранилищу ключей.

Большинство прав доступа можно предоставить с помощью портала Azure, но для предоставления детализированных разрешений может потребоваться использовать Azure PowerShell или интерфейс командной строки Azure, чтобы достичь нужного результата. 

В приведенных ниже фрагментах кода PowerShell предполагается следующее.

* Администратор Azure Active Directory создал группы безопасности, представляющие собой три роли, а именно: группу безопасности Contoso, разработчиков приложения Contoso, аудиторов приложения Contoso. Администратор также добавил пользователей в группы, к которым они относятся.
* **ContosoAppRG** — это группа ресурсов, где размещаются ресурсы. **contosologstorage** — место, где хранятся журналы. 
* Хранилище ключей **ContosoKeyVault** и учетная запись хранения, используемая для журналов хранилища ключей **contosologstorage**, должны находиться в одном и том же расположении Azure.

Сначала администратор подписки назначает группе безопасности роли "Участник хранилища ключей" и "Администратор доступа пользователей". Благодаря этому группа безопасности может управлять доступом к другим ресурсам и управлять хранилищем ключей в группе ресурсов ContosoAppRG.

```
New-AzureRmRoleAssignment -ObjectId (Get-AzureRmADGroup -SearchString 'Contoso Security Team')[0].Id -RoleDefinitionName "key vault Contributor" -ResourceGroupName ContosoAppRG
New-AzureRmRoleAssignment -ObjectId (Get-AzureRmADGroup -SearchString 'Contoso Security Team')[0].Id -RoleDefinitionName "User Access Administrator" -ResourceGroupName ContosoAppRG
```

В следующем сценарии представлено, как группа безопасности создает хранилище ключей, настраивает ведение журнала и права доступа. Ознакомиться со сведениями о разрешениях политики доступа Key Vault можно в статье [Сведения о ключах, секретах и сертификатах](about-keys-secrets-and-certificates.md).

```
# Create key vault and enable logging
$sa = Get-AzureRmStorageAccount -ResourceGroup ContosoAppRG -Name contosologstorage
$kv = New-AzureRmKeyVault -Name ContosoKeyVault -ResourceGroup ContosoAppRG -SKU premium -Location 'westus' -EnabledForDeployment
Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent

# Data plane permissions for Security team
Set-AzureRmKeyVaultAccessPolicy -VaultName ContosoKeyVault -ObjectId (Get-AzureRmADGroup -SearchString 'Contoso Security Team')[0].Id -PermissionsToKeys backup,create,delete,get,import,list,restore -PermissionsToSecrets get,list,set,delete,backup,restore,recover,purge

# Management plane permissions for Dev/ops
# Create a new role from an existing role
$devopsrole = Get-AzureRmRoleDefinition -Name "Virtual Machine Contributor"
$devopsrole.Id = $null
$devopsrole.Name = "Contoso App Devops"
$devopsrole.Description = "Can deploy VMs that need secrets from key vault"
$devopsrole.AssignableScopes = @("/subscriptions/<SUBSCRIPTION-GUID>")

# Add permission for dev/ops so they can deploy VMs that have secrets deployed from key vaults
$devopsrole.Actions.Add("Microsoft.KeyVault/vaults/deploy/action")
New-AzureRmRoleDefinition -Role $devopsrole

# Assign this newly defined role to Dev ops security group
New-AzureRmRoleAssignment -ObjectId (Get-AzureRmADGroup -SearchString 'Contoso App Devops')[0].Id -RoleDefinitionName "Contoso App Devops" -ResourceGroupName ContosoAppRG

# Data plane permissions for Auditors
Set-AzureRmKeyVaultAccessPolicy -VaultName ContosoKeyVault -ObjectId (Get-AzureRmADGroup -SearchString 'Contoso App Auditors')[0].Id -PermissionsToKeys list -PermissionsToSecrets list
```

Определенную пользовательскую роль можно назначить только подписке, где создана группа ресурсов ContosoAppRG. Если одни и те же пользовательские роли будут использоваться для других проектов в других подписках, в область могут быть добавлены несколько подписок.

Назначение пользовательской роли разработчикам и операторам для разрешения "развернуть/действие" ограничивается группой ресурсов. Таким образом, секреты (SSL-сертификат и сертификат начальной загрузки) получат только виртуальные машины, созданные в группе ресурсов ContosoAppRG. Любые другие виртуальные машины, созданные участником группы разработчиков и операторов в другой группе ресурсов, не смогут получить эти секреты, даже если им известны их URI.

В этом примере показан простой сценарий. Реальные сценарии могут быть сложнее, и вам может потребоваться настроить разрешения для хранилища ключей в соответствии со своими потребностями. В нашем примере предположим, что группа безопасности предоставляет ссылки на ключ и секрет (URI и отпечатки), которые нужны этой команде разработчиков и операторов, чтобы ссылаться на свои приложения. Разработчикам и операторам не требуется доступ к плоскости данных. В этом примере уделяется внимание обеспечению защиты хранилища ключей. Похожие рекомендации следует также учитывать при обеспечении защиты [виртуальных машин](https://azure.microsoft.com/services/virtual-machines/security/), [учетных записей хранения](../storage/common/storage-security-guide.md) и других ресурсов Azure.

> [!NOTE]
> Примечание. В этом примере показано как доступ к хранилищу ключей будет заблокирован в рабочей среде. У разработчиков должна быть своя подписка или группа ресурсов, где у них есть полный набор разрешений на управление своими хранилищами, виртуальными машинами, а также учетная запись хранения, в которой они разрабатывают приложения.

Настоятельно рекомендуется [настроить брандмауэры и виртуальные сети Key Vault](key-vault-network-security.md), чтобы в дальнейшем обеспечить безопасный доступ к хранилищу ключей.

## <a name="resources"></a>Ресурсы
* [Контроль доступа на основе ролей Azure Active Directory](../role-based-access-control/role-assignments-portal.md)
  
  В этой статье описывается система управления доступом на основе ролей в Azure Active Directory и принципы ее работы.
* [RBAC: встроенные роли](../role-based-access-control/built-in-roles.md)
  
  В этой статье подробно описываются встроенные роли RBAC.
* [Общие сведения о развертывании диспетчера ресурсов и классическом развертывании](../azure-resource-manager/resource-manager-deployment-model.md)
  
  В этой статье рассматриваются модель развертывания на основе Resource Manager и классическая модель, а также описываются преимущества использования Resource Manager и групп ресурсов.
* [Управление доступом на основе ролей с помощью Azure PowerShell](../role-based-access-control/role-assignments-powershell.md)
  
  В этой статье описывается управление доступом на основе ролей с помощью Azure PowerShell.
* [Управление доступом на основе ролей с помощью интерфейса REST API](../role-based-access-control/role-assignments-rest.md)
  
  В этой статье показано, как использовать REST API для управления RBAC.
* [Конференция Ignite: управление доступом на основе ролей в Microsoft Azure](https://channel9.msdn.com/events/Ignite/2015/BRK2707)
  
  На этой видеоконференции Microsoft Ignite 2015 обсуждаются возможности управления доступом и отчетности в Azure, а также рассматриваются лучшие методы защиты доступа к подпискам Azure с помощью Azure Active Directory.
* [Авторизация доступа к веб-приложениям с помощью OAuth 2.0 и Azure Active Directory](../active-directory/develop/v1-protocols-oauth-code.md)
  
  В этой статье описывается полный поток OAuth 2.0 для проверки подлинности с помощью Azure Active Directory.
* [Key vault Management REST APIs](https://msdn.microsoft.com/library/azure/mt620024.aspx) (REST API для управления хранилищем ключей)
  
  Этот документ является справочником по REST API для управления хранилищем ключей программным способом, включая настройку политики доступа к хранилищу ключей.
* [REST API хранилища ключей](https://msdn.microsoft.com/library/azure/dn903609.aspx)
  
  Ссылка на справочную документацию по REST API хранилища ключей.
* [Контроль доступа к ключам](https://msdn.microsoft.com/library/azure/dn903623.aspx#BKMK_KeyAccessControl)
  
  Ссылка на справочную документацию по контролю доступа к секретам.
* [Контроль доступа к секретам](https://msdn.microsoft.com/library/azure/dn903623.aspx#BKMK_SecretAccessControl)
  
  Ссылка на справочную документацию по контролю доступа к ключам.
* [Настройка](https://docs.microsoft.com/powershell/module/azurerm.keyvault/Set-AzureRmKeyVaultAccessPolicy) и [удаление](https://docs.microsoft.com/powershell/module/azurerm.keyvault/Remove-AzureRmKeyVaultAccessPolicy) политики доступа к хранилищу ключей с помощью PowerShell
  
  Ссылки на справочную документацию по командлетам PowerShell для управления политикой доступа к хранилищу ключей.

## <a name="next-steps"></a>Дальнейшие действия
[Configure Azure Key Vault Firewalls and Virtual Networks](key-vault-network-security.md) (Настройка брандмауэров и виртуальных сетей Key Vault)

Руководство по началу работы для администраторов см. в статье [Приступая к работе с хранилищем ключей Azure](key-vault-get-started.md).

Дополнительные сведения о ведении журнала использования для хранилища ключей см. в статье [Ведение журнала хранилища ключей Azure](key-vault-logging.md).

Дополнительные сведения об использовании ключей и секретов с помощью хранилища ключей Azure см. в статье [About keys, secrets, and certificates](https://msdn.microsoft.com/library/azure/dn903623.aspx) (О ключах, секретах и сертификатах).

Если у вас возникли вопросы о хранилище ключей, посетите [форумы хранилища ключей Azure](https://social.msdn.microsoft.com/forums/azure/home?forum=AzureKeyVault).

