<properties title="Создание веб-теста" pageTitle="Создание веб-теста" description="Узнайте, как создавать веб-тесты в Azure." authors="stepsic"  />

# Веб-тесты

Работает ли еще ваш веб-сайт Azure? Правильно ли и достаточно быстро он отвечает? Проверяйте свой веб-сайт через равные промежутки времени, настроив веб-тест. Если сайт выходит из строя либо отвечает медленно или неправильно, вы получите оповещение по электронной почте. И вы получите графики, показывающие, как зависят его доступность и скорость ответа от времени.  

   ![Обзор концентратора](./media/insights-create-web-tests/Inisghts_WebTestBlade.png)

Можно настроить мониторинг доступности для любого веб-сайта Azure, использующего план "Базовый" или "Стандартный".  Можно создать до 3 веб-тестов и выполнять каждый из них из нескольких (до 3) географических мест. При этом не понадобятся никакие изменения веб-сайта.

Можно также приостановить веб-тесты во время развертываний и известных сбоев, чтобы они не повлияли на общую доступность.  Общая доступность вычисляется для всех веб-тестов, включая выбранные различные места.

## Настройка веб-теста

1. Чтобы настроить веб-тест, сначала проверьте, какой план используется для веб-сайта — **Базовый** или **Стандартный**.
2. Затем, выберите часть **Веб-тест** на выноске **Веб-сайт**:

   ![Настройка веб-тестов](./media/insights-create-web-tests/Insights_ConfigurePart.png)

3. В выноске **Создание веб-теста** назначьте имя веб-тесту и укажите URL-адрес, для которого будет выполняться тест.

   ![Создание веб-теста](./media/insights-create-web-tests/Insights_CreateTest.png)

4. Затем выберите до 3 из 8 мест

5. Укажите условия успеха, включая проверки кода состояния HTTP или строку, содержащуюся на самом сайте.

6. Затем выберите параметры оповещений, а также чувствительность и получателей электронной почты.

   ![Оповещения](./media/insights-create-web-tests/Inisghts_AlertCreation.png)
   
    - При высокой чувствительности оповещения будут создаваться, когда будет обнаружен сбой теста даже для 1 места.
    - Средняя чувствительность требует, чтобы сбой произошел, как минимум, для половины мест в течение 10 минут.
    - Низкая чувствительность требует, чтобы в течение 15 минут сбой теста произошел для всех мест.

После завершения работы нажмите кнопку **Создать**. После своего создания веб-тест будет выполняться каждые 5 минут из заданных мест, поэтому для отображения данных может потребоваться определенное время.

### О каких местах идет речь? 
Мы отправляем запрос к веб-сайту из этих мест, точно так же, как пользователи будут заходить на этот сайт из различных частей света. Если сайт становится недоступным в США, но по-прежнему доступен в Европе, вы будете знать, что проблема связана с сетью, а не с сервером.

### Использование условий успеха
Обычно нужно проверить, что код состояния HTTP равна 200. Этот код сообщает, что сервер распознал URI и вернул страницу.

Нельзя использовать подстановочные знаки в строке соответствие контента, но можно проверить любой обычный текст.

## Ой! - Мой сайт не работает.  
Если веб-тест не проходит критерии успеха, то он помечается как неудачный тест и снижает общую доступность веб-сайта. Неудачные тесты (так же, как и успешные тесты) отображаются в точечной диаграмме на конкретной выноске веб-теста.  

   ![Неудачный тест](./media/insights-create-web-tests/Insights_FailedWebTest.png)

Неудачные тесты можно проанализировать, чтобы определить, почему они оказались неудачными.  Внимательно изучите неудачный веб-тест, а затем загрузите и откройте файл результатов веб-теста в Visual Studio, чтобы проанализировать и понять причины сбоя теста.

   ![Открытие в VS](./media/insights-create-web-tests/Insights_OpenInVS.png)



