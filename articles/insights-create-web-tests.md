<properties title="How to create web test" pageTitle="How to create web test" description="Learn how to create web tests in Azure." authors="awills" manager="kamrani" />

<tags ms.service="application-insights" ms.workload="tbd" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="2014-09-29" ms.author="awills"></tags>

# Веб-тесты

Работает ли еще ваш веб-сайт Azure? Правильно ли и достаточно быстро он отвечает? Проверяйте свой веб-сайт через равные промежутки времени, настроив веб-тест. Если сайт выходит из строя либо отвечает медленно или неправильно, вы получите оповещение по электронной почте. И вы получите графики, показывающие, как зависят его доступность и скорость ответа от времени.

![Обзор концентратора][Обзор концентратора]

Можно настроить мониторинг доступности для любого веб-сайта Azure, использующего план "Базовый" или "Стандартный". Можно создать до 3 веб-тестов и выполнять каждый из них из нескольких (до 3) географических мест. При этом не понадобятся никакие изменения веб-сайта.

Можно также приостановить веб-тесты во время развертываний и известных сбоев, чтобы они не повлияли на общую доступность. Общая доступность вычисляется для всех веб-тестов, включая выбранные различные места.

## Настройка веб-теста

1.  Чтобы настроить веб-тест, сначала проверьте, какой план используется для веб-сайта — **Базовый** или **Стандартный**.
2.  После этого выберите часть **Веб-тест** на выноске **Веб-сайт**.
    ![Настройка веб-тестов][Настройка веб-тестов]
3.  В выноске **Создание веб-теста** назначьте имя веб-тесту и укажите URL-адрес, для которого будет выполняться тест.
    ![Создать веб-тест][Создать веб-тест]
4.  Затем выберите до 3 из 8 расположений
5.  Укажите критерии успешной работы, включая проверки кода состояния HTTP или строку, содержащуюся на самом сайте.
6.  Затем выберите параметры оповещений, а также чувствительность и получателей электронной почты.
    ![Оповещения][Оповещения]

    -   При высокой чувствительности оповещения будут создаваться в случае обнаружения сбоя теста даже для 1 местоположения.
    -   Средняя чувствительность требует, чтобы сбой произошел как минимум для половины мест в течение 10 минут.
    -   Низкая чувствительность требует, чтобы в течение 15 минут сбой теста произошел для всех мест.

После завершения работы нажмите кнопку **Создать**. После своего создания веб-тест будет выполняться каждые 5 минут из заданных мест, поэтому для отображения данных может потребоваться определенное время.

### О каких местах идет речь?

Мы отправляем запрос к веб-сайту из этих мест, точно так же, как пользователи будут заходить на этот сайт из различных частей света. Если сайт становится недоступным в США, но по-прежнему доступен в Европе, вы будете знать, что проблема связана с сетью, а не с сервером.

### Использование критериев успеха

Обычно нужно проверить, что код состояния HTTP равен 200. Этот код сообщает, что сервер распознал URI и вернул страницу.

Нельзя использовать подстановочные знаки в строке соответствие контента, но можно проверить любой обычный текст.

## Ой! Мой сайт не работает!

Если веб-тест не проходит критерии успеха, то он помечается как неудачный тест и снижает общую доступность веб-сайта. Неудачные тесты (так же, как и успешные тесты) отображаются в точечной диаграмме на конкретной выноске веб-теста.

![Неудачный тест][Неудачный тест]

Неудачные тесты можно проанализировать, чтобы определить, почему они оказались неудачными. Внимательно изучите неудачный веб-тест, а затем загрузите и откройте файл результатов веб-теста в Visual Studio, чтобы проанализировать и понять причины сбоя теста.

![Открытие в VS][Открытие в VS]

  [Обзор концентратора]: ./media/insights-create-web-tests/Inisghts_WebTestBlade.png
  [Настройка веб-тестов]: ./media/insights-create-web-tests/Insights_ConfigurePart.png
  [Создать веб-тест]: ./media/insights-create-web-tests/Insights_CreateTest.png
  [Оповещения]: ./media/insights-create-web-tests/Inisghts_AlertCreation.png
  [Неудачный тест]: ./media/insights-create-web-tests/Insights_FailedWebTest.png
  [Открытие в VS]: ./media/insights-create-web-tests/Insights_OpenInVS.png
