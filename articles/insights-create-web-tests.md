<properties title="How to create web test" pageTitle="Создание веб-теста" description="Узнайте, как создавать веб-тесты в Azure." authors="awills" manager="kamrani" />

<tags ms.service="application-insights" ms.workload="tbd" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="2014-09-29" ms.author="awills"  />

# Веб-тесты для веб-сайтов Microsoft Azure
Работает ли еще ваш веб-сайт Azure? Правильно ли и достаточно быстро он отвечает? Проверяйте свой веб-сайт через равные промежутки времени, настроив веб-тест. Если сайт выходит из строя либо отвечает медленно или неправильно, вы получите оповещение по электронной почте. И вы получите графики, показывающие, как зависят его доступность и скорость ответа от времени.  

*Хотите протестировать какой-то другой веб-сайт? Воспользуйтесь [веб-тестами Application Insights][] для веб-приложений, созданных с помощью отличных от Microsoft Azure программ.*

![Browse Hub](./media/insights-create-web-tests/Inisghts_WebTestBlade.png)

Можно настроить мониторинг доступности для любого веб-сайта Azure, использующего план "Базовый" или "Стандартный".  Можно создать до 3 веб-тестов и выполнять каждый из них из нескольких (до 3) географических мест. При этом не понадобятся никакие изменения веб-сайта.

Можно также приостановить веб-тесты во время развертываний или известных сбоев, чтобы они не повлияли на общую доступность.  Общая доступность вычисляется для всех веб-тестов, включая различные выбранные расположения.

## Настройка веб-теста
1. Чтобы настроить веб-тест, сначала проверьте, какой план используется для веб-сайта - **Базовый** или **Стандартный**.
2. После этого выберите часть **Веб-тест** в колонке **Веб-сайт**.  
    ![Configure Web Tests](./media/insights-create-web-tests/Insights_ConfigurePart.png)
3. В колонке **Создание веб-теста** назначьте имя веб-тесту и укажите URL-адрес, для которого будет выполняться тест.  
    ![Create Web Test](./media/insights-create-web-tests/Insights_CreateTest.png)
4. Затем выберите до 3 из 8 расположений
5. Укажите критерии успешной работы, включая проверки кода состояния HTTP или строку, содержащуюся на самом сайте.
6. Затем выберите параметры оповещений, а также чувствительность и получателей электронной почты.  
    ![Alerts](./media/insights-create-web-tests/Inisghts_AlertCreation.png)
    - При высокой чувствительности оповещения будут создаваться в случае обнаружения сбоя теста даже для 1 местоположения.
    - Средняя чувствительность требует, чтобы сбой произошел как минимум для половины мест в течение 10 минут.
    - Низкая чувствительность требует, чтобы в течение 15 минут сбой теста произошел для всех мест.

После завершения работы нажмите кнопку **Создать**. После создания веб-тест будет выполняться из указанных расположений каждые 5 минут, поэтому для отображения данных может потребоваться определенное время.

### О каких местах идет речь?
Мы отправляем запрос к веб-сайту из этих расположений аналогично тому, как пользователи будут заходить на этот сайт из различных частей света. Если сайт становится недоступным в США, но по-прежнему доступен в Европе, вы будете знать, что проблема связана с сетью, а не с сервером.

### Использование критериев успеха
Обычно нужно проверить, что код состояния HTTP равен 200. Этот код сообщает, что сервер распознал URI и вернул страницу.

Нельзя использовать подстановочные знаки в строке соответствие контента, но можно проверить любой обычный текст.

## Ой! Мой сайт не работает!
Если результат веб-теста не соответствует критерию успешной работы, он помечается как неудачный и снижает общую доступность веб-сайта. Неудачные тесты (так же, как и успешные) отображаются на точечной диаграмме в конкретной колонке веб-теста.  

![Failed Test](./media/insights-create-web-tests/Insights_FailedWebTest.png)

Неудачные тесты можно проанализировать, чтобы определить причину их неудачи.  Внимательно изучите неудачный веб-тест, а затем скачайте и откройте файл результатов веб-теста в Visual Studio, чтобы проанализировать и понять причины сбоя.

![Open in VS](./media/insights-create-web-tests/Insights_OpenInVS.png)

[availability]: ../app-insights-monitor-web-app-availability/
