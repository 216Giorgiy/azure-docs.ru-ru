---
title: Получение ценных сведений о потреблении ресурсов Microsoft Azure | Microsoft Docs
description: Предоставляет общие сведения о API использования и RateCard для выставления счетов Azure, которые применяются для получения ценных сведений о потреблении ресурсов Azure и соответствующих тенденциях.
services: ''
documentationcenter: ''
author: BryanLa
manager: mbaldwin
editor: ''
tags: billing

ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 08/16/2016
ms.author: mobandyo;bryanla

---
# Получение ценных сведений о потреблении ресурсов Microsoft Azure
Клиенты и партнеры нуждаются в возможности точно прогнозировать расходы Azure и управлять ими. При переходе от модели капитальных расходов к модели эксплуатационных расходов они также нуждаются в возможности производить сравнительный анализ возвратных платежей и виртуальных счетов, а также обеспечивать точность при определении затрат и выставлении счетов , особенно для больших облачных развертываний.

Эти потребности удовлетворяют рассматриваемые в данной статье API использования ресурсов и тарифной карты (RateCard) Azure, которые позволяют получить новые ценные сведения о вашем потреблении ресурсов Azure.

## Знакомство с API использования ресурсов и RateCard в Azure
API использования ресурсов и RateCard в Azure реализованы в виде поставщика ресурсов и относятся к семейству API, предоставляемых диспетчером ресурсов Azure.

### API использования ресурсов Azure (предварительная версия)
Клиенты и партнеры могут применять API использования ресурсов Azure для получения оценочных данных об уровне потребления Azure. Доступны следующие функции:

* **Azure Role-based Access Control** (Управление доступом на основе ролей Azure) — клиенты и партнеры могут настроить свои политики доступа на [портале Azure](https://portal.azure.com) или с помощью [командлетов Azure PowerShell](powershell-install-configure.md), чтобы указать, какие пользователи или приложения могут получить доступ к данным об использовании в рамках подписки. Вызывающие объекты должны использовать стандартные маркеры Azure Active Directory для проверки подлинности. Вызывающий объект также должен быть добавлен в роль читателя, владельца или участника, чтобы получить доступ к данным об использовании для конкретной подписки Azure.
* **Hourly or Daily Aggregations** (Агрегирование по часам или по дням) — вызывающие объекты могут указать, требуется ли получать данные об использовании Azure сегментами за каждый час или за каждый день. По умолчанию используется получение сегментов за каждый день.
* **Instance metadata provided (includes resource tags)** (Предоставленные метаданные экземпляров, включая теги ресурсов) — ответ будет содержать сведения уровня экземпляра, например полный URI-код ресурса (/subscriptions/{идентификатор подписки}/..), информацию о группе ресурсов и теги ресурсов. Это поможет клиентам детерминированно и программно распределять использование по тегам для таких вариантов использования, как перекрестное выставление счетов.
* **Resource metadata provided** (Предоставленные метаданные ресурсов) — в ответе также будут передаваться сведения о ресурсах, такие как имя индикатора, категория индикатора, подкатегория индикатора, единица измерения и регион, чтобы клиенты могли получить более полное представление о потребленных ресурсах. Мы также работаем над согласованием терминологии метаданных для портала Azure, файлов сведений об использовании Azure, файлов сведений о выставлении счетов по EA и других общедоступных механизмов, чтобы клиенты могли соотносить данные из разных областей.
* **Usage for all offer types** (Использование для всех видов предложений) — данные об использовании будут доступны для всех видов предложений, включая оплату по мере использования, MSDN, денежные обязательства, денежный кредит и EA.

### API RateCard по ресурсам Azure (предварительная версия)
Клиенты и партнеры могут использовать API RateCard по ресурсам Azure для получения списка доступных ресурсов Azure, а также примерной стоимости каждого из них. Доступны следующие функции:

* **Azure Role-based Access Control** (Управление доступом на основе ролей Azure) — клиенты и партнеры могут настроить свои политики доступа на [портале версии Azure](https://portal.azure.com) или с помощью [командлетов Azure PowerShell](powershell-install-configure.md), чтобы указать, какие пользователи или приложения могут получить доступ к данным RateCard. Вызывающие объекты должны использовать стандартные маркеры Azure Active Directory для проверки подлинности. Вызывающий объект также должен быть добавлен в роль читателя, владельца или участника, чтобы получить доступ к данным об использовании для конкретной подписки Azure.
* **Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** (Поддержка оплаты по мере использования, MSDN, денежных обязательств, денежного кредита, EA не поддерживается) — этот API предоставляет сведения о тарифах Azure на уровне предложений для сравнения с уровнем подписок. Вызывающий объект этого API должен передать сведения о предложении, чтобы получить информацию о ресурсах и тарифы. Поскольку в рамках EA действуют специальные тарифы для каждой регистрации, в настоящее время мы не можем предоставить сведения о тарифах для EA.

## Сценарии
Ниже приведено несколько сценариев, которые становятся возможными благодаря сочетанию API использования и RateCard.

* **Azure spend during the month** (Затраты на Azure в течение месяца) — клиенты могут сочетать API использования и RateCard, чтобы получить более ценные сведения о затратах на облако в течение месяца, анализируя данные оценки использования и затрат сегментами за каждый час или за каждый день.
* **Set up alerts** (Настройка оповещений) — клиенты и партнеры могут настроить оповещения на основе ресурсов или денежных средств для уровня потребления облака, получая оценочные показатели потребления и издержек с помощью API использования и RateCard.
* **Predict bill** (Прогнозирование счета) — клиенты и партнеры могут получить оценочные показатели потребления и издержек для облака и применить алгоритмы машинного обучения, чтобы спрогнозировать сумму счета в конце цикла выставления счетов.
* **Pre-consumption cost analysis** (Анализ затрат до потребления) — клиенты могут также использовать API RateCard, чтобы спрогнозировать размер счета в случае переноса рабочих нагрузок в Azure, предоставив необходимые показатели использования. Если клиенты имеют рабочие нагрузки в других облаках и в частных облаках, они также могут сопоставить их использование с тарифами Azure, чтобы точнее определить предполагаемые расходы Azure. [Калькулятор цен Azure](https://azure.microsoft.com/pricing/calculator/) дает более полное представление о том, что именно можно получить: например, наши партнеры по выставлению счетов предоставляют возможность получения сводки по предложению и сравнения/противопоставления разных типов предложений, выходящих за рамки оплаты по мере использования, включая денежные обязательства и денежный кредит. API также позволяют оценить стоимость с учетом изменений по регионам, в результате чего становится возможен анализ "что если", необходимый для принятия решений о развертывании, поскольку развертывание ресурсов в различных контроллерах доменов по всему миру может оказывать непосредственное влияние на совокупную стоимость.
* **What-if analysis** (Анализ "что если") —
  
  * клиенты и партнеры могут определить, выгоднее ли выполнять рабочие нагрузки в другом регионе или с другой конфигурацией ресурсов Azure. Стоимость ресурсов Azure может отличаться в зависимости от региона Azure, в котором они размещаются, что позволяет клиентам и партнерам оптимизировать затраты.
  * Клиенты и партнеры также могут определить, предоставляет ли другое предложение Azure более выгодный тариф на ресурс Azure.

## Решения партнеров
Статья [API использования и RateCard Microsoft Azure позволяют Cloudyn предоставлять ITFM-функции своим клиентам](billing-usage-rate-card-partner-solution-cloudyn.md) описывает интеграцию механизмов, предоставляемых партнером по API выставления счетов Azure — [Cloudyn](https://www.cloudyn.com/microsoft-azure/). Эта статья содержит подробное описание полученного опыта, включая короткий видеоролик, где показано, как клиент Azure может использовать API выставления счетов Azure и Cloudyn для извлечения ценных сведений из своих данных о потреблении Azure.

В статье [Интеграция Cloud Cruiser и API выставления счетов Microsoft Azure](billing-usage-rate-card-partner-solution-cloudcruiser.md) описано, как [пакет Cloud Cruiser Express для Azure](http://www.cloudcruiser.com/partners/microsoft/) работает непосредственно с портала WAP, позволяя клиентам легко управлять рабочими и финансовыми аспектами их частного или общедоступного облака Microsoft Azure из единого пользовательского интерфейса.

## Дальнейшие действия
* В статье [Справочник по API REST выставления счетов в Azure](https://msdn.microsoft.com/library/azure/1ea5b323-54bb-423d-916f-190de96c6a3c) приведены дополнительные сведения о двух API, которые входят в состав набора API, предоставляемого диспетчером ресурсов Azure.
* Если вы хотите подробнее изучить код примера, посетите страницу "Образцы кода API выставления счетов Microsoft Azure" на сайте [Образцы кодов Azure](https://azure.microsoft.com/documentation/samples/?term=billing).

## Подробнее
* В статье [Обзор диспетчера ресурсов Azure](resource-group-overview.md) приведены дополнительные сведения о диспетчере ресурсов Azure.
* Дополнительные сведения о наборе средств, необходимых для получения представления о расходах на облако, см. в статье Gartner [Руководство по ИТ-средствам финансового управления (ITFM)](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).

<!---HONumber=AcomDC_0817_2016-->