---
title: "Пошаговое руководство по решению для диагностического обслуживания | Документация Майкрософт"
description: "Пошаговое руководство по предварительно настроенному решению для диагностического обслуживания IoT Azure."
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 3c48a716-b805-4c99-8177-414cc4bec3de
ms.service: iot-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: dobett
ms.translationtype: HT
ms.sourcegitcommit: bfd49ea68c597b109a2c6823b7a8115608fa26c3
ms.openlocfilehash: a68a8fdc3976ade0d1036d5ed58c8b2eb6d32a5d
ms.contentlocale: ru-ru
ms.lasthandoff: 07/25/2017

---
# <a name="predictive-maintenance-preconfigured-solution-walkthrough"></a>Пошаговое руководство по предварительно настроенному решению для диагностического обслуживания

Предварительно настроенное решение для прогнозного обслуживания — это комплексное решение для бизнес-сценария с прогнозированием вероятной точки сбоя. Это предварительно настроенное решение можно с упреждением использовать в таких задачах, как оптимизация обслуживания. Оно объединяет ключевые службы Azure IoT Suite, такие как Центр Интернета вещей и Stream Analytics, и рабочую область [машинного обучения Azure][lnk-machine-learning], в которой содержится модель для прогнозирования оставшегося срока полезного использования двигателей самолетов на основании общедоступного набора демонстрационных данных. Это решение полностью реализовывает бизнес-сценарий IoT и может служить основой для планирования и реализации подобного решения в соответствии с конкретными потребностями.

## <a name="logical-architecture"></a>Логическая архитектура

На следующей диаграмме показаны логические компоненты предварительно настроенного решения.

![][img-architecture]

Синие блоки — это службы Azure, подготовленные в регионе, в котором развернуто предварительно настроенное решение. Список регионов, в которых можно развернуть предварительно настроенное решение, отображается на [странице подготовки][lnk-azureiotsuite].

Зеленый блок — это виртуальное устройство, представляющее двигатель самолета. Дополнительные сведения о виртуальных устройствах см. в следующем разделе.

Серые блоки представляют компоненты, реализующие возможности *управления устройствами*. В текущем выпуске предварительно настроенного решения для диагностического обслуживания эти ресурсы не подготавливаются. Дополнительные сведения об управлении устройствами см. в статье [Пошаговое руководство по работе с настроенным решением для удаленного мониторинга][lnk-remote-monitoring].

## <a name="simulated-devices"></a>Виртуальные устройства

В предварительно настроенном решении виртуальное устройство представляет двигатель самолета. В этом решении есть два двигателя, установленных на одном самолете. Каждый двигатель выдает данные телеметрии четырех типов: датчика 9, датчика 11, датчика 14 и датчика 15. Эти датчики предоставляют данные, необходимые модели машинного обучения для расчета оставшегося срока полезного использования двигателя. Каждое виртуальное устройство отправляет в Центр Интернета вещей следующие сообщения телеметрии.

*Счетчик циклов*. Цикл представляет собой завершенный полет длительностью от двух до десяти часов. Во время полета данные телеметрии регистрируются каждые полчаса.

*Телеметрия*. Есть четыре датчика, представляющие атрибуты двигателя. Датчики имеют универсальные имена: датчик 9, датчик 11, датчик 14 и датчик 15. Эти четыре датчика представляют данные телеметрии, на основе которых можно получить оптимальные результаты из модели оставшегося срока полезного использования. Эта модель, использованная в предварительно настроенном решении, создается из общедоступного набора данных, который включает фактические данные датчиков двигателя. Дополнительные сведения о создании модели из исходного набора данных см. на странице [шаблона диагностического обслуживания из коллекции Cortana Intelligence][lnk-cortana-analytics].

Виртуальные устройства могут обрабатывать следующие команды, отправляемые из Центра Интернета вещей в решение:

| Команда | Описание |
| --- | --- |
| StartTelemetry |Управляет состоянием моделирования.<br/>Запускает отправку данных телеметрии с устройства. |
| StopTelemetry |Управляет состоянием моделирования.<br/>Останавливает отправку данных телеметрии с устройства. |

Центр Интернета вещей подтверждает получение команды от устройства.

## <a name="azure-stream-analytics-job"></a>Задание Azure Stream Analytics

**Задание: телеметрия**. Работает на входящем потоке телеметрии устройства, используя две инструкции.

* Первая инструкция выбирает все данные телеметрии, поступающие от устройств, и отправляет эти данные в хранилище BLOB-объектов. Оттуда они будут визуализированы в веб-приложении.
* Вторая инструкция вычисляет средние значения датчика за скользящее двухминутное окно и отправляет эти данные через концентратор событий в **обработчик событий**.

## <a name="event-processor"></a>Обработчик событий
**Узел обработчика событий** выполняется в веб-задании Azure. **Обработчик событий** принимает средние значения датчика за завершенный цикл. Он передает эти значения в API, который предоставляет обученную модель для вычисления оставшегося срока полезного использования двигателя. API предоставляет рабочая область машинного обучения, подготавливаемая как часть решения.

## <a name="machine-learning"></a>Машинное обучение
Компонент машинного обучения использует модель на основе данных, собранных с настоящих двигателей самолета. Вы можете перейти к рабочей области машинного обучения с помощью плитки на странице [azureiotsuite.com][lnk-azureiotsuite] подготовленного решения. Плитка доступна, когда решение находится в состоянии **Готово**.


## <a name="next-steps"></a>Дальнейшие действия
Вы ознакомились с основными компонентами предварительно настроенного решения прогнозируемого обслуживания. Вы можете попробовать настроить его. Ознакомьтесь со статьей [Настройка предварительно настроенного решения][lnk-customize].

Вы также можете ознакомиться с другими функциями и возможностями предварительно настроенных решений IoT Suite.

* [Часто задаваемые вопросы об IoT Suite][lnk-faq]
* [Все аспекты безопасности Интернета вещей][lnk-security-groundup]

[img-architecture]: media/iot-suite-predictive-walkthrough/architecture.png

[lnk-remote-monitoring]: iot-suite-remote-monitoring-sample-walkthrough.md
[lnk-cortana-analytics]: http://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Template-3
[lnk-azureiotsuite]: https://www.azureiotsuite.com/
[lnk-customize]: iot-suite-guidance-on-customizing-preconfigured-solutions.md
[lnk-faq]: iot-suite-faq.md
[lnk-security-groundup]: securing-iot-ground-up.md
[lnk-machine-learning]: https://azure.microsoft.com/services/machine-learning/
