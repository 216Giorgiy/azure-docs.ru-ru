---
title: Обнаружение проблем на устройствах с помощью решения для удаленного мониторинга в Azure | Документация Майкрософт
description: В этом руководстве показано, как использовать правила и действия для автоматического обнаружения проблем на устройстве на основе пороговых значений в решении для удаленного мониторинга.
services: iot-suite
suite: iot-suite
author: dominicbetts
manager: timlt
ms.author: dobett
ms.service: iot-suite
ms.date: 05/01/2018
ms.topic: article
ms.devlang: NA
ms.tgt_pltfrm: NA
ms.workload: NA
ms.openlocfilehash: 5acf35ed19a5b6baa2885fd58cfb7fbbe1ac3cd8
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="detect-issues-using-threshold-based-rules"></a>Обнаружение проблем с помощью правил на основе пороговых значений

В этом руководстве описаны возможности обработчика правил в решении для удаленного мониторинга. Для демонстрации этих возможностей в руководстве используется сценарий приложения Интернета вещей Contoso.

В Contoso есть правило, которое создает критическое оповещение, когда давление устройства **Chiller** превышает 250 фунтов на квадратный дюйм. Оператору необходимо просмотреть первоначальные пики давления и определить устройства **Chiller**, у которых могут быть неисправные датчики. Для этого нужно задать правило, создающее уведомление, если давление превышает 150 фунтов на квадратный дюйм.

Также вам нужно, чтобы критически важное оповещение активировалось, если за последние 5 минут средний уровень влажности устройства **Chiller** превышал 80 %, а температура устройства **Chiller** — 23 градуса по Цельсию.

Из этого руководства вы узнаете, как выполнять такие задачи:

>[!div class="checklist"]
> * Просмотр правил в решении
> * Создание нового правила
> * Создание правила с несколькими условиями
> * Изменение имеющегося правила
> * Удаление правила

## <a name="prerequisites"></a>предварительным требованиям

Для работы с этим руководством нужен развернутый экземпляр решения для удаленного мониторинга в подписке Azure.

Если решение для удаленного мониторинга еще не развернуто, выполните инструкции по [развертыванию акселератора решений для удаленного мониторинга](iot-suite-remote-monitoring-deploy.md).

## <a name="view-the-rules-in-your-solution"></a>Просмотр правил в решении

На странице **Правила** в решении показан список актуальных правил:

![Страница Rules & Actions (Правила и действия)](media/iot-suite-remote-monitoring-automate/rulesactions_v2.png)

Для просмотра правил, которые применяются только к устройствам **Chiller**, примените фильтр:

![Фильтрация списка правил](media/iot-suite-remote-monitoring-automate/rulesactionsfilter_v2.png)

Вы можете просмотреть сведения о правиле и изменить его, выбрав его в списке:

![Просмотр сведений о правиле](media/iot-suite-remote-monitoring-automate/rulesactionsdetail_v2.png)

Для включения, отключения и удаления одного или нескольких правил выберите их в списке:

![Выбор нескольких правил](media/iot-suite-remote-monitoring-automate/rulesactionsmultiselect_v2.png)

## <a name="create-a-new-rule"></a>Создание нового правила

Чтобы добавить новое правило, создающее предупреждение, когда давление в устройстве **Chiller** превышает 150 фунтов на квадратный дюйм, выберите **New rule** (Новое правило):

![Создание правила](media/iot-suite-remote-monitoring-automate/rulesactionsnewrule_v2.png)

Чтобы создать правило, используйте следующие значения:

| Параметр          | Значение                                 |
| ---------------- | ------------------------------------- |
| Имя правила        | Предупреждение устройства Chiller                       |
| ОПИСАНИЕ      | Давление устройства Chiller превышает 150 фунтов на квадратный дюйм |
| Группа устройств     | Группа устройств **Chillers**             |
| Вычисление      | Мгновенное                               |
| Поле условия 1| pressure                              |
| Оператор условия 1 | Больше                      |
| Значение условия 1    | 150                               |
| Уровень серьезности  | Предупреждение                               |

Чтобы сохранить новое правило, нажмите кнопку **Применить**.

Сведения о том, активировано ли правило, можно посмотреть на странице **Правила** или **Панель мониторинга**.

## <a name="create-a-new-rule-with-multiple-conditions"></a>Создание правила с несколькими условиями

Выберите **Новое правило**, чтобы создать правило с несколькими условиями, которое активирует критически важное оповещение, если за последние 5 минут средний уровень влажности устройства **Chiller** превышал 80 %, а температура устройства **Chiller** — 23 градуса по Цельсию.

![Создание правила с несколькими условиями](media/iot-suite-remote-monitoring-automate/rulesactionsnewrule_mult_v2.png)

Чтобы создать правило, используйте следующие значения:

| Параметр          | Значение                                 |
| ---------------- | ------------------------------------- |
| Имя правила        | Критический уровень влажности и температуры устройства Chiller    |
| ОПИСАНИЕ      | Критический уровень влажности и температуры |
| Группа устройств     | Группа устройств **Chillers**             |
| Вычисление      | Средняя                               |
| Период времени      | 5                                     |
| Поле условия 1| Влажность                              |
| Оператор условия 1 | Больше                      |
| Значение условия 1    | 80                               |
| Уровень серьезности  | критические ошибки.                              |

Чтобы добавить второе условие, щелкните "+Добавить условие".

![Создание условия 2](media/iot-suite-remote-monitoring-automate/rulesactionsnewrule_mult_cond2_v2.png)

Используйте следующие значения для нового условия:

| Параметр          | Значение                                 |
| ---------------- | ------------------------------------- |
| Поле условия 2| Температура                           |
| Оператор условия 2 | Больше                      |
| Значение условия 2    | 75                                |

Чтобы сохранить новое правило, нажмите кнопку **Применить**.

Сведения о том, активировано ли правило, можно посмотреть на странице **Правила** или **Панель мониторинга**.

## <a name="edit-an-existing-rule"></a>Изменение имеющегося правила

Чтобы внести изменения в имеющееся правило, выберите его в списке правил.

![Изменение правила](media/iot-suite-remote-monitoring-automate/rulesactionsedit_v2.png)

<!--## Disable a rule

To temporarily switch off a rule, you can disable it in the list of rules. Choose the rule to disable, and then choose **Disable**. The **Status** of the rule in the list changes to indicate the rule is now disabled. You can re-enable a rule that you previously disabled using the same procedure.

![Disable rule](media/iot-suite-remote-monitoring-automate/rulesactionsdisable.png)

You can enable and disable multiple rules at the same time if you select multiple rules in the list.-->

<!--## Delete a rule

To permanently delete a rule, choose the rule in the list of rules and then choose **Delete**.

You can delete multiple rules at the same time if you select multiple rules in the list.-->

## <a name="next-steps"></a>Дополнительная информация

Из этого руководства вы узнали, как выполнять следующие задачи:

<!-- Repeat task list from intro -->
>[!div class="checklist"]
> * Просмотр правил в решении
> * Создание нового правила
> * Изменение имеющегося правила
> * Удаление правила

Теперь, когда вы знаете, как обнаружить проблемы с помощью правил на основе пороговых значений, предлагаем перейти к дальнейшим действиям:

* [Настройка устройств и управление ими](./iot-suite-remote-monitoring-manage.md).
* [Устранение неполадок на устройстве](./iot-suite-remote-monitoring-maintain.md).
* [Тестирование решения с помощью виртуальных устройств](iot-suite-remote-monitoring-test.md).

<!-- Next tutorials in the sequence -->