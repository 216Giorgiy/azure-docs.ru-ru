<properties
 pageTitle="Предварительно настроенные решения IoT Azure | Microsoft Azure"
 description="Описание предварительно настроенных решений IoT Azure и их архитектуры со ссылками на дополнительные ресурсы."
 services=""
 suite="iot-suite"
 documentationCenter=""
 authors="dominicbetts"
 manager="timlt"
 editor=""/>

<tags
 ms.service="iot-suite"
 ms.devlang="na"
 ms.topic="get-started-article"
 ms.tgt_pltfrm="na"
 ms.workload="na"
 ms.date="02/19/2016"
 ms.author="dobett"/>

# Что такое предварительно настроенные решения Azure IoT Suite?

Предварительно настроенные решения Azure IoT Suite представляют собой реализацию стандартных шаблонов IoT, которые вы можете развернуть в Microsoft Azure в рамках своей подписки Azure. Предварительно настроенные решения можно использовать:

- в качестве отправной точки для собственных решений IoT;
- для ознакомления с распространенными шаблонами, которые используются при проектировании и разработке решений IoT.

Каждое предварительно настроенное решение реализует распространенный сценарий IoT и представляет собой завершенную комплексную реализацию, в которой для создания данных телеметрии используются виртуальные устройства.

Наряду с развертыванием и запуском решений в Azure можно загрузить полный исходный код, а затем настраивать и расширять решение в соответствии с конкретными требованиями IoT.

> [AZURE.NOTE] В статье [Приступая к работе с IoT предварительно настроенных решений][lnk-preconf-get-started] описывается, как развернуть и запустить одно из решений.

В следующей таблице показано соответствие этих решений конкретным функциям IoT.

| Решение | Прием данных | Идентификация устройства | Команды и управление | Правила и действия | Прогнозная аналитика |
|------------------------|-----|-----|-----|-----|-----|
| [Удаленный мониторинг][lnk-remote-monitoring] | Да | Да | Да | Да | – |
| [Прогнозирующее обслуживание][lnk-predictive-maintenance] | Да | Да | Да | Да | Да |

## Обзор предварительно настроенного решения для удаленного мониторинга

Мы выбрали предварительно настроенное решение для удаленного мониторинга для обсуждения в этой статье, так как оно является простейшим примером решения, демонстрирующим основные элементы проектирования, используемые другими решениями.

На следующей схеме представлены основные элементы решения для удаленного мониторинга. Дополнительные сведения об этих элементах приведены в разделах ниже.

![Архитектура предварительно настроенного решения удаленного мониторинга][img-remote-monitoring-arch]

## Устройства

Когда вы развертываете предварительно настроенные решения удаленного мониторинга, для такого решения заранее подготавливаются четыре виртуальных устройства, которые имитируют устройство охлаждения. Эти виртуальные устройства имеют встроенную модель телеметрии, которая передает сведения о температуре и влажности в виде данных телеметрии.

Когда устройство впервые подключается к центру IoT в рамках предварительно настроенного решения удаленного мониторинга, оно отправляет в центр IoT информационное сообщение. В сообщении содержится список команд, на которые устройство может отвечать. Эти команды представлены ниже.

- *Проверка связи с устройством*. Устройство отвечает на эту команду подтверждением. Так вы можете убедиться, что устройство по-прежнему активно и находится в состоянии прослушивания.
- *Начало сбора данных телеметрии*. Сообщает устройству о начале отправки данных телеметрии.
- *Завершение сбора данных телеметрии*. Сообщает устройству о завершении отправки данных телеметрии.
- *Изменение заданной температуры*. Определяет имитированные данные телеметрии (значения температуры), отправляемые устройством. Это используется при тестировании.
- *Диагностические данные телеметрии*. Определяет, следует ли устройству отправить сведения о наружной температуре в качестве данных телеметрии.
- *Изменение состояния устройства*. Задает свойство метаданных состояния устройства, о которых сообщает устройство. Это используется при тестировании.

В решение можно добавить дополнительные виртуальные устройства, которые будут передавать аналогичные данные телеметрии и реагировать на одни команды.

## Центр IoT

Центр IoT получает данные телеметрии из охлаждающего устройства в одной конечной точке. Центр IoT также поддерживает отдельные конечные точки устройства, через которые каждое устройство может получать отправляемые ему команды.

Центр IoT предоставляет полученные данные телеметрии конечной точке группы потребителей.

В этом предварительно настроенном решении экземпляр центра IoT соответствует *облачному шлюзу* в стандартной [архитектуре решения IoT][lnk-what-is-azure-iot].

## Azure Stream Analytics

Предварительно настроенное решение использует три задания службы [Azure Stream Analytics][lnk-asa] (ASA) для фильтрации потока данных телеметрии от охлаждающих устройств.


- *Задание отправки сведений об устройстве*. Отправляет сообщения, связанные с регистрацией устройства, в реестр устройств решения (базу данных DocumentDB).
- *Задание отправки данных телеметрии*. Отправляет все необработанные данные телеметрии в хранилище BLOB-объектов для охлаждаемого хранилища и вычисляет значения сводных данных телеметрии, отображаемых на панели мониторинга решения.
- *Задание выполнения правил*. Фильтрует поток данных телеметрии, отсеивая значения, превышающие пороговые значения настроенных правил. Когда правило выполняется, в представлении панели мониторинга на портале решения это событие отображается в виде новой строки в таблице журнала оповещений. Кроме того, запускается действие на основе параметров, определенных в представлениях "Правила" и "Действия" на портале решения.

В этом предварительно настроенном решении задания ASA образуют *серверную часть решения IoT* в стандартной [архитектуре решения IoT][lnk-what-is-azure-iot].

## Обработчик событий

Экземпляр [EventPocessorHost][lnk-event-processor], запущенный в [веб-задании][lnk-web-job], обрабатывает выходные данные заданий DeviceInfo и Rules.

В этом предварительно настроенном решении обработчик событий формирует *серверную часть решения IoT* в стандартной [архитектуре решения IoT][lnk-what-is-azure-iot].

## Портал решения

![Панель мониторинга решения][img-dashboard]

Портал решения представляет собой веб-интерфейс, разворачиваемый в облаке в составе предварительно настроенного решения. Он позволяет:

- просматривать данные телеметрии и историю оповещений на панели мониторинга;
- подготавливать новые устройства;
- осуществлять управление и мониторинг устройств;
- отправлять команды на определенные устройства;
- управлять правилами и действиями.

> [AZURE.NOTE] Предварительно настроенное решение также выполняет синхронизацию [реестра удостоверений устройств][lnk-identity-registry] центра IoT с реестром устройства (базой данных DocumentDB) этого решения, в котором хранятся расширенные метаданные устройства.

В этом предварительно настроенном решении портал образует *серверную часть решения IoT*, а также часть *обработки и бизнес-подключений* в стандартной [архитектуре решения IoT][lnk-what-is-azure-iot].

## Дальнейшие действия

Дополнительные сведения о предварительно настроенных решениях IoT см. в следующих статьях:

- [Приступая к работе с предварительно настроенными решениями IoT][lnk-preconf-get-started]
- [Обзор предварительно настроенного решения прогнозного обслуживания][lnk-predictive-maintenance]

[img-remote-monitoring-arch]: ./media/iot-suite-what-are-preconfigured-solutions/remote-monitoring-arch1.png
[img-dashboard]: ./media/iot-suite-what-are-preconfigured-solutions/dashboard.png
[lnk-remote-monitoring]: iot-suite-remote-monitoring-sample-walkthrough.md
[lnk-what-is-azure-iot]: iot-suite-what-is-azure-iot.md
[lnk-asa]: https://azure.microsoft.com/documentation/services/stream-analytics/
[lnk-event-processor]: event-hubs-programming-guide.md#event-processor-host
[lnk-web-job]: web-sites-create-web-jobs.md
[lnk-document-db]: https://azure.microsoft.com/documentation/services/documentdb/
[lnk-identity-registry]: iot-hub-devguide.md#device-identity-registry
[lnk-suite-overview]: iot-suite-overview.md
[lnk-preconf-get-started]: iot-suite-getstarted-preconfigured-solutions.md
[lnk-predictive-maintenance]: iot-suite-predictive-overview.md

<!---HONumber=AcomDC_0224_2016-->