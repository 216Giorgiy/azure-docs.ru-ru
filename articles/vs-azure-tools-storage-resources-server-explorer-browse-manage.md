---
title: "Обзор ресурсов хранилища с помощью обозревателя сервера и управление ими | Документация Майкрософт"
description: "Обзор ресурсов хранилища с помощью обозревателя сервера и управление ими"
services: visual-studio-online
documentationcenter: na
author: TomArcher
manager: douge
editor: 
ms.assetid: 658dc064-4a4e-414b-ae5a-a977a34c930d
ms.service: storage
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/18/2016
ms.author: tarcher
translationtype: Human Translation
ms.sourcegitcommit: 219dcbfdca145bedb570eb9ef747ee00cc0342eb
ms.openlocfilehash: d35c9903fd68199f9decdf099a7e162fe664e4d5


---
# <a name="browsing-and-managing-storage-resources-with-server-explorer"></a>Обзор ресурсов хранилища с помощью обозревателя сервера и управление ими
[!INCLUDE [storage-try-azure-tools](../includes/storage-try-azure-tools.md)]

## <a name="overview"></a>Обзор
Если вы установили инструменты Azure для Microsoft Visual Studio, вы можете просматривать данные BLOB-объектов, очередей и таблиц из учетных записей хранения в Azure. Узел хранилища Azure в обозревателе сервера отображает данные, содержащиеся в вашей локальной учетной записи эмулятора хранения и других учетных записях хранения Azure.

Чтобы просмотреть обозреватель сервера в Visual Studio, в строке меню последовательно выберите **Представление**, **Обозреватель сервера**. Узел "Хранилище" отображает все учетные записи хранения, существующие в подписках и сертификатах Azure, к которым вы подключены. Если ваша учетная запись хранения не отображается, добавьте ее, следуя инструкциям [далее в этом разделе](#add-storage-accounts-by-using-server-explorer).

Начиная с версии Azure SDK 2.7, для просмотра ресурсов Azure и управления ими можно также использовать новый Cloud Explorer. Дополнительные сведения см. в статье [Управление ресурсами Azure с помощью Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).

## <a name="view-and-manage-storage-resources-in-visual-studio"></a>Просмотр ресурсов хранилища и управление в Visual Studio
Обозреватель сервера автоматически отображает список BLOB-объектов, очередей и таблиц в учетной записи эмулятора хранения. Учетная запись эмулятора хранения отображается в узле "Хранилище" как узел **Разработка** .

Чтобы просмотреть ресурсы учетной записи эмулятора хранения, разверните узел **Разработка** . Если эмулятор хранения не был запущен при развертывании узла **Разработка** , он запустится автоматически. Это может занять несколько минут. Пока запускается эмулятор хранения, можно продолжать работу в остальных областях Visual Studio.

Для просмотра ресурсов в учетной записи хранения откройте узел учетной записи хранения в обозревателе сервера. Отображаются следующие вложенные узлы:

* BLOB-объекты
* Очереди
* Таблицы

## <a name="work-with-blob-resources"></a>Работа с BLOB-ресурсами
Узел "BLOB-объекты" отображает список контейнеров для выбранной учетной записи хранения. Контейнеры BLOB-объектов содержат файлы BLOB-объектов, которые можно упорядочить в папки и вложенные папки. Дополнительные сведения см. в статье [Приступая к работе с хранилищем BLOB-объектов Azure с помощью .NET](storage/storage-dotnet-how-to-use-blobs.md).

### <a name="to-create-a-blob-container"></a>Создание контейнера BLOB-объектов
1. Откройте контекстное меню для узла **BLOB-объекты** и выберите **Создать контейнер BLOB-объектов**.
2. Введите имя нового контейнера в диалоговом окне **Создать контейнер BLOB-объектов** и нажмите кнопку **ОК**.
   
   > [!NOTE]
   > Имя контейнера BLOB-объектов должно начинаться с числа (0–9) или строчной буквы (a–z).
   > 
   > 

### <a name="to-delete-a-blob-container"></a>Удаление контейнера BLOB-объектов
* Откройте контекстное меню для контейнера BLOB-объектов, который нужно удалить, и выберите команду **Удалить**.

### <a name="to-display-a-list-of-the-items-contained-in-a-blob-container"></a>Отображение списка элементов, содержащихся в контейнере BLOB-объектов
* Откройте контекстное меню для имени контейнера BLOB-объектов в списке и выберите команду **Просмотреть контейнер больших двоичных объектов**.
  
    Содержимое контейнера BLOB-объектов отображается на вкладке "Представление контейнера BLOB-объектов".
  
    ![VST_SE_BlobDesigner](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC749016.png)
  
    С BLOB-объектами можно выполнить следующие операции с помощью кнопок в правом верхнем углу представления контейнера BLOB-объектов:
  
  * Ввести значение фильтра и применить его.
  * Обновить список BLOB-объектов в контейнере.
  * Отправить файл.
  * Удаление большого двоичного объекта
    
    > [!NOTE]
    > При удалении файла из контейнера BLOB-объектов базовый файл не удаляется. Он удаляется только из контейнера BLOB-объектов.
    > 
    > 
  * Открыть BLOB-объект.
  * Сохранить BLOB-объект на локальном компьютере.

### <a name="to-create-a-folder-or-subfolder-in-a-blob-container"></a>Создание папки или вложенной папки в контейнере BLOB-объектов
1. Выберите контейнер BLOB-объектов в обозревателе сервера. В окне контейнера нажмите кнопку **Отправить BLOB-объект** .
   
    ![Отправка файла в папку BLOB-объектов](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766037.png)
2. В диалоговом окне **Отправить новый файл** нажмите кнопку **Обзор**, чтобы указать необходимый файл, а затем введите имя папки в поле **Папка (необязательно)**.
   
    Добавлять вложенные папки в папки контейнера можно таким же способом. Если не указать имя папки, файл будет отправлен на верхний уровень контейнера BLOB-объектов. Файл содержится в указанной папке в контейнере.
   
    ![Папка добавлена в контейнер BLOB-объектов](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766038.png)
3. Чтобы просмотреть содержимое папки, дважды щелкните папку или нажмите клавишу ВВОД. Чтобы перейти обратно из папки контейнера в его корень, нажмите кнопку **Открыть родительский каталог** (стрелка вверх).

### <a name="to-delete-a-container-folder"></a>Удаление папки контейнера
* Удалите все файлы в папке.
  
  > [!NOTE]
  > Так как папки в контейнерах BLOB-объектов виртуальные, невозможно создать пустую папку или удалить папку, чтобы удалить файлы в ней. Чтобы удалить папку, необходимо удалить все ее содержимое.
  > 
  > 

### <a name="to-filter-blobs-in-a-container"></a>Фильтрация BLOB-объектов в контейнере
Отображаемые BLOB-объекты можно фильтровать по общему префиксу.

Например, если ввести префикс `hello` в текстовое поле фильтра и нажать кнопку **Выполнить** (**!**), отобразятся только BLOB-объекты, начинающиеся со слова hello.

![VST_SE_FilterBlobs](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC519076.png)

> [!NOTE]
> В поле фильтра учитывается регистр и не поддерживается фильтрация с подстановочными знаками. BLOB-объекты можно фильтровать только по префиксу. Префикс может содержать разделитель, если он используется для создания виртуальной иерархии. Например, фильтрация по префиксу HelloFabric/ возвращает все BLOB-объекты, начинающиеся с этой строки.
> 
> 

### <a name="to-download-blob-data"></a>Загрузка данных BLOB-объектов
* В **обозревателе сервера** откройте контекстное меню для одного или нескольких BLOB-объектов и выберите **Открыть** либо выберите имя BLOB-объекта и нажмите кнопку **Открыть** или дважды щелкните имя BLOB-объекта.
  
    В окне **Журнал действий Azure** отображается ход скачивания.
  
    BLOB-объект откроется в редакторе по умолчанию для этого типа файлов. Если операционная система распознает этот тип файла, файл откроется в локально установленном приложении. В противном случае будет предложено выбрать приложение, которое подходит для этого типа файла BLOB-объекта. Локальный файл, который создается во время загрузки BLOB-объекта, помечен как доступный только для чтения.
  
    Данные BLOB-объекта кэшируются локально и проверяются на соответствие данным последнего изменения объекта в службе BLOB-объектов. Если BLOB-объект изменился со времени последней загрузки, он будет загружен снова. В противном случае он загрузится с локального диска. По умолчанию BLOB-объект загружается во временный каталог. Чтобы скачать BLOB-объекты в определенный каталог, откройте контекстное меню для выбранных имен BLOB-объектов и выберите пункт **Сохранить как**. При таком способе сохранения BLOB-объекта файл не открывается, и локальный файл создается с атрибутами чтения и записи.

### <a name="to-upload-blobs"></a>Отправка BLOB-объектов
* Чтобы просмотреть представление контейнера BLOB-объектов, при открытом контейнере нажмите кнопку **Отправить BLOB-объект** .
  
    Можно выбрать один или несколько файлов для отправки и отправлять файлы любого типа. В **журнале действий Azure** отображается ход отправки. Дополнительную информацию о работе с данными BLOB-объектов см. в статье [Приступая к работе с хранилищем BLOB-объектов Azure с помощью .NET](http://go.microsoft.com/fwlink/p/?LinkId=267911).

### <a name="to-view-logs-transferred-to-blobs"></a>Просмотр журналов, перенесенных в BLOB-объекты
* Если для записи данных из приложения Azure в журнал используется система диагностики Azure и журналы перенесены в вашу учетную запись хранения, вы увидите контейнеры, созданные Azure для этих журналов. Просмотр этих журналов в обозревателе сервера — простой способ обнаружения проблем приложения, особенно если оно развернуто в Azure. Дополнительные сведения о системе диагностики Azure см. в статье [Включение системы диагностики Azure в облачных службах Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx).

### <a name="to-get-the-url-for-a-blob"></a>Получение URL-адреса для BLOB-объекта
* Откройте контекстное меню BLOB-объекта и выберите пункт **Копировать URL-адрес**.

### <a name="to-edit-a-blob"></a>Изменение BLOB-объекта
* Выберите BLOB-объект и нажмите кнопку **Открыть BLOB-объект** .
  
    Файл загружается во временную папку и открывается на локальном компьютере. После внесения изменений BLOB-объект необходимо отправить еще раз.

## <a name="work-with-queue-resources"></a>Работа с ресурсами очередей
Очереди служб хранилища размещаются в учетной записи хранения Azure. Их можно использовать, чтобы разрешать ролям облачных служб взаимодействовать друг с другом и другими службами с помощью механизма передачи сообщений. Доступ к очередям можно получить программным путем через облачную службу и веб-службу для внешних клиентов. Можно также получить доступ к очереди напрямую с помощью обозревателя сервера в Visual Studio.

При разработке облачной службы, которая использует очереди, можно использовать Visual Studio для создания очередей и работы с ними в интерактивном режиме во время разработки и тестирования кода.

В обозревателе сервера можно просматривать очереди в учетной записи хранения, создавать и удалять очереди, открывать очередь для просмотра сообщений и добавлять сообщения в очередь. Если очередь открывается для просмотра, можно просматривать отдельные сообщения, а с помощью кнопок в левом верхнем углу можно выполнять следующие действия в очереди:

* обновлять представление очереди;
* добавлять сообщения в очередь;
* удалять верхние сообщения из очереди;
* очищать всю очередь.

На следующем рисунке показана очередь из двух сообщений.

![Просмотр очереди](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC651470.png)

Дополнительные сведения об очередях служб хранилища см. в статье [Приступая к работе с хранилищем очередей Azure с помощью .NET](http://go.microsoft.com/fwlink/?LinkID=264702). Сведения о веб-службе для очередей служб хранилища см. в статье [Queue Service Concepts](http://go.microsoft.com/fwlink/?LinkId=264788) (Основные понятия службы очередей). Сведения об отправке сообщения в очередь служб хранилища с помощью Visual Studio см. в статье об [отправке сообщений в очередь служб хранилища](https://msdn.microsoft.com/library/azure/jj649344.aspx).

> [!NOTE]
> Очереди служб хранилища отличаются от очередей служебной шины. Дополнительные сведения об очередях служебной шины см. в статье "Очереди, разделы и подписки служебной шины".
> 
> 

## <a name="work-with-table-resources"></a>Работа с ресурсами таблиц
В службе хранилища таблиц Azure хранятся большие объемы структурированных данных. Эта служба — хранилище данных NoSQL, которое принимает вызовы внутри и снаружи облака Azure с проверкой подлинности. Таблицы Azure идеально подходят для хранения нереляционных структурированных данных.

### <a name="to-create-a-table"></a>Создание таблицы
1. В обозревателе сервера выберите узел **Таблицы** учетной записи хранения, а затем выберите команду **Создать таблицу**.
2. В диалоговом окне **Создание таблицы** введите имя таблицы.

### <a name="to-view-table-data"></a>Просмотр данных таблицы
1. В обозревателе сервера откройте узел **Azure**, а затем — узел **Хранилище**.
2. Чтобы просмотреть список таблиц для учетной записи хранения, откройте нужный узел учетной записи хранения и выберите узел **Таблицы** .
3. Откройте контекстное меню таблицы и выберите пункт **Просмотр таблицы**.
   
    ![Таблица Azure в обозревателе решений](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC744165.png)

Таблица упорядочена по сущностям (отображаются в строках) и свойствам (отображаются в столбцах). Например, на следующем рисунке приведены сущности, содержащиеся в **конструкторе таблиц**:

### <a name="to-edit-table-data"></a>Изменение данных таблицы
1. В **конструкторе таблиц** откройте контекстное меню для сущности (одна строка) или свойства (одна ячейка) и выберите пункт **Изменить**.
   
    ![Добавление или изменение сущности таблицы](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC656238.png)
   
    Сущности в одной таблице не обязательно должны иметь одинаковый набор свойств (столбцов). При просмотре и изменении данных таблицы не забывайте о следующих ограничениях.
   
   * Нельзя просматривать или изменять двоичные данные (типа byte[]), но их можно сохранять в таблице.
   * Нельзя изменять значения **PartitionKey** и **RowKey**, так как хранилище таблиц в Azure не поддерживает эту операцию.
   * Нельзя создать свойство Timestamp, так как свойство с таким именем используется службами хранилища Azure.
   * Если вы вводите значение DateTime, следует придерживаться формата, соответствующего языковым и региональным параметрам компьютера (например, ММ/ДД/ГГГГ ЧЧ:ММ:СС [AM| PM] для английского языка США).

### <a name="to-add-entities"></a>Добавление сущностей
1. В **конструкторе таблиц** нажмите кнопку **Добавление сущности**, которая находится в правом верхнем углу представления таблицы.
   
    ![Добавление сущности](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655336.png)
2. В диалоговом окне **Добавление сущности** введите значения свойств **PartitionKey** и **RowKey**.
   
    ![Диалоговое окно "Добавление сущности"](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655335.png)
   
    Значения следует вводить аккуратно, так как после закрытия диалогового окна их можно изменить только удалив сущность и добавив ее снова.

### <a name="to-filter-entities"></a>Фильтрация сущностей
Набор сущностей, которые отображаются в таблице, можно настроить, если используется построитель запросов.

1. Чтобы открыть построитель запросов, откройте таблицу для просмотра.
2. Нажмите крайнюю справа кнопку на панели инструментов в представлении таблицы.
   
    Откроется диалоговое окно **Построитель запросов** . На рисунке ниже приведен запрос, созданный в построителе запросов.
   
    ![Построитель запросов](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC652231.png)
3. После завершения построения запроса закройте диалоговое окно. Полученная текстовая форма запроса отобразится в текстовом поле в качестве фильтра служб данных WCF.
4. Чтобы выполнить запрос, выберите значок зеленого треугольника.
   
    Данные сущностей, отображаемые в **конструкторе таблиц**, также можно фильтровать, если ввести строку фильтра служб данных WCF непосредственно в поле фильтра. Такая строка аналогична SQL-предложению WHERE, но отправляется на сервер как HTTP-запрос. Сведения о построении строк фильтра см. в статье [Построение строк фильтра для конструктора таблиц](https://msdn.microsoft.com/library/azure/ff683669.aspx).
   
    Ниже приведен пример допустимой строки фильтра.
   
    ![VST_SE_TableFilter](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655337.png)

### <a name="refresh-storage-data"></a>Обновление данных хранилища
Подключение обозревателя сервера к учетной записи хранения или получение данных из нее может длиться около минуты. Если не удается подключиться, время ожидания операции может истечь. Во время получения данных можно продолжать работу в других областях Visual Studio. Чтобы отменить операцию, которая выполняется слишком долго, нажмите кнопку **Остановить обновление** на панели инструментов обозревателя сервера.

#### <a name="to-refresh-blob-container-data"></a>Обновление данных контейнера BLOB-объектов
* Выберите узел **BLOB-объекты** под узлом **Хранилище** и на панели инструментов обозревателя сервера выберите **Обновить**.
* Чтобы обновить список отображаемых BLOB-объектов, нажмите кнопку **Выполнить** .

#### <a name="to-refresh-table-data"></a>Обновление данных таблицы
* Выберите узел **Таблицы** под узлом **Хранилище** и нажмите кнопку **Обновить**.
* Чтобы обновить список объектов, которые отображаются в **конструкторе таблиц**, нажмите кнопку **Выполнить** в **конструкторе таблиц**.

#### <a name="to-refresh-queue-data"></a>Обновление данных очереди
* Выберите узел **Очереди** и нажмите кнопку **Обновить**.

#### <a name="to-refresh-all-items-in-a-storage-account"></a>Обновление всех элементов в учетной записи хранения
* Выберите имя учетной записи, а затем выберите **Обновить** на панели инструментов в обозревателе сервера.

### <a name="add-storage-accounts-by-using-server-explorer"></a>Добавление учетных записей хранения с помощью обозревателя сервера
Существует два способа добавления учетных записей хранения с помощью обозревателя сервера. Можно создать новую учетную запись хранения в подписке Azure или присоединить существующую учетную запись хранения.

#### <a name="to-create-a-new-storage-account-by-using-server-explorer"></a>Создание новой учетной записи хранения с помощью обозревателя сервера
1. В обозревателе сервера откройте контекстное меню узла "Хранилище" и выберите пункт "Создать учетную запись хранения".
   
    ![Создание новой учетной записи хранения Azure](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC744166.png)
2. В диалоговом окне **Создание учетной записи хранилища** укажите для новой учетной записи следующие сведения.
   
   * Подписка Azure, в которую следует добавить учетную запись хранения.
   * Имя, которое вы хотите использовать для новой учетной записи хранения.
   * Регион или территориальная группа (например, Запад США или Восточная Азия).
   * Тип репликации учетной записи хранения (например, геоизбыточная).
3. Выберите **Создать**.
   
    Новая учетная запись хранения отображается в списке **Хранилище** в обозревателе решений.

#### <a name="to-attach-an-existing-storage-account-by-using-server-explorer"></a>Присоединение существующей учетной записи хранения с помощью обозревателя сервера
1. В обозревателе сервера откройте контекстное меню узла "Хранилище Azure" и выберите пункт **Присоединить внешнее хранилище**.
   
    ![Добавление существующей учетной записи хранения](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766039.png)
2. В диалоговом окне **Создание учетной записи хранилища** укажите для новой учетной записи следующие сведения.
   
   * Имя существующей учетной записи хранения, которую вы хотите присоединить. Имя можно ввести или выбрать из списка.
   * Ключ для выбранной учетной записи хранения. Это значение обычно вводится автоматически при выборе учетной записи хранения. Если вы хотите, чтобы Visual Studio запомнила ключ учетной записи хранения, установите флажок "Запомнить ключ учетной записи".
   * Протокол, используемый для подключения к учетной записи хранения, например HTTP, HTTPS, или настраиваемая конечная точка. Сведения о настраиваемых конечных точках см. в статье [Настройка строк подключения службы хранилища Azure](https://msdn.microsoft.com/library/azure/ee758697.aspx).

### <a name="to-view-the-secondary-endpoints"></a>Просмотр вторичных конечных точек
* Если вы создали учетную запись хранения с помощью варианта репликации **Геоизбыточное хранилище с доступом на чтение** , можно просмотреть его вторичные конечные точки. Откройте контекстное меню для имени учетной записи и выберите **Свойства**.
  
    ![Вторичные конечные точки хранилища](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766040.png)

### <a name="to-remove-a-storage-account-from-server-explorer"></a>Удаление учетной записи хранения из обозревателя сервера
* Откройте контекстное меню для имени учетной записи и выберите **Удалить**. При удалении учетной записи хранения сохраненные данные ключа для этой учетной записи также удаляются.
  
  > [!NOTE]
  > Удаление учетной записи хранения из обозревателя сервера не влияет на вашу учетную запись хранения или содержащиеся в ней данные. Удаляется только ссылка из обозревателя сервера. Чтобы окончательно удалить учетную запись хранения, используйте [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).
  > 
  > 

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения об использовании служб хранилища Azure см. в статье, посвященной [доступу к службам хранилища Azure](https://msdn.microsoft.com/library/azure/ee405490.aspx).




<!--HONumber=Nov16_HO3-->


