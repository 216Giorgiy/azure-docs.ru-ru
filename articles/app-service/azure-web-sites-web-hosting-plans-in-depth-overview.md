---
title: "Подробный обзор планов службы приложений Azure | Документация Майкрософт"
description: "Узнайте, как работают планы службы приложений Azure и чем они удобны для вашей среды управления."
keywords: "служба приложений, служба приложений azure, масштабировать, масштабируемый, план службы приложений, стоимость службы приложений"
services: app-service
documentationcenter: 
author: btardif
manager: erikre
editor: 
ms.assetid: dea3f41e-cf35-481b-a6bc-33d7fc9d01b1
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/02/2016
ms.author: byvinyal
ms.openlocfilehash: 688f57de662fec6a04227c35d6578097c795c6da
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="azure-app-service-plans-in-depth-overview"></a>Подробный обзор планов службы приложений Azure

Планы службы приложений представляют собой коллекцию физических ресурсов, используемых для размещения приложений.

Планы службы приложений определяют такие компоненты:

- регион ("Западная часть США", "Восточная часть США" и т. д.);
- уровень масштабирования (один, два, три экземпляра и т. д.);
- размер экземпляра (небольшой, средний, крупный);
- SKU ("Бесплатный", "Общий", "Базовый", "Стандартный", "Премиум", "Премиум V2", "Изолированный").

В рамках плана службы приложений Azure доступны все веб-приложения, мобильные приложения, приложения API и приложения-функции (или "Функции"), входящие в состав [службы приложений Azure](http://go.microsoft.com/fwlink/?LinkId=529714).  Приложения в одной подписке и регионе могут совместно использовать план службы приложений. 

Все приложения, назначенные **плану службы приложений**, совместно используют ресурсы, определенные в нем. Поэтому, разместив несколько приложений в одном плане службы приложений, вы сможете сэкономить.

**План службы приложений** можно масштабировать, переходя с уровней **Бесплатный** и **Общий** на уровни **Базовый**, **Стандартный**, **Премиум** и **Изолированный**. Переходя на более высокий уровень, вы всегда получаете доступ к дополнительным ресурсам и возможностям.

Если для вашего плана службы приложений выбран уровень **Базовый** или выше, то вы можете контролировать **размер** и уровень масштабирования виртуальных машин.

Например, если план настроен для использования двух небольших экземпляров уровня **Стандартный**, то все приложения в этом плане выполняются на обоих экземплярах. Приложения также имеют доступ к функциям уровня **Стандартный**. Экземпляры плана, на которых выполняются приложения, являются полностью управляемыми и высокодоступными.

> [!IMPORTANT]
> Ценовая категория (номер SKU) плана службы приложений определяет стоимость, а не число приложений, размещенных в нем.

В этой статье рассматриваются ключевые характеристики плана службы приложений, такие как ценовая категория и масштаб, а также их роль в управлении приложениями.

## <a name="new-pricing-tier-premiumv2"></a>Новая ценовая категория: Премиум V2

В новой ценовой категории **Премиум V2** реализованы [виртуальные машины серии Dv2](../virtual-machines/windows/sizes-general.md#dv2-series) с более быстрыми процессорами, хранилищами на базе SSD и двойным соотношением ресурсов памяти и ядра по сравнению с планом **Стандартный**. Категория **Премиум V2** также отличается более высокой масштабируемостью благодаря увеличенному числу экземпляров, предоставляя при этом все расширенные функции, доступные в рамках плана "Стандартный". Все функции, доступные в существующей категории **Премиум**, включены в категорию **Премиум V2**.

По аналогии с другими категориями Dedicated для данной категории доступны три размера виртуальных машин:

- малый (1 ядро ЦП, 3,5 ГиБ памяти); 
- средний (2 ядра ЦП, 7 ГиБ памяти); 
- большой (4 ядра ЦП, 14 ГиБ памяти).  

Дополнительные сведения о категории **Премиум V2** см. на странице [цен на службу приложений](/pricing/details/app-service/).

Чтобы приступить к работе с новой ценовой категорией **Премиум V2**, см. статью [Configure PremiumV2 tier for Azure App Service](app-service-configure-premium-tier.md) (Настройка ценовой категории Премиум V2 для службы приложений).

## <a name="apps-and-app-service-plans"></a>Приложения и планы службы приложений

Приложение службы приложений в конкретный момент времени может быть сопоставлено лишь с одним планом службы приложений.

Как приложения, так и планы находятся в **группе ресурсов**. Группа ресурсов определяет пределы жизненного цикла для каждого содержащегося в ней ресурса. Группы ресурсов помогают управлять всеми частями приложения в комплексе.

Так как одна группа ресурсов могут включать несколько планов службы приложений, вы можете назначать разным приложениям разные физические ресурсы.

Например, можно разделить ресурсы между средами разработки, тестирования и производства. Наличие отдельных сред для выполнения рабочих процессов, а также процессов разработки и тестирования позволяет изолировать ресурсы. В таком случае нагрузочное тестирование новой версии вашего приложения не будет конкурировать за одни и те же ресурсы с рабочим приложением, которое отвечает за обслуживание реальных клиентов.

Наличие нескольких планов в одной группе ресурсов позволяет создавать приложения, которые охватывают несколько географических регионов.

Например, высокодоступное приложение, запущенное в двух регионах, будет включать по крайней мере два плана — по одному для каждого региона, при этом каждый план будет сопоставлен с одним приложением. В этом случае все копии приложения будут находиться в одной группе ресурсов. Наличие группы ресурсов с несколькими планами и несколькими приложениями облегчает проверку и просмотр состояния приложения, а также управление им.

## <a name="create-an-app-service-plan-or-use-existing-one"></a>Создание плана службы приложений или использование имеющегося

При создании нового веб-приложения в службе приложений можно предоставить общий доступ к ресурсам размещения, поместив приложение в существующий план службы приложений. Чтобы определить, будет ли новое приложение иметь необходимые ресурсы, оцените емкость существующего плана службы приложений и ожидаемую нагрузку для нового приложения. Чрезмерное выделение ресурсов может стать причиной простоя для новых и существующих приложений.

Мы рекомендуем изолировать приложение посредством нового плана службы приложений в следующих случаях:

- Приложение является ресурсоемким.
- Масштабирование приложения зависит от других приложений, размещенных в существующем плане.
- Приложению требуется ресурс из другого географического региона.

Таким образом можно выделить новый набор ресурсов для приложения и усилить контроль над своими приложениями.

## <a name="create-an-app-service-plan"></a>Создание плана службы приложений

> [!TIP]
> Если у вас есть среда службы приложений, то см. раздел [Создание плана службы приложений](../app-service/environment/app-service-web-how-to-create-a-web-app-in-an-ase.md#createplan).

Можно создать пустой план службы приложений или создать его в процессе создания приложения.

На [портале Azure](https://portal.azure.com) щелкните **Создать** > **Интернет+мобильные устройства**, выберите **Веб-приложение** или другое приложение службы приложений.

![Создание приложения на портале Azure.][createWebApp]

Затем можно выбрать или создать план службы приложений для нового приложения.

 ![Создание плана службы приложений.][createASP]

Чтобы создать план службы приложений, щелкните **+Создать**, введите имя в поле **План службы приложений** и выберите соответствующее **расположение**. Щелкните **Ценовая категория**и выберите для службы соответствующую категорию. Щелкните **Просмотреть все**, чтобы просмотреть другие варианты тарификации, например **Бесплатный** и **Общий**. После выбора ценовой категории нажмите кнопку **Выбрать** .

## <a name="move-an-app-to-a-different-app-service-plan"></a>Перемещение приложения в другой план службы приложений

Приложения можно переместить в другой план службы приложений на [портале Azure](https://portal.azure.com). Приложения можно перемещать между планами, если планы находятся в _одной группе ресурсов и в одном географическом регионе_.

Чтобы переместить приложение в другой план, выполните указанные ниже действия.

- Перейдите к приложению, которое требуется переместить.
- В **меню** найдите раздел **План службы приложений**.
- Чтобы начать процесс, выберите **Изменить план служб приложений**.

Щелкнув **Изменить план служб приложений**, вы откроете средство выбора **План службы приложений**. На этом этапе можно выбрать существующий план, в который следует переместить приложение. Отображаются только планы, которые находятся в одной группе ресурсов и одном регионе.

![Селектор планов службы приложений.][change]

Каждый план имеет свою ценовую категорию. Например, при изменении уровня сайта с "Бесплатный" на "Стандартный" все назначенные ему приложения получат доступ к функциям и ресурсам уровня "Стандартный".

## <a name="clone-an-app-to-a-different-app-service-plan"></a>Клонирование приложения в другой план служб приложений

Если вы хотите переместить приложение в другой регион, один из вариантов — клонировать его. Клонирование позволяет создавать копии приложения в новом или имеющемся плане служб приложений в любом регионе.

Команда **Клонировать приложение** находится в разделе **Средства разработки** меню.

> [!IMPORTANT]
> Клонирование имеет некоторые ограничения, о которых можно узнать из статьи [Клонирование приложений службы приложений Azure с помощью PowerShell](app-service-web-app-cloning.md).

## <a name="scale-an-app-service-plan"></a>Масштабирование плана службы приложений

Существует три способа масштабирования плана.

- **Изменение ценовой категории плана.** План на уровне "Базовый" можно преобразовывать в план уровня "Стандартный", и все приложения, назначенные ему, получат доступ к функциям уровня "Стандартный".
- **Изменение размера экземпляров плана**. Например, для плана уровня "Базовый", в рамках которого используются небольшие экземпляры, можно настроить использование крупных экземпляров. Все приложения, связанные с этим планом, смогут использовать дополнительные ресурсы ЦП и памяти, предоставляемые более крупными экземплярами.
- **Изменение числа экземпляров плана**. Например, масштабированный до трех экземпляров план уровня "Стандартный" можно масштабировать до десяти экземпляров. План категории "Премиум" можно масштабировать до 20 экземпляров (при условии доступности). Все приложения, связанные с этим планом, смогут использовать дополнительные ресурсы ЦП и памяти, предоставляемые большему количеству экземпляров.

Вы можете изменить ценовую категорию и размер экземпляров, щелкнув элемент **Увеличить масштаб** в разделе параметров приложения или плана службы приложений. Изменения будут применены к плану службы приложений и повлияют на все размещенные в нем приложения.

 ![Установка значений для увеличения масштаба приложения.][pricingtier]

## <a name="app-service-plan-cleanup"></a>Удаление плана службы приложений

> [!IMPORTANT]
> За **планы службы приложений**, с которыми не связаны приложения, по-прежнему взимается плата, так как они продолжают резервировать вычислительную мощность.

Чтобы избежать непредвиденных расходов, после удаления последнего приложения, размещенного в плане службы приложений, по умолчанию также удаляется и пустой план.

## <a name="summary"></a>Сводка

Планы службы приложений представляют собой набор компонентов и возможностей, которые доступны всем приложениям. Планы службы приложений позволяют гибко выделять наборы ресурсов для отдельных приложений, оптимизируя использование ресурсов Azure. Например, чтобы снизить затраты на тестовую среду, вы можете использовать один план для нескольких приложений. Можно также увеличить пропускную способность для рабочей среды путем ее масштабирования в рамках нескольких регионов и планов.

## <a name="whats-changed"></a>Изменения

- Руководство по переходу от веб-сайтов к службе приложений см. в статье [Служба приложений Azure и существующие службы Azure](http://go.microsoft.com/fwlink/?LinkId=529714).

[pricingtier]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/appserviceplan-pricingtier.png
[assign]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/assing-appserviceplan.png
[change]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/change-appserviceplan.png
[createASP]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/create-appserviceplan.png
[createWebApp]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/create-web-app.png
