---
title: "Управление трафиком веб-приложений Azure с помощью диспетчера трафика Azure"
description: "В этой статье представлена сводная информация об использовании диспетчера трафика Azure с веб-приложениями Azure."
services: app-service\web
documentationcenter: 
author: cephalin
writer: cephalin
manager: erikre
editor: mollybos
ms.assetid: dabda633-e72f-4dd4-bf1c-6e945da456fd
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/25/2016
ms.author: cephalin
ms.openlocfilehash: 5bf687afa8f42292a3b21b19a572c76926fef1cd
ms.sourcegitcommit: c25cf136aab5f082caaf93d598df78dc23e327b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2017
---
# <a name="controlling-azure-web-app-traffic-with-azure-traffic-manager"></a>Управление трафиком веб-приложений Azure с помощью диспетчера трафика Azure
> [!NOTE]
> В этой статье представлена сводная информация об использовании диспетчера трафика Microsoft Azure с веб-приложениями Azure. Дополнительные сведения о самом компоненте диспетчера трафика Azure можно найти по ссылкам, приведенным в конце статьи.
> 
> 

## <a name="introduction"></a>Введение
С помощью диспетчера трафика Azure можно управлять распределением запросов от веб-клиентов между веб-приложениями в службе приложений Azure. После добавления конечных точек веб-приложений Azure в профиль диспетчера трафика Azure этот компонент отслеживает состояние ваших веб-приложений (запущены, остановлены или удалены). На основании этой информации диспетчер трафика принимает решение о том, на какие из этих конечных точек нужно перенаправлять трафик.

## <a name="routing-methods"></a>Методы маршрутизации
Диспетчер трафика Azure использует три метода маршрутизации. Эти методы и их применение к веб-приложениям Azure описаны в следующем списке.

* **[По приоритету](#priority).** Основное веб-приложение получает весь трафик, а резервные копии создаются на тот случай, если основное веб-приложение или другие резервные копии будут недоступны.
* **[Со взвешиванием](#weighted).** Трафик распределяется между несколькими веб-приложениями равномерно или в соответствии с весовыми коэффициентами, которые вы можете настроить.
* **[По производительности](#performance).** Если используется несколько веб-приложений, размещенных в разных географических регионах, трафик направляется к ближайшему из них в соответствии со статистикой задержек в сети.
* **[Географический](#geographic).** Пользователи направляются к конкретному веб-приложению в соответствии с настройками для географических расположений, из которых получены соответствующие DNS-запросы. 

Дополнительные сведения см. в статье [Методы маршрутизации трафика диспетчером трафика](../traffic-manager/traffic-manager-routing-methods.md).

## <a name="web-apps-and-traffic-manager-profiles"></a>Веб-приложения и профили диспетчера трафика
Чтобы настроить управление трафиком веб-приложений, создайте в диспетчере трафика Azure профиль, использующий один из трех описанных выше методов распределения нагрузки. Затем добавьте в этот профиль конечные точки (в данном случае это веб-приложения), трафиком которых требуется управлять. Сведения о состоянии веб-приложений (запущены, остановлены или удалены) регулярно передаются в профиль. Это позволяет диспетчеру трафика Azure правильно перенаправлять трафик.

При использовании диспетчера трафика Azure с Azure необходимо помнить следующее:

* В случае развертывания в одном регионе только веб-приложений служба приложений уже предоставляет возможности отработки отказа и циклического перебора вне зависимости от режима работы веб-приложения.
* В случае развертывания в одном регионе веб-приложений и других облачных служб Azure вы можете сочетать оба типа конечных точек для реализации гибридных сценариев.
* В профиле можно указать только одну конечную точку веб-приложения на регион. При выборе веб-приложения в качестве конечной точки для одного региона остальные веб-приложения в этом регионе становятся недоступны для выбора.
* Конечные точки веб-приложений, которые вы укажете в профиле диспетчера трафика Azure, появляются в разделе **Доменные имена** на странице настройки веб-приложений, входящих в этот профиль, но настроить их там невозможно.
* Когда вы добавите веб-приложение в профиль, на странице этого веб-приложения на панели мониторинга в поле **URL-адрес** отобразится URL-адрес личного домена, если вы настроили его для этого веб-приложения. В противном случае отобразится URL-адрес профиля диспетчера трафика (например, `contoso.trafficmanager.net`). На странице настройки веб-приложения в разделе **Доменные имена** одновременно отображаются оба адреса: прямое доменное имя веб-приложения и URL-адрес диспетчера трафика.
* Имена личных доменов будут работать как обычно, но нужно не только добавить их в веб-приложение, но и настроить для них сопоставление DNS на URL-адрес диспетчера трафика. Информацию о настройке личного домена для веб-приложения Azure см. в статье [Сопоставление существующего настраиваемого DNS-имени с веб-приложениями Azure](app-service-web-tutorial-custom-domain.md).
* В профиль диспетчера трафика Azure можно добавлять только веб-приложения, работающие в режиме "Стандартный" или "Премиум".

## <a name="next-steps"></a>Дальнейшие действия
Общие и технические сведения о диспетчере трафика Azure см. в разделе [Обзор диспетчера трафика](../traffic-manager/traffic-manager-overview.md).

Дополнительные сведения об использовании диспетчера трафика с веб-приложениями см. в записях блогов [Using Azure Traffic Manager with Azure Web Sites](http://blogs.msdn.com/b/waws/archive/2014/03/18/using-windows-azure-traffic-manager-with-waws.aspx) (Использование диспетчера трафика Azure c веб-сайтами Azure) и [Azure Traffic Manager can now integrate with Azure Web Sites](https://azure.microsoft.com/blog/2014/03/27/azure-traffic-manager-can-now-integrate-with-azure-web-sites/) (Диспетчер трафика Azure теперь можно интегрировать с веб-сайтами Azure).

