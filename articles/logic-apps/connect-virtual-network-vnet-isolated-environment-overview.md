---
title: Доступ к виртуальным сетям Azure из Azure Logic Apps с использованием сред службы интеграции (ISE)
description: В этом обзоре описано, как среды службы интеграции (ISE) помогают приложениям логики получать доступ к виртуальным сетям Azure
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: article
ms.date: 12/03/2018
ms.openlocfilehash: 5046b1012e0074e9548cad050c16eef25c00cee0
ms.sourcegitcommit: 11d8ce8cd720a1ec6ca130e118489c6459e04114
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2018
ms.locfileid: "52845201"
---
# <a name="access-to-azure-virtual-network-resources-from-azure-logic-apps-by-using-integration-service-environments-ises"></a>Доступ к ресурсам виртуальных сетей Azure из Azure Logic Apps с использованием сред службы интеграции (ISE)

> [!NOTE]
> Эта возможность находится на этапе *закрытой предварительной версии*. Чтобы запросить доступ, [создайте запрос на присоединение](https://aka.ms/iseprivatepreview).

В некоторых случаях приложениям логики и учетным записям интеграции требуется доступ к защищенным ресурсам, таким как виртуальные машины и другие системы или службы в [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md). Для настройки такого доступа можно [создать *среду службы интеграции* (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) для выполнения приложений логики и учетных записей интеграции. 

![Выбор среды службы интеграции](./media/connect-virtual-network-vnet-isolated-environment-overview/select-logic-app-integration-service-environment.png)

При создании среды ISE происходит развертывание изолированного экземпляра службы Logic Apps в виртуальной частной сети Azure. Частный экземпляр использует выделенные ресурсы, такие как служба хранилища, и выполняется отдельно от общедоступной глобальной службы Logic Apps. Такое разделение помогает уменьшить влияние других клиентов Azure на производительность вашего приложения или устранить [эффект "шумных соседей"](https://en.wikipedia.org/wiki/Cloud_computing_issues#Performance_interference_and_noisy_neighbors). 

В этом обзоре содержатся сведения о том, как среда ISE позволяет вашим приложениям логики и учетным записям интеграции напрямую обращаться к ресурсам в виртуальной сети Azure, а также сравниваются различия между средой ISE и глобальной службой Logic Apps.

<a name="difference"></a>

## <a name="isolated-versus-global"></a>Изолированная и глобальная среды

При создании среды службы интеграции (ISE) в Azure выберите виртуальную сеть Azure, в которую будет *внедряться* среда. Azure развертывает закрытый экземпляр службы Logic Apps в виртуальной сети. Это действие создает изолированную среду, в которой можно создавать и выполнять приложения логики на выделенных ресурсах. При создании приложения логики эта среда выбирается в качестве расположения для приложения, которое предоставляет приложению логики прямой доступ к ресурсам виртуальной сети. 

Приложения логики в среде ISE имеют тот же пользовательский интерфейс и аналогичные возможности, что и глобальная служба Logic Apps. Вы можете использовать не только те же встроенные действия и соединители в глобальной службе Logic Apps, но и соединители, которые предоставляют версии среды ISE. Ниже перечислены некоторые стандартные соединители, которые предлагают версии, работающие в ISE.
 
* Хранилище BLOB-объектов, хранилище файлов и хранилище таблиц Azure
* Очереди Azure, Служебная шина Azure, Центры событий Azure и IBM MQ
* FTP и SFTP-SSH
* SQL Server, Хранилище данных SQL, Azure Cosmos DB
* AS2, X12 и EDIFACT

Различие между соединителями среды ISE и другими соединителями заключается в местах, где запускаются триггеры и действия.

* В вашей ISE встроенные триггеры и действия, такие как HTTP, всегда выполняются в той же ISE, что и приложение логики. 

* Для соединителей, которые предлагают две версии: одна версия работает в среде ISE, а другая — в глобальной службе Logic Apps.  

  Соединители с надписью **ISE** всегда выполняются в той же среде ISE, что и приложения логики. Соединители без надписи **ISE** выполняются в глобальной службе Logic Apps. 

  ![Выбор соединителей ISE](./media/connect-virtual-network-vnet-isolated-environment-overview/select-ise-connectors.png)

* Соединители, выполняемые в среде ISE, также доступны для использования в глобальной службе Logic Apps. 

> [!IMPORTANT]
> Приложения логики, встроенные действия и соединители, которые выполняются в среде ISE, используют другой ценовой план, который не основан на потреблении. Дополнительные сведения см. на странице с [ценами на Logic Apps](../logic-apps/logic-apps-pricing.md).

<a name="vnet-access"></a>

## <a name="permissions-for-virtual-network-access"></a>Разрешения для доступа к виртуальной сети

При создании среды службы интеграции нужно выбрать виртуальную сеть Azure, в которую будет *внедряться* эта среда. Внедрение развертывает закрытый экземпляр службы Logic Apps в виртуальной сети. Это действие создает изолированную среду, в которой можно создавать и выполнять приложения логики на выделенных ресурсах. При создании приложений логики выберите свою ISE в качестве расположения приложения. Эти приложения логики затем могут непосредственно получить доступ к вашей виртуальной сети и подключиться к ресурсам в ней. 

Для систем, подключенных к виртуальной сети, можно внедрить среду службы интеграции в эту виртуальную сеть, чтобы приложения логики могли напрямую обращаться к этим системам через любой из указанных ниже элементов: 

* Соединитель среды ISE для этой системы, например SQL Server

* Действие HTTP 

* Настраиваемый соединитель

Локальные системы, которые не подключены к виртуальной сети или не имеют соединителей ISE, можно подключить, [настроив и использовав локальный шлюз данных](../logic-apps/logic-apps-gateway-install.md).

Прежде чем выбирать виртуальную сеть Azure, с помощью которой будет внедряться ваша среда, в виртуальной сети необходимо настроить разрешения управления доступом на основе ролей (RBAC) для службы Azure Logic Apps. Для этого службе Azure Logic Apps следует назначить роли **Участник сетей** и **Участник классических сетей**.
Чтобы задать эти разрешения, ознакомьтесь с разделом [Настройка разрешений виртуальной сети](../logic-apps/connect-virtual-network-vnet-isolated-environment.md#vnet-access).

<a name="create-integration-account-environment"></a>

## <a name="integration-accounts-with-ise"></a>Учетные записи интеграции в ISE

Учетные записи интеграции с приложениями логики можно использовать в среде службы интеграции. Тем не менее эти учетные записи интеграции должны использовать *ту же ISE*, что и связанные приложения логики. Приложения логики в среде ISE могут ссылаться только на те учетные записи интеграции, которые находятся в одной с ними среде ISE. При создании учетной записи интеграции можно выбрать среду ISE в качестве расположения учетной записи интеграции.

## <a name="get-support"></a>Получение поддержки

* Если у вас возникли вопросы, то посетите <a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps" target="_blank">форум Azure Logic Apps</a>.
* Отправить идею по поводу возможности или проголосовать за нее вы можете на <a href="https://aka.ms/logicapps-wish" target="_blank">сайте отзывов пользователей Logic Apps</a>.

## <a name="next-steps"></a>Дополнительная информация

* Узнайте, как [подключаться к виртуальным сетям Azure из изолированных приложений логики](../logic-apps/connect-virtual-network-vnet-isolated-environment.md).
* Узнайте больше о [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md).
* Узнайте об [интеграции виртуальной сети для служб Azure](../virtual-network/virtual-network-for-azure-services.md).
