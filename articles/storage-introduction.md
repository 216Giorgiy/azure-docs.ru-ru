<properties linkid="storage-introduction" urlDisplayName="Введение в хранилище Azure" pageTitle="Введение в хранилище | Microsoft Azure" metaKeywords="приступая к работе, введение в хранилище Azure, обзор хранилища Azure, blob-объекты Azure, неструктурированные данные Azure, неструктурированное хранилище Azure, blob-объекты Azure, хранилище blob-объектов Azure, очередь Azure, асинхронная обработка Azure, хранилище очередей Azure, таблица Azure, Azure nosql, большое хранилище структурированных данных Azure, табличное хранилище Azure, Azure " description="Обзор хранилища Microsoft Azure." metaCanonical="" disqusComments="1" umbracoNaviHide="1" services="storage" documentationCenter="" title="Введение в хранилище Microsoft Azure" authors="tamram" />

# Введение в хранилище Microsoft Azure

В этой статье содержатся общие сведения о хранилище Microsoft Azure для разработчиков, ИТ-специалистов и руководителей предприятий. Прочитав статью, вы узнаете:

- Что такое хранилище Azure и как его можно использовать в облаке, на мобильном устройстве, сервере и в настольных приложениях
- С какими типами данных работают службы хранилища Azure (хранилище BLOB-объектов, табличное хранилище и хранилище очередей)
- Как осуществляется доступ к управляемым данным в хранилище Azure
- Как осуществляется защита данных хранилища Azure посредством избыточности и репликации 
- Куда перейти дальше, чтобы создать ваше первое приложение Azure

## Что такое хранилище Azure? ##

Благодаря облачным вычислениям появилась возможность использовать новые сценарии для приложений, требующие масштабируемого, долговечного и высокодоступного хранилища для данных — именно поэтому корпорацией Майкрософт было создано хранилище Azure. Хранилище Azure не только позволяет разработчикам создавать масштабные приложения для поддержки новых сценариев, но и предоставляет основу хранилища для технологии "инфраструктура как услуга" (IaaS) от корпорации Майкрософт как еще одно свидетельство ее надежности. 

Хранилище Azure обладает высокой степенью масштабируемости, позволяя хранить и обрабатывать сотни терабайт данных для поддержки сценариев с данными большого размера, которые необходимы для исследовательских, аналитических финансовых и мультимедийных приложений. Можно также хранить небольшие объемы данных, необходимые для веб-сайта компании малого бизнеса. Когда ваши потребности снижаются, вы оплачиваете только те данные, которые храните. В настоящее время в хранилище Azure хранятся десятки триллионов уникальных клиентских объектов и обрабатываются в среднем миллионы запросов в секунду. 

Хранилище Azure обладает гибкостью, позволяя проектировать приложения для широкой аудитории, а затем масштабировать их при необходимости - как в плане объема хранилища, так и по количеству необходимых транзакций. Вы платите только за те ресурсы, которые используете, и только тогда, когда вы их используете.

В хранилище Azure используется система автоматического разбиения, которая автоматически балансирует нагрузку, исходя из трафика данных. Это означает, что по мере роста потребностей вашего приложения хранилище Azure автоматически выделяет соответствующие ресурсы. 

Хранилище Azure доступно из любой точки мира и из приложения любого типа, независимо от того, где оно выполняется: в облаке, на рабочем столе, локальном сервере, мобильном или планшетном устройстве. Хранилище Azure можно использовать в мобильных сценариях, когда приложение хранит подмножество данных на устройстве и синхронизирует их с полным набором данных, хранящихся в облаке.

Хранилище Azure поддерживает клиенты, использующие разнообразные операционные системы (включая Windows и Linux) и языки программирования (включая .NET, Java и C++) для удобной разработки. Хранилище Azure также предоставляет ресурсы данных через простые интерфейсы API REST, которые доступны для любого клиента, имеющего возможность отправлять и получать данные через HTTP или HTTPS. 

## Введение в службы хранилища Azure ##

Службы хранилища Azure включают хранилище BLOB-объектов, табличное хранилище и хранилище очередей.

- **Хранилище BLOB-объектов** содержит файловые данные. BLOB-объект может представлять собой текстовые или двоичные данные любого типа, такие как документ, файл мультимедиа или установщик приложения. 
- **Табличное хранилище** содержит структурированные наборы данных. Табличное хранилище представляет собой хранилище данных NoSQL типа "ключ-атрибут", которое позволяет ускорить разработку и доступ к большим объемам данных.
- **Хранилище очередей** обеспечивает надежный обмен сообщениями для обработки рабочего процесса и для взаимодействия между компонентами облачных служб.

Эти три службы включаются в каждую учетную запись хранения. Учетная запись хранения — это уникальное пространство имен, предоставляющее доступ к хранилищу Azure. Каждая учетная запись хранения может содержать до 200 ТБ объединенных данных BLOB-объектов, таблиц и очередей.

Прежде чем создавать учетную запись хранения, необходимо оформить подписку Azure, которая представляет собой план, дающий доступ к различным службам Azure. В рамках одной подписки можно создать до 20 учетных записей хранения с уникальными именами.

Приступая к работе с Azure, можно использовать [бесплатную пробную версию](/ru-ru/pricing/free-trial/). Как только вы решите приобрести план, можете выбрать из множества [вариантов приобретения](/ru-ru/pricing/purchase-options/). Если вы являетесь [подписчиком MSDN](/ru-ru/pricing/member-offers/msdn-benefits-details/), то получаете бесплатно ежемесячные кредиты, которые можно использовать для служб Azure, включая хранилище Azure.

## Хранилище BLOB-объектов ##

Хранилище BLOB-объектов предлагает экономичное и масштабируемое решение для пользователей, хранящих большое количество неструктурированных данных в облаке. Хранилище BLOB-объектов можно использовать для хранения следующего контента:

- Документы 
- Социальные данные, например фотографии, видеозаписи, музыка и блоги
- Резервные копии файлов, баз данных, компьютеров и устройств
- Изображения и текст для веб-приложений
- Данные конфигурации для облачных приложений
- Данные большого размера, например журналы и другие большие наборы данных

Все BLOB-объекты организованы в контейнеры. Контейнеры также предоставляют удобный способ назначения политик безопасности группам объектов. Учетная запись хранения может содержать любое количество контейнеров, а контейнер может содержать любое количество BLOB-объектов. Емкость учетной записи хранения ограничена до 200 ТБ.  

Хранилище BLOB-объектов предлагает два типа BLOB-объектов: блочного типа и страничного типа (диски). BLOB-объекты блочного типа оптимизированы для потоковой передачи и хранения облачных объектов и отлично подходят для хранения документов, файлов мультимедиа, резервных копий и т. д. BLOB-объект блочного типа может иметь размер до 200 ГБ. BLOB-объекты страничного типа оптимизированы для представления дисков IaaS и поддержки произвольных записей и могут иметь размер до 1 ТБ. Сетевой диск IaaS, присоединенный к виртуальной машине Azure, представляет собой виртуальный жесткий диск (VHD), хранящийся в виде BLOB-объекта страничного типа.

При использовании очень больших наборов данных, когда данные просто нереально отправить или загрузить в хранилище BLOB-объектов по сети, можно передать жесткий диск в Майкрософт для импорта или экспорта данных непосредственно в центре обработки данных с помощью [службы импорта и экспорта Azure](http://www.windowsazure.com/documentation/articles/storage-import-export-service/). Можно также копировать данные BLOB-объекта внутри вашей учетной записи хранения или между разными учетными записями хранения. 

## Хранилище таблиц ##

Современным приложениям часто требуются хранилища данных с большей степенью масштабируемости и гибкости, чем предыдущим поколениям программного обеспечения. Табличное хранилище предлагает высокую степень доступности и масштабируемости, позволяя приложению автоматически осуществлять масштабирование в соответствии с пользовательским спросом. Предоставляемое корпорацией Майкрософт табличное хранилище представляет собой хранилище NoSQL типа "ключ-атрибут", имеющее бессхемную конструкцию в отличие от традиционных реляционных баз данных. С помощью бессхемного хранилища данных можно легко адаптировать данные по мере развития потребностей приложения. Простое в использовании табличное хранилище позволяет разработчикам быстро создавать приложения. Быстрый и экономичный доступ к данным предоставляется приложениям всех видов.  Табличное хранилище обычно значительно дешевле, чем традиционная база данных SQL для тех же объемов данных.

Табличное хранилище является хранилищем типа "ключ-атрибут", то есть каждая сущность в таблице хранится вместе с именем свойства. Это имя свойства (ключ) может использоваться для фильтрации и указания критериев выбора. Ключ вместе с коллекцией свойств и их значениями составляют сущность. Поскольку табличное хранилище является бессхемным, одна и та же таблица может содержать разные коллекции свойств, и эти свойства могут относиться к разным типам. 

Табличное хранилище можно использовать для хранения гибких наборов данных, например пользовательских данных для веб-приложений, адресных книг, сведений об устройстве, а также метаданных любого другого типа, которые требуются вашей службе.  В таблице можно хранить любое количество сущностей, а учетная запись хранения может содержать любое количество таблиц в пределах 200 ТБ, составляющих ограничение емкости учетной записи.

Аналогично BLOB-объектам и очередям разработчики могут управлять табличным хранилищем с помощью стандартных протоколов REST, однако табличные хранилища поддерживают также подмножество протокола OData, что упрощает расширенную работу с запросами и позволяет использовать форматы JSON и AtomPub (на основе XML).

Для современных интернет-приложений базы данных NoSQL, такие как табличное хранилище, являются распространенной альтернативой традиционным реляционным базам данных. 

## Хранилище очередей ##

При разработке приложений для масштабирования компоненты приложения часто не связаны между собой, так что они могут масштабироваться независимо друг от друга. Хранилище очередей обеспечивает надежное решение по обмену сообщениями для асинхронного взаимодействия между компонентами приложения, независимо от того, где они выполняются: в облаке, на рабочем столе, локальном сервере или мобильном устройстве. Хранилище очередей также поддерживает управление асинхронными задачами и построение рабочих процессов. 

Учетная запись хранения может содержать любое количество очередей. Очередь может содержать любое количество сообщений в пределах 200 ТБ, составляющих ограничение емкости учетной записи хранения. Отдельные сообщения могут иметь размер до 64 КБ.

## Доступ к ресурсам BLOB-объектов, таблиц и очередей ##

По умолчанию только владелец учетной записи хранения имеет доступ к ресурсам в учетной записи хранения. Для обеспечения безопасности данных каждый запрос к ресурсам в вашей учетной записи должен пройти проверку подлинности. Проверка подлинности основывается на модели общего ключа. BLOB-объекты можно также настроить на поддержку анонимной проверки подлинности. 

При создании вашей учетной записи хранения назначаются два закрытых ключа доступа, которые используются для проверки подлинности. Наличие двух ключей гарантирует, что приложение остается доступным при периодическом повторном создании ключей, характерном для обычной практики управления ключами безопасности.

Если требуется разрешить пользователям управляемый доступ к ресурсам хранилища, то можно создать [подпись общего доступа](../storage-dotnet-shared-access-signature-part-1/). Подпись общего доступа — это маркер, который можно добавить к URL-адресу, что разрешает делегированный доступ к контейнеру, BLOB-объекту, таблице или очереди. Любой пользователь, обладающий маркером, может получить доступ к ресурсу, на который указывает маркер, с определяемыми им разрешениями на период времени, в течение которого он действителен.

Наконец, можно указать, что контейнер и входящие в него BLOB-объекты или определенный BLOB-объект доступны для открытого доступа. Если вы указываете, что контейнер или BLOB-объект является общедоступным, любой пользователь может читать его анонимно, и проверка подлинности при этом не требуется.  Общедоступные контейнеры и BLOB-объекты полезны при предоставлении ресурсов, таких как мультимедийные объекты и документы, размещаемые на веб-сайтах.  Чтобы уменьшить задержку в сети для широкой аудитории, можно кэшировать данные BLOB-объекта, используемые веб-сайтами, с помощью Azure CDN.

## Репликация для долговечности и высокой доступности ##

Репликации данных в вашей учетной записи хранения обеспечивает долговечность этих данных и их высокую доступность в соответствии с [Соглашением об уровне обслуживания хранилища ](/ru-ru/support/legal/sla/)даже при временных сбоях оборудования. Существуют три варианта репликации данных в вашей учетной записи хранения.

- *Локально избыточное хранилище (LRS)* реплицируется три раза в одном и том же центре обработки данных. При записи данных в BLOB-объект, очередь и таблицу операция записи выполняется синхронно во всех трех репликах. LRS защищает данные от обычных сбоев оборудования.
- *Гео-избыточное хранилище (GRS)* реплицируется три раза внутри одного региона, а также асинхронно реплицируется во второй регион, расположенный за сотни километров от основного региона. GRS сохраняет 6 эквивалентных копий (реплик) данных (по 3 в каждом регионе). GRS использует Майкрософт для отработки отказа во второй регион, если нам не удается восстановить первый регион из-за капитального сбоя или аварии.  GRS рекомендуется в большей степени, чем локально избыточное хранилище.
- *Гео-избыточное хранилище с доступом только на чтение (RA-GRS)* предоставляет все отмеченные выше преимущества гео-избыточного хранилища, а также разрешает доступ на чтение к данным в дополнительном регионе в том случае, если недоступен основной регион. Гео-избыточное хранилище с доступом только на чтение рекомендуется в тех случаях, когда помимо долговечности требуется также максимальная доступность.  

Разницу цен на LRS, GRS и RA GRS см. на странице [Сведения о ценах на хранилище](/ru-ru/pricing/details/storage/).

## Цены ##

Плата за хранилище Azure для клиентов определяется на основе четырех факторов: используемый объем хранилища, выбранный вариант репликации, количество запросов к службе и исходящие данные. 

Объем хранилища определяет, какая часть выделенного объема учетной записи хранения используется для хранения данных. Стоимость простого хранения данных определяется в зависимости от объема хранящихся данных и способа их репликации. При каждой операции чтения и записи в хранилище Azure выполняется запрос к службе. Исходящими считаются данные, передаваемые из региона Windows Azure. Когда к данным вашей учетной записи хранения обращается приложение, выполняемое в другом регионе, то независимо от типа приложения (облачная служба или приложение другого типа) вам начисляется плата за исходящие данные. (Для служб Windows Azure можно сгруппировать данные и службы в одном центре обработки данных, чтобы уменьшить или исключить плату за обработку и исходящие данные.) 

Подробные сведения о ценах на объем хранилища, репликацию и транзакции см. на странице [Сведения о ценах на хранилище](/ru-ru/pricing/details/storage/). Подробные сведения о ценах на исходящие данные см. на странице [Сведения о ценах на передачу данных](/ru-ru/pricing/details/data-transfers/). Используйте [калькулятор цен на хранилище Azure](/ru-ru/pricing/calculator/?scenario=data-management) для оценки затрат.

## Разработка для хранилища ##

Хранилище Azure предоставляет ресурсы хранилища через интерфейс [API REST](http://msdn.microsoft.com/library/windowsazure/dd179355.aspx), который можно вызвать с помощью любого языка, позволяющего отправлять запросы HTTP или HTTPS. Кроме того, хранилище Azure предлагает библиотеки программирования для нескольких распространенных языков. Эти библиотеки упрощают многие аспекты работы с хранилищем Azure, обрабатывая такие процессы, как синхронное и асинхронное инициирование, пакетная обработка операций, управление исключениями, автоматические повторы, рабочие характеристики и т. д. В настоящее время доступны библиотеки для следующих языков и платформ (другие находятся на стадии подготовки):

- [.NET](http://msdn.microsoft.com/library/dn495001(v=azure.10).aspx)
- [Native code](http://msdn.microsoft.com/library/dn495438.aspx)
- [Java](/ru-ru/develop/java/)
- [Node.js](../storage/#node)
- [PHP](../storage/#php)
- [Ruby](../storage/#ruby)
- [Python](../storage/#python)
- [PowerShell](http://msdn.microsoft.com/library/dn495240.aspx)

## Дальнейшие действия ##

Приступая к работе с хранилищем Azure, изучите следующие ресурсы:

- [Хранилище Azure — документация](/ru-ru/documentation/services/storage/)
- [Цели масштабируемости хранилища и производительности Azure](http://msdn.microsoft.com/library/windowsazure/dn249410.aspx)

<h3>Для разработчиков .NET</h3>

- [Использование хранилища BLOB-объектов из .NET](../storage-dotnet-how-to-use-blobs-20/)
- [Использование табличного хранилища из .NET](../storage-dotnet-how-to-use-tables-20/)
- [Использование хранилища очередей из .NET](../storage-dotnet-how-to-use-queues-20/)

<h3>Для разработчиков Java</h3>

- [Использование хранилища BLOB-объектов из Java](../storage-java-how-to-use-blob-storage/)
- [Использование табличного хранилища из Java](..storage-java-how-to-use-table-storage/)
- [Использование хранилища очередей из Java](..storage-java-how-to-use-queue-storage/)

<h3>Для разработчиков Node.js</h3>

- [Использование хранилища BLOB-объектов из Node.js](../storage-nodejs-how-to-use-blob-storage/)
- [Использование табличного хранилища из Node.js](../storage-nodejs-how-to-use-table-storage/)
- [Использование хранилища очередей из Node.js](../storage-nodejs-how-to-use-queue-storage/)

<h3>Для разработчиков PHP</h3>

- [Использование хранилища BLOB-объектов из PHP](../storage-php-how-to-use-blob-storage/)
- [Использование табличного хранилища из PHP](..storage-php-how-to-use-table-storage/)
- [Использование хранилища очередей из PHP](..storage-php-how-to-use-queue-storage/)

<h3>Для разработчиков Ruby</h3>

- [Использование хранилища BLOB-объектов из Ruby](../storage-ruby-how-to-use-blob-storage/)
- [Использование табличного хранилища из Ruby](..storage-ruby-how-to-use-table-storage/)
- [Использование хранилища очередей из Ruby](..storage-ruby-how-to-use-queue-storage/)

<h3>Для разработчиков Python</h3>

- [Использование хранилища BLOB-объектов из Python](../storage-python-how-to-use-blob-storage/)
- [Использование табличного хранилища из Python](..storage-python-how-to-use-table-storage/)
- [Использование хранилища очередей из Python](..storage-python-how-to-use-queue-storage/)

