---
title: "Типы оповещений системы безопасности в центре безопасности Azure | Документация Майкрософт"
description: "В этой статье рассматриваются типы оповещений системы безопасности в центре безопасности Azure."
services: security-center
documentationcenter: na
author: YuriDio
manager: mbaldwin
editor: 
ms.assetid: b3e7b4bc-5ee0-4280-ad78-f49998675af1
ms.service: security-center
ms.topic: hero-article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/06/2017
ms.author: yurid
translationtype: Human Translation
ms.sourcegitcommit: afe143848fae473d08dd33a3df4ab4ed92b731fa
ms.openlocfilehash: 5da00d1d64b258773fa485baa804b283fde731c3
ms.lasthandoff: 03/17/2017


---
# <a name="security-alerts-by-type-in-azure-security-center"></a>Типы оповещений системы безопасности в центре безопасности Azure
Из этой статьи вы узнаете о различных типах оповещений системы безопасности, доступных в центре безопасности Azure. Дополнительные сведения об управлении этими оповещениями см. в статье [Управление оповещениями безопасности в центре безопасности Azure и реагирование на них](security-center-managing-and-responding-alerts.md).

> [!NOTE]
> Чтобы настроить расширенное обнаружение, обновите центр безопасности Azure до уровня "Стандартный". Бесплатный пробный период составляет 60 дней. Чтобы выполнить обновление, выберите в [политике безопасности](security-center-policies.md) соответствующую **ценовую категорию**. Дополнительные сведения см. на [странице с ценами](https://azure.microsoft.com/pricing/details/security-center/).
>
>

## <a name="what-type-of-alerts-are-available"></a>Какие типы оповещений доступны?
В центре безопасности Azure предоставлено множество оповещений, соответствующих этапам нарушения безопасности путем кибератаки. На рисунке ниже показаны различные предупреждения, которые соответствуют некоторым этапам.

![Цепочка нарушения безопасности](./media/security-center-alerts-type/security-center-alerts-type-fig1.png)

**Целевой объект и атака**

* Входящие атаки с использованием RDP или SSH
* Атаки DDoS и атаки на приложения (партнеры WAF)
* Обнаружение вторжений (партнеры NG Firewall)

**Установка и эксплойт**

* Сигнатуры известных вредоносных программ (партнеры AM)
* Попытки внедрения в память вредоносных программ и эксплойтов
* Выполнение подозрительных процессов
* Уклонение во избежание обнаружения
* Путешествие по компьютерам
* Внутренняя разведка
* Подозрительные действия в PowerShell

**Действия после нарушения**  

* Подключение к известному вредоносному IP-адресу (утечка данных или контроль и управление)
* Использование скомпрометированных ресурсов для осуществления дополнительных атак (атака методом подбора со сканированием исходящих портов и использованием RDP или SSH, а также отправка нежелательной почты)

С каждым этапом связаны различные типы атак, направленные на разные подсистемы. Для устранения риска атак на этих этапах в центре безопасности предусмотрены три категории оповещений:

* анализ поведения виртуальных машин;
* анализ сети;
* анализ ресурсов.

## <a name="virtual-machine-behavioral-analysis"></a>Анализ поведения виртуальных машин
Поведенческая аналитика позволяет центру безопасности Azure выявлять скомпрометированные ресурсы. Для этого центр безопасности анализирует журналы событий виртуальных машин, например события создания процессов, входов в систему и др. Кроме того, получаемые данные сверяются с другими сигналами. Это дает возможность получить подтверждающие доказательства масштабной кампании.

> [!NOTE]
> Дополнительные сведения о способах обнаружения угроз в центре безопасности см. в статье [Возможности обнаружения центра безопасности Azure](security-center-detection-capabilities.md).
>
>

### <a name="crash-analysis"></a>Анализ сбоев
Анализ памяти аварийного дампа — это метод определения сложных вредоносных программ, способных обойти традиционные решения по обеспечению безопасности. Вредоносные программы различных типов пытаются уменьшить вероятность своего обнаружения с помощью антивирусных программ. Для этого они никогда не записывают данные на диск или шифруют записанные на диск программные компоненты. Поэтому вредоносные программы трудно обнаружить традиционными методами. Зато такую программу можно обнаружить в ходе анализа памяти, так как, функционируя, программа не может не оставлять следов в памяти.

Когда программа дает сбой, аварийный дамп записывает часть памяти в момент сбоя. Вредоносная программа, общее пользование или проблемы системы могут вызвать сбой. Анализируя память в аварийном дампе, центр безопасности может выявить методы, с помощью которых злоумышленник эксплуатирует уязвимости ПО, получает доступ к конфиденциальным данным и тайно пользуется скомпрометированным компьютером. При этом производительность узлов почти не страдает, так как анализ выполняется на сервере центра безопасности.

Следующие поля являются общими для оповещений об аварийном дампе, которые встречаются далее в этой статье.

* Dumpfile (файл дампа) — имя файла аварийного дампа.
* Processname (имя процесса) — имя процесса, аварийно завершившего работу.
* Processversion (версия процесса) — версия процесса, аварийно завершившего работу.

### <a name="shellcode-discovered"></a>Обнаружение кода оболочки
Код оболочки — это атакующий код, который выполняется, когда вредоносная программа воспользовалась уязвимостью программного обеспечения. Такое оповещение означает, что анализ с помощью аварийного дампа обнаружил исполняемый код, поведение которого типично для атакующего кода вредоносных программ. Хотя невредоносная программа тоже может так себя вести, такое поведение нетипично для обычного программного обеспечения.

Это оповещение о коде оболочки содержит дополнительное поле:

* Address (адрес) — расположение кода оболочки в памяти.

Ниже приведен пример такого оповещения.

![Оповещение о коде оболочки](./media/security-center-alerts-type/security-center-alerts-type-fig2.png)

### <a name="module-hijacking-discovered"></a>Обнаружение перехватов модулей
Windows использует библиотеки динамической компоновки (DLL), чтобы разрешать программному обеспечению использовать стандартные функции системы Windows. Перехват DLL происходит, когда вредоносная программа изменяет порядок загрузки библиотек DLL, чтобы загрузить вредоносный атакующий код в память, где может выполняться произвольный код. Это предупреждение означает, что анализ аварийного дампа обнаружил модуль с одинаковым именем, который загружается из двух разных расположений. Один из путей загрузки — стандартное расположение двоичных файлов Windows.

Разработчики безопасного программного обеспечения иногда изменяют порядок загрузки библиотек DLL без злого умысла, например для инструментирования, расширения возможностей операционной системы или приложений Windows. Чтобы отличить вредоносные изменения от потенциально неопасных изменений в порядке загрузки библиотек DLL, центр безопасности Azure проверяет, соответствуют ли загруженные модули подозрительному профилю. В оповещении результат такой проверки отображается в поле Signature (подпись), а также отражается в уровне серьезности, описании оповещения и шагах по исправлению. Чтобы выяснить, является модуль безопасным или вредоносным, проанализируйте копию перехваченного модуля на диске. Например, проверьте цифровую подпись файла или запустите сканирование на вирусы.

Кроме стандартных полей, описанных в разделе "Обнаружение кода оболочки", это оповещение содержит следующие поля:

* Signature (подпись) — указывает, соответствует ли перехваченный модуль профилю подозрительного поведения.
* Hijackedmodule (перехваченный модуль) — имя перехваченного модуля системы Windows.
* Hijackedmodulepath (путь к перехваченному модулю) — путь к перехваченному модулю системы Windows.
* Hijackingmodulepath (путь к модулю-перехватчику) — путь к модулю-перехватчику.

Ниже приведен пример такого оповещения.

![Оповещение о перехвате модулей](./media/security-center-alerts-type/security-center-alerts-type-fig3.png)

### <a name="masquerading-windows-module-detected"></a>Обнаружение маскирующихся модулей Windows
Вредоносные программы могут использовать стандартные имена двоичных файлов и модулей Windows (например, Svchost.exe и Ntdll.dll), чтобы *смешаться во множестве* файлов и скрыть природу вредоносных программ от системных администраторов. Такое оповещение в ходе анализа аварийного дампа означает, что в файле дампа обнаружены модули, которые используют имена модулей системы Windows, но не отвечают другим критериям, характерным для модулей Windows. Анализ хранящейся на диске копии маскирующегося модуля даст больше информации, которая поможет помочь определить его истинный характер. Анализ может состоять из таких этапов:

* Убедитесь, что рассматриваемый файл является частью безопасного программного обеспечения.
* Проверьте цифровую подпись файла.
* Проверьте файл на наличие вирусов.

Кроме стандартных полей, описанных в разделе "Обнаружение кода оболочки", это оповещение содержит дополнительные поля.

* Details (подробные сведения) — указывает, допустимы ли метаданные модуля и был ли модуль загружен из системного расположения.
* Name (имя) — имя маскирующегося модуля Windows.
* Path (путь) — путь маскирующегося модуля Windows.

Оповещение также содержит некоторые поля из заголовка модуля PE, например Checksum (контрольная сумма) и Timestamp (метка времени). Эти поля отображаются, только если они присутствуют в модуле. Дополнительную информацию об этих полях см. в [спецификациях Microsoft PE и COFF](https://msdn.microsoft.com/windows/hardware/gg463119.aspx).

Ниже приведен пример такого оповещения.

![Оповещение о маскирующихся модулях Windows](./media/security-center-alerts-type/security-center-alerts-type-fig4.png)

### <a name="modified-system-binary-discovered"></a>Обнаружение измененных системных двоичных файлов
Вредоносные программы могут изменять основные системные двоичные файлы, чтобы получить скрытый доступ к данным или тайно храниться в поврежденной системе. Такое оповещение в ходе анализа аварийного дампа означает, что обнаружено изменение базовых двоичных файлов Windows в памяти или на диске.

Разработчики подлинного программного обеспечения иногда изменяют системные модули в памяти без злого умысла, например для перенаправления или обеспечения совместимости приложений. Чтобы отличить вредоносные модули от потенциально неопасных, центр безопасности Azure проверяет, соответствуют ли измененные модули подозрительному профилю. Результат этой проверки отражается в уровне серьезности, описании оповещения и шагах по исправлению.

Кроме стандартных полей, описанных в разделе "Обнаружение кода оболочки", это оповещение содержит дополнительные поля.

* Modulename (имя модуля) — имя измененного системного двоичного файла.
* Moduleversion (версия модуля) — версия измененного системного двоичного файла.

Ниже приведен пример такого оповещения.

![Оповещение о системном двоичном файле](./media/security-center-alerts-type/security-center-alerts-type-fig5.png)

### <a name="suspicious-process-executed"></a>Выполнение подозрительных процессов
Центр безопасности обнаруживает, что на целевой виртуальной машине выполняется подозрительный процесс, и активирует оповещение. Во время обнаружения ищется не конкретное имя, а параметр исполняемого файла. Поэтому, даже если злоумышленник переименует исполняемый файл, центр обеспечения безопасности все равно сможет обнаружить подозрительный процесс.

Ниже приведен пример такого оповещения.

![Оповещение о подозрительном процессе](./media/security-center-alerts-type/security-center-alerts-type-fig6-new.png)

### <a name="multiple-domain-accounts-queried"></a>Запрос к нескольким учетным записям домена
Центр безопасности может обнаружить несколько попыток запроса учетных записей домена. Обычно злоумышленники осуществляют такие попытки при разведке сети. Злоумышленники могут использовать этот метод для определения пользователей, учетных записей администраторов домена, компьютеров, выполняющих роль контроллеров домена, а также возможных доверительных отношений домена с другими доменами.

Ниже приведен пример такого оповещения.

![Оповещения о нескольких учетных записях домена](./media/security-center-alerts-type/security-center-alerts-type-fig7-new.png)

## <a name="network-analysis"></a>анализ сети;
Функция обнаружения угроз сети в центре безопасности автоматически собирает информацию о безопасности из трафика IPFIX Azure. Она анализирует эту информацию, часто сравнивая сведения из разных источников и определяя угрозы.

### <a name="suspicious-outgoing-traffic-detected"></a>Обнаружение подозрительного исходящего трафика
Сетевые устройства можно обнаружить и профилировать так же, как и другие системы. Злоумышленники обычно начинают со сканирования или перебора портов. В следующем примере обнаружен подозрительный трафик Secure Shell (SSH) с виртуальной машины. В этом сценарии возможна SSH-атака на внешний ресурс методом подбора или перебора портов.

![Оповещение о подозрительном исходящем трафике](./media/security-center-alerts-type/security-center-alerts-type-fig8.png)

Это оповещение содержит сведения, с помощью которых можно идентифицировать ресурс, используемый для проведения атаки. Это оповещение содержит сведения, с помощью которых можно идентифицировать скомпрометированный компьютер, время обнаружения, а также протокол и порт, которые были использованы. Эта колонка также содержит список действий, которые помогут устранить проблему.

### <a name="network-communication-with-a-malicious-machine"></a>Сетевое взаимодействие с вредоносным компьютером
Используя каналы Майкрософт для аналитики угроз, центр безопасности Azure может обнаружить скомпрометированные компьютеры, которые взаимодействуют с вредоносными IP-адресами. В большинстве случаев этот IP-адрес является центром контроля и управления. В нашем примере центр безопасности обнаружил, что обмен данными выполнялся с помощью вредоносной программы Pony Loader (также известной как [Fareit](https://www.microsoft.com/security/portal/threat/encyclopedia/entry.aspx?Name=PWS:Win32/Fareit.AF)).

![оповещение о сетевом взаимодействии](./media/security-center-alerts-type/security-center-alerts-type-fig9.png)

Это оповещение содержит информацию, которая позволяет определить ресурс, использованный для проведения атаки, атакованный ресурс, атакованный IP-адрес, IP-адрес злоумышленника и время обнаружения.

> [!NOTE]
> Настоящие IP-адреса удалены с этого снимка экрана в целях конфиденциальности.
>
>

### <a name="possible-outgoing-denial-of-service-attack-detected"></a>Обнаружение возможной исходящей атаки типа "отказ в обслуживании"
Обнаружив аномальный сетевой трафик, исходящий из одной виртуальной машины, центр безопасности может активировать оповещение о возможной атаке типа "отказ в обслуживании".

Ниже приведен пример такого оповещения.

![Исходящая атака типа "отказ в обслуживании"](./media/security-center-alerts-type/security-center-alerts-type-fig10-new.png)

## <a name="resource-analysis"></a>Анализ ресурсов
При анализе ресурсов в центре безопасности основное внимание уделяется службам PaaS (платформа как услуга), например службам, интегрированным с [системой обнаружения угроз для базы данных SQL Azure](../sql-database/sql-database-threat-detection.md). На основе анализа результатов в этих областях центр безопасности выдает оповещение о ресурсах.

### <a name="potential-sql-injection"></a>Потенциальная атака путем внедрения кода SQL
Внедрение кода SQL — это атака, во время которой вредоносный код вставляется в строки, которые позже будут переданы экземпляру SQL Server для анализа и выполнения. Так как SQL Server выполняет все полученные запросы, являющиеся синтаксически правильными, все процедуры, создающие инструкции SQL, необходимо проверять на предмет уязвимости к внедрению. Чтобы определять подозрительные события, которые могут происходить в базах данных SQL Azure, система обнаружения угроз SQL использует машинное обучение, анализ поведения и обнаружение аномалий. Например:

* попытка бывшего сотрудника получить доступ к базе данных;
* атака путем внедрения кода SQL;
* необычная попытка пользователя получить доступ к рабочей базе данных из домашней системы.

![Оповещение о потенциальной атаке путем внедрения кода SQL](./media/security-center-alerts-type/security-center-alerts-type-fig11.png)

Используя сведения из этого оповещения, можно идентифицировать атакованный ресурс, время обнаружения и состояние атаки. Оповещение также содержит ссылку на следующие этапы выявления.

### <a name="vulnerability-to-sql-injection"></a>Уязвимость к атакам путем внедрения кода SQL
Это оповещение активируется при обнаружении ошибки приложения в базе данных. Оно может указывать на возможную уязвимость к атакам путем внедрения кода SQL.

![Оповещение о потенциальной атаке путем внедрения кода SQL](./media/security-center-alerts-type/security-center-alerts-type-fig12-new.png)

### <a name="unusual-access-from-unfamiliar-location"></a>Обычный вход из неизвестного расположения
Это оповещение активируется, когда на сервере обнаруживается попытка доступа с незнакомого IP-адреса, который не использовался за последний период.

![Оповещение о необычном доступе](./media/security-center-alerts-type/security-center-alerts-type-fig13-new.png)

## <a name="see-also"></a>См. также
Из этой статьи вы узнали о различных типах оповещений системы безопасности в центре безопасности. Дополнительные сведения о Центре безопасности см. в следующих статьях:

* [Обработка инцидентов в центре безопасности Azure](security-center-incident.md)
* [Возможности обнаружения центра безопасности Azure](security-center-detection-capabilities.md)
* [Руководство по планированию использования центра безопасности Azure и работе в нем](security-center-planning-and-operations-guide.md)
* [Центр безопасности Azure: часто задаваемые вопросы](security-center-faq.md). Часто задаваемые вопросы об использовании этой службы.
* [Блог по безопасности Azure](http://blogs.msdn.com/b/azuresecurity/). Публикации блога, посвященные вопросам безопасности и соответствия требованиям в Azure.

