<properties
   pageTitle="Общие сведения о безопасности при использовании службы хранилища Azure | Microsoft Azure"
   description="Хранилище Azure — это облачное решение для хранения современных приложений, обеспечивающее устойчивость, доступность и масштабируемость для удовлетворения потребностей клиентов. В этой статье содержатся общие сведения о базовых функциях безопасности Azure, которые можно использовать в службе хранилища Azure."
   services="security"
   documentationCenter="na"
   authors="TerryLanfear"
   manager="StevenPo"
   editor="TomSh"/>

<tags
   ms.service="security"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="05/19/2016"
   ms.author="terrylan"/>

# Общие сведения о безопасности при использовании службы хранилища Azure

Хранилище Azure — это облачное решение для хранения современных приложений, обеспечивающее устойчивость, доступность и масштабируемость для удовлетворения потребностей клиентов. Служба хранилища Azure предусматривает много разных средств обеспечения безопасности.

- Учетную запись хранения можно защитить с помощью управления доступом на основе ролей и Azure Active Directory.
- Защитить данные, передаваемые между приложением и Azure, можно с помощью шифрования на стороне клиента, HTTPS или SMB 3.0.
- Вы можете настроить автоматическое шифрование данных при записи в службу хранилища Azure с помощью шифрования службы хранения.
- Для дисков ОС и данных, используемых виртуальными машинами, можно настроить шифрование дисков Azure.
- Делегированный доступ к объектам данных в службе хранилища Azure можно предоставлять с помощью подписанных URL-адресов.

В статье содержатся общие сведения об этих базовых функциях безопасности, которые можно использовать в службе хранилища Azure. Здесь также приводятся ссылки на статьи с дополнительными сведениями о каждой функции.

Подробные сведения о безопасности для хранилища Azure см. в [руководстве по безопасности при использовании службы хранилища Azure](https://azure.microsoft.com/documentation/articles../storage/storage-security-guide.md).

В этой статье рассматриваются указанные ниже основные компоненты.

- Управление доступом на основе ролей
- Управление ключами учетной записи хранения
- Делегированный доступ к объектам хранилища
- Шифрование при передаче
- Шифрование при хранении (шифрование службы хранилища)
- Аналитика службы хранилища

## Управление доступа на основе ролей

Вы можете защитить учетную запись хранения с помощью управления доступом на основе ролей (RBAC). Каждая подписка Azure связана с одним клиентом Azure Active Directory (AD). Пользователи, группы и приложения из этого каталога могут управлять ресурсами в подписке Azure. Эти права предоставляются путем назначения соответствующей роли RBAC пользователям, группам и приложениям для определенной области.

RBAC можно использовать для предоставления доступа к операциям управления в рамках учетной записи хранения Azure. С помощью RBAC вы можете делегировать полномочия:

- на управление учетной записью хранения;
- на чтение ключей учетной записи хранения и использование этих ключей для доступа к BLOB-объектам, очередям, таблицам и файлам;
- на повторное создание ключей доступа к хранилищу.

Подробнее.

- [Контроль доступа на основе ролей Azure Active Directory](../active-directory/role-based-access-control-configure.md)

## Управление ключами учетной записи хранения

При создании учетной записи хранения Azure создает два 512-битных кода доступа к хранилищу, которые используются для проверки подлинности при доступе к учетной записи хранения. Предоставляя два ключа доступа к хранилищу, Azure позволяет повторно создавать ключи без прерывания предоставления службы хранилища или доступа к этой службе. Вы можете обслуживать подключения к учетной записи хранения с помощью одного ключа доступа во время повторного создания другого.

Ключи учетной записи хранения используются вместе с именем учетной записи хранения для доступа к хранящимся в ней объектам данных, включая BLOB-объекты, сущности в таблице, сообщения в очереди и файлы в общей папке Azure. С помощью RBAC вы можете управлять доступом к ключам учетной записи хранилища, которые в свою очередь контролируют доступ к объектам данных.

Подробнее.

- [Об учетных записях хранения Azure](../storage/storage-create-storage-account.md)

## Делегированный доступ к объектам хранилища

Подписанный URL-адрес (SAS) — это строка с маркером безопасности, который можно связать с универсальным кодом ресурса (URI). Это позволяет делегировать доступ к объектам в хранилище и указывать ограничения, например разрешения и период времени доступа.

Предоставляя ключ учетной записи хранения, вы открываете свободный доступ к хранилищу без каких-либо ограничений. С помощью подписанных URL-адресов вы можете предоставлять клиентам только необходимые им разрешения на ограниченный срок. Вы можете:

- Предоставлять доступ к BLOB-объектам, контейнерам, сообщениям в очереди, файлам и таблицам. В случае с таблицами можно предоставить разрешение на доступ к диапазону сущностей, указав диапазоны ключей секций и строк, которые должны быть доступны пользователю.
- Указывать, что запросы, совершаемые с помощью подписанного URL-адреса, ограничены определенным IP-адресом или диапазоном IP-адресов, внешним по отношению к Azure.
- Требовать, чтобы запросы выполнялись только по определенному протоколу (HTTPS или HTTP/HTTPS). Например, если вы хотите разрешить только HTTPS-трафик, то можете задать HTTPS в качестве обязательного протокола, и HTTP-трафик будет блокироваться.

Подробнее.

- [Основные сведения о модели SAS](../storage/storage-dotnet-shared-access-signature-part-1.md).

## Шифрование при передаче
Шифрование при передаче — это механизм защиты данных, передаваемых по сетям. Служба хранилища Azure позволяет применять для защиты данных:

- шифрование транспортного уровня, например протокол HTTPS, при передаче данных в службу хранилища Azure или из нее;
- шифрование подключения, например шифрование SMB 3.0 для файловых ресурсов Azure;
- шифрование на стороне клиента, которое шифрует данные перед их передачей в хранилище и расшифровывает данные после получения из хранилища.

### Шифрование транспортного уровня

Для защиты данных в службе хранилища Azure вы можете применять шифрование данных между клиентом и службой хранилища Azure. Вы можете [использовать протокол HTTPS](../app-service-web/web-sites-configure-ssl-certificate.md) при вызове интерфейсов REST API и доступе к объектам в хранилище. Кроме того, вы можете применять [подписанные URL-адреса](../storage/storage-dotnet-shared-access-signature-part-1.md) для делегирования доступа к объектам в службе хранилища Azure. Они содержат необязательный параметр (протокол), с помощью которого можно настроить использование протокола HTTPS с подписанными URL-адресам. Это гарантирует, что любой отправитель ссылок, содержащих маркеры SAS, будет использовать безопасный протокол.

### Шифрование подключения для общего доступа к файлам

Протокол SMB 3.0 поддерживает шифрование и может использоваться с Windows Server 2012 R2, Windows 8, Windows 8.1 и Windows 10, обеспечивая доступ между регионами и даже доступ к рабочему столу.

С виртуальными машинами Linux можно использовать файловые ресурсы Azure. Клиент SMB для Linux пока не поддерживает шифрование, поэтому доступ разрешен только в пределах одного региона Azure. Поддержка шифрования для Linux уже включена в план работ. Когда шифрование будет реализовано, в Linux при доступе к файловым ресурсам Azure можно будет использовать те же возможности шифрования на сетевом уровне, что и в Windows.

Подробнее.

- [Использование хранилища файлов Azure в Linux](../storage/storage-how-to-use-files-linux.md)
- [Приступая к работе с хранилищем файлов Azure в Windows](../storage/storage-dotnet-how-to-use-files.md)
- [Inside Azure File Storage (Хранилище файлов Azure: взгляд изнутри)](https://azure.microsoft.com/blog/inside-azure-file-storage/)

### Шифрование на стороне клиента

Шифрование на стороне клиента помогает защитить данные в процессе передачи между клиентским приложением и службой хранилища Azure. Данные шифруются перед передачей в службу хранилища Azure. При извлечении данных из службы хранилища Azure данные расшифровываются после получения клиентом. Хотя данные шифруются при передаче по каналам связи, следует использовать протокол HTTPS, чтобы минимизировать влияние сетевых ошибок на целостность данных.

Подробнее.

- [Client-Side Encryption for Microsoft Azure Storage](https://blogs.msdn.microsoft.com/windowsazurestorage/2015/04/28/client-side-encryption-for-microsoft-azure-storage-preview/) (Шифрование на стороне клиента для службы хранилища Microsoft Azure)
- [Cloud security controls series: Encrypting Data in Transit](http://blogs.microsoft.com/cybertrust/2015/08/10/cloud-security-controls-series-encrypting-data-in-transit/) (Серия статей об управлении безопасностью в облаке: защита данных при передаче)

## Шифрование при хранении

В Azure есть три функции, обеспечивающие шифрование неактивных данных.

- Шифрование службы хранения
- Шифрование на стороне клиента
- Дисковое шифрование Azure

### Шифрование службы хранения

Шифрование службы хранилища позволяет настроить автоматическое шифрование данных, записываемых в службу хранилища Azure. При считывании данных они расшифровываются службой хранилища Azure перед возвратом. Это позволяет защитить данные, не изменяя код и не добавляя код в приложения.

[Шифрование службы хранилища Azure](https://azure.microsoft.com/services/storage/) доступно для [хранилища BLOB-объектов Azure](https://azure.microsoft.com/services/storage/blobs/). Сведения о других типах хранилища Azure см. в описании хранилищ [файлов](https://azure.microsoft.com/services/storage/files/), [дисков (хранилище класса Premium)](https://azure.microsoft.com/services/storage/premium-storage/), [таблиц](https://azure.microsoft.com/services/storage/tables/) и [очередей](https://azure.microsoft.com/services/storage/queues/).

Подробнее:

- [Шифрование службы хранилища Azure для неактивных данных (предварительная версия)](../storage/storage-service-encryption.md)

### Шифрование на стороне клиента

Мы упоминали шифрование на стороне клиента, описывая шифрование данных при передаче. Эта функция позволяет шифровать данные программными средствами в клиентском приложении перед их отправкой по сети для записи в службу хранилища Azure и расшифровывать данные программными средствами после их получения из этой службы.

Таким образом обеспечивается не только шифрование при передаче, но и шифрование при хранении. Учтите: хотя данные шифруются при передаче, вы можете использовать протокол HTTPS, так как в нем реализована встроенная проверка целостности данных, позволяющая минимизировать последствия сетевых ошибок.

Подробнее:

- [Шифрование на стороне клиента для службы хранилища Microsoft Azure](../storage/storage-client-side-encryption.md)

### Дисковое шифрование Azure

Шифрование дисков Azure для виртуальных машин способствует выполнению корпоративных требований по безопасности и соблюдению нормативов. Эта служба выполняет шифрование дисков виртуальных машин (загрузочных дисков и дисков данных) с использованием ключей и политик, которыми вы управляете в [хранилище ключей Azure](https://azure.microsoft.com/services/key-vault/).

Шифрование дисков для виртуальных машин используется для операционных систем Linux и Windows. Также доступно хранилище ключей, которое поможет вам защищать и проверять использование ключей для шифрования дисков, а также управлять эти использованием. Все данные, хранящиеся на дисках виртуальных машин в учетных записях хранения Azure, шифруются с помощью стандартной для отрасли технологии шифрования. Шифрование дисков для Windows основано на [шифровании дисков Microsoft BitLocker](https://technet.microsoft.com/library/cc732774.aspx), а аналогичное решение для Linux использует шифрование [dm-crypt](https://en.wikipedia.org/wiki/Dm-crypt).

Подробнее.

- [Шифрование дисков Azure для виртуальных машин IaaS с ОС Windows и Linux](https://gallery.technet.microsoft.com/Azure-Disk-Encryption-for-a0018eb0)

## Аналитика службы хранилища

Для каждой учетной записи хранения можно включить аналитику службы хранилища Azure Storage Analytics с целью ведения журнала и сохранения данных метрик. Это эффективное средство, которое поможет вам проверить метрики производительности или устранить проблемы с производительностью учетной записи хранения.

Помимо этого, в журнале аналитики хранилища можно увидеть, как метод проверки подлинности применял тот или иной пользователь для доступа к хранилищу. Например, для хранилища BLOB-объектов можно узнать, использовался ли подписанный URL-адрес, ключ учетной записи хранения или BLOB-объект был общедоступным.

Подробнее.

- [Аналитика службы хранилища](../storage/storage-analytics.md)
- [Формат журналов аналитик хранилища](https://msdn.microsoft.com/library/azure/hh343259.aspx)
- [Мониторинг учетной записи хранения на портале Azure](../storage/storage-monitor-storage-account.md)
- [Комплексный поиск и устранение неполадок с помощью метрик хранилища Azure и ведения журнала, AzCopy и анализатора сообщений](../storage/storage-e2e-troubleshooting.md)

<!---HONumber=AcomDC_0525_2016-->