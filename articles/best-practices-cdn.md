<properties
   pageTitle="Руководство по сети доставки содержимого (CDN) | Microsoft Azure"
   description="Рекомендации по сети доставки содержимого (CDN) для обеспечения доставки содержимого, размещенного в Azure, по сети с высокой пропускной способностью."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="04/28/2015"
   ms.author="masashin"/>

# Руководство по сети доставки содержимого (CDN)

![](media/best-practices-cdn/pnp-logo.png)

## Обзор

Сеть доставки содержимого (CDN) Microsoft Azure предлагает разработчикам глобальное решение по доставке содержимого, размещенного в Azure, по сети с высокой пропускной способностью. CDN кэширует общедоступные объекты, загруженные из хранилища больших двоичных объектов Azure или папки приложения, в стратегические расположения для обеспечения максимальной пропускной способности для доставки содержимого пользователям. Обычно она используется для доставки статического содержимого, например изображений, таблиц стилей, документов, файлов, клиентских скриптов и HTML-страниц.

Основные преимущества использования CDN: низкая задержка, более быстрая доставка содержимого пользователям независимо от их географического местоположения по отношению к центру обработки данных, где размещено приложение, и уменьшение нагрузки на само приложение, так как ему не требуется выполнять обработку, необходимую для доступа к содержимому и его доставки. Уменьшение нагрузки поможет увеличить производительность и масштабируемость приложения, а также снизить до минимума затраты на размещение путем снижения объема вычислительных ресурсов, необходимых для получения определенного уровня производительности и доступности.

Если Azure CDN не соответствует вашим требованиям, вы сможете использовать другие сети доставки содержимого, которые не реализованы Azure в ваших приложениях. Кроме того, вы, скорее всего, сможете использовать Azure CDN для приложений, размещенных у других поставщиков, предоставив статическое содержимое через службу хранилища Azure или вычислительные экземпляры Azure. ![](media/best-practices-cdn/CDN.png)

## Как и для чего используется CDN

Типичные случаи использования CDN.

- Доставка статических ресурсов для клиентских приложений, часто с веб-сайта. Это могут быть изображения, таблицы стилей, документы, файлы, клиентские скрипты, HTML-страницы, фрагменты HTML или любое другое содержимое, которое серверу не нужно изменять по каждому запросу. Приложение может создавать элементы во время выполнения и предоставлять их в сеть CDN (например, путем создания списка текущих новостей), но оно делает это не для каждого запроса.

- Доставка общедоступного статического и общего содержимого на устройства, например мобильные телефоны и планшеты, где само приложение является веб-службой, которая предлагает API клиентам. Кроме другого содержимого, которое серверу не требуется изменять для каждого запроса, CDN может доставить статические наборы данных для использования клиентом, например для создания пользовательского интерфейса клиента. Например, эту сеть можно использовать для доставки JSON- или XML-документов.

- Предоставление веб-сайтов целиком (при условии, что они состоят только из общедоступного статического содержимого) клиентам без необходимости использовать выделенные вычислительные ресурсы.

- Потоковая передача видеофайлов в клиент по запросу. Видео передаются с низкой задержкой и по надежному подключению, доступному из центров обработки данных, расположенных по всему миру, которые предлагают подключения к сети CDN.

- Общее усовершенствование взаимодействия для пользователей, особенно тех, которые расположены далеко от центра обработки данных приложения и страдают от высоких задержек. Большой объем содержимого в веб-приложении часто является статическим, а использование CDN поможет поддерживать производительность и общее качество взаимодействия с пользователями на нужном уровне, исключая при этом необходимость развертывания приложения в нескольких центрах обработки данных.

- Обработка больших нагрузок в приложениях, которые обслуживают мобильные и фиксированные устройства, которые являются частью "Интернета вещей" (IoT). Огромное количество таких устройств может легко перегрузить приложение, если оно используется для обработки широковещательных сообщений и прямого управления обновлением встроенного ПО.

- Обработка пиковых нагрузок и бросков в использовании без масштабирования приложения и последующих затрат на его работу. Например, при выпуске обновления операционной системы для устройства (конкретной модели или маршрутизатора) либо для потребительского устройства, например смарт-ТВ, возникнет пиковое количество запросов, так как оно скачивается миллионами пользователей и устройств за короткий период времени.

- В следующей таблице показаны примеры медианы времени до получения первого байта из разных географических местоположений. Целевая веб-роль развертывается в регионе "Запад США" Azure. Чем ближе приложение к узлу CDN, тем значительнее ускорение работы от использования этой сети. Список расположений узлов Azure CDN доступен в разделе [Расположения узлов сети доставки содержимого Azure](http://msdn.microsoft.com/library/azure/gg680302.aspx).

<table xmlns:xlink="http://www.w3.org/1999/xlink"><tr><th><a name="_MailEndCompose" href="#"><span /></a><br /></th><th><p>Время до получения первого байта (источник)</p></th><th><p>Время до получения первого байта (CDN)</p></th><th><p>% ускорения с CDN</p></th></tr><tr><td><p>* Сан-Хосе, Калифорния</p></td><td><p>47,5</p></td><td><p>46,5</p></td><td><p>2 %</p></td></tr><tr><td><p>** Даллес, Виргиния</p></td><td><p>109</p></td><td><p>40,5</p></td><td><p>169 %</p></td></tr><tr><td><p>Буэнос-Айрес, Аргентина</p></td><td><p>210</p></td><td><p>151</p></td><td><p>39 %</p></td></tr><tr><td><p>* Лондон, Соединенное Королевство</p></td><td><p>195</p></td><td><p>44</p></td><td><p>343 %</p></td></tr><tr><td><p>Шанхай, Китай</p></td><td><p>242</p></td><td><p>206</p></td><td><p>17 %</p></td></tr><tr><td><p>* Сингапур</p></td><td><p>214</p></td><td><p>74</p></td><td><p>189 %</p></td></tr><tr><td><p>* Токио, Япония</p></td><td><p>163</p></td><td><p>48</p></td><td><p>240 %</p></td></tr><tr><td><p>Сеул, Корея</p></td><td><p>190</p></td><td><p>190</p></td><td><p>0 %</p></td></tr></table>* Имеет узел Azure CDN в том же городе. * Имеет узел Azure CDN в соседнем городе.


## Сложности  

При планировании использования CDN следует учитывать некоторые сложности.

- **Развертывание**. Вам нужно решить, откуда загружать содержимое для CDN (источник, из которого CDN получает содержимое) и нужно ли развертывать содержимое больше чем в одной системе хранения данных (например, в CDN и альтернативном расположении).

- В механизме развертывания приложения должно учитываться развертывание статического содержимого и ресурсов, а также развертывание файлов приложений, например страниц ASPX. Например, может потребоваться отдельный шаг для загрузки содержимого в хранилище больших двоичных объектов Azure.

- **Управление версиями и кэшем**. Вы должны выбрать, как следует обновлять статическое содержимое и развертывать новые версии. CDN сейчас не предоставляет механизм очистки содержимого, поэтому доступны новые версии. Это задача, аналогичная задаче управления кэшированием на стороне клиента, например в браузере.

- **Тестирование**. Может оказаться сложным выполнить локальное тестирование параметров CDN при разработке и тестировании приложения локально или в промежуточной среде.

- **SEO**. Содержимое, такое как изображения и документы, предоставляются из другого домена при использовании CDN, что повлияет на SEO для этого содержимого.

- **Безопасность**. Многие службы CDN, такие как Azure CDN, сейчас не предлагают никакие типы контроля доступа для содержимого.

- **Устойчивость**. CDN — это возможная единая точка сбоя для приложения. Она имеет соглашение об уровне обслуживания с более низкой доступностью по сравнению с хранилищем больших двоичных объектов (которое можно использовать для доставки содержимого напрямую), поэтому вам может потребоваться реализовать механизм отработки отказа для критически важного содержимого.

- Клиенты могут подключаться из среды, которая не разрешает доступ к ресурсам в CDN. Это может быть среда с правилами безопасности, которая предоставляет доступ только к набору известных ресурсов или которая предотвращает загрузку ресурсов из любого расположения, кроме исходной страницы. Следовательно, потребуется резервная реализация.

- Следует реализовать механизм для мониторинга доступности содержимого в CDN.

Сценарии, в которых сеть CDN может быть менее эффективной.

- Если у содержимого низкое количество попаданий, и к нему можно получить доступ только несколько или всего один раз в течение времени жизни. При первом скачивании элемента с вас взимается плата за две транзакции (от источника в CDN, а затем от CDN клиенту).

- Если данные являются конфиденциальными, например в больших организациях или экосистемах цепочки поставок.


## Общие инструкции и рекомендации

Использование CDN — это хороший способ минимизировать нагрузку на приложение и максимально повысить доступность и производительность. Это следует учитывать для всего соответствующего содержимого и ресурсов, которые использует ваше приложение. При разработке стратегии по использованию CDN необходимо учитывать следующее.

- **Источник ** Для развертывания содержимого в CDN необходимо просто указать конечную точку HTTP (порт 80), которую служба CDN будет использовать для доступа и кэширования содержимого. Конечная точка может указать контейнер хранилища больших двоичных объектов Azure, содержащий статическое содержимое, которое следует поставлять через CDN. Контейнер должен быть помечен как общедоступный. Только большие двоичные объекты в общедоступном контейнере с доступом на общедоступное чтение будут доступны в сети CDN. 
- Конечная точка может указать папку с именем **cdn** в корне одного из вычислительных слоев приложения (например, веб-роли или виртуальной машины). Результаты запросов на ресурсы, включая динамические ресурсы, такие как страницы ASPX, будут кэшированы в CDN. Минимальный период возможности кэширования составляет 300 секунд. Любой более короткий период предотвратит развертывание содержимого в CDN (дополнительные сведения см. в статье <a href="#cachecontrol" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">Управление кэшем</a>).

- Если вы используете веб-сайты Azure, в качестве конечной точки будет задана корневая папка сайта путем выбора сайта при создании экземпляра CDN. Все содержимое сайта будет доступно в CDN.

- В большинстве случаев указание в качестве конечной точки CDN папки в одном из вычислительных слоев приложения предоставит дополнительную гибкость и контроль. Например, станет проще управлять текущими и будущими требованиями к маршрутизации, а также динамически создавать статическое содержимое, например эскизы изображений.

- Вы можете использовать строки запросов для различения объектов в кэше, если содержимое поставляется из динамических источников, таких как страницы ASPX. При этом такое поведение можно и отключить, задав параметр на портале управления при указании конечной точки CDN. При доставке содержимого из хранилища больших двоичных объектов строки запросов рассматриваются как строковые литералы и два элемента, которые имеют одно имя, но разные строки запросов, будут храниться в виде отдельных элементов в CDN.

- Вы можете использовать переопределение URL-адресов для таких ресурсов, как скрипты и другое содержимое, чтобы избежать перемещения файлов в папку источника CDN.

- При использовании больших двоичных объектов Azure для хранения содержимого сети CDN в URL-адресах ресурсов в больших двоичных объектах учитывается регистр для имен контейнеров и больших двоичных объектов.

- При использовании веб-сайтов Azure следует указать путь к экземпляру CDN в ссылках на ресурсы. Например, ниже указан файл изображения в папке **Images** (Изображения) для сайта, который будет доставлен через CDN:

  ```
  <img src="http://[your-cdn-instance].vo.msecnd.net/Images/image.jpg" />
  ```

- **Развертывание**. Может потребоваться подготовить и развернуть статическое содержимое независимо от приложения, если вы не включите его в пакет развертывания приложения или процесс. Рассмотрите, как это повлияет на подход к управлению версиями, который используется для компонентов приложения и содержимого статических ресурсов.

- Узнайте, как будет обрабатываться объединение (совмещение нескольких файлов в один) и минификация (удаление ненужных символов, например пробелов, символов новой строки, комментариев и других символов) для скрипта и CSS-файлов. Эти распространенные техники могут сократить время загрузки для клиентов, и они также совместимы с доставкой содержимого по CDN. Дополнительные сведения см. в разделе [Объединение и минификация](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).

- Если вам нужно развернуть содержимое в дополнительное расположение, это потребуется сделать в дополнительном шаге развертывания. Если приложение обновляет содержимое для CDN регулярно или в ответ на событие, оно должно сохранять обновленное содержимое и конечную точку CDN во всех дополнительных расположениях.

- Невозможно задать конечную точку CDN для приложения, развернутого в промежуточной среде Azure или в локальном эмуляторе Azure в Visual Studio. Это повлияет на модульное тестирование, функциональное тестирование и финальное тестирование перед развертыванием. Это необходимо учесть и реализовать альтернативный механизм. Например, вы можете предварительно развернуть содержимое в CDN с помощью временного пользовательского приложения или служебной программы и выполнить тестирование во время срока действия кэширования. Кроме того, используйте директивы компилятора или глобальные константы для управления местом, откуда приложение загружает ресурсы. Например, при запуске в режиме отладки можно загрузить такие ресурсы, как клиентские наборы скриптов и другое содержимое из локальной папки, и использовать CDN при запуске в режиме выпуска.

- Сеть CDN не поддерживает возможности машинного сжатия. Однако она поставляет уже сжатое содержимое, например ZIP- и GZIP-файлы. При использовании папки приложения в качестве конечной точки CDN сервер может сжать часть содержимого по умолчанию так же, как и при доставке его непосредственно в браузер или другой тип клиента. Это поведение контролируется значением **Accept-Encoding**, отправляемым от клиента. В Azure содержимое по умолчанию автоматически сжимается, если загрузка ЦП меньше 50 %. При изменении параметров может потребоваться задача запуска, чтобы включить сжатие динамических выходных данных в IIS, если вы используете облачные службы для размещения приложения. Дополнительные сведения см. в статье [Включение сжатия GZIP в Azure CDN с помощью веб-роли](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx).

- **Маршрутизация и управление версиями**. Возможно, потребуется использовать разные экземпляры CDN; например, при развертывании новой версии приложения нужно будет использовать другую сеть CDN. Если вы используете хранилище больших двоичных объектов Azure в качестве источника содержимого, можно просто создать отдельную учетную запись хранения или отдельный контейнер и указать его в качестве конечной точки CDN. Если вы используете корневую папку **cdn** в приложении в качестве конечной точки CDN, вы можете использовать методы переопределения URL-адресов для направления запросов в другую папку.

- Не используйте строку запроса для указания разных версий приложения в ссылках на ресурсы CDN, так как при извлечении содержимого из хранилища больших двоичных объектов Azure строка запроса является частью имени ресурса (имени большого двоичного объекта). Это также может повлиять на способ кэширования ресурсов клиентом.

- Развертывание новых версий статического содержимого при обновлении приложения может представлять сложность, если предыдущие ресурсы кэшировались в CDN. Дополнительные сведения см. в статье <a href="#cachecontrol" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">Управление кэшем</a>.

<a name="cachecontrol" href="#" xmlns:xlink="http://www.w3.org/1999/xlink"><span /></a>**Управление кэшем**. Выберите способ управления кэшированием и уровни приложения, на которых следует выполнять его. Например, при использовании папки в качестве источника CDN вы можете указать возможность кэширования страниц, которые создают содержимое, и срок истечения действия содержимого для всех ресурсов в определенной папке. Вы можете также указать свойства кэша для CDN и для клиента, использующего стандартные заголовки HTTP. Хотя вы, скорее всего, уже управляете кэшированием на сервере и клиенте, сеть CDN позволит получить дополнительные сведения о способе и месте кэширования содержимого.

- Для предотвращения предоставления объектов в CDN можно удалить их из источника (контейнера больших двоичных объектов или корневой папки **cdn** приложения), удалить конечную точку CDN или, в случае хранилища больших двоичных объектов, сделать контейнер или большой двоичный объект закрытым. Однако элементы будут удалены из CDN только по истечении их срока жизни.

- Если период истечения срока действия кэша не указан (например, если содержимое загружается из хранилища больших двоичных объектов), оно будет кэшироваться в CDN до 72 часов.

- В веб-приложении можно задать параметры кэширования и срок истечения действия для всего содержимого с помощью элемента **clientCache** в разделе **system.webServer/staticContent** файла web.config. Вы можете разместить файл web.config в любой папке, чтобы он затронул файлы в этой папке и всех вложенных папках.

- Если вы используете динамический способ для создания содержимого для CDN, например ASP.NET, убедитесь, что указали свойство **Cache.SetExpires** на каждой странице. CDN не будет кэшировать выходные данные со страниц, которые используют параметр по умолчанию public для возможности кэширования. Задайте нужное значение для срока истечения действия кэша, чтобы гарантировать, что содержимое не будет удаляться или перезагружаться из приложения через очень короткие интервалы времени.

- **Безопасность**. Сеть CDN может доставлять содержимое по HTTPS (SSL) с помощью сертификата, предоставленного CDN, но оно также будет доступно по HTTP. Вы не можете заблокировать доступ через HTTP к элементам в CDN. Вам может потребоваться использовать HTTPS для запроса статического содержимого, которое отображается на страницах, предоставляемых посредством HTTPS (например, корзина), чтобы избежать предупреждений браузера о смешанном содержимом.

- Многие службы CDN, например Azure CDN, сейчас не предлагают функции контроля доступа для безопасного доступа к содержимому. Вы не можете использовать подписанные URL-адреса (SAS) с CDN.

- При доставке клиентских скриптов по CDN вы можете столкнуться с проблемами, если эти скрипты используют вызов **XMLHttpRequest** для HTTP-запросов к другим ресурсам, например данным, изображениям или шрифтам в другом домене. Многие веб-браузеры предотвращают общий доступ к ресурсам независимо от источника (CORS), если сервер не настроен для задания соответствующих заголовков ответов. Дополнительные сведения о CORS см. в разделе «Защита от угроз» в руководстве <span class="highlight" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">Вопросы безопасности API</span>. Вы можете настроить CDN для поддержки CORS: если источник, из которого вы поставляете содержимое, является хранилищем больших двоичных объектов Azure, вы можете добавить **CorsRule** к свойствам службы. Правило может указать разрешенные источники для запросов CORS, разрешенные методы, например GET, и максимальный возраст правила в секундах (период, в течение которого клиент должен запросить связанные ресурсы после загрузки исходного содержимого). Дополнительные сведения см. в статье [Поддержка общего доступа к ресурсам независимо от источника (CORS) для служб хранилища Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).

- Если источник, из которого вы поставляете содержимое, является папкой в приложении, например корневой папкой **cdn**, вы можете настроить исходящие правила в файле конфигурации приложения для задания заголовка **Access-Control-Allow-Origin** во всех ответах. Дополнительные сведения об использовании правил переопределения см. в статье [Модуль переопределения URL-адресов](http://www.iis.net/learn/extensions/url-rewrite-module). Обратите внимание, что этот способ невозможно использовать с веб-сайтами Azure.

- **Пользовательские домены**. Большинство сетей CDN, включая Azure CDN, позволяют указать пользовательское доменное имя и использовать его для доступа к ресурсам по CDN. Вы можете также настроить пользовательское поддоменное имя с помощью записи **CNAME** в DNS. Этот подход обеспечит дополнительный уровень абстракции и контроля.

- Если вы используете **CNAME**, вы не можете (информация действительна на время написания руководства) использовать SSL, так как в CDN есть собственный SSL-сертификат, который не будет совпадать с вашими пользовательскими доменными и поддоменными именами.

- **Резервная сеть CDN**. Вам следует выбрать для приложения способ устранения сбоев и временной недоступности CDN. Клиентские приложения могут использовать копии ресурсов, которые были кэшированы локально (на клиенте) во время предыдущих запросов, или они могут использовать код, который обнаруживает сбой и запрашивает ресурсы из источника (папки приложения или контейнера больших двоичных объектов Azure, в котором содержатся ресурсы), если сеть CDN недоступна.

- **SEO**. Если SEO — важная часть вашего приложения, убедитесь, что вы указали канонический заголовок **Rel** на всех страницах и ресурсах.

- Используйте запись поддомена **CNAME** и обращайтесь к ресурсам с помощью этого имени.

- Учитывайте возможность того, что IP-адрес CDN может быть страной или регионом, который отличается от самого приложения.

- При использовании хранилища больших двоичных объектов Azure в качестве источника сохраните ту же структуру файлов для ресурсов в CDN, что и в папках приложения.


- **Мониторинг и ведение журнала**. Включите CDN в стратегию мониторинга приложений, чтобы обнаруживать и измерять сбои приложения или длительные задержки.

- Включите ведение журнала для CDN и добавьте его в ежедневные операции.

- **Финансовые затраты**. С вас взимается плата за передачу исходящих данных из CDN и за транзакции с хранилищем, если CDN загружает данные из приложения. Следует задать реалистичные сроки действия для кэширования содержимого, но не настолько короткие, чтобы загрузка содержимого из приложения или хранилища больших двоичных объектов в CDN повторялась слишком часто. Однако длительные периоды хранения усложняют удаление элементов из CDN, так как вы должны дождаться истечения их срока действия.

- Редко скачиваемые элементы повлекут расходы на две транзакции, не сильно уменьшая нагрузку на сервер.



## Пример кода
В этом разделе содержатся некоторые примеры кода и методов работы с CDN.


## Переопределение URL-адресов
В следующем фрагменте из файла Web.config в корне приложения, размещенного в облачных службах, показано, как выполнить переопределение URL-адресов при использовании CDN. Запросы на кэшируемое содержимое из CDN будут перенаправляться в определенные папки в корне приложения на основе типа ресурса (например, скрипты и изображения).

```XML
<system.webServer>
  ...
  <rewrite>
    <rules>
      <rule name="VersionedResource" stopProcessing="false">
        <match url="(.*)_v(.*)\.(.*)" ignoreCase="true" />
        <action type="Rewrite" url="{R:1}.{R:3}" appendQueryString="true" />
      </rule>
      <rule name="CdnImages" stopProcessing="true">
        <match url="cdn/Images/(.*)" ignoreCase="true" />
        <action type="Rewrite" url="/Images/{R:1}" appendQueryString="true" />
      </rule>
      <rule name="CdnContent" stopProcessing="true">
        <match url="cdn/Content/(.*)" ignoreCase="true" />
        <action type="Rewrite" url="/Content/{R:1}" appendQueryString="true" />
      </rule>
      <rule name="CdnScript" stopProcessing="true">
        <match url="cdn/Scripts/(.*)" ignoreCase="true" />
        <action type="Rewrite" url="/Scripts/{R:1}" appendQueryString="true" />
      </rule>
      <rule name="CdnScriptBundles" stopProcessing="true">
        <match url="cdn/bundles/(.*)" ignoreCase="true" />
        <action type="Rewrite" url="/bundles/{R:1}" appendQueryString="true" />
      </rule>
    </rules>
  </rewrite>
  ...
</system.webServer>
```

При добавлении правил переопределения выполняются следующие переопределения.

- Первое правило позволяет внедрить версию в имя файла ресурса, которая потом пропускается. Например, **Filename_v123.jpg ** перезаписывается как **Filename.jpg**. 
- Следующие четыре правила показывают, как перенаправить запросы, если вы не хотите сохранять ресурсы в папке с именем **cdn** в корне веб-роли. Правило сопоставляет URL-адреса **cdn/Images**, **cdn/Content**, **cdn/Scripts** и **cdn/bundles** с их соответствующими корневыми папками в веб-роли. При использовании переопределения URL-адресов требуется внести некоторые изменения в объединение ресурсов.


## Объединение и минификация ##

Объединение и минификацию может обрабатывать ASP.NET. В проекте MVC вы определяете наборы в **BundleConfig.cs**. Ссылка на набор минифицированных скриптов создается путем вызова метода **Script.Render**, обычно в коде класса представления. Эта ссылка содержит строку запроса, которая включает хэш, основанный на содержимом набора. При изменении содержимого набора созданный хэш также изменится. По умолчанию в экземплярах Azure CDN параметр **Состояние строки запроса** отключен. Чтобы обновленные наборы скриптов правильно обрабатывались CDN, необходимо включить параметр **Состояние строки запроса** для экземпляра CDN. Обратите внимание, что между созданием CDN и вступлением изменений параметров в силу может пройти час или больше.


## Дополнительные сведения
+ [Azure CDN](http://azure.microsoft.com/services/cdn/)
+ [Общие сведения о сети доставки содержимого (CDN) Azure](http://msdn.microsoft.com/library/azure/ff919703.aspx)
+ [Обслуживание содержимого из CDN Azure в вашем веб-приложении](cdn-serve-content-from-cdn-in-your-web-application.md)
+ [Интеграция облачной службы с Azure CDN](cdn-cloud-service-with-cdn.md)
+ [Рекомендации по сети доставки содержимого Azure](http://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)

<!---HONumber=July15_HO3-->