---
title: Предоставление общего доступа к приложению ACS | Microsoft Docs
description: Как предоставить общий доступ к Службе контейнеров Azure.
services: container-service
documentationcenter: ''
author: Thraka
manager: timlt
editor: ''
tags: acs, azure-container-service
keywords: Docker, контейнеры, микрослужбы, Mesos, Azure

ms.service: container-service
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/26/2016
ms.author: adegeo

---
# Предоставление общего доступа к приложению Службы контейнеров Azure
К любому контейнеру контроллера домена или ОС в [пуле общедоступных агентов](container-service-mesos-marathon-ui.md#deploy-a-docker-formatted-container) ACS можно автоматически получить доступ из Интернета. По умолчанию порты **80**, **443**, **8080** открыты, поэтому можно получить доступ к любым контейнерам (частным), выполняющим прослушивание на этих портах. В этой статье показано, как открыть дополнительные порты для приложений в Службе контейнеров Azure.

## Открытие порта (портал)
Сначала необходимо открыть нужный порт.

1. Войдите на портал.
2. Найдите группу ресурсов, в которой развернута Служба контейнеров Azure.
3. Выберите балансировщик нагрузки агента (называется согласно формату **XXXX-agent-lb-XXXX**).
   
    ![балансировщик нагрузки Службы контейнеров Azure](media/container-service-dcos-agents/agent-load-balancer.png)
4. Щелкните **Зонды**, а затем — **Добавить**.
   
    ![зонды балансировщика нагрузки Службы контейнеров Azure](media/container-service-dcos-agents/add-probe.png)
5. Заполните форму зонда и нажмите кнопку **ОК**.
   
   | Поле | Описание |
   | --- | --- |
   | Имя |Описательное имя зонда. |
   | Порт |Порт контейнера для тестирования. |
   | Путь |Относительный путь веб-сайта для проверки (при работе в режиме HTTP). HTTPS не поддерживается. |
   | Интервал |Промежуток времени между повторными попытками запуска зонда в секундах. |
   | Пороговое значение сбоя |Количество последовательных повторных попыток запуска зонда до определения контейнера как неработоспособного. |
6. В свойствах балансировки нагрузки агента щелкните **Правила балансировки нагрузки** и выберите **Добавить**.
   
    ![правила балансировщика нагрузки Службы контейнеров Azure](media/container-service-dcos-agents/add-balancer-rule.png)
7. Заполните форму балансировщика нагрузки и нажмите кнопку **ОК**.
   
   | Поле | Описание |
   | --- | --- |
   | Имя |Описательное имя балансировщика нагрузки. |
   | Порт |Общий порт для входящих подключений. |
   | Серверный порт |Внутренний общий порт контейнера для направления трафика. |
   | Серверный пул |Контейнеры в этом пуле будут целевыми объектами для этого балансировщика нагрузки. |
   | Проба |Зонд, с помощью которого можно определить работоспособность целевого объекта в **серверном пуле**. |
   | Сохранение сеанса |Определяет способ обработки трафика от клиента в течение всего сеанса.<br><br>**Нет** — последующие запросы от одного клиента могут обрабатывать любые контейнеры.<br>**IP-адрес клиента** — последующие запросы с одного IP-адреса клиента обрабатываются одним контейнером.<br>**IP-адрес и протокол клиента** — последующие запросы с одного IP-адреса и по одному протоколу клиента обрабатываются одним контейнером. |
   | Время ожидания перед переходом в режим простоя |Время в минутах, в течение которого TCP- или HTTP-клиент будет открытым без использования сообщений *проверки на активность* (только для TCP). |

## Добавление правила безопасности (портал)
Далее необходимо добавить правило безопасности, направляющее трафик из открытого порта через брандмауэр.

1. Войдите на портал.
2. Найдите группу ресурсов, в которой развернута Служба контейнеров Azure.
3. Выберите группу безопасности сети **общедоступного** агента (называется согласно формату **XXXX-agent-public-nsg-XXXX**).
   
    ![группа безопасности сети Службы контейнеров Azure](media/container-service-dcos-agents/agent-nsg.png)
4. Выберите **Правила безопасности для входящего трафика**, а затем щелкните **Добавить**.
   
    ![правила группы безопасности сети Службы контейнеров Azure](media/container-service-dcos-agents/add-firewall-rule.png)
5. Заполните форму правила брандмауэра, чтобы разрешить доступ к открытому порту, и нажмите кнопку **ОК**.
   
   | Поле | Описание |
   | --- | --- |
   | Имя |Описательное имя правила брандмауэра. |
   | Приоритет |Приоритет правила. Чем меньше число, тем выше приоритет. |
   | Источник |Ограничьте диапазон входящих IP-адресов, которые будет разрешать или запрещать это правило. Используйте параметр **Любой**, чтобы не указывать ограничение. |
   | служба |Выберите набор стандартных служб, для которых предназначено это правило безопасности. В противном случае используйте параметр **Настраиваемые**, чтобы создавать собственные службы. |
   | Протокол |Ограничьте трафик по **TCP** или **UDP**. Используйте параметр **Любой**, чтобы не указывать ограничение. |
   | Диапазон портов |Если для поля **Служба** указано значение **Настраиваемые**, этот параметр указывает диапазон портов, на которые распространяется это правило. Можно использовать один порт, например **80**, или диапазон портов, например **1024–1500**. |
   | Действие |Разрешите или запретите трафик, соответствующий критериям. |

## Дальнейшие действия
Дополнительные сведения о различиях между [общедоступными и частными агентами контроллера домена или ОС](container-service-dcos-agents.md).

Узнайте больше об [управлении контейнерами DC/OS](container-service-mesos-marathon-ui.md).

<!---HONumber=AcomDC_0907_2016-->