---
title: "Масштабирование кластера службы контейнеров Azure | Документация Майкрософт"
description: "Масштабирование узлов агентов в кластере DC/OS, Docker Swarm или Kubernetes в Службе контейнеров Azure с помощью Azure CLI или портала Azure."
services: container-service
documentationcenter: 
author: sauryadas
manager: madhana
editor: 
tags: acs, azure-container-service
keywords: "Docker, контейнеры, микрослужбы, Mesos, Azure"
ms.assetid: 4a567474-f9a2-4172-bf86-7522aa4d4d80
ms.service: container-service
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/01/2017
ms.author: saudas
ms.custom: H1Hack27Feb2017
translationtype: Human Translation
ms.sourcegitcommit: 2464901d22bb91cbf396ef60f4bda6d979b578b7
ms.openlocfilehash: 022e34811de9d2023d113c43d6f85842812dfee3
ms.lasthandoff: 03/02/2017


---
# <a name="scale-agent-nodes-in-a-container-service-cluster"></a>Масштабирование узлов агента в кластере службы контейнеров
После того как вы [развернете кластер службы контейнера Azure](container-service-deployment.md), может потребоваться изменить число узлов агента. Например, будут нужны дополнительные узлы агентов для запуска большего количества контейнеров или экземпляров приложения. 

Количество узлов агентов в кластере DC/OS, Docker Swarm или Kubernetes можно изменить с помощью портала Azure или Azure CLI 2.0. 

## <a name="scale-with-the-azure-portal"></a>Масштабирование с помощью портала Azure

1. На [портале Azure](https://portal.azure.com) найдите **Службы контейнеров** и выберите службу контейнера, которую хотите изменить.
2. В колонке **службы контейнеров** щелкните **Агенты**.
3. В поле **Число виртуальных машин** введите нужное число узлов агентов.

    ![Масштабирование кластера на портале](./media/container-service-scale/container-service-scale-portal.png)

4. Чтобы сохранить конфигурацию, нажмите кнопку **Сохранить**.



## <a name="scale-with-the-azure-cli-20"></a>Масштабирование с помощью Azure CLI 2.0

Убедитесь, что у вас [установлена](/cli/azure/install-az-cli2) последняя версия Azure CLI 2.0, и войдите в учетную запись Azure с помощью команды `az login`.


### <a name="see-the-current-agent-count"></a>Просмотр текущего числа агентов
Чтобы просмотреть количество агентов, входящих в кластер на текущий момент, запустите команду `az acs show`. Эта команда показывает конфигурацию кластера. Например, следующая команда отображает конфигурацию службы контейнеров с именем `containerservice-myACSName` в группе ресурсов `myResourceGroup`:

```azurecli
az acs show -g myResourceGroup -n containerservice-myACSName
```

Количество агентов содержится в параметре `Count` в разделе `AgentPoolProfiles`.


### <a name="use-the-az-acs-scale-command"></a>Использование команды az acs scale
Чтобы изменить число узлов агента, запустите команду `az acs scale`, указав для нее **группу ресурсов**, **имя службы контейнеров** и требуемое **новое число агентов**. Используя меньшее или большее количество агентов, можно уменьшать или увеличивать масштаб соответственно.

Например, чтобы для кластера из предыдущего примера установить значение 10 в качестве количества агентов, введите следующую команду:

```azurecli
azure acs scale -g myResourceGroup -n containerservice-myACSName --new-agent-count 10
```

Azure CLI 2.0 возвращает строку JSON, представляющую новую конфигурацию службы контейнеров, включая измененное количество агентов.

Чтобы увидеть дополнительные параметры команды, запустите `az acs scale --help`.


## <a name="scaling-considerations"></a>Рекомендации по масштабированию


* Количество узлов агентов должно находиться в диапазоне от 1 до 100 включительно. 

* Квота на использование ядер может налагать ограничения на количество узлов агентов в кластере.

* Операции масштабирования узлов агентов применяются к масштабируемому набору виртуальных машин Azure, который содержит пул агентов. В кластере DC/OS операции масштабирования, описанные в этой статье, влияют только на число узлов агентов в закрытом пуле.

* В зависимости от того, какой оркестратор развернут в кластере, можно отдельно масштабировать число экземпляров контейнера, работающих в кластере. Например, в кластере DC/OS [пользовательский интерфейс Marathon](container-service-mesos-marathon-ui.md) позволяет изменять число экземпляров для приложения контейнера.

* В настоящее время не поддерживается автоматическое масштабирование узлов агентов в кластере службы контейнеров.





## <a name="next-steps"></a>Дальнейшие действия
* Изучите [дополнительные примеры](container-service-create-acs-cluster-cli.md) использования команд Azure CLI 2.0 для работы со службой контейнеров Azure.
* См. дополнительные сведения о [пулах агентов DC/OS](container-service-dcos-agents.md) в службе контейнеров Azure.


