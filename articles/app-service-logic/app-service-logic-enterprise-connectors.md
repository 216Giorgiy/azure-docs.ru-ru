<properties 
	pageTitle="Корпоративные соединители в службе приложений Microsoft Azure | Azure" 
	description="Узнайте, как создавать и настраивать корпоративный соединитель; архитектура микрослужб." 
	services="app-service\logic" 
	documentationCenter="" 
	authors="MandiOhlinger" 
	manager="dwrede" 
	editor="cgronlun"/>

<tags 
	ms.service="app-service-logic" 
	ms.workload="integration" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="03/31/2015" 
	ms.author="mandia"/>

# Корпоративные соединители в службе приложений Microsoft Azure
Служба приложений Microsoft Azure (или для краткости просто служба приложений) включает несколько соединителей, которые можно использовать с корпоративными системами, такими как SAP и Marketo. С помощью этих соединителей можно легко подключаться к корпоративной системе и выполнять различные задачи.

Эти корпоративные соединители предлагают возможности «Триггер» или «Действие». Триггер запускает новый экземпляр на основе определенного события, такого как обновление записи в MongoDb. Действие — это результат, например, после обновления записи в MongoDB получение записи из MongoDB.


## Что такое корпоративный соединитель
Корпоративные соединители — это существующие приложения API, которые могут подключаться к локальным и облачным корпоративным системам. В следующей таблице приведены некоторые корпоративные соединители.

Соединитель | Описание
--- | ---
Marketo | Соединитель типа **Действие**. Подключается к Marketo и выполняет различные действия, такие как создание или обновление интересов, получение изменений интересов, планирование кампании, запрос кампании, получение интересов, получение сведений о компании или списке, добавление интересов в список и удаление интересов из списка.
MongoDB | Соединитель типа **Триггер** и **Действие**. Подключается к базе данных сервера Mongo или к локальному серверу Mongo. В коллекции MongoDB выполняет различные действия, такие как создание, обновление, получение и удаление записей. 
QuickBooks | Соединитель типа **Действие**. Подключается к QuickBooks и использует ваши приложения для создания, обновления, чтения, удаления и запроса разных записей в Intuit QuickBooks, таких как клиенты, элементы, счета и т. п.
Salesforce |Соединитель типа **Действие**. Подключается к SalesForce, чтобы управлять различными сущностями, такими как учетные записи, интересы, возможные сделки, обращения и др., в вашей учетной записи Salesforce. В этих сущностях вы можете выполнять различные действия, такие как создание, обновление, операция upsert, запрос и удаление. 
SugarCRM | Соединитель типа **Действие**. Подключается к SugarCRM в сети и использует ваши приложения для создания, обновления, чтения и удаления разных типов модулей, таких как учетные записи, контакты, продукты и пр.
SAP | Соединитель типа **Действие**. Подключается к локальному серверу SAP. Вызывает RFC, BAPI и tRFC, а также отправляет IDOC.


С помощью этих соединителей вы можете выполнять различные задачи в корпоративной системе. Например, с помощью соединителя QuickBooks вы можете выполнять обычные задачи в QuickBooks, такие как добавление нового клиента, обновление счета или удаление позиции.

Можно легко создать столько соединителей, сколько требуется. Вы также можете многократно использовать один соединитель в нескольких сценариях и рабочих процессах.

Например, представим, что вы находитесь на конференции и встречаете клиента, который хотел бы приобрести 10 позиций вашей продукции. Вы можете открыть на своем мобильном телефоне мобильное приложение, которое использует созданный вами соединитель QuickBooks, добавить сведения о клиенте и создать счет.

В то время, когда вы находитесь на конференции, клиент в месте, где находится ваша коммерческая структура, хочет оплатить существующий счет. Сотрудник открывает приложение, использующее тот же созданный вами соединитель QuickBooks, ищет сведения о клиенте и обновляет счет, чтобы отразить новый баланс.

Здесь присутствуют разные процессы, и они используют один и тот же соединитель QuickBooks. Вы можете создавать и использовать эти соединители без написания кода. Давайте приступим.


## Требования для начала работы
При создании соединителя для корпоративного применения требуются некоторые ресурсы. Прежде чем соединитель сможет использовать эти элементы, вы должны создать их. Эти требования приведены в следующей таблице.

Требование | Описание
--- | ---
Пространство имен служебной шины и его значения ключа | При использовании локальных систем SAP или MongoDB требуется пространство имен служебной шины и его значения ключа. Если вы не подключаетесь к локальной системе, пространство имен служебной шины не нужно.<br/><br/>[Создание пространства имен служебной шины](http://msdn.microsoft.com/library/azure/hh690931.aspx)
Локальный диспетчер гибридных подключений | Если вы используете подключение к локальной системе, то необходимо установить диспетчер гибридных подключений в локальной системе. При создании локального соединителя загрузка доступна в свойствах или параметрах соединителя. 
Свойства, относящиеся к системе | При использовании корпоративных систем имеются относящиеся к системе свойства (например, имя пользователя и пароль), которые вам потребуются. 


## Создание соединителя
Соединитель можно создать на портале Azure.

### Создание соединителя на портале Azure
На портале Azure вы можете создать корпоративный соединитель во время создания приложений логики, веб-приложений или мобильных приложений. Кроме того, эти приложения можно создавать с помощью их собственной колонки. Оба способа достаточно просты, поэтому выбор зависит от ваших потребностей или настроек. Некоторые пользователи предпочитают сначала создать все соединители с их собственными свойствами. Затем можно создавать приложения логики, веб-приложения или мобильные приложения и добавлять в них созданный соединитель.

С помощью следующих действий создается корпоративный соединитель в колонке соединителя.

1. На начальной панели (домашней странице) портала Azure выберите **Marketplace**. В колонке **Приложения API** перечисляются все существующие соединители. Вы также можете выполнить **поиск** определенного соединителя.
2. Выберите соединитель. В новой колонке нажмите кнопку **Создать**. 
3. Задайте следующие свойства. 

	Свойство | Описание
--- | ---
Имя | Введите имя для вашего соединителя. Например, его можно назвать *SAPConnector*, *SalesForceGetAccounts* или *QuickBooksGetItems*.
Параметры пакета | Введите параметры корпоративной системы, такие как *Имя пользователя SAP* или *URL-адрес сервера SugarCRM*. См. раздел [Свойства, относящиеся к корпоративной системе](#AddProperties) в этой статье. 
План обслуживания приложения | Отображается ваш план платежей. Вы можете изменить его, если требуется больше или меньше ресурсов.
Ценовая категория | Свойство только для чтения, в котором указана ценовая категория в рамках вашей подписки Azure. 
Группа ресурсов | Создайте новую или используйте существующую группу. Все приложения API и соединители для ваших приложений логики, веб-приложений и мобильных приложений должны быть в одной группе ресурсов. <br/><br/>Это свойство объясняется в статье [Использование групп ресурсов](../resource-group-overview.md). 
Подписка | Свойство только для чтения, в котором указана ваша текущая подписка.
Расположение | Географическое расположение, в котором размещена ваша служба Azure. 
Добавить на начальную панель | Установите этот флажок, чтобы добавить соединитель на начальную панель (домашнюю страницу).


	**<a name="AddProperties"></a>Свойства, относящиеся к корпоративной системе**

> [AZURE.IMPORTANT]Каждый соединитель имеет свойства, относящиеся к конкретной корпоративной системе. При подключении к SAP вы указываете свойства, относящиеся к SAP. При подключении к Salesforce вы указываете свойства, относящиеся к Salesforce, и так далее. В следующей таблице приведены необходимые свойства корпоративной системы.
	
	Enterprise System | Required Properties
--- | ---
Marketo | <ul><li>Конечная точка</li><li>Имя поставщика</li></ul>
MongoDB| <ul><li>Строка подключения</li><li>Узел</li><li>Порт</li><li>Имя пользователя</li><li>Пароль</li><li>База данных</li><li>Использовать шифрование SSL</li><li>Локально: для облачной системы укажите False; если система MongoDb локальная, то укажите True, а также задайте следующие свойства:<ul><li>Имя общего ключа доступа</li><li>Пространство имен служебной шины</li><li>Путь ретрансляции</li><li>Ключ отправки</li></ul></li></ul>.
QuickBooks | <ul><li>Идентификатор компании</li><li>Имя поставщика</li></ul>
SAP | <ul><li>Имя узла</li><li>Язык</li><li>Имя пользователя</li><li>Пароль</li><li>Номер системы</li><li>Строка подключения к служебной шине</li><li>Имена RFC</li><li>Имена TRFC</li><li>Имена BAPI</li><li>Имя IDOC</li></ul>
Salesforce | <ul><li>Имя поставщика</li><li>Экземпляр</li><li>Версия</li><li>Сущности (значения, разделенные запятыми)</li></ul>
SugarCRM | <ul><li>URL-адрес сервера</li><li>Имя поставщика</li><li>Имена модулей</li></ul>

4. Нажмите кнопку **Создать**.


## Установка локального диспетчера гибридного подключения
После создания корпоративного соединителя, который подключается к локальной системе, например к SAP, установите диспетчер гибридного подключения.

1. В локальной корпоративной системе откройте портал управления Azure и выберите свой корпоративный соединитель. 
2. В его колонке выберите элемент **Гибридное подключение**. 
3. Скопируйте значение **строки конфигурации основного шлюза**. 
4. Нажмите **Загрузить и настроить**. Во время установки вставьте скопированную строку конфигурации шлюза и продолжите установку. 
5. Чтобы проверить подключение, откройте колонку вашего корпоративного соединителя. Должно отображаться состояние **Подключен**. 

Пример см. в статье [Интеграция с локальным сервером SAP](app-service-logic-integrate-with-an-on-premise-SAP-server.md).


## Мониторинг приложений API
На портале управления Azure откройте свое корпоративное приложение API. В разделе **Операции** можно просматривать разные операции управления. Например, вы можете просматривать:

- информационные события и ошибки;
- использование памяти и число потоков рабочего процесса (w3wp);
- журналы приложений и веб-сервера.

Дополнительные сведения см. в статье [Мониторинг приложений логики](app-service-logic-monitor-your-logic-apps.md).


## Добавление соединителя в приложение 
Служба приложений Microsoft Azure предоставляет разные типы приложений, в которых могут использоваться эти соединители. Вы можете создавать новые или добавлять существующие соединители в приложения логики, мобильные приложения или веб-приложения.

Просто выберите в своем приложении соединитель из коллекции, и он будет автоматически добавлен в ваше приложение.

С помощью следующих действий можно добавить корпоративный соединитель в приложения логики, мобильные приложения или веб-приложения.

1. На начальной панели (домашней странице) портала Azure перейдите в раздел **Marketplace** и найдите свое приложение логики, мобильное приложение или веб-приложение.

	Если вы создаете новое приложение, выполните поиск приложений логики, мобильных приложений или веб-приложений. Выберите это приложение и в новой колонке нажмите кнопку **Создать**. Эти действия приводятся в разделе [Создание приложения логики](app-service-logic-create-a-logic-app.md).

2. Откройте свое приложение и выберите элемент **Триггеры и действия**.

3. Добавьте созданные соединители из **коллекции**, и они будут автоматически добавлены в ваше приложение.
4. Нажмите кнопку **ОК**, чтобы сохранить изменения. 


## Безопасность
Некоторые корпоративные соединители используют безопасность OAuth. При добавлении соединителя в приложение вы **авторизуете** этот соединитель, подключаясь к корпоративной системе со своей учетной записью для входа и соглашаясь с условиями. При этом ваше приложение и соединитель используют эту учетную запись для входа для проверки подлинности в системе.


### Доступ к соединителю с помощью REST API
[См. документацию по использованию REST API соединителей.](http://go.microsoft.com/fwlink/p/?LinkId=529766)

## Дополнительные ресурсы предприятия соединителя
[Интеграция с локальным сервером SAP](app-service-logic-integrate-with-an-on-premise-SAP-server.md)<br/> [Что такое соединители и приложения API BizTalk](app-service-logic-what-are-biztalk-api-apps.md)


## Дополнительные сведения о приложениях логики и веб-приложениях
[Что такое приложения логики?](app-service-logic-what-are-logic-apps.md)<br/> [Веб-сайты и веб-приложения в службе приложений Azure](../app-service-web/app-service-web-overview.md)



## Дополнительные сведения о соединителях
[Соединители BizTalk Integration](app-service-logic-integration-connectors.md)<br/> [Соединители «бизнес — бизнес»](app-service-logic-b2b-connectors.md)<br/> [Социальные соединители](app-service-logic-social-connectors.md)<br/> [Соединители протоколов](app-service-logic-protocol-connectors.md)<br/> [Соединители служб данных и приложений](app-service-logic-data-connectors.md)<br/> [Список соединителей и приложений API](app-service-logic-connectors-list.md)<br/><br/> [Что такое соединители и приложения API BizTalk](app-service-logic-what-are-biztalk-api-apps.md)

<!---HONumber=62-->