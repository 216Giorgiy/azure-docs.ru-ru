---
title: Использование прослушивателя и соединителя HTTP в приложениях логики | Microsoft Docs
description: Как создать и настроить прослушиватель HTTP и соединитель действия HTTP или приложение API и использовать его в приложении логики в службе приложений Azure
services: logic-apps
documentationcenter: .net,nodejs,java
author: anuragdalmia
manager: erikre
editor: ''

ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 08/31/2016
ms.author: prkumar

---
# Приступая к работе с прослушивателем HTTP и действием HTTP: добавление в приложение логики
> [!NOTE]
> Мы прекращаем поддержку этого соединителя, поскольку теперь он действует в качестве **запускаемого вручную триггера** при создании приложений логики. Рекомендуется обновить все приложения логики, использующие этот соединитель. Эта версия статьи предназначена для приложений логики со схемой версии 2014-12-01-preview.
> 
> 

Напрямую подключайтесь к ресурсам HTTP для прослушивания HTTP-запросов и настройки веб-запросов HTTP. В некоторых сценариях может потребоваться работа с прямыми подключениями HTTP, в том числе:

1. Для разработки приложения логики, которое поддерживает интерактивный внешний интерфейс веб-пользователя или пользователя мобильных устройств.
2. Для получения и обработки данных от веб-службы, в которой отсутствует встроенный соединитель.
3. Для выполнения действий, уже предоставленных в качестве веб-службы, но не доступных в качестве приложения API.

Для этих сценариев есть два варианта:

1. **Прослушиватель HTTP**. Этот соединитель выступает в качестве триггера и прослушивает HTTP-запросы для настроенной конечной точки. При получении вызова в настроенной конечной точке он инициирует новый экземпляр потока и передает полученные в запросе данные в поток для обработки. Кроме того, его можно настроить, чтобы он автоматически отвечал на входящий запрос при запуске потока или позволял вам создать ответ на основе выполнения потока и отправить его вызывающей стороне.
2. **Действие HTTP**. Это действие позволяет настроить веб-запрос к любой конечной точке, доступной в Интернете, получать ответ и делать его доступным для использования другими действиями в потоке.

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока. Соединитель HTTP можно добавить в рабочий процесс компании и обрабатывать данные в рамках этого процесса приложения логики.

## Создание прослушивателя HTTP для приложения логики
Соединитель можно создать в приложении логики или непосредственно в Azure Marketplace. Создание соединителя в Marketplace

1. На начальной панели Azure выберите **Marketplace**.
2. Выполните поиск по запросу "HTTP", выберите прослушиватель HTTP и нажмите **Создать**.
3. Настройте прослушиватель HTTP следующим образом: ![][1]
4. При настройке параметров пакета вы увидите следующий параметр, задающий, должен ли прослушиватель отвечать автоматически или вы должны явно отправлять ответ. Установите значение **False**, чтобы отправить собственный ответ: ![][2]
5. Нажмите кнопку **ОК**, чтобы создать прослушиватель.
6. Создав экземпляр приложения API, откройте параметры, чтобы настроить безопасность. В настоящее время прослушиватель HTTP поддерживает обычную проверку подлинности. Вы можете настроить ее с помощью параметра «Безопасность» при открытии прослушивателя HTTP. ![][3]
   
   **Известная проблема** *Для параметра безопасности по умолчанию отображается значение «Нет», однако, этот параметр не определен. Необходимо изменить значение параметра на Basic и обратно на None, прежде чем сохранить его, чтобы убедиться, что прослушиватель HTTP настроен правильно.*
7. Наконец, задайте для параметра безопасности приложения API значение "Общедоступный (анонимный)", чтобы обеспечить внешним клиентам доступ к конечной точке. Этот параметр находится в разделе «Все параметры» > «Параметры приложения» приложения API прослушивателя HTTP. ![][10]

После этого можно создать приложение логики, чтобы использовать прослушиватель HTTP.

## Использование прослушивателя HTTP в приложении логики
После создания приложения API можно использовать прослушиватель HTTP как триггер для приложения логики. Для этого необходимо выполнить следующие действия.

1. Создание нового приложения логики
2. Открыть раздел "Триггеры и действия", чтобы открыть конструктор приложения логики и настроить поток. Прослушиватель HTTP присутствует в коллекции. Выберите его.
3. Теперь можно задать метод HTTP и относительный URL-адрес, в котором прослушиватель должен инициировать поток. ![][4] ![][5]
4. Чтобы получить полный универсальный код ресурса (URI), дважды щелкните прослушиватель HTTP, чтобы просмотреть его параметры конфигурации, и скопируйте URL-адрес «узла» вашего приложения API. ![][6]
5. Теперь вы можете использовать данные, полученные в HTTP-запросе, в других действиях в потоке следующим образом. ![][7] ![][8]
6. Наконец, чтобы отправлять ответ, добавьте другой прослушиватель HTTP и выберите действие «Отправить HTTP-ответ». Установите в качестве идентификатора запроса RequestID, полученный от прослушивателя HTTP, и укажите в соответствующих полях текст ответа и состояние HTTP, которые вы ходите возвращать. ![][9]

## Использование действия HTTP
В приложениях логики существует встроенная поддержка действий HTTP, поэтому для их использования не требуется предварительное создание приложения API. Вы можете вставить действие HTTP в любой точке в вашем приложении логики и выбрать URI, заголовки и текст для вызова. Действие HTTP поддерживает несколько вариантов безопасности на стороне клиента. См. раздел о [вариантах обеспечения безопасности на стороне клиента](../scheduler/scheduler-outbound-authentication.md).

Результатом действия HTTP являются заголовки и текст, которые могут использоваться далее нисходящим потоком аналогично тому, как используется результат других действий и соединителей.

## Дополнительные возможности соединителя
После создания соединителя его можно добавить в рабочий бизнес-процесс с помощью приложения логики. См. раздел [Что такое приложения логики?](app-service-logic-what-are-logic-apps.md).

Справку по REST API Swagger см. в статье [Справочные материалы по соединителям и приложениям API](http://go.microsoft.com/fwlink/p/?LinkId=529766).

Можно также просматривать статистику производительности и управлять безопасностью соединителя. См. статью [Управление встроенными приложениями API и соединителями, а также их мониторинг](app-service-logic-monitor-your-connectors.md).

> [!NOTE]
> Если вы хотите опробовать мобильные приложения, не создавая учетную запись Azure, перейдите на [эту страницу](https://tryappservice.azure.com/?appservice=logic). Там вы сможете быстро создать в службе приложений простое кратковременное приложение логики. Никаких кредитных карт и обязательств.
> 
> 

<!--Image references-->
[1]: ./media/app-service-logic-connector-http/1.png
[2]: ./media/app-service-logic-connector-http/2.png
[3]: ./media/app-service-logic-connector-http/3.png
[4]: ./media/app-service-logic-connector-http/4.png
[5]: ./media/app-service-logic-connector-http/5.png
[6]: ./media/app-service-logic-connector-http/6.png
[7]: ./media/app-service-logic-connector-http/7.png
[8]: ./media/app-service-logic-connector-http/8.png
[9]: ./media/app-service-logic-connector-http/9.png
[10]: ./media/app-service-logic-connector-http/10.png

<!---HONumber=AcomDC_0907_2016-->