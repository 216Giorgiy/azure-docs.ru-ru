<properties
   pageTitle="Использование соединителя Twitter в приложениях логики | Служба приложений Microsoft Azure"
   description="Как создать и настроить соединитель Twitter или приложение API и использовать его в приложении логики в службе приложений Azure"
   services="app-service\logic"
   documentationCenter=".net,nodejs,java"
   authors="anuragdalmia"
   manager="dwrede"
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="11/30/2015"
   ms.author="sameerch"/>


# Приступая к работе с соединителем Twitter: добавление в приложение логики
Подключение к вашему каналу Twitter для публикации твитов, а также получения твитов, опубликованных на вашей временной шкале, временной шкале ваших друзей, а также подписчиков вашей учетной записи Twitter. Соединители можно использовать в приложениях логики для извлечения, обработки или отправки данных в рамках рабочего процесса. Используя соединитель Twitter в рамках рабочего процесса, можно реализовать множество сценариев. Например, вы можете выполнить следующие действия.

- Получать новые твиты, связанные с заданным ключевым словом или текстом. При получении новый твит запускает новый экземпляр рабочего процесса, передавая данные следующему соединителю в рабочем процессе. Например, вы можете создать соединитель Twitter и использовать триггер New Tweet From Search (Новый твит по результатам поиска) для мониторинга сообщений с хэш-тегом #peanutbutterandjelly. При каждом появлении нового твита с хэш-тегом #peanutbutterandjelly ваш рабочий процесс (то же, что и приложение логики) будет запускаться автоматически.
- Применяя различные действия (например, Search Tweets (Поиск твитов)), вы можете использовать полученный ответ в рамках рабочего процесса. Например, вы можете искать твиты по имени вашей компании. Когда такие твиты будут обнаружены, вы можете использовать приложение логики для записи этих данных в базу данных SQL Server. Затем с помощью данных SQL Server можно определить содержание твита о вашей компании. 
- Использовать все операторы для [поиска в Twitter](https://twitter.com/search). Выберите ссылку **операторы**. Соединитель Twitter поддерживает все перечисленные операторы.


## Триггеры и действия
*Триггеры* — это события, которые происходят. Например, новый твит может инициировать или запустить рабочий или какой-то другой процесс. *Действие* — это результат чего-то. Например, можно выполнить поиск определенного твита, а после обнаружения отправить сообщение по электронной почте или обновить базу данных.

Соединитель Twitter в приложении логики можно использовать как триггер или действие. Он поддерживает данные в формате JSON и XML.

Соединитель Twitter предоставляет следующие триггеры и действия.

триггеры; | Действия
--- | ---
New Tweet From Search (Новый твит по результатам поиска) | <ul><li>Get User Timeline (Получить временную шкалу пользователя)</li><li>Search Tweets (Поиск твитов)</li><li>Tweet (Твитнуть)</li><li>Get Mentions Timeline (Получить временную шкалу с упоминаниями)</li><li>Get Home Timeline (Получить временную шкалу с домашней страницей)</li><li>Get Followers (Получить подписчиков)</li><li>Get Friends (Получить друзей)</li><li>Get User Details (Получить сведения о пользователе)</li><li>Tweet to User (Твитнуть пользователю)</li><li>Send Direct Message (Отправить прямое сообщение)</li></ul>

Триггер **Новый твит** заархивирован. В настоящее время он по-прежнему доступен в качестве дополнительной операции с возможностью использования. Действие **Ретвитнуть** удалено и больше не поддерживается. При использовании этого действия происходит сбой в среде выполнения. Удалите это действие из приложений логики.


## Создание соединителя Twitter

> [AZURE.IMPORTANT]При создании соединителя Twitter можно зарегистрировать собственное приложение Twitter и использовать ключи приложения с соединителем Twitter. Бесплатно зарегистрировать приложение можно по адресу [http://apps.twitter.com](http://apps.twitter.com). При регистрации обязательно укажите какой-либо URL-адрес обратного вызова. URL-адрес обратного вызова можно изменить позже, после создания соединителя Twitter. При создании соединителя потребуется ключ и секрет API Twitter.

Соединитель можно создать в приложении логики или непосредственно в Azure Marketplace. Создание соединителя в Marketplace

1. [Необязательно.] Создайте бесплатное приложение для Twitter на сайте [http://apps.twitter.com](http://apps.twitter.com).
    * При регистрации приложения можно указать для веб-сайта любой URL-адрес. Укажите любой URL-адрес обратного вызова (не оставляйте его пустым). Вы сможете изменить его позже.
2. На начальной панели Azure выберите **Marketplace**.
3. Выполните поиск по запросу «Соединитель Twitter», выберите его, а затем щелкните **Создать**.
4. [Необязательно.] Щелкните «Параметры пакета» и вставьте ключ потребителя из приложения Twitter в поле clientId. Вставьте секрет клиента из приложения Twitter в поле clientSecret: ![][10]
5. Введите другие необходимые параметры, такие как имя, служба приложений и группы ресурсов.
6.	Щелкните **Создать**.

> [AZURE.NOTE]Если вы хотите усилить защиту API Twitter, используя URL-адрес перенаправления, изучите подробную информацию, которая приводится [здесь](app-service-logic-oauth-security.md).


## Использование соединителя Twitter в приложении логики
После создания приложения API вы можете использовать этот соединитель Twitter в качестве триггера или действия для своего приложения логики. Для этого:

1.	Создайте новое или откройте существующее приложение логики: ![][2]
2.	Щелкните **Триггеры и действия**, чтобы открыть конструктор приложений логики: ![][3]
3.	Соединитель Twitter отобразится в правой части окна. Выберите его, чтобы автоматически добавить в приложение логики: ![][4]
4.	Щелкните **Авторизовать**, введите учетные данные Twitter и нажмите кнопку **Авторизовать приложение**: ![][5]


Теперь можно настроить соединитель Twitter для создания рабочего процесса. Теперь вы можете использовать записи, полученные с помощью триггера Twitter, в других действиях в потоке: ![][6]

Аналогичным образом вы можете использовать действия Twitter в своем рабочем процессе. Выберите действие Twitter и настройте для него входные данные: ![][7] ![][8]

## Дополнительные возможности соединителя
После создания соединителя его можно добавить в рабочий бизнес-процесс с помощью приложения логики. См. раздел [Что такое приложения логики?](app-service-logic-what-are-logic-apps.md).

>[AZURE.NOTE]Если вы хотите приступить к работе с приложениями логики Azure до создания учетной записи Azure, перейдите на сайт [пробного использования приложений логики](https://tryappservice.azure.com/?appservice=logic). На этом сайте вы сможете быстро создать кратковременное приложение логики начального уровня в службе приложений. Никаких кредитных карт и обязательств.

Справку по REST API Swagger см. в статье [Справочник по соединителям и приложениям API](http://go.microsoft.com/fwlink/p/?LinkId=529766).

Можно также просматривать статистику производительности и управлять безопасностью соединителя. См. статью [Управление встроенными приложениями API и соединителями, а также их мониторинг](app-service-logic-monitor-your-connectors.md).

<!--Image references-->
[1]: ./media/app-service-logic-connector-twitter/img1.png
[2]: ./media/app-service-logic-connector-twitter/img2.png
[3]: ./media/app-service-logic-connector-twitter/img3.png
[4]: ./media/app-service-logic-connector-twitter/img4.png
[5]: ./media/app-service-logic-connector-twitter/img5.png
[6]: ./media/app-service-logic-connector-twitter/triggers.png
[7]: ./media/app-service-logic-connector-twitter/img7.png
[8]: ./media/app-service-logic-connector-twitter/actions.png
[9]: ./media/app-service-logic-connector-twitter/settings.PNG
[10]: ./media/app-service-logic-connector-twitter/TwitterAPISettings.png

<!---HONumber=AcomDC_1203_2015-->