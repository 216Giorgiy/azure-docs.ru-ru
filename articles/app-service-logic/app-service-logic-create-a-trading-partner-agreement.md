<properties 
   pageTitle="Создание соглашения между торговыми партнерами в службе приложений Microsoft Azure" 
   description="Создание соглашений между торговыми партнерами" 
   services="app-service\logic" 
   documentationCenter=".net,nodejs,java" 
   authors="rajram" 
   manager="dwrede" 
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration" 
   ms.date="10/01/2015"
   ms.author="rajram"/>


# Создание соглашения между торговыми партнерами   

Торговые партнеры — это сущности, участвующие во взаимодействиях B2B («бизнес — бизнес»). Когда два партнера устанавливают связь, это называется *соглашение*. Определенное соглашение строится на основе взаимодействия, которого желают достичь эти два партнера, и зависит от конкретного протокола или транспорта. В число различных протоколов и транспортов B2B, поддерживаемых службой приложений Azure, входят следующие:

- AS2 (постановление о пределах применения 2);
- EDIFACT (ООН/электронный обмен данными в управлении, торговле и на транспорте (UN/EDIFACT));
- X12 (ASC X12).

### Приложения API BizTalk, поддерживающие сценарии B2B
Следующие приложения API включают эти возможности, используя широкие и интуитивно понятные возможности портала Azure.


## Управление торговыми партнерами BizTalk (TPM)
- Создание партнеров, профилей и удостоверений и управление ими
- Хранение схем EDI и управление ими
- Хранение сертификатов и управление ими (используется в протоколе AS2)
- Создание соглашений AS2 и управление ими
- Создание соглашений EDIFACT и управление ими (включая пакетную обработку на стороне отправителя)
- Создание соглашений X12 и управление ими (включая пакетную обработку на стороне отправителя)

![][1]


## Соединитель AS2
- Выполняет соглашения AS2, как определено в соответствующем экземпляре приложения API TPM.
- Предоставляет сведения обработки и отслеживания AS2 для устранения неполадок.


## BizTalk EDIFACT
- Выполняет соглашения EDIFACT, как определено в соответствующем экземпляре приложения API TPM.
- Предоставляет сведения обработки и отслеживания EDIFACT для устранения неполадок.
- Предоставляет управление состоянием пакетов (start и stop), как определено в соглашениях EDIFACT в соответствующем экземпляре приложения API TPM.


## BizTalk X12
- Выполняет соглашения X12, как определено в соответствующем экземпляре приложения API TPM. 
- Предоставляет сведения обработки и отслеживания X12 для устранения неполадок.
- Предоставляет управление состоянием пакетов (start и stop), как определено в соглашениях X12 в соответствующем экземпляре приложения API TPM.

Как уже говорилось ранее, для правильного функционирования приложению API TPM требуются приложения API AS2, X12 и EDIFACT.


## Приступая к работе
Чтобы создать соглашение между торговыми партнерами, выполните следующие действия.

1. Создайте экземпляр соединителя **управления торговыми партнерами BizTalk**. Для этого требуется функционирующая пустая база данных SQL. До начала убедитесь, что имеется доступная и готовая к использованию пустая база данных.
2. Отправьте схемы и сертификаты в соответствии с соглашениями. Это можно сделать, перейдя в созданный экземпляр TPM и войдя в часть «Схемы» или «Сертификаты».
3. Перейдите в созданный экземпляр TPM и войдите в часть **Партнеры**.
4. Создайте партнеров, как требуется. Также соответствующим образом измените профили и добавьте необходимые удостоверения.
5. Теперь создайте соглашения с помощью части **Соглашения**. При создании соглашения необходимо выбрать протокол, который будет использоваться. Остальные параметры конфигурации зависят от выбранного протокола.

![][2]

![][3]

<!--Image references-->
[1]: ./media/app-service-logic-create-a-trading-partner-agreement/TPMResourceView.jpg
[2]: ./media/app-service-logic-create-a-trading-partner-agreement/ProtocolSelection.jpg
[3]: ./media/app-service-logic-create-a-trading-partner-agreement/X12AgreementCreation.jpg
 

<!---HONumber=Oct15_HO3-->