<properties 
	pageTitle="Приложения API BizTalk Integration в службе приложений Microsoft Azure | Azure" 
	description="Узнайте, как создавать и настраивать приложения API BizTalk Integration; архитектура микрослужб." 
	services="app-service\logic" 
	documentationCenter="" 
	authors="MandiOhlinger" 
	manager="dwrede" 
	editor="cgronlun"/>

<tags 
	ms.service="app-service-logic" 
	ms.workload="integration" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="03/31/2015" 
	ms.author="mandia"/>


# Приложения API BizTalk Integration в службе приложений Microsoft Azure
Служба приложений Microsoft Azure (или для краткости просто служба приложений) включает много приложений API BizTalk, которые крайне необходимы в средах интеграции. Эти приложения API построены на концепциях и инструментах, используемых в BizTalk Server, но теперь доступны как часть службы приложений Azure.

Одной из категорий таких приложений API являются приложения API BizTalk Integration. С помощью этих приложений API BizTalk вы можете легко добавлять бизнес-правила, преобразовывать и проверять XML-сообщения, кодировать неструктурированные файлы и данные JSON, а также выполнять многие другие действия так же, как это делается локально с помощью BizTalk Server.

Эти приложения API интеграции предлагают возможности «Действие». Действие — это результат, например после получения XML-сообщения проверка этого сообщения на соответствие XML-схеме.


## Что такое приложения API интеграции
Приложения API BizTalk Integration — это существующие, предварительно созданные приложения API, которые могут выполнять обработку данных и создавать выходные данные. Например, некоторые из этих приложений API позволяют разным форматам файлов работать вместе; другие применяют бизнес-логику или логику приложений. Приложения API интеграции включают следующее.

Приложения API | Описание
--- | ---
<ul><li>Приложение API X12</li><li>Соединитель AS2</li><li>Приложение API EDIFACT</li><li>Приложение API управления торговыми партнерами</li> | Эти приложения API предоставляют возможности «бизнес — бизнес». Дополнительные сведения об этих приложениях API см. в разделе [Соединители «бизнес — бизнес»](app-service-logic-b2b-connectors.md).
Кодировщик неструктурированных файлов BizTalk | Приложение API **Действие**. Обеспечивает совместную работу данных неструктурированных файлов (таких, как Excel, CSV) и XML-данных (взаимодействие). Он может преобразовывать экземпляр неструктурированного файла в XML и наоборот.
Кодировщик JSON BizTalk | Приложение API **Действие**. Обеспечивает совместную работу данных JSON и XML (взаимодействие). Оно может преобразовать экземпляр JSON в XML и наоборот.
Правила BizTalk | Приложение API **Действие**. Вы можете реализовать и применять бизнес-логику или «правила» для управления бизнес-операцией. Правила являются динамическими и могут изменяться в любое время. Правила BizTalk предоставляют пользователям возможность включать бизнес-логику без написания кода, и их можно легко обновлять, не затрагивая приложения.
Преобразование BizTalk | Приложение API **Действие**. Преобразует данные из одного формата в другой. Вы можете использовать различные встроенные функции для работы со строками, выполнения арифметических выражений, форматирования даты и времени и т. д. 
Средство проверки XML BizTalk | Приложение API **Действие**. Проверяет XML-данные на соответствие предопределенной схеме XML. Вы можете использовать схемы на основе экземпляров неструктурированного файла, экземпляров JSON или существующих соединителей. 
Средство извлечения XPath BizTalk | Приложение API **Действие**. Поиск и извлечение данных из XML-контента на основе конкретного XPath.
Ожидание | Задержка выполнения в течение указанного времени или до определенного времени. При добавлении в приложение логики его можно использовать для задержки выполнения всего приложения.


	> [AZURE.NOTE] If the input xml has a simple node with an attribute (like "<authorid= ”1”>abc</author>"), then the JSON output of the library is { “author”: { “@id” : “1”, “#text”: “abc”}}. To handle the “Id” attribute, a new “#text” key is added for the text content of the node. To handle this kind of node, add a constant key. This is by design in the Newtonsoft.Json library. When you insert this into SQL, use “JSONOutput.Author.#text”; do not use “JsonOutput.Author”.

С помощью этих приложений API вы можете выполнять различные задачи обмена сообщениями или работы с данными. Например, с помощью приложения API правил BizTalk вы можете получать заказ и применять скидку при заказе определенного количества. Можно также взимать определенный налог в зависимости от почтового индекса.

Вы можете легко создавать столько приложений API, сколько вам нужно. Приложения API можно многократно использовать в нескольких сценариях и рабочих процессах.

Например, предположим, что имеется бизнес-политика, которая применяет скидку 10 %, когда клиент заказывает 100 позиций вашего продукта. В своем приложении вы можете добавить приложение API правил BizTalk, которое проверяет заказанное количество, и, если оно превышает 100, применяет скидку в 10 %.

Вы также можете дополнить эту бизнес-политику. Предположим, вам нужно увеличить объем продаж в Северной Каролине. Помимо скидки в 10 % на заказы не менее 100 позиций, вы также предлагаете бесплатную доставку заказов из Северной Каролины. Можно легко добавить это условие для Северной Каролины в существующее правило BizTalk.

Это делается с помощью этих приложений API без написания кода. Давайте приступим.


## Создание приложений API
Приложения API интеграции могут создаваться с помощью портала Azure или с помощью REST API.


### Создание приложений API с помощью REST API
См. раздел [Интерфейсы REST API](http://go.microsoft.com/fwlink/p/?LinkId=529766).


### Создание приложений API интеграции на портале Azure
На портале Azure вы можете создавать приложения API BizTalk Integration при создании приложений логики, веб-приложений или мобильных приложений. Кроме того, эти приложения можно создавать с помощью их собственной колонки. Оба способа достаточно просты, поэтому выбор зависит от ваших потребностей или настроек. Некоторые пользователи предпочитают сначала создать все приложения API интеграции с их конкретными свойствами. Затем создаются приложения логики, веб-приложения или мобильные приложения, и в них добавляются созданные приложения API интеграции.

С помощью следующих действий создаются приложения API BizTalk Integration в колонке приложений API.

1. На начальной панели (домашней странице) портала Azure выберите **Marketplace**. В колонке **Приложения API** перечисляются все существующие приложения API и соединители. Можно также выполнить **поиск** конкретного приложения BizTalk.
2. Выберите приложение API. В новой колонке нажмите кнопку **Создать**. 
3. Задайте следующие свойства. 

	Свойство | Описание
--- | ---
Имя | Введите имя для вашего приложения API. Например, можно задать для него имя *RulesDiscountTaxCode* или *APIAppValidateXML*.
План обслуживания приложения | Отображается ваш план платежей. Вы можете изменить его, если требуется больше или меньше ресурсов.
Ценовая категория | Свойство только для чтения, в котором указана ценовая категория в рамках вашей подписки Azure. 
Группа ресурсов | Создайте новую или используйте существующую группу. Все приложения API и соединители для ваших приложений логики, веб-приложений и мобильных приложений должны быть в одной группе ресурсов. <br/><br/>Это свойство объясняется в статье [Использование групп ресурсов](../resource-group-overview.md). 
Подписка | Свойство только для чтения, в котором указана ваша текущая подписка.
Расположение | Географическое расположение, в котором размещена ваша служба Azure. 
Добавить на начальную панель | Установите этот флажок, чтобы добавить приложение API интеграции на начальную панель (домашнюю страницу).


## Настройка приложения API BizTalk
На портале управления Azure откройте свое приложение API BizTalk. В разделе **Компоненты** можно добавить следующие дополнительные компоненты, необходимые для создания этого приложения API.

	API App | Tasks
--- | ---
Кодировщик неструктурированных файлов BizTalk | Введите неструктурированный файл, например файл Excel или CSV, который требуется преобразовать в XML. Или введите XML-файл, который необходимо преобразовать в неструктурированный файл.
Кодировщик JSON BizTalk | Введите файл JSON, который требуется преобразовать в формат XML. Или введите XML-файл, который требуется преобразовать в формат JSON. 
Правила BizTalk | Добавьте словари и создайте свои правила IF THEN. См. статью [Использование правил BizTalk](app-service-logic-use-biztalk-rules.md). 
Преобразование BizTalk | Добавьте сопоставление и введите входную XML-схему и выходную XML-схему. Используйте встроенные функции для управления сопоставлением входящего сообщения или данных с выходной XML-схемой. См. статью [Преобразование XML-документов](app-service-logic-transform-xml-documents.md). 
Средство проверки XML BizTalk | Введите XML-данные для проверки на соответствие предопределенной XML-схеме. Вы можете использовать схемы на основе экземпляров неструктурированного файла, экземпляров JSON или существующих соединителей. 
Средство извлечения XPath BizTalk | Поиск и извлечение данных из XML-контента на основе конкретного XPath.
Ожидание | Введите время задержки или определенное время для выполнения веб-приложений, мобильных приложений или приложений логики.


## Мониторинг приложений API
На портале управления Azure откройте свое приложение API BizTalk. В разделе **Операции** можно просматривать разные операции управления. Например, вы можете просматривать:

- информационные события и ошибки;
- использование памяти и число потоков рабочего процесса (w3wp);
- журналы приложений и веб-сервера.

Дополнительные сведения см. в статье [Мониторинг приложений логики](app-service-logic-monitor-your-logic-apps.md).


## Добавление приложений API BizTalk в приложение 
Служба приложений Microsoft Azure предоставляет разные типы приложений, которые могут использовать эти приложения API интеграции. Вы можете создавать новые или добавлять существующие приложения API BizTalk в приложения логики, мобильные приложения или веб-приложения.

Просто выберите в своем приложении приложения API BizTalk из коллекции, и они будут автоматически добавлены в ваше приложение.

С помощью следующих действий можно добавить приложения API BizTalk в приложения логики, мобильные приложения и веб-приложения.

1. На начальной панели (домашней странице) портала Azure перейдите в раздел **Marketplace** и найдите свое приложение логики, мобильное приложение или веб-приложение. 

	Если вы создаете новое приложение, выполните поиск приложений логики, мобильных приложений или веб-приложений. Выберите это приложение и в новой колонке нажмите кнопку **Создать**. Эти действия приводятся в разделе [Создание приложения логики](app-service-logic-create-a-logic-app.md).

2. Откройте свое приложение и выберите элемент **Триггеры и действия**.

3. В **коллекции** выберите приложение API BizTalk, которое будет автоматически добавлено в ваше приложение.

4. Нажмите кнопку **ОК**, чтобы сохранить изменения.


## Дополнительные ресурсы по приложениям API интеграции
[Создание приложения логики EAI с помощью VETR](app-service-logic-create-EAI-logic-app-using-VETR.md)<br/> [Преобразование XML-документов](app-service-logic-transform-xml-documents.md)<br/> [Использование правил BizTalk](app-service-logic-use-biztalk-rules.md)<br/> [Что такое соединители и приложения API BizTalk](app-service-logic-what-are-biztalk-api-apps.md)


## Дополнительные сведения о приложениях логики и веб-приложениях
[Что такое приложения логики?](app-service-logic-what-are-logic-apps.md)<br/> [Веб-сайты и веб-приложения в службе приложений Azure](../app-service-web/app-service-web-app-azure-portal.md)


## Дополнительные сведения о соединителях
[Корпоративные соединители](app-service-logic-enterprise-connectors.md)<br/> [Соединители «бизнес — бизнес»](app-service-logic-b2b-connectors.md)<br/> [Социальные соединители](app-service-logic-social-connectors.md)<br/> [Соединители протоколов](app-service-logic-protocol-connectors.md)<br/> [Соединители служб данных и приложений](app-service-logic-data-connectors.md)<br/> [Список соединителей и приложений API](app-service-logic-connectors-list.md)<br/><br/> [Что такое соединители и приложения API BizTalk](app-service-logic-what-are-biztalk-api-apps.md)
<!--HONumber=54--> 