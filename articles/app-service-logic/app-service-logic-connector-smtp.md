<properties 
   pageTitle="Приложение API соединителя SMTP" 
   description="Использование соединителя SMTP" 
   services="app-service\logic" 
   documentationCenter=".net,nodejs,java" 
   authors="anuragdalmia" 
   manager="dwrede" 
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration" 
   ms.date="03/31/2015"
   ms.author="adgoda"/>


# Использование соединителя SMTP в приложении логики #

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока.

Соединитель SMTP позволяет подключиться к серверу SMTP и выполняет действие для отправки сообщений электронной почты с вложениями. Действие "Отправить электронное письмо" соединителя SMTP позволяет отправить сообщение электронной почты по указанным адресам.

## Создание соединителя SMTP для приложения логики ##
Чтобы использовать соединитель SMTP, сначала нужно создать экземпляр приложения API соединителя SMTP. Это можно сделать следующим образом.

1.	Откройте Azure Marketplace, нажав кнопку "+ СОЗДАТЬ" в нижнем левом углу портала Azure.
2.	Выберите «Мобильные и веб-приложения > Azure Marketplace» и найдите «Соединитель SMTP».
3.	Настройте соединитель SMTP следующим образом.
 
	![][1]**Расположение** — выберите географическое расположение, в котором нужно развернуть соединитель. **Подписка** — выберите подписку, в которой необходимо создать соединитель. **Группа ресурсов** — выберите или создайте группу ресурсов для размещения соединителя. **План размещения веб-сайтов** — выберите или создайте план размещения веб-сайтов. **Ценовая категория** — выберите ценовую категорию для соединителя. **Имя** — введите имя соединителя SMTP. **Параметры пакета**. **Имя пользователя** — укажите имя пользователя для подключения к серверу SMTP. **Пароль** — укажите пароль для подключения к серверу SMTP. **Адрес сервера** — укажите имя или IP-адрес сервера SMTP. **Порт сервера** — укажите номер порта сервера SMTP. **Включить SSL** — укажите значение true для использования SMTP через защищенный канал SSL/TLS.
4.	Нажмите кнопку "Создать". Будет создан новый соединитель SMTP.
5.	После создания экземпляра приложения API можно создать приложение логики в той же группе ресурсов для использования соединителя SMTP. 

## Использование соединителя SMTP в приложении логики ##
После создания приложения API можно использовать соединитель SMTP как действие для приложения логики. Для этого необходимо выполнить следующие действия.

1.	Создайте новое приложение логики и выберите ту же группу ресурсов, которую имеет соединитель SMTP.
 
	![][2]
2.	Открыть раздел «Триггеры и действия», чтобы открыть конструктор приложения логики и настроить поток. 
 
	![][3]
3.	Соединитель SMTP отображается в разделе "Приложения API в этой группе ресурсов" в коллекции с правой стороны. Выберите его.
 
	![][4]
4.	Приложение API соединителя SMTP можно удалить в редакторе, щелкнув "Соединитель SMTP". 
	
7.	Теперь можно использовать соединитель SMTP в потоке. Выберите действие "Отправить электронное письмо" и настройте входные свойства следующим образом.
	- **Кому** — это электронный адрес получателя. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например, recipient1@domain.com;recipient2@domain.com.
	- **Копия** — это электронный адрес получателя копии. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например, recipient1@domain.com;recipient2@domain.com.
	- **Тема** — это тема электронного сообщения.
	- **Текст** — это текст электронного сообщения.
	- **HTML-код** — если это свойство имеет значение true, содержимое письма будет отправляться как HTML.
	- **Скрытая копия** — это электронный адрес получателя скрытой копии. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например, recipient1@domain.com;recipient2@domain.com.
	- **Важность** — это важность электронного сообщения. Возможные варианты: обычная, низкая, высокая.
	- **Вложения** — вложения для отправки вместе с электронным сообщением. Здесь содержатся следующие поля:
		- Содержимое (строка)
		- Кодировка передачи содержимого (перечисление) («нет» или «base64»).
		- Тип содержимого (строка)
		- Идентификатор содержимого (строка)
		- Имя файла (строка)
	 
	
	![][5] ![][6]


	<!--Image references-->
[1]: ./media/app-service-logic-connector-smtp/img1.PNG
[2]: ./media/app-service-logic-connector-smtp/img2.PNG
[3]: ./media/app-service-logic-connector-smtp/img3.png
[4]: ./media/app-service-logic-connector-smtp/img4.PNG
[5]: ./media/app-service-logic-connector-smtp/img5.PNG
[6]: ./media/app-service-logic-connector-smtp/img6.PNG
 

<!---HONumber=62-->