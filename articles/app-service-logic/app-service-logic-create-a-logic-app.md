<properties 
	pageTitle="Создание приложения логики" 
	description="Начните с создания простого приложения логики." 
	authors="stepsic-microsoft-com" 
	manager="dwrede" 
	editor="" 
	services="app-service\logic" 
	documentationCenter=""/>

<tags
	ms.service="app-service-logic"
	ms.workload="integration"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="03/20/2015"
	ms.author="stepsic"/>

#Создание нового приложения логики
В этой статье показывается, как всего за несколько минут можно создавать приложения логики службы приложений. Мы рассмотрим рабочий процесс, который позволяет получать набор интересующих твитов в папку Dropbox.

Для использования этого сценария вам понадобится:

- Подписка Azure
- учетная запись Twitter;
- учетная запись Dropbox.

<!--- TODO: Add try it now information here -->

##Создание соединителей

Сначала необходимо создать два соединителя, которые будут использоваться: **соединитель Dropbox** и **соединитель Twitter**. Чтобы создать их, выполните следующие действия.

1. Щелкните **Marketplace** на начальном экране и найдите **Twitter**. 

2. Выберите соединитель Twitter и нажмите кнопку «Создать». Появится колонка, в которой можно задать все параметры. Вы можете оставить имя **Соединитель Twitter**.

3. В поле **Создать новый план обслуживания приложения** введите имя плана.
	
	>[AZURE.NOTE]В этом разделе предполагается, что вы создаете новый план обслуживания приложения. Если вы используете существующий план обслуживания приложения, нажмите **Выбрать существующий**, выберите существующий план и переходите к следующему разделу.
 
4.  Выберите **ценовую категорию** для этого нового плана.
 
	>[AZURE.NOTE]По умолчанию отображаются только планы, рекомендуемые для приложений логики. Нажмите **Просмотреть все**, чтобы увидеть все доступные планы. При выборе для приложения логики категории Free вы можете запускать его не чаще одного раза в час и использовать не более 1000 действий в месяц.

5. Создайте **группу ресурсов** для вашего потока.

	Группы ресурсов действуют как контейнеры для приложений. Все ресурсы для вашего приложения будут находиться в одной группе ресурсов.

6. Если у вас есть несколько подписок Azure, выберите ту, которую будете использовать.

7. Выберите **расположение** для запуска приложения логики.

	![Колонка создания приложения API](./media/app-service-logic-create-a-logic-app/gallery.png)

8. Щелкните **Создать**. Этап подготовки может занять одну-две минуты.

9. Теперь повторите этот процесс с Dropbox.

##Запуск приложения логики

Теперь необходимо создать новое приложение логики.

1. Нажмите кнопку **+ Создать** в нижнем левом углу экрана, разверните узел **Мобильные и веб-приложения**, а затем щелкните элемент **Приложение логики**. 

 	Появится колонка «Создание приложения логики», где можно указать некоторые основные параметры для начала работы.

	![Колонка создания приложения логики](./media/app-service-logic-create-a-logic-app/createlogicapp.png)
	
2. В поле **Имя** введите понятное имя для приложения логики.

3. Выберите **план обслуживания приложения**, который использовался при создании соединителей. В результате расположение, подписка и группа ресурсов будут выбраны автоматически.

Таким образом делаются основные настройки, но пока не следует нажимать кнопку **Создать**. Далее вы будете добавлять триггеры и действия в рабочий процесс.

## Добавление триггера

Триггеры — это то, что делает ваше приложение логики. Далее вы добавите триггер повторения, который запускает рабочий процесс на основе предопределенного расписания.

1. В колонке **Создание приложения логики** щелкните **Триггеры и действия**. 

	Откроется полноэкранный конструктор, который отображает ваш поток. Справа находится список всех служб, которые могут иметь триггеры.

2. В разделе **Встроенные** щелкните **Повторение**.
	
	При этом добавляется поле, в котором можно указать параметры повторения.

	![Периодичность](./media/app-service-logic-create-a-logic-app/recurrence.png)


4.  Выберите **частоту** и **интервал** повторения (например, один раз каждый час), затем щелкните зеленый флажок.

Теперь вы будете добавлять действие в поток.

## Добавление действия Twitter

Действия — это то, что делает ваш рабочий процесс. Можно задавать любое количество действий, и их можно организовать так, чтобы сведения из одного действия передавались в следующее.

1. В правой панели найдите **соединитель Twitter** и щелкните его. 


2. После его загрузки нажмите кнопку **Авторизовать**, войдите в свою учетную запись Twitter и щелкните **Авторизовать приложение**.

	Это предоставит соединителю доступ к вашей учетной записи Twitter. Отображается список возможных операций, предоставляемых соединителем Twitter.

	![Действия](./media/app-service-logic-create-a-logic-app/actions.png)

3. Щелкните действие **Искать твиты**, затем в поле **Укажите запрос**, введите что-нибудь, аналогичное `#MicrosoftAzure`, и нажмите кнопку с зеленой галочкой.

	![Поиск Twitter](./media/app-service-logic-create-a-logic-app/twittersearch.png)

Соединитель Twitter теперь является частью рабочего процесса.

## Добавление действия Dropbox и создание приложения

Последний шаг заключается в добавлении действия, которое отправляет твиты в файл Dropbox.

1. В области справа щелкните пункт **Соединитель Dropbox**. 
  
2. После завершения подготовки нажмите кнопку **Авторизовать**, войдите в свою учетную запись Dropbox и нажмите кнопку **Разрешить**.

	![Авторизация соединителя Dropbox.](./media/app-service-logic-create-a-logic-app/authorize.png)
	
	Это предоставит соединителю доступ к вашей учетной записи Dropbox. Отобразится список возможных операций, предоставляемых соединителем Dropbox.
 
4. Нажмите **Отправить файл**.

	Появится окно с параметрами Dropbox, которые необходимо установить, чтобы передавать данные из поиска Twitter в Dropbox.

	![DropBox](./media/app-service-logic-create-a-logic-app/dropbox.png)

3. В поле **FilePath** введите `/tweet.txt`.
  
4. В поле **Содержимое** нажмите кнопку `...` и выберите пункт **Текст твита**.
 
	Это вводит значение `@first(body('twitterconnector')).TweetText` в текстовое поле. Эта функция создает значение, содержащее следующие части.

	Часть содержимого | Описание
	------------------------------------------ | ------------
	 `@` | Указывает, что вы ввели функцию, а не фактическое значение.
	`actions('twitterconnector').outputs.body` | Получает твиты, извлеченные запросом соединителя Twitter.
	`first()` | Действие поиска твитов возвращает список, но вам нужно отправить один файл.
	`.TweetText` | Выбирает свойство сообщения твита.
	
5. Щелкните зеленую галочку, чтобы сохранить параметры соединителя.

5. Теперь, когда конструкция завершена, нажмите кнопку **Просмотр кода** в верхнем левом углу конструктора и обратите внимание, что это код JSON, который определяет рабочий процесс, только что созданный вами в конструкторе. Мы более подробно рассмотрим этот код в [следующем разделе][Use logic app features].

6. Нажмите кнопку **ОК** внизу экрана, а затем нажмите кнопку **Создать**.

	Новое приложение логики создано.

## Управление приложением логики после его создания

Теперь ваше приложение логики запущено и работает. Каждый раз, когда запускается запланированный рабочий процесс, он ищет твиты с конкретным хэш-тегом. Когда соответствующий твит обнаруживается, он отправляет его в вашу папку Dropbox. Теперь мы покажем, как отключать приложение, и вы увидите, как это работает.

1. Нажмите кнопку **Обзор** с левой стороны экрана и выберите пункт **Приложения логики**. 
 
2. Щелкните новое приложение логики, которое вы только что создали, чтобы просмотреть его текущее состояние и общие сведения.

3. Чтобы изменить это новое приложение логики, нажмите **Триггеры и действия**.
 
5. Чтобы отключить приложение, нажмите кнопку **Отключить** в командной строке.

Менее чем за 5 минут вы смогли создать простое приложение логики, работающее в облаке. Дополнительные сведения об использовании функций приложений логики см. в статье [Использование функций приложения логики].

<!-- Shared links -->
[Azure portal]: https://portal.azure.com
[Use logic app features]: app-service-logic-use-logic-app-features.md
[Использование функций приложения логики]: app-service-logic-use-logic-app-features.md

<!--HONumber=54--> 