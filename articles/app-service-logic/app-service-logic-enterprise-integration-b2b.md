<properties 
	pageTitle="Создание решений ";бизнес-бизнес"; с помощью пакета интеграции Enterprise | Служба приложений Microsoft Azure" 
	description="Сведения о получении данных с помощью функций ";бизнес-бизнес"; пакета интеграции Enterprise" 
	services="app-service\logic" 
	documentationCenter=".net,nodejs,java"
	authors="msftman" 
	manager="erikre" 
	editor="cgronlun"/>

<tags 
	ms.service="app-service-logic" 
	ms.workload="integration" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="06/29/2016" 
	ms.author="deonhe"/>

# Сведения о получении данных с помощью функций "бизнес-бизнес" пакета интеграции Enterprise#

## Обзор ##

Данный документ является частью пакета интеграции Enterprise для приложений логики. Ознакомьтесь с обзором, чтобы больше узнать о [возможностях пакета интеграции Enterprise](./app-service-logic-enterprise-integration-overview.md).

## Предварительные требования ##

Чтобы использовать действия AS2 и X12, потребуется учетная запись интеграции Enterprise.

[Как создать учетную запись интеграции Enterprise](./app-service-logic-enterprise-integration-accounts.md)

## Как использовать соединители "бизнес-бизнес" для приложений логики ##

После того, как вы создали учетную запись интеграции и добавили партнеры и соглашения, можно приступить к созданию приложения логики, реализующего рабочий процесс "бизнес-бизнес" (B2B).

В этом пошаговом руководстве показано, как использовать действия AS2 и X12 для создания приложения логики "бизнес-бизнес", которое получает данные от торгового партнера.

1. Создайте новое приложение логики и [свяжите его с учетной записью интеграции](./app-service-logic-enterprise-integration-accounts.md).
2. Добавьте триггер **Request - When an HTTP request is received** (Запрос: при получении HTTP-запроса) в свое приложение логики. ![](./media/app-service-logic-enterprise-integration-b2b/flatfile-1.png)
3. Добавьте действие **Decode AS2** (Декодирование AS2), щелкнув **Добавить действие**. ![](./media/app-service-logic-enterprise-integration-b2b/transform-2.png)
4. Введите слово **as2** в поле поиска, чтобы отфильтровать все действия и оставить только те, которые вы хотите использовать. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-5.png)
6. Выберите действие **AS2 - Decode AS2 message** (AS2: декодирование сообщений AS2). ![](./media/app-service-logic-enterprise-integration-b2b/b2b-6.png)
7. Добавьте **текст**, принимаемый в качестве входных данных, как показано ниже. В этом примере выберите текст HTTP-запроса, активировавшего приложение логики. В качестве альтернативы можно ввести выражение для ввода заголовков в поле **HEADERS** (Заголовки).

    @triggerOutputs()['headers']

8. Добавьте обязательные **заголовки** для AS2. Они будут добавлены в заголовки HTTP-запроса. В этом примере выберите заголовки HTTP-запроса, активировавшего приложение логики.
9. Теперь добавьте действие "Decode X12 message" (Декодирование сообщения X12), повторно щелкнув **Добавить действие**. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-9.png)
10. Введите слово **x12** в поле поиска, чтобы отфильтровать все действия и оставить только те, которые вы хотите использовать. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-10.png)
11. Выберите действие **X12 - Decode X12 message** (X12: декодирование сообщений X12), чтобы добавить его в приложение логики. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-11.png)
12. Теперь нужно указать входные данные для этого действия. Это будут выходные данные приведенного выше действия AS2. Фактическое содержимое сообщения находится в объекте JSON в кодировке Base64. Поэтому в качестве входных данных необходимо указать выражение. Введите следующее выражение в поле входных данных **FLAT FILE MESSAGE TO DECODE** (Неструктурированный файл сообщения X12 для декодирования).

    @base64ToString(body('Decode\_AS2\_message')?['Message']?['Content'])

13. Это действие будет декодировать данные X12, полученные от торгового партнера, и выводить число элементов в объекте JSON. Чтобы сообщать партнеру о получении данных, можно отправлять ему ответ, содержащий уведомление о состоянии сообщения AS2 (MDN), в действии ответа HTTP.
14. Добавьте действие **Response** (Ответ), щелкнув **Добавить действие**. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-14.png)
15. Введите слово **response** в поле поиска, чтобы отфильтровать все действия и оставить только те, которые вы хотите использовать. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-15.png)
16. Выберите действие **Response** (Ответ), чтобы добавить его. ![](./media/app-service-logic-enterprise-integration-b2b/b2b-16.png)
17. Задайте значение поля **BODY** (Текст) ответа, используя следующее выражение для доступа к уведомлению MDN из выходных данных действия **Decode X12 message** (Декодирование действия X12).

    @base64ToString(body('Decode\_AS2\_message')?['OutgoingMdn']?['Content'])

![](./media/app-service-logic-enterprise-integration-b2b/b2b-17.png)
18. Сохраните результаты своих действий. ![](./media/app-service-logic-enterprise-integration-b2b/transform-5.png)

На этом настройка приложения логики "бизнес-бизнес" завершена. В случае реального приложения может потребоваться сохранить декодированные данные X12 в бизнес-приложении или хранилище данных. Можно легко добавить дополнительные действия для этого или запрограммировать пользовательские интерфейсы API для подключения к вашим собственным бизнес-приложениям, а затем использовать эти API в приложении логики.

## Функции и варианты использования ##

- С помощью действий декодирования и кодирования AS2 и X12 можно получать данные от торговых партнеров и отправлять данные им, используя стандартные протоколы и приложения логики.
- При необходимости AS2 и X12 (вместе или по отдельности) можно использовать для обмена данными с торговыми партнерами.
- Действия "бизнес-бизнес" упрощают создание партнеров и соглашений в учетной записи интеграции и их использование в приложениях логики.
- Расширяя возможности приложения логики с помощью дополнительных действий, можно отправлять и получать данные из других приложений и служб, таких как SalesForce.

## Подробнее ##

[Узнайте больше о пакете интеграции Enterprise](./app-service-logic-enterprise-integration-overview.md).

<!---HONumber=AcomDC_0706_2016-->