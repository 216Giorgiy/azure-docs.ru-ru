<properties
   pageTitle="Соединитель SugarCRM"
   description="Использование соединителя SugarCRM"
   services="app-service\logic"
   documentationCenter=".net,nodejs,java"
   authors="anuragdalmia"
   manager="dwrede"
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="07/02/2015"
   ms.author="sameerch"/>


#Использование соединителя SugarCRM в приложении логики#

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока. Соединитель SugarCRM позволяет создавать и изменять различные сущности, такие как учетные записи, потенциальные клиенты, контакты и т. д. Ниже приведены стандартные варианты интеграции, в которых используется SugarCRM.

- Синхронизация учетной записи между SugarCRM и системами ERP, такими как SAP

- Синхронизация учетной записи, контактов и интересов между Marketo и SugarCRM

- Поток от заказа до получения оплаты из SugarCRM в системы ERP


В рамках параметров пакета соединителя пользователь может задать сущности, которыми может управлять соединитель, и действия; входные и выходные параметры заполняются динамически.

##Действия соединителя SugarCRM##
Ниже перечислены различные действия, доступные в соединителе SugarCRM.

- Создать модуль — с помощью этого действия создается новая запись для модуля SugarCRM, например учетная запись, интерес, контакт.

- Обновить модуль — это действие используется для обновления существующей записи для модуля SugarCRM.

- Удалить модуль — действие используется для удаления существующей записи для модуля SugarCRM.

- Список модулей — действие используется для составления перечня отфильтрованных записей. Если не указан запрос, возвращаются все записи.

- Получить модуль — действие используется для получения одной записи из указанного модуля.

- Получить число записей — действие используется для получения числа записей из модуля, который соответствует запросу. Если не указан запрос, возвращается общее количество записей в модуле.

- Проверить модуль на повторения — действие используется для проверки наличия повторяющихся записей в модуле.

*Примечание*. Дополнительные сведения о поддерживаемых аргументах в запросе см. в документации по интерфейсу API REST SugarCRM.

##Создание приложения API соединителя SugarCRM##
1.	Перейдите по адресу portal.azure.com. Откройте Azure Marketplace, нажав кнопку «+ СОЗДАТЬ» в нижнем левом углу портала Azure.
2.	Последовательно щелкните «Marketplace > Все» и выполните поиск по строке SugarCRM.
3.	Настройте соединитель SugarCRM, предоставив сведения о плане службы приложений и группе ресурсов и указав имя приложения API.
4. Настройте параметры пакета соединителя SugarCRM. Ниже перечислены параметры пакета, которые необходимо предоставить для создания соединителя.

	<table>
  <tr>
    <td><b>Имя</b></td>
    <td><b>Обязательный</b></td>
    <td><b>Описание</b></td>
  </tr>
  <tr>
    <td>URL-адрес сайта</td>
    <td>Да</td>
    <td>Укажите URL-адрес экземпляра SugarCRM, например https://abcde1234.sugarcrm.com</td>
  </tr>
  <tr>
    <td>Идентификатор клиента</td>
    <td>Да</td>
    <td>Укажите ключ клиента ключа OAuth 2.0 в SugarCRM </td>
  </tr>
  <tr>
    <td>Секрет клиента</td>
    <td>Да</td>
    <td>Укажите секрет клиента ключа OAuth 2.0 в SugarCRM </td>
  </tr>
<tr>
    <td>Имя пользователя</td>
    <td>Да</td>
    <td>Укажите имя пользователя SugarCRM</td>
  </tr>
	<tr>
    <td>Пароль</td>
    <td>Да</td>
    <td>Укажите пароль пользователя SugarCRM</td>
  </tr>
  <tr>
    <td>Имена модулей</td>
    <td>Да</td>
    <td>Укажите модули SugarCRM, такие как учетные записи, контакты, продукты и т. д., в которых требуется выполнить операцию<br><br>Пример: учетные записи, потенциальные клиенты, контакты</td>
  </tr>
</table>![][9]



##Создание приложения логики##
Построим простое приложение логики, которое создает учетную запись в SugarCRM и обновляет сведения об адресе выставления счетов в этой учетной записи.

1.	Войдите на портал Azure и последовательно выберите "Создать -> Мобильные и веб-приложения -> Приложение логики".

	![][1]

2.	На странице «Создание приложения логики» предоставьте необходимые сведения, такие как имя, план обслуживания приложения и расположение.

	![][2]

3.	Щелкните "Триггеры и действия", и откроется экран редактора приложения логики. Установите флажок "Запускать эту логику вручную", указывающий, что это приложение логики может вызываться только вручную.


5.	Разверните узел "Приложения API в этой группе ресурсов" в коллекции, чтобы просмотреть все доступные приложения API. Выберите в коллекции элемент SugarCRM, и "Соединитель SugarCRM" будет добавлен в поток.


	![][3]

6.	Выберите действие «Создать учетную запись», и появятся входные параметры.

	![][4]

12.	Укажите имя, например "Учетная запись Майкрософт", и нажмите кнопку ✓.

	![][5]

13.	В разделе "Последние использовавшиеся" в коллекции выберите "Соединитель SugarCRM". Будет добавлено новое действие SugarCRM.

14.	Выберите в списке действий пункт «Обновление учетной записи». Этот список отображается при нажатии кнопки с многоточием. Появится окно в входными параметрами действия «Обновление учетной записи».

	![][6]

15.	Нажмите кнопку с многоточием рядом с полем «Идентификатор записи» и в выходных данных действия «Создание учетной записи» выберите нужный идентификатор.

	![][7]

16.	Укажите адрес выставления счетов и нажмите кнопку ✓.

	![][8]

17. Нажмите кнопку «ОК» на экране редактора приложения логики, а затем нажмите кнопку «Создать». Создание займет приблизительно 30 секунд.

18. Перейдите к только что созданному приложению логики и нажмите кнопку «Выполнить».

19. Можно проверить, что новая учетная запись под именем "Учетная запись Майкрософт" создана в учетной записи SugarCRM и в эту учетную запись также добавлен адрес выставления счетов.

<!--Image references-->
[1]: ./media/app-service-logic-connector-sugarcrm/1_New_Logic_App.png
[2]: ./media/app-service-logic-connector-sugarcrm/2_Logic_App_Settings.png
[3]: ./media/app-service-logic-connector-sugarcrm/3_Select_SugarCRM_Gallery.png
[4]: ./media/app-service-logic-connector-sugarcrm/4_SugarCRM_Create_Account.png
[5]: ./media/app-service-logic-connector-sugarcrm/5_Create_Account_OK.png
[6]: ./media/app-service-logic-connector-sugarcrm/6_SugarCRM_Update_Account.png
[7]: ./media/app-service-logic-connector-sugarcrm/7_Record_ID_from_Create.png
[8]: ./media/app-service-logic-connector-sugarcrm/8_Update_Account_Address.png
[9]: ./media/app-service-logic-connector-sugarcrm/9_Create_new_SugarCRM_connector.png

<!---HONumber=August15_HO6-->