<properties
   pageTitle="Использование соединителя баз данных Oracle в приложениях логики | Служба приложений Microsoft Azure"
   description="Как создать и настроить соединитель баз данных Oracle или приложение API и использовать его в приложении логики в службе приложений Azure"
   services="app-service\logic"
   documentationCenter=".net,nodejs,java"
   authors="anuragdalmia"
   manager="dwrede"
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="08/23/2015"
   ms.author="sameerch"/>


# Приступая к работе с соединителем баз данных Oracle: добавление в приложение логики
Подключитесь к локальному серверу базы данных Oracle, чтобы создавать и изменять сведения или данные. Соединители можно использовать в приложениях логики для извлечения, обработки или отправки данных в рамках рабочего процесса. Используя соединитель Oracle в рабочем процессе, можно реализовать множество сценариев. Например, вы можете выполнить следующие действия.

- Предоставить раздел данных, размещенных в базе данных Oracle, через веб-приложение или мобильное приложение;
- Вставить данные в таблицу базы данных Oracle для хранения. Например, можно ввести записи о сотрудниках, обновить заказы на продажу и так далее;
- Получить данные из Oracle и использовать их в бизнес-процессе. Например, можно получить записи клиентов и поместить их в SalesForce.


## Триггеры и действия
*Триггеры* — это события, которые происходят. Например, когда обновляется заказ или добавляется новый клиент. *Действие* — это результат триггера. Например, при обновлении заказа менеджеру по продажам отправляется оповещение. Либо при добавлении нового клиента ему отправляется приветственное письмо.

Соединитель базы данных Oracle можно использовать как триггер или действие в приложении логики, он поддерживает данные в формате JSON и XML. Для каждой таблицы, включенной в параметры вашего пакета (подробнее это будет описано далее в этом разделе), существует набор действий JSON и действий XML. При использовании триггера или действия XML можно использовать [приложение API преобразования](app-service-logic-transform-xml-documents.md) для преобразования данных в другой формат XML-данных.

Соединитель базы данных Oracle предоставляет следующие триггеры и действия.

Триггеры | Действия
--- | ---
Опрос данных | <ul><li>Вставка в таблицу</li><li>Обновление таблицы</li><li>Выбор из таблицы</li><li>Удаление из таблицы</li><li>Вызов хранимой процедуры</li>


## Создание соединителя базы данных Oracle

Соединитель можно создать в приложении логики или непосредственно в Azure Marketplace. Создание соединителя в Marketplace

1. На начальной панели Azure выберите **Marketplace**.
2. Выберите **Приложения API** и найдите "Соединитель базы данных Oracle".
3. Введите имя, план службы приложений и другие свойства.
4. Введите следующие параметры пакета:

	Имя | Обязательно | Описание
--- | --- | ---
Источник данных | Да | Имя источника данных (сетевой службы), которое указано в файле tnsnames.ora на компьютере, где установлен клиент Oracle. Дополнительную информацию об именах источников данных и tnsnames.ora см. в разделе [Настройка клиента Oracle](http://msdn.microsoft.com/library/dd787872.aspx).
Имя пользователя | Да | Введите допустимое имя пользователя для подключения к серверу Oracle.
Пароль | Да | Введите пароль для этого имени пользователя.
Строка подключения к служебной шине | Да | При подключении к локальной среде введите строку подключения ретранслятора служебной шины.<br/><br/>[Использование диспетчера гибридных соединений](app-service-logic-hybrid-connection-manager.md)<br/>[Служебная шина — цены](http://azure.microsoft.com/pricing/details/service-bus/)
Таблицы | Нет | Введите таблицы базы данных, которые можно изменить с помощью соединителя. Например, введите *OrdersTable,EmployeeTable*.
Хранимые процедуры | Нет | Введите хранимые процедуры в базе данных, которые могут вызываться с помощью соединителя. Например, введите *IsEmployeeEligible,CalculateOrderDiscount*.
Функции | Нет | Введите функции в базе данных, которые могут быть вызваны с помощью соединителя. Например, введите *IsEmployeeEligible,CalculateOrderDiscount*.
Пакет сущностей | Нет | Введите пакеты в базе данных, которые могут вызываться с помощью соединителя. Например, введите *PackageOrderProcessing.CompleteOrder,PackageOrderProcessing.GenerateBill*.
Инструкция доступных данных | Нет | Введите инструкцию для определения доступности данных для опроса. Например, введите *SELECT * from имя\_таблицы*.
Тип опроса | Нет | Введите тип опроса. Допустимыми значениями являются Select, Procedure, Function и Package.
Инструкция опроса | Нет | Введите инструкцию для опроса серверной базы данных Oracle. Например, введите *SELECT * from имя\_таблицы*.
Инструкция после опроса | Нет | Введите инструкцию для выполнения после опроса. Например, введите *DELETE * from имя\_таблицы*.

5. После завершения параметры пакета будут выглядеть примерно так: <br/> ![][1]


## Использование соединителя в качестве триггера
Рассмотрим простое приложение логики, которое опрашивает данные из таблицы Oracle, добавляет данные в другую таблицу и обновляет данные.

### Добавление триггера
1. При создании или изменении приложения логики выберите соединитель Oracle, созданный в качестве триггера. Будет выведен список доступных триггеров: **Опрос данных (JSON)** и **Опрос данных (XML)**: <br/> ![][5]

2. Выберите триггер **Опрос данных (JSON)**, укажите частоту и щелкните ✓: <br/> ![][6]

3. Триггер будет показан в приложении логики как настроенный. Будут отображены результаты триггера, которые можно использовать в качестве входных данных в следующих действиях: <br/> ![][7]

## Использование соединителя в качестве действия
Воспользуемся простым приложением логики, которое запрашивает данные из таблицы Oracle, добавляет данные в другую таблицу и обновляет данные.

Чтобы использовать соединитель Oracle в качестве действия, укажите имена таблиц и (или) хранимых процедур, введенных при создании соединителя Oracle.

1. Выберите тот же соединитель Oracle из коллекции в качестве действия. Выберите одно из действий вставки, например *Вставить в TempEmployeeDetails (JSON)*: <br/> ![][8]

2. Введите входные значения записи для вставки и щелкните ✓: <br/> ![][9]

3. Выберите из коллекции тот же соединитель Oracle, который вы создали. В качестве действия выберите действие обновления для той же таблицы, например *Обновить TempEmployeeDetails*: <br/> ![][11]

4. Введите входные значения для действия обновления и щелкните ✓: <br/> ![][12]

Можно проверить логику приложения, добавив новую запись в опрашиваемую таблицу.

## Гибридная конфигурация

> [AZURE.NOTE]Этот шаг необходим только в том случае, если Oracle используется локально под защитой брандмауэра.

Служба приложений использует диспетчер гибридных соединений для безопасного подключения к вашей локальной системе. Если ваш соединитель использует локальный сервер Oracle, использование диспетчера гибридных соединений обязательно.

См. раздел [Установка диспетчера гибридных соединений](app-service-logic-hybrid-connection-manager.md).

## Дополнительные возможности соединителя
После создания соединителя его можно добавить в рабочий бизнес-процесс с помощью приложения логики. См. раздел [Что такое приложения логики?](app-service-logic-what-are-logic-apps.md).

>[AZURE.NOTE]Если вы хотите начать работу с приложениями логики Azure до создания учетной записи Azure, перейдите на веб-сайт [пробного использования приложений логики](https://tryappservice.azure.com/?appservice=logic). На этом сайте вы сможете быстро создать кратковременное приложение логики начального уровня в службе приложений. Никаких кредитных карт и обязательств.

Справочные материалы по REST API Swagger см. в статье [Справочные материалы по соединителям и приложениям API](http://go.microsoft.com/fwlink/p/?LinkId=529766).

Можно также просматривать статистику производительности и управлять безопасностью соединителя. См. статью [Управление встроенными приложениями API и соединителями, а также их мониторинг](app-service-logic-monitor-your-connectors.md).


<!--Image references-->
[1]: ./media/app-service-logic-connector-oracle/Create.png
[5]: ./media/app-service-logic-connector-oracle/LogicApp1.png
[6]: ./media/app-service-logic-connector-oracle/LogicApp2.png
[7]: ./media/app-service-logic-connector-oracle/LogicApp3.png
[8]: ./media/app-service-logic-connector-oracle/LogicApp4.png
[9]: ./media/app-service-logic-connector-oracle/LogicApp5.png
[10]: ./media/app-service-logic-connector-oracle/LogicApp6.png
[11]: ./media/app-service-logic-connector-oracle/LogicApp7.png
[12]: ./media/app-service-logic-connector-oracle/LogicApp8.png

<!---HONumber=Oct15_HO1-->