<properties 
	pageTitle="Создание веб-приложения Hello World для Azure в IntelliJ | Microsoft Azure" 
	description="В этом учебнике показано, как с помощью набора средств Azure для IntelliJ создать веб-приложение Hello World для Azure." 
	services="app-service\web" 
	documentationCenter="java" 
	authors="selvasingh" 
	manager="wpickett" 
	editor=""/>

<tags 
	ms.service="app-service-web" 
	ms.workload="web" 
	ms.tgt_pltfrm="na" 
	ms.devlang="Java" 
	ms.topic="article" 
	ms.date="06/07/2016" 
	ms.author="asirveda;robmcm"/>

# Создание веб-приложения Hello World для Azure в IntelliJ

В этом учебнике показано, как создать базовое приложение Hello World для Azure и развернуть его как веб-приложение с помощью [средств Azure для IntelliJ]. Для простоты мы приводим базовый пример на JSP, но практически те же действия подойдут и для сервлета Java, если речь идет о развертывании в Azure.

После завершения этого учебника приложение при просмотре в веб-браузере будет выглядеть следующим образом:

![][01]
 
## Предварительные требования

* Java Developer Kit (JDK), версия 1.7 или более поздняя.
* IntelliJ IDEA Ultimate Edition. Среду также можно загрузить с веб-страницы <https://www.jetbrains.com/idea/download/index.html>.
* Дистрибутив веб-сервера или сервера приложений на основе Java, например Apache Tomcat или Jetty.
* Подписка Azure, которую можно получить на веб-сайте <https://azure.microsoft.com/free/> или <http://azure.microsoft.com/pricing/purchase-options/>.
* Набор средств Azure для IntelliJ. Дополнительные сведения см. в статье [Установка набора средств Azure для IntelliJ].

## Создание приложения Hello World

Сначала необходимо создать проект Java.

1. Запустите IntelliJ и последовательно выберите **Файл**, **Создать** и **Проект**.

   ![][02]

1. В диалоговом окне "Новый проект" выберите **Java**, затем **Веб-приложение** и нажмите кнопку **Далее**.

   ![][03a]

   Если вам будет предложено продолжить создание проекта без назначенного пакета SDK, нажмите кнопку **Да**.

   ![][03b]

1. Укажите имя проекта **Java-Web-App-On-Azure** и нажмите кнопку **Готово**.

   ![][04]

1. В представлении обозревателя проектов IntelliJ разверните **Java-Web-App-On-Azure**, затем разверните **web** и дважды щелкните **index.jsp**.

   ![][05]

1. После того как файл index.jsp откроется в IntelliJ, добавьте в существующий элемент `<body>` код для динамического отображения фразы **Hello World!**. Обновленное содержимое элемента `<body>` должно быть похоже на следующий пример:

   `<body><b><% out.println("Hello World!"); %></b></body>`

1. Сохраните index.jsp.

## Развертывание приложения в контейнере веб-приложения Azure

Существует несколько способов, с помощью которых можно развернуть веб-приложение Java в Azure. В этом учебнике описывается один из самых простых: ваше приложение будет развернуто в контейнер веб-приложения Azure — для этого не нужно выбирать особый тип проекта и не требуются дополнительные инструменты. JDK и программное обеспечение веб-контейнера будут предоставлены Azure, поэтому нет необходимости загружать их самостоятельно. Все, что вам нужно — ваше веб-приложение Java. В результате процесс публикации приложения занимает несколько секунд, а не минут.

1. Щелкните правой кнопкой мыши по проекту **Java-Web-App-On-Azure** в обозревателе проектов IntelliJ. В контекстном меню выберите **Azure**, затем щелкните **Опубликовать как веб-приложение Azure**.

   ![][06]

1. Если вы еще не вошли в Azure из IntelliJ, появится запрос на вход в учетную запись Azure:

   ![][07]

   Примечание. При наличии нескольких учетных записей Azure некоторые запросы во время входа в систему могут отображаться несколько раз, даже если они выглядят одинаковыми. Если это происходит, выполните вход.

1. После успешного входа в учетную запись Azure в диалоговом окне **Управление подписками** будет показан список подписок, связанных с вашими учетными данными. Если в списке есть несколько подписок и вы хотите работать только с определенным набором подписок, можете снять флажки с тех, которые не хотите использовать. После выбора подписок щелкните **Закрыть**.

   ![][08]

1. При открытии диалогового окна **Развертывание в контейнер веб-приложения Azure** в нем будут показаны все контейнеры веб-приложений, созданные ранее. Если вы не создали ни одного контейнера, список будет пустым.   

   ![][09]

1. Если вы не создавали контейнер веб-приложения Azure или хотите опубликовать приложение в новый контейнер, выполните следующие действия. В противном случае выберите существующий контейнер веб-приложения и перейдите к шагу 6 ниже.

  1. Нажмите **+**.

        ![][10]

  1. Откроется окно **Новый контейнер веб-приложения**, которым мы воспользуемся для нескольких следующих шагов.

        ![][11]

  1. Введите **метку DNS** для вашего контейнера веб-приложения. Она образует метку листа DNS для URL-адреса узла веб-приложения в Azure. Примечание. Имя должно быть доступным и соответствовать требованиям к именованию веб-приложений Azure.

  1. В раскрывающемся меню **Web Container** (Веб-контейнер) выберите соответствующее программное обеспечение для вашего приложения.

        На данный момент можно выбрать Tomcat 8, Tomcat 7 или Jetty 9. Последний дистрибутив выбранного программного обеспечения, предоставленный Azure, будет запущен в последнем дистрибутиве JDK 8, созданном Oracle и предоставленном Azure.

  1. В раскрывающемся меню **Subscription** (Подписка) выберите подписку, которую хотите использовать для этого развертывания.

  1. В раскрывающемся меню **Resource Group** (Группа ресурсов) выберите группу ресурсов, с которой хотите связать свое веб-приложение.

        Примечание: группы ресурсов Azure позволяют сгруппировать связанные ресурсы, чтобы, например, удалить их одновременно.

        Можно выбрать существующую группу ресурсов (если она есть) и перейти к шагу g ниже, или создать новую, сделав следующее:

      * Нажмите кнопку **New...** (Создать...).

      * Откроется диалоговое окно **New Resource Group** (Новая группа ресурсов):

            ![][12]

      * В текстовом поле **Name** (Имя) укажите имя для новой группы ресурсов.

      * В раскрывающемся меню **Region** (Регион) выберите расположение центра обработки данных Azure для группы ресурсов.

      * Нажмите кнопку **ОК**.

  1. В раскрывающемся меню **App Service Plan** (План службы приложений) перечислены планы службы приложений, связанные с выбранной группой ресурсов.

        Примечание. В плане службы приложений указываются такие сведения, как расположение веб-приложения, ценовая категория и размер вычислительной операции. Один план службы приложений можно использовать для нескольких веб-приложений, поэтому он поддерживается отдельно от развертывания конкретного веб-приложения.

        Можно выбрать существующий план службы приложений (если он есть) и перейти к шагу h ниже, или создать новый, сделав следующее:

      * Нажмите кнопку **New...** (Создать...).

      * Откроется диалоговое окно **New App Service Plan** (Новый план службы приложений):

            ![][13]

      * В текстовом поле **Name** (Имя) укажите имя для нового плана службы приложений.

      * В раскрывающемся меню **Location** (Расположение) выберите расположение центра обработки данных Azure для плана.

      * В раскрывающемся меню **Pricing Tier** (Ценовая категория) выберите соответствующую ценовую категорию для плана. Для тестирования можно выбрать **Free** (Бесплатный).

      * В раскрывающемся меню **Instance Size** (Размер экземпляра) выберите соответствующий размер экземпляра для плана. Для тестирования можно выбрать **Small** (Маленький).

  1. После завершения всех описанных выше действий диалоговое окно "Новый контейнер веб-приложения" должно выглядеть примерно так, как показано ниже:

        ![][14]

  1. Нажмите кнопку **ОК**, чтобы завершить создание нового контейнера веб-приложения.

        Подождите несколько секунд. Когда список контейнеров веб-приложений обновится, созданный контейнер веб-приложения должен быть выбран в списке.

1. Теперь все готово для начального развертывания веб-приложения в Azure. Нажмите кнопку **ОК**, чтобы развернуть приложение Java в выбранный контейнер веб-приложения.

    ![][15]

    Примечание. По умолчанию приложение будет развернуто в подкаталог сервера приложений. Чтобы развернуть приложение в качестве корневого приложения, установите флажок **Развернуть в корень** перед нажатием кнопки **ОК**.

1. После этого вы должны увидеть представление **Журнал действий Azure**, в котором будет отображаться состояние развертывания веб-приложения.

    ![][16]

    Процесс развертывания веб-приложения в Azure занимает всего несколько секунд. Когда процесс будет завершен, вы увидите ссылку **Опубликовано** в столбце **Состояние**. При щелчке по ссылке вы перейдете на домашнюю страницу развернутого веб-приложения. Вы также можете найти свое веб-приложение, выполнив действия, описанные в следующем разделе.

## Переход к веб-приложению в Azure

Чтобы перейти к веб-приложению в Azure, можно использовать представление **Обозревателя Azure**.

Если представление **Обозреватель Azure** еще не открыто, его можно открыть, щелкнув меню **Представление** в IntelliJ и последовательно выбрав **Окна инструментов** и **Обозреватель служб**. Если ранее вы не вошли в систему, вам будет предложено это сделать.

Когда представление **Обозреватель Azure** откроется, выполните следующие действия для остановки веб-приложения.

1. Разверните узел **Azure**.

1. Разверните узел **Веб-приложения**.

1. Щелкните правой кнопкой мыши необходимое веб-приложение.

1. В открывшемся контекстном меню выберите пункт **Открыть в браузере**.

    ![][17]

## Обновление веб-приложения

Обновить существующее и запущенное веб-приложение Azure быстро и просто. Сделать это можно двумя способами:

* Можно обновить развертывание существующего веб-приложения Java.
* Можно опубликовать дополнительное приложение Java в тот же контейнер веб-приложения.

Процесс в каждом случае идентичен и занимает несколько секунд.

1. В обозревателе проектов IntelliJ щелкните правой кнопкой мыши приложение Java, которое вы хотите обновить или добавить в существующий контейнер веб-приложения.

1. В контекстном меню выберите **Azure**, затем щелкните **Опубликовать как веб-приложение Azure**.

1. Так как ранее вы уже вошли в систему, вы увидите список существующих контейнеров веб-приложений. Выберите контейнер, в котором хотите опубликовать или повторно опубликовать приложение Java, и нажмите кнопку **ОК**.

Через несколько секунд в представлении **Журнал действий Azure** состояние обновленного развертывания изменится на **Опубликовано**, и вы сможете проверить свое обновленное приложение в веб-браузере.

## Запуск или остановка существующего веб-приложения

Запустить или остановить существующий контейнер веб-приложения Azure (включая все развернутые в нем приложения Java) можно в представлении **Обозреватель Azure**.

Если представление **Обозреватель Azure** еще не открыто, его можно открыть, щелкнув меню **Представление** в IntelliJ и последовательно выбрав **Окна инструментов** и **Обозреватель служб**. Если ранее вы не вошли в систему, вам будет предложено это сделать.

Когда представление **Обозреватель Azure** откроется, выполните следующие действия для запуска или остановки веб-приложения.

1. Разверните узел **Azure**.

1. Разверните узел **Веб-приложения**.

1. Щелкните правой кнопкой мыши необходимое веб-приложение.

1. В открывшемся контекстном меню щелкните **Запустить** или **Остановить**. Обратите внимание, что доступные меню контекстно зависимы, поэтому можно только остановить веб-приложение или запустить веб-приложение, которое в данный момент не запущено.

    ![][18]

## Дальнейшие действия

Дополнительные сведения о наборах средств Azure для Java IDE см. по следующим ссылкам:

- [Набор средств Azure для Eclipse]
  - [Установка набора средств Azure для Eclipse]
  - [Создание веб-приложения Hello World для Azure в Eclipse]
  - [Новые возможности набора средств Azure для Eclipse]
- [Набор средств Azure для IntelliJ]
  - [Установка набора средств Azure для IntelliJ]
  - *Создание веб-приложения Hello World для Azure в IntelliJ (в этой статье)*

Дополнительные сведения об использовании Azure с Java см. в [центре разработчиков Java для Azure].

Дополнительные сведения о создании веб-приложений Azure см. в разделе [Обзор веб-приложений].

[AZURE.INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- URL List -->

[Набор средств Azure для Eclipse]: ../azure-toolkit-for-eclipse.md
[Набор средств Azure для IntelliJ]: ../azure-toolkit-for-intellij.md
[средств Azure для IntelliJ]: ../azure-toolkit-for-intellij.md
[Создание веб-приложения Hello World для Azure в Eclipse]: ./app-service-web-eclipse-create-hello-world-web-app.md
[Установка набора средств Azure для Eclipse]: ../azure-toolkit-for-eclipse-installation.md
[Установка набора средств Azure для IntelliJ]: ../azure-toolkit-for-intellij-installation.md
[Новые возможности набора средств Azure для Eclipse]: ../azure-toolkit-for-eclipse-whats-new.md

[центре разработчиков Java для Azure]: https://azure.microsoft.com/develop/java/
[Обзор веб-приложений]: ./app-service-web-overview.md

<!-- IMG List -->

[01]: ./media/app-service-web-intellij-create-hello-world-web-app/01-Web-Page.png
[02]: ./media/app-service-web-intellij-create-hello-world-web-app/02-File-New-Project.png
[03a]: ./media/app-service-web-intellij-create-hello-world-web-app/03-New-Project-Dialog.png
[03b]: ./media/app-service-web-intellij-create-hello-world-web-app/03-No-SDK-Specified.png
[04]: ./media/app-service-web-intellij-create-hello-world-web-app/04-New-Project-Dialog.png
[05]: ./media/app-service-web-intellij-create-hello-world-web-app/05-Open-Index-Page.png
[06]: ./media/app-service-web-intellij-create-hello-world-web-app/06-Azure-Publish-Context-Menu.png
[07]: ./media/app-service-web-intellij-create-hello-world-web-app/07-Azure-Log-In-Dialog.png
[08]: ./media/app-service-web-intellij-create-hello-world-web-app/08-Manage-Subscriptions.png
[09]: ./media/app-service-web-intellij-create-hello-world-web-app/09-App-Containers.png
[10]: ./media/app-service-web-intellij-create-hello-world-web-app/10-Add-App-Container.png
[11]: ./media/app-service-web-intellij-create-hello-world-web-app/11-New-App-Container.png
[12]: ./media/app-service-web-intellij-create-hello-world-web-app/12-New-Resource-Group.png
[13]: ./media/app-service-web-intellij-create-hello-world-web-app/13-New-App-Service-Plan.png
[14]: ./media/app-service-web-intellij-create-hello-world-web-app/14-New-App-Container.png
[15]: ./media/app-service-web-intellij-create-hello-world-web-app/15-Deploy-To-Azure.png
[16]: ./media/app-service-web-intellij-create-hello-world-web-app/16-Progress-Indicator.png
[17]: ./media/app-service-web-intellij-create-hello-world-web-app/17-Browse-Web-App.png
[18]: ./media/app-service-web-intellij-create-hello-world-web-app/18-Stop-Web-App.png

<!---HONumber=AcomDC_0608_2016-->
