<properties
	pageTitle="Создание веб-приложения в среде служб приложений"
	description="Создание веб-приложений и планов службы приложений в среде службы приложений"
	services="app-service"
	documentationCenter=""
	authors="ccompy"
	manager="stefsch"
	editor=""/>

<tags
	ms.service="app-service"
	ms.workload="web"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article" 
	ms.date="04/04/2016"
	ms.author="ccompy"/>

# Создание веб-приложения в среде служб приложений

## Обзор

В этом учебнике показано, как создавать веб-приложения и планы обслуживания службы приложений в [среде службы приложений](app-service-app-service-environment-intro.md) (ASE).

> [AZURE.NOTE] Если хотите научиться создавать веб-приложения, но не хотите делать это в среде службы приложений, см. статью [Создание веб-приложения .NET](web-sites-dotnet-get-started.md) или один из связанных учебников, описывающих другие языки и платформы.

## Предварительные требования

Для прохождения этого учебного курса необходимо, чтобы вы создали среду службы приложений. Если вы еще не сделали это, см. статью [Создание среды службы приложений](app-service-web-how-to-create-an-app-service-environment.md).

## Создание веб-приложения

1. На [портале Azure](https://portal.azure.com/) щелкните **Создать > Интернет + мобильные устройства > Веб-приложение**. 

	![][1]

2. Выберите свою подписку.

	Если у вас есть несколько подписок, имейте в виду, что для создания приложения в среде ASE необходимо использовать ту же подписку, которая использовалась при создании самой среды.

3. Выберите или создайте группу ресурсов.

	*Группы ресурсов* позволяют управлять ресурсами Azure как единым целым; кроме того, они могут быть полезны при настройке правил *управления доступом на основе ролей* (RBAC) для приложений. Дополнительные сведения см. в статье [Управление ресурсами Azure][ResourceGroups].

4. Выбор или создание плана службы приложений

	*Планы службы приложений* (ASP) — это управляемый набор веб-приложений. Когда вы выбираете ценовую категорию, плата взимается за использование плана службы приложений, а не отдельных приложений. Чтобы увеличить количество экземпляров веб-приложения, вам следует масштабировать экземпляры вашего плана ASP, что повлияет на все веб-приложения в этом плане. Некоторые функции, например слоты сайтов или интеграция VNET, также обладают ограничениями в пределах плана. Дополнительные сведения см. в статье [Обзор планов службы приложений Azure](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md).

	Планы ASP в среде ASE можно определить, просмотрев расположение, указанное под именем соответствующего плана.

	![][5]

	Если вы хотите использовать план ASP, который уже существует в среде ASE, выберите этот план. Если вы хотите создать новый план ASP, см. раздел [Создание плана службы приложений в среде службы приложений](#createplan) этого учебника.

5. Присвойте веб-приложению имя и нажмите кнопку **Создать**.

	Имя веб-приложения должно быть уникальным в рамках службы приложений Azure. Иными словами, вы можете создать веб-приложение с именем thisismywebapp, только если в службе приложений Azure в настоящий момент нет других приложений с этим же именем.

	URL-адрес веб-приложения в среде ASE имеет следующий формат:

	[*имя\_сайта*].[*имя среды службы приложений*].p.azurewebsites.net

	вместо

	[*имя\_сайта*].azurewebsites.net

## <a name="createplan"></a> Создание плана службы приложений

При создании в среде ASE плана ASP выбранные рабочие роли будут отличаться, так как в среде ASE нет общих рабочих ролей. Необходимо использовать те рабочие роли, которые выделены среде ASE администратором. Иными словами, чтобы создать новый план ASP, вам нужно выделить рабочему пулу среды ASE такое количество рабочих ролей, которое будет превышать общее количество экземпляров во всех ваших планах ASP, содержащихся в этом рабочем пуле. Если в рабочем пуле среды ASE недостаточно рабочих ролей для создания плана ASP, обратитесь к администратору среды ASE, чтобы их добавить.

Еще одно отличие от планов ASP, размещаемых в среде ASE, заключается в отсутствии выбора ценовой категории. При наличии среды ASE вы оплачиваете вычислительные ресурсы, используемые системой, и не платите дополнительно за использование планов ASP в этой среде. Обычно при создании плана ASP выбирается план ценообразования, который определяет политику выставления счетов. Среда службы приложений является по сути закрытым расположением, где можно создавать содержимое. Вы платите за среду, а не за размещение содержимого.

Ниже показано, как создать план ASP в ходе создания веб-приложения в соответствии с инструкциями, приведенными в предыдущем разделе учебника.

1. Щелкните **Создать** в пользовательском интерфейсе выбора плана и введите имя для плана, в соответствии с обычной процедурой (не в среде ASE).

2. В средстве выбора расположения выберите среду ASE, которая будет использоваться.

	Поскольку среда службы приложений по сути находится в закрытом расположении развертывания, она отображается в области «Расположение».

	![][2]

	После выбора среды ASE с помощью средства выбора расположения пользовательский интерфейс создания плана ASP будет обновлен. В расположении теперь будет отображаться имя системы ASE и регион, в котором она находится; средство выбора ценового плана будет заменено средством выбора рабочего пула.

	![][3]

### Выбор рабочего пула

Обычно в службе приложений Azure и за пределами среды ASE для выбора выделенного ценового плана доступны 3 размера вычислительных ресурсов. Аналогичным образом вы можете определить до 3 рабочих пулов с указанием объема вычислений, используемого для каждого рабочего пула, и для среды ASE. Для клиентов ASE это означает, что вместо ценового плана с объемом вычислений для вашего плана ASP вы будете использовать так называемый *рабочий пул*.

В пользовательском интерфейсе рабочего пула под именем отображается объем вычислений, используемый для этого пула. Доступное количество означает, сколько вычислительных операций доступно для использования в данном пуле. Фактически общий пул может содержать больше операций, чем указано, а данное значение просто указывает на количество неиспользуемых операций. Дополнительные сведения о настройке среды ASE для добавления дополнительных вычислительных ресурсов см. в статье [Настройка среды службы приложений](app-service-web-configure-an-app-service-environment.md).

![][4]

В этом примере доступны только два рабочих пула. Причина в том, что администратор ASE выделил узлы только этим двум рабочим пулам. Третий будет отображаться, когда ему будут выделены виртуальные машины.

## После создания веб-приложения

При запуске веб-приложений и управлении планами ASP в среде ASЕ необходимо учитывать следующее.

Как отмечалось ранее, владелец ASE отвечает за определение размера системы и, как следствие, обеспечение достаточной емкости для размещения требуемых планов ASP. При отсутствии доступных рабочих ролей вы не сможете создать план ASP. Это также касается возможности масштабирования веб-приложения. Если требуется больше экземпляров, необходимо, чтобы администратор среды службы приложений добавил дополнительных исполнителей.

После создания веб-приложения и плана ASP рекомендуется выполнить масштабирование. Желательно, чтобы в среде ASE всегда было минимум два экземпляра ASP. Это повысит отказоустойчивость ваших приложений. Масштабирование плана ASP в среде ASE выполняется как обычно с помощью пользовательского интерфейса ASP. Дополнительные сведения о масштабировании см. в статье [Масштабирование веб-приложения в среде службы приложений](app-service-web-scale-a-web-app-in-an-app-service-environment.md)

<!--Image references-->
[1]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspnewwebapp.png
[2]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createasplocation.png
[3]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspselected.png
[4]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspworkerpool.png
[5]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/selectaspinase.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[Appserviceplans]: http://azure.microsoft.com/documentation/articles/azure-web-sites-web-hosting-plans-in-depth-overview/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[HowtoScale]: http://azure.microsoft.com/documentation/articles/app-service-web-scale-a-web-app-in-an-app-service-environment
[HowtoConfigureASE]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment
[ResourceGroups]: http://azure.microsoft.com/documentation/articles/resource-group-portal/
[AzurePowershell]: http://azure.microsoft.com/documentation/articles/powershell-install-configure/

<!---HONumber=AcomDC_0406_2016-->