<properties
	pageTitle="Создание веб-приложения в среде службы приложений"
	description="Схема создания веб-приложений и планов службы приложений, проверенная для среды службы приложений"
	services="app-service\web"
	documentationCenter=""
	authors="ccompy"
	manager="stefsch"
	editor=""/>

<tags
	ms.service="app-service-web"
	ms.workload="web"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="get-started-article" 
	ms.date="09/15/2015"
	ms.author="ccompy"/>

# Создание веб-приложения в среде службы приложений #

Создание веб-приложений в средах службы приложений (ASE) почти идентично обычному процессу. Если вы не знакомы со средой службы приложений, см. статью [Знакомство со средой службы приложений](app-service-app-service-environment-intro.md).

Для создания веб-приложения в ASE необходимо сначала создать среду ASE. Сведения о том, как создать такую среду, см. в статье [Создание среды службы приложения](app-service-web-how-to-create-an-app-service-environment.md).

Первым этапом создания веб-приложения является выбор подписки. Если у вас есть несколько подписок, имейте в виду, что для создания приложения в среде ASE необходимо использовать ту же подписку, которая использовалась при создании ASE. Следующий этап предусматривает выбор или создание группы ресурсов. Если вы не знакомы с группами ресурсов, дополнительные сведения см. в статье [Управление ресурсами Azure][ResourceGroups]. Помимо помощи в управлении ресурсами, группы ресурсов также важны при установлении правил RBAC для приложений.

После выбора подписки и группы ресурсов понадобится создать или выбрать план службы приложений (ASP). Если требуется создать новый план ASP в среде ASE, укажите имя плана, выберите нужную среду ASE в разделе «Расположения», а также выберите рабочий пул, в котором должен содержаться план ASP. Это подробнее описано ниже. При выборе ASP в среде ASE процесс создания приложения соответствует стандартному алгоритму: «Создать» -> «Интернет и мобильные устройства» -> «Веб-приложение».

![][1]


Если вы используете план службы приложений, уже созданный в среде службы приложений, просто выберите его, введите имя для веб-приложения и нажмите кнопку «Создать». Последовательность действий аналогична обычному созданию веб-приложения. Планы ASP в среде ASE можно определить, просмотрев расположение, указанное под именем ASP.

![][5]

Созданное приложение будет доступно по следующему адресу:

[*имя\_сайта*].[*имя среды службы приложений*].p.azurewebsites.net

вместо

[*имя\_сайта*].azurewebsites.net

На данный момент имя веб-приложения должно быть уникальным в пределах всей службы приложений Azure. Это значит, что если вы хотите создать веб-приложение с именем "thisismywebapp", то в настоящее время не должно быть никаких других веб-приложений с именем "thisismywebapp" в службе приложений Azure.

### Планы службы приложений ###

Планы службы приложений — это управляемый набор веб-приложений. При выборе ценовой модели взимаемая цена применяется к плану службы приложений, а не к отдельным приложениям. Для масштабирования числа экземпляров веб-приложения следует вертикально масштабировать экземпляры вашего ASP, что повлияет на все веб-приложения в соответствующем плане. Некоторые функции, например слоты сайтов или интеграция VNET, также обладают ограничениями в пределах плана. Дополнительные сведения о планах службы приложений доступны в следующем документе: [Подробно о планах службы приложений Azure](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md)

При создании нового плана службы приложений имеются некоторые отличия от создания ASP в среде службы приложений. Помимо прочего, выбранные рабочие роли отличаются, поскольку в среде ASE нет общих рабочих ролей. Необходимо использовать те рабочие роли, которые выделены среде ASE администратором. Это означает, что для создания нового плана ASP необходимо выделить рабочему пулу среды ASE количество рабочих ролей, превышающее общее количество экземпляров во всех ваших планах ASP, которые уже содержатся в этом рабочем пуле. Если в рабочем пуле ASE недостаточно рабочих ролей для создания плана ASP, необходимо обратиться к администратору среды ASE, чтобы их добавить.

Еще одно отличие от ASP, размещаемых в среде службы приложений, состоит в отсутствии выбора ценовой модели. При наличии среды службы приложений вы оплачиваете вычислительные ресурсы, используемые системой, и не несете дополнительных расходов за планы ASP в этой среде. Обычно при создании ASP выбирается план ценообразования, который определяет выставляемые счета. Среда службы приложений является по сути закрытым расположением, где можно создавать содержимое. Вы платите за среду, а не за размещение содержимого.

### Создание плана ASE для среды службы приложений ###

Чтобы создать план ASP в среде ASE, выберите элемент «Создать» в пользовательском интерфейсе выбора ASP и укажите имя плана в соответствии с обычным алгоритмом действий (за пределами ASE). Следующим шагом является выбор среды ASE, которая будет использоваться, с помощью средства выбора расположения. Поскольку среда службы приложений по сути находится в закрытом расположении развертывания, она отображается в области «Расположение».

![][2]

После выбора среды ASE с помощью средства выбора расположения пользовательский интерфейс создания ASP будет обновлен. В расположении теперь будет отображаться имя системы ASE и регион, в котором она находится; средство выбора ценового плана будет заменено средством выбора рабочего пула.

![][3]

### Выбор пула исполнителей ###

Обычно в службе приложений Azure и за пределами среды службы приложений для выбора выделенного ценового плана доступны 3 размера вычислительных ресурсов. Подобным образом заказчики, владеющие средой ASE, могут определить до 3 рабочих пулов, а также и указать объем вычислений, используемый для каждого рабочего пула. Для клиентов это означает, что вместо ценового плана с объемом вычислений для вашего плана ASP вы выбираете так называемый рабочий пул.

В пользовательском интерфейсе рабочего пула под именем отображается объем вычислений, используемый для этого пула. Доступное количество означает, сколько вычислительных операций доступно для использования в данном пуле. Фактически общий пул может содержать больше операций, чем указано, а данное значение просто указывает на количество неиспользуемых операций. Если необходимо настроить среду службы приложений для добавления дополнительных вычислительных ресурсов, см. документ [Настройка среды службы приложений](app-service-web-configure-an-app-service-environment.md).

![][4]

В данном примере можно видеть только два доступных пула исполнителей. Причина в том, что администратор ASE выделил узлы только этим двум рабочим пулам. Третий будет отображаться, когда ему будут выделены виртуальные машины.

### После создания веб-приложения ###

Существует несколько рекомендаций по запуску веб-приложений и управления планами ASP в среде ASE, которые необходимо принимать во внимание.

Как отмечалось ранее, владелец ASE отвечает за размер системы и, следовательно, также отвечает за обеспечение достаточной емкости для размещения требуемых ASP. При отсутствии доступных исполнителей вы не сможете создать ASP. Это также касается возможности масштабирования веб-приложения. Если требуется больше экземпляров, необходимо, чтобы администратор среды службы приложений добавил дополнительных исполнителей.

После создания веб-приложения и ASP рекомендуется его масштабировать. В ASE всегда необходимо иметь по крайней мере 2 экземпляра ASP для обеспечения отказоустойчивости приложений. Масштабирование ASP в ASE аналогично обычному способу посредством пользовательского интерфейса ASP. Дополнительные сведения о масштабировании см. в документе [Масштабирование веб-приложения в среде службы приложений](app-service-web-scale-a-web-app-in-an-app-service-environment.md)


[AZURE.INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[AZURE.INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!--Image references-->
[1]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspnewwebapp.png
[2]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createasplocation.png
[3]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspselected.png
[4]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspworkerpool.png
[5]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/selectaspinase.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[Appserviceplans]: http://azure.microsoft.com/documentation/articles/azure-web-sites-web-hosting-plans-in-depth-overview/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[HowtoScale]: http://azure.microsoft.com/documentation/articles/app-service-web-scale-a-web-app-in-an-app-service-environment
[HowtoConfigureASE]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment
[ResourceGroups]: http://azure.microsoft.com/documentation/articles/resource-group-portal/
[AzurePowershell]: http://azure.microsoft.com/documentation/articles/powershell-install-configure/

<!---HONumber=Oct15_HO3-->