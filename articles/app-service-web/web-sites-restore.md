<properties 
	pageTitle="Восстановление приложения в службе приложений Azure" 
	description="Узнайте, как восстановить приложение из резервной копии." 
	services="app-service" 
	documentationCenter="" 
	authors="cephalin" 
	manager="wpickett" 
	editor="jimbe"/>

<tags 
	ms.service="app-service" 
	ms.workload="na" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="01/26/2016" 
	ms.author="cephalin"/>

# Восстановление приложения в службе приложений Azure

В этой статье описывается, как восстановить приложение службы приложений, для которого ранее с помощью компонента резервного копирования [службы приложений](../app-service/app-service-value-prop-what-is.md) была создана резервная копия. Дополнительную информацию см. в статье [Резервное копирование в службе приложений](web-sites-backup.md).

Функция восстановления службы приложений позволяет восстановить предыдущее состояние приложения и его баз данных (SQL или MySQL) по запросу или создать новое приложение на основе одной из резервных копий исходного приложения. Создание нового приложения, работающего параллельно с предыдущей версией, может быть полезным для A/B-тестирования.

Компонент восстановления приложений, представленный на [портале Azure](https://portal.azure.com) в колонке **Резервные копии**, доступен только в ценовых категориях Стандартный и Премиум. Дополнительные сведения о масштабировании приложений до уровней Стандартный и Премиум см. в разделе [Масштабирование приложения в службе приложений Azure](web-sites-scale.md). Обратите внимание, что уровень Премиум позволяет создавать большее количество ежедневных резервных копий по сравнению с уровнем Стандартный.

<a name="PreviousBackup"></a>
## Восстановление приложения из ранее созданной резервной копии

1. На портале Azure в колонке **Настройки** вашего приложения щелкните элемент **Резервные копии**. Откроется колонка **Резервные копии**. Затем нажмите кнопку **Восстановить сейчас** в панели команд. 
	
	![Выбор команды "Восстановить сейчас"][ChooseRestoreNow]

3. В колонке **Восстановить** выберите источник резервного копирования.

	![](./media/web-sites-restore/021ChooseSource.png)
	
	В разделе **Резервное копирование приложений** отображаются все резервные копии, созданные непосредственно приложением, поскольку приложению известны только они. Можно легко выбрать одну из них. В разделе **Хранилище** можно выбрать фактический ZIP-файл из учетной записи хранилища и контейнер, который настроен в колонке **Резервные копии**. Если в контейнере есть файлы резервной копии для других приложений, их также можно выбрать для восстановления.

4. После этого укажите место назначения для восстановления приложения в разделе **Место назначения для восстановления**.

	![](./media/web-sites-restore/022ChooseDestination.png)
	
	>[AZURE.WARNING] Если вы выберете **Перезаписать**, то все данные, связанные с существующим приложением, будут удалены. Прежде чем нажимать кнопку **ОК**, убедитесь, что это именно то, что вы хотите сделать.
	
	Вы также можете выбрать **Существующее приложение** для восстановления резервной копии приложения в другое приложение в той же группе ресурсов. Прежде чем использовать этот параметр, необходимо создать другое приложение в группе ресурсов с конфигурацией базы данных, аналогичной конфигурации базы данных в резервной копии приложения.
	
5. Нажмите кнопку **ОК**.

<a name="StorageAccount"></a>
## Скачивание и удаление резервной копии в учетной записи хранения
	
1. На портале Azure в колонке **Обзор** выберите элемент **Учетные записи хранения**.
	
	Откроется список существующих учетных записей хранения.
	
2. Выберите учетную запись, в которой хранится резервная копия, которую вы хотите скачать или удалить.
	
	Откроется колонка **ХРАНИЛИЩЕ**.

3. В колонке **ХРАНИЛИЩЕ** выберите элемент **Контейнеры**, чтобы открыть колонку **Контейнеры**.
	
	Отобразится список контейнеров. В этом списке также можно узнать URL-адрес и дату последнего изменения каждого контейнера.
	
	![Просмотр контейнеров][ViewContainers]

4. Выбрав в списке контейнер, вы увидите колонку с именами и размерами всех файлов.
	
5. Выбранный файл можно **скачать** или **удалить**. Обратите внимание, что существует два основных типа файлов: ZIP и XML.

<a name="OperationLogs"></a>
## Просмотр журналов аудита
	
1. Чтобы просмотреть подробные сведения о результате восстановления приложения, в колонке **Обзор** выберите элемент **Журнал аудита**. 
	
	В колонке **Журнал аудита** будут показаны все операции, включая сведения об уровне, состоянии, ресурсе и времени.
	
2. Найдите в колонке операции, связанные с вашим приложением.
3. Чтобы просмотреть дополнительные сведения об операции, выберите в списке нужную операцию.
	
В колонке со сведениями отобразится вся доступная информация о выбранной операции.
	
>[AZURE.NOTE] Чтобы приступить к работе со службой приложений Azure до создания учетной записи Azure, перейдите к разделу [Пробное использование службы приложений](http://go.microsoft.com/fwlink/?LinkId=523751), где можно быстро создать кратковременное веб-приложение начального уровня в службе приложений. Никаких кредитных карт и обязательств.

## Дальнейшие действия

Для создания резервной копии и восстановления приложений службы приложений можно также использовать API REST (см. статью [Использование REST для резервного копирования и восстановления приложений службы приложений](websites-csm-backup.md)).

## Изменения
* Указания по изменениям при переходе от веб-сайтов к службе приложений см. в разделе [Служба приложений Azure и ее влияние на существующие службы Azure](http://go.microsoft.com/fwlink/?LinkId=529714).

<!-- IMAGES -->
[ChooseRestoreNow]: ./media/web-sites-restore/02ChooseRestoreNow.png
[ViewContainers]: ./media/web-sites-restore/03ViewContainers.png
[StorageAccountFile]: ./media/web-sites-restore/02StorageAccountFile.png
[BrowseCloudStorage]: ./media/web-sites-restore/03BrowseCloudStorage.png
[StorageAccountFileSelected]: ./media/web-sites-restore/04StorageAccountFileSelected.png
[ChooseRestoreSettings]: ./media/web-sites-restore/05ChooseRestoreSettings.png
[ChooseDBServer]: ./media/web-sites-restore/06ChooseDBServer.png
[RestoreToNewSQLDB]: ./media/web-sites-restore/07RestoreToNewSQLDB.png
[NewSQLDBConfig]: ./media/web-sites-restore/08NewSQLDBConfig.png
[RestoredContosoWebSite]: ./media/web-sites-restore/09RestoredContosoWebSite.png
[DashboardOperationLogsLink]: ./media/web-sites-restore/10DashboardOperationLogsLink.png
[ManagementServicesOperationLogsList]: ./media/web-sites-restore/11ManagementServicesOperationLogsList.png
[DetailsButton]: ./media/web-sites-restore/12DetailsButton.png
[OperationDetails]: ./media/web-sites-restore/13OperationDetails.png
 

<!---HONumber=AcomDC_0504_2016-->