<properties
	pageTitle="Создание веб-приложения ASP.NET в службе приложений Azure | Microsoft Azure"
	description="В данном учебнике демонстрируется, как создать веб-проект ASP.NET в Visual Studio 2013 и развернуть его в веб-приложении в службе приложений Azure."
	services="app-service\web"
	documentationCenter=".net"
	authors="tdykstra"
	manager="wpickett"
	editor="jimbe"/>

<tags
	ms.service="app-service-web"
	ms.workload="web"
	ms.tgt_pltfrm="na"
	ms.devlang="dotnet"
	ms.topic="hero-article"
	ms.date="03/02/2015"
	ms.author="tdykstra"/>

# Создание веб-приложения ASP.NET в службе приложений Azure

> [AZURE.SELECTOR]
- [.Net](web-sites-dotnet-get-started.md)
- [Node.js](web-sites-nodejs-develop-deploy-mac.md)
- [Java](web-sites-java-get-started.md)
- [PHP — Git](web-sites-php-mysql-deploy-use-git.md)
- [PHP — FTP](web-sites-php-mysql-deploy-use-ftp.md)
- [Python](web-sites-python-ptvs-django-mysql.md)

## Обзор

В этом учебнике описано, как развернуть веб-приложение ASP.NET [в веб-приложение службы приложений Azure](app-service-web-overview.md) с помощью Visual Studio 2015. Этот учебник создан для разработчиков ASP.NET без опыта работы с Azure. По завершении изучения этого учебника вы получите простое веб-приложение, работающее в облаке.

На следующем рисунке показано завершенное приложение:

![Веб-приложение, выполняющееся в Azure](./media/web-sites-dotnet-get-started/GS13deployedsite.png)

Вы узнаете следующее:

* Как создать новое веб-приложение службы приложений во время создания веб-проекта в Visual Studio.
* Как развернуть веб-проект для веб-приложения службы приложений с помощью Visual Studio.
* Как использовать [портал Azure](/overview/preview-portal/) для мониторинга веб-приложения и управления им.

В конце руководства в разделе [Дальнейшие действия](#next-steps) указаны ссылки на другие руководства с подробной информацией об использовании службы приложений Azure.

> [AZURE.NOTE] Помогите нам оптимизировать содержание этого учебника. Если вы хотите, чтобы кроме вводных инструкций здесь описывались и другие темы, оставьте отзыв в [комментарии Disqus](#comments) в конце учебника.

[AZURE.INCLUDE [Предварительные требования](../../includes/app-service-web-dotnet-get-started-prereqs.md)]

## Создание проекта и веб-приложения

Прежде всего нужно создать веб-проект в Visual Studio и веб-приложение в службе приложений Azure. Далее следует развернуть проект в веб-приложении, чтобы предоставить к нему доступ в Интернете.

На следующей диаграмме пошагово показано создание и развертывание.

![Создание и развертывание](./media/web-sites-dotnet-get-started/Create_App.png)

1. Откройте Visual Studio 2015.

2. Щелкните **Файл > Создать > проект**.

3. В диалоговом окне **Новый проект** щелкните **Visual C# > Интернет > Веб-приложение ASP.NET**. (При желании вы можете выбрать **Visual Basic**.)

3. Убедитесь, что выбрана версия **.NET Framework 4.5.2**.

4.  Для мониторинга доступности, производительности и использования веб-приложения используется служба [Azure Application Insights](../application-insights/app-insights-overview.md). Флажок **Добавить Application Insights в проект** по умолчанию установлен при первом создании веб-проекта после установки Visual Studio. Если вы не хотите использовать Application Insights, снимите этот флажок.

4. Присвойте приложению имя **MyExample**.

5. Нажмите кнопку **ОК**.

	![Диалоговое окно "Новый проект"](./media/web-sites-dotnet-get-started/GS13newprojdb.png)

5. В диалоговом окне **Новый проект ASP.NET** выберите шаблон **MVC**.

7. Щелкните **Изменить проверку подлинности**.

	![Диалоговое окно "Новый проект ASP.NET"](./media/web-sites-dotnet-get-started/GS13changeauth.png)

6. В диалоговом окне **Изменить аутентификацию** щелкните **Без аутентификации** и нажмите кнопку **ОК**.

	![Без аутентификации](./media/web-sites-dotnet-get-started/GS13noauth.png)

	В этом руководстве мы создаем простое приложение, которое не поддерживает вход пользователя в систему.

5. В разделе **Microsoft Azure** диалогового окна **Новый проект ASP.NET** убедитесь, что флажок **Разместить в облаке** установлен и **Служба приложений** выбрана в раскрывающемся списке.

	![Диалоговое окно "Новый проект ASP.NET"](./media/web-sites-dotnet-get-started/GS13newaspnetprojdb.png)

	Эти параметры указывают, что Visual Studio создаст веб-приложение Azure для вашего веб-проекта.

6. Нажмите кнопку **ОК**.

5. Если вы еще не вошли в Azure, Visual Studio покажет запрос для того, чтобы это сделать. Войдите, введя идентификатор и пароль учетной записи, которая используется для управления подпиской Azure.

	Войдя, вы увидите диалоговое окно **Создание службы приложений**, где вам будет предложено выбрать ресурсы, которые требуется создать.

	![Выполнен вход в Azure](./media/web-sites-dotnet-get-started/configuresitesettings.png)

3. В диалоговом окне **Создание службы приложений** укажите **Имя веб-приложения** (оно должно быть уникальным в домене *azurewebsites.net*). Вы можете назвать приложение MyExample и добавить уникальный номер справа (например, MyExample810) или использовать уникальное имя, которое создается автоматически.

	Если кто-то уже использует введенное вами имя, вместо зеленой галочки справа появится красный восклицательный знак. Это значит, что нужно ввести другое имя.

	Azure будет использовать это имя в качестве префикса для URL-адреса приложения. Полный URL-адрес будет состоять из этого имени плюс *.azurewebsites.net* (как указано рядом с текстовым полем **Имя веб-приложения**). Например, если имя — `MyExample810`, URL-адрес будет `myexample810.azurewebsites.net`. URL-адрес должен быть уникальным.

6. В раскрывающемся списке **Группа ресурсов** щелкните **Создать** и введите имя "MyExample" (или любое другое имя).

	В этом поле со списком можно выбрать существующую группу ресурсов или создать отдельную, введя имя, которое отличается от имени любой существующей группы ресурсов в подписке.

	Группы ресурсов — это совокупность ресурсов Azure, таких как приложения API, базы данных, виртуальные машины и т. д. Для этого руководства рекомендуется создать новую группу ресурсов, так как это позволит быстро удалить все ресурсы Azure, созданные для работы с этим руководством. Дополнительные сведения см. в статье [Обзор диспетчера ресурсов Azure](../resource-group-overview.md).

4. Нажмите кнопку **Создать** возле раскрывающегося списка **План службы приложений**.

	![Диалоговое окно "Создание службы приложений"](./media/web-sites-dotnet-get-started/createas.png)

	На снимке экрана ниже показаны примеры значений в полях **Имя веб-приложения API**, **Подписка** и **Группа ресурсов**. Ваши значения будут другими.

	Далее мы создадим план службы приложений для новой группы ресурсов. План службы приложений определяет вычислительные ресурсы, на которых будет работать ваше приложение API. Например, если выбрать уровень "Бесплатный", ваше приложение будет работает на общих виртуальных машинах, тогда как при выборе некоторых платных уровней приложение будет работать на выделенных виртуальных машинах. Дополнительные сведения см. в статье [Обзор планов службы приложений](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md).

5. В диалоговом окне **Настройка плана службы приложений** в соответствующем поле введите "MyExamplePlan" или другое имя.

5. В раскрывающемся списке **Расположение** выберите ближайшее расположение.

	Этот параметр определяет, в каком центре обработки данных Azure будет выполняться приложение. При работе с учебником вы можете выбрать любой регион, и это не будет оказывать существенного влияния. Тем не менее для рабочего приложения необходимо, чтобы сервер располагался максимально близко к клиентам, которые осуществляют к нему доступ. Это позволит минимизировать [задержки](http://www.bing.com/search?q=web%20latency%20introduction&qs=n&form=QBRE&pq=web%20latency%20introduction&sc=1-24&sp=-1&sk=&cvid=eefff99dfc864d25a75a83740f1e0090).

5. В раскрывающемся списке **Размер** щелкните **Бесплатный**.

	Эта ценовая категория обеспечит достаточную производительность в рамках заданий этого руководства.

6. В диалоговом окне **Настройка плана службы приложений** нажмите кнопку **ОК**.

	![Диалоговое окно "Настройка службы приложений"](./media/web-sites-dotnet-get-started/configasp.png)

7. В диалоговом окне **Создание службы приложений** нажмите кнопку **Создать**.

	![Диалоговое окно "Создание службы приложений"](./media/web-sites-dotnet-get-started/clickcreate.png)

	За короткий промежуток времени, обычно не более минуты, Visual Studio создаст веб-проект и веб-приложение.

	В окне **обозревателя решений** отображаются файлы и папки нового проекта.

	![Обозреватель решений](./media/web-sites-dotnet-get-started/solutionexplorer.png)

	В окне **Действие службы приложений Azure** показывается, что веб-приложение было создано.

	![Создано веб-приложение](./media/web-sites-dotnet-get-started/GS13sitecreated1.png)

	Вы можете увидеть созданное веб-приложение в **Обозревателе облака**.

	![Создано веб-приложение](./media/web-sites-dotnet-get-started/siteinse.png)

## Развертывание проекта в веб-приложении

В данном разделе вы выполните развертывание веб-проекта в веб-приложение, как показано в действии 2 на схеме.

![Создание и развертывание](./media/web-sites-dotnet-get-started/Create_App.png)

1. В **Обозревателе решений** щелкните правой кнопкой проект и выберите пункт **Опубликовать**.

	![Выберите элемент "Публикация"](./media/web-sites-dotnet-get-started/choosepublish.png)

	Через несколько секунд откроется окно **мастера веб-публикации**. В мастере откроется *профиль публикации*, содержащий параметры для развертывания веб-проекта в новом веб-приложении. Если вы хотите выполнить развертывание в другом веб-приложении, откройте вкладку **Профиль** и создайте другой профиль. В этом руководстве вам нужно будет принять параметры, разворачивающие веб-приложение, которое было создано ранее.

8. На вкладке **Подключение** **мастера веб-публикации** нажмите кнопку **Далее**.

	![Успешно проверенное подключение](./media/web-sites-dotnet-get-started/GS13ValidateConnection.png)

	Следующая вкладка — **Параметры**. Здесь можно изменить конфигурацию сборки, выбрав отладочную версию для [удаленной отладки](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug). На вкладке также представлены несколько **параметров публикации файлов**:

	* "Удалить дополнительные файлы в месте назначения";
	* "Предварительно компилировать при публикации";
	* "Исключить файлы из папки App\_Data".

	В данном руководстве эти параметры не используются. Подробное описание этих параметров см. в статье [Как развертывать проект веб-приложения с помощью публикации одним щелчком в Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).

10. На вкладке **Параметры** нажмите кнопку **Далее**.

	![Вкладка "Параметры"](./media/web-sites-dotnet-get-started/GS13SettingsTab.png)

	Перейдите на вкладку **Предварительный просмотр**. На ней можно узнать, какие файлы будут скопированы из проекта в приложение API. Если вы развертываете проект в приложение API, в которое проект уже был развернут, копируются только измененные файлы. Чтобы просмотреть список файлов, которые будут скопированы, нажмите кнопку **Начать просмотр**.

11. На вкладке **Предварительный просмотр** нажмите кнопку **Опубликовать**.

	![Вкладка "Предварительный просмотр"](./media/web-sites-dotnet-get-started/GS13previewoutput.png)

	Когда вы нажмете кнопку **Опубликовать**, Visual Studio начнет копирование файлов на сервер Azure. Это может занять несколько минут.

	В окнах **Вывод** и **Действия службы приложений Azure** отображаются не только сведения о действиях, выполняемых при развертывании, но и отчет об успешном завершении развертывания.

	![Окно вывода с отчетом об успешном развертывании](./media/web-sites-dotnet-get-started/PublishOutput.png)

	После успешного развертывания URL-адрес развернутого веб-приложения автоматически открывается в используемом по умолчанию браузере, а созданное приложение теперь выполняется в облаке. URL-адрес в адресной строке браузера указывает на то, что веб-приложение загружается из Интернета.

	![Веб-приложение, выполняющееся в Azure](./media/web-sites-dotnet-get-started/GS13deployedsite.png)

> [AZURE.TIP] Для быстрого развертывания можно включить панель инструментов **Веб-публикация одним щелчком**. Щелкните **Вид > Панели инструментов**, а затем выберите элемент **Веб-публикация одним щелчком**. На панели инструментов можно выбрать профиль, нажать кнопку публикации или открыть мастер **публикации веб-сайта**. ![Панель инструментов веб-публикации одним щелчком](./media/web-sites-dotnet-get-started/weboneclickpublish.png)

## Мониторинг веб-приложения и управление им с помощью портала Azure

[Портал Azure](/services/management-portal/) — это веб-интерфейс, с помощью которого вы можете отслеживать работу служб Azure (например только что созданное веб-приложение), а также управлять ими. В этом разделе вы узнаете, что можно делать на портале.

1. В браузере перейдите по адресу [https://portal.azure.com](https://portal.azure.com) и войдите в систему с учетными данными, используемыми для управления учетной записью Azure.

2. Щелкните **Веб-приложения** и выберите имя веб-приложения.

	![Службы приложений на портале](./media/web-sites-dotnet-get-started/selinportal.png)

	В колонке **Веб-приложение** отображается сводка параметров и статистика использования веб-приложения. (Окна, которые открываются справа на портале, называются *колонками*.)

	![Колонка веб-приложения](./media/web-sites-dotnet-get-started/portaldashboard.png)

	До сих пор трафик вашего веб-приложения был незначительным, и на графике может ничего не отображаться. Если вы перейдете к своему приложению, обновите страницу несколько раз, а затем обновите страницу портала, и вы увидите, как будет отображаться некоторая статистика.

3. В колонке **Параметры** представлены дополнительные параметры конфигурации веб-приложения.

	![Колонка "Настройки"](./media/web-sites-dotnet-get-started/portalconfigure1.png)

	В этой колонке есть дополнительные разделы, которые не показаны на этом снимке экрана.

4. Щелкните **Параметры приложения** в разделе **Общее** колонки **Настройки**, чтобы отобразить примеры разных параметров, которые можно настроить на портале.

	Например, вы можете управлять версией .NET, используемой для веб-приложения, включать такие компоненты, как [WebSockets](/blog/2013/11/14/introduction-to-websockets-on-windows-azure-web-sites/), а также указывать [значения строки подключения](/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/).

	![Вкладка "Настройка веб-приложения"](./media/web-sites-dotnet-get-started/portalconfigure2.png)

Это всего лишь несколько функций, доступных на портале. Кроме этого, можно создавать новые веб-приложения, удалять существующие веб-приложения, останавливать и повторно запускать их, а также управлять различными службами Azure, такими как базы данных и виртуальные машины.

## Дальнейшие действия

Из этого учебника вы узнали, как создать простое веб-приложение и развернуть его в Azure. Ниже перечислены статьи и ресурсы с дополнительными сведениями о службе приложений Azure.

* Другие способы создания веб-приложений

	Вы узнали, как создать веб-приложение при создании проекта Visual Studio. Ресурсы Azure можно создать во время развертывания в Visual Studio так же, как вы делали это во время создания проекта. Веб-приложения можно также создавать с помощью [портала Azure](https://portal.azure.com/), [командлетов Azure для Windows PowerShell](../powershell-install-configure.md) или [кроссплатформенного интерфейса командной строки](../xplat-cli.md).

* Создание приложений API

	Вы узнали, как создать экземпляр службы приложений Azure, который предназначен главным образом для размещения веб-сайта. Служба приложений также имеет функции для упрощения разработки, тестирования и размещения интерфейсов API. Дополнительные сведения см. в статье [Приступая к работе с приложениями API и ASP.NET в службе приложений Azure](../app-service-api/app-service-api-dotnet-get-started.md).

* Другие способы развертывания веб-проекта

	Информацию о других способах развертывания веб-проектов в веб-приложения с помощью Visual Studio или [автоматизации развертывания](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) из [системы управления версиями](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) см. в разделе [Развертывание веб-приложения Azure](web-sites-deploy.md).

	Visual Studio может также создавать скрипты Windows PowerShell, которые можно использовать для автоматизации развертывания. Дополнительные сведения см. в разделе [Полная автоматизация (создание реальных облачных приложений в Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything).

* Как устранить неполадки веб-приложения

	Visual Studio предоставляет функции, упрощающие просмотр журналов Azure по мере их создания в режиме реального времени. Можно также работать в Azure удаленно в режиме отладки. Дополнительную информацию см. в разделе [Устранение неполадок веб-приложений Azure в Visual Studio](web-sites-dotnet-troubleshoot-visual-studio.md).

* Добавление настраиваемого доменного имени и SSL

	Информацию об использовании SSL и собственного домена (например, www.contoso.com вместо contoso.azurewebsites.net) см. в следующих статьях.

	* [Настройка личного доменного имени в службе приложений Azure](web-sites-custom-domain-name.md)
	* [Включение HTTPS для веб-приложения Azure](web-sites-configure-ssl-certificate.md)

* Как добавить работающие в режиме реального времени функции, например, чат

	Если ваше веб-приложение будет содержать функции, работающие в режиме реального времени (такие как служба чата, игра, тикер акций), максимальной производительности можно добиться, используя [ASP.NET SignalR](http://www.asp.net/signalr) с методом передачи [WebSockets](/blog/2013/11/14/introduction-to-websockets-on-windows-azure-web-sites/). Дополнительную информацию см. в разделе [Использование SignalR с веб-приложениями Azure](http://www.asp.net/signalr/overview/signalr-20/getting-started-with-signalr-20/using-signalr-with-windows-azure-web-sites).

* Как выбрать между службой приложений, облачными службами Azure и виртуальными машинами Azure для веб-приложений

	Веб-приложения в Azure можно выполнять в веб-приложениях службы приложений Azure, как показано в этом учебнике, а также в облачных службах и на виртуальных машинах. Дополнительные сведения см. в статье [Сравнение службы приложений, облачных служб и виртуальных машин Azure](/manage/services/web-sites/choose-web-app-service/).

<!---HONumber=AcomDC_0309_2016-->