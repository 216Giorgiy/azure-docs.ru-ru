<properties linkid="develop-net-how-to-guides-new-relic" urlDisplayName="New Relic" pageTitle="Использование New Relic с Azure - Руководства Azure" metaKeywords="" description="Использование службы New Relic для управления и для мониторинга приложения Azure." metaCanonical="" services="" documentationCenter=".NET" title="Управление производительностью приложений на платформе Azure с использованием New Relic" authors="" solutions="" manager="" editor="" />



#Средство управления производительностью приложений New Relic для Azure

В этом руководстве описывается, как добавить соответствующее мировым стандартам средство мониторинга производительности New Relic к приложениям Azure. Будет описан быстрый и простой процесс добавления New Relic к приложению, а также некоторые из новых возможностей New Relic. Дополнительные сведения об использовании New Relic см. в разделе [Использование New Relic](#using-new-relic)

Что такое New Relic?
--

New Relic — это средство для разработчиков, которое отслеживает рабочие приложения и предоставляет подробные сведения об их производительности и надежности. Это средство предназначается для экономии времени при идентификации и диагностики проблем с производительностью, а также предоставляет в ваше распоряжение сведения, необходимые для решения этих проблем.

New Relic отслеживает время загрузки и пропускную способность веб-транзакций как через сервер, так и через веб-браузеры пользователей. Это решение показывает, сколько времени вы проводите в базе данных, анализирует медленные запросы и веб-запросы, предоставляет функции мониторинга бесперебойной работы и предупреждения, отслеживает исключения в приложениях, а также предлагает многие другие функции.

Специальные цены на New Relic в Магазине Azure
--

New Relic Standard для пользователей Azure предлагается бесплатно
New Relic Pro предоставляется в зависимости от размера экземпляра для облачных служб Azure

Информацию по ценам см. в разделе [Страница New Relic в Магазине Azure](http://www.windowsazure.com/ru-ru/gallery/store/new-relic/new-relic/).

<div class="dev-callout"> 
<strong>Примечание.</strong>
<p>Указанная цена предполагает не более 10 вычислительных операций. Если количество вычислительных операций превышает 10, для уточнения цены обратитесь в New Relic (sales@newrelic.com).</p>
</div>

Клиенты Azure получают пробную двухнедельную подписку на New Relic Pro при развертывании агента New Relic.

Подписка на New Relic с использованием Магазина Azure
--

New Relic тесно интегрируется с веб-ролями и рабочими ролями Azure.

Чтобы подписаться на New Relic непосредственно из Магазина Azure выполните три простых шага, как указано далее.

### Шаг 1. Регистрация через Магазин Azure

1. Выполните вход на [портал управления Azure](https://manage.windowsazure.com).
2. В нижней части портала управления щелкните **Создать**.
3. Щелкните **Магазин**.
4. В диалоговом окне **Выберите надстройку** выберите **New Relic** и щелкните **Далее**.
5. В диалоговом окне **Настроить надстройку** выберите требуемый план New Relic.
6. Введите промо-код (при наличии).
7. Введите имя New Relic, которое будет отображаться в параметрах Azure, или используйте значение по умолчанию **NewRelic**. Это имя должно быть уникальным в списке элементов Магазина Azure, на которые вы подписались.
8. Выберите значение для региона, например **Запад США**.
9. Нажмите кнопку **Далее**.
10. В диалоговом окне **Просмотреть приобретение** просмотрите сведения о плане и ценах, а также ознакомьтесь с условиями. Если вы согласны с данными условиями, щелкните **Купить**.
11. После нажатия кнопки **Купить** начнется процесс создания учетной записи New Relic. Состояние можно отслеживать на портале управления Azure.
12. Чтобы получить лицензионный ключ для New Relic, нажмите кнопку **Выходные значения**. 
13. Скопируйте лицензионный ключ, который появится на экране. Его нужно будет ввести при установке пакета Nuget New Relic.

### Шаг 2. Установка пакета Nuget

1. Откройте решение Visual Studio или создайте новое решение, выбрав
   **Файл > Создать > Проект**.

	![Visual Studio](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget01.png)

2. Если в решении отсутствует проект облачной службы Azure, добавьте его, щелкнув правой кнопкой мыши приложение в обозревателе решений и выбрав **Добавить проект облачной службы Azure**.

	![Создать облачную службу](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget02.png)

3. Откройте консоль диспетчера пакетов, выбрав **Средства > Диспетчер пакетов библиотеки > 
   Консоль диспетчера пакетов**. Установите проект как проект по умолчанию в верхней части окна консоли диспетчера пакетов.

	![Консоль диспетчера пакетов](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget04.png)

4. В командной строке диспетчера пакетов введите `Install-Package
   NewRelicWindowsAzure` и нажмите клавишу **Ввод**.

	![установка в диспетчере пакетов](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget06.png)

5. При появлении соответствующего запроса введите лицензионный ключ, полученный в Магазине Azure.

	![введите лицензионный ключ](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget07.png)

6. Необязательно: в запросе на имя приложения введите имя приложения, которое будет отображаться в панели мониторинга New Relic. Или используйте имя решения по умолчанию.

	![введите имя приложения](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget08.png)

7. В обозревателе решений щелкните правой кнопкой проект облачной службы Azure и выберите **Опубликовать**.

	![публикация облачного проекта](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget09.png)


**Примечание.** Если это приложение развертывается в Azure впервые, вам будет предложено ввести учетные данные Azure. Дополнительные сведения см. в статье <a href="/ru-ru/develop/net/tutorials/get-started/">Развертывание веб-приложения ASP.NET на веб-сайте Azure</a>.

![Параметры публикации](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget10.png)

### Шаг 3. Проверка производительности приложения в New Relic.

Для просмотра панели мониторинга New Relic:

1. На портале Azure нажмите кнопку **Управление**.
2. Выполните вход с использованием адреса электронной почты и пароля для New Relic.
3. В строке меню New Relic выберите **Приложения > (название приложения)**.

	Автоматически отобразится панель мониторинга **Мониторинг > Обзор**.

	![Панель мониторинга New Relic](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelic_app.png)

	После выбора приложения из списка в меню **Приложения** на панели мониторинга **Обзор** будут показаны сведения о текущем сервере приложений, а также о браузере.

### <a id="using-new-relic"></a>Использование New Relic

После выбора приложения из списка в меню "Приложения" на панели мониторинга "Обзор" будут показаны сведения о текущем сервере приложений, а также о браузере. Для переключения между двумя представлениями щелкните кнопку **Сервер приложений** или **Браузер**.

В дополнение к функциям <a href="https://newrelic.com/docs/site/the-new-relic-ui#functions">стандартного пользовательского интерфейса New Relic</a> и <a href="https://newrelic.com/docs/site/the-new-relic-ui#drilldown">детализации панели мониторинга</a> на панели мониторинга "Обзор приложений" также доступны дополнительные функции.

<table border="1">
  <thead>
    <tr>
      <th><b>Если вы хотите...</b></th>
      <th><b>Выполните следующие действия...</b></th>
    </tr>
  </thead>
  <tbody>
    <tr>
       <td>Показать сведения о панели мониторинга для выбранного сервера приложений или браузера</td>
       <td>Нажмите кнопку <b>Сервер приложений</b> или <b>Браузер</b>.</td>
    </tr>
     <tr>
       <td>Просмотр пороговых значений оценки <a href="https://newrelic.com/docs/site/apdex" target="_blank">Apdex</a> по приложению</td>
       <td>Выберите значок оценки Apdex <b>?<b>.</b></b></td>
    </tr>
    <tr>
       <td>Просмотр сведений Apdex по всему миру</td>
       <td>В "Обзоре" в представлении <b>Браузер</b> выберите любую точку на карте Global Apdex.<br /><b>Подсказка.</b> Чтобы напрямую перейти к панели мониторинга <a href="https://newrelic.com/docs/site/geography" target="_blank">География</a>для выбранного приложения, щелкните заголовок <b>Global Apdex</b> или выберите любую точку на карте Global Apdex.</td>
    </tr>
    <tr>
       <td>Просмотр панели мониторинга <a href="https://newrelic.com/docs/applications-dashboards/web-transactions" target="_blank">Веб-транзакции</a> </td>
       <td>На панели мониторинга "Обзор приложений" выберите таблицу Веб-транзакции. Либо щелкните название транзакции для просмотра сведений о конкретной веб-транзакции (включая <a href="https://newrelic.com/docs/site/key-transactions" target="_blank">Ключевые транзакции</a>).</td>
    </tr>
    <tr>
       <td>Просмотр панели мониторинга <a href="https://newrelic.com/docs/site/errors" target="_blank">Ошибки</a> </td>
       <td>Щелкните заголовок диаграммы "Частота ошибок" на панели "Обзор приложений".<br /><b>Подсказка.</b> Можно также просмотреть панель мониторинга "Ошибки", выбрав <b>Приложения</b> &gt; (ваше приложение) &gt; События &gt; Ошибки.</td>
    </tr>
    <tr>
       <td>Просмотр сведений о сервере приложений</td>
       <td><p>Выполните любое из следующих действий:<p>
        <ul>
          <li>Переключитесь между табличным представлением узлов и представлением отдельных показателей по каждому узлу.</li>
          <li>Щелкните имя одного из серверов.</li>
          <li>Выберите оценку Apdex для одного из серверов.</li>
          <li>Выберите "Использование процессора" или "Память" одного из серверов.</li>
        </ul>
       </p></p></td>
    </tr>
  </tbody>
</table>

Ниже приведен пример панели мониторинга "Обзор приложений" при выборе представления "Браузер".

![Консоль диспетчера пакетов](./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelic_app_browser.png)

## Дальнейшие действия

Для получения дополнительных сведений используйте следующие ресурсы:

 * [Установка агента .NET в Azure](https://newrelic.com/docs/dotnet/installing-the-net-agent-on-azure): процедуры установки нового агента .NET Relic 
 * [Пользовательский интерфейс New Relic](https://newrelic.com/docs/site/the-new-relic-ui) 
Обзор пользовательского интерфейса New Relic, настройка прав пользователей и профилей с использованием стандартных функций и подробных сведений панели мониторинга
 * [Обзор приложений](https://newrelic.com/docs/site/applications-overview): возможности и функции при использовании панели мониторинга "Обзор приложений" в New Relic
 * [Apdex](https://newrelic.com/docs/site/apdex): Обзор способов, используемых Apdex для измерения степени удовлетворенности конечных пользователей приложением
 * [Мониторинг реального пользователя](https://newrelic.com/docs/features/real-user-monitoring): обзор способов, используемых RUM для подробного анализа времени, необходимого пользовательским браузерам для загрузки веб-страницы, размещения пользователей, а также используемых браузеров
 * [Поиск справки](https://newrelic.com/docs/site/finding-help): ресурсы, доступные через интерактивный центр справки New Relic

