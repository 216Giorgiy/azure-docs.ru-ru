<properties linkid="develop-net-how-to-guides-new-relic" urlDisplayName="New Relic" pageTitle="Using New Relic with Azure - Azure feature guides" metaKeywords="" description="Learn how to use the New Relic service to manage and monitor your Azure application." metaCanonical="" services="" documentationCenter=".NET" title="New Relic Application Performance Management on Azure" authors="" solutions="" manager="dwrede" editor="" />

<tags ms.service="cloud-services" ms.workload="tbd" ms.tgt_pltfrm="na" ms.devlang="dotnet" ms.topic="article" ms.date="01/01/1900" ms.author="new relic"></tags>

# Инструмент управления производительностью приложений New Relic для Azure

В этом руководстве показано, как добавить соответствующий мировым стандартам инструмент мониторинга производительности New Relic в свои приложения, размещенные в Azure. Вы узнаете, как быстро и просто добавить его в приложение, а также найдете описание некоторых функций New Relic. Дополнительные сведения об использовании New Relic см. в разделе [Использование New Relic][Использование New Relic]

## Что такое New Relic?

New Relic — это инструмент для разработчиков, который осуществляет мониторинг рабочих приложений и предоставляет подробные данные об их производительности и надежности. Таким образом, он позволяет быстрее выявлять и диагностировать возникающие проблемы с производительностью, а также предоставляет в ваше распоряжение данные, необходимые для решения этих проблем.

Инструмент New Relic отслеживает время загрузки и пропускную способность веб-транзакций как через сервер, так и через браузеры пользователей. Он позволяет увидеть, как долго вы пользуетесь базой данных, анализирует медленные запросы и веб-запросы, обеспечивает мониторинг бесперебойной работы и отображает соответствующие предупреждения, отслеживает исключения в приложениях, а также поддерживает множество других функций.

## Специальные цены на New Relic в Магазине Azure

New Relic Standard для пользователей Azure предлагается бесплатно. New Relic Pro предоставляется в зависимости от размера экземпляра для облачных служб Azure.

Информацию по ценам см. в разделе [Страница New Relic в Магазине Azure][Страница New Relic в Магазине Azure].

<div class="dev-callout"> 
<strong>Примечание.</strong>
<p>Версия, предлагаемая по указанной цене, поддерживает до 10&nbsp;вычислительных операций. Если количество вычислительных операций превышает 10, стоимость корпоративного лицензирования вы можете узнать непосредственно в компании New Relic (sales@newrelic.com).</p>
</div>

Клиенты Azure получают пробную двухнедельную подписку на New Relic Pro при развертывании агента New Relic.

## Подписка на New Relic с использованием Магазина Azure

New Relic тесно интегрируется с веб-ролями и рабочими ролями Azure.

Чтобы подписаться на New Relic непосредственно из Магазина Azure выполните три простых шага, как указано далее.

### Шаг 1. Регистрация через Магазин Azure

1.  Выполните вход на [портал управления Azure][портал управления Azure].
2.  В нижней части портала управления щелкните **Создать**.
3.  Нажмите кнопку **Магазин**.
4.  В диалоговом окне **Выберите надстройку** выберите **New Relic** и щелкните **Далее**.
5.  В диалоговом окне **Настроить надстройку** выберите нужный план New Relic.
6.  Введите промокод (при наличии).
7.  Введите имя службы New Relic, которое будет отображаться в параметрах Azure,
    или используйте значение по умолчанию **NewRelic**. Это имя должно быть уникальным
    в списке элементов Магазина Azure, на которые вы подписаны..
8.  Укажите регион, например **Запад США**.
9.  Нажмите кнопку **Далее**.
10. В диалоговом окне **Просмотреть приобретение** просмотрите информацию о плане и ценах,
    а также ознакомьтесь с условиями. Если вы согласны с данными условиями, щелкните **Купить**.
11. После нажатия кнопки **Купить** начнется процесс создания учетной записи New Relic. Состояние можно отслеживать на портале управления Azure.
12. Чтобы получить лицензионный ключ для New Relic, щелкните **Выходные значения**.
13. Скопируйте лицензионный ключ, который появится на экране. Его нужно будет ввести при установке пакета Nuget New Relic.

### Шаг 2. Установка пакета Nuget

1.  Откройте решение Visual Studio или создайте новое решение, выбрав
     **Файл -\> Создать -\> Проект**.

    ![Visual Studio][Visual Studio]

2.  Если в решении отсутствует проект облачной службы Azure, добавьте его, щелкнув правой кнопкой мыши приложение в обозревателе решений и выбрав **Добавить проект облачной службы Azure**.

    ![Создать облачную службу][Создать облачную службу]

3.  Откройте консоль диспетчера пакетов, выбрав **Средства -\> Диспетчер пакетов библиотеки -\> Консоль диспетчера пакетов**. Установите свой проект как проект по умолчанию в верхней части окна консоли диспетчера пакетов.

    ![Консоль диспетчера пакетов][Консоль диспетчера пакетов]

4.  В командной строке диспетчера пакетов введите `Install-Package    NewRelicWindowsAzure` и нажмите клавишу **ВВОД**.

    ![установка в диспетчере пакетов][установка в диспетчере пакетов]

5.  При появлении соответствующего запроса введите лицензионный ключ, полученный в Магазине Azure.

    ![введите лицензионный ключ][введите лицензионный ключ]

6.  Необязательно: В запросе имени приложения введите имя своего приложения, которое будет отображаться в панели мониторинга New Relic. Или используйте имя решения по умолчанию.

    ![введите имя приложения][введите имя приложения]

7.  В обозревателе решений щелкните правой кнопкой мыши проект облачной службы Azure и выберите **Опубликовать**.

    ![публикация облачного проекта][публикация облачного проекта]

**Примечание.** Если это приложение развертывается в Azure впервые, вам будет предложено ввести учетные данные Azure. Дополнительную информацию см. в статье [Развертывание веб-приложения ASP.NET на веб-сайте Azure][Развертывание веб-приложения ASP.NET на веб-сайте Azure].

![Параметры публикации][Параметры публикации]

### Шаг 3. Проверка производительности приложения в New Relic

Для просмотра панели мониторинга New Relic:

1.  На портале Azure нажмите кнопку **Управление**.
2.  Выполните вход, используя адрес электронной почты и пароль для New Relic.
3.  В строке меню New Relic выберите **Приложения -\> (имя приложения)**.

    Автоматически отобразится панель мониторинга **Мониторинг \> Обзор**.

    ![Панель мониторинга New Relic][Панель мониторинга New Relic]

    После выбора приложения из списка в меню **Приложения** на панели мониторинга **Обзор** будут показаны сведения о текущем сервере приложений, а также о браузере.

### <span id="using-new-relic"></span></a>Использование New Relic

После выбора приложения из списка в меню "Приложения" на панели мониторинга "Обзор" будут показаны сведения о текущем сервере приложений, а также о браузере. Для переключения между двумя представлениями щелкните кнопку **Сервер приложений** или **Браузер**.

В дополнение к функциям [стандартного пользовательского интерфейса New Relic][стандартного пользовательского интерфейса New Relic] и [детализации панели мониторинга][детализации панели мониторинга] на панели мониторинга "Обзор приложений" также доступны дополнительные функции.

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"><strong>Если вы хотите...</strong></th>
<th align="left"><strong>Выполните следующие действия...</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Показать сведения о панели мониторинга для выбранного сервера приложений или браузера</td>
<td align="left">Нажмите кнопку <strong>Сервер приложений</strong> или <strong>Браузер</strong>.</td>
</tr>
<tr class="even">
<td align="left">Просмотр пороговых значений оценки <a href="https://newrelic.com/docs/site/apdex">Apdex</a> по приложению.</td>
<td align="left">Выберите значок оценки Apdex <strong>?<strong>.</strong></strong></td>
</tr>
<tr class="odd">
<td align="left">Просмотр сведений Apdex по всему миру</td>
<td align="left">В разделе «Обзор» представления <strong>Браузер</strong> выберите любую точку на карте Global Apdex.<br /><strong>Совет.</strong> Чтобы напрямую перейти к панели мониторинга <a href="https://docs.newrelic.com/docs/new-relic-browser/geography-dashboard">География</a> для выбранного приложения, щелкните заголовок <strong>Global Apdex</strong> или выберите любую точку на карте Global Apdex.</td>
</tr>
<tr class="even">
<td align="left">Просмотр панели мониторинга <a href="https://newrelic.com/docs/applications-dashboards/web-transactions">Веб-транзакции</a></td>
<td align="left">На панели мониторинга «Обзор приложений» выберите таблицу «Веб-транзакции». Либо щелкните название транзакции, чтобы просмотреть информацию об определенной веб-транзакции (включая <a href="https://newrelic.com/docs/site/key-transactions">Ключевые транзакции</a>).</td>
</tr>
<tr class="odd">
<td align="left">Просмотр панели мониторинга <a href="https://newrelic.com/docs/site/errors">Ошибки</a></td>
<td align="left">На панели мониторинга «Обзор приложений» щелкните заголовок диаграммы «Частота ошибок».<br /><strong>Совет.</strong> Панель мониторинга также можно открыть, выбрав <strong>Приложения -&gt; (ваше приложение) &gt; События &gt; Ошибки</strong>.</td>
</tr>
<tr class="even">
<td align="left">Просмотр сведений о сервере приложений</td>
<td align="left"><p>Выполните любое из следующих действий:</p>
<p></p>
<ul>
<li>Переключитесь между табличным представлением узлов и представлением отдельных показателей по каждому узлу.</li>
<li>Щелкните имя одного из серверов.</li>
<li>Выберите оценку Apdex для одного из серверов.</li>
<li>Выберите &quot;Использование процессора&quot; или &quot;Память&quot; одного из серверов.</li>
</ul>
</p>
</p></td>
</tr>
</tbody>
</table>

Ниже приведен пример панели мониторинга "Обзор приложений" при выборе представления "Браузер".

![Консоль диспетчера пакетов][1]

## Дальнейшие действия

Для получения дополнительных сведений используйте следующие ресурсы:

-   [Установка агента .NET в Azure][Установка агента .NET в Azure]: процедуры установки агента .NET для New Relic.
-   [Пользовательский интерфейс New Relic][Пользовательский интерфейс New Relic]:
    обзор пользовательского интерфейса New Relic, настройка прав пользователей и профилей с использованием стандартных функций и подробных данных панели мониторинга.
-   [Обзор приложений][Обзор приложений]: возможности и функции при использовании панели мониторинга «Обзор приложений» в New Relic.
-   [Apdex][Apdex]: обзор способов, используемых Apdex для измерения степени удовлетворенности пользователей приложением.
-   [Мониторинг реального пользователя][Мониторинг реального пользователя]: обзор способов, используемых RUM для подробного анализа времени,
    необходимого пользовательским браузерам для загрузки веб-страниц, а также получения данных о регионе пребывания пользователей и используемых браузерах.
-   [Поиск справки][Поиск справки]: ресурсы, доступные через интерактивный центр справки New Relic.

  [Использование New Relic]: #using-new-relic
  [Страница New Relic в Магазине Azure]: http://www.windowsazure.com/ru-ru/gallery/store/new-relic/new-relic/
  [портал управления Azure]: https://manage.windowsazure.com
  [Visual Studio]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget01.png
  [Создать облачную службу]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget02.png
  [Консоль диспетчера пакетов]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget04.png
  [установка в диспетчере пакетов]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget06.png
  [введите лицензионный ключ]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget07.png
  [введите имя приложения]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget08.png
  [публикация облачного проекта]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget09.png
  [Развертывание веб-приложения ASP.NET на веб-сайте Azure]: /ru-ru/develop/net/tutorials/get-started/
  [Параметры публикации]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelicAzureNuget10.png
  [Панель мониторинга New Relic]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelic_app.png
  [стандартного пользовательского интерфейса New Relic]: https://newrelic.com/docs/site/the-new-relic-ui#functions
  [детализации панели мониторинга]: https://newrelic.com/docs/site/the-new-relic-ui#drilldown
  [Apdex]: https://newrelic.com/docs/site/apdex
  [География]: https://docs.newrelic.com/docs/new-relic-browser/geography-dashboard
  [Веб-транзакции]: https://newrelic.com/docs/applications-dashboards/web-transactions
  [Ключевые транзакции]: https://newrelic.com/docs/site/key-transactions
  [Ошибки]: https://newrelic.com/docs/site/errors
  [1]: ./media/store-new-relic-cloud-services-dotnet-application-performce-management/NewRelic_app_browser.png
  [Установка агента .NET в Azure]: https://newrelic.com/docs/dotnet/installing-the-net-agent-on-azure
  [Пользовательский интерфейс New Relic]: https://newrelic.com/docs/site/the-new-relic-ui
  [Обзор приложений]: https://newrelic.com/docs/site/applications-overview
  [Мониторинг реального пользователя]: https://newrelic.com/docs/features/real-user-monitoring
  [Поиск справки]: https://newrelic.com/docs/site/finding-help
