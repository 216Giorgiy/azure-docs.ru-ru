<properties
	pageTitle="Начало работы с серверной частью мобильных приложений HTML/JavaScript | Мобильные приложения службы приложений Azure"
	description="Изучите этот учебник, чтобы начать работу с серверным частями мобильных приложений Azure для разработки приложений HTML5 и JavaScript."
	services="app-service\mobile"
	documentationCenter=""
	authors="ggailey777"
	manager="dwrede"
	editor=""/>

<tags
	ms.service="app-service-mobile"
	ms.workload="mobile"
	ms.tgt_pltfrm="mobile-html5"
	ms.devlang="javascript"
	ms.topic="get-started-article"
	ms.date="11/18/2015"
	ms.author="glenga"/>


#Создание HTML-приложения

[AZURE.INCLUDE [app-service-mobile-selector-get-started](../../includes/app-service-mobile-selector-get-started.md)] 
&nbsp;  
<!--- [AZURE.INCLUDE [app-service-mobile-note-mobile-services](../../includes/app-service-mobile-note-mobile-services.md)]-->

>[AZURE.IMPORTANT] Этот раздел сейчас не поддерживается в мобильных приложениях, так как быстрый запуск для приложений HTML и JavaScript временно отключен на портале Azure. Мы планируем включить его в ближайшем будущем. Благодарим вас за терпение.

##Обзор

В этом руководстве показано, как добавить облачную серверную службу в веб-приложение HTML5 или JavaScript. Дополнительные сведения см. в статье [Что такое мобильные приложения?](app-service-mobile-value-prop.md)

Снимок экрана завершенного приложения приведен ниже:

![Снимок экрана готового приложения](./media/app-service-mobile-html-get-started/mobile-quickstart-completed-html.png)

Изучение этого учебника является необходимым условием для работы со всеми остальными учебниками, посвященными HTML-приложениям.

##Предварительные требования

Для работы с этим учебником требуется:

* Активная учетная запись Azure. Если у вас нет учетной записи, можно зарегистрироваться для получения бесплатной пробной версии Azure и получить до 10 бесплатных мобильных приложений, которые можно использовать и после окончания пробного периода. Дополнительные сведения см. в разделе [Бесплатная пробная версия Azure](https://azure.microsoft.com/pricing/free-trial/).

* [Visual Studio Community 2013] или более поздняя версия.

>[AZURE.NOTE] Если вы хотите ознакомиться со службой приложений Azure до создания учетной записи, перейдите на страницу [Пробное использование службы приложений](https://tryappservice.azure.com/?appServiceName=mobile), где вы можете быстро создать краткосрочное начальное мобильное приложение в службе приложений. Никаких кредитных карт и обязательств.

##Создание серверной части мобильного приложения

Чтобы создать серверную часть мобильного приложения, выполните указанные ниже действия.

[AZURE.INCLUDE [app-service-mobile-dotnet-backend-create-new-service](../../includes/app-service-mobile-dotnet-backend-create-new-service.md)]

Итак, вы подготовили серверную часть мобильного Azure, которая может использоваться мобильными клиентскими приложениями. Теперь скачайте серверный проект со списком простых задач и опубликуйте его в Azure.

## Скачивание проекта сервера

1. На [портале Azure] последовательно выберите элементы **Просмотреть все** > **Веб-приложения**, а затем щелкните только что созданную серверную часть мобильного приложения. 

2. В серверной части мобильного приложения щелкните **Все параметры**, а затем в разделе **Мобильное приложение** последовательно выберите пункты **Быстрый запуск** > **HTML/JavaScript**.

3. В диалоговом окне **Создание нового приложения** в разделе **Загрузка и запуск серверного проекта** щелкните **Загрузить**, извлеките сжатые файлы проекта на локальный компьютер и откройте решение в Visual Studio.

4. Создайте проект, чтобы восстановить пакеты NuGet.

##Включение CORS в серверном проекте

Общий доступ к ресурсам независимо от источника (CORS) позволяет веб-приложению указывать, запросы каких доменов безопасны и должны быть разрешены браузером. Вам необходимо добавить запись CORS для каждого веб-сайта, который будет обращаться к серверной части вашего мобильного приложения. Управлять параметрами CORS можно с помощью стандартных алгоритмов поведения веб-API ASP.NET. Дополнительные сведения см. в статье [Включение запросов независимо от источника в веб-API ASP.NET](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api#enable-cors).

По умолчанию клиентский проект быстрого запуска, который вы загрузите с портала, работает на локальном узле через порт 8000. Поэтому включите CORS для узла `http://localhost:8000` в серверном проекте.

1. В Visual Studio в меню «Сервис» последовательно выберите пункты **Диспетчер пакетов NuGet** > **Консоль диспетчера пакетов**, укажите Nuget.org в качестве **источника пакетов** и выполните в окне консоли следующую команду:
 
		Install-Package Microsoft.AspNet.WebApi.Cors  

2. Откройте файл проекта App\_Start/Startup.MobileApp.cs и добавьте указанный ниже оператор using.

		using System.Web.Http.Cors;

3. Когда вы создадите **HttpConfiguration** (*config*), добавьте указанный ниже код в метод **Startup.ConfigureMobileApp**:

        // Enable CORS support for localhost port 8000, all headers and methods.
        var cors = new EnableCorsAttribute("http://localhost:8000", "*", "*");
        config.EnableCors(cors);

4. Сохраните изменения.

Далее вы развернете проект с поддержкой CORS в Azure.

##Публикация серверного проекта в Azure

[AZURE.INCLUDE [app-service-mobile-dotnet-backend-publish-service](../../includes/app-service-mobile-dotnet-backend-publish-service.md)]

##Скачивание и выполнение клиентского проекта

1. Вернитесь в колонку серверной части мобильного приложения и щелкните **Все параметры**, а затем в разделе **Мобильное приложение** последовательно выберите пункты **Быстрый запуск** > **HTML/JavaScript**. 

2.  В диалоговом окне **Создание нового приложения** в разделе **Загрузка и запуск проекта HTML/Javascript** щелкните **Загрузить** и сохраните сжатые файлы проекта на локальный компьютер.

3. Перейдите в место, где сохранены сжатые файлы проекта, разверните файлы на своем компьютере и запустите один из следующих файлов команд в подпапке **server**.

	+ **launch-windows** (компьютеры с ОС Windows)
	+ **launch-mac.command** (компьютеры с ОС Mac OS X)
	+ **launch-linux.sh** (компьютеры с ОС Linux)

	> [AZURE.NOTE] На компьютере под управлением Windows нажмите клавишу `R`, когда в PowerShell появится запрос на запуск сценария. Веб-браузер может предупредить о том, что не следует запускать этот сценарий, так как он был загружен из Интернета. В этом случае необходимо указать, что браузеру следует продолжить загрузку сценария.

	Это приведет к запуску веб-сервера на локальном компьютере, где и будет размещено новое приложение.

4. Откройте URL-адрес <a href="http://localhost:8000/" target="_blank">http://localhost:8000/</a> в веб-браузере, чтобы запустить приложение. Клиентское приложение настраивается на подключение к серверной части мобильного приложения в Azure.

5. В приложении в поле _Введите новую задачу_ введите осмысленный текст, например **Завершение работы с учебником**, и нажмите кнопку **Добавить**.

   	![Выполнение приложения](./media/app-service-mobile-html-get-started/mobile-quickstart-startup-html.png)

   	После этого в серверную часть мобильного приложения, которая находится в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem в схеме мобильного приложения. Служба возвращает хранящиеся в таблице элементы, а данные отображаются в приложении во втором столбце.

	> [AZURE.TIP] Код, который обращается к вашей мобильной службе для запроса и вставки данных, можно просмотреть в файле app.js.

<!-- Anchors. -->
<!-- Images. -->
<!-- URLs. -->
[Get started with authentication]: app-service-mobile-windows-store-dotnet-get-started-users.md
[Mobile App SDK]: http://go.microsoft.com/fwlink/?LinkId=257545
[портале Azure]: https://portal.azure.com/

[Visual Studio Community 2013]: https://www.visualstudio.com/downloads
 

<!---HONumber=AcomDC_0128_2016-->