<properties
	pageTitle="Настройка проверки подлинности Google для приложения служб приложений"
	description="Настройка проверки подлинности Google для приложения служб приложений."
    services="app-service\mobile"
	documentationCenter=""
	authors="mattchenderson" 
	manager="dwrede"
	editor=""/>

<tags
	ms.service="app-service-mobile"
	ms.workload="mobile"
	ms.tgt_pltfrm="na"
	ms.devlang="multiple"
	ms.topic="article"
	ms.date="11/20/2015"
	ms.author="mahender"/>

# Как настроить приложение службы приложений для использования имени для входа Google

[AZURE.INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]&nbsp;

[AZURE.INCLUDE [app-service-mobile-note-mobile-services](../../includes/app-service-mobile-note-mobile-services.md)]

В этом разделе показано, как настроить службу приложений Azure для использования Google в качестве поставщика проверки подлинности.

Чтобы выполнить процедуру, описанную в этом разделе, необходимо иметь учетную запись Google с проверенным адресом электронной почты. Чтобы создать новую учетную запись Google, перейдите по ссылке [accounts.google.com](http://go.microsoft.com/fwlink/p/?LinkId=268302).

> [AZURE.NOTE]В этом разделе показано, как использовать проверку подлинности и функцию авторизации в службе приложений. В большинстве приложений они заменяют шлюз службы приложений. Отличия, связанные с использованием шлюза, описаны в примечаниях.


## <a name="register"> </a>Регистрация приложения с помощью Google

1. Войдите на [портал управления Azure] и перейдите к своему приложению. Скопируйте свой **URL-адрес**. Он будет использован для настройки приложения Google.
 
2. Перейдите на веб-сайт [Google apis](http://go.microsoft.com/fwlink/p/?LinkId=268303), войдите с учетными данными Google, выберите **Create Project** (Создать проект), укажите имя проекта в поле **Project name** (Имя проекта), а затем нажмите кнопку **Create** (Создать).

3. На панели навигации слева щелкните **API и авторизация**, а затем в разделе **API социальных сетей** щелкните **API Google+** > **Включить API**.

4. Щелкните **API и авторизация** > **Учетные данные** > **Экран согласия OAuth**, а затем выберите **электронный адрес**, введите **имя продукта** и нажмите кнопку **Сохранить**.

5. На вкладке **Учетные данные** щелкните **Добавить учетные данные** > **Идентификатор клиента OAuth 2.0**, а затем выберите **Веб-приложение**.

6. Вставьте **URL-адрес** службы приложений, скопированный ранее, в поле **Authorized JavaScript Origins** (Авторизованные источники JavaScript) и вставьте **универсальный код ресурса (URI) перенаправления**, скопированный ранее, в поле **Authorized Redirect URI** (Авторизованный URI перенаправления). Универсальный код ресурса (URI) перенаправления — это URL-адрес приложения, дополненный путем _/.auth/login/google/callback_. Например, `https://contoso.azurewebsites.net/.auth/login/google/callback`. Убедитесь, что используете схему HTTPS. Затем щелкните **Создать**.


	> [AZURE.NOTE]Если вместо функции аутентификации или авторизации службы приложений используется шлюз службы приложений, то в URL-адресе перенаправления используется URL-адрес шлюза, дополненный путем _/signin-google_.


7. На следующем экране запишите идентификатор клиента и секрет клиента.


    > [AZURE.IMPORTANT]Секрет клиента — это важные учетные данные безопасности. Не сообщайте этот секрет никому и не раскрывайте его в клиентском приложении.


## <a name="secrets"> </a>Добавление данных Google в приложение

> [AZURE.NOTE]Если используется шлюз службы приложений, пропустите этот раздел и перейдите к своему шлюзу на портале. Последовательно выберите пункты **Параметры**, **Идентификация**, а затем **Google**. Вставьте полученные ранее значения и нажмите кнопку **Сохранить**.


8. Вернитесь на [портал управления Azure] и перейдите к своему приложению. Щелкните **Параметры**, а затем **Аутентификация или авторизация**.

9. Если функция аутентификации или авторизации не включена, установите переключатель в положение **Вкл**.

10. Щелкните **Google**. Вставьте значения идентификатора и секретного кода приложения, полученные ранее, и, при необходимости, включите любые области, которые требуются приложению. Нажмите кнопку **ОК**.

    ![][1]

	По умолчанию служба приложений обеспечивает проверку подлинности, но не ограничивает авторизованный доступ к содержимому сайта и API. Авторизация пользователей должна быть включена в код приложения.

17. (Необязательно) Чтобы предоставить доступ к узлу только для пользователей, прошедших проверку подлинности в Google, установите для параметра **Действие, выполняемое, если запрос не прошел проверку подлинности** значение **Google**. В этом случае все запросы, не прошедшие проверку подлинности, направляются для проверки подлинности с помощью Google.

12. Щелкните **Сохранить**.

Теперь вы готовы использовать Google для проверки подлинности в приложении.

## <a name="related-content"> </a>Связанная информация

[AZURE.INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]


<!-- Anchors. -->

<!-- Images. -->

[0]: ./media/app-service-mobile-how-to-configure-google-authentication/mobile-app-google-redirect.png
[1]: ./media/app-service-mobile-how-to-configure-google-authentication/mobile-app-google-settings.png

<!-- URLs. -->

[Google apis]: http://go.microsoft.com/fwlink/p/?LinkId=268303

[портал управления Azure]: https://portal.azure.com/
 

<!---HONumber=AcomDC_1125_2015-->