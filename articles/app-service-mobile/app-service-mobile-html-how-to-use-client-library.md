<properties
	pageTitle="Как использовать пакет SDK JavaScript для мобильных приложений Azure"
	description="Как использовать v для мобильных приложений Azure"
	services="app-service\mobile"
	documentationCenter="javascript"
	authors="adrianhall"
	manager="erikre"
	editor=""/>

<tags
	ms.service="app-service-mobile"
	ms.workload="mobile"
	ms.tgt_pltfrm="html"
	ms.devlang="javascript"
	ms.topic="article"
	ms.date="06/29/2016"
	ms.author="adrianha;ricksal"/>

# Как использовать клиентскую библиотеку JavaScript для мобильных приложений Azure

[AZURE.INCLUDE [app-service-mobile-selector-client-library](../../includes/app-service-mobile-selector-client-library.md)]

В этом руководстве показано, как реализовать типичные сценарии с использованием последней версии [пакета SDK JavaScript для мобильных приложений Azure]. Если вы не знакомы с мобильными приложениями Azure, сначала изучите статью [Быстрый запуск мобильного приложения Azure], чтобы создать серверную часть и таблицу. В этом руководстве мы рассмотрим использование мобильного внутреннего сервера в веб-приложениях HTML и JavaScript.

##<a name="Setup"></a>Настройка и необходимые компоненты

В данном руководстве предполагается, что вы уже создали серверную часть с таблицей. В этом руководстве предполагается, что в таблице используется та же схему, что и в таблицах, приведенных в этих учебниках.

Установить пакет SDK JavaScript для мобильных приложений Azure можно с помощью команды `npm`.

```
npm install azure-mobile-apps-client --save
```

После установки библиотека находится в `node_modules/azure-mobile-apps-client/dist/MobileServices.Web.min.js`. Скопируйте этот файл в свою область Интернета.

```
<script src="path/to/MobileServices.Web.min.js"></script>
```

Библиотеку также можно использовать как модуль ES2015 в средах CommonJS, таких как Browserify и Webpack, а также как библиотеку AMD. Например:

```
# For ECMAScript 5.1 CommonJS
var WindowsAzure = require('azure-mobile-apps-client');
# For ES2015 modules
import * as WindowsAzure from 'azure-mobile-apps-client';
```

[AZURE.INCLUDE [app-service-mobile-html-js-library](../../includes/app-service-mobile-html-js-library.md)]

##<a name="auth"></a>Практическое руководство. Проверка подлинности пользователей

Служба приложений Azure поддерживает проверку подлинности и авторизацию пользователей с помощью различных внешних поставщиков идентификаторов: Facebook, Google, учетная запись Майкрософт и Twitter. Можно задать разрешения таблиц, чтобы предоставить доступ к определенным операциям только пользователям, прошедшим проверку подлинности. Удостоверения пользователей, прошедших проверку подлинности, также можно применять для реализации правил авторизации в серверных скриптах. Дополнительные сведения см. в учебнике [Приступая к работе с проверкой подлинности].

Поддерживается два потока аутентификации: серверный и клиентский. Серверный поток обеспечивает самый простой способ проверки подлинности, так как он использует веб-интерфейс проверки подлинности. Клиентский поток обеспечивает более тесную интеграцию с возможностями устройства, такими как единый вход, так как использует пакеты SDK конкретного поставщика.

[AZURE.INCLUDE [app-service-mobile-html-js-auth-library](../../includes/app-service-mobile-html-js-auth-library.md)]

###<a name="configure-external-redirect-urls"></a>Практическое руководство. Настройка службы мобильных приложений для внешних URL-адресов перенаправления.

Некоторые типы JavaScript приложений используют возможность замыкания на себя для обработки потоков пользовательского интерфейса OAuth. Это происходит, например, при локальном запуске службы, использовании динамической перезагрузки на платформе Ionic Framework либо перенаправлении к службе приложений для проверки подлинности. Это может вызвать проблемы, так как по умолчанию проверка подлинности службы приложений настроена только для доступа из серверной части мобильного приложения.

Следуйте инструкциям ниже, чтобы изменить параметры службы приложений для включения проверки подлинности из localhost.

1. Войдите на [портал Azure], перейдите к внутреннему серверу мобильного приложения, щелкните **Средства** > **Обозреватель ресурсов** > **Перейти**, чтобы открыть новое окно обозревателя ресурсов для серверной части мобильного приложения (сайт).

2. Разверните узел **config** своего приложения, затем последовательно щелкните **authsettings** > **Изменить**, найдите элемент **allowedExternalRedirectUrls**, который должен иметь значение null, и замените его следующим значением:

         "allowedExternalRedirectUrls": [
             "http://localhost:3000",
             "https://localhost:3000"
         ],

    Замените URL-адреса в массиве URL-адресами службы. В данном примере — это `http://localhost:3000` для локального образца службы Node.js. Можно также использовать адрес `http://localhost:4400` для службы Ripple или для других URL-адресов, в зависимости от настроек приложения.
    
3. В верхней части страницы щелкните **Чтение/запись**, затем нажмите кнопку **Разместить**, чтобы сохранить изменения.

    Вам по-прежнему необходимо добавить URL-адреса замыкания на себя в настройках белого списка CORS.

4. На [портале Azure] в серверной части мобильного приложения, щелкните **Все параметры** > **CORS**, добавьте в белый список URL-адреса замыкания на себя, а затем нажмите кнопку **Сохранить**.

После обновления серверной части мобильного приложения вы сможете использовать новые URL-адреса замыкания на себя в приложении.

<!-- URLs. -->
[Быстрый запуск мобильного приложения Azure]: app-service-mobile-cordova-get-started.md
[Приступая к работе с проверкой подлинности]: app-service-mobile-cordova-get-started-users.md
[Добавление проверки подлинности в приложение]: app-service-mobile-cordova-get-started-users.md

[пакета SDK JavaScript для мобильных приложений Azure]: https://www.npmjs.com/package/azure-mobile-apps-client
[документации по объектам запросов]: https://msdn.microsoft.com/ru-RU/library/azure/jj613353.aspx

<!----HONumber=AcomDC_0629_2016-->