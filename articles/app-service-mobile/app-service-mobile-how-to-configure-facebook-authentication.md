<properties
	pageTitle="Настройка проверки подлинности Facebook для приложения служб приложений"
	description="Настройка проверки подлинности Facebook для приложения служб приложений."
	services="app-service\mobile"
	documentationCenter=""
	authors="mattchenderson" 
	manager="dwrede"
	editor=""/>

<tags
	ms.service="app-service-mobile"
	ms.workload="mobile"
	ms.tgt_pltfrm="na"
	ms.devlang="multiple"
	ms.topic="article"
	ms.date="10/29/2015"
	ms.author="mahender"/>

# Как настроить приложение службы приложений для использования имени для входа Facebook

[AZURE.INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]&nbsp;

[AZURE.INCLUDE [app-service-mobile-note-mobile-services](../../includes/app-service-mobile-note-mobile-services.md)]

В этом разделе показано, как настроить службу приложений Azure для использования Facebook в качестве поставщика проверки подлинности.

Чтобы выполнить процедуру, описанную в этом разделе, необходимо иметь учетную запись Facebook с проверенным электронным адресом и номером мобильного телефона. Чтобы создать новую учетную запись Facebook, перейдите по ссылке [facebook.com].


	> [AZURE.NOTE]
	This topic demonstrates use of the App Service Authentication / Authorization feature. This replaces the App Service gateway for most applications. Differences that apply to using the gateway are called out in notes throughout the topic.


## <a name="register"> </a>Регистрация приложения с помощью Facebook

1. Войдите на [портал управления Azure] и перейдите к своему приложению. Скопируйте свой **URL-адрес**. Он понадобится для настройки приложения Facebook.
 
2. В другом окне браузера перейдите на веб-сайт [разработчиков для Facebook] и войдите, используя свои данные учетной записи Facebook.

3. (Необязательно) Если вы еще не зарегистрированы, нажмите кнопку **Приложения**, затем **Зарегистрироваться в качестве разработчика**, примите политику и выполните действия по регистрации.

4. Щелкните **Мои приложения**, затем — **Добавление нового приложения**.

5. Выберите **Веб-сайт** в качестве платформы. Укажите уникальное имя приложения и щелкните **Создать новый идентификатор приложения Facebook**.

6. Выберите категорию приложения из раскрывающегося списка. Затем щелкните **Создать идентификатор приложения**.

7. На следующей странице выберите **Пропустить быстрый запуск** в правом верхнем углу. Вы перейдете на панель мониторинга разработчика приложения.

8. В поле **Секрет приложения** щелкните **Показать**, при запросе укажите пароль, а затем запишите значения полей **Идентификатор приложения** и **Секрет приложения**. Вы настроите приложение для их использования позднее.

	> [AZURE.NOTE]**Примечание по безопасности**. Секрет клиента — это важные учетные данные безопасности. Не сообщайте этот секрет никому и не раскрывайте его в клиентском приложении.

9. В левой панели навигации щелкните **Параметры**. Введите **URL-адрес** мобильного приложения в поле **Домены приложения**, также введите **контактный адрес электронной почты**.

    ![][0]

10. Если вы не видите раздел веб-сайта, показанный ниже, щелкните **Добавить платформу** и выберите **Веб-сайт**. Введите **URL-адрес** мобильного приложения в поле **URL-адрес сайта**, а затем щелкните **Сохранить изменения**.

11. Перейдите на вкладку **Дополнительно** и добавьте **URI перенаправления** приложения в поле **Допустимые URI перенаправления OAuth**. После этого щелкните **Сохранить изменения**. Ваш универсальный код ресурса (URI) перенаправления — это URL-адрес приложения, дополненный путем _/.auth/login/facebook/callback_. Например, `https://contoso.azurewebsites.net/.auth/login/facebook/callback`. Убедитесь, что используете схему HTTPS.


	> [AZURE.NOTE]Если вместо функции аутентификации или авторизации службы приложений используется шлюз службы приложений, то в URL-адресе перенаправления используется URL-адрес шлюза, дополненный путем _/signin-facebook_.


12. Учетная запись Facebook, которая использовалась для регистрации приложения, является администратором приложения. На этом этапе только администраторы могут входить в приложение. Чтобы проверить подлинность других учетных записей Facebook, щелкните **Состояние и просмотр** в левой панели навигации. Затем щелкните **Yes** (Да), чтобы включить общий доступ.


## <a name="secrets"> </a>Добавление данных Facebook в приложение


	> [AZURE.NOTE]
	If using the App Service Gateway, ignore this section and instead navigate to your gateway in the portal. Select **Settings**, **Identity**, and then **Facebook**. Paste in the values you obtained earlier and click **Save**.


13. Вернитесь на [портал управления Azure] и перейдите к своему приложению. Щелкните **Параметры**, а затем **Аутентификация или авторизация**.

14. Если функция аутентификации или авторизации не включена, установите переключатель в положение **Вкл**.

15. Щелкните **Facebook**. Вставьте значения идентификатора и секретного кода приложения, полученные ранее, и, при необходимости, включите любые области, которые требуются приложению. Нажмите кнопку **ОК**.

    ![][1]
	
16. По умолчанию служба приложений предоставляет вход, но не ограничивает доступ к содержимому сайта и интерфейсов API: эти функции должны осуществляться кодом приложения. Если вы хотите полностью защитить сайт с помощью службы входа Facebook, выберите из раскрывающегося списка **Действие, выполняемое, если запрос не прошел проверку подлинности** пункт **Facebook**. Тогда аутентификация всех запросов будет обязательна. Запросы, не прошедшие аутентификацию, будут перенаправляться для входа с помощью Facebook.

17. Щелкните **Сохранить**.


Теперь вы можете использовать Facebook для проверки подлинности в приложении.

## <a name="related-content"> </a>Связанная информация

[AZURE.INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->
[0]: ./media/app-service-mobile-how-to-configure-facebook-authentication/app-service-facebook-dashboard.png
[1]: ./media/app-service-mobile-how-to-configure-facebook-authentication/mobile-app-facebook-settings.png

<!-- URLs. -->
[разработчиков для Facebook]: http://go.microsoft.com/fwlink/p/?LinkId=268286
[facebook.com]: http://go.microsoft.com/fwlink/p/?LinkId=268285
[Get started with authentication]: /ru-RU/develop/mobile/tutorials/get-started-with-users-dotnet/
[портал управления Azure]: https://portal.azure.com/

<!---HONumber=Nov15_HO4-->