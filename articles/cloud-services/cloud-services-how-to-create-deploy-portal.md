<properties
	pageTitle="Как создать и развернуть облачную службу (портал предварительной версии) | Microsoft Azure"
	description="Узнайте, как создать и развернуть облачную службу с помощью функции ";Быстрое создание"; в Azure. В этих примерах используется портал предварительной версии Azure."
	services="cloud-services"
	documentationCenter=""
	authors="Thraka"
	manager="timlt"
	editor=""/>

<tags
	ms.service="cloud-services"
	ms.workload="tbd"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="09/22/2015"
	ms.author="adegeo"/>




# Создание и развертывание облачной службы

> [AZURE.SELECTOR]
- [Azure portal](cloud-services-how-to-create-deploy.md)
- [Azure preview portal](cloud-services-how-to-create-deploy-portal.md)

Портал Azure предоставляет два способа создания и развертывания облачной службы: *быстрое создание* и *настраиваемое создание*.

В этой статье описывается быстрое создание облачной службы с последующим развертыванием соответствующего ей пакета в Azure с помощью функции **Отправка**. При выборе этого способа на портале Azure отображаются все необходимые для работы ссылки. Чтобы одновременно выполнить развертывание создаваемой облачной службы, воспользуйтесь функцией Настраиваемое создание.

> [AZURE.NOTE]Если вы планируете опубликовать облачную службу из Visual Studio Team Services (VSTS), воспользуйтесь функцией «Быстрое создание», а затем настройте публикацию VSTS на странице «Быстрый запуск» Azure или на панели мониторинга. Дополнительные сведения см. в разделе [Непрерывная доставка в Azure с использованием Visual Studio Team Service][TFSTutorialForCloudService], а также в справке для страницы **Быстрый запуск**.

## Основные понятия
Для развертывания приложения в качестве облачной службы в Azure необходимы три компонента:

- **Определение службы**. Файл определения службы (CSDEF-файл), задающий модель службы и некоторое количество ролей.

- **Конфигурация службы**. Файл конфигурации службы (CSCFG-файл), предоставляющий параметры конфигурации для облачной службы и отдельных ролей, включая число экземпляров ролей.

- **Пакет службы**. Пакет службы (CSPKG-файл) содержит код и конфигурации приложений, а также файл определения службы.

Дополнительную информацию об этих компонентах и создании пакета см. [здесь](cloud-services-model-and-package.md).

## Подготовка приложения
Перед развертыванием облачной службы необходимо создать пакет облачной службы (CSPKG-файл) на основе кода приложения и файл конфигурации облачной службы (CSCFG). Инструменты для подготовки необходимых файлов развертывания находятся в пакете SDK для Azure. Этот пакет можно установить со страницы [Загрузки Azure](http://azure.microsoft.com/downloads/) на языке, выбранном для разработки кода приложения.

Перед экспортом пакета службы необходимо отдельно настроить три компонента облачной службы:

- Если в развертываемой облачной службе будет применяться SSL-шифрование данных, настройте поддержку SSL для приложения. Дополнительные сведения см. в разделе [Настройка SSL-сертификата на конечной точке HTTPS](http://msdn.microsoft.com/library/azure/ff795779.aspx).

- Если будут использоваться подключения к удаленному рабочему столу для экземпляров роли, настройте роли соответствующим образом. Дополнительные сведения о подготовке файла определения службы для удаленного доступа см. в разделе [Настройка подключения к удаленному рабочему столу для роли в Azure](http://msdn.microsoft.com/library/hh124107.aspx).

- Чтобы включить подробный мониторинг для веб-службы, настройте для нее систему диагностики Azure. *Минимальный мониторинг* (по умолчанию) реализуется на основе счетчиков производительности основной операционной системы, собирающих данные для экземпляров ролей (виртуальные машины). *В рамках подробного мониторинга* для более тщательного анализа проблем обработки приложений отслеживаются дополнительные метрики в экземплярах ролей. Дополнительную информацию о включении диагностики в Azure см. в разделе [Включение диагностики в Azure](cloud-services-dotnet-diagnostics.md).

Чтобы создать облачную службу с развертыванием веб-ролей или рабочих ролей, необходимо создать соответствующий пакет службы. Более подробная информация о файлах, относящихся к такому пакету, приводится в разделе [Настройка облачной службы для Azure](http://msdn.microsoft.com/library/hh124108.aspx). Чтобы создать файл пакета, ознакомьтесь с разделом [Создание пакета приложения Azure](http://msdn.microsoft.com/library/hh403979.aspx). При использовании Visual Studio для разработки приложения следует обратиться к разделу [Публикация облачной службы с помощью инструментов Azure](http://msdn.microsoft.com/library/ff683672.aspx).

## Перед началом работы

- Если пакет SDK для Azure не установлен, щелкните **Установить пакет Azure SDK**. Откроется страница [Загрузки Azure](http://azure.microsoft.com/downloads/), откуда можно скачать пакет SDK для языка, выбранного для разработки кода приложения. (Также это можно сделать позднее.)

- Для экземпляров роли с сертификатами создайте сертификаты. В облачных службах используется PFX-файл с закрытым ключом. Сертификаты можно отправить в Azure как при создании, так и при развертывании облачной службы. Дополнительную информацию о сертификатах см. в разделе [Управление сертификатами](http://msdn.microsoft.com/library/gg981929.aspx).

- Если планируется развертывание облачной службы в территориальной группе, создайте соответствующую группу. Территориальные группы предназначены для развертывания облачной и других служб Azure в одном расположении региона. Чтобы создать такую группу, откройте область **Сети** портала Azure и перейдите на страницу **Территориальные группы**. Дополнительные сведения см. в разделе [Создание территориальной группы на портале управления](http://msdn.microsoft.com/library/jj156209.aspx).


## Шаг 3. Создание облачной службы и загрузка пакета развертывания

1. Выполните вход на [портал предварительной версии Azure][].
2. Щелкните **Создать > Среда выполнения приложений**, затем прокрутите вниз и щелкните **Облачная служба**.

    ![Публикация облачной службы](media/cloud-services-how-to-create-deploy-portal/create-cloud-service.png)

3. В колонке новой **облачной службы** введите **DNS-имя**.
4. Создайте новую **группу ресурсов** или выберите существующую.
5. Выберите **расположение**.
6. Выберите **Пакет** и заполните обязательные поля в колонке **Загрузите пакет**.  

     Если какая-либо из ролей содержит отдельный экземпляр, убедитесь, что установлен флажок **Развернуть, даже если одна или несколько ролей содержат отдельный экземпляр**.

7. Убедитесь, что флажок **Запустить развертывание** установлен.
8. Нажмите кнопку **ОК**.

    ![Публикация облачной службы](media/cloud-services-how-to-create-deploy-portal/select-package.png)

## Загрузить сертификат

Если пакет развертывания был [настроен для использования сертификатов](cloud-services-configure-ssl-certificate-portal.md#modify), теперь можно передать сертификат.

9. Выберите **Сертификаты** и в колонке **Добавить сертификаты** выберите PFX-файл SSL-сертификата и укажите **Пароль** сертификата.
10. Щелкните **Присоединить сертификат** и нажмите кнопку **ОК** в колонке **Добавить сертификаты**.
11. Щелкните **Создать** в колонке **Облачная служба**. Когда развертывание получит статус **Готово** можно выполнять следующие шаги.

    ![Публикация облачной службы](media/cloud-services-how-to-create-deploy-portal/attach-cert.png)


## Проверка успешного завершения развертывания

1. Щелкните экземпляр облачной службы.

	В строке состояния должна отображаться информация о том, что служба **Запущена**.

2. В разделе **Основное** щелкните **URL-адрес сайта**, чтобы открыть облачную службу в веб-браузере.

    ![CloudServices\_QuickGlance](./media/cloud-services-how-to-create-deploy-portal/running.png)


[TFSTutorialForCloudService]: http://go.microsoft.com/fwlink/?LinkID=251796&clcid=0x409

## Дальнейшие действия

* [Общая настройка облачной службы](cloud-services-how-to-configure-portal.md).
* Настройте [пользовательское доменное имя](cloud-services-custom-domain-name-portal.md).
* [Управляйте облачной службой](cloud-services-how-to-manage-portal.md).
* Настройте [SSL-сертификаты](cloud-services-configure-ssl-certificate-portal.md).

<!---HONumber=Nov15_HO4-->