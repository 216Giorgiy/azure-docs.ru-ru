<properties
	pageTitle="Что делать, если прерывание работы службы Azure влияет на облачные службы Azure | Microsoft Azure"
	description="Узнайте, что делать, если прерывание работы службы Azure влияет на облачные службы Azure."
	services="cloud-services"
	documentationCenter=""
	authors="kmouss"
	manager="drewm"
	editor=""/>

<tags
	ms.service="cloud-services"
	ms.workload="cloud-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="05/16/2016"
	ms.author="kmouss;aglick"/>

#Что делать, если прерывание работы службы Azure влияет на облачные службы Azure

Корпорация Майкрософт прилагает все усилия для того, чтобы наши службы всегда были доступны. Иногда по независящим от нас обстоятельствам происходят незапланированные нарушения работы служб.

Корпорация Майкрософт предоставляет соглашения об уровне обслуживания (SLA) для своих служб, в которых гарантируется их время бесперебойной работы и доступность. Соглашения об уровне обслуживания для отдельных служб Azure можно найти в разделе [Соглашения об уровне обслуживания Azure](https://azure.microsoft.com/support/legal/sla/).

В платформе Azure уже имеется множество встроенных возможностей для поддержки высокодоступных приложений. Дополнительные сведения об этих службах см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](https://aka.ms/drtechguide).

В этой статье описывается действительный сценарий аварийного восстановления, при котором из-за масштабного стихийного бедствия или обширного прерывания работы службы весь регион оказывается подвержен сбою. Такие события происходят нечасто, но необходимо быть готовыми к тому, что сбой всего региона возможен. Если весь регион испытывает перебои в работе службы, то локально избыточные копии ваших данных становятся временно недоступными. Если включена георепликация, то в другом регионе будут храниться три дополнительные копии больших двоичных объектов и таблиц службы хранилища Azure. В случае сбоя всего региона или аварии, при которой основной регион не может быть восстановлен, Azure перераспределяет все DNS-записи в геореплицированный регион.

>[AZURE.NOTE]Учтите, что этот процесс нельзя контролировать, и он выполняется только при нарушениях работы службы на уровне центра обработки данных. Поэтому для обеспечения самого высокого уровня доступности необходимо также использовать и другие стратегии архивации приложения. Дополнительные сведения см. в разделе [Стратегии аварийного восстановления для данных](https://aka.ms/drtechguide#DSDR). Если вы хотите повлиять на отработку отказа, попробуйте использовать [геоизбыточное хранилище с доступом только для чтения (RA-GRS)](../storage/storage-redundancy.md#read-access-geo-redundant-storage), которое создает в другом регионе копию ваших данных с доступом только для чтения.

Чтобы помочь вам в таких ситуациях, мы предлагаем следующие рекомендации для виртуальных машин Azure. Эти рекомендации нужно применять в случае сбоя службы для всего региона, в котором развернуто приложение виртуальной машины Azure.

##Вариант 1. ожидание восстановления
В этом случае вам не нужно предпринимать какие-либо действия. Знайте, что команда Azure активно работает над восстановлением доступности службы. Текущее состояние службы можно просмотреть на [панели мониторинга работоспособности служб Azure](https://azure.microsoft.com/status/).

>[AZURE.NOTE]Это наилучший вариант, если клиент не настроил Azure Site Recovery или у него есть дополнительное развертывание в другом регионе.

Для клиентов, которым требуется немедленный доступ к своим развернутым облачным службам, доступны следующие варианты.

>[AZURE.NOTE]Учтите, что при их использовании возможна потеря части данных.

##Вариант 2. Повторное развертывание конфигурации облачной службы в новом регионе

При наличии исходного кода можно просто повторно развернуть приложение, соответствующую конфигурацию и ресурсы в новой облачной службе в новом регионе.

Дополнительные сведения о том, как создавать и развертывать приложения облачной службы, см. в разделе [Создание и развертывание облачной службы](./cloud-services-how-to-create-deploy-portal.md).

В зависимости от источников данных приложения может потребоваться проверка процедур восстановления для источника данных приложения.
  * Для источников данных службы хранилища Azure обратитесь к разделу [Репликация службы хранилища Azure](../storage/storage-redundancy.md#read-access-geo-redundant-storage), чтобы узнать, какие варианты действий доступны на основе выбранной модели репликации приложения.
  * Аналогичные сведения для источников данных базы данных SQL приведены в разделе [Обзор. Непрерывность облачных бизнес-процессов и аварийное восстановление баз данных с базой данных SQL](../sql-database/sql-database-business-continuity.md).

##Вариант 3. Использование резервного развертывания с помощью диспетчера трафика Azure
В этом случае предполагается, что решение для приложения было изначально создано с учетом регионального аварийного восстановления. Этот вариант может использоваться, если у вас уже есть дополнительное развертывание приложения облачных служб, которое работает в другом регионе и подключено через канал диспетчера трафика. В этом случае проверьте работоспособность дополнительного развертывания. Если оно работоспособно, то можно перенаправить трафик в него через диспетчер трафика Azure. С помощью этой стратегии можно воспользоваться преимуществами метода маршрутизации трафика и конфигурациями порядка отработки отказа в диспетчере трафика Azure. Дополнительную информацию см. в разделе [Как настроить параметры диспетчера трафика](../traffic-manager/traffic-manager-overview.md#how-to-configure-traffic-manager-settings).

![Балансировка облачных служб Azure по регионам с помощью диспетчера трафика Azure](./media/cloud-services-disaster-recovery-guidance/using-azure-traffic-manager.png)

##Дальнейшие действия

Чтобы больше узнать о том, как реализовать стратегию обеспечения аварийного восстановления и высокого уровня доступности, ознакомьтесь с разделом [Аварийное восстановление и высокий уровень доступности для приложений Azure](https://aka.ms/drtechguide).

Чтобы досконально изучить технические возможности облачной платформы, ознакомьтесь с [техническим руководством по обеспечению непрерывности бизнес-процессов Azure](https://aka.ms/bctechguide).

Если инструкции не ясны или вы хотите, чтобы корпорация Майкрософт выполнила эти действия от вашего имени, свяжитесь со [службой поддержки клиентов](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade).

<!---HONumber=AcomDC_0615_2016-->