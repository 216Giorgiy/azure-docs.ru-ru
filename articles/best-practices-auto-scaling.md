<properties
   pageTitle="Руководство по автоматическому масштабированию | Microsoft Azure"
   description="Рекомендации относительно автоматического масштабирования для динамического распределения ресурсов, необходимых приложению."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="04/28/2015"
   ms.author="masashin"/>

# Руководство по автоматическому масштабированию

![](media/best-practices-auto-scaling/pnp-logo.png)

## Обзор
Автоматическое масштабирование — это процесс динамического выделения ресурсов, необходимых приложению для обеспечения соответствия требованиям к производительности и выполнения соглашения уровня обслуживания (SLA) при одновременном сведении к минимуму затрат на выполнение. При увеличении объема работы приложению могут потребоваться дополнительные ресурсы, чтобы оно могло выполнять свои задачи своевременно. По мере уменьшения объема работы можно отменить выделение ресурсов, чтобы свести к минимуму затраты при одновременном поддержании достаточной производительности и обеспечении соответствия требованиям соглашений об уровне обслуживания. Автоматическое масштабирование использует преимущества эластичности облачной среды при уменьшении издержек на управление, позволяя оператору реже отслеживать производительность системы и принимать решения о добавлении или удалении ресурсов.
> Автоматическое масштабирование применяется ко всем ресурсам, используемым приложением, а не только вычислительным ресурсам. Например, если в системе используется очередь сообщений для отправки и получения сведений, она может создать дополнительные очереди по мере увеличения нагрузки.

## Типы масштабирования
Масштабирование обычно бывает двух видов: вертикальное и горизонтальное масштабирование.

- **Вертикальное масштабирование** (часто называется _масштабированием вверх и вниз_) требует внесения изменений в оборудование (расширение или сокращение емкости и производительности) или повторного развертывания решения с помощью альтернативного оборудования, у которого имеются соответствующие емкости и производительность. В облачной среде аппаратная платформа обычно является виртуализированной средой. За исключением случаев, когда исходное оборудование имеет значительный избыточный резерв, включающий последующие авансовые капитальные затраты, вертикальное масштабирование в этой среде включает в себя подготовку ресурсов более мощных ресурсов и последующий перенос системы на эти новые ресурсы. Вертикальное масштабирование чаще всего приводит к нарушению работы системы, в результате чего система становится временно недоступна, пока выполняется развертывание. Можно сделать так, чтобы исходная система продолжала работать во время подготовки нового оборудования и была переведена в режим онлайн, однако при этом вероятнее всего будут возникать некоторые прерывания во время обработки переходов из старой среды в новую. Автоматическое масштабирование редко используют для реализации стратегии вертикального масштабирования.
- **Горизонтальное масштабирование** (часто называется _масштабирование наружу или внутрь_) требует развертывания решения на дополнительных или на более меньшем количестве ресурсов, которыми обычно являются ресурсы снабжения, а не мощные системы. Во время подготовки этих ресурсов решение может продолжать работать без прерывания. По завершении процесса подготовки копии элементов, составляющие решение, можно развернуть на этих дополнительных ресурсах и сделать их доступными. Когда спрос на ресурсы снижается, дополнительные ресурсы можно освободить, после того как работа использующих их элементов была завершена без ошибок. Многие облачные системы, включая Microsoft Azure, поддерживают автоматизацию масштабирования этого вида.

## Реализация стратегий автоматического масштабирования
Реализация стратегий автоматического масштабирования обычно включает в себя следующие компоненты и процессы:

- Системы инструментирования и мониторинга на уровне приложения, службы и инфраструктуры, которые фиксируют такие ключевые метрики, как время ответа, длины очередей, использование ЦП и памяти.
- Логика принятия решений, с помощью которой можно оценить отслеживаемые коэффициенты масштабирования относительно стандартных системных пороговых значений или расписаний, а также принимать решения относительно необходимость масштабирования.
- Компоненты, которые отвечают за выполнение задач, связанных с масштабированием системы (например, за подготовку или отмену подготовки ресурсов).
- Тестирование, мониторинг и настройка стратегии автоматического масштабирования, чтобы убедиться в том, что она работает ожидаемым образом.

В большинстве облачных сред, таких как Microsoft Azure, имеются встроенные механизмы автоматического масштабирования, которые подходят для распространенных сценариев. Если среда или служба, которую вы используете, не предоставляет необходимые функции автоматического масштабирования или имеющихся возможностей недостаточно для решения этой задачи, может потребоваться настраиваемая реализация для собора рабочих и системных метрик и их анализа для определения необходимых данных и последующего масштабирования ресурсов соответствующим образом.

## Рекомендации относительно реализации автоматического масштабирования
Автоматическое масштабирование не реализуется мгновенно. Простое добавление ресурсов в систему или ввод в эксплуатацию большего числа экземпляров процесса не гарантирует, что это приведет к повышению производительности системы. При разработке стратегии автоматического масштабирования необходимо учитывать следующее.

- Система должна поддерживать возможность горизонтального масштабирования. Избегайте делать предположения относительно определения экземпляра; не создавайте решения, которые требуют, чтобы код всегда выполнялся в конкретном экземпляре процесса. При масштабировании облачной службы или веб-сайта не следует предполагать, что последовательность запросов из одного и того же источника всегда будет направляться в один и тот же экземпляр. По этой же причине службы следует разрабатывать без сохранения состояния. Это позволит избежать того, чтобы серия запросов из приложения всегда направлялась в тот же экземпляр службы. При разработке службы, которая считывает сообщения из очереди и обрабатывает их, не делайте никаких предположений о том, какой экземпляр службы обрабатывает определенное сообщение, поскольку функция автоматического масштабирования может запустить дополнительные экземпляры службы при увеличении длины очереди. В статье [Шаблон конкурирующих потребителей](http://msdn.microsoft.com/library/dn568101.aspx) описывается, как обрабатывать этот сценарий.
- Если решение реализует длительно выполняемую задачу, то такую задачу следует создать так, чтобы она поддерживала как масштабирование наружу, так и масштабирование внутрь. Без соответствующей разработки такая задача может помешать аккуратному завершению работы экземпляра процесса при масштабировании системы внутрь, или же она может привести к потере данных, если процесс принудительно завершен. В идеале для длительно выполняемой задачи следует выполнить рефакторинг и разбить процесс обработки, которую он выполняет, на отдельные фрагменты. В статье [Шаблон каналов и фильтров](http://msdn.microsoft.com/library/dn568100.aspx) представлен пример того, как этого можно добиться. Кроме того, можно реализовать механизм контрольных точек, который регулярно записывает сведения о состоянии задачи через определенные интервалы времени, а затем сохраняет это состояние в долговременном хранилище, доступ к которому может получить любой экземпляр процесса, выполняющего задачу. Таким образом, если процесс завершен, работу, которую он выполнял, можно возобновить с последней контрольной точки с помощью другого экземпляра.
- Когда фоновые задачи выполняются в отдельных вычислительных операциях, таких как рабочие роли облачных служб, в которых размещено приложение, может потребоваться масштабировать различные части приложения, используя для этого различные политики масштабирования. Например, может потребоваться развернуть дополнительные вычислительные операции пользовательского интерфейса без увеличения числа фоновых экземпляров вычислительных операций, или наоборот. Если предлагаются различные уровни обслуживания (например, пакеты служб Basic и Premium), может потребоваться масштабировать вычислительные ресурсы для пакетов служб Premium активнее, чем для пакета служб Basic, чтобы обеспечить соблюдение требований соглашения об уровне обслуживания.
- Рассмотрите возможность использования длины очереди, через которую взаимодействуют пользовательский интерфейс и фоновые вычислительные операции, в качестве ведущего элемента стратегии автоматического масштабирования. Это лучший показатель несоответствия или различия между текущей нагрузкой и производительностью обработки фоновой задачи.
- Если стратегия автоматического масштабирования основана на счетчиках, измеряющих бизнес-процессы (например, количество заказов, размещенных в час, или среднее время выполнения сложной транзакции), убедитесь в том, что вы полностью понимаете связь между результатами, получаемыми от этих типов счетчиков, и требованиями к фактической емкости вычислительных ресурсов. В ответ на изменения в данных, поступаемых от счетчиков бизнес-процессов, может потребоваться масштабировать несколько компонентов или единиц вычисления.  
- Чтобы предотвратить попытки системы выполнить чрезмерное масштабирование и избежать затрат, связанных с выполнением тысяч экземпляров, рекомендуется ограничить максимальное количество экземпляров, которые можно добавлять автоматически. Большинство механизмов автоматического масштабирования позволяют указать минимальное и максимальное число экземпляров для правила. Кроме того, рекомендуется корректно снизить функциональные возможности системы, если развернуто максимальное количество экземпляров, но система по-прежнему перегружена.
- Помните, что автоматическое масштабирование может оказаться не таким уж и полезным механизмом в случае внезапного резкого увеличения рабочей нагрузки. Для подготовки и запуска новых экземпляров службы или добавления ресурсов в систему требуется время, а к моменту, когда эти дополнительные ресурсы станут доступны, пик нагрузки может пройти. В этом случае лучше всего подходит регулирование службы. Дополнительные сведения см. в статье [Шаблон регулирования](http://msdn.microsoft.com/library/dn589798.aspx).
- И наоборот, если требуется вычислительная мощность для обработки всех запросов, когда объем изменяется достаточно быстро, а стоимость не является определяющим фактором, рассмотрите возможность использования стратегии агрессивного автоматического масштабирования, в рамках которой дополнительные экземпляры запускаются быстрее, или вариант применения запланированной политики, которая запускает достаточное количество экземпляров для обработки максимальной нагрузки до того, когда эта нагрузка ожидается.
- Механизм автоматического масштабирования должен наблюдать за процессом автоматического масштабирования и фиксировать подробные сведения о каждом событии автоматического масштабирования (что стало причиной, какие ресурсы были добавлены или удалены и когда). При создании настраиваемого механизма автоматического масштабирования обязательно реализуйте в нем эту функциональную возможность. Полученные сведения можно проанализировать, чтобы измерить эффективность стратегии автоматического масштабирования и при необходимости подстроить ее — как в краткосрочной перспективе, по мере того, как шаблоны использования становятся более очевидными, так и в долгосрочной перспективе, по мере расширения бизнеса или изменения требований приложения. Если приложение достигает верхнего предела, определенного для автоматического масштабирования, механизм может также оповестить оператора, который может вручную запустить дополнительные ресурсы, если это оправдано ситуацией. Обратите внимание, что при этих обстоятельствах оператор также может отвечать за удаление этих ресурсов вручную после снижения рабочей нагрузки.

## Автоматическое масштабирование в решении Azure
Существует несколько вариантов настройки автоматического масштабирования для решений Azure.

- **Автоматическое масштабирование Azure.** Эта функция поддерживает наиболее распространенные сценарии масштабирования по расписанию, а также, дополнительно, запущенные операции масштабирование на основе метрик среды выполнения (таких как загрузка процессора, длина очереди, а также данные, получаемые от встроенных и настраиваемых счетчиков). Можно быстро и с легкостью настроить простые политики автоматического масштабирования для решения, воспользовавшись для этого порталом управления Azure. Также можно использовать библиотеку управления служб мониторинга Azure для более точной настройки правил автоматического масштабирования. Дополнительные сведения см. в разделе [Библиотека управления служб мониторинга Azure](#the-azure-monitoring-services-management-library).
- **Пользовательское решение** на основе функций диагностики, мониторинга и управления службой Azure. Например, можно использовать функцию диагностики Azure, пользовательский код или [пакет управления System Center для Azure](http://www.microsoft.com/download/details.aspx?id=38414) для непрерывного отслеживания производительности приложения; и [API REST службы управления Azure](http://msdn.microsoft.com/library/azure/ee460799.aspx), [библиотеки управления Microsoft Azure](https://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Libraries) или [блок приложения автоматического масштабирования](http://msdn.microsoft.com/library/hh680892%28v=pandp.50%29.aspx) для масштабирования наружу или внутрь. Метриками для запуска операции масштабирования могут стать любые встроенные или пользовательские счетчики, а также другой инструментарий, реализованный в приложении. Однако пользовательское решение не так просто реализовать, и ее следует рассматривать только в том случае, если ни один из предыдущих подходов вас не устраивает. Обратите внимание, что блок приложения автоматического масштабирования представляет собой платформу с открытым исходным кодом и поддерживается корпорацией Майкрософт напрямую.
- **Сторонние службы**, такие как [Paraleap AzureWatch](http://www.paraleap.com/AzureWatch), позволяющие масштабировать решение на основе расписания, индикаторов производительности системы и загрузки служб, настраиваемых правил и сочетаний различных типов правил.

При выборе решения автоматического масштабирования, которое следует реализовать, следует учитывать следующие моменты.

- Используйте встроенные функции автоматического масштабирования платформы, если они отвечают вашим требованиям. Если нет, подумайте, действительно ли вам требуются более сложные функции масштабирования. Некоторые примеры дополнительных требований, кроме тех, которые предлагает встроенная функция автоматического масштабирования, могут включать более тщательный контроль, различные способы обнаружения событий-триггеров для масштабирования, масштабирование в рамках подписок, масштабирование других типов ресурсов и многое другое.
- Определите, есть ли у вас возможность прогнозировать нагрузку на приложение с достаточной точностью, чтобы реализовать исключительно запланированное автоматическое масштабирование (добавление и удаление экземпляров в соответствии с ожидаемыми периодами пиковой нагрузки). Когда это возможно, используйте реактивное автоматическое масштабирование на основе метрик, собранных во время выполнения приложения, для обработки непрогнозируемых изменений спроса. Однако, как правило, рекомендуется объединить эти подходы. Например, можно создать стратегию, которая добавляет ресурсы, такие как вычислительные ресурсы и ресурсы хранения, и добавляет их в очередь на основе расписания периодов времени, когда известно, что приложение занято в наибольшей степени. Это позволяет гарантировать, что производительность доступна именно тогда, когда она нужна и без задержки, возникающей при запуске новых экземпляров. Кроме того, для каждого запланированного правила следует определить метрики, которые позволяют использовать функции реактивного автоматического масштабирования в течение этого периода времени, чтобы гарантировать, что приложение может справляться с постоянными, но непредсказуемыми пиками нагрузки.
- Зачастую сложно понять связь между метриками и требованиями к мощности, особенно в случае, если приложение изначально развернуто. Предпочтительней обеспечить небольшой запас мощности в начале, а затем организовать наблюдение за правилами автоматического масштабирования и их настройку, чтобы приблизить имеющуюся емкость к реальной нагрузке.

### Использование автоматического масштабирования Azure
Автоматическое масштабирование Azure позволяет настроить варианты масштабирования решения внутрь и наружу. Функция автоматического масштабирования Azure может автоматически добавлять и удалять экземпляры веб-ролей и рабочих ролей облачных служб Azure, мобильных служб Azure и приложений на веб-сайтах Azure. Автоматическое масштабирование можно также включить путем запуска и остановки экземпляров виртуальных машин Azure. Стратегия автоматического масштабирования Azure включает в себя два набора факторов:

- Автоматическое масштабирование на основе расписания, которое позволяет обеспечить доступность дополнительных экземпляров в ожидаемые периоды пиковой нагрузки, а также обеспечить масштабирование внутрь по прошествии периода пиковой нагрузки. Это позволяет обеспечить наличие достаточного количества уже запущенных экземпляров без ожидания реакции системы на повышение нагрузки.
- Автоматическое масштабирование на основе метрик, которое реагирует на такие показатели, как средняя загрузка ЦП за последний час или невыполненная работа в отношении сообщений, которые решение обрабатывает в хранилище Azure или в очереди служебной шины. Это позволяет приложению реагировать отдельно от правила запланированного автоматического масштабирования в соответствии с непредвиденными или незапланированными изменениями в нагрузке.

При использовании автоматического масштабирования Azure придерживайтесь следующих рекомендаций.

- Стратегия автоматического масштабирования объединяет в себе масштабирование по расписанию и масштабирование на основе метрик. Можно указать оба типа правил для службы, чтобы приложение масштабировалось как по расписанию, так и в ответ на изменения нагрузки.
- Необходимо настроить правила автоматического масштабирования Azure, а затем организовать отслеживание производительности приложения со временем. Используйте результаты такого отслеживания для настройки способа масштабирования системы при необходимости. Однако помните, что автоматическое масштабирование не выполняется мгновенно — требуется время, чтобы среагировать на метрики, такие как средняя загрузка ЦП, превышающая указанное пороговое значение (или находящаяся ниже него).
- Правила автоматического масштабирования, использующие механизм обнаружения на основе измеренного атрибута триггера (например, загрузка ЦП или длина очереди), применяют агрегированное значение по времени, а не конкретное значение, чтобы запустить действие автоматического масштабирования. По умолчанию агрегированное значение — это среднее значение. Это позволяет предотвратить слишком быстрое реагирование системы или появление быстрых колебаний. При этом новым экземплярам, которые запускаются автоматически, также предоставляется время на переход в режим выполнения, что предотвращает выполнение дополнительных действий автоматического масштабирования в то время, когда происходит запуск новых экземпляров. Для облачных служб и виртуальных машин период агрегирования по умолчанию составляет 45 минут, поэтому для запуска метрикой автоматического масштабирования в ответ на пиковую нагрузку может потребоваться как раз такое время. Можно изменить период агрегирования с помощью пакета SDK, однако имейте в виду, что периоды менее 25 минут могут привести к непредсказуемым результатам (дополнительные сведения см. в статье [Автоматическое масштабирование облачных служб на основе загрузки ЦП с помощью библиотеки управления служб мониторинга Azure](http://rickrainey.com/2013/12/15/auto-scaling-cloud-services-on-cpu-percentage-with-the-windows-azure-monitoring-services-management-library/)). Для веб-сайтов в Azure средний период намного меньше, благодаря чему новые экземпляры доступны приблизительно в течение пяти минут после изменения среднего показателя триггера.
- Если настроить автоматическое масштабирование с помощью пакета SDK, а не на веб-портале, можно указать более подробное расписание, во время которого активны правила. Можно также создать свои собственные метрики и использовать их как отдельно, так и в сочетании с любыми метриками, существующими в правилах автоматического масштабирования. Например, можно использовать альтернативные счетчики, такие как число запросов в секунду или объем доступной памяти, либо использовать настраиваемые счетчики, измеряющие определенные бизнес-процессы. Дополнительные сведения см. в разделе [Библиотека управления служб мониторинга Azure](#the-azure-monitoring-services-management-library).
- При автоматическом масштабировании виртуальных машин Azure необходимо развернуть несколько экземпляров виртуальной машины, число которых равно максимальному значению, при котором разрешается запуск автоматического масштабирования. Эти экземпляры должны входить в одну и ту же группу доступности. Механизм автоматического масштабирования виртуальных машин не создает и не удаляет экземпляры виртуальной машины; вместо этого правила автоматического масштабирования, которые можно настроить, запускают и останавливают соответствующее количество этих экземпляров. Дополнительные сведения см. в статье [Автоматическое масштабирование приложения, выполняющего веб-роли, рабочие роли или виртуальные машины](cloud-services-how-to-scale.md#autoscale).
- Если не удается запустить новые экземпляры по причине возможного достижения максимального значения для подписки (например, максимальное количество ядер при использовании службы виртуальных машин) или из-за ошибки во время запуска, на портале может быть указано, что операция автоматического масштабирования успешно выполнена. Однако последующие события **ChangeDeploymentConfiguration**, отображаемые на портале, будут свидетельствовать только о запросе запуска службы.На портале будут отсутствовать события, указывающие на успешное завершение операции.
- При использовании автоматического масштабирования Azure посредством пользовательского интерфейса веб-портала можно связать ресурсы, такие как экземпляры базы данных SQL и очереди, с экземпляром службы вычислений. Это позволяет упростить доступ к отдельным вариантам конфигурации масштабирования вручную и автоматически для всех связанных ресурсов. Дополнительные сведения см. в разделе [Практическое руководство. Привязка ресурсов к облачной службе](cloud-services-how-to-manage.md#linkresources) на странице "Управление облачными службами" и на странице [Масштабирование приложения](cloud-services-how-to-scale.md).
- При настройке нескольких политики и правил существует вероятность, что они могут конфликтовать друг с другом. Функция автоматического масштабирование Azure использует следующие правила разрешения конфликтов, чтобы гарантировать, что всегда будет иметься достаточное количество экземпляров.
  - Операции масштабирования наружу всегда имеют приоритет над операциями масштабирования внутрь.
  - При возникновении конфликта операций масштабирования наружу приоритет имеет правило, которое инициирует наибольшее увеличение числа экземпляров.
  - При возникновении конфликта операций масштабирования внутрь приоритет имеет правило, которое инициирует наименьшее уменьшение числа экземпляров.

<a name="the-azure-monitoring-services-management-library"></a>

### Библиотека управления служб мониторинга Azure
API управления службой можно использовать для более точной настройки автоматического масштабирования Azure, а также для доступа к возможностям, которые недоступны через веб-портал. Этот API доступен непосредственно как веб-API REST или через библиотеку управления служб мониторинга Azure.

Функция автоматического масштабирования Azure настраивается путем указания профилей автоматического масштабирования для ролей облачных служб, групп доступности виртуальных машин, веб-сайтов Azure (в качестве ферм серверов в веб-пространстве) или мобильных служб Azure. Каждый профиль, которых у целевого объекта может быть до 20, указывает:

- время, когда он должен применяться (используя повторение или фиксированный период времени);
- разрешенное количество экземпляров (минимум, максимум и количество по умолчанию);
- правила автоматического масштабирования, которые применяются.

На веб-портале можно настроить фиксированный набор профилей, фактически, для дня и ночи, а также для рабочих дней и выходных, используя одну пару правил масштабирования на основе загрузки ЦП или длины очереди. Используя API управления службой, можно более точно настроить даты применимости профилей и указать до десяти правил с триггерами на основе любых метрик, доступных для службы мониторинга Azure.

Правила автоматического масштабирования состоят из триггера, который указывает, когда применяется правило, и действия масштабирования, указывающее изменения для внесения в конфигурацию целевого объекта. На момент написания данной статьи поддерживается только действие увеличения или уменьшения числа экземпляров.

Триггеры для правил автоматического масштабирования основаны на доступных метриках. Выборка значений для заданных метрик выполняется периодически из соответствующих источников, как указано в конфигурации автоматического масштабирования. При оценке каждого правила из активного профиля значения метрики, указанные в триггере, агрегируются по времени и по экземплярам (если применимо), и полученное агрегированное значение сравнивается с пороговым значением, чтобы определить, применяется ли это правило. Допустимые агрегированные значения по времени представляют собой среднее (по умолчанию) от минимального значения, максимального значения, последнего значения, общее числа значений и количества. Допустимые агрегированные значения по экземплярам представляют собой среднее (по умолчанию) от максимального и минимального значений.

Метрики, доступные для триггеров, представляют собой длины хранилища Azure и очереди служебной шины, стандартные счетчики производительности, опубликованные диагностикой Azure, и любой пользовательский счетчик производительности, опубликованный каждой ролью или виртуальной машиной. В решении облачных служб при работе со счетчиками производительности, отличными от доступных по умолчанию, в пользовательском интерфейсе необходимо изменить настройку уровня мониторинга для службы: с "Минимум" на "Подробно".

Дополнительные сведения см. в следующих статьях:

- [Библиотека классов](http://msdn.microsoft.com/library/azure/dn510414.aspx) пакета SDK мониторинга
- [Как настроить счетчики производительности](http://msdn.microsoft.com/library/azure/dn535595.aspx)
- [Операции автоматического масштабирования](http://msdn.microsoft.com/library/azure/dn510374.aspx)
- [Добавление параметров автоматического масштабирования](http://msdn.microsoft.com/library/azure/dn510372.aspx)
- [Автоматическое масштабирование облачных в соответствии с загрузкой ЦП с помощью Библиотека управления служб мониторинга Azure](http://rickrainey.com/2013/12/15/auto-scaling-cloud-services-on-cpu-percentage-with-the-windows-azure-monitoring-services-management-library/)
- [Использование библиотеки управления служб мониторинга Azure для создания правила автоматического масштабирования](http://blogs.msdn.com/b/cie/archive/2014/02/20/how-to-use-windows-azure-monitoring-services-management-library-to-create-an-autoscale-rule.aspx)

## Связанные шаблоны и рекомендации
При реализации автоматического масштабирования рекомендуется принять во внимание следующие шаблоны и рекомендации.

- [Шаблон регулирования.](http://msdn.microsoft.com/library/dn589798.aspx) Этот шаблон описывает то, каким образом приложение может продолжить работать и обеспечивать соответствие требованиям соглашений об уровне обслуживания по мере увеличения нагрузки на ресурсы. Регулирование можно использовать совместно с автоматическим масштабированием для предотвращения перегрузки системы во время ее масштабирования наружу.
- [Шаблон конкурирующих потребителей.](http://msdn.microsoft.com/library/dn568101.aspx) Этот шаблон описывает то, как реализуется пул экземпляров службы, которые могут обрабатывать сообщения от любого экземпляра приложения. Автоматическое масштабирование можно использовать для запуска и остановки экземпляров службы в соответствии с ожидаемой рабочей нагрузкой. Такой подход позволяет обрабатывать несколько сообщений одновременно, чтобы оптимизировать пропускную способность для повышения масштабируемости и доступности, а также для распределения рабочей нагрузки в системе.
- [Руководство по инструментированию и телеметрии.](http://msdn.microsoft.com/library/dn589775.aspx) Инструментирование и телеметрия очень важны для сбора информации, которая требуется в процессе автоматического масштабирования.

## Дополнительные сведения
- [Масштабирование приложения](cloud-services-how-to-scale.md)
- [Автоматическое масштабирование приложения, выполняющего веб-роли, рабочие роли или виртуальные машины](cloud-services-how-to-manage.md#linkresources)
- [Практическое руководство. Привязка ресурсов к облачной службе](cloud-services-how-to-manage.md#linkresources)
- [Масштабирование связанных ресурсов](cloud-services-how-to-scale.md#scalelink)
- [Библиотека управления служб мониторинга Azure](http://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring)
- [Интерфейс API REST управления службой Azure](http://msdn.microsoft.com/library/azure/ee460799.aspx)
- [Операции автоматического масштабирования](http://msdn.microsoft.com/library/azure/dn510374.aspx)
- [Пространство имен Microsoft.WindowsAzure.Management.Monitoring.Autoscale](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.management.monitoring.autoscale.aspx)
- Документация и ключевые сценарии на веб-сайте MSDN, посвященные [блоку приложения автоматического масштабирования](http://msdn.microsoft.com/library/hh680892%28v=pandp.50%29.aspx)

<!---HONumber=62-->