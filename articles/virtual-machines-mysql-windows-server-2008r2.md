<properties urlDisplayName="Install MySQL" pageTitle="Создание виртуальной машины с MySQL в Azure " metaKeywords="Azure virtual machines, Azure Windows Server, Azure installing MySQL, Azure configuring MySQL, Azure databases" description="Create an Azure virtual machine running Windows Server 2008 R2, and then install and configure a MySQL database on the virtual machine." metaCanonical="" services="virtual-machines" documentationCenter="" title="Install MySQL on a virtual machine running Windows Server 2008 R2 in Azure" authors="kathydav" solutions="" manager="timlt" editor="tysonn" />

<tags ms.service="virtual-machines" ms.workload="infrastructure-services" ms.tgt_pltfrm="vm-windows" ms.devlang="na" ms.topic="article" ms.date="10/23/2014" ms.author="kathydav" />


#Установка MySQL на виртуальной машине под управлением Windows Server 2008 R2 в Azure

[MySQL] -(http://www.mysql.com) это популярная база данных SQL с открытым исходным кодом. С помощью [портала управления Azure][AzurePreviewPortal] можно создать виртуальную машину под управлением Windows Server 2008 R2 из коллекции образов. Затем можно установить и настроить базу данных MySQL на виртуальной машине.

В этом учебнике описаны следующие процедуры.

- Создание виртуальной машины под управлением Windows Server 2008 R2 с помощью портала управления.

- Установка и запуск MySQL Community Server на виртуальной машине.

##Создание виртуальной машины под управлением Windows Server

[WACOM.INCLUDE [virtual-machines-create-WindowsVM](../includes/virtual-machines-create-WindowsVM.md)]

##Присоединение диска данных

После создания виртуальной машины присоедините диск данных. Он будет выполнять роль хранилища данных, необходимого при установке MySQL. См. статью [Как присоединить диск данных к виртуальной машине](http://azure.microsoft.com/ru-ru/documentation/articles/storage-windows-attach-disk/) и следуйте изложенным в ней указаниям по присоединению пустого диска.

##Вход на виртуальную машину
Далее вам необходимо войти в виртуальной машину, чтобы установить MySQL.

[WACOM.INCLUDE [virtual-machines-log-on-win-server](../includes/virtual-machines-log-on-win-server.md)]

##Установка и запуск MySQL Community Server на виртуальной машине
Для установки, настройки и запуска MySQL Community Server выполните следующие действия:

1. После подключения к виртуальной машине с помощью удаленного рабочего стола откройте в меню **Пуск** и запустите **Internet Explorer**. 

2. Нажмите кнопку **Инструменты** в правом верхнем углу. В окне **Свойства обозревателя** выберите вкладку **Безопасность**, щелкните значок **Надежные сайты**, а затем нажмите кнопку **Сайты**. Добавьте http://\*.mysql.com в список надежных сайтов.

3. Перейдите на страницу скачивания [Download MySQL Community Server][MySQLDownloads] (Скачивание MySQL Community Server).

4. Выберите в раскрывающемся меню **Платформа** **Microsoft Windows** и щелкните **Выбрать**.

5. Найдите самый последний выпуск **Windows (x86, 64-разрядная версия), установщик MSI** и щелкните **Загрузка**. 

6. Выберите **Нет, просто начать скачивание!** (или зарегистрируйте учетную запись).  Если будет предложено, выберите сайт зеркальной загрузки установщика MySQL и сохраните установщик на рабочем столе.

7. Дважды щелкните файл установщика на рабочем столе, чтобы начать установку.

8. Нажмите кнопку **Далее**.

9. Примите условия лицензионного соглашения и нажмите кнопку **Далее**.

10. Нажмите кнопку **Обычная**, чтобы установить общие компоненты.

11. Щелкните **Установить**.

12. Запустите мастер настройки MySQL и нажмите кнопку **Далее**.

13. Выберите **Подробные настройки** и нажмите кнопку "Далее".

14. Выберите **Сервер**, если вы планируете запустить MySQL вместе с другими приложениями на сервере, или выберите вариант, который наилучшим образом соответствует вашим потребностям.  Нажмите кнопку **Далее**.

15. Выберите **Многофункциональная база данных** или выберите вариант, который наилучшим образом соответствует вашим потребностям.  Щелкните **Далее**.

16. Выберите диск с данными, присоединенный в предыдущем разделе.

	![Configure MySQL][MySQLConfig5]

17. Выберите **Поддержка принятия решений (DSS)/OLAP** или вариант, который наилучшим образом соответствует вашим потребностям.  Нажмите кнопку **Далее**.

18. Выберите **Включение сети TCP/IP** и **Добавить исключения брандмауэра для порта** (это создаст правила входящего трафика в брандмауэре Windows с именем **MySQL Server**).

	![Configure MySQL][MySQLConfig7]

19. Если вам необходимо хранить текст на нескольких языках, выберите **Максимальная поддержка различных языков**. В противном случае выберите один из других параметров.  Нажмите кнопку **Далее**.

	![Configure MySQL][MySQLConfig8]

20. Выберите **Установить как службу Windows** и **Автоматически запустить сервер MySQL**.  Кроме того, выберите **Включить каталог Bin в Windows PATH**. Нажмите кнопку **Далее**.

	![Configure MySQL][MySQLConfig9]

21. Введите корневой пароль. Не устанавливайте флажки **Разрешить доступ с правами корневого пользователя с удаленных компьютеров** или **Создать анонимную учетную запись**.  Нажмите кнопку **Далее**.

	![Configure MySQL][MySQLConfig10]

22. Щелкните **Выполнить** и дождитесь завершения настройки.

23. Нажмите кнопку **Готово**.

24. Щелкните **Пуск** и выберите **Клиент командной строки MySQL 5.x**, чтобы запустить клиент командной строки.

25.  При появлении запроса введите корневой пароль MySQL (который был установлен на предыдущем шаге), чтобы открыть командное окно, в котором можно вводить инструкции SQL для взаимодействия с базой данных.

26. Чтобы создать нового пользователя MySQL, выполните следующую команду в командной строке **mysql>**:

		mysql> CREATE USER 'mysqluser'@'localhost' IDENTIFIED BY 'password';

	Точка с запятой (;) в конце строки представляет собой символ завершения команды.

27. Чтобы создать базу данных и предоставить разрешения пользователю mysqluser, выполните следующие команды:

		mysql> CREATE DATABASE testdatabase;
		mysql> GRANT ALL ON testdatabase.* TO 'mysqluser'@'localhost' IDENTIFIED BY 'password';

	Обратите внимание, что имена пользователей и пароли для базы данных используются только скриптами, подключающимися к базе данных.  Имена учетных записей базы данных могут не совпадать с учетными записями компьютера.

28. Чтобы войти в систему с другого компьютера, выполните следующую команду:

		mysql> GRANT ALL ON testdatabase.* TO 'mysqluser'@'<ip-address>' IDENTIFIED BY 'password';

	где ip-address - это IP-адрес компьютера, с которого осуществляется подключение к MySQL.
	
29. Чтобы выйти из клиента командной строки MySQL, выполните следующую команду:

		quit

30. После установки MySQL настройте конечную точку для удаленного доступа к MySQL. Войдите на [портал управления Azure][AzurePreviewPortal]. На портале Azure щелкните **Виртуальные машины** и выберите имя новой виртуальной машины, а затем щелкните **Конечные точки** и **Добавить конечную точку**.

31. Выберите **Добавить конечную точку** и щелкните стрелку, чтобы продолжить.
	

32. Добавьте конечную точку с именем MySQL, протоколом **TCP** и портами **Общий** и **Частный** со значением "3306". Щелкните значок галочки. Это позволит вам получать удаленный доступ к MySQL.
	

33. Проверьте удаленное подключение к MySQL.  Чтобы войти в систему в качестве пользователя **mysqluser**, с локального компьютера, на котором запущена MySQL, выполните команду, аналогичную следующей.

		mysql -u mysqluser -p -h <yourservicename>.cloudapp.net

	Например, если имя вашей виртуальной машины - testwinvm, выполните следующую команду:

		mysql -u mysqluser -p -h testwinvm.cloudapp.net

##Ресурсы
Дополнительную информацию о MySQL см. в [документации по MySQL](http://dev.mysql.com/doc/).

[AzurePortal]: http://manage.windowsazure.com
[MySQLDownloads]: http://www.mysql.com/downloads/mysql/


[MySQLConfig5]: ./media/virtual-machines-mysql-windows-server-2008r2/MySQLConfig5.png
[MySQLConfig7]: ./media/virtual-machines-mysql-windows-server-2008r2/MySQLConfig7.png
[MySQLConfig8]: ./media/virtual-machines-mysql-windows-server-2008r2/MySQLConfig8.png
[MySQLConfig9]: ./media/virtual-machines-mysql-windows-server-2008r2/MySQLConfig9.png
[MySQLConfig10]: ./media/virtual-machines-mysql-windows-server-2008r2/MySQLConfig10.png


<!--HONumber=35_1-->
