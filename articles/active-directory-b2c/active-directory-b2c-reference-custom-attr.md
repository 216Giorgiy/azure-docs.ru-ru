---
title: Определение настраиваемых атрибутов в Azure Active Directory B2C | Документация Майкрософт
description: Определите настраиваемые атрибуты в Azure Active Directory B2C для сбора данных о клиентах.
services: active-directory-b2c
author: davidmu1
manager: mtillman
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 07/10/2018
ms.author: davidmu
ms.component: B2C
ms.openlocfilehash: d5ef77ab0bbf00d4ddbb05b7a38516e3c3e7d800
ms.sourcegitcommit: f606248b31182cc559b21e79778c9397127e54df
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/12/2018
ms.locfileid: "38968780"
---
# <a name="define-custom-attributes-in-azure-active-directory-b2c"></a>Определение настраиваемых атрибутов в Azure Active Directory B2C

 Каждое приложение, взаимодействующее с клиентами, имеет свои уникальные требования к сбору информации. Клиент Azure Active Directory (Azure AD) B2C поставляется со встроенным набором информации, сохраняемой в атрибутах, например "Given Name", "Surname", "City" и "Postal Code". С помощью Azure AD B2C можно расширить набор атрибутов, хранящихся в каждой учетной записи клиента. 
 
 Вы можете создать настраиваемые атрибуты на [портале Azure](https://portal.azure.com/) и использовать их в политиках регистрации, политиках регистрации или входа в систему, политиках редактирования профиля. Можно также читать и записывать эти атрибуты с помощью [API Graph Azure AD](active-directory-b2c-devquickstarts-graph-dotnet.md). Настраиваемые атрибуты в Active Directory B2C используют [расширения схемы каталога API Graph Azure AD](https://msdn.microsoft.com/library/azure/ad/graph/howto/azure-ad-graph-api-directory-schema-extensions).

## <a name="create-a-custom-attribute"></a>Создание настраиваемого атрибута

1. Войдите на [портал Azure](https://portal.azure.com/) с правами глобального администратора клиента Azure AD B2C.
2. Убедитесь, что используется каталог с вашим клиентом Azure AD B2C, переключившись на него в правом верхнем углу окна портала Azure. Выберите сведения о подписке, а затем выберите **Переключение каталога**. 

    ![Переключение на клиент Azure AD B2C](./media/active-directory-b2c-reference-custom-attr/switch-directories.png)

    Выберите каталог, содержащий ваш клиент.

    ![Выбор каталога](./media/active-directory-b2c-reference-custom-attr/select-directory.png)

3. Выберите **Все службы** в левом верхнем углу окна портала Azure, найдите службу **Azure AD B2C** и выберите ее.
4. Выберите **Атрибуты пользователя**, а затем щелкните **Добавить**.
5. Введите **Имя** настраиваемого атрибута (например, ShoeSize).
6. Выберите **Тип данных**. Здесь доступны только варианты **String**, **Boolean** и **Int**.
7. При желании введите **Описание**, которое используется только в информационных целях. 
8. Нажмите кнопку **Создать**.

Теперь настраиваемый атрибут доступен в списке **Атрибуты пользователя** и может использоваться в ваших политиках. Пользовательский атрибут создается только при первом использовании в любой политике, но не при добавлении в список **пользовательских атрибутов**.

## <a name="use-a-custom-attribute-in-your-policy"></a>Использование настраиваемого атрибута в политике

1. В клиенте Azure AD B2C выберите **Политики регистрации или входа в систему**.
2. Откройте политику (например B2C_1_SignupSignin), щелкнув ее. 
3. Нажмите кнопку **Изменить**.
4. Выберите **Атрибуты регистрации**, а затем настраиваемый атрибут (например, ShoeSize). Последовательно выберите **ОК**.
5. Щелкните **Утверждения приложения** и выберите настраиваемый атрибут. Последовательно выберите **ОК**.
6. Выберите команду **Сохранить**.

Чтобы проверить взаимодействие с клиентом, используйте для политики функцию **Запустить сейчас**. Теперь вы увидите **ShoeSize** в списке атрибутов, собираемых в процессе регистрации, а также в токене, возвращаемом в приложение.

