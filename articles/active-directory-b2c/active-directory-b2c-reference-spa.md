---
title: "Azure Active Directory B2C | Документация Майкрософт"
description: "Узнайте, как создавать одностраничные приложения непосредственно с помощью неявного потока."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
translationtype: Human Translation
ms.sourcegitcommit: f2eb1f67c5687ac9bd8b94f6480617e6dc87ac9f
ms.openlocfilehash: ace35adc1cd2745ea11cb60429a1e7892d1f66d3


---
# <a name="azure-active-directory-b2c-sign-in-for-single-page-apps-using-oauth-20-implicit-flow"></a>Azure Active Directory B2C: вход для одностраничных приложений с помощью неявного потока OAuth 2.0

> [!NOTE]
> Пока что доступна только предварительная версия этой функции.
> 

Многие современные приложения содержат интерфейсное одностраничное приложение, созданное преимущественно на языке JavaScript. Часто они создаются с помощью таких платформ, как AngularJS, Ember.js или Durandal.js. Во время проверки подлинности одностраничные и другие приложения JavaScript, которые запускаются в основном в браузере, сталкиваются с некоторыми проблемами.

* Характеристики безопасности этих приложений значительно отличаются от традиционных серверных веб-приложений.
* Многие серверы авторизации и поставщики удостоверений не поддерживают запросы CORS.
* Полностраничный браузер перенаправляет пользователя из приложения, взаимодействие с которым становится особенно агрессивным.

Для поддержки этих приложений в Azure AD B2C используется неявный поток OAuth 2.0.  Описание неявного потока предоставления авторизации OAuth 2.0 см. в [разделе 4.2 спецификации OAuth 2.0](http://tools.ietf.org/html/rfc6749).  В этом потоке приложение получает маркеры из конечной точки авторизации Azure AD напрямую, без какого-либо обмена данными между серверами. Вся логика аутентификации и обработки сеансов размещается в клиенте JavaScript без перенаправления на дополнительные страницы.

В Azure AD B2C стандартные неявные потоки OAuth 2.0 выходят за рамки простой аутентификации и авторизации. В Azure AD B2C появляется [**параметр политики**](active-directory-b2c-reference-policies.md), который позволяет использовать OAuth 2.0 для добавления в приложение действий по управлению пользователями, таких как регистрация, вход и управление профилями. Здесь демонстрируется, как с помощью неявного потока и Azure AD реализовать каждую из этих функций в одностраничных приложениях.  Вы можете также просмотреть примеры для [Node.JS](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) или [.NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi), которые помогут вам приступить к работе.

В приведенных ниже запросах HTTP используется наш пример каталога B2C **fabrikamb2c.onmicrosoft.com**, а также наши примеры приложения и политик. Вы можете пробовать выполнять запросы с этими значениями или заменить их на собственные.
Узнайте, как [получить собственный каталог B2C, приложения и политики](#use-your-own-b2c-tenant).

## <a name="protocol-diagram"></a>Схема протокола
Весь неявный поток входа выглядит примерно следующим образом (каждый этап подробно рассматривается ниже).

![Дорожки OpenID Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a>Отправка запросов проверки подлинности
Если веб-приложению требуется проверить подлинность пользователя и выполнить политику, то оно направляет его к конечной точке `/authorize`. Это интерактивная часть потока, в которой пользователь фактически выполняет действие в зависимости от политики и получает `id_token` от конечной точки Azure AD.

В этом запросе клиент указывает разрешения, которые необходимо получить от пользователя в параметре `scope`, и политики, которые нужно выполнить в параметре `p`. Ниже приведены три примера для разных политик (переносы строк добавлены для удобства чтения). Чтобы понять, как работает каждый запрос, попробуйте вставить его в браузер и запустить.

#### <a name="use-a-sign-in-policy"></a>Пример с политикой входа в систему
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a>Пример с политикой регистрации
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a>Пример с политикой изменения профиля
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| Параметр |  | Описание |
| --- | --- | --- |
| client_id |Обязательно |Идентификатор приложения, который [портал Azure](https://portal.azure.com/) назначил вашему приложению. |
| response_type |обязательно |Должен включать `id_token` для входа в OpenID Connect.  Этот параметр также может содержать значение `token` параметра response_type (тип ответа). Использование `token` здесь позволяет приложению получать маркер доступа непосредственно от конечной точки авторизации, при этом отправлять новый запрос на вход в эту конечную точку не требуется.  При использовании типа ответа `token` параметр `scope` должен содержать область, определяющую ресурсы, для которых необходимо выдавать токен. |
| redirect_uri |Рекомендуется |URI перенаправления приложения, на который можно отправлять ответы проверки подлинности для их получения приложением. Он должен в точности соответствовать одному из URI перенаправления, зарегистрированных на портале, но иметь форму закодированного URL-адреса. |
| response_mode |рекомендуется |Указывает метод, с помощью которого результирующий маркер будет отправлен приложению.  Должен иметь значение `fragment` для неявного потока. |
| scope |Обязательно |Список областей с разделителями-пробелами. При указании одной области также обозначаются запрашиваемые разрешения. Область `openid` определяет разрешение на вход пользователя и получение данных о пользователе в форме **маркеров идентификации** (подробнее об этом далее в статье). Область `offline_access` для веб-приложений является необязательной. Она означает, что вашему приложению потребуется **маркер обновления** для продолжительного доступа к ресурсам. |
| state |Рекомендуется |Значение, включенное в запрос, которое также возвращается в ответе маркера. Это может быть строка любого контента. Как правило, с целью предотвращения подделки межсайтовых запросов используется генерируемое случайным образом уникальное значение. Этот параметр также включает информацию о состоянии пользователя в приложении перед созданием запроса на проверку подлинности (например, об открытой в тот момент странице). |
| nonce |Обязательно |Значение, включенное в запрос и созданное приложением, которое войдет в состав полученного токена "id_token" в качестве утверждения. Приложение может проверить это значение во избежание атак с использованием воспроизведения токена. Это значение обычно представляет собой случайную уникальную строку, которую можно использовать для определения источника запроса. |
| p |Обязательно |Политика, которая будет выполняться. Это имя политики, созданной в клиенте B2C. Оно должно начинаться с "b2c\_1\_". Дополнительные сведения о политиках см. в статье [Расширяемая платформа политик](active-directory-b2c-reference-policies.md). |
| prompt |Необязательно |Требуемый тип взаимодействия с пользователем. На текущий момент единственное допустимое значение — "login", при котором пользователю приходится вводить учетные данные по запросу. Единый вход не сработает. |

На этом этапе пользователю будет предложено завершить рабочий процесс для политики. Для этого могут потребоваться ввод имени пользователя и пароля, вход с помощью удостоверения социальной сети, регистрация в каталоге или любые другие действия, определенные в политике.

Как только пользователь завершит политику, Azure AD вернет приложению ответ на указанный `redirect_uri` с помощью метода, определенного в параметре `response_mode`. Во всех вышеперечисленных случаях ответ будет одинаковым независимо от политики, которая была выполнена.

#### <a name="successful-response"></a>Успешный ответ
Успешный ответ с использованием `response_mode=fragment` и `response_type=id_token+token` выглядит следующим образом (разрывы строк — для удобства чтения):

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| Параметр | Описание |
| --- | --- |
| access_token |Маркер доступа, запрошенный приложением.  Этот маркер не следует расшифровывать или каким-либо иным образом проверять. Его можно рассматривать как непрозрачную строку. |
| token_type |Значение типа маркера. Единственный тип, поддерживаемый Azure AD — носитель. |
| expires_in |Срок действия маркера access_token (в секундах). |
| scope |Области, для которых маркер является действительным и которые можно использовать для кэширования маркеров для последующего использования. |
| id_token |Токен "id_token", запрошенный приложением. Вы можете использовать токен "id_token" для проверки удостоверения пользователя и запуска сеанса с пользователем. Дополнительные сведения о маркерах идентификации и их содержимом можно найти в [справочнике по маркерам Azure AD B2C](active-directory-b2c-reference-tokens.md). |
| state |Если запрос содержит параметр "state", в ответе должно отображаться то же значение. Приложение должно проверить, совпадают ли значения параметра "state" в запросе и ответе. |

#### <a name="error-response"></a>Сообщение об ошибке
Сообщения об ошибках также можно отправлять на `redirect_uri` , чтобы приложение обрабатывало их должным образом:

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| Параметр | Описание |
| --- | --- |
| error |Строка кода ошибки, используемая для классификации типов возникших ошибок. Код ошибки можно использовать для обработки ошибок. |
| error_description |Конкретное сообщение об ошибке, с помощью которого разработчик может определить причину возникновения ошибки проверки подлинности. |
| state |См. полное описание в предыдущей таблице. Если запрос содержит параметр "state", в ответе должно отображаться то же значение. Приложение должно проверить, совпадают ли значения параметра "state" в запросе и ответе.|

## <a name="validate-the-idtoken"></a>Проверка токена "id_token"
Для проверки подлинности пользователя недостаточно просто получить маркер "id_token". Вам также потребуется проверить подпись маркера "id_token" и утверждения в нем в соответствии с требованиями приложения. В Azure AD B2C для подписи маркеров и проверки их правильности используются [веб-маркеры JSON Web Token (JWT)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) и шифрование с открытым ключом.

Для проверки JWT доступны многие библиотеки с открытым исходным кодом в зависимости от выбранного языка программирования. Рекомендуется изучить различные библиотеки, а не реализовывать логику проверки самостоятельно. Приведенные здесь сведения помогут понять, как правильно использовать эти библиотеки.

Azure AD B2C содержит конечную точку метаданных OpenID Connect, позволяющую приложению получать сведения о Azure AD B2C в среде выполнения. Эти сведения включают конечные точки, содержимое маркеров и ключи подписи маркеров. Для каждой политики в клиенте B2C есть собственный документ метаданных JSON. Например, документ метаданных для политики `b2c_1_sign_in` находится в каталоге `fabrikamb2c.onmicrosoft.com`.

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

Одно из свойств этого документа конфигурации — `jwks_uri`, значение которого для точно такой же политики будет следующим:

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.

Чтобы определить, какая политика была использована для подписи маркера идентификации (а также определить, откуда необходимо получать метаданные), можно воспользоваться одним из двух вариантов. Во-первых, имя политики включается в утверждение `acr` маркера идентификации. Сведения об анализе утверждений маркера идентификации см. в [Справочнике по маркерам Azure AD B2C](active-directory-b2c-reference-tokens.md). Другой вариант — закодировать политику в значении параметра `state` при отправке запроса и затем декодировать ее, чтобы определить, какая политика была использована. Каждый из этих методов дает совершенно достоверные результаты.

После получения документа метаданных из конечной точки метаданных OpenID Connect можно использовать открытые ключи RSA256, расположенные в этой конечной точке, для проверки подписи маркера идентификации. В каждый момент времени в этой конечной точке может находиться множество ключей, каждый из которых определяется `kid`. Заголовок токена "id_token" также содержит утверждение `kid`, указывающее на ключ, который был использован для подписи токена "id_token". Дополнительные сведения см. в [справочнике по маркерам Azure AD B2C](active-directory-b2c-reference-tokens.md), включая раздел [Проверка маркеров](active-directory-b2c-reference-tokens.md#token-validation).
<!--TODO: Improve the information on this-->

После проверки подписи id_token для некоторых утверждений также требуется проверка, например:

* Проверьте утверждение `nonce` во избежание атак с использованием воспроизведения маркеров. Его значение должно совпадать с указанным вами в запросе на вход.
* Проверьте утверждение `aud`, чтобы убедиться, что для вашего приложения был выдан маркер id_token. Его значением должен быть идентификатор приложения вашего приложения.
* Проверьте утверждения `iat` и `exp`, чтобы убедиться, что срок действия маркера id_token не истек.

Вам также нужно выполнить дополнительные проверки, которые подробно описаны в [спецификации OpenID Connect Core](http://openid.net/specs/openid-connect-core-1_0.html).  Вам также может потребоваться проверить дополнительные утверждения в зависимости от сценария. Ниже приведены некоторые из стандартных проверок:

* Обеспечение регистрации пользователя или организации в приложении.
* Предоставление пользователю необходимого уровня авторизации и привилегий.
* Обеспечение определенного уровня проверки подлинности, например многофакторной проверки подлинности.

Дополнительные сведения об утверждениях в маркере идентификации можно найти в [Справочнике по маркерам Azure AD B2C](active-directory-b2c-reference-tokens.md).

После полной проверки маркера "id_token" вы можете начать сеанс с пользователем и использовать утверждения в маркере "id_token" для получения сведений о пользователе в приложении. Эти сведения можно использовать для отображения, записей, авторизации и т. д.

## <a name="get-access-tokens"></a>Получение маркеров доступа
Если вашему веб-приложению требуется только выполнять политики, то вы можете пропустить следующие несколько разделов. Эти разделы применяются только к веб-приложениям, которым необходимо выполнять защищенные проверкой подлинности вызовы веб-API, также защищенные Azure AD B2C.

Теперь, когда пользователь вошел в одностраничное приложение, можно получить маркеры доступа для вызова интерфейсов веб-API, защищенных с помощью Azure AD.  Даже если вы уже получили токен с использованием параметра response_type со значением `token`, этот метод можно использовать для получения токенов к дополнительным ресурсам. При наличии этих токенов пользователям не нужно повторно выполнять вход.

В обычном потоке веб-приложения маркеры можно получить, отправив запрос к конечной точке `/token`.  Однако конечная точка не поддерживает запросы CORS, поэтому получать и обновлять маркеры с помощью вызовов AJAX невозможно.  Вместо этого для получения новых маркеров для других веб-API можно использовать неявный поток данных в скрытом iframe.

```
// Line breaks for legibility only

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| Параметр |  | Описание |
| --- | --- | --- |
| client_id |Обязательно |Идентификатор приложения, который [портал Azure](https://portal.azure.com/) назначил вашему приложению. |
| response_type |обязательно |Должен включать `id_token` для входа в OpenID Connect.  Этот параметр также может содержать значение `token` параметра response_type (тип ответа). Использование `token` здесь позволяет приложению получать токен доступа непосредственно от конечной точки авторизации, при этом отправлять новый запрос на вход в эту конечную точку не требуется.  При использовании типа ответа `token` параметр `scope` должен содержать область, определяющую ресурсы, для которых необходимо выдавать токен. |
| redirect_uri |рекомендуется |URI перенаправления приложения, на который можно отправлять ответы проверки подлинности для их получения приложением.  Он должен в точности соответствовать одному из URI перенаправления, зарегистрированных на портале, но иметь форму закодированного URL-адреса. |
| scope |обязательно |Список областей с разделителями-пробелами.  Для получения маркеров укажите все области, необходимые для соответствующего ресурса. |
| response_mode |рекомендуется |Указывает метод, с помощью которого результирующий маркер будет отправлен приложению.  Может иметь значение `query`, `form_post` или `fragment`. |
| state |рекомендуется |Значение, включенное в запрос, которое также возвращается в ответе маркера.  Это может быть строка любого контента.  Как правило, с целью предотвращения подделки межсайтовых запросов используется генерируемое случайным образом уникальное значение.  Параметр "state" также используется для кодирования информации о состоянии пользователя в приложении перед созданием запроса на проверку подлинности, например информации об открытой на тот момент странице или представлении. |
| nonce |обязательно |Значение, включенное в запрос и созданное приложением, которое входит в состав полученного маркера id_token в качестве утверждения.  Приложение может проверить это значение во избежание атак с использованием воспроизведения токена.  Это значение обычно представляет собой случайную уникальную строку, которая определяет источник запроса. |
| prompt |обязательно |Для обновления и получения маркеров в скрытом запросе iframe используйте `prompt=none`. Таким образом, iframe не перестает отвечать на странице входа приложения и сразу же возвращает данные. |
| login_hint |обязательно |Для обновления и получения маркеров в скрытом запросе iframe необходимо включить в эту подсказку имя пользователя. Это позволяет различать сеансы пользователя в определенный момент времени. Имя пользователя можно извлечь из предыдущей операции входа с помощью утверждения `preferred_username`. |
| domain_hint |обязательно |Может использоваться значение `consumers` или `organizations`.  Для обновления и получения маркеров в скрытом запросе iframe необходимо включить в запрос domain_hint.  Извлеките утверждение `tid` из маркера id_token предыдущей операции входа, чтобы определить, какое значение следует использовать.  Если значение утверждения `tid` — `9188040d-6c67-4c5b-b112-36a304b66dad`, следует использовать `domain_hint=consumers`.  Или используйте `domain_hint=organizations`. |

Если задать параметр `prompt=none`, то этот запрос успешно выполнится или немедленно завершится с ошибкой, и вы вернетесь к своему приложению.  Успешный ответ будет отправлен в ваше приложение на указанный `redirect_uri` с помощью метода, заданного в параметре `response_mode`.

#### <a name="successful-response"></a>Успешный ответ
Успешный ответ с использованием метода `response_mode=fragment` выглядит следующим образом:

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| Параметр | Описание |
| --- | --- |
| access_token |Маркер, запрошенный приложением. |
| token_type |Всегда будет использоваться значение `Bearer`. |
| state |Если запрос содержит параметр "state", в ответе должно отображаться то же значение. Приложение должно проверить, совпадают ли значения параметра "state" в запросе и ответе. |
| expires_in |Срок действия маркера доступа (в секундах). |
| scope |Области, для которых действителен маркер доступа. |

#### <a name="error-response"></a>Сообщение об ошибке
Сообщения об ошибках также можно отправлять на `redirect_uri` , чтобы приложение правильно обрабатывало их.  Если вы используете `prompt=none`, отобразится следующая ошибка.

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| Параметр | Описание |
| --- | --- |
| error |Строка кода ошибки, которую можно использовать для классификации типов возникающих ошибок и реагирования на них. |
| error_description |Конкретное сообщение об ошибке, с помощью которого разработчик может определить причину возникновения ошибки проверки подлинности. |

После появления этой ошибки в запросе iframe пользователю необходимо войти еще раз в интерактивном режиме для получения нового маркера.  Этот случай можно обрабатывать любым способом, который лучше всего подходит для вашего приложения.

## <a name="refreshing-tokens"></a>Обновление маркеров
Срок действия маркеров `id_token` и `access_token` очень короткий, поэтому приложение должно быть готово периодически обновлять их.  Чтобы обновить маркер любого типа, выполните тот же скрытый запрос iframe, приведенный выше, используя параметр `prompt=none` для управления поведением Azure AD.  Чтобы получить новый `id_token`, обязательно используйте `response_type=id_token` и `scope=openid`, а также параметр `nonce`.

## <a name="send-a-sign-out-request"></a>Отправка запроса на выход
Для выхода пользователя из приложения перенаправьте его в Azure AD для выполнения выхода. Если этого не сделать, то пользователь сможет снова пройти проверку подлинности в приложении без ввода учетных данных, так как они будут иметь действительный сеанс единого входа с Azure AD.

Можно просто перенаправить пользователя на `end_session_endpoint`, который перечислен в том же документе метаданных OpenID, описанном выше в разделе "Проверка маркера id_token":

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| Параметр | Обязательный? | Описание |
| --- | --- | --- |
| p |Обязательно |Политика, которую необходимо использовать для выхода пользователя из приложения. |
| post_logout_redirect_uri |Рекомендуется |URL-адрес, на который пользователя следует перенаправить после успешного выхода. Если он не указан, то пользователю будет показано универсальное сообщение Azure AD B2C. |

> [!NOTE]
> Хотя при перенаправлении пользователя на `end_session_endpoint` очищается часть его данных состояния единого входа через Azure AD B2C, фактически пользователь не выходит из сеанса поставщика удостоверений социальных сетей. Если пользователь выберет тот же IDP во время последующего входа, он будет повторно аутентифицирован без ввода учетных данных. Если пользователь хочет выйти из приложения B2C, это совершенно не означает, что он также хочет полностью выйти из учетной записи Facebook. Тем не менее для локальных учетных записей необходимо правильно завершить сеанс пользователя.
> 
> 

## <a name="use-your-own-b2c-tenant"></a>Использование собственного клиента B2C
Если вы хотите попробовать выполнить эти запросы самостоятельно, необходимо сначала выполнить следующие три шага, а затем заменить значения в примере выше на собственные.

* [Создайте клиент B2C](active-directory-b2c-get-started.md)и используйте имя своего клиента в запросах.
* [Создайте приложение](active-directory-b2c-app-registration.md) для получения идентификатора приложения и URI перенаправления. Вы можете включить в свое приложение **веб-приложение или веб-API** и при необходимости создать **секрет приложения**.
* [Создайте собственные политики](active-directory-b2c-reference-policies.md) для получения имен политик.

## <a name="samples"></a>Примеры

* [Создание одностраничного приложения с помощью Node.JS](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [Создание одностраничного приложения с помощью .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)




<!--HONumber=Feb17_HO2-->


