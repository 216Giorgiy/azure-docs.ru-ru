<properties
	pageTitle="Предварительная версия Azure Active Directory B2C: пределы и ограничения | Microsoft Azure"
	description="Перечень существующих пределов и ограничений в службе Azure Active Directory B2C"
	services="active-directory-b2c"
	documentationCenter=""
	authors="swkrish"
	manager="msmbaldwin"
	editor="bryanla"/>

<tags
	ms.service="active-directory-b2c"
	ms.workload="identity"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="06/27/2016"
	ms.author="swkrish"/>

# Предварительная версия Azure Active Directory B2C: пределы и ограничения

Некоторые возможности и функции Azure Active Directory (Azure AD) B2C еще не поддерживаются в предварительной версии. Многие из этих известных проблем и ограничений будут сняты до того, как служба Azure AD B2C станет общедоступной. Но их следует учитывать, если вы создаете приложения для работы с клиентами в предварительной версии Azure AD B2C.

[AZURE.INCLUDE [active-directory-b2c-preview-note](../../includes/active-directory-b2c-preview-note.md)]

## Проблемы при создании клиентов Azure AD B2C

Если во время [создания клиента Azure AD B2C](active-directory-b2c-get-started.md) у вас возникают проблемы, см. статью [Создание клиента Azure Active Directory (Azure AD) или клиента Azure Active Directory B2C: проблемы и решения](active-directory-b2c-support-create-directory.md).

## Проблемы с фирменной символикой в проверочном письме

Проверочное письмо по умолчанию содержит фирменную символику Microsoft. Она будет удалена в будущем. Сейчас ее можно удалить с помощью [функции фирменной символики](../active-directory/active-directory-add-company-branding.md).

## Поддержка рабочих приложений

Приложения, интегрированные с Azure AD B2C, не следует выпускать в качестве рабочих приложений. На данный момент служба Azure AD B2C работает в режиме предварительной версии. Это означает, что в любой момент служба может претерпеть значительные изменения. Кроме того, не предоставляется никаких гарантий в отношении уровня обслуживания. При возникновении каких-либо инцидентов поддержка не предоставляется. Если вы готовы пойти на риск, связанный с использованием службы в стадии разработки, свяжитесь с нами в Twitter (учетная запись @AzureAD), чтобы обсудить область применения своего приложения или службы.

## Ограничения для приложений

Перечисленные ниже типы приложений пока что не поддерживаются в предварительной версии Azure AD B2C. Описание поддерживаемых типов приложений можно найти в статье [Предварительная версия Azure AD B2C: типы приложений](active-directory-b2c-apps.md).

### Одностраничные приложения (Javascript)

Во многих современных приложениях применяется интерфейс одностраничных приложений (SPA). Подобные приложения, как правило, написаны на Javascript и часто используют такие платформы SPA, как AngularJS, Ember.js, Durandal и т. д. Это решение пока не поддерживается в предварительной версии Azure AD B2C.

### Управляющие программы и серверные приложения

Многие приложения работают без вмешательства пользователя или содержат процессы, выполняющиеся на протяжении долгого времени. Им также требуется возможность доступа к защищенным ресурсам, таким как веб-API. Эти приложения могут выполнять проверку подлинности и получать маркеры, используя идентификатор приложения (а не делегированный идентификатор потребителя) с помощью [потока учетных данных клиента OAuth 2.0](active-directory-b2c-reference-protocols.md#oauth2-client-credentials-grant-flow). Этот поток пока недоступен в предварительной версии Azure AD B2C. Это значит, что приложения могут получать маркеры только после запуска интерактивного потока входа пользователя.

### Автономные веб-API

В предварительной версии Azure AD B2C вы можете [создать веб-API, защищенный с помощью маркеров OAuth 2.0](active-directory-b2c-apps.md#web-apis). Однако этот веб-интерфейс API сможет получать маркеры только от клиента с тем же идентификатором приложения. Сборка веб-API с возможностью доступа нескольких разных клиентов не поддерживается.

### Цепочки веб-API ("от имени")

Многие архитектуры включают в себя веб-API, которому требуется вызывать другой нисходящий веб-API. При этом Azure AD B2C защищает оба интерфейса. Этот сценарий характерен для собственных клиентов с внутренним веб-API, который в свою очередь вызывает службу Microsoft Online, например API Graph Azure AD.

Этот сценарий веб-API с цепочками может поддерживаться с помощью предоставления учетных данных носителя маркера JWT OAuth 2.0 или потока On-Behalf-Of. Однако в предварительной версии Azure AD B2C поток On-Behalf-Of еще не реализован.

## Ограничения для библиотек и пакетов SDK

Не все языки и платформы содержат библиотеки, поддерживающие предварительную версию Azure AD B2C. Набор библиотек проверки подлинности пока что ограничен .NET, iOS, Android и NodeJS. В разделе [Начало работы](active-directory-b2c-overview.md#getting-started) имеются соответствующие краткие учебники для каждой библиотеки.

Если вам необходимо интегрировать приложение в предварительную версию Azure AD B2C с помощью другого языка или платформы, воспользуйтесь [справочником по протоколам OAuth 2.0 и OpenID Connect](active-directory-b2c-reference-protocols.md). Он содержит инструкции по созданию HTTP-сообщений, необходимых для обмена данными со службой Azure AD B2C.

## Ограничения для протоколов

Предварительная версия Azure AD B2C поддерживает протоколы OpenID Connect и OAuth 2.0. Однако в ней реализованы не все функции и возможности этих протоколов. Подробные сведения о функциях, поддерживаемых для каждого протокола в предварительной версии Azure AD B2C, см. в [справочнике по протоколам OpenID Connect и OAuth 2.0](active-directory-b2c-reference-protocols.md). Поддержка протоколов SAML и WS-Fed недоступна.

## Ограничения для маркеров

Многие маркеры, создаваемые предварительной версией Azure AD B2C, реализуются в виде веб-маркеров JSON (JWT). Однако не все сведения, содержащиеся в маркерах JWT (также называемых утверждениями), являются правильными или полными. Некоторые примеры включают утверждения sub и preferred\_username. На стадии предварительной версии в них могут вноситься некоторые изменения. Дополнительные сведения о маркерах, создаваемых в настоящее время службой Azure AD B2C, см. в [справочнике по маркерам](active-directory-b2c-reference-tokens.md).

## Ограничения для вложенных групп

В клиентах Azure AD B2C членство во вложенных группах не поддерживается. Добавление этой возможности не планируется.

## Проблемы с управлением пользователями на классическом портале Azure

Функции B2C доступны на портале Azure. При этом классический портал Azure можно использовать для доступа к другим функциям клиентов, включая функцию управления пользователями. Сейчас известно о нескольких проблемах, связанных с управлением пользователями (вкладка **Пользователи**) на классическом портале Azure:

- **Имя пользователя** с локальной учетной записью (пользователь, который регистрируется с помощью электронного адреса и пароля или имени пользователя и пароля) не соответствует идентификатору входа (электронному адресу или имени пользователя), который использовался при регистрации. Это происходит потому, что поле, отображаемое на классическом портале Azure, на самом деле предназначено для имени участника-пользователя, которое не используется в операциях B2C. Чтобы отобразить идентификатор входа локальной учетной записи, найдите объект пользователя в [Graph Explorer](https://graphexplorer.cloudapp.net/). Похожая проблема возникает с пользователями учетных записей социальных сетей, которые используют для регистрации учетные записи Facebook, Google+ и т. д. Но в этом случае идентификатор входа вообще отсутствует.

    ![Локальная учетная запись — имя участника-пользователя](./media/active-directory-b2c-limitations/limitations-user-mgmt.png)

- В случае с пользователем с локальной учетной записью вам не удастся изменить какое-либо поле либо сохранить изменения на вкладке **Профиль**. Мы исправим эту проблему в ближайшее время.

## Проблемы, связанные с инициированным администратором сбросом паролей на классическом портале Azure

На классическом портале Azure вы можете сбросить пароль пользователя с локальной учетной записью (команда **Сбросить пароль** на вкладке **Пользователи**). Такой пользователь не сможет изменить свой пароль при следующем входе, если вы используете политику регистрации или входа в систему; кроме того, для него будет заблокирован доступ к вашим приложениям. Мы работаем над устранением этой проблемы. Чтобы избежать этого, воспользуйтесь [Azure AD API Graph](active-directory-b2c-devquickstarts-graph-dotnet.md), чтобы сбросить пароль пользователя (без окончания срока действия пароля). Или примените политику входа в систему вместо политики регистрации или входа в систему.

## Проблемы с созданием настраиваемого атрибута

[Настраиваемый атрибут, добавленный на портале Azure](active-directory-b2c-reference-custom-attr.md), не сразу создается в клиенте B2C. Вам следует использовать настраиваемый атрибут как минимум в одной из политик, прежде чем он будет создан в клиенте B2C и станет доступен в API Graph.

## Проблемы с проверкой домена на классическом портале Azure

Сейчас проверить домен на [классическом портале Azure](https://manage.windowsazure.com/) невозможно. Мы работаем над тем, чтобы это исправить.

## Проблемы входа в браузерах Safari, связанные с использованием политики MFA

В браузерах Safari запросы к политикам входа (со включенной многофакторной проверкой подлинности (MFA)) периодически заканчиваются сбоем, выдавая ошибку HTTP 400 (неверный запрос). Это происходит из-за низких ограничений Safari на размер файлов cookie. Существует несколько обходных путей для решения этой проблемы.

- Вместо "политики входа" используйте "политику регистрации или входа в систему".
- Уменьшите число **утверждений приложения**, запрашиваемых в политике.

<!---HONumber=AcomDC_0629_2016-->