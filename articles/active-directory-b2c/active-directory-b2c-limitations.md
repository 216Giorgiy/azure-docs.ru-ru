<properties
	pageTitle="Azure Active Directory B2C: пределы и ограничения | Microsoft Azure"
	description="Перечень существующих пределов и ограничений в службе Azure Active Directory B2C"
	services="active-directory-b2c"
	documentationCenter=""
	authors="swkrish"
	manager="msmbaldwin"
	editor="bryanla"/>

<tags
	ms.service="active-directory-b2c"
	ms.workload="identity"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="07/24/2016"
	ms.author="swkrish"/>

# Azure Active Directory B2C: пределы и ограничения

Некоторые возможности и функции Azure Active Directory (Azure AD) B2C еще не поддерживаются. В дальнейшем многие из этих известных проблем и ограничений будут сняты. Но их следует учитывать, если вы создаете приложение для работы с клиентами в Azure AD B2C.

## Проблемы при создании клиентов Azure AD B2C

Если во время [создания клиента Azure AD B2C](active-directory-b2c-get-started.md) у вас возникнут проблемы, см. статью [Создание клиента Azure Active Directory (Azure AD) или клиента Azure Active Directory B2C: проблемы и решения](active-directory-b2c-support-create-directory.md).

Обратите внимание, что при удалении существующего клиента B2C и его повторном создании с тем же доменным именем могут возникнуть известные проблемы. Создавайте клиент B2C с другим доменным именем.

## Примечание о квотах клиента B2C

По умолчанию предельное количество пользователей в клиенте B2C — 50 000. Если требуется увеличить квоту клиента B2C, следует обратиться в службу поддержки.

## Проблемы с фирменной символикой в проверочном письме

Проверочное письмо по умолчанию содержит фирменную символику Microsoft. Она будет удалена в будущем. Сейчас ее можно удалить с помощью [функции фирменной символики](../active-directory/active-directory-add-company-branding.md).

## Ограничения для приложений

Перечисленные ниже типы приложений пока что не поддерживаются в Azure AD B2C. Описание поддерживаемых типов приложений можно найти в статье [Azure Active Directory B2C: типы приложений](active-directory-b2c-apps.md).

### Одностраничные приложения (Javascript)

Во многих современных приложениях применяется интерфейс одностраничных приложений (SPA). Подобные приложения, как правило, написаны на Javascript и часто используют такие платформы SPA, как AngularJS, Ember.js, Durandal и т. д. Это решение пока не поддерживается в Azure AD B2C.

### Управляющие программы и серверные приложения

Многие приложения работают без вмешательства пользователя или содержат процессы, выполняющиеся на протяжении долгого времени. Им также требуется возможность доступа к защищенным ресурсам, таким как веб-API. Эти приложения могут выполнять проверку подлинности и получать маркеры, используя идентификатор приложения (а не делегированный идентификатор клиента) с помощью [потока учетных данных клиента OAuth 2.0](active-directory-b2c-reference-protocols.md#oauth2-client-credentials-grant-flow). Этот поток пока недоступен в Azure AD B2C. Это значит, что приложения могут получать маркеры только после запуска интерактивного потока входа пользователя.

### Автономные веб-API

В Azure AD B2C вы можете [создать веб-API, защищенный с помощью маркеров OAuth 2.0](active-directory-b2c-apps.md#web-apis). Однако этот веб-интерфейс API сможет получать маркеры только от клиента с тем же идентификатором приложения. Сборка веб-API с возможностью доступа нескольких разных клиентов не поддерживается.

### Цепочки веб-API ("от имени")

Многие архитектуры включают в себя веб-API, которому требуется вызывать другой нисходящий веб-API. При этом Azure AD B2C защищает оба интерфейса. Этот сценарий характерен для собственных клиентов с внутренним веб-API, который в свою очередь вызывает службу Microsoft Online, например API Graph Azure AD.

Этот сценарий веб-API с цепочками может поддерживаться с помощью предоставления учетных данных носителя маркера JWT OAuth 2.0 или потока On-Behalf-Of. Однако в Azure AD B2C поток On-Behalf-Of еще не реализован.

## Ограничения для библиотек и пакетов SDK

Сейчас набор поддерживаемых библиотек от Майкрософт, используемых в Azure AD B2C, весьма ограничен. Поддерживаются веб-приложения и службы на основе .NET и NodeJS. Для работы с Azure AD B2C в приложениях для Windows и других приложениях .NET доступна клиентская библиотека .NET предварительной версии (также называемая MSAL).

Библиотеки для других языков или платформ, включая iOS и Android, в настоящее время не поддерживаются. Если необходимо создать библиотеку на другой платформе (помимо упомянутых выше), рекомендуется использовать пакет SDK с открытым исходным кодом. При необходимости см. сведения в [справочнике по протоколам OAuth 2.0 и OpenID Connect](active-directory-b2c-reference-protocols.md). Azure AD B2C реализует протоколы OAuth и OpenID Connect. Это позволяет использовать универсальную библиотеку OAuth или OpenID Connect для интеграции.

В кратких руководствах для iOS и Android описано использование библиотек с открытым исходным кодом, протестированных на совместимость с Azure AD B2C. В разделе [Приступая к работе](active-directory-b2c-overview.md#getting-started) приведены все доступные краткие руководства.

## Ограничения для протоколов

Azure AD B2C поддерживает протоколы OpenID Connect и OAuth 2.0. Однако в ней реализованы не все функции и возможности этих протоколов. Подробные сведения о функциях, поддерживаемых для каждого протокола в Azure AD B2C, см. в [справочнике по протоколам OpenID Connect и OAuth 2.0](active-directory-b2c-reference-protocols.md). Поддержка протоколов SAML и WS-Fed недоступна.

## Ограничения для маркеров

Многие маркеры, формируемые Azure AD B2C, реализуются в виде веб-маркеров JSON (JWT). Однако не все сведения, содержащиеся в маркерах JWT (также называемых утверждениями), являются правильными или полными. Некоторые примеры включают утверждения sub и preferred\_username. Так как значения, формат или значения утверждений со временем изменяются, маркеры для имеющихся политик не будут затрагиваться. Вы можете полагаться на их значения в рабочих приложениях. Мы обеспечим возможность настройки изменений значений для всех политик. Дополнительные сведения о маркерах, создаваемых в настоящее время службой Azure AD B2C, см. в [справочнике по маркерам](active-directory-b2c-reference-tokens.md).

## Ограничения для вложенных групп

В клиентах Azure AD B2C членство во вложенных группах не поддерживается. Добавление этой возможности не планируется.

## Ограничения для функции дифференциального запроса в API Graph Azure AD

В клиентах Azure AD B2C [функция дифференциального запроса Azure AD Graph API](https://msdn.microsoft.com/library/azure/ad/graph/howto/azure-ad-graph-api-differential-query) не поддерживается. Однако мы планируем добавить ее в долгосрочной перспективе.

## Проблемы с управлением пользователями на классическом портале Azure

Функции B2C доступны на портале Azure. При этом классический портал Azure можно использовать для доступа к другим функциям клиентов, включая функцию управления пользователями. В настоящее время известно о нескольких проблемах, связанных с управлением пользователями (вкладка **Пользователи**) на классическом портале Azure.

- Пользователи с локальными учетными записями выполняют регистрацию с помощью электронного адреса и пароля или же имени пользователя и пароля. При этом поле **Имя пользователя** не соответствует идентификатору входа (электронному адресу или имени пользователя), который использовался при регистрации). Это происходит потому, что поле, отображаемое на классическом портале Azure, на самом деле предназначено для имени участника-пользователя, которое не используется в операциях B2C. Чтобы отобразить идентификатор входа локальной учетной записи, найдите объект пользователя в [Graph Explorer](https://graphexplorer.cloudapp.net/). Похожая проблема возникает с пользователями учетных записей социальных сетей, которые используют для регистрации учетные записи Facebook, Google+ и т. д. Но в этом случае идентификатор входа вообще отсутствует.

    ![Локальная учетная запись — имя участника-пользователя](./media/active-directory-b2c-limitations/limitations-user-mgmt.png)

- В случае с пользователем с локальной учетной записью вам не удастся изменить какое-либо поле либо сохранить изменения на вкладке **Профиль**.

## Проблемы, связанные с инициированным администратором сбросом паролей на классическом портале Azure

На классическом портале Azure вы можете сбросить пароль пользователя с локальной учетной записью (команда **Сбросить пароль** на вкладке **Пользователи**). Такой пользователь не сможет изменить свой пароль при следующем входе, если вы используете политику регистрации или входа в систему. Кроме того, для него будет заблокирован доступ к вашим приложениям. Чтобы избежать этого, воспользуйтесь [API Graph Azure AD](active-directory-b2c-devquickstarts-graph-dotnet.md), чтобы сбросить пароль пользователя (без окончания срока действия пароля). Либо примените политику входа в систему вместо политики регистрации или входа в систему.

## Проблемы с созданием настраиваемого атрибута

[Настраиваемый атрибут, добавленный на портале Azure](active-directory-b2c-reference-custom-attr.md), не сразу создается в клиенте B2C. Для этого вам следует использовать настраиваемый атрибут как минимум в одной из политик. Он будет создан в клиенте B2C и станет доступен в API Graph.

## Проблемы с проверкой домена на классическом портале Azure

В настоящее время проверить домен на [классическом портале Azure](https://manage.windowsazure.com/) невозможно.

## Проблемы входа в браузерах Safari, связанные с использованием политики MFA

В браузерах Safari запросы к политикам входа (со включенной многофакторной проверкой подлинности (MFA)) периодически заканчиваются сбоем, выдавая ошибку HTTP 400 (неверный запрос). Это происходит из-за низких ограничений Safari на размер файлов cookie. Существует несколько обходных путей для решения этой проблемы.

- Вместо "политики входа" используйте "политику регистрации или входа в систему".
- Уменьшите число **утверждений приложения**, запрашиваемых в политике.

<!---HONumber=AcomDC_0831_2016-->