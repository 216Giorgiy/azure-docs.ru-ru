---
title: "Отправка персонализированных уведомлений с помощью Azure Mobile Engagement"
description: "Отправка персонализированных уведомлений, которые включают сведения из профиля пользователя (например, их имена)."
services: mobile-engagement
documentationcenter: mobile
author: piyushjo
manager: erikre
editor: 
ms.assetid: 51007089-156a-4bac-bb1b-a590633bf2a2
ms.service: mobile-engagement
ms.workload: mobile
ms.tgt_pltfrm: all
ms.devlang: na
ms.topic: article
ms.date: 08/19/2016
ms.author: piyushjo
translationtype: Human Translation
ms.sourcegitcommit: 06e16033435ed0a37d5688055743875827d3aec2
ms.openlocfilehash: f27ed36eddddfab1de424574b0cf8e9ef04a162d
ms.lasthandoff: 03/01/2017


---
# <a name="personalize-notifications-by-including-user-name"></a>Настройка уведомлений, которые включают имя пользователя
Чтобы сделать уведомления более привлекательными для пользователей приложения, вам следует персонализировать их. Один из самых эффективных методов — это выборочное использование имен пользователей приложения для адресного обращения. Однако здесь есть свои нюансы. Использовать имена пользователей приложения в уведомлениях нужно аккуратно, так как злоупотребление этой стратегией может вызвать негативную реакцию у некоторых пользователей. Кроме того, предоставьте пользователям возможность соглашаться или не соглашаться на предоставление вам личных данных в рамках мобильного приложения. 

С технической точки зрения Azure Mobile Engagement позволяет персонализировать сообщения с помощью описанных ниже действий. В этом примере мы добавим в уведомления имя пользователя. Мы будем использовать сведения о приложении или теги. Эти сведения можно передавать с помощью пакетов SDK, интегрированных в мобильное приложение, или через API. Затем эти сведения о приложении или теги можно использовать:

1. для отправки уведомлений определенным пользователям на основе значений сведений о приложении; 
2. в качестве заполнителей в уведомлениях, которые при отправке уведомлений на определенное устройство заменяются значениями сведений об устройстве или пользователе. 

> [!IMPORTANT]
> Обратите внимание, что дополнительная обработка, связанная с заменой значений сведений о приложении в каждом уведомлении, может замедлять отправку уведомлений. 
> 
> 

## <a name="register-app-info-in-the-mobile-engagement-portal"></a>Регистрация сведений о приложении на портале Mobile Engagement
1) Сначала вам нужно зарегистрировать сведения о приложении или теги на портале Azure. Для этого последовательно выберите пункты **Параметры** -> **Tag (app-info)**.  

![][1]    

2) Щелкните **Создать tag (app-info)**, укажите имя *user_name* и тип *Строка*. Затем нажмите кнопку **Отправить**. 

![][2]

3) В конце вы увидите, что сведения о приложении зарегистрированы следующим образом.

![][3]

## <a name="send-app-info-from-the-client-sdk"></a>Отправка сведений о приложении из клиентского пакета SDK
В этом примере мы воспользуемся примером универсального приложения Windows, но в других пакетах SDK доступны аналогичные методы. 

Предположим, что в мобильном приложении при проверке подлинности пользователей предусмотрен определенный метод получения информации из профиля, включая имя пользователя. Вы вызываете метод `SendAppInfo` и заполняете значение `user_name` сведений о приложении, которые зарегистрированы ранее на серверной части службы Mobile Engagement. 

    Dictionary<object, object> appInfo = new Dictionary<object, object>();
    appInfo.Add("user_name", str);
    EngagementAgent.Instance.SendAppInfo(appInfo); 

## <a name="send-personalized-notifications"></a>Отправка персонализированных уведомлений
Теперь вы можете отправлять уведомления с использованием полученного значения **user_name**. 

1) На портале Mobile Engagement перейдите на вкладку **Reach** (Рекламная кампания), чтобы создать уведомление. В любом месте уведомления (теме или тексте) можно добавить заполнитель в следующем формате. 

![][4]    

> [!NOTE]
> Пользователи, для которых значение user_name в сведениях о приложении не задано, уведомления получать не будут. При запуске кампании уведомлений в тестовом режиме и в отсутствие набора сведений о приложении мы отправим вам символ "?" для замены заполнителя. 
> 
> 

2) Когда платформа Mobile Engagement выбирает устройство для отправки уведомления, она обращается к сведениям о приложении, заменяя заполнитель полученным значением.  
Например, если для пользователя задать `str = "Scott"`, при регистрации устройства переменной **user_name** будет присвоено значение SCOTT. Тогда этот пользователь увидит в приложении уведомление в следующем формате. 

![][5]    

<!-- Images. -->
[1]: ./media/mobile-engagement-send-personalized-notifications/app-info.png
[2]: ./media/mobile-engagement-send-personalized-notifications/create-app-info.png
[3]: ./media/mobile-engagement-send-personalized-notifications/app-info-user-name.png
[4]: ./media/mobile-engagement-send-personalized-notifications/personal-notification.png
[5]: ./media/mobile-engagement-send-personalized-notifications/notification.png


