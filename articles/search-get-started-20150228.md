<properties 
	pageTitle="Создание первого приложения с Поиском Azure в .NET" 
	description="Учебник по созданию решения с помощью клиентской библиотеки .NET из пакета SDK для Поиска Azure в .NET." 
	services="search" 
	documentationCenter="" 
	authors="HeidiSteen" 
	manager="mblythe" 
	editor=""/>

<tags 
	ms.service="search" 
	ms.devlang="rest-api" 
	ms.workload="search" 
	ms.topic="article" 
	ms.tgt_pltfrm="na" 
	ms.date="03/05/2015" 
	ms.author="heidist"/>

#Создание первого приложения с Поиском Azure в .NET#

Из этого учебника вы узнаете, как создать собственное веб-приложение поиска в Visual Studio 2013 или более поздней версии, использующее Поиск Azure. В этом учебнике описано создание классов для объектов и операций, использованных в этом примере, с помощью [пакета SDK для Поиска Azure в .NET](https://msdn.microsoft.com/library/azure/dn951165.aspx).

Скачайте пример на сайте codeplex, открыв раздел о [демоверсии Поиска Azure с использованием данных USGS](https://azsearchdemos.codeplex.com/SourceControl/latest), чтобы выполнить действия, описанные в этом учебнике. Этот пример приложения использует данные [Геологической службы США (USGS)](http://geonames.usgs.gov/domestic/download_data.htm), отфильтрованные по штату Вашингтон. Мы будем использовать эти данные для создания приложения поиска, отображающего в результатах знаковые здания, такие как больницы и школы, а также геологические объекты, например реки, озера и возвышенности.

Чтобы воспользоваться этим примером, требуется служба поиска Azure. Вы можете подписаться на нее, войдя на [портал Azure](https://portal.azure.com).

Вы можете начать с раздела [о создании службы на портале](../search-create-service-portal/), если вам требуется помощь в подготовке службы и проверке ее доступности. В этой статье также объясняется, как найти имя службы и ключи администратора, используемые в каждом учебнике и решении, включающем Поиск Azure.

> [AZURE.TIP]Мы рекомендуем обновить пакеты NuGet перед сборкой проектов, чтобы избежать ошибок при сборке. Щелкните правой кнопкой мыши решение и выберите элемент **Управление пакетами NuGet**. Обновите все пакеты, используемые в этом решении.

##Создание индекса##

1. Скопируйте имя службы и ключ администратора на [портале Azure](https://portal.azure.com) и вставьте его в **DataIndexer** | **App.config**.
1. Щелкните правой кнопкой мыши проект **DataIndexer**, чтобы назначить его запускаемым проектом.
1. Создайте и запустите проект.

Появится окно консоли со следующими сообщениями.

![][1]

На портале вы увидите новый индекс функций с xx и xx. Обновление на портале может занять несколько минут, поэтому подождите некоторое время, прежде чем обновлять страницу для просмотра результатов.

![][2]

##Создание приложения##


1. Скопируйте имя службы и ключ администратора на [портале Azure](https://portal.azure.com) и вставьте его в **SimpleSearchMVCApp** | **Web.config**.
1. Щелкните правой кнопкой мыши проект **SimpleSearchMVCApp**, чтобы назначить его запускаемым проектом.
1. Создайте и запустите проект.

В своем браузере по умолчанию вы увидите веб-страницу с полем поиска для доступа к данным USGS, хранящимся в индексе в службе поиска Azure.

![][3]

##Поиск по данным USGS##

Набор данных USGS включает записи, относящиеся к штату Вашингтон. Если нажать кнопку **Поиск** в пустом поле поиска, вы получите 50 первых записей. Это настройка по умолчанию.

Если ввести условие поиска, поисковая система будет искать конкретные записи. Попробуйте ввести региональное имя или название. "Сноквалми" — это город в штате Вашингтон. Кроме того, это название реки, живописного водопада, горного перевала и парков штата.

![][4]

Вы также можете попробовать одно из следующих условий поиска:

- Сиэтл;
- Рейнир;
- Сиэтл И Рейнир;
- Сиэтл +Рейнир -Маунт (получает результаты по важным зданиям на Рейнир Авеню или клубу "Рейнир", которые находятся в черте Сиэтла).

##Обзор кода##

Общие сведения о пакете SDK для .NET см. в разделе [Использование поиска Azure в .NET](../search-howto-dotnet-sdk/), содержащем пояснения к наиболее часто используемым классам в клиентской библиотеке.

В оставшейся части этого раздела рассматриваются несколько пунктов по каждому проекту. При необходимости мы укажем вам альтернативные подходы с использованием расширенных функций.

**Проект DataIndexer**

Для простоты данные внедряются в рамках решения в текстовый файл, созданный на основе данных на [веб-сайте Геологической службы США (USGS)](http://geonames.usgs.gov/domestic/download_data.htm).

Альтернативные варианты внедрения данных включают использование [индексаторов для DocumentDB](documentdb-search-indexer.md) или [индексаторов для Базы данных SQL Azure](search-howto-connecting-azure-sql-database-to-azure-search-using-indexers-2015-02-28.md). Индексаторы собирают данные в индекс Поиска Azure, что может значительно упростить код, который необходимо написать и обслуживать.

Вы также можете загрузить данные из локальной базы данных SQL Server. В [этом учебнике](http://azure.microsoft.com/blog/2014/11/10/how-to-sync-sql-server-data-with-azure-search/) показано, как это сделать.

Программа **DataIndexer** включает метод **SearchDocuments** для поиска и фильтрации данных. Этот метод используется для проверки, необходимой при выводе сообщений о состоянии в окно консоли, а в частности тех, в которых показаны результаты поиска и особенности поведения фильтров. Скорее всего, подобный метод не потребуется вам в коде для создания и загрузки индекса.

**Проект SimpleSearchMVCApp**

Проект MVC использует представление и контроллер для маршрутизации входных и выходных данных на уровень представления. **Index.cshtml** предоставляет HTML-код для отображения результатов поиска. В настоящее время это просто таблица, организующая данные из набора данных. Хотя она полезна для создания прототипов и проверки, вы легко можете улучшить представление. Советы по пакетной обработке результатов и размещению счетчиков на странице см. в разделе [Результаты на странице и разбиение на страницы в Поиске Azure](search-pagination-page-layout.md).

Подключения к Поиску Azure, а также выполнение запроса, определяются в файле **FeatureSearch.cs**.

Наконец, если вы еще не уверены в пользе и удобстве пакета SDK для .NET, сравните исходные файлы этого примера с теми, которые основаны на API REST. Для этого откройте раздел с [демоверсией Поиска Azure на примере Adventure Works](https://azuresearchadventureworksdemo.codeplex.com/). Версия пакета SDK для .NET, описанная в этом учебнике, гораздо проще и содержит меньше строк кода.

##Дальнейшие действия##

Это первый учебник по Поиску Azure с использованием набора данных USGS. Мы будем постепенно расширять этот учебник и создавать новые, чтобы рассказать о функциях поиска, которые вы можете использовать в собственных решениях.

Если у вас уже есть опыт работы с Поиском Azure, вы можете использовать этот пример как фундамент для средств подбора (запросы опережающего ввода или автозаполнения), фильтров и фасетной навигации. Вы также можете улучшить страницу результатов поиска, добавив счетчики и пакетную обработку документов, чтобы пользователи могли просматривать результаты постранично.

Новичок в Поиске Azure? Мы рекомендуем ознакомиться с другими учебниками, чтобы получить представление о том, что вы можете создать. Посетите нашу [страницу документации](http://azure.microsoft.com/documentation/services/search/), чтобы найти дополнительные ресурсы. Вы также можете перейти по ссылкам в нашем [списке видео и учебников](https://msdn.microsoft.com/library/azure/dn798933.aspx), чтобы получить дополнительные сведения.

<!--Image references-->
[1]: ./media/search-get-started-20150228/consolemessages.png
[2]: ./media/search-get-started-20150228/portalindexstatus.png
[3]: ./media/search-get-started-20150228/usgssearchbox.png
[4]: ./media/search-get-started-20150228/snoqualmie.png
<!--HONumber=54-->