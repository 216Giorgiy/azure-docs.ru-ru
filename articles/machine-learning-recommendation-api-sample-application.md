<properties title="Common operations in the Machine Learning Recommendations API" pageTitle="Стандартные операции в API рекомендаций для машинного обучения | Azure" description="Пример приложения для рекомендаций по Машинному обучению Azure" metaKeywords="" services="machine-learning" solutions="" documentationCenter="" authors="jaymathe" manager="paulettm" editor="cgronlun" videoId="" scriptId="" />

<tags ms.service="machine-learning" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/14/2014" ms.author="jaymathe" /> 


# Стандартные операции в API рекомендаций для машинного обучения

##Назначение

В этом документе показано использование некоторых API рекомендаций Azure ML через образец приложения.

Это приложение не предназначено для включения полного набора функций или использования всех API. Оно предназначено только для демонстрации некоторых стандартных операций, которые можно выполнять при первом использовании службы рекомендаций Azure ML. 

##Введение в рекомендации

Рекомендации через службу рекомендаций Azure ML включаются при построении модели рекомендаций на основе следующих данных:

* Репозиторий элемента, который необходимо рекомендовать, другими словами, каталог
* Данные, представляющие использование элементов каждым пользователем/сеансом (их можно получить со временем с помощью функции сбора данных, не являются частью образца приложения)

После построения модели рекомендаций ее можно использовать для прогнозирования элементов для пользователя в соответствии с выбранным им набором элементов (может быть один элемент).

Чтобы разрешить приведенный выше сценарий, необходимо выполнить следующую операцию в службе рекомендаций Azure ML:

* Создание модели - это логический контейнер, содержащий данные (данные каталога и данные об использовании) и модели прогнозирования. Каждый контейнер модели определяется уникальным идентификатором, который выдается при его создании. Этот идентификатор называется идентификатором модели и используется большинством API. 
* Загрузка каталога - после создания контейнера модели можно связать с ним каталог.

Примечание. Описанные выше действия (создание модели и загрузка каталога) обычно выполняются один раз в течение жизненного цикла модели.

* Загрузка данных об использовании - для добавления данных об использовании в контейнер модели.
* Построение модели рекомендаций - когда будет получено достаточное количество данных, будет активировано построение модели рекомендаций. Эта операция будет использовать продвинутые алгоритмы машинного обучения для создания модели рекомендаций. Каждое построение связано с уникальным идентификатором. Необходимо сохранить этот идентификатор, поскольку он необходим для работы некоторых API.
* Контроль процесса построения - построение модели рекомендаций представляет собой асинхронную операцию и может занять от нескольких минут до нескольких часов в зависимости от объема данных (данных каталога и данных об использовании) и параметров построения. Поэтому необходимо следить за процессом построения. Модель рекомендаций будет создана только в том случае, если связанный процесс построения завершится успешно.
* (Необязательно) Выберите активное построение модели рекомендаций. Этот шаг необходим только при наличии нескольких построенных моделей рекомендаций в контейнере моделей. Все запросы на получение рекомендаций без указания активного построения (активной модели рекомендаций) будут автоматически перенаправляться системой на активное построение, используемое по умолчанию. 

Примечание. Активное построение (модель рекомендаций) готово к использованию в рабочей среде и рассчитано на рабочую нагрузку в отличие от неактивной модели рекомендаций, которая остается в тестовой среде (иногда называемой промежуточной).

* Получение рекомендаций - после создания модели рекомендаций можно активировать рекомендации для одного выбранного элемента или списка элементов. 

Обычно функция получения рекомендаций вызывается на определенный период времени. В это время можно перенаправить данные об использовании обратно в систему рекомендаций Azure ML, которая добавит эти данные в контейнер для модели. Когда будет получено достаточно данных об использовании, можно запустить построение новой модели рекомендаций для использования более актуальных данных. 

##Предварительные требования

* Visual studio 2013
* Доступ к Интернету 

##Образец приложения Azure ML

Образец содержит исходный код, образец файла с данными об использовании и данными каталога и инструкции по загрузке пакетов nuget, необходимых для компиляции.

##Используемый API

Приложение использует только небольшое подмножество функций рекомендаций Azure ML через подмножество доступных API. В приложении демонстрируются следующие API:

* Создание модели - создание логического контейнера, содержащего данные и модели рекомендаций. Модель идентифицируется по имени, пользователь не может дважды создать модель с одним и тем же именем.
* Загрузка файла каталога - загрузка данных каталога.
* Загрузка файла с данными об использовании - загрузка данных об использовании.
* Активация построения - создание модели рекомендаций.
* Контроль выполнения построения - отслеживание состояния построения модели рекомендаций.
* Выбор построенной модели для рекомендаций - указание, какая модель рекомендаций будет использоваться по умолчанию для определенного контейнера моделей. Этот шаг необходим, только если у вас есть несколько моделей рекомендаций и вы хотите использовать неактивное построение в качестве активного.
* Получение рекомендаций - получение рекомендуемого элемента в соответствии с выбранным элементом или набором элементов. 

Полное описание API см. в документации к Магазину Microsoft Azure. 

Примечание. Для модели со временем может быть создано несколько построений (не одновременно), каждое построение может быть создано с одним и тем же или обновленным каталогом и дополнительными данными об использовании.

## Типичные проблемы

* Для запуска образца необходимо указать имя пользователя и ключ основной учетной записи Microsoft Azure в качестве командной строки.
* Запустить один и тот же образец приложения до завершения обработки предыдущего вызова невозможно - приложение выполняет создание, загрузку, контроль построения и получение рекомендаций для определенного имени модели. Если не изменить имя модели при следующем последовательном запуске, запуск завершится ошибкой.
* Функция рекомендаций может не вернуть никаких данных - образец приложения использует очень маленький файл с данными каталога и данными об использовании, поэтому созданная модель рекомендаций неинформативна и для некоторых элементов из каталога не будет рекомендуемых элементов.

## Отказ от ответственности
Образец приложения не предназначен для запуска в рабочей среде. Предоставленный файл с данными каталога и данными об использовании очень маленький, он непригоден для создания информативной модели рекомендаций, а предоставляется только для демонстрации. 

## Юридическая информация
Данный документ предоставляется на условиях "как есть". Сведения и мнения, содержащиеся в этом документе, включая URL-адреса и другие ссылки на веб-сайты, могут быть изменены без предварительного уведомления. 
Некоторые примеры, приведенные в этом документе, предназначены только для иллюстрации и являются вымышленными. Никакой реальной связи нет и не предполагается. 
Этот документ не предоставляет вам никаких законных прав на интеллектуальную собственность в продуктах корпорации Майкрософт. Вы можете скопировать и использовать данный документ для внутренних справочных целей. 
(c) Корпорация Майкрософт (Microsoft Corporation), 2014 г. Все права защищены. 

