---
title: Настройка ASC для Интернета вещей агент предварительной версии | Документация Майкрософт
description: Сведения о настройке агентов для использования с ASC для Интернета вещей.
services: ascforiot
documentationcenter: na
author: mlottner
manager: barbkess
editor: ''
ms.assetid: f95c445a-4f0d-4198-9c6c-d01446473bd0
ms.service: ascforiot
ms.devlang: na
ms.topic: concept
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/26/2019
ms.author: mlottner
ms.openlocfilehash: 3a3806c73ef254abab91bd28cd8761917371235f
ms.sourcegitcommit: cf971fe82e9ee70db9209bb196ddf36614d39d10
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2019
ms.locfileid: "58541922"
---
# <a name="configure-security-agents"></a>Настройка безопасности агентов

> [!IMPORTANT]
> ASC для Интернета вещей находится в общедоступной предварительной версии.
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендуется для производственных рабочих нагрузок. Некоторые функции могут не поддерживаться или их возможности могут быть ограничены. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).

В этой статье приводится объяснение того, как настроить агент для использования с ASC для Интернета вещей.

## <a name="agents"></a>Агенты

ASC для агентов безопасности Интернета вещей собирают данные с устройств Интернета вещей и выполните действия по обеспечению безопасности для устранения уязвимостей, обнаруженных. Конфигурация агента безопасности является управляемой, с помощью набора свойств двойника модуля, которые можно настраивать. Как правило дополнительный обновления для этих свойств происходят редко.  

ASC для Интернета вещей в безопасности агента двойника конфигурации объекта является объектом формат .json. Объект конфигурации — это набор управляемой свойства, которые можно определить для управления поведением агента. 

Эти конфигурации помогают настроить агент для каждого сценария, который требуется. Например автоматически исключая некоторые события или сохранением энергопотребление к минимальному уровню возможны путем настройки этих свойств.  

Использовать для настройки агента безопасности Интернета вещей ASC [схемы](https://github.com/azure/asc-for-iot-schemas/security/module/twin) для внесения изменений.  

## <a name="configuration-objects"></a>Объекты конфигурации 

Каждый ASC для агента безопасности Интернета вещей, связанный с свойство находится внутри объекта конфигурации агента, см. в разделе требуемые свойства модуля azureiotsecurity. 

Чтобы изменить конфигурацию, создавать и изменять этот объект внутри azureiotsecurity идентификатор двойника модуля. Если объект конфигурации агента не существует в двойнике модуля azureiotsecurity, все значения свойств агента безопасности имеют значение по умолчанию. 

```json
"desired": { //azureiotsecurity Module Identity Twin – desired properties section  
  "azureiot*com^securityAgentConfiguration^1*0*0": { //Agent configuration object 
  … 
} 
}
```

Убедитесь, что для проверки изменений конфигурации агента от этого, [схемы](https://aka.ms/iot-security-github-module-schema).
Агент не будет запущен, если объект конфигурации не соответствуют схеме.


## <a name="editing-a-property"></a>Изменение свойства 

Все пользовательские свойства должны быть установлены внутри объекта конфигурации агента в azureiotsecurity двойник модуля. 

Задание свойства переопределяет значение по умолчанию. Чтобы задать свойство, добавьте ключ свойства объект конфигурации с требуемым значением. 

Чтобы использовать значение свойства по умолчанию, удалите свойство из объекта конфигурации. 

```json
"desired": { //azureiotsecurity Module Identity Twin – desired properties section  
  "azureiot*com^securityAgentConfiguration^1*0*0": { //ASC for IoT Agent 
      // configuration section  
    "lowPriorityMessageFrequency": "PT1H",     
    "highPriorityMessageFrequency": "PT7M",    
    "eventPriorityFirewallConfiguration": "High",     
    "eventPriorityConnectionCreate": "High" 
  } 
}, 
```

## <a name="default-properties"></a>Свойства по умолчанию 
Набор управляемой свойств, которые управляют ASC для агентов безопасности Интернета вещей.

Значения по умолчанию доступны в схеме правильное [Github](https://aka.ms/iot-security-module-default).

| ИМЯ| Status | Допустимые значения| Значения по умолчанию| ОПИСАНИЕ |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|highPriorityMessageFrequency|Требуется: false |Допустимые значения:  Длительность в формате ISO 8601 |Значение по умолчанию: PT7M |Максимальное время, прежде чем сообщения с высоким приоритетом отправляются.|
|lowPriorityMessageFrequency |Требуется: false|Допустимые значения:  Длительность в формате ISO 8601 |Значение по умолчанию: PT5H |Максимальное время до сообщений с низким приоритетом отправляются.| 
|snapshotFrequency |Требовать: false|Допустимые значения: длительность в формате ISO 8601 |Значение по умолчанию PT13H |Интервал времени для создания моментальных снимков состояния устройства.| 
|maxLocalCacheSizeInBytes |Требуется: false |Допустимые значения:  |Значение по умолчанию: 2560000, размер которых превышает 8192 | Максимальное дисковое пространство (в байтах) для кэша сообщений агента. Максимальный объем дискового пространства, выделяемого для хранения сообщений на устройстве, перед отправкой.| 
|maxMessageSizeInBytes |Требуется: false |Допустимые значения:  Положительное число, размер которых превышает 8192, меньше, чем 262144 |Значение по умолчанию: 204800 |Максимальный допустимый размер агент облака сообщение. Этот параметр определяет максимальный объем данных, отправляемых в каждое сообщение. |
|eventPriority${EventName} |Требуется: false |Допустимые значения:  Высокое, низкое отключено |Значения по умолчанию: |Приоритет каждого агента создается событие | 

### <a name="events"></a>События

|Имя события| PropertyName | По умолчанию| События моментального снимка| Сведения о состоянии  |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|Событие диагностики|eventPriorityDiagnostic| Отключить| Ложь| События диагностики с агентом. Это событие можно используйте для подробного ведения журналов.| 
|Ошибка конфигурации |eventPriorityConfigurationError |Низкий |Ложь |Агенту не удалось проанализировать конфигурацию. Проверьте конфигурацию к схеме.| 
|Удаленные события статистики |eventPriorityDroppedEventsStatistics |Низкий |Истина|Статистика событий с агентом. |
|Статистика сообщений|eventPriorityMessageStatistics |Низкий |Истина |Статистика сообщений с агентом. |
|Подключенных устройств|eventPriorityConnectedHardware |Низкий |Истина |Моментальных снимков оборудования, подключенных к устройству.|
|Ожидание передачи данных через порты|eventPriorityListeningPorts |Высокий |Истина |Моментальный снимок все открытые порты прослушивания на устройстве.|
|Создание процесса |eventPriorityProcessCreate |Низкий |Ложь |Создание на устройстве процесса аудита.|
|Этот процесс прерван|eventPriorityProcessTerminate |Низкий |Ложь |Завершению на устройстве процесса аудита.| 
|Сведения о системе |eventPrioritySystemInformation |Низкий |Истина |Моментальный снимок сведений о системе (например: ОС или ЦП).| 
|Локальные пользователи| eventPriorityLocalUsers |Высокий |Истина|Моментальный снимок зарегистрированных локальных пользователей в системе. |
|Вход|  eventPriorityLogin |Высокий|Ложь|Аудит событий входа на устройство (локальные и удаленные имена входа).|
|Создание подключения |eventPriorityConnectionCreate|Низкий|Ложь|Аудит подключений TCP, созданных для и от устройства. |
|Настройка брандмауэра| eventPriorityFirewallConfiguration|Низкий|Истина|Снимок конфигурации устройства брандмауэра (правила брандмауэра). |
|Базовых показателей операционной системы| eventPriorityOSBaseline| Низкий|Истина|Проверьте моментальный снимок базовых показателей операционной системы устройства.|
 

## <a name="see-also"></a>См. также

- [Общие сведения о ASC для Интернета вещей рекомендации](concept-recommendations.md)
- [Изучение ASC для Интернета вещей оповещения](concept-security-alerts.md)
- [Доступ к данным необработанной безопасности](how-to-security-data-access.md)