---
title: Как инструкции для изменения ASC для двойника модуля Интернета вещей в ASC для предварительной версии Интернета вещей | Документация Майкрософт
description: Сведения об изменении ASC для двойника модуля безопасности Интернета вещей для ASC для Интернета вещей.
services: ascforiot
documentationcenter: na
author: mlottner
manager: barbkess
editor: ''
ms.assetid: 1bc5dc86-0f33-4625-b3d3-f9b6c1a54e14
ms.service: ascforiot
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/25/2019
ms.author: mlottner
ms.openlocfilehash: 4bb25db7feddea66e75d9dd069aaec7785faf738
ms.sourcegitcommit: cf971fe82e9ee70db9209bb196ddf36614d39d10
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2019
ms.locfileid: "58541952"
---
# <a name="modify-an-asc-for-iot-module-twin"></a>Изменить ASC для двойника модуля Интернета вещей

> [!IMPORTANT]
> ASC для Интернета вещей находится в общедоступной предварительной версии.
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендована для использования рабочей среде. Некоторые функции могут не поддерживаться или их возможности могут быть ограничены. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).

В этой статье объясняется, как изменить конфигурацию существующего **двойник модуля AzureIoTSecurity** для существующего устройства. 

См. в разделе [создать ASC для модуля IoT](quickstart-create-security-twin.md) вы научитесь сделать новый модуль безопасности для нового устройства.  

## <a name="modification-considerations"></a>Вопросы изменения

> [!IMPORTANT]
> Каждой конфигурации в конфигурации двойника переопределяет конфигурацию по умолчанию. Если конкретная конфигурация больше не присутствует в конфигурации двойника, используется конфигурация по умолчанию. 

## <a name="configuration-schema-and-validation"></a>Схема конфигурации и проверки 

Не забудьте проверить конфигурацию агента от этого [схемы](https://github.com/Azure/asc-for-iot/schema/security_module_twin). Агент не будет запущен, если объект конфигурации не соответствуют схеме.

 
Если во время работы агента, объект конфигурации меняется на недопустимых configuration (конфигурация не соответствует схеме), агент будет игнорировать Недопустимая конфигурация и будут продолжать использовать текущую конфигурацию. 

## <a name="edit-a-property"></a>Изменение свойства  

Задайте все настраиваемые свойства в объекте конфигурации агента в AzureIoTSecurity двойник модуля. 

Чтобы задать свойство, добавьте ключ свойства объект конфигурации с требуемым значением. Чтобы использовать значение свойства по умолчанию, удалите свойство из объекта конфигурации:

```json
"desired": { //AzureIoTSecurity Module Identity Twin – desired properties section  
  "azureiot*com^securityAgentConfiguration^1*0*0": { //ASC for IoT Agent 
      // configuration section  
    "hubResourceId": "/subscriptions/82392767-31d3-4bd2-883d-9b60596f5f42/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/myIotHub",     
    "lowPriorityMessageFrequency": "PT1H",     
    "highPriorityMessageFrequency": "PT7M",    
    "eventPriorityFirewallConfiguration": "High",     
    "eventPriorityConnectionCreate": "Off" 
  } 
}, 
```

## <a name="properties"></a>properties 
Следующая таблица содержит все настраиваемые свойства, которые управляют ASC для агентов Интернета вещей. 
          

| ИМЯ| Status | Допустимые значения| Значения по умолчанию| ОПИСАНИЕ |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|highPriorityMessageFrequency|Требуется: false |Допустимые значения:  Длительность в формате ISO 8601 |Значение по умолчанию: PT7M |Максимальное время, прежде чем сообщения с высоким приоритетом отправляются.|
|lowPriorityMessageFrequency |Требуется: false|Допустимые значения:  Длительность в формате ISO 8601 |Значение по умолчанию: PT5H |Максимальное время до сообщений с низким приоритетом отправляются.| 
|snapshotFrequency |Требовать: false|Допустимые значения: длительность в формате ISO 8601 |Значение по умолчанию PT13H |Интервал времени для создания моментальных снимков состояния устройства.| 
|maxLocalCacheSizeInBytes |Требуется: false |Допустимые значения:  |Значение по умолчанию: 2560000, размер которых превышает 8192 | Максимальное дисковое пространство (в байтах) для кэша сообщений агента. Максимальный объем дискового пространства, выделяемого для хранения сообщений на устройстве, перед отправкой.| 
|maxMessageSizeInBytes |Требуется: false |Допустимые значения:  Положительное число, размер которых превышает 8192, меньше, чем 262144 |Значение по умолчанию: 204800 |Максимальный допустимый размер агент облака сообщение. Этот параметр определяет максимальный объем данных, отправляемых в каждое сообщение. |
|eventPriority${EventName} |Требуется: false |Допустимые значения:  Высокое, низкое отключено |Значения по умолчанию: |Приоритет каждого агента создается событие. | 
|

### <a name="events"></a>События

Следующий список событий являются все события ASC для Интернета вещей агента можно собирать с устройств. Используйте AzureIotSecurity двойник модуля для настройки, какие из этих событий собираются и решить их приоритетов в решении. 
 
|Имя события| PropertyName | Значение по умолчанию| События моментального снимка| Сведения о состоянии  |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|Событие диагностики|eventPriorityDiagnostic| Отключить| Ложь| События диагностики с агентом. Это событие можно используйте для подробного ведения журналов.| 
Ошибка конфигурации |eventPriorityConfigurationError |Низкий |Ложь |Агенту не удалось проанализировать конфигурацию. Проверьте конфигурацию к схеме.| 
|Удаленные события статистики |eventPriorityDroppedEventsStatistics |Низкий |Истина|Статистика событий с агентом. |
|Статистика сообщений|eventPriorityMessageStatistics |Низкий |Истина |Статистика сообщений с агентом. |
|Подключенных устройств|eventPriorityConnectedHardware |Низкий |Истина |Моментальных снимков оборудования, подключенных к устройству.|
|Ожидание передачи данных через порты|eventPriorityListeningPorts |Высокий |Истина |Моментальный снимок все открытые порты прослушивания на устройстве.|
| Создание процесса |eventPriorityProcessCreate |Низкий |Ложь |Создание на устройстве процесса аудита.|
| Этот процесс прерван|eventPriorityProcessTerminate |Низкий |Ложь |Завершению на устройстве процесса аудита.| 
 Сведения о системе |eventPrioritySystemInformation |Низкий |Истина |Моментальный снимок данных системы, например операционной системы или ЦП.|
|Локальные пользователи| eventPriorityLocalUsers |Высокий |Истина|Моментальный снимок зарегистрированных локальных пользователей в системе. |
|Вход|  eventPriorityLogin |Высокий|Ложь|Аудит событий входа на устройство (локальные и удаленные имена входа).|
|Создание подключения |eventPriorityConnectionCreate|Низкий|Ложь|Аудит подключений TCP, созданных для и от устройства. |
|Настройка брандмауэра| eventPriorityFirewallConfiguration|Низкий|Истина|Снимок конфигурации устройства брандмауэра (правила брандмауэра). |
|Базовых показателей операционной системы| eventPriorityOSBaseline| Низкий|Истина|Проверьте моментальный снимок базовых показателей операционной системы устройства.| 
|


## <a name="next-steps"></a>Дальнейшие действия

- Чтение ASC для Интернета вещей [Обзор](overview.md)
- Дополнительные сведения о ASC для Интернета вещей [архитектуры](architecture.md)
- Изучение вопроса [ASC для Интернета вещей оповещений](concept-security-alerts.md)
- Узнайте, как получить доступ к вашей [данные безопасности](how-to-security-data-access.md)
