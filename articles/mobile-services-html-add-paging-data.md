<properties urlDisplayName="Add paging to data (HTML5)" pageTitle="Добавление разбиения по страницам в данные (HTML 5) | Центр разработчиков для мобильных устройств" metaKeywords="" description="Узнайте, как использовать разбиение по страницам для управления объемом данных, возвращаемых в приложение HTML из мобильных служб." metaCanonical="" services="mobile-services" documentationCenter="Mobile" title="Refine Mobile Services queries with paging" authors="glenga" solutions="" manager="dwrede" editor="" />

<tags ms.service="mobile-services" ms.workload="mobile" ms.tgt_pltfrm="mobile-html" ms.devlang="javascript" ms.topic="article" ms.date="09/24/2014" ms.author="glenga" />

# Уточнение запросов мобильных служб c разбиением по страницам

[WACOM.INCLUDE [mobile-services-selector-add-paging-data](../includes/mobile-services-selector-add-paging-data.md)]

В этом разделе показано, как использовать разбиение по страницам для управления объемом данных, возвращаемых мобильными службами Azure вашему приложению HTML. В этом учебнике будут использоваться методы запроса **Take** и **Skip** на клиенте для запроса конкретных "страниц" данных.

<div class="dev-callout"><b>Примечание.</b>
<p>Для предотвращения переполнения данных в клиентах мобильных устройств в мобильных службах реализовано автоматическое ограничение для страницы, значение по умолчанию - 50 элементов в ответе. Указав размер страницы, можно явно запросить до 1000 элементов в ответе.</p>
</div>

В основе этого учебника лежат инструкции и образец приложения из предыдущего учебника [Начало работы с данными]. Перед началом этого учебника необходимо изучить хотя бы первый учебник из серии по работе с рядами данных, [Приступая к работе с данными]. 

1. Выполните один из следующих командных файлов из вложенной папки **server** проекта, которые вы изменили после завершения учебника [Приступая к работе с данными].

	+ **launch-windows** (компьютеры с ОС Windows) 
	+ **launch-mac.command** (компьютеры с ОС Mac OS X)
	+ **launch-linux.sh** (компьютеры с ОС Linux)

	<div class="dev-callout"><b>Примечание.</b>
		<p>На компьютере Windows нажмите клавишу `R`, когда в PowerShell появится запрос на запуск скрипта. Веб-браузер может предупредить о том, что не следует запускать этот сценарий, так как он был загружен из Интернета. В этом случае необходимо указать, что браузеру следует продолжить загрузку скрипта.</p>
	</div>

	Это приведет к запуску веб-сервера на локальном компьютере, где и будет размещено приложение.

1. В веб-браузере откройте адрес <a href="http://localhost:8000/" target="_blank">http://localhost:8000/</a>, введите текст в поле **Добавить задачу** и нажмите **Добавить**.

3. Повторите предыдущий шаг минимум три раза, чтобы получить более трех элементов, хранящихся в таблице TodoItem. 

2. В файле app.js замените определение переменной `query` в методе **refreshTodoItems** на следующую строку кода:

       
        var query = todoItemTable.where({ complete: false }).take(3);

  	При выполнении этого запроса будут возвращены три верхних элемента, которые не помечены как завершенные.

3. Вернитесь к браузеру и перезагрузите страницу.

  	Обратите внимание, что отображаются только первые три результата из таблицы TodoItem. 

4. (Необязательно.) Просмотрите URI запроса, отправленного в мобильную службу, с помощью программы проверки сообщений, например средств разработчика браузера или [Fiddler]. 

   	Обратите внимание, что метод **take(3)** преобразован в параметр запроса **$top=3** в URI запроса.

5. Обновите запрос еще раз следующим кодом:
            
        var query = todoItemTable.where({ complete: false }).skip(3).take(3);

3. Вернитесь к браузеру и перезагрузите страницу.

   	Этот запрос пропускает первые три результата и возвращает следующие три. Это фактически вторая "страница" данных, где размер страницы равен трем элементам.

    <div class="dev-callout"><b>Примечание.</b>
    <p>В этом учебнике используется упрощенный сценарий передачи жестко запрограммированных значений разбиения по страницам в методы <strong>Take</strong> и <strong>Skip</strong>. В реальном приложении можно использовать запросы, подобные вышеуказанным с элементом управления страничного навигатора или соответствующим пользовательским интерфейсом, что позволяет пользователям переходить к предыдущей и следующей странице.  Можно также вызвать метод   <strong>includeTotalCount</strong>, чтобы получить общее количество элементов, доступных на сервере, наряду с разбитыми на страницы данных.</p>
    </div>

6. (Необязательно.) Снова просмотрите универсальный код ресурса (URI) запроса, отправленного в мобильную службу. 

   	Обратите внимание, что метод **skip(3)** был преобразован в параметр запроса **$skip=3** в URI запроса.

## <a name="next-steps"> </a>Дальнейшие действия

На этом завершается серия учебников, демонстрирующих основы работы с данными в мобильных службах. Далее узнайте, как проверить подлинность пользователей приложения, изучив учебник [Приступая к работе с проверкой подлинности]. Дополнительные сведения об использовании мобильных служб с помощью HTML/JavaScript см. в разделе [Справочник принципов использования мобильных служб HTML/JavaScript].

<!-- Anchors. -->

[Дальнейшие действия]:#next-steps

<!-- Images. -->


<!-- URLs. -->
[Приступая к работе с мобильными службами]: /ru-ru/develop/mobile/tutorials/get-started-html
[Приступая к работе с данными]: /ru-ru/develop/mobile/tutorials/get-started-with-data-html
[Приступая к работе с аутентификацией]: /ru-ru/develop/mobile/tutorials/get-started-with-users-html


[Портал управления]: https://manage.windowsazure.com/
[Справочник принципов использования мобильных служб HTML/JavaScript]: /ru-ru/develop/mobile/how-to-guides/work-with-html-js-client

