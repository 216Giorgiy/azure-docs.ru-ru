<properties linkid="" urlDisplayName="" pageTitle="" metaKeywords="" description="" metaCanonical="" services="" documentationCenter="" title="Начало работы с Azure и ASP.NET" authors=""  solutions="" writer="tdykstra" manager="wpickett" editor="mollybos"  />



# Начало работы с Azure и ASP.NET

<div class="dev-center-tutorial-selector sublanding"><a href="/ru-ru/develop/net/tutorials/get-started/" title="Visual Studio 2013">Visual Studio 2013</a><a href="/ru-ru/develop/net/tutorials/get-started-vs2012/" title="Visual Studio 2012" class="current">Visual Studio 2012</a></div>

<div class="dev-callout"><strong>Примечание.</strong><p>Доступна <a href="/ru-ru/develop/net/tutorials/get-started/">новая версия этого учебника</a>. Вы можете продолжить использование этой версии при работе с Visual Studio 2012, однако в ней не представлены все новые возможности Azure SDK.</p></div>

В этом учебнике показано, как развернуть веб-приложение ASP.NET на веб-сайте Azure с помощью мастера "Публикация веб-сайта" в Visual Studio 2012 или Visual Studio 2012 for Web Express. При желании вы можете выполнить действия, описанные в учебнике, в Visual Studio 2010 или Visual Web Developer Express 2010.

Можно бесплатно создать учетную запись Azure, а если у вас еще нет Visual Studio 2012, пакет SDK автоматически установит Visual Studio 2012 для Web Express. Так что вы можете приступить к разработке приложений для Azure совершенно бесплатно.

Этот учебник разработан для читателей, не имеющих опыта использования платформы Azure. По завершении изучения этого учебника вы получите простое веб-приложение, работающее в облаке.
 
Вы узнаете следующее:

* Как подготовить компьютер к разработке для Azure с помощью пакета Azure SDK.
* Как создать проект Visual Studio ASP.NET MVC 4 и опубликовать его на веб-сайте Azure.

На следующем рисунке показано завершенное приложение:

![Пример веб-сайта][DeployedWebSite]

<div class="dev-callout"><p><strong>Примечание.</strong> Для работы с этим учебником необходима учетная запись Azure. Если у вас нет учетной записи, можно <a href="/ru-ru/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F" target="_blank">активировать преимущества для подписчиков MSDN</a> или <a href="/ru-ru/pricing/free-trial/?WT.mc_id=A261C142F" target="_blank">подписаться на бесплатную пробную версию</a>.</p></div>
 
### Сегменты учебника

1. [Настройка среды разработки][]
2. [Создание веб-сайта Azure][]
3. [Создание приложения ASP.NET MVC 4][]
4. [Развертывание приложения в Azure][]
5. [Дальнейшие действия][]

[WACOM.INCLUDE [install-sdk-2012-only](../includes/install-sdk-2012-only.md)]

<h2><a name="setupwindowsazure"></a><span class="short-header">Создание сайта</span>Создание веб-сайта</h2>

Следующий шаг заключается в создании веб-сайта Azure.

1. На портале управления [Azure][PreviewPortal] щелкните **Веб-сайты**, а затем щелкните **Создать**.

![Новый веб-сайт][WebSiteNew]

2. Щелкните **Быстрое создание**.
	
	![Быстро создать][ClickQuickCreate]

3. На шаге **Создать веб-сайт** в мастере введите в поле **URL-адрес** строку, которая будет использоваться как уникальный URL-адрес для приложения. Полный URL-адрес будет состоять из введенной здесь строки и суффикса, который отображается рядом с текстовым полем. На рисунке показана строка **example1**, но если этот URL-адрес уже занят, придется указать другой.

4. В раскрывающемся списке **Регион** выберите ближайший к вам регион.
Этот параметр определяет, в каком центре обработки данных будет работать ваш веб-сайт. 

5. Щелкните стрелку **Создать веб-сайт**.

	![Создание нового веб-сайта](./media/web-sites-dotnet-get-started-vs2012/CreateWebsite.png)

	Портал управления возвращается на страницу веб-сайтов, и в столбце **Состояние** указывается, что веб-сайт создается. Через какое-то время (обычно меньше минуты) в столбце **Состояние** указывается, что сайт успешно создан. В строке навигации слева число сайтов вашей учетной записи отображается рядом со значком **Веб-сайты**.
	
	![Страница "Веб-сайты" на портале управления, веб-сайт создан][WebSiteStatusRunning]

<h2><a name="createmvc4app"></a><span class="short-header">Создание приложения</span>Создание приложения ASP.NET MVC 4</h2>

Вы создали веб-сайт Azure, но на нем еще нет контента. Следующим шагом будет создание проекта веб-приложения Visual Studio, которое будет опубликовано в Azure.

### Создание проекта

1. Запустите Visual Studio 2012 или Visual Studio 2012 for Web Express.

2. В меню **Файл** щелкните **Создать**, затем щелкните **Проект**.

!["Новый проект" в меню "Файл"][NewVSProject]

3. В диалоговом окне **Новый проект** разверните узел **C#** и выберите **Интернет** в разделе **Установленные шаблоны**, а затем выберите **Веб-приложение ASP.NET MVC 4**. 

3. Убедитесь, что в качестве целевой платформы выбрана **.NET Framework 4.5**.

4. Присвойте приложению имя **MyExample** и нажмите кнопку **OK**.
	
![Диалоговое окно "Новый проект"][NewMVC4WebApp]

5. В диалоговом окне **Новый проект ASP.NET MVC 4** выберите шаблон **Веб-приложение** и нажмите **OK**.

![Диалоговое окно "Новый проект ASP.NET MVC 4"][InternetAppTemplate]

### Запуск приложения на локальном компьютере

1. Нажмите сочетание клавиш **CTRL**+**F5** для запуска приложения. Главная страница приложения откроется в браузере, используемом по умолчанию.

![Веб-сайт, работающий локально][AppRunningLocally]

Это все, что необходимо для создания простого приложения, которое можно развернуть в Azure.

<h2><a name="deploytowindowsazure"></a><span class="short-header">Развертывание приложения</span>Развертывание приложения в Azure</h2>

1. В Visual Studio щелкните правой кнопкой мыши проект в **обозревателе решений** и выберите **Опубликовать** в контекстном меню.

	!["Опубликовать" в контекстном меню проекта][PublishVSSolution]

Откроется мастер **Публикация веб-сайта**.

2. На вкладке **Профиль** мастера **Публикация веб-сайта** выберите **Импорт**.

	![Параметры импорта публикации][ImportPublishSettings]

Появится диалоговое окно **Импорт профиля публикации**.

3. Если вы не добавили ранее подписку Azure в Visual Studio, выполните следующие действия. Выполнив эти действия, вы сможете добавить подписку, чтобы в раскрывающемся списке, расположенном под заголовком **Импорт с веб-сайта Azure**, содержался и ваш веб-сайт.
    
	- В диалоговом окне **Импорт профиля публикации** щелкните **Импорт с веб-сайта Azure**, а затем щелкните **Добавить подписку Azure**. 
    
	![add Azure subscription](./media/web-sites-dotnet-get-started-vs2012/rzAddWAsub.png)
    
	- В диалоговом окне **Импорт подписок Azure** щелкните **Загрузить файл подписки**.
    
	![загрузка файла подписки](./media/web-sites-dotnet-get-started-vs2012/rzDownLoadDownload.png)
    
	- В окне браузера сохраните файл *.publishsettings*.
    
	![загрузка файла .publishsettings](./media/web-sites-dotnet-get-started-vs2012/rzDown2.png)

	- В диалоговом окне **Импорт подписок Azure** нажмите кнопку **Обзор** и перейдите к файлу *.publishsettings*

	![загрузка файла подписки](./media/web-sites-dotnet-get-started-vs2012/rzDownLoadBrowse.png)

	- Щелкните **Импорт**.
    
	![импорт](./media/web-sites-dotnet-get-started-vs2012/rzImp.png)

	> [WACOM.NOTE]
	> Файл .publishsettings содержит учетные данные (без кодировки), используемые для администрирования подписок и служб Azure. В целях безопасности для этого файла рекомендуется временно хранить его за пределами исходных каталогов (например, в папке Libraries\Documents), а затем удалять после завершения импорта. Злоумышленник, получивший доступ к файлу .publishsettings, сможет изменять, создавать и удалять ваши службы Azure.

4. В диалоговом окне **Импорт профиля публикации** выберите **Импорт с веб-сайта Azure**, выберите свой веб-сайт в раскрывающемся списке, затем нажмите кнопку **OK**.

	![Импорт профиля публикации][ImportPublishProfile]

5. На вкладке **Подключение** щелкните **Проверить подключение**, чтобы убедиться в правильности задания параметров.

	![Проверка подключения][ValidateConnection]

6. После проверки подключения рядом с кнопкой **Проверить подключение** отображается зеленая галочка. Нажмите кнопку **Далее**.

	![Успешно проверенное подключение][ValidateConnectionSuccess]

7. На вкладке **Параметры** снимите флажок **Использовать эту строку подключения в строке выполнения**, поскольку данное приложение не использует базу данных. Можно принять заданные по умолчанию параметры для всех остальных элементов, представленных на этой странице.  Вы развертываете конфигурацию сборки для выпуска, и вам не требуется удалять файлы на целевом сервере, выполнять предварительную компиляцию приложения или исключать файлы из папки App_Data.
Нажмите кнопку **Далее**.

	![Вкладка "Параметры"][PublishWebSettingsTab]

8. На вкладке **Предварительный просмотр** нажмите кнопку **Начало предварительного просмотра**.

	![Кнопка "Начало предварительного просмотра" на вкладке "Предварительный просмотр"][PublishWebStartPreview]

	На вкладке отображается список файлов, которые будут копироваться на сервер. Предварительный просмотра не является обязательным для публикации приложения, но это полезная функция, о которой нужно знать. В этом случае вам не нужно ничего делать со списком показанных файлов. 

	![Вывод файлов при нажатии кнопки "Начало предварительного просмотра"][PublishWebStartPreviewOutput]

9. Щелкните **Опубликовать**. Visual Studio начинает процесс копирования файлов на сервер Azure.

10. В окне **Вывод** указывается, какие действия по развертыванию были выполнены, а также сообщается об успешном завершении развертывания.

	![Окно вывода с отчетом об успешном развертывании][PublishOutput]

11. После успешного развертывания URL-адрес развернутого веб-сайта автоматически открывается в используемом по умолчанию браузере.
Созданное вами приложение теперь выполняется в облаке.

	![Веб-сайт, работающий в Azure][DeployedWebSite]

<h2><a name="nextsteps"></a><span class="short-header">Дальнейшие действия</span>Дальнейшие действия</h2>

Из этого учебника вы узнали, как развернуть простое веб-приложение на веб-сайте Azure. Из других доступных ресурсов вы можете узнать, как осуществлять управление сайтом, его масштабирование и устранение неполадок, как добавить функции доступа к базе данных, аутентификации и авторизации, как решить, должно ли приложение работать в облачной службе Azure, а не на веб-сайте Azure.

<h3>Как управлять веб-сайтом</h3>
После завершения работы с этим сайтом его можно удалить; также время от времени может потребоваться временный перевод в автономный режим или изменение параметров сайта. Некоторые из этих функций можно выполнять непосредственно из **Обозревателя сервера** в Visual Studio.

![Веб-сайты Azure в обозревателе сервера](./media/web-sites-dotnet-get-started-vs2012/ServerExplorerWSSettings.png)

![Конфигурация веб-сайта в Visual Studio.](./media/web-sites-dotnet-get-started-vs2012/WSConfigurationInVS.png)

Чтобы удалить веб-сайт, можно использовать портал управления Azure. На следующем снимке экрана показаны кнопки **Остановить**, **Перезагрузить** и **Удалить**, расположенные на вкладке **Панель мониторинга** портала управления.

![Вкладка "Панель мониторинга" портала управления](./media/web-sites-dotnet-get-started-vs2012/MPStopStartDelete.png)

Параметры сайта можно изменить на вкладке **Настройка**. Дополнительные сведения см. в статье [Как управлять веб-сайтами](/ru-ru/manage/services/web-sites/how-to-manage-websites/).

<h3>Как масштабировать веб-сайт</h3>
Если сайт является общедоступным и на нем начинает увеличиваться трафик, время ответа может возрасти, замедляя работу. Чтобы исправить это, можно легко добавить ресурсы сервера на вкладке **Масштаб** портала управления.

![Вкладка "Масштаб" портала управления](./media/web-sites-dotnet-get-started-vs2012/MPScale.png)

Дополнительные сведения см. в статье [Как масштабировать веб-сайт](/ru-ru/manage/services/web-sites/how-to-scale-websites/). (Добавление ресурсов сервера для масштабирования веб-сайта не является бесплатным.)

<h3>Как устранить неполадки веб-сайта</h3>
Просмотр выходных данных трассировки или журналов поможет выявить и устранить неполадки. Visual Studio предоставляет встроенные инструменты, упрощающие просмотр журналов Azure по мере их создания в режиме реального времени.

![Журналы в Visual Studio](./media/web-sites-dotnet-get-started-vs2012/LogsInVS.png)

Дополнительные сведения см. в статье [Устранение неполадок веб-сайтов Azure в Visual Studio](/ru-ru/develop/net/tutorials/troubleshoot-web-sites-in-visual-studio/).

<h3>Как добавить функции доступа к базе данных и авторизации</h3>
На большинстве веб-сайтов используется база данных и некоторые функции сайта доступны только для определенных авторизованных пользователей. Сведения о том, как начать работу с функциями доступа к базе данных, аутентификации и авторизации, см. в учебнике [Развертывание безопасного приложения ASP.NET MVC с членством, OAuth и базой данных SQL на веб-сайте Azure][WebWithSQL].

<h3>Как решить, должно ли приложение работать в облачной службе</h3>
В некоторых ситуациях может потребоваться, чтобы приложение работало не на веб-сайте Azure, а в облачной службе Azure. Дополнительные сведения см. в статьях [Модели выполнения Azure](/ru-ru/develop/net/fundamentals/compute/) и [Веб-сайты Azure, облачные службы и виртуальные машины: когда они используются?](http://msdn.microsoft.com/ru-ru/library/windowsazure/jj218759.aspx). Серию учебников, показывающих, как создать многоуровневое веб-приложение ASP.NET и развернуть его в облачной службе, см. в статье [Многоуровневое приложение .NET, использующее таблицы хранилища, очереди и BLOB-объекты](/ru-ru/develop/net/tutorials/multi-tier-web-site/1-overview/).

[Настройка среды разработки]: #setupdevenv
[Создание веб-сайта Azure]: #setupwindowsazure
[Создание приложения ASP.NET MVC 4]: #createmvc4app
[Развертывание приложения в Azure]: #deploytowindowsazure
[Дальнейшие действия]: #nextsteps
[PreviewPortal]: http://manage.windowsazure.com



[WebWithSQL]: /ru-ru/develop/net/tutorials/web-site-with-sql-database/

[AppRunningLocally]: ./media/web-sites-dotnet-get-started-vs2012/AppRunningLocally.png
[ClickQuickCreate]: ./media/web-sites-dotnet-get-started-vs2012/ClickQuickCreate.png
[DeployedWebSite]: ./media/web-sites-dotnet-get-started-vs2012/DeployedWebSite.png

[ImportPublishSettings]: ./media/web-sites-dotnet-get-started-vs2012/ImportPublishSettings.png
[ImportPublishProfile]: ./media/web-sites-dotnet-get-started-vs2012/ImportPublishProfile.png
[InternetAppTemplate]: ./media/web-sites-dotnet-get-started-vs2012/InternetAppTemplate.png
[NewMVC4WebApp]: ./media/web-sites-dotnet-get-started-vs2012/NewMVC4WebApp.png
[NewVSProject]: ./media/web-sites-dotnet-get-started-vs2012/NewVSProject.png
[PublishOutput]: ./media/web-sites-dotnet-get-started-vs2012/PublishOutput.png
[PublishVSSolution]: ./media/web-sites-dotnet-get-started-vs2012/PublishVSSolution.png
[PublishWebSettingsTab]: ./media/web-sites-dotnet-get-started-vs2012/PublishWebSettingsTab.png
[PublishWebStartPreview]: ./media/web-sites-dotnet-get-started-vs2012/PublishWebStartPreview.png
[PublishWebStartPreviewOutput]: ./media/web-sites-dotnet-get-started-vs2012/PublishWebStartPreviewOutput.png

[ValidateConnection]: ./media/web-sites-dotnet-get-started-vs2012/ValidateConnection.png
[ValidateConnectionSuccess]: ./media/web-sites-dotnet-get-started-vs2012/ValidateConnectionSuccess.png

[WebSiteNew]: ./media/web-sites-dotnet-get-started-vs2012/WebSiteNew.png
[WebSiteStatusRunning]: ./media/web-sites-dotnet-get-started-vs2012/WebSiteStatusRunning.png

