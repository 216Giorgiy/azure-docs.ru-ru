<properties title="Azure Machine Learning Sample: Prediction of the number of bike rentals" pageTitle="Machine Learning Sample: Prediction of bike rentals | Azure" description="A sample Azure Machine Learning experiment to develop a regression model that predicts the number of bike rentals hourly." metaKeywords="" services="" solutions="" documentationCenter="" authors="garye" videoId="" scriptId="" />

<tags ms.service="machine-learning" ms.workload="tbd" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="garye" />

# Пример машинного обучения Azure: Прогнозирование количества прокатов велосипедов

*Пример эксперимента, связанный с этой моделью в ML Studio, можно найти в разделе **ЭКСПЕРИМЕНТЫ** на вкладке **ПРИМЕРЫ**. Имя эксперимента:*

    Sample Experiment - Demand Forecasting of Bikes

## Описание проблемы

Прогнозирование количества велосипедов, которые будут арендоваться ежечасно сегодня, с учетом предыдущих хронологических данных о прокате, ежечасно измеряемой погоды, а также указанием, относится ли текущий день к праздникам/рабочим дням/выходным дням. Результаты прогнозирования отличаются между часами (например,
 существует много прокатов утром, и почти нет прокатов ночью).

## Данные

Набор данных по прокату велосипедов UCI, основанный на реальных данных компании Capital Bikeshare, которая обслуживает сеть проката велосипедов в Вашингтоне, округ Колумбия. Набор данных имеет одну строку на каждый час каждого дня за 2011 и 2012 гг., что в результате дает 17 379 строк. Диапазон количества ежечасных прокатов велосипедов составляет от 1 до 977.

## Модель

Мы использовали данные за 2011 г. в качестве обучающего набора и данные за 2012 г. в качестве тестового набора. Мы сравнили 4 набора функций:

1.  погода + праздник + день недели + выходные дни для прогнозируемого дня
2.  количество велосипедов, которые были арендованы за каждый из предыдущих 12 часов
3.  количество велосипедов, которые были арендованы за каждый из предыдущих 12 дней в течение одного и того же часа
4.  количество велосипедов, которые были арендованы за каждую из предыдущих 12 недель в течение одного и того же дня

Функции B показывают недавний спрос на велосипеды. Функции C показывают спрос на велосипеды на определенный час. Функции D показывают спрос на велосипеды в определенный час и определенный день недели.

Так как метка (количество прокатов) является реальным значением, мы имеем регрессивную картину. Кроме того, так как количество функций является относительно небольшим (меньше 100), и они не являются разреженными, то граница принятия решения, вероятно, является нелинейной. По этой причине мы решили использовать алгоритм увеличивающейся регрессии дерева решений.

## Результат

| Функции | Средняя абсолютная погрешность | Среднеквадратическая ошибка |
|---------|--------------------------------|-----------------------------|
| A       | 89.7                           | 124.9                       |
| A+B     | 51.2                           | 86.7                        |
| A+B+C   | 48.5                           | 83.7                        |
| A+B+C+D | 48.8                           | 83.2                        |

</table>
Лучшие результаты показаны функциями A+B+C и A+B+C+D. Удивительно, но функции D не дают значительного выигрыша по сравнению с A+B+C.

