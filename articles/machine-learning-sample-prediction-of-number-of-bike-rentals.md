<properties title="Azure Machine Learning Sample: Prediction of the number of bike rentals" pageTitle="Пример машинного обучения: прогнозирование количества прокатов велосипедов | Azure" description="Пример эксперимента с Машинным обучением Azure, позволяющего разработать регрессионную модель, которая прогнозирует величину почасовой аренды велосипедов." metaKeywords="" services="machine-learning" solutions="" documentationCenter="" authors="garye" manager="paulettm" editor="cgronlun"  videoId="" scriptId="" />

<tags ms.service="machine-learning" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/23/2014" ms.author="garye" />


# Пример машинного обучения Azure: прогнозирование количества прокатов велосипедов

>[AZURE.NOTE]
>[Пример эксперимента] и [образец набора данных], связанные с этой моделью, доступны в ML Studio. См. дополнительные сведения ниже.
[Пример эксперимента]: #sample-experiment
[Образец набора данных]: #sample-dataset


## Описание проблемы ##
Прогнозирование количества велосипедов, которые будут сдаваться в прокат каждый час сегодня, с учетом предыдущих хронологических данных о прокате, ежечасно измеряемой погоды, а также указанием, является текущий день праздничным, рабочим или выходным. Результаты прогнозирования в разные часы различны (например,
 много прокатов утром и почти нет прокатов ночью). 

## Данные ##
Набор данных по прокату велосипедов UCI, основанный на реальных данных компании Capital Bikeshare, которая обслуживает сеть проката велосипедов в Вашингтоне, округ Колумбия. Набор данных имеет одну строку на каждый час каждого дня за 2011 и 2012 гг., что в результате дает 17 379 строк. Диапазон количества прокатов велосипедов в час составляет от 1 до 977.

## Модель ##
Мы использовали данные за 2011 г. в качестве обучающего набора и данные за 2012 г. в качестве тестового набора. Мы сравнили 4 набора функций:

1. Функции "погода" + "праздник" + "рабочий день" + "выходной день" для прогнозируемого дня
1. Количество велосипедов, которые были арендованы в каждый из предыдущих 12 часов
1. Количество велосипедов, которые были арендованы в каждый из предыдущих 12 дней в течение одного и того же часа
1. Количество велосипедов, которые были арендованы в каждую из предыдущих 12 недель в течение одного и того же часа и дня

Функции B показывают недавний спрос на велосипеды. Функции C показывают спрос на велосипеды на определенный час. Функции D показывают спрос на велосипеды в определенный час и определенный день недели.

Так как метка (количество прокатов) является реальным значением, мы имеем регрессивную картину. Кроме того, так как количество функций является относительно небольшим (меньше 100) и они не являются разреженными, то граница принятия решения, вероятно, является нелинейной. По этой причине мы решили использовать алгоритм регрессии увеличивающегося дерева решений.

## Результаты ##

<table border="1">
<tr><th>Функции</th><th>Среднее абсолютное отклонение</th> <th>Среднеквадратическое отклонение</th> </tr>
<tr style="background-color: #fff"><td>A</td> <td> 89,7</td> <td>124,9 </td> </tr>
<tr style="background-color: #fff"><td>A+B</td><td>51,2 </td> <td>86,7 </td></tr>
<tr style="background-color: #fff"><td>A+B+C</td><td> 48,5</td> <td> 83,7 </td></tr>
<tr style="background-color: #fff"><td>A+B+C+D</td><td> 48,8 </td> <td>83,2 </td></tr>
</table>

</table>

Лучшие результаты показаны функциями A+B+C и A+B+C+D. Удивительно, но функции D не дают значительного выигрыша по сравнению с A+B+C. 

## Пример эксперимента

Следующий пример эксперимента, связанный с этой моделью, доступен в ML Studio в разделе **ЭКСПЕРИМЕНТЫ** на вкладке **ПРИМЕРЫ**.

> **Пример эксперимента - Прогнозирование спроса на велосипеды**


## Образец набора данных

Следующий образец набора данных, используемый для этого эксперимента, доступен в ML Studio в палитре модулей в разделе **Сохраненные наборы данных**.

###Набор данных по прокату велосипедов UCI
[AZURE.INCLUDE [machine-learning-sample-dataset-bike-rental-uci-dataset](../includes/machine-learning-sample-dataset-bike-rental-uci-dataset.md)]


