<properties
   pageTitle="Red Teaming в корпоративном облаке Майкрософт"
   description="В этой статье рассматривается стратегия корпорации Майкрософт, которая называется Red Teaming, а также описывается ее выполнение и тестирования рабочего сайта на защиту от несанкционированного доступа к инфраструктуре, службам и приложениям в управляемом облаке Майкрософт. Здесь также содержатся сведения о том, как корпорация Майкрософт имитирует нарушения в реальных условиях, непрерывно следит за безопасностью и отрабатывает процедуры по устранению нарушений безопасности для проверки и улучшения безопасности служб Microsoft Azure и Office 365."
   services="virtual-machines, cloud-services, storage"
   documentationCenter="na"
   authors="YuriDio"
   manager="swadhwa"
   editor=""/>

<tags
   ms.service="azure-security"
   ms.devlang="na"
   ms.topic="get-started-article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="02/17/2016"
   ms.author="yuridio"/>


#Red Teaming в корпоративном облаке Майкрософт

Red Teaming не только обеспечивает соответствие системы определенным нормам или другим требованиям отрасли, но и позволяет корпорации Майкрософт и ее клиентам убедиться, что в облачных службах Майкрософт регулярно проводится мониторинг, тестирование и обновление средств безопасности с учетом постоянно меняющихся угроз, с которыми сталкиваются как клиенты, так и сама корпорация.

##Введение

Имитируя атаки в реальных условиях и используя тактики, методы и процедуры нарушения безопасности, которые применяют целеустремленные и упорные злоумышленники, организации могут подготовиться к последствиям текущих и будущих угроз. Нужно не просто предотвращать возникновение проблем с безопасностью. Крайне важно предполагать, что проблемы с безопасностью могут и будут возникать. Сведения, полученные в ходе Red Teaming и тестирования рабочего сайта на защиту от несанкционированного доступа, позволяют существенно усилить защиту, улучшить стратегии реагирования, обучить специалистов и повысить эффективность выполнения программы обеспечения безопасности.

Организации не могут исчерпывающим образом выявлять бреши в системе обнаружения и реагирования, полагаясь исключительно на стратегии предотвращения нарушений. Важно понимать, не только как обеспечивать безопасность, обнаруживать нарушения и устранять их, но и принимать меры по их предотвращению. Последнее, возможно, даже важнее. При подготовке к худшим сценариям с применением модели военных игр (теоретические исследования и проверка защиты от несанкционированного доступа) и Red Teaming (атаки и несанкционированный доступ в реальных условиях) организации смогут создать необходимые средства для обнаружения попыток несанкционированного доступа и существенно доработать процедуры, направленные на устранение нарушений безопасности.

###Red Teaming в корпоративном облаке Майкрософт 

В этой статье рассказывается о том, как корпорация Майкрософт применяет Red Teaming, форму тестирования рабочего сайта на защиту от несанкционированного доступа, к собственной управляемой инфраструктуре, службам и приложениям. Вы также узнаете о том, как корпорация Майкрософт имитирует нарушения в реальных условиях, непрерывно следит за безопасностью и отрабатывает процедуры по устранению нарушений безопасности для проверки и повышения безопасности служб Microsoft Azure и Office 365 (O365). Обратите внимание, что в ходе Red Teaming и тестирования рабочего сайта на защиту от несанкционированного доступа данные клиентов не затрагиваются намеренно. Тестируются инфраструктура и платформы Microsoft Azure и Office 365, а также клиенты, приложения и данные корпорации Майкрософт. Клиенты, приложения и данные пользователей, размещенные в Microsoft Azure или Office 365, не тестируются.

###Предотвращение и не только 

Стратегии и техники по предотвращению нарушений безопасности не гарантируют абсолютную защиту. Учитывая современную картину угроз, крайне важно осознавать, что нарушение уже произошло или скоро произойдет. Скорее всего, нарушение безопасности в организации уже произошло, но его просто еще не обнаружили. Это предположение позволит коренным образом изменить стратегии по обнаружению нарушений и их устранению, а также повлиять на инфраструктуру, сотрудников, процессы и технологии в организации.

![Квота NSA](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig1.png)

Согласно отчету о нарушениях безопасности данных компании Verizon за 2014 г. в около 80 % случаев нарушений организации не обнаруживали нарушения (стр. 12, <http://www.verizonenterprise.com/DBIR/2014/>[)](http://www.verizonenterprise.com/DBIR/2014/). Организации узнавали о нарушении извне, например от клиента, правоохранительных органов, сторонней службы или агентства по обнаружению мошенничества. Кроме того, в этих показателях учитываются только те случаи, когда злоумышленник был обнаружен. Сюда не входят случаи, в которых злоумышленника не обнаружили.

В следующих разделах мы рассмотрим переход к новой стратегии обеспечения безопасности, применяемой в облачных службах Майкрософт, включая Microsoft Azure и Office 365. Эта стратегия безопасности, которая называется предполагаемым нарушением, представляет собой метод и культурный сдвиг, которые изменяют основы разработки, проектирования и эксплуатации. В основе этой стратегии лежит предположение о том, что злоумышленники уже выявили уязвимости, получили привилегированный доступ и активно используют рабочие службы.

##Традиционный метод обеспечения безопасности 

Традиционные методы обеспечения безопасности в основном направлены на предотвращение. Предотвращение — это стратегия защиты, нацеленная на устранение уязвимостей и предварительное предотвращение возникновения брешей в системе безопасности. В портфеле служб Microsoft Online Services (который включает Microsoft Azure, Office 365, CRM Online и т. д.) эта стратегия реализована путем непрерывного улучшения процессов, обеспечивающих безопасность, с помощью программ по [*разработке средств безопасности для*](http://www.microsoft.com/security/sdl/default.aspx) [*гарантии безопасной эксплуатации*](http://www.microsoft.com/download/details.aspx?id=40872) (OSA). Моделирование угроз, статический анализ кода и тестирование безопасности полезны при определении возможных атак, сокращении числа уязвимостей и управлении областями атак. Однако эти стратегии не позволяют устранить все угрозы безопасности.

Пример стратегии предотвращения — то, как корпорация Майкрософт ограничивает доступ с правами оператора или администратора сотрудникам, имеющим обоснованную необходимость в доступе и удовлетворяющим соответствующим требованиям (например, они прошли анализ биографических данных, соответствуют всем нормативным требованиям и правилам безопасности относительно служебной обязанности или роли, требующей доступа и т. д.). Кроме того, администраторам не предоставляются постоянные разрешения. Вместо этого они получают доступ по принципу своевременности (Just-In-Time, JIT) [1] и объем прав, необходимых для выполнения своих прямых обязанностей (Just Enough Administration, JEA) [2]. К другим примерам можно отнести разделение среды электронной почты и рабочей среды сотрудника и использование специальных, хорошо защищенных рабочих станций для выполнения операций с конфиденциальной информацией.

По возможности человеческий труд заменяется автоматическими процессами, которые выполняются с помощью специальных средств и требуют тщательного аудита. Некоторые примеры ежедневно выполняемых операций включают развертывание, отладку, сбор диагностических данных и администрирование служб. Microsoft Online Services продолжают обеспечивать безопасность систем и автоматизацию операций для уменьшения вероятности возникновения потенциальных угроз для безопасности.

С точки зрения технологии операций предотвращение уязвимостей позволяет ограничить возникновение угроз. Однако при таком подходе невозможно навсегда устранить их. Таким образом, хотя внедрение и дальнейшее развитие программ и технологий обеспечения безопасности (например, SDL и OSA) корпорации Майкрософт остается важным средством предотвращения нарушений безопасности, нужно принять тот факт, что нарушения безопасности неизбежно повлияют на организации, службы и пользователей.

###Новые и возникающие угрозы 

За последние пять и более лет одна из категорий угроз получила более широкую огласку. Продвинутая постоянная угроза (APT) — термин, придуманный для обозначения спонсированных государством попыток проникновения на военные и промышленные базы безопасности, а также в правительственные организации с целью получения конфиденциальных данных. Сейчас термин APT широко используется в сфере цифровых технологий и безопасности для описания любой атаки на конкретную организацию или атаки, которая включает использование современных технических средств, независимо от того, являлась ли она продвинутой или постоянной. APT обладает такими общими характеристиками:

- тщательное планирование;

- выбор конкретных или последовательных целей;

- эффективная разведка;

- отработка навыков использования средств;

- социотехника.

Современные злоумышленники обладают значительными ресурсами и средствами управления. Независимо от навыков злоумышленников тенденции проблем с безопасностью с конца 2009 г. до сегодняшнего дня свидетельствуют о том, что вероятность возникновения нарушения и риски постоянно увеличиваются. Усложнение угроз безопасности и их нацеленность, а также увеличение частоты их возникновения дают понять, что рано или поздно бреши в системе безопасности повлияют на всех пользователей и все организации.

На фоне современной картины угроз, столкнувшись с целеустремленными и упорными злоумышленниками, недостаточно следовать одному лишь методу предотвращения. Кроме того, обычные средства обеспечения безопасности, например антивирусные программы и системы обнаружения вторжения (IDS), не позволяют в полной мере охватить весь спектр современных нарушений или уменьшить риск их возникновения. Средства, способствующие защите периметра сети, могут остановить любителей, но талантливые и целеустремленные злоумышленники всегда найдут способ проникнуть внутрь виртуальных границ. В результате организации зачастую слишком плохо подготовлены, когда возникает необходимость устранить нарушение и его последствия.

С развитием ИТ-технологий и внедрением облака границы предприятия больше не определяются периметром сети, которым управляет брандмауэр на физическом или виртуальном уровне. Корпоративные данные, включая конфиденциальные данные и данные приложений, присутствуют практически везде: локально, в частных центрах обработки данных, в облаке, в партнерских решениях и на различных пользовательских устройствах. Все это требует применения совершенно иных стратегий обеспечения безопасности, а также изменения методов обеспечения безопасности, используемых в большинстве организаций.

Процедуры, направленные на устранение нарушения, всегда были связаны со сложностями, включая определение области распространения нарушения, своевременное уведомление заинтересованных лиц и клиентов, исследование потери данных и восстановление скомпрометированных ресурсов. Как результат подкованности современных злоумышленников и развития ИТ-технологий сегодня устранение нарушений — одна из сложнейших задач. Таким образом, в отличие от традиционной стратегии, направленной на предотвращение нарушений, эффективная стратегия обеспечения безопасности предполагает, что целенаправленный и упорный злоумышленник успешно "взломает" любую систему безопасности.

##Метод предполагаемого нарушения 

Современная картина угроз требует, чтобы в эффективных стратегиях защиты внимание в равной степени уделялось предотвращению, обнаружению и реагированию. Проведя подробный анализ тенденций в сфере безопасности, корпорация Майкрософт начала активно отстаивать и подчеркивать необходимость уделить дополнительное внимание процедурам и технологиям реактивной безопасности, ориентированным на обнаружение возникающих угроз и реагирование на них, а не только на их предотвращение. Кроме того, в результате изменения общей картины угроз и глубокого анализа ситуации корпорация Майкрософт решила улучшить свою стратегию обеспечения безопасности, чтобы она включала не только предотвращение нарушений безопасности, но и дополнительную подготовку к их устранению. Такая стратегия предполагает прогноз основных событий безопасности не только с точки зрения вероятности возникновения, но и фактического возникновения.

Хотя метод предполагаемого нарушения корпорации Майкрософт применяется в течение уже многих лет, большинство пользователей не знают о шагах, предпринятых для усиления защиты облака Майкрософт. Предполагаемое нарушение — это подход, который позволяет определить необходимые вложения в систему безопасности, а также сформировать проектные решения и рекомендации по обеспечению безопасной эксплуатации. Согласно этому методу доверие к приложениям, службам, удостоверениям и сетям ограничивается, так как все они (внутренние и внешние) считаются небезопасными и, вероятно, уже скомпрометированными. Стратегия предполагаемого нарушения не была создана в результате нарушения какой-либо корпоративной или облачной службы Майкрософт. Толчком к ее созданию было признание того, что безопасность многих организаций в отрасли была нарушена несмотря на все попытки предотвратить это.

Несмотря на то, что предотвращение нарушений — важнейшая часть деятельности любой организации, этот метод следует постоянно тестировать и дорабатывать, чтобы эффективно устранять атаки современных злоумышленников, например APT. Чтобы подготовиться к нарушению, организации необходимо сформировать и поддерживать надежные, регулярно выполняемые и тщательно тестируемые процедуры по устранению угроз безопасности.

В то время как процедуры по предотвращению нарушений безопасности, например моделирование угроз, проверка кода и тестирование системы безопасности, постоянно выполняются в жизненном цикле безопасной разработки, метод предполагаемого нарушения предоставляет множество преимуществ, которые позволяют сосредоточиться на общей безопасности за счет использования средств реагирования и их оценки в случае нарушения. Специалисты корпорации Майкрософт собираются достичь этого, проводя военные игры и тестирования рабочего сайта на защиту от несанкционированного доступа. При этом они будут испытывать и формировать планы реагирования на угрозы безопасности с целью улучшить возможности обнаружения и реагирования.

![Стратегии предотвращения нарушений и предполагаемого нарушения](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig2.png)

*Рис. 1. Модели предотвращения нарушений и предполагаемого нарушения*

При использовании модели предполагаемого нарушения защита направлена на определение и устранение брешей в следующих сферах:

- обнаружение атак и событий несанкционированного доступа;

- реагирование на атаки и события несанкционированного доступа;

- восстановление после утечки, подделки или компрометации данных;

- предотвращение атак и событий несанкционированного доступа в будущем.

Стратегия предполагаемого нарушения позволяет убедиться, что механизмы защиты, обнаружения и реагирования реализованы на должном уровне. При этом также уменьшается вероятность потенциальных угроз со стороны опытных злоумышленников (использующих необходимые ресурсы, такие как скомпрометированные учетные записи и компьютеры).

Структура моделей облачных и гибридных вычислений позволяет понять всю важность роли, которую тестирование на защиту от несанкционированного доступа выполняет в рамках поддержки безопасности рабочей среды, включая готовность к устранению нарушений. Так как клиент не может управлять многими аспектами облака Майкрософт напрямую, корпорация Майкрософт обеспечивает не только защиту инфраструктуры, платформ и служб от атак, но и их выявление и устранение.

Таким образом, регулярно проводя военные игры и Red Teaming, мы оцениваем и улучшаем стратегию предполагаемого нарушения. Благодаря моделированию атаки в реальных условиях и тестированию на защиту от несанкционированного доступа корпорация Майкрософт может оценить способность противодействия атакам, выявления брешей в механизме обнаружения и реагирования, а также направления ресурсов для устранения этих брешей. Отрабатывая процедуры по устранению нарушений безопасности и непрерывно выполняя мониторинг, экспертизу и восстановление, мы стремимся разработать критически важные средства, необходимые для устранения нарушений.

###Реализации стратегии предполагаемого нарушения 

В облачных службах (Майкрософт) стратегия предполагаемого нарушения изначально реализовывалась за счет военных игр, а затем — фактических нарушений (нарушения "красной команды"), предназначенных для имитации атак в реальных условиях. Нарушения со стороны "красной команды" позволяют протестировать способность корпорации Майкрософт устранять целенаправленные и постоянные атаки, чтобы значительно сократить среднее время обнаружения [3] и среднее время восстановления [4].


![Цикл стратегии предполагаемого нарушения](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig3.png)

*Рис. 2. Цикл стратегии предполагаемого нарушения*

Военные игры представляют собой теоретические исследования, в ходе которых отрабатываются действия по устранению атак в реальных условиях. В рамках Red Teaming выполняется комплексное моделирование нарушений системы безопасности в условиях, максимально приближенных к реальным, что позволяет подготовить сотрудников, сталкивающихся с фактическими нарушениями.

Военные игры и Red Teaming позволяют заранее отработать процедуры по устранению нарушений. Ведь чем больше практики, тем лучше будет подготовлен человек к настоящему нарушению безопасности.


###Военные игры 

Прежде чем сконцентрировать все свои ресурсы на устранение нарушений "красной команды", сначала в корпорации Майкрософт проводятся теоретические исследования, которые называются военными играми. Военные игры похожи на [моделирование угроз SDL](http://msdn.microsoft.com/magazine/dd148644.aspx)[,](http://msdn.microsoft.com/magazine/dd148644.aspx)[ ](http://msdn.microsoft.com/magazine/dd148644.aspx)хотя и предназначены для реагирования на нарушения безопасности и персонала организации или службы, занимающегося устранением атаки. Цель военных игр — улучшить процедуры реагирования на нарушение безопасности за счет задействования персонала из различных групп корпорации Майкрософт — от группы безопасности до группы разработки и эксплуатации. Проводя военные игры все более тщательно, стало ясно, каких групп или представителей не хватает и необходимо привлечь.

Сотрудник или группа сотрудников, которые, скорее всего, понадобятся и будут задействованы при фактическом нарушении, также участвовали в наших военных играх. В них участвовали не только сотрудники из подразделений безопасности, проектирования и эксплуатации, но и представители почти всех групп корпорации, например юридического отдела, отдела кадров, маркетингового отдела, и даже руководители. Привлекая множество групп и отдельных специалистов, мы смогли создать необходимые связи между различными специальностями и подразделениями, что позволило разработать исчерпывающие планы реагирования на нарушения. Во многих случаях эти исследования позволили определить риски и ресурсы, требуемые для устранения нарушений, и распространить эту информацию по всей корпорации Майкрософт.

Основная цель военных игр — обеспечить полноту рабочих стандартов (SOP) и улучшить процедуры обнаружения и реагирования. Военная игра состоит из трех (3) основных этапов:

-   определение сценария атаки;

-   ложная атака и реагирование;

-   последующий анализ недостатков.

Определение сценария атаки начинается с составления списка потенциальных атак, которые можно смоделировать. Эти сценарии включают в себя атаки различных форм и часто объединяют различные сценарии атак, например:

-   Отказ в обслуживании

-   вспышка заражения вредоносными программами;

-   удаленное выполнение кода;

-   компрометация данных клиента;

-   локальный злоумышленник;

-   компрометация службы.

Зачастую приоритетными становились самые распространенные сценарии. Кроме того, сценарии выбирали с учетом нарушений системы безопасности, происходивших ранее (которые происходили в корпорации Майкрософт, в конкурентных организациях или наблюдались в отрасли).

После выбора сценария атаки один или несколько участников группы, обычно участник группы безопасности, выполняет роль злоумышленника ("нападающего") и описывает выполнение сценария атаки. Это начало ложной атаки и реагирования.

Другие участники военной игры выступают в качестве "защитников" и описывают способ обнаружения или реагирования на атаку, указывая любые существующие (или обнаруживая отсутствующие или неполные) рабочие стандарты. Пока "защитники" перечисляют действия по выявлению, исследованию, устранению ложной атаки или восстановлению после нее, "нападающий" приводит методы контратаки, которые позволят развенчать предположения "защитников" и более тщательно подобрать стратегию обнаружения и реагирования.

Например, если бы "защитники" предложили определить и заблокировать IP-адрес злоумышленника, "нападающий" ответил бы, что достаточно просто сменить IP-адрес источника или использовать общедоступную инфраструктуру атаки, например ботнеты, для осуществления атаки с использованием нескольких IP-адресов. Такой диалог при теоретическом исследовании позволяет разработать дополнительные рабочие стандарты и выявить участки системы безопасности, требующие доработки. Кроме того, в ходе военных игр обсуждаются важные аспекты безопасности.

Хотя военные игры очень полезны, они позволяют оценить далеко не все, особенно в отношении постоянных целенаправленных атак и упорных злоумышленников. Таким образом, корпорация Майкрософт стремится точно оценить и определить готовность к изощренным атакам целеустремленных и упорных злоумышленников. Помимо реагирования на фактические нарушения безопасности мы можем только имитировать фактические нарушения безопасности, используя стратегию Red Teaming. Red Teaming предполагает использование тактики нарушения безопасности в реальных условиях для атаки и получения несанкционированного доступа. Red Teaming выводит теоретический аспект военных игр на уровень реальных условий.

### Red Teaming 

Стратегию защиты "Предполагаемое нарушение" реализуют две (2) основные группы: "красная команда" (злоумышленники) и "синяя команда" ("защитники") [5]. Подход Red Teaming заключается в проверке систем и операций служб Microsoft Azure и Office 365 с применением к рабочей инфраструктуре тактик, методов и процедур реальных злоумышленников. При этом какие-либо дополнительные сведения о группах проектирования и эксплуатации инфраструктуры и платформ неизвестны.

Таким образом проверяются средства обнаружения и реагирования, что позволяет контролируемым образом выявить уязвимости рабочей среды, ошибки конфигурации, неверные предположения или другие проблемы системы безопасности. После нарушения "красная команда" и "синяя команда" предоставляют все сведения о выполняемых действиях, чтобы определить недоработки, разработать соответствующие меры и значительно улучшить стратегию реагирования на нарушения.

#### "Красная команда" 

"Красная команда" — это группа штатного персонала корпорации Майкрософт, нарушающая безопасность инфраструктуры, платформ, клиентов и приложений Майкрософт. Они представляют собой целеустремленных злоумышленников (группу злоумышленников, действующих в соответствии со стандартами), выполняющих целенаправленные и постоянные атаки служб Online Services (инфраструктуры, платформ и приложений Майкрософт, а не приложений и данных клиентов).

"Красная команда" должна выполнить атаку и проникнуть в среду, следуя этапам реализации нарушения [6], показанным на рис. 3:

![Этапы нарушения безопасности](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig4.png)

*Рис. 3. Этапы нарушения безопасности*

Поэтому критически важная часть подхода "красной команды" заключается в изучении и понимании распространенных в отрасли нарушений, а также тенденций в общей картине угроз, что позволяет им быть в курсе последних методов и средств, используемых злоумышленниками. Как один из наиболее часто атакуемых интернет-ресурсов в мире, службы Microsoft Online Services обеспечивают распространение большого объема данных о новых угрозах. "Красная команда" использует эти исследования и аналитические данные не только для моделирования тактик атак в реальных условиях на всех этапах реализации нарушения, но и для их выполнения.

Помимо исследования и моделирования распространенных стратегий злоумышленников "красная команда" разрабатывает новые и совершенствует уже известные методы компрометации Microsoft Azure и Office 365, используя собственные средства несанкционированного доступа и методы атак. Эта команда точно так же, как упорные злоумышленники, использует новые и комбинированные угрозы для нарушения безопасности и меняет тактику ввиду новых препятствий или средств защиты.

Так как талантливым и целеустремленным злоумышленникам удается "прорвать оборону", то же нужно сделать и "красной команде". Средства защиты границы могут остановить любителей, но упорные злоумышленники обязательно проникнут внутрь. Затем "красная команда" уже изнутри получает права доступа, чтобы еще глубже проникнуть в инфраструктуру "с другого фланга". Более того, как самые опытные злоумышленники, они "захватывают плацдарм". Так они укрепляют свои позиции и могут постоянно менять тактику во избежание обнаружения.

Например, "красная команда" может установить пользовательские средства (программы-роботы, средства удаленного управления и т. п.), с помощью которых можно в любое время получать доступ к скомпрометированным ресурсам и извлекать нужные данные. Таким образом они могут не только получать скрытый доступ к конфиденциальным данным, но и использовать их (опять же, только данные корпорации Майкрософт, а не данные клиентов).

Ввиду сложного характера работы участники "красной команды" в корпорации Майкрософт отвечают самым высоким стандартам безопасности и нормативным требованиям. Прежде чем задействовать сотрудников в каких-либо сценариях атаки, они проходят дополнительную проверку, анализ биографических данных и специальное обучение. Хотя "красная команда" намеренно не затрагивает данные клиентов, они придерживаются тех же требований относительно доступа к данным клиентов,

что и сотрудники обслуживающего персонала, которые развертывают, обслуживают и выполняют администрирование Microsoft Azure и Office 365. Кроме того, "красная команда" совершает атаки только на инфраструктуру и платформы, управляемые корпорацией Майкрософт. Вместо данных или приложений пользователей они нацеливают угрозы на клиентов, приложения и данные в облаке, которое принадлежит и находится в управлении корпорации Майкрософт.

Тем не менее "красная команда" придерживается строгих правил поведения. Ниже приведены пять (5) основных правил поведения, которые соблюдает "красная команда".

1.  Запрещается намеренно инициировать простой или влиять на состояние системы, нарушая условия соглашения об уровне обслуживания (SLA) клиента.

2.  Запрещается намеренно получать доступ к данным клиента или изменять их.

3.  Запрещается намеренно выполнять разрушительные действия.

4.  Запрещается ослаблять локальную защиту.

5.  Не распространять данные об уязвимости и другие важные сведения за пределами "красной команды" и делиться ними только с уполномоченными сотрудниками.

Кроме того, "красные команды" Azure и Office 365 должны следовать задокументированному набору правил вмешательства, разработанных для обеспечения соблюдения правил поведения. Правила вмешательства утверждены руководством корпорации Майкрософт.

Есть два самых важных показателя безопасности, которые нужно отслеживать, когда "красная команда" нарушает безопасность:

-   среднее время нарушения безопасности;

-   среднее время эскалации привилегий, или полного проникновения.

Среднее время нарушения безопасности позволяет определить период времени от начала действий до успешной компрометации объекта. На этом этапе "красная команда" обычно "захватывает плацдарм" в целевой среде. Среднее время эскалации привилегий (что некоторые злоумышленники называют полным проникновением) — это время от начала действий до полной компрометации. Например, в средах на базе Active Directory это момент времени, когда "красная команда" получает права администратора домена и/или компрометирует контроллер домена.

Можно предположить, что это окончательный этап, так как большинство организаций плохо подготовлены к устранению такого нарушения. Тем не менее стоит также отметить, что полное проникновение — это не единственная цель или сценарий в рамках Red Teaming. Помимо прочих, в ряд целей "красной команды" входят кража данных, компрометация на уровне клиента и отказ в обслуживании. Кроме того, для дополнительной детализации вышеуказанные показатели можно отслеживать и вычислять по каждому заданию, целевому ресурсу или типу ресурса.

Роль "красных команд" корпорации Майкрософт заключается в том, чтобы найти бреши в средствах управления безопасностью целевой среды. Отслеживание показателей среднего времени нарушения и эскалации привилегий позволяет им определить базовый уровень для улучшения средств защиты. Анализируя слабые места в системе безопасности с учетом уязвимостей в механизмах мониторинга и восстановления, Red Teaming оптимизирует инструменты и методы реагирования на проблемы с безопасностью (подробнее об этом позже). Самое главное то, что "красная команда" имитирует реальные угрозы, которые ведут к очевидным последствиям, что подтверждает необходимость в применении модели предполагаемого нарушения. Таким образом, Red Teaming помогает определить бизнес-риски, оправдать необходимость в ресурсах и вложениях для обеспечения защиты, а также обосновать установленные приоритеты.

#### "Синяя команда" 

"Синяя команда" состоит из участников оперативной группы безопасности или сотрудников подразделений реагирования на нарушения, проектирования и эксплуатации. Независимо от состава, это самостоятельная команда, которая работает отдельно от "красной команды". Участники этой команды выполняют установленные процедуры обеспечения безопасности и используют современные средства и методы для обнаружения атак и несанкционированного доступа, а также реагирования на эти события.

Так же, как и реальные злоумышленники, "синяя команда" не знает, когда их атакует "красная команда", как именно и какие методы будут использоваться. Их задача — обнаружить и устранить угрозы безопасности, независимо от того, кто атакует ("красная команда" или настоящий злоумышленник). По этой причине "синяя команда" должна работать круглосуточно и без выходных, чтобы реагировать на нарушения безопасности со стороны "красной команды" так же, как на атаки злоумышленников.

Если злоумышленник, например "красная команда", нарушит безопасность, "синяя команда" должна предпринять следующие меры:

-   Собрать свидетельства, оставленные злоумышленником.

-   Определить свидетельство, являющееся индикатором нарушения.

-   Оповестить соответствующую группу разработки и эксплуатации.

-   Рассмотреть оповещения на предмет необходимости в дальнейшем изучении.

-   Собрать сведения о состоянии среды, чтобы оценить область распространения нарушения.

-   Составить план исправления, чтобы предотвратить распространение угрозы или устранить ее.

-   Выполнить план исправления и восстановить систему после нарушения.

Эти этапы реагирования на нарушение безопасности выполняются параллельно этапам реализации нарушения, как показано на рис. 4:

![Этапы реагирования на нарушение безопасности](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig5.png)

*Рис. 4. Этапы реагирования на нарушение безопасности*

По сути, нарушения безопасности со стороны "красной команды" позволяют "синей команде" тренироваться обнаруживать реальные угрозы и устранять их на все этапах атаки. Самое главное, что благодаря такому методу сотрудники обеспечения безопасности могут попрактиковаться устранять проблемы с безопасностью еще до фактического нарушения (со стороны менее слаженной группы злоумышленников). Кроме того, таким образом "синяя команда" повышает уровень ситуационной осведомленности, что может пригодиться в противостоянии со злоумышленниками в будущем (будь то красная команда или реальный противник).

Обнаружение проблем с безопасностью и их решение позволяет "синей команде" получать ценные аналитические данные и подробные сведения о состоянии среды, которую они пытаются защитить. Зачастую это достигается путем анализа данных, который они выполняют в ответ на атаки "красной команды", и определения индикаторов угроз, таких как индикаторы нарушения.

Подобно тому, как "красная команда" выявляет бреши в системе безопасности, "синяя команда" выявляет их в механизме обнаружения и реагирования. Более того, так как "красная команда" моделирует реальные атаки, можно точно оценить способность "синей команды" противостоять целеустремленным и упорным злоумышленникам.

И наконец, нарушения безопасности со стороны "красной команды" позволяют оценить готовность организации устранить нарушение и определить степень действенности принятых мер.

Показатели, которые часто рассматривает "синяя команда":

- предполагаемое время обнаружения;

- предполагаемое время восстановления.

Причина, по которой это время можно определить лишь предположительно, состоит в том, что при нарушении, вне зависимости от того, когда оно произошло и реализовано ли оно полностью, "синяя команда" не может точно знать, в какой именно момент времени "красной команде" удалось провести успешную атаку. Точно так же они не могут точно знать, удалось ли им успешно устранить нарушение и полностью восстановить систему после атаки. Отсутствие свидетельств о продолжении проведения атаки не подтверждает, что противник устранен и система восстановлена. Именно поэтому устранение нарушения безопасности — задача не из простых. Это то же самое, что по одной соединять детали головоломки, не зная, как должен выглядеть окончательный рисунок и каких деталей может не доставать в том или ином фрагменте.

Благодаря расширенной осведомленности об общей картине угроз и более полной информации о состоянии защищаемой среды "синяя команда" может дополнить методы и процедуры реагирования на нарушение безопасности, тем самым улучшив свою готовность к его устранению.


#### Противостояние команд 

В отличие от традиционных методов тестирования на защиту от несанкционированного доступа, "красная команда" пытается сымитировать угрозы в реальных условиях, включая присутствие "тумана войны" [7]. Иными словами, "синей команде" неизвестно, какие действия предпринимает "красная команда", и наоборот. Когда "красная команда" компрометирует ресурс, они могут инициировать оповещение системы безопасности или проблему с безопасностью, даже не подозревая об этом.

И напротив, они могут сделать это намеренно, чтобы проверить реакцию и подтвердить свои наблюдения или отвлечь противника. Точно так же во время атаки "красная команда" может видеть ответные действия, например сброс паролей, восстановление скомпрометированных ресурсов, удаление механизмов сохраняемости или даже полное устранение угрозы (хотя последнее случается очень редко).

В связи с этим во время атаки "красная команда" может оценить влияние на механизм обнаружения и восстановления. Тем не менее каждая из команд не может точно оценить его по отдельности. Среднее время обнаружения и среднее время реагирования можно рассчитать только в конце, когда обе команды делятся информацией о предпринятых действиях. Чтобы успешно повлиять на механизм обнаружения и реагирования, "красной команде" необходимо сделать следующее:

- Сымитировать множество тактик, методов и процедур, которые отразятся в аналитических данных о произошедших (или будущих) нарушениях.

- Выполнить тактики, методы и процедуры на всех этапах реагирования на нарушение, что позволит протестировать и оценить механизм обнаружения и реагирования.

- Применить сложные технические и эксплуатационные методы.

- Повторять атаки, чтобы убедиться, что механизм обнаружения и реагирования подготовлен к атакам целеустремленных и упорных злоумышленников.

Чтобы задействовать "синюю команду" и привлечь их к действиям, "красная команда" может намеренно инициировать срабатывание механизма обнаружения и реагирования. Как правило, это происходит, когда "красная команда" достигла основных целей и если со стороны "синей команды" не наблюдается каких-либо действий.

Чтобы вызвать ответные действия, "красная команда", может, например, намеренно запустить проверку наличия вредоносных программ в ресурсе, таком как контроллер домена, результаты которой будут видны в тестовом файле EICAR [8]. Как только "синяя команда" обнаружит непредвиденное оповещение системы безопасности, тем более в таком критически важном ресурсе, как контроллер домена, они сразу же запустят процедуры реагирования. Полностью реализовать нарушение (от компрометации до устранения) можно, только если возникло событие безопасности. Если "синяя команда" не привлечена, полностью протестировать механизм реагирования невозможно.

В идеале "синяя команда" (изначально) не знает, кто вызвал событие — реальный злоумышленник или "красная команда" организации. По возможности "синяя команда" должна рассматривать все события системы безопасности как реальные нарушения, по крайней мере до тех пор, пока однозначно не подтвердится, что это действия "красной команды". Имитация реальных нарушений — лучший способ разработки методов защиты в реальных условиях.


#### Последующий анализ атаки "красной команды" 

По завершении каждой атаки со стороны "красной команды" обе команды собираются вместе, чтобы проанализировать выполнение нарушения и его устранение. На этом этапе команды делятся сведениями о предпринятых действиях, а также обсуждают использованные тактики и извлеченные уроки. "Красная команда" предоставляет сведения о том, когда и как они вторглись в среду, какие ресурсы скомпрометировали и взяли под контроль, а "синяя команда" рассказывает о том, удалось ли им полностью нейтрализовать "красную команду" и восстановить систему.

Кроме того, "синяя команда" предоставляет сведения о времени и способе обнаружения действий "красной команды" (если таковые обнаружены), вычисленных скомпрометированных ресурсах, обнаруженных механизмах сохраняемости, задействованных "красной командой", а также об ответных действиях, предпринятых при попытке нейтрализовать "противника" и восстановить систему после атаки. Это самый уникальный и критически важный аспект Red Teaming: "красная команда" — это единственный злоумышленник, который предоставляет подробные сведения об атаке и может оценить действенность системы обнаружения и реагирования (успех или неудача). Сравнение докладов обеих команд позволяет определить все бреши в системе обнаружения и реагирования.

Только на этапе последующего анализа атаки при полном раскрытии действий обеих команд можно точно определить среднее время обнаружения и восстановления. Например, чтобы рассчитать среднее время обнаружения, можно сравнить разницу между средним временем нарушения безопасности (со стороны "красной команды") и предполагаемым временем его обнаружения (со стороны "синей команды"). Эти показатели обнаружения и реагирования как во время события, так и после, позволяют определить бизнес-риски, связанные с брешами в механизме обнаружения и реагирования, которые удалось выявить при исследовании.

На дальнейших стадиях последующего анализа обе команды объединяют усилия, чтобы определить уязвимости и необходимые вложения в систему безопасности, которые позволят улучшить механизмы защиты, обнаружения и реагирования. С каждой атакой "красной команды" обе команды выявляют участки системы безопасности, которые требуют доработки, чтобы усилить защиту, замедлить распространение угрозы и ускорить обнаружение и устранение. Другими словами, они стремятся ухудшить показатели среднего времени нарушения безопасности и улучшить показатели среднего времени обнаружения и восстановления.

Последняя стадия последующего анализа для обеих команд — предоставление подробных отчетов. Эти отчеты содержат временные показатели нарушения со стороны каждой из команд, общие сведения о последствиях исследования, а также подробный список уязвимостей, замечаний и требующих доработки участков, которые необходимы для улучшения механизма обнаружения и устранения нарушения.

### Принципы безопасности 

Ключевым преимуществом Red Teaming является консолидация экспертов в области обеспечения безопасности и специалистов по нарушению безопасности, действующих в рамках установленных стандартов. Как и в любой другой профессии, сотрудники отдела проектирования и эксплуатации специализируются на определенных областях, которые не обязательно связаны с защитой от атак и несанкционированного доступа. Разработчики и сотрудники эксплуатационного отдела корпорации Майкрософт хорошо разбираются в SDL, OSA и общих условиях проектирования (CEC), однако "красная команда" занимается тестированием безопасности в рамках внешней рабочей среды, благодаря чему сама модель тестирования намного проще.

Вкладывая средства в Red Teaming, чтобы понять и использовать новейшие угрозы для атаки рабочего сайта, корпорация Майкрософт стремится постоянно тестировать и улучшать процедуры реактивной безопасности, следуя следующим ключевым принципам безопасности:

- Не ограничиваться одной определенной стратегией обеспечения безопасности в **статических сценариях атак** и рассматривать более **одной позиции** для атаки.

- Использовать **дополнительные средства управления безопасностью** для обеспечения совокупного влияния и улучшения защиты.

- **Число и распределение** средств управления безопасностью важнее, чем эффективность отдельных средств.

- Основная цель — **сдержать распространение нарушения и устранить его**, а не **предотвратить** атаку.

## Сводка 

Всем компаниям отрасли нужно смириться с тем фактом, что их безопасность может находиться под постоянной угрозой. Однако многие компании и не подозревают о том, что их система безопасности уже нарушена. При современной картине угроз компаниям необходимо снизить степень уязвимости к атакам, в частности к внутренним. В связи с этим крайне важно значительно улучшить показатели среднего времени обнаружения и восстановления после атаки.

В этом техническом документе объясняется, почему организациям необходимо оптимизировать механизмы устранения брешей в системе безопасности. Применяя стратегию предполагаемого нарушения, корпорация Майкрософт стремится расширить исследование аспектов обеспечения безопасности. Подобные стратегии защиты могут помочь и другим организациям в борьбе с новыми и развивающимися угрозами безопасности.

Мы заранее планируем действия при нарушении безопасности, а также имитируем атаки и несанкционированный доступ, применяя методику военных игр и моделирования действий активных злоумышленников ("красная команда"), чтобы расширить возможности управления проблемами с безопасностью. Red Teaming позволяет в рамках реальных сценариев находить бреши в системе безопасности, анализировать уязвимые места и предоставлять конкретные свидетельства о необходимости применения модели предполагаемого нарушения.

"Синяя команда" в свою очередь тренирует способность обнаружения и устранения нарушений. Благодаря такому подходу с задействованием двух команд отделы обеспечения безопасности могут сосредоточиться на ключевых направлениях атак, разрабатывать меры противодействия и улучшать основные механизмы реагирования, что необходимо для подготовки к атакам целеустремленных и упорных злоумышленников.

Red Teaming — один из самых важных компонентов разработки и обеспечения безопасности инфраструктуры, платформ и служб Майкрософт. "Красные команды" Microsoft Azure и Office 365 олицетворяют продвинутых злоумышленников и позволяют корпорации Майкрософт проверить и улучшить безопасность, усилить защиту и повысить эффективность программ обеспечения безопасности в корпоративном облаке.

За счет постоянных атак рабочего сайта и получения несанкционированного доступа со стороны "красной команды" соответствующий отдел организации может попрактиковаться устранять нарушения безопасности, а также точно оценить готовность к реальным атакам и их последствиям. Наши клиенты могут быть уверены, что мы постоянно улучшаем методы защиты, обнаружения и устранения, чтобы предоставлять более безопасные облачные службы.

## Справочные и дополнительные материалы 

Ниже приведены ресурсы, с помощью которых можно получить общие сведения о службах Microsoft Azure и Office 365, а также некоторые дополнения к информации, содержащейся в основном тексте.

- [Домашняя страница Microsoft Azure](http://azure.microsoft.com) — общие сведения и ссылки по Microsoft Azure.

- [Домашняя страница Microsoft Office](http://products.office.com) — общие сведения и ссылки по Microsoft Office.

- [Центр управления безопасностью Microsoft Azure](https://www.microsoft.com/TrustCenter/CloudServices/Azure)

- [Центр управления безопасностью Microsoft Office 365](https://www.microsoft.com/TrustCenter/CloudServices/Office-365).

- [Центр Microsoft Security Response Center](http://www.microsoft.com/security/msrc/default.aspx)

- К Microsoft Azure или Office 365 можно обратиться через *[*http://www.microsoft.com/security/msrc/default.aspx*](http://www.microsoft.com/security/msrc/default.aspx)[] (http://www.microsoft.com/security/msrc/default.aspx) или по электронной почте **secure@microsoft.com*.

- [Интервью с Марком Руссиновичем (Mark Russinovich) об обеспечении безопасности Microsoft Azure, сосредоточенное на нововведения тестирования на защиту от несанкционированного доступа](http://blogs.technet.com/b/matthewms/archive/2013/07/02/an-interview-with-mark-russinovich-on-windows-azure-amp-security-update-on-penetration-testing.aspx).

- [Red vs. Blue - Internal security penetration testing of Microsoft Azure and O365](http://azure.microsoft.com/documentation/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/) (Противостояние команд. Тестирование на внутреннюю защиту от несанкционированного доступа для Microsoft Azure и Office 365).



## ПРИЛОЖЕНИЕ 

### Разница между Red Teaming и тестированием на защиту от несанкционированного доступа 

В стандартных методах тестирования на защиту от несанкционированного доступа для попытки вторжения используются общие средства. Все возможности, используемые опытными злоумышленниками, применяются достаточно редко.

При традиционном тестировании на защиту от несанкционированного доступа имитируется только момент возникновения нарушения. Затем эксперимент завершается, чтобы излишне не нагружать среду. Таким образом устранение нарушения не практикуется в условиях реальной атаки. Red Teaming — это постоянно действующая стратегия, которая не прекращается после завершения тестирования. В ходе Red Teaming можно обнаружить то, что зачастую упускается при использовании других методик тестирования на защиту от несанкционированного доступа (см. таблицу 1 ниже):

**ТРАДИЦИОННОЕ ТЕСТИРОВАНИЕ НА ЗАЩИТУ ОТ НЕСАНКЦИОНИРОВАННОГО ДОСТУПА И RED TEAMING**

| | Традиционное тестирование на защиту от несанкционированного доступа | Red Teaming |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Сохраняемость** | Эксперимент прекращается, если среда успешно скомпрометирована | Устанавливается механизм сохраняемости, который позволяет получать постоянный доступ и оценить полноту восстановления системы после нарушения |
| **Средства** | Используются только доступные на данный момент средства, а затем ожидается переход к следующему циклу тестирования | Непрерывно исследуются новые уязвимости и слабые места; для атаки используются новые средства сразу после их обнаружения |
| **Действия после нарушения** | Выполняется роль "белого хакера" (если попытка проникнуть в систему удалась, дальнейшие действия не предпринимаются) | После проникновения злоумышленники получают скрытый доступ к конфиденциальным данным и используют их для реализации последующих атак |
| **Избежание обнаружения** | При статическом тестировании попытка избежания обнаружения может не выполняться. При обнаружении тестирование прекращается | Выполняются динамические тесты с попыткой избежания обнаружения |
| **Опытные злоумышленники** | Оказывается нагрузка на системы безопасности, которые к ней подготовлены (возможна полная осведомленность об ИТ-системах), выполняется проверка того, развернуты ли системы надлежащим образом, и используются известные средства | Запускаются зонды для обнаружения развернутых *и* неразвернутых систем, чтобы обнаружить слабые места. Для атак систем используются внутренние знания и пользовательские средства, включая разработку пользовательских и ранее неизвестных средств |
| **Рабочие сайты** | Атака рабочих систем практически не выполняется. Чаще всего тестируются предварительно развернутые системы | Атака рабочих систем на всех уровнях |
| **Мотивация** | Тестирование выполняется на основе предположений о среде. Тестируются только разрешенные участки | Предположения не учитываются. Предпринимаются попытки скомпрометировать любой участок системы. При необходимости меняется тактика и область атаки |
| **Результаты** | Предоставляются сведения о проведенных тестах и их результаты (успех или неудача) | Вычисление и точная оценка показателей среднего времени нарушения, эскалации привилегий, обнаружения и восстановления. Предоставляются подробные сведения о времени и способе проникновения в среду, скомпрометированных ресурсах, а также результатах действий по обнаружению и реагированию |


**Таблица 1. Обзор различий между традиционным тестированием на защиту от несанкционированного доступа и Red Teaming**


##Зачем выполнять атаки на рабочие среды? 

Тестируемая и предварительная среда никогда не соответствуют рабочей среде. Изменения, внесенные во время развертывания, текущие операции со службами и различия в использовании рабочей среды клиентами приводят к отличиям в состоянии. Эти различия присутствуют не просто так. Для каждой рабочей среды существуют различные потребности относительно ожидаемой нагрузки, допустимого времени простоя, а также безопасности, соответствия стандартам, нормативных и контрактных требований.

Вместо атак сред разработки и тестирования в лабораторных условиях при гипотетических рабочих нагрузках или даже реальных компонентов с фиктивными данными в ходе Red Teaming путем тестирования рабочего сайта на защиту от несанкционированного доступа проверяются реальные системы. Это одно из основных отличий Red Teaming от более традиционных стратегий безопасности: реальные серверы, реальные клиенты и реальные данные. В рамках тестирования рабочего сайта на защиту от несанкционированного доступа в рабочей среде можно получить более надежные и точные показатели влияния нарушений на клиентов и организацию.

Тестирование рабочего сайта на защиту от несанкционированного доступа предусматривает дополнительные преимущества. При тестировании проверяются возможности обнаружения и реагирования. Атаки в реальных условиях предоставляют возможность проверить надежность защиты развернутой рабочей среды, а также механизмов обнаружения и реагирования. Благодаря такому подходу организации узнают, что рабочая среда подвергается атаке или уже скомпрометирована. Таким образом Red Teaming вынуждает группы устранения нарушений организации регулярно практиковать методы защиты от атак со стороны целеустремленных и упорных злоумышленников.

##Использование подхода с использованием "красной команды" 

Для реализации стратегии предполагаемого нарушения вовсе не обязательно выделять средства и ресурсы на создание собственной "красной команды". Простое изменение подхода к развертыванию и тестированию безопасности приложений и инфраструктуры может принести ощутимые преимущества. К примеру, понимая, что атака может продолжаться и после первоначальной компрометации данных, вы сможете разработать меры безопасности для защиты информации и критически важных ресурсов даже в случае нарушения.

Тем не менее, Red Teaming — это эффективный способ протестировать действенность мер и процедур по обеспечению безопасности, повысить осведомленность разработчиков, участников оперативной группы безопасности и сотрудников подразделения эксплуатации и управления о текущих условиях и состоянию среды, а также подготовить их к возникающим угрозам. Чтобы правильно расставить приоритеты инвестирования, следует учесть рекомендации ниже.

-   **Стратегия предотвращения нарушений и предполагаемого нарушения** не должны заменять друг друга. Предотвращение нарушения — это критически важный способ реализации методов обеспечения безопасности для защиты от атак, а модель предполагаемого нарушения позволяет проверить механизм обнаружения и реагирования до, во время и после нарушения.

-   **Определите самые важные ресурсы и данные**, чтобы расставить приоритеты инвестирования с использованием подхода предполагаемого нарушения. Какие данные наиболее важны для бизнеса? Где хранятся эти данные? Какие ресурсы критически важны для бизнеса?

-   **Определите важные исследования** по обеспечению безопасности с учетом тенденций нарушений, а также тактик, методов и процедур, применяемых злоумышленниками к конкретной среде.

-   **Получите согласие**, особенно руководства, и заверьте его официально. Кроме того, различные рабочие группы или подразделения компании должны быть осведомлены о проводимых исследованиях и дать свое одобрение. Если нацелить атаку на участок рабочей среды, который ранее не проверялся на устойчивость к нарушениям,это может привести к непредвиденным сбоям в работе службы и проблемам с качеством обслуживания клиентов.


После составления плана реализации Red Teaming необходимо побеспокоиться о надежности.

-   **Персонал**. В каждой из команд в рамках модели предполагаемого нарушения должно быть достаточно квалифицированных специалистов. "Синяя команда" должна рассматривать все нарушения системы безопасности, включая нарушения со стороны "красной команды", как реальные нарушения. Учитывайте недостатки подхода в отношении возможности привлечения сотрудников с полной занятостью и сторонних специалистов, включая безопасность интеллектуальной собственности, созданной и скомпрометированной в ходе Red Teaming. Привлекая стороннего поставщика, *проверьте сферу его деятельности*, надежность и репутацию.

-   **Тщательная проверка**. Участники команды должны не только обладать соответствующими техническими навыками, но и заслуживать доверия. Выполните тщательную проверку кандидатур потенциальных сотрудников, включая анализ биографических данных.

-   **Обучение**. Если вы нанимаете работников на условиях полной занятости, они должны пройти обучение стандартам в области корпоративной этики, безопасности, конфиденциальности и соответствия нормативным требованиям, а также знать любые другие необходимые требования компании или отрасли (внешние организации должны быть сертифицированы для проведения регулярных обучающих мероприятий).

-   **Аудит**. Крайне важно надлежащим образом отслеживать и регистрировать действия "красной команды" до и во время осуществления тестирования, а также выполнять их аудит. Для "красной команды" это сродни "доказательству невиновности". Это позволяет гарантировать, что ее участники не будут нести ответственность за нарушения, которые не являются результатом их деятельности, а также будут соблюдать правила поведения и вмешательства. Кроме того, эти записи регистрации и аудита зачастую используются при вычислении показателей среднего времени нарушения, обнаружения и восстановления, а также для предоставления подробного отчета после тестирования.

-   **Эксплуатационная безопасность**. Крайне важно, чтобы участники "красной команды" придерживались строгих правил эксплуатационной безопасности касательно тактик, методов, процедур, используемых инструментов, результатов проверки безопасности, отчетов, уязвимостей, обходных решений и др. Если злоумышленник получит доступ к ресурсам "красной команды", участники команды смогут быстро воссоздать и воспроизвести действия при атаках уязвимых участков с разрушительными последствиями.

##Дополнительная информация

Для тестирования на защиту от несанкционированного доступа на корпоративном уровне требуется участие нескольких сторон в рамках организации. Так как этот документ содержит пошаговые указания, он предназначен для тех, кто отвечает за оценку рисков безопасности для сред, систем и процессов. Обратите внимание, что приведенные здесь сведения представляют собой обзор реализации стратегии Red Teaming и тестирования рабочего сайта на защиту от несанкционированного доступа группами безопасности Microsoft Azure и Office 365. Эти сведения не являются инструкциями для клиентов по проведению атак инфраструктуры, платформ или служб облака Майкрософт.

Несмотря на то, что мы постоянно выполняем тестирование на защиту от несанкционированного доступа, чтобы улучшить методы управления безопасностью облака, мы также понимаем, насколько важны проверки безопасности при разработке и развертывании приложений наших клиентов. Поэтому мы разработали политику, которая позволяет нашим клиентам выполнять тестирование на защиту от несанкционированного доступа на собственных приложениях, например приложениях, размещенных в Microsoft Azure.

Так как такое тестирование иногда трудно отличить от реальной атаки, прежде чем выполнять его, клиентам обязательно нужно получить предварительное одобрение от службы поддержки клиентов Microsoft Azure. Пользовательское тестирование на защиту от несанкционированного доступа должно выполняться в соответствии с условиями корпорации Майкрософт. Запросы на проведение тестирования на защиту от несанкционированного доступа следует подавать не позднее, чем за 7 дней до его выполнения. Дополнительные сведения см. на странице [центр управления безопасностью корпорации Майкрософт] https://www.microsoft.com/TrustCenter/CloudServices/Azure).

## Ссылки

1\. Доступ и повышение привилегий по принципу своевременности (JIT) — этот принцип предусматривает повышение привилегий только по мере необходимости и только в момент необходимости. Зачастую перед получением доступа необходимо получить одно или несколько утверждений.

2\. Выполнение своих прямых обязанностей (JEA) — это решение, предназначенное для защиты систем. Оно заключается в предоставлении определенным пользователям возможности выполнять задания администрирования без предоставления им прав администратора. При этом выполняется мониторинг всех действий этих пользователей. Дополнительные сведения см. [в статье на веб-сайте TechNet](https://gallery.technet.microsoft.com/Just-Enough-Administration-6b5ad370).

3\. В контексте нарушения безопасности среднее время обнаружения — это интервал времени, необходимый для обнаружения нарушения безопасности.

4\. Среднее время восстановления — это период времени, необходимый для восстановления после обнаружения нарушения.

5\. Сотрудники персонала Microsoft Azure и Office 365 отобраны в качестве участников "красной" и "синей" команд, которые выполняют деятельность на постоянной основе.

6\. Дополнительные сведения см. в статье компании Lockheed Martin [Intelligence-Driven Computer Network Defense Informed by Analysis of Adversary Campaigns and Intrusion Kill Chains](http://www.lockheedmartin.com/content/dam/lockheed/data/corporate/documents/LM-White-Paper-Intel-Driven-Defense.pdf) ("Защита компьютерных сетей на основе аналитических данных, полученных в результате анализа атак злоумышленников и действий по устранению этих атак").

7\. Туман войны — это термин, используемый для обозначения неопределенности относительно их собственных возможностей, возможностей злоумышленника и его намерений.

8\. Тестовый файл EICAR (также называемый стандартным антивирусным тестовым файлом EICAR) — это компьютерный файл, разработанный в Европейском институте исследования компьютерных антивирусов (EICAR) и организации по изучению компьютерных антивирусов (CARO) для тестирования реагирования программ защиты от вредоносного программного обеспечения. Этот тестовый файл позволяет проверить программное обеспечение для защиты от вредоносных программ, не используя реальные компьютерные вирусы и вредоносные программы, которые могут нанести реальный ущерб.


*(c) Корпорация Майкрософт (Microsoft Corporation), 2014. Все права защищены. Этот документ предоставляется "как есть". Сведения и мнения, представленные в данном документе, включая URL-адреса и ссылки на другие веб-сайты, могут быть изменены без предварительного уведомления. Вы берете на себя риски, связанные с использованием этого документа. Некоторые примеры являются вымышленными и приводятся исключительно в демонстрационных целях. Все сходства с реальными ситуациями случайны. Настоящий документ не предоставляет юридических прав на интеллектуальную собственность в отношении продуктов корпорации Майкрософт. Разрешается копирование и использование настоящего документа в справочных целях.*

<!---HONumber=AcomDC_0218_2016-->