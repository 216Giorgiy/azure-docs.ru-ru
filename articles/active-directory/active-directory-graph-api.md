<properties
   pageTitle="API Graph Azure Active Directory"
	description="Общие сведения и краткое руководство по API Graph, который обеспечивает программный доступ к Azure AD через конечные точки API-интерфейса REST."
	services="active-directory"
	documentationCenter=""
	authors="msmbaldwin"
	manager="mbaldwin"
	editor="mbaldwin"/>
<tags
   ms.service="active-directory"
	ms.devlang="na"
	ms.topic="article"
	ms.tgt_pltfrm="na"
	ms.workload="identity"
	ms.date="08/25/2015"
	ms.author="mbaldwin"/>

# API Graph Azure Active Directory

API Graph Azure Active Directory обеспечивает программный доступ к Azure AD через конечные точки API-интерфейса Rest Azure AD. Приложения могут использовать Graph API для выполнений операций создания, чтения, обновления и удаления (CRUD) с данными и объектами каталогов. Например, API Graph поддерживает следующие операции для объекта-пользователя.

- Создание нового пользователя в каталоге.

- Получение подробных свойств пользователя, например его группы.

- Обновление свойств пользователя, например его расположения и номера телефона, или изменение его пароля.

- Проверка членства в группах для доступа на основе ролей.

- Отключение или полное удаление учетной записи пользователя.

Вы можете выполнять с другими объектами, например группами или приложениями, те же операции, что и с объектами-пользователями. Чтобы вызвать API Graph в каталоге, приложение должно быть зарегистрировано в Azure AD и разрешать доступ к каталогу. Обычно это делается с помощью потока согласия пользователя или администратора.

Чтобы начать использование API Graph Azure Active Directory, см. [Краткое руководство по API Graph](active-directory-graph-api-quickstart.md).


## Функции

API Graph предоставляет следующие возможности.

- **Конечные точки API-интерфейса Rest**. Служба API Graph соответствует ограничениям REST. Она состоит из конечных точек, доступ к которым можно получить с помощью стандартных HTTP-запросов. API Graph поддерживает содержимое в виде XML или нотаций объектов Javascript (JSON) для запросов и ответов. Дополнительную информацию см. в статье [Справочник по API REST Graph Azure AD](https://msdn.microsoft.com/library/azure/hh974478.aspx).

- **Проверка подлинности с помощью Azure AD**. Каждый запрос API Graph должен пройти проверку подлинности путем добавления веб-маркеров JSON (JWT) в заголовок авторизации запроса. Чтобы получить этот токен, нужно отправить запрос к конечной точке токена Azure AD и предоставить действительные учетные данные. Чтобы получить токен для вызова Graph, можно использовать поток клиентских учетных данных OAuth 2.0 или поток предоставления кода авторизации. Дополнительные сведения см. в статье [OAuth 2.0 в Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).

- **Ролевая авторизация (RBAC)**. Для реализации RBAC в API Graph используются группы безопасности. Например, чтобы определить, имеет ли пользователь доступ к определенному ресурсу, приложение может вызвать операцию [Проверить членство в группе (транзитивное)](https://msdn.microsoft.com/library/azure/dn151601.aspx), которая возвращает значение true или false.

- **Дифференциальный запрос**. Если вы хотите проверить наличие изменений в каталоге в промежутке между двумя периодами времени, не отправляя частые запросы к API Graph, вы можете сделать дифференциальный запрос. Этот тип запроса возвращает только изменения, внесенные в промежутке между предыдущим дифференциальным запросом и текущим запросом. Дополнительную информацию см. в статье [Дифференциальный запрос API Graph Azure AD](https://msdn.microsoft.com/library/azure/jj836245.aspx).

- **Расширения каталогов**. Если вы разрабатываете приложение, которому требуется читать или записывать уникальные свойства для объектов каталога, вы можете зарегистрировать и использовать значения расширений с помощью API Graph. Например, если приложению требуется свойство «идентификатор Skype» для каждого пользователя, вы можете зарегистрировать новое свойство в каталоге и оно будет доступно для каждого объекта-пользователя. Дополнительную информацию см. в статье [Расширения схемы каталогов API Graph Azure AD](https://msdn.microsoft.com/library/azure/dn720459.aspx).

## Сценарии

API Graph поддерживает многие сценарии приложений. Ниже перечислены наиболее распространенные сценарии.

- **Бизнес-приложение (одноклиентское)**: в этом сценарии разработчик работает для организации, у которой есть подписка Office 365. Разработчик создает веб-приложение, взаимодействующее с Azure AD для выполнения задач, таких как назначение лицензии пользователю. Эта задача требует доступа к API Graph, поэтому разработчик регистрирует одноклиентское приложение в Azure AD и настраивает разрешения чтения и записи для API GraphI. Затем приложение настраивается для использования собственных учетных данных или учетных данных пользователя, вошедшего в систему, чтобы получить маркер для вызова API Graph.

- **Программного обеспечение как приложение-служба (многоклиентское)**. В этом сценарии независимый поставщик программного обеспечения разрабатывает размещенное многоклиентское веб-приложение, которое предоставляет функции управления пользователями для других организаций, использующих Azure AD. Для этих функций требуется доступ к объектам каталога, поэтому приложение должно вызвать API Graph. Разработчик регистрирует приложение в Azure AD, настраивает его, чтобы оно требовало разрешения чтения и записи для API Graph, а затем включает внешний доступ, чтобы другие организации могли соглашаться на использование приложения в своем каталоге. Когда пользователь в другой организации впервые проходит проверку подлинности в приложении, он видит диалоговое окно с разрешениями, которые запрашивает приложение. Если пользователь предоставит согласие, приложение получит запрошенные разрешения для API Graph в каталоге пользователя. Дополнительные сведения см. в разделе [Общие сведения о процедуре предоставления разрешений](https://msdn.microsoft.com/library/azure/dn132599.aspx#BKMK_Consent).

## См. также

[Краткое руководство по API Graph Azure AD](active-directory-graph-api-quickstart.md)

[Документация REST для Graph AD](https://msdn.microsoft.com/library/azure/hh974476.aspx)

[Руководство разработчика по Azure Active Directory](active-directory-developers-guide.md)

<!---HONumber=September15_HO1-->