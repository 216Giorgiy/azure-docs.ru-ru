<properties pageTitle="Учебник. Интеграция Azure Active Directory с SugarCRM | Microsoft Azure" description="Узнайте, как использовать SugarCRM с Azure Active Directory для реализации единого входа, автоматической подготовки к работе и многого другого." services="active-directory" authors="MarkusVi"  documentationCenter="na" manager="stevenpo"/>
<tags ms.service="active-directory" ms.devlang="na" ms.topic="article" ms.tgt_pltfrm="na" ms.workload="identity" ms.date="08/01/2015" ms.author="markvi" />
#Учебник. Интеграция Azure Active Directory с SugarCRM
>[AZURE.TIP]Чтобы оставить отзыв, щелкните [здесь](http://go.microsoft.com/fwlink/?LinkId=534768).
  
Цель данного руководства — показать интеграцию Azure и SugarCRM. Сценарий, описанный в этом учебнике, предполагает, что у вас уже имеется:

-   Действующая подписка на Azure
-   Подписка с поддержкой единого входа SugarCRM.
  
После завершения этого руководства пользователи Azure AD, назначенные в SugarCRM, будут иметь возможность единого входа в приложение на сайте SugarCRM компании (вход, инициированный поставщиком услуг) или с помощью указаний из статьи [Общие сведения о панели доступа](https://msdn.microsoft.com/library/dn308586).
  
Сценарий, описанный в этом учебнике, состоит из следующих блоков:

1.  Включение интеграции приложений для SugarCRM
2.  Настройка единого входа
3.  Настройка подготовки учетных записей пользователей
4.  Назначение пользователей

![Сценарий](./media/active-directory-saas-sugarcrm-tutorial/IC795881.png "Сценарий")

##Включение интеграции приложений для SugarCRM
  
В этом разделе показано, как включить интеграцию приложений для SugarCRM.

###Чтобы включить интеграцию приложений для SugarCRM, выполните следующие действия:

1.  На портале управления Azure в левой области навигации нажмите **Active Directory**.

    ![Active Directory](./media/active-directory-saas-sugarcrm-tutorial/IC700993.png "Active Directory")

2.  Из списка **Каталог** выберите каталог, для которого нужно включить интеграцию каталогов.

3.  Чтобы открыть представление приложений, в представлении каталога нажмите **Приложения** в верхнем меню.

    ![Приложения](./media/active-directory-saas-sugarcrm-tutorial/IC700994.png "Приложения")

4.  В нижней части страницы нажмите кнопку **Добавить**.

    ![Добавление приложения](./media/active-directory-saas-sugarcrm-tutorial/IC749321.png "Добавление приложения")

5.  В диалоговом окне **Что необходимо сделать** щелкните **Добавить приложение из коллекции**.

    ![Добавление приложения из коллекции](./media/active-directory-saas-sugarcrm-tutorial/IC749322.png "Добавление приложения из коллекции")

6.  В **поле поиска** введите **SugarCRM**.

    ![Коллекция приложений](./media/active-directory-saas-sugarcrm-tutorial/IC795882.png "Коллекция приложений")

7.  В области результатов выберите **SugarCRM** и нажмите кнопку **Завершить**, чтобы добавить приложение.

    ![SugarCRM](./media/active-directory-saas-sugarcrm-tutorial/IC795883.png "SugarCRM")

##Настройка единого входа
  
В этом разделе показано, как разрешить пользователям проходить аутентификацию в SugarCRM со своей учетной записью Azure AD, используя федерацию на основе протокола SAML. В рамках этой процедуры потребуется отправить сертификат в кодировке Base-64 в клиент SugarCRM. Если вы не знакомы с этой процедурой, посмотрите видео [Преобразование двоичного сертификата в текстовый файл](http://youtu.be/PlgrzUZ-Y1o).

###Чтобы настроить единый вход, выполните следующие действия.

1.  На странице интеграции с приложением **SugarCRM** портала Azure AD щелкните **Настройка единого входа**, чтобы открыть диалоговое окно **Настройка единого входа**.

    ![Настройка единого входа](./media/active-directory-saas-sugarcrm-tutorial/IC795884.png "Настройка единого входа")

2.  На странице **Как пользователи должны входить в SugarCRM?** выберите **Единый вход Microsoft Azure AD** и нажмите кнопку **Далее**.

    ![Настройка единого входа](./media/active-directory-saas-sugarcrm-tutorial/IC795885.png "Настройка единого входа")

3.  На странице **Настройка URL-адреса приложения** в текстовом поле **URL-адрес входа в SugarCRM** введите URL-адрес, используемый вашими пользователями для входа в приложение SugarCRM (например, **http://company.sugarondemand.com*"), и нажмите кнопку **Далее**.

    ![Настройка URL-адреса приложения](./media/active-directory-saas-sugarcrm-tutorial/IC795886.png "Настройка URL-адреса приложения")

4.  Для скачивания сертификата на странице **Настройка единого входа в SugarCRM** нажмите кнопку **Скачать сертификат** и сохраните файл сертификата на своем компьютере.

    ![Настройка единого входа](./media/active-directory-saas-sugarcrm-tutorial/IC796918.png "Настройка единого входа")

5.  В другом окне веб-браузера войдите на сайт SugarCRM своей компании в качестве администратора.

6.  Откройте страницу **Администратор**.

    ![Администратор](./media/active-directory-saas-sugarcrm-tutorial/IC795888.png "Администратор")

7.  В разделе **Администрирование** щелкните **Управление паролями**.

    ![Администрирование](./media/active-directory-saas-sugarcrm-tutorial/IC795889.png "Администрирование")

8.  Установите флажок **Включить проверку подлинности SAML**.

    ![Администрирование](./media/active-directory-saas-sugarcrm-tutorial/IC795890.png "Администрирование")

9.  В разделе **Проверка подлинности SAML** выполните следующие действия:

    ![Проверка подлинности SAML](./media/active-directory-saas-sugarcrm-tutorial/IC795891.png "Проверка подлинности SAML")

    1.  На странице **Настройка единого входа в SugarCRM** портала Azure скопируйте значение поля **URL-адрес удаленного входа** и вставьте его в текстовое поле **URL-адрес входа**.
    2.  На странице **Настройка единого входа в SugarCRM** портала Azure скопируйте значение поля **URL-адрес удаленного входа** и вставьте его в текстовое поле **URL-адрес SLO**.
    3.  Создайте файл **в кодировке Base-64** из скачанного сертификата.

        >[AZURE.TIP]Дополнительные сведения можно узнать в видео [Преобразование двоичного сертификата в текстовый файл](http://youtu.be/PlgrzUZ-Y1o).

    4.  Откройте сертификат в кодировке Base-64 в блокноте, скопируйте его содержимое в буфер обмена и вставьте весь сертификат в текстовое поле **Сертификат X.509**.
    5.  Щелкните **Сохранить**.

10. На портале Azure в диалоговом окне **Настройка единого входа в SugarCRM** выберите подтверждение настройки единого входа и нажмите кнопку **Готово**.

    ![Настройка единого входа](./media/active-directory-saas-sugarcrm-tutorial/IC796919.png "Настройка единого входа")

##Настройка подготовки учетных записей пользователей
  
Чтобы пользователи Azure AD могли входить в SugarCRM, их необходимо подготовить для SugarCRM. В случае SugarCRM подготовка выполняется вручную.

###Чтобы подготовить учетные записи пользователей, выполните следующие действия:

1.  Выполните вход на сайт **SugarCRM** компании в качестве администратора.

2.  Откройте страницу **Администратор**.

    ![Администратор](./media/active-directory-saas-sugarcrm-tutorial/IC795888.png "Администратор")

3.  В разделе **Администрирование** щелкните **Управление пользователями**.

    ![Администрирование](./media/active-directory-saas-sugarcrm-tutorial/IC795893.png "Администрирование")

4.  Выберите **Пользователи > Создать нового пользователя**.

    ![Создание нового пользователя](./media/active-directory-saas-sugarcrm-tutorial/IC795894.png "Создание нового пользователя")

5.  На вкладке **Профиль пользователя** выполните следующие действия:

    ![Новый пользователь](./media/active-directory-saas-sugarcrm-tutorial/IC795895.png "Новый пользователь")

    1.  В соответствующие текстовые поля введите имя, фамилию и электронный адрес действующей учетной записи Azure Active Directory.

6.  Для параметра **Состояние** выберите значение **Активно**.

7.  На вкладке «Пароль» выполните следующие действия:

    ![Новый пользователь](./media/active-directory-saas-sugarcrm-tutorial/IC795896.png "Новый пользователь")

    1.  Введите пароль в соответствующее текстовое поле.
    2.  Щелкните **Сохранить**.

>[AZURE.NOTE]Вы можете использовать любые другие инструменты создания учетных записей пользователей SugarCRM или API, предоставляемые SugarCRM для подготовки учетных записей пользователей AAD.

##Назначение пользователей
  
Чтобы проверить свою конфигурацию, предоставьте доступ пользователям Azure AD, которым нужно разрешить работу с приложением, назначив их.

###Чтобы назначить пользователей SugarCRM, выполните следующие действия:

1.  На портале Azure AD создайте тестовую учетную запись.

2.  На странице интеграции с приложением **SugarCRM** щелкните **Назначить пользователей**.

    ![Назначение пользователей](./media/active-directory-saas-sugarcrm-tutorial/IC795897.png "Назначение пользователей")

3.  Выберите тестового пользователя, нажмите кнопку **Назначить**, а затем — **Да** для подтверждения назначения.

    ![Да](./media/active-directory-saas-sugarcrm-tutorial/IC767830.png "Да")
  
Если вы хотите проверить параметры единого входа, откройте панель доступа. Дополнительные сведения о панели доступа см. в статье [Общие сведения о панели доступа](https://msdn.microsoft.com/library/dn308586).

<!---HONumber=August15_HO7-->