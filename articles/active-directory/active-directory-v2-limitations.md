<properties
	pageTitle="Модель приложений версии 2.0: ограничения | Microsoft Azure"
	description="Список ограничений модели приложений 2.0 Azure AD."
	services="active-directory"
	documentationCenter=""
	authors="dstrockis"
	manager="mbaldwin"
	editor=""/>

<tags
	ms.service="active-directory"
	ms.workload="identity"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="09/11/2015"
	ms.author="dastrock"/>

# Предварительная версия модели приложений 2.0: ограничения

Некоторые возможности и функции модели приложений 2.0 еще не поддерживаются в общедоступной предварительной версии. Каждое из этих ограничений будет снято перед тем, как модель приложений 2.0 станет общедоступной, но их следует учитывать, если вы создаете приложения в общедоступной предварительной версии.

> [AZURE.NOTE]Эти сведения относятся к общедоступной предварительной версии модели приложений 2.0. Инструкции по интеграции с общедоступной службой Azure AD можно найти в статье [Руководство разработчика по Azure Active Directory](active-directory-developers-guide.md).

## Поддержка рабочих приложений
Приложения, интегрированные с моделью приложений 2.0, не следует выпускать в качестве рабочих приложений. На текущий момент модель приложений 2.0 находится на стадии общедоступной предварительной версии. Это значит, что в любой момент в ней могут произойти кардинальные изменения, а сама служба не предоставляет никаких гарантий касательно уровня обслуживания. При возникновении каких-либо инцидентов поддержка не предоставляется. Если вы готовы пойти на риск и использовать службу, находящуюся в разработке, свяжитесь с нами под именем @AzureAD, чтобы обсудить область задач вашего приложения или службы.

## Ограничения для приложений
Следующие типы приложений пока что не поддерживаются в общедоступной предварительной версии модели приложений 2.0. Описание поддерживаемых типов приложений можно найти в [этой статье](active-directory-v2-flows.md).

##### Одностраничные приложения (Javascript)
Многие современные приложения применяют одностраничный интерфейсный модуль, написанный в основном на Javascript и часто использующий платформы SPA, такие как AngularJS, Ember.js, Durandal и т. д. Общедоступная служба Azure AD поддерживает такие приложения с помощью [неявного потока OAuth 2.0](active-directory-v2-protocols.md#oauth2-implicit-flow), однако этот поток еще недоступен в модели приложений 2.0. В скором будущем его поддержка будет добавлена.

Если вы хотите получить SPA, работающий с моделью приложений 2.0, вы можете реализовать проверку подлинности с помощью [потока веб-приложения](active-directory-v2-flows.md#web-apps). Но это не рекомендуемый подход, и документация для этого сценария будет ограничена. Если вы хотите ознакомиться со сценарием SPA, изучите [пример кода общедоступного Azure AD SPA](active-directory-devquickstarts-angular.md).

##### Управляющие программы и серверные приложения
Приложениям, содержащим долговременные процессы или работающим без пользователя, также нужна возможность доступа к защищенным ресурсам, таким как веб-API. Такие приложения могут проверять подлинность и получать маркеры, используя удостоверение приложения (а не удостоверение делегированного пользователя) с помощью [потока учетных данных клиента OAuth 2.0](active-directory-v2-protocols.md#oauth2-client-credentials-grant-flow).

Этот поток в настоящее время не поддерживается моделью приложений 2.0, то есть приложения могут получить маркеры только после завершения интерактивного процесса входа пользователя. Поток клиентских учетных данных будет добавлен в ближайшем будущем. Если вы хотите увидеть поток клиентских учетных данных в общедоступной модели приложений Azure AD, изучите [пример управляющей программы на GitHub](https://github.com/AzureADSamples/Daemon-DotNet).

##### Связанные веб-API
Многие архитектуры включают в себя веб-API, которым требуется вызывать другой подчиненных веб-API. При этом оба интерфейса защищены моделью приложений версии 2.0. Этот сценарий характерен для собственных клиентов с внутренним веб-API, который в свою очередь вызывает службу Microsoft Online, например Office 365 или API Graph.

Сценарий связанных веб-API может поддерживаться с помощью предоставления учетных данных носителя маркера JWT OAuth 2.0 или [потока "On-Behalf-Of"](active-directory-v2-protocols.md#oauth2-on-behalf-of-flow). Однако поток "On-Behalf-Of" еще не реализован в предварительной версии модели приложений 2.0. Чтобы увидеть его в общедоступной службе Azure AD, изучите [пример кода "On-Behalf-Of" на GitHub](https://github.com/AzureADSamples/WebAPI-OnBehalfOf-DotNet).

##### Автономные веб-API
В предварительной версии модели приложений 2.0 вы можете [создать веб-API, защищенный с помощью маркеров OAuth](active-directory-v2-flows.md#web-apis) от конечной точки версии 2.0. Однако это веб-API сможет получать маркеры только от клиента с тем же идентификатором приложения. Создание сторонней веб-службы с возможностью доступа нескольких разных клиентов не поддерживается.

Чтобы узнать, как создать веб-API, принимающий маркеры от известного клиента с тем же идентификатором приложения, ознакомьтесь с примерами веб-API модели приложений 2.0 в разделе [Начало работы](active-directory-appmodel-v2-overview.md#getting-started).

## Ограничения для пользователей
На текущий момент все приложения, созданные с помощью модели приложений 2.0, доступны всем пользователям с учетной записью Майкрософт или Azure AD. Любой пользователь с любым типом учетной записи сможет без труда найти или установить ваше приложение, ввести учетные данные в модели приложений 2.0 и согласиться предоставить разрешения приложению. Вы можете написать код приложения таким образом, чтобы оно отклоняло попытки входа от определенных групп пользователей, но это не помешает им соглашаться на предоставление разрешений приложению.

Фактически, приложения не могут ограничивать типы пользователей, имеющих право входа в приложение. Вы не сможете создавать бизнес-приложения (круг пользователей которых ограничен одной организацией), приложения, доступные только корпоративным пользователям (с учетной записью Azure AD), или приложения, доступные только потребителям (с учетной записью Майкрософт).

## Ограничения регистрации приложений
В настоящее время все приложения, интегрируемые с моделью приложений 2.0, необходимо зарегистрировать на сайте [apps.dev.microsoft.com](https://apps.dev.microsoft.com). Существующие приложения в Azure AD или учетной записи Майкрософт, а также приложения, зарегистрированные на портале, отличном от нового портала регистрации приложений, не будут совместимы с моделью приложений 2.0. Пути переноса приложения из общедоступной службы Azure AD в модель приложений 2.0 нет.

Кроме того, приложения, зарегистрированные на новом портале регистрации приложений, будут совместимы только с моделью приложений 2.0. Вы можете использовать портал регистрации приложений для создания приложений, которые будут успешно интегрироваться со службами Azure AD или учетной записи Майкрософт.

Приложения, зарегистрированные на новом портале регистрации приложений, ограничены определенным набором значений URI перенаправления. URI перенаправления для веб-приложений и служб должен начинаться со схемы или `https`, а для всех других платформ следует использовать жестко заданное значение `urn:ietf:oauth:2.0:oob`.

Инструкции по регистрации приложения на новом портале регистрации приложений можно найти в [этой статье](active-directory-v2-app-registration.md).

## Ограничения для служб и API
На текущий момент модель приложений 2.0 поддерживает вход для любого приложения, зарегистрированного на новом портале регистрации приложений, при том условии, что оно состоит в списке [поддерживаемых потоков проверки подлинности](active-directory-v2-flows.md). Однако эти приложения смогут получать маркеры доступа OAuth 2.0 лишь для весьма ограниченного набора ресурсов. Конечная точка версии 2.0 выдает маркеры доступа только в следующих случаях:

- Для приложения, запросившего маркер. Приложение может получить маркер доступа для себя, если логическое приложение состоит из нескольких различных компонентов или уровней. Увидеть этот сценарий в действии можно в наших учебниках в разделе [Начало работы](active-directory-appmodel-v2-overview.md#getting-started).
- REST API Почты , Календаря и Контактов Outlook, расположенные на сайте https://outlook.office.com. Инструкции по созданию приложения с доступом к этим API можно найти в учебниках в разделе [Начало работы с Office](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2).

В ближайшем будущем будут добавлены другие службы Microsoft Online Services, а также поддержка пользовательских веб-API и служб.

## Ограничения для библиотек и пакетов SDK
Не все языки и платформы содержат библиотеки, поддерживающие предварительную версию модели приложений 2.0. Набор библиотек проверки подлинности пока что ограничен .NET, iOS, Android, NodeJS и Javascript. Соответствующие примеры кода и учебники для каждой библиотеки доступны в разделе [Начало работы](active-directory-appmodel-v2-overview.md#getting-started).

Если вам требуется интегрировать приложение с моделью приложений 2.0 с помощью другого языка или платформы, воспользуйтесь [справочником по протоколам OAuth 2.0 и OpenID Connect](active-directory-v2-protocols.md), содержащим инструкции по созданию HTTP-сообщений, необходимых для обмена данными с конечной точкой версии 2.0.

## Ограничения для протоколов
Модель приложений 2.0 поддерживает протоколы OpenID Connect и OAuth 2.0. Однако в ней реализованы не все функции и возможности каждого протокола. Некоторые примеры:

- Полная поддержка параметра `prompt` OpenID Connect
- Параметр `login_hint` OpenID Connect
- Параметр `domain_hint` OpenID Connect
- `end_sesssion_endpoint` OpenID Connect

Чтобы лучше понять набор функций протоколов, поддерживаемых в модели приложений 2.0, ознакомьтесь со [справочником по протоколам OpenID Connect и OAuth 2.0](active-directory-v2-protocols.md).

<!---HONumber=Oct15_HO3-->