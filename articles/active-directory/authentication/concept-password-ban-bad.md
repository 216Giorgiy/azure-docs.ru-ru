---
title: Динамическая блокировка паролей в Azure AD
description: Блокировка ненадежных паролей в среде с помощью функции динамической блокировки паролей Azure AD
services: active-directory
ms.service: active-directory
ms.subservice: authentication
ms.topic: conceptual
ms.date: 07/11/2018
ms.author: joflore
author: MicrosoftGuyJFlo
manager: daveba
ms.reviewer: rogoya
ms.openlocfilehash: 916ef921bf2ad183e3fb74c640ccfa7049559a72
ms.sourcegitcommit: a7331d0cc53805a7d3170c4368862cad0d4f3144
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2019
ms.locfileid: "55295872"
---
# <a name="eliminate-bad-passwords-in-your-organization"></a>Исключение неправильных паролей в организации

|     |
| --- |
| Защита паролем Azure AD и пользовательский список заблокированных паролей — это функции Azure Active Directory, которые предоставляются в режиме общедоступной предварительной версии. См. дополнительные сведения о [дополнительных условиях использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).|
|     |

Лидеры отрасли рекомендуют не использовать один пароль в нескольких местах, устанавливать сложные пароли и не использовать такие пароли, как Password123. Как организации могут быть уверены в том, что пользователи следуют инструкциям? Как они могут убедить пользователей не применять распространенные пароли или пароли, которые рассматриваются как те, использование которых может привести к нарушению безопасности данных?

## <a name="global-banned-password-list"></a>Список глобально заблокированных паролей

Корпорация Майкрософт всегда старается идти на шаг впереди киберпреступников. Поэтому команда Защиты идентификации Azure AD постоянно анализирует часто используемые и скомпрометированные пароли. Затем они блокируют пароли, считающиеся слишком распространенными, в так называемом списке глобально заблокированных паролей. Осуществляя атаки, кибер-злоумышленники также используют подобные методы, поэтому корпорация Майкрософт не публикует содержимое этого списка на общедоступных ресурсах. Эти уязвимые пароли блокируются, прежде чем они станут реальной угрозой для клиентов корпорации Майкрософт. Дополнительные сведения о текущей деятельности по обеспечению безопасности см. в этом [отчете корпорации Майкрософт](https://www.microsoft.com/security/operations/security-intelligence-report).

## <a name="preview-custom-banned-password-list"></a>Предварительный просмотр: пользовательский список заблокированных паролей

Некоторым организациям может понадобиться повысить уровень безопасности. Для этого необходимо установить собственные настройки поверх списка глобально заблокированных паролей, которые корпорация Майкрософт называет списком заблокированных паролей. Затем корпоративные клиенты (например, Contoso) могут установить блокировку различных имен торговой марки, терминов, относящихся к компании, или других элементов.

Пользовательским списком заблокированных паролей и возможностью включения локальной интеграции Active Directory можно управлять на портале Azure.

![Изменение пользовательского списка заблокированных паролей в разделе "Способы проверки подлинности" на портале Azure](./media/concept-password-ban-bad/authentication-methods-password-protection.png)

## <a name="on-premises-hybrid-scenarios"></a>Локальные гибридные сценарии

Защита учетных записей только для облака является полезной возможностью, но многие организации поддерживают гибридные сценарии, включая Windows Server Active Directory в локальной среде. Вы можете установить защиту паролем Azure AD локально для агентов Windows Server Active Directory (предварительная версия). Это позволит расширить списки заблокированных паролей в имеющейся инфраструктуре. Теперь пользователи и администраторы, которые меняют, устанавливают или сбрасывают пароли в локальной среде, обязаны соблюдать ту же политику паролей, что и облачные пользователи.

## <a name="how-are-passwords-evaluated"></a>Оценка паролей

Всякий раз, когда пользователь изменяет или сбрасывает свой пароль, новый пароль проверяется на надежность и сложность, как в глобальном, так и в пользовательском списке запрещенных паролей (если последний настроен).

Даже если пароль пользователя содержит запрещенный пароль, его все еще можно принять, если общий пароль достаточно надежный. Новый настроенный пароль пройдет через следующие шаги, чтобы оценить его общую надежность на принятие или отклонение.

### <a name="step-1-normalization"></a>Шаг 1. Нормализация

Новый пароль сначала проходит через процесс нормализации. Это позволяет сопоставить небольшой набор запрещенных паролей с гораздо большим набором потенциально слабых паролей.

Нормализация состоит из двух частей.  Во-первых, все прописные буквы меняются на нижний регистр.  Во-вторых, замены общих символов выполняются следующим образом:  

| Исходный символ  | Замененный символ |
| --- | --- |
| "0"  | "o" |
| 1  | "l" |
| "$"  | "s" |
| "@"  | "а" |

Пример. Предположим, что пароль "blank" запрещен и пользователь пытается сменить пароль на Bl@nK. Несмотря на то что Bl@nk не был конкретно запрещен, процесс нормализации преобразует этот пароль в "blank", который является запрещенным паролем.

### <a name="step-2-check-if-password-is-considered-banned"></a>Шаг 2. Проверка того, является ли пароль заблокированным

#### <a name="fuzzy-matching-behavior"></a>Режим работы нечеткого соответствия

Нечеткое сопоставление используется для нормализованного пароля, чтобы определить, содержит ли он пароль, найденный либо в глобальном, либо в пользовательском списках запрещенных паролей. Процесс сопоставления основан на расстоянии редактирования одного (1) сравнения.  

Пример. Предположим, что пароль "abcdef" запрещен и пользователь пытается сменить пароль на один из следующих.

"abcdeg"     *(последний символ изменен с "f" на "g")* "abcdefg"    *("g" добавлен в конец) * "abcde"      *(завершающий "f" удалено с конца)*.

Каждый из вышеперечисленных паролей не соответствует конкретно запрещенному паролю "abcdef". Однако, поскольку каждый пример находится на расстоянии редактирования от 1 запрещенного токена "abcdef", все они рассматриваются как совпадение с "abcdef".

#### <a name="substring-matching-on-specific-terms"></a>Совпадение строк (на определенных условиях)

Совпадение строк используется в нормализованном пароле для проверки имени и фамилии пользователя, а также имени владельца (обратите внимание, что сопоставление имени владельца не выполняется при проверке паролей на контроллере домена Active Directory).

Пример. Предположим, что у нас есть пользователь Джон Доу, который хочет сбросить свой пароль на "J0hn123fb". После нормализации этот пароль станет "john123fb". Совпадение строк обнаруживает, что пароль содержит имя пользователя "John". Несмотря на то что "J0hn123fb" не был конкретно запрещен на любом списке паролей, совпадение строк обнаружил "John" в пароле. Таким образом, этот пароль был бы отклонен.

#### <a name="score-calculation"></a>Оценки безопасности

Следующим шагом является идентификация всех экземпляров запрещенных паролей в новом нормализованном пароле пользователя. Затем сделайте следующее:

1. Каждый запрещенный пароль, найденный в пароле пользователя, получает один балл.
2. Каждый оставшийся уникальный символ получает один балл.
3. Чтобы принять пароль, он должен содержать по крайней мере 5 баллов.

В следующих двух примерах предположим, что компания Contoso использует защиту паролем Azure AD и имеет "contoso" в своем настраиваемом списке. Предположим также, что "blank" находится в глобальном списке.

Пример. Пользователь изменяет пароль на "C0ntos0Blank12".

После нормализации этот пароль будет выглядеть как "contosoblank12". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

[contoso] + [blank] = [1] + [2] = 4 балла. Если данный пароль наберет 5 баллов, его отклонят.

Пример. Пользователь изменяет пароль на "ContoS0Bl@nkf9!".

После нормализации этот пароль будет выглядеть как "contosoblankf9". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

[contoso] + [blank] = [f] + [9] + [!] = 5 баллов. Если данный пароль имеет по крайней мере 5 баллов, его примут.

   > [!IMPORTANT]
   > Обратите внимание, что алгоритм запрещенных паролей вместе с глобальным списком может и действительно изменится в любое время в Azure на основе текущего анализа и исследования безопасности. Для локальной службы агента контроллера домена обновленные алгоритмы вступят в силу только после переустановки программного обеспечения агента контроллера домена.

## <a name="license-requirements"></a>Требования лицензий

|   | Защита паролей Azure AD с помощью списка глобально заблокированных паролей | Защита паролей Azure AD с помощью настраиваемого списка заблокированных паролей|
| --- | --- | --- |
| Только пользователи облака | Azure AD уровня "Бесплатный" | Azure AD Basic |
| Пользователи, синхронизированные с локальным сервером Windows Server Active Directory | Azure AD Premium (P1 или P2) | Azure AD Premium (P1 или P2) |

Дополнительные сведения о лицензировании, включая расходы, можно найти на [сайте с ценами на Azure Active Directory](https://azure.microsoft.com/pricing/details/active-directory/).

## <a name="what-do-users-see"></a>Что видят пользователи?

Когда пользователь попытается сбросить пароль на такой, который может быть заблокированным, появится следующее сообщение об ошибке:

К сожалению, ваш пароль содержит слово, фразу или сочетание символов, которые легко угадать. Попробуйте ввести другой пароль.

## <a name="next-steps"></a>Дополнительная информация

* [Настройка пользовательского списка заблокированных паролей](howto-password-ban-bad.md)
* [Развертывание предварительной версии защиты паролем Azure AD](howto-password-ban-bad-on-premises-deploy.md)
