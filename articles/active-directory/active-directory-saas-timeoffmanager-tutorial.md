---
title: "Руководство по интеграции Azure Active Directory с TimeOffManager | Документация Майкрософт"
description: "Узнайте, как использовать TimeOffManager с Azure Active Directory для реализации единого входа, автоматической подготовки пользователей и выполнения других задач."
services: active-directory
author: jeevansd
documentationcenter: na
manager: femila
ms.assetid: 3685912f-d5aa-4730-ab58-35a088fc1cc3
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/16/2017
ms.author: jeedes
translationtype: Human Translation
ms.sourcegitcommit: a028279bbc209b9bf9402813b687752f0320ce52
ms.openlocfilehash: 55a13e90ed5f8fd59a93bba507769e56594de568
ms.lasthandoff: 02/28/2017


---
# <a name="tutorial-azure-active-directory-integration-with-timeoffmanager"></a>Учебник. Интеграция Azure Active Directory с TimeOffManager
Цель данного учебника — показать интеграцию Azure и TimeOffManager.  

Сценарий, описанный в этом учебнике, предполагает, что у вас уже имеется:

* Действующая подписка на Azure
* подписка на TimeOffManager с поддержкой единого входа.

По завершении работы с этим руководством пользователи Azure AD, назначенные в TimeOffManager, смогут выполнять единый вход в приложение на веб-сайте TimeOffManager компании (вход, инициированный поставщиком услуг) или следуя указаниям в статье [Общие сведения о панели доступа](active-directory-saas-access-panel-introduction.md).

Сценарий, описанный в этом учебнике, состоит из следующих блоков:

* Включение интеграции приложений для TimeOffManager
* Настройка единого входа.
* Настройка подготовки учетных записей пользователей
* Назначение пользователей

![Сценарий](./media/active-directory-saas-timeoffmanager-tutorial/IC795909.png "Сценарий")

## <a name="enable-the-application-integration-for-timeoffmanager"></a>Включение интеграции приложений для TimeOffManager
В этом разделе показано, как включить интеграцию приложений для TimeOffManager.

**Чтобы включить интеграцию приложений для TimeOffManager, сделайте следующее:**

1. На классическом портале Azure в области навигации слева щелкните **Active Directory**.
   
   ![Active Directory](./media/active-directory-saas-timeoffmanager-tutorial/IC700993.png "Active Directory")
2. Из списка **Каталог** выберите каталог, для которого нужно включить интеграцию каталогов.
3. Чтобы открыть представление приложений, в представлении каталога нажмите **Приложения** в верхнем меню.
   
   ![Приложения](./media/active-directory-saas-timeoffmanager-tutorial/IC700994.png "Приложения")
4. В нижней части страницы нажмите кнопку **Добавить** .
   
   ![Добавление приложения](./media/active-directory-saas-timeoffmanager-tutorial/IC749321.png "Добавление приложения")
5. В диалоговом окне **Что необходимо сделать?** щелкните **Добавить приложение из коллекции**.
   
   ![Добавление приложения из коллекции](./media/active-directory-saas-timeoffmanager-tutorial/IC749322.png "Добавление приложения из коллекции")
6. В **поле поиска** введите **TimeOffManager**.
   
   ![Коллекция приложений](./media/active-directory-saas-timeoffmanager-tutorial/IC795910.png "Коллекция приложений")
7. В области результатов выберите **TimeOffManager** и нажмите кнопку **Завершить**, чтобы добавить приложение.
   
   ![TimeOffManager](./media/active-directory-saas-timeoffmanager-tutorial/IC795911.png "TimeOffManager")

## <a name="configure-single-sign-on"></a>Настройка единого входа
В этом разделе показано, как разрешить пользователям проходить проверку подлинности в TimeOffManager со своей учетной записью Azure AD, используя федерацию на основе протокола SAML.  

В рамках этой процедуры потребуется передать в клиент TimeOffManager сертификат в кодировке Base-64. Если вы не знакомы с этой процедурой, посмотрите видео [Как преобразовать двоичный сертификат в текстовый файл](http://youtu.be/PlgrzUZ-Y1o).

### <a name="to-configure-single-sign-on-perform-the-following-steps"></a>Чтобы настроить единый вход, выполните следующие действия.
1. На классическом портале Azure на странице интеграции с приложением **TimeOffManager** щелкните **Настройка единого входа**, чтобы открыть диалоговое окно **Настройка единого входа**.
   
   ![Настройка единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795912.png "Настройка единого входа")
2. На странице **Как пользователи должны входить в TimeOffManager?** выберите **Единый вход Microsoft Azure AD** и нажмите кнопку **Далее**.
   
   ![Настройка единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795913.png "Настройка единого входа")
3. На странице **Настройка URL-адреса приложения** в текстовом поле **URL-адрес ответа TimeOffManager** введите URL-адрес службы TimeOffManager AssertionConsumerService (например, *https://www.timeoffmanager.com/cpanel/sso/consume.aspx?company\_id=IC34216*), а затем нажмите кнопку **Далее**.
   
   ![Настройка URL-адреса приложения](./media/active-directory-saas-timeoffmanager-tutorial/IC795914.png "Настройка URL-адреса приложения")
   
   Получить URL-адрес ответа можно на странице параметров единого входа в TimeOffManager.
   
   ![Параметры единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795915.png "Параметры единого входа")
4. Чтобы скачать сертификат, на странице **Настройка единого входа в TimeOffManager** щелкните **Скачать сертификат** и сохраните файл сертификата на своем компьютере.
   
   ![Настройка единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795916.png "Настройка единого входа")
5. В другом окне веб-браузера войдите на свой корпоративный веб-сайт TimeOffManager в качестве администратора.
6. Выберите **Account \> Account Options \> Single Sign-On Settings** ("Учетная запись" > "Параметры учетной записи" > "Параметры единого входа").
   
   ![Параметры единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795917.png "Параметры единого входа")
7. В разделе **Параметры единого входа** сделайте следующее:
   
   ![Параметры единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795918.png "Параметры единого входа")
  1.  Создайте файл **в кодировке Base-64** из скачанного сертификата.  
   
       >[!TIP] 
       >Дополнительные сведения можно узнать в видео [Преобразование двоичного сертификата в текстовый файл](http://youtu.be/PlgrzUZ-Y1o).
       > 
  2.  Откройте сертификат в кодировке Base-64 в Блокноте, скопируйте его содержимое в буфер обмена и вставьте весь сертификат в текстовое поле **Сертификат X.509** .
  3.  На странице диалогового окна **Настройка единого входа в TimeOffManager** классического портала Azure скопируйте значение поля **URL-адрес издателя** и вставьте его в текстовое поле **Idp Issuer** (Издатель Idp).
  4.  На странице диалогового окна **Настройка единого входа в TimeOffManager** классического портала Azure скопируйте значение поля **URL-адрес удаленного входа** и вставьте его в текстовое поле **IdP Endpoint URL** (URL-адрес конечной точки IdP).
  5.  Для параметра **Enforce SAML** (Применить SAML) выберите значение **No** (Нет).
  6.  Для параметра **Auto-Create Users** (Автосоздание пользователей) выберите значение **Yes** (Да).
  7.  На странице диалогового окна **Настройка единого входа в TimeOffManager** классического портала Azure скопируйте значение поля **URL-адрес удаленного выхода** и вставьте его в текстовое поле **URL-адрес выхода**, а затем щелкните **Сохранить изменения**.

1. На странице диалогового окна **Настройка единого входа в TimeOffManager** классического портала Azure выберите подтверждение настройки единого входа и нажмите кнопку **Завершить**.
   
   ![Настройка единого входа](./media/active-directory-saas-timeoffmanager-tutorial/IC795919.png "Настройка единого входа")
2. В меню в верхней части экрана выберите пункт **Атрибуты** to open the **SAML Token Атрибуты** .
   
   ![Атрибуты](./media/active-directory-saas-timeoffmanager-tutorial/IC795920.png "Атрибуты")
3. Чтобы добавить обязательные сопоставления атрибутов, выполните следующие действия.
   
   ![Атрибуты токена SAML](./media/active-directory-saas-timeoffmanager-tutorial/123.png "Атрибуты токена SAML")
   
   | Имя атрибута | Значение атрибута |
   | --- | --- |
   | Email |User.mail |
   | Firstname |User.givenname |
   | Lastname |User.surname |
  1.  Для каждой строки данных в приведенной выше таблице нажмите кнопку **добавить атрибут пользователя**.
  2.  В текстовом поле **Имя атрибута** введите имя атрибута, отображаемое для этой строки.
  3.  В текстовом поле **Значение атрибута** выберите значение атрибута, отображаемое для этой строки.
  4.  Нажмите **Завершено**.
4. Нажмите кнопку **Применить изменения**.

## <a name="configure-user-provisioning"></a>Настроить подготовку учетных записей пользователей
Чтобы пользователи Azure AD могли входить в систему TimeOffManager, их необходимо подготовить для нее.  

TimeOffManager поддерживает автоматическую подготовку пользователей. С вашей стороны никакие действия не требуются.  

Пользователи автоматически добавляются при первом входе с помощью единого входа.

>[!NOTE]
>Вы можете использовать любые другие средства создания учетной записи пользователя TimeOffManager или API-интерфейсы, предоставляемые TimeOffManager для подготовки учетных записей пользователя AAD.
> 

## <a name="assign-users"></a>Назначить пользователей
Чтобы проверить свою конфигурацию, предоставьте пользователям Azure AD, которые должны использовать приложение, доступ путем их назначения.

**Чтобы назначить пользователей в TimeOffManager, сделайте следующее:**

1. На классическом портале Azure создайте тестовую учетную запись.
2. На странице интеграции с приложением **TimeOffManager** щелкните **Назначить пользователей**.
   
   ![Назначение пользователей](./media/active-directory-saas-timeoffmanager-tutorial/IC795922.png "Назначение пользователей")
3. Выберите тестового пользователя, нажмите кнопку **Назначить**, а затем — **Да**, чтобы подтвердить назначение.
   
   ![Да](./media/active-directory-saas-timeoffmanager-tutorial/IC767830.png "Да")

Если вы хотите проверить параметры единого входа, откройте панель доступа. Дополнительные сведения о панели доступа можно найти в статье [Общие сведения о панели доступа](active-directory-saas-access-panel-introduction.md).


