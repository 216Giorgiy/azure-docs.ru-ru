<properties
	pageTitle="Azure AD Connect Sync: технические концепции | Microsoft Azure"
	description="Эта статья содержит объяснение технических концепций Azure AD Connect Sync."
	services="active-directory"
	documentationCenter=""
	authors="markusvi"
	manager="stevenpo"
	editor=""/>

<tags
	ms.service="active-directory"
	ms.workload="identity"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="11/09/2015"
	ms.author="markusvi;andkjell"/>


# Azure AD Connect Sync: технические концепции

Azure AD Connect Sync построена на устойчивой платформе синхронизации метакаталогов. В следующих разделах описываются основные понятия синхронизации метакаталогов. Основывающиеся на MIIS, ILM и FIM, службы синхронизации Azure Active Directory предоставляют следующую платформу для подключения к источникам данных, синхронизации данных между источниками данных, а также для подготовки и отзыва удостоверений.

![Технические концепции](./media/active-directory-aadconnectsync-technical-concepts/scenario.png)

В следующих разделах приводится подробное описание следующих понятий службы синхронизации FIM:

- Соединитель
- Поток атрибутов
- Пространство соединителя
- Метавселенная
- Подготовка

## Соединитель

Соединителями называются модули кода, используемые для взаимодействия с подключенным каталогом (ранее они назывались агентами управления).

Они устанавливаются на компьютере, на котором работает Azure AD Connect Sync. Соединители предоставляют возможность безагентного преобразования путем использования протоколов удаленных систем вместо развертывания специализированных агентов. Это означает снижение риска и сокращение времени развертывания, особенно при работе с критически важными приложениями и системами.

На рисунке выше соединитель является синонимом пространства соединителя, но включает все взаимодействие с внешней системой.

Соединитель отвечает за все функции импорта и экспорта в системе. Кроме того, он освобождает разработчиков от необходимости разбираться в том, как обеспечить встроенное подключение к каждой системе при использовании декларативной подготовки для настройки преобразований данных.

Операции импорта и экспорта выполняются только по расписанию. Это обеспечивает дополнительную изоляцию от изменений, происходящих в системе, поскольку изменения не распространяются автоматически в подключенные источники данных. Кроме того, разработчики могут также создавать собственные соединители для подключения практически к любому источнику данных.

## Поток атрибутов

Метавселенная — это консолидированное представление всех присоединенных удостоверений из соседних пространств соединителей. На приведенном выше рисунке поток атрибута отображается линиями со стрелками для входящего и исходящего потока. Поток атрибута — это процесс копирования или преобразования данных из одной системы в другую и все потоки атрибутов (входящие или исходящие).

Поток атрибутов происходит между пространством соединителя и метавселенной в двух направлениях, когда выполняются запланированные операции синхронизации (полной или разностной).

Поток атрибутов возникает только при выполнении синхронизации. Потоки атрибутов определяются в правилах синхронизации. Они могут быть входящими (ISR на рисунке выше) или исходящими (OSR на рисунке выше).

## Подключенная система

Подключенная система (или подключенный каталог) — это удаленная система, к которой подключена Azure AD Connect Sync и из которой она считывает и записывает данные.

## Пространство соединителя

Каждый подключенный источник данных представляется как отфильтрованное подмножество объектов и атрибутов в пространстве соединителя. Это позволяет службе синхронизации работать локально без необходимости подключения к удаленной системе во время синхронизации объектов, а также ограничивать взаимодействие только операциями импорта и экспорта.

Если источник данных и соединитель могут предоставить список изменений (разностный импорт), эффективность работы существенно возрастает. Это связано с тем, что выполняется обмен только теми изменениями, которые возникли после предыдущего цикла опроса. Пространство соединителя изолирует подключенный источник данных от автоматического распространения изменений, требуя, чтобы соединитель планировал операции импорта и экспорта. Эта дополнительная изоляция обеспечивает безопасность при тестировании, предварительном просмотре или подтверждении следующего обновления.

## Метавселенная

Метавселенная — это консолидированное представление всех присоединенных удостоверений из соседних пространств соединителей.

Удостоверения связываются вместе, а центр для различных атрибутов назначается через сопоставление потоков импорта. В итоге центральный объект метавселенной начинает вычислять данные, полученные из нескольких систем. В ходе сопоставления сведения из этого потока атрибутов объекта переносятся в исходящие системы.

Объекты создаются, когда полномочная система передает их в метавселенную. Как только все подключения удаляются, удаляется и объект метавселенной.

Объекты в метавселенной нельзя изменить непосредственно. Все данные в объекте должны изменяться с помощью потока атрибутов. Метавселенная поддерживает постоянные соединители в каждом пространстве соединителя. Эти соединители не требуют повторной оценки для каждой синхронизации. Это означает, что Azure AD Connect Sync не должна каждый раз обнаруживать удаленный объект. Это устраняет потребность в использовании затратных агентов для предотвращения изменений в атрибутах, которые обычно должны отвечать за сопоставление объектов.

При обнаружении новых источников данных, в которых уже могут существовать нуждающиеся в управлении объекты, в Azure AD Connect Sync используется специальный процесс. Он называется правилом присоединения и применяется для оценки потенциальных кандидатов, с которыми будет установлена связь. После установки связи эта оценка не повторяется. Между подключенным удаленным источником данных и метавселенной может проходить обычный поток атрибутов.

## Подготовка

Когда полномочный источник передает новый объект в метавселенную, в другом соединителе может быть создан новый объект пространства соединителя. Он представляет нисходящий подключенный источник данных.

Это позволяет установить связь; поток атрибутов может проходить в двух направлениях.

Процесс, во время которого правило определяет, что необходимо создать новый объект пространства соединителя, называется подготовкой. Но поскольку эта операция происходит только в пространстве соединителя, она переносится в подключенный источник данных только в ходе экспорта.

## Дополнительные ресурсы

* [Azure AD Connect Sync: настройка параметров синхронизации](active-directory-aadconnectsync-whatis.md)
* [Интеграция локальных удостоверений с Azure Active Directory](active-directory-aadconnect.md)

<!--Image references-->
[1]: ./media/active-directory-aadsync-technical-concepts/ic750598.png

<!---HONumber=Nov15_HO3-->