<properties
    pageTitle="Учебник. Интеграция Azure Active Directory с Canvas LMS | Microsoft Azure" 
    description="Узнайте, как использовать Canvas LMS вместе с Azure Active Directory для реализации единого входа, автоматической подготовки пользователей и выполнения других задач." 
    services="active-directory" 
    authors="jeevansd"  
    documentationCenter="na" 
    manager="stevenpo"/>
<tags 
    ms.service="active-directory" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.tgt_pltfrm="na" 
    ms.workload="identity" 
    ms.date="01/14/2016" 
    ms.author="jeedes" />

#Руководство. Интеграция Azure Active Directory с Canvas LMS

Цель данного руководства — показать интеграцию Azure и Canvas. Сценарий, описанный в этом учебнике, предполагает, что у вас уже имеется:

-   Действующая подписка на Azure
-   Клиент Canvas

После выполнения инструкций, приведенных в этом руководстве, пользователи Azure AD, добавленные к Canvas, смогут выполнять единый вход в приложение на корпоративном веб-сайте Canvas (вход, инициированный поставщиком услуг) или на панели доступа, как описано в статье [Общие сведения о панели доступа](active-directory-saas-access-panel-introduction.md).

Сценарий, описанный в этом учебнике, состоит из следующих блоков:

1.  Включение интеграции приложений для Canvas
2.  Настройка единого входа
3.  Настройка подготовки учетных записей пользователей
4.  Назначение пользователей

![Сценарий](./media/active-directory-saas-canvas-lms-tutorial/IC775984.png "Сценарий")
##Включение интеграции приложений для Canvas

В этом разделе показано, как включить интеграцию приложений для Canvas.

###Чтобы включить интеграцию приложений для Canvas, выполните следующие действия.

1.  На портале управления Azure в левой области навигации нажмите **Active Directory**.

    ![Active Directory](./media/active-directory-saas-canvas-lms-tutorial/IC700993.png "Active Directory")

2.  Из списка **Каталог** выберите каталог, для которого нужно включить интеграцию каталогов.

3.  Чтобы открыть представление приложений, в представлении каталога нажмите **Приложения** в верхнем меню.

    ![Приложения](./media/active-directory-saas-canvas-lms-tutorial/IC700994.png "Приложения")

4.  В нижней части страницы нажмите кнопку **Добавить**.

    ![Добавление приложения](./media/active-directory-saas-canvas-lms-tutorial/IC749321.png "Добавление приложения")

5.  В диалоговом окне **Что необходимо сделать?** нажмите **Добавить приложение из коллекции**.

    ![Добавить приложение из коллекции](./media/active-directory-saas-canvas-lms-tutorial/IC749322.png "Добавить приложение из коллекции")

6.  В **поле поиска** введите **Canvas**.

    ![Коллекция приложений](./media/active-directory-saas-canvas-lms-tutorial/IC775985.png "Коллекция приложений")

7.  В области результатов выберите **Canvas** и нажмите кнопку **Завершить**, чтобы добавить приложение.

    ![Холст](./media/active-directory-saas-canvas-lms-tutorial/IC775986.png "Холст")
##Настройка единого входа

В этом разделе показано, как разрешить пользователям проходить проверку подлинности в Canvas со своей учетной записью Azure AD, используя федерацию на основе протокола SAML. Чтобы настроить единый вход для Canvas, необходимо извлечь значение отпечатка из сертификата. Если вы не знакомы с этой процедурой, просмотрите видео [Как извлечь значение отпечатка из сертификата](http://youtu.be/YKQF266SAxI).

###Чтобы настроить единый вход, выполните следующие действия.

1.  На портале Azure AD на странице интеграции с приложением **Canvas** щелкните **Настройка единого входа**. Откроется диалоговое окно **Настройка единого входа**.

    ![Настройка единого входа](./media/active-directory-saas-canvas-lms-tutorial/IC771709.png "Настройка единого входа")

2.  На странице **Как пользователи должны входить в Canvas?** выберите **Единый вход Microsoft Azure AD** и нажмите кнопку **Далее**.

    ![Настройка единого входа](./media/active-directory-saas-canvas-lms-tutorial/IC775987.png "Настройка единого входа")

3.  На странице **Настройка URL-адреса приложения** введите в текстовое поле **URL-адрес для входа в Canvas** URL-адрес службы в формате `https://<tenant-name>.instructure.com` и нажмите **Далее**.

    ![Настройка URL-адреса приложения](./media/active-directory-saas-canvas-lms-tutorial/IC775988.png "Настройка URL-адреса приложения")

4.  На странице **Настройка единого входа в Canvas** нажмите кнопку **Загрузить сертификат** и сохраните файл сертификата на локальном компьютере.

    ![Настройка единого входа](./media/active-directory-saas-canvas-lms-tutorial/IC775989.png "Настройка единого входа")

5.  В другом окне веб-браузера войдите на свой корпоративный веб-сайт Canvas в качестве администратора.

6.  Последовательно выберите **Courses > Managed Accounts > Microsoft** (Курсы > Управляемые учетные записи > Microsoft).

    ![Холст](./media/active-directory-saas-canvas-lms-tutorial/IC775990.png "Холст")

7.  На панели навигации слева выберите раздел **Authentication** (Проверка подлинности) и нажмите кнопку **Add New SAML Config** (Добавить новую конфигурацию SAML).

    ![Аутентификация](./media/active-directory-saas-canvas-lms-tutorial/IC775991.png "Аутентификация")

8.  На странице "Текущая интеграция" выполните следующие действия.

    ![Текущая интеграция](./media/active-directory-saas-canvas-lms-tutorial/IC775992.png "Текущая интеграция")

    1.  На портале Azure на диалоговой странице **Настройка единого входа в Canvas** скопируйте значение поля **Идентификатор сущности** и вставьте его в текстовое поле **Идентификатор сущности IdP**.
    2.  На странице **Настройка единого входа в Canvas** портала Azure скопируйте значение поля **URL-адрес удаленного входа** и вставьте его в текстовое поле **URL-адрес входа**.
    3.  На портале Azure на диалоговой странице **Настройка единого входа в Canvas** скопируйте значение поля **URL-адрес удаленного выхода** и вставьте его в текстовое поле **URL-адрес выхода**.
    4.  На портале Azure на диалоговой странице **Настройка единого входа в Canvas** скопируйте значение поля **URL-адрес изменения пароля** и вставьте его в текстовое поле **Ссылка на изменение пароля**.
    5.  Скопируйте значение поля **Отпечаток** из экспортированного сертификата и вставьте его в текстовое поле **Отпечаток сертификата**.  

        >[AZURE.TIP]Дополнительные сведения можно найти в видео [Как получить значение отпечатка сертификата](http://youtu.be/YKQF266SAxI).

    6.  В списке **Атрибут входа** выберите значение **NameID**.
    7.  В списке **Формат идентификатора** выберите значение **emailAddress**.
    8.  Нажмите кнопку **Сохранить параметры проверки подлинности**.

9.  На портале Azure AD выберите подтверждение конфигурации единого входа, а затем нажмите кнопку **Завершить**, чтобы закрыть диалоговое окно **Настройка единого входа**.

    ![Настройка единого входа](./media/active-directory-saas-canvas-lms-tutorial/IC775993.png "Настройка единого входа")
##Настройка подготовки учетных записей пользователей

Чтобы пользователи Azure AD могли выполнить вход в Canvas, они должны быть подготовлены для Canvas. В случае с Canvas подготовка выполняется вручную.

###Чтобы подготовить учетные записи пользователей, выполните следующие действия.

1.  Выполните вход в клиент **Canvas**.

2.  Последовательно выберите **Courses > Managed Accounts > Microsoft** (Курсы > Управляемые учетные записи > Microsoft).

    ![Холст](./media/active-directory-saas-canvas-lms-tutorial/IC775990.png "Холст")

3.  Выберите раздел **Пользователи**.

    ![Пользователи](./media/active-directory-saas-canvas-lms-tutorial/IC775995.png "Пользователи")

4.  Нажмите кнопку **Add New User** (Добавить нового пользователя).

    ![Пользователи](./media/active-directory-saas-canvas-lms-tutorial/IC775996.png "Пользователи")

5.  На странице диалогового окна "Добавление пользователя" выполните следующие действия.

    ![Добавить пользователя](./media/active-directory-saas-canvas-lms-tutorial/IC775997.png "Добавить пользователя")

    1.  В тестовом поле **Полное имя** введите имя пользователя.
    2.  В текстовое поле **Email** (Адрес электронной почты) введите адрес электронной почты пользователя.
    3.  В текстовом поле **Имя входа** введите адрес электронной почты пользователя в Azure AD.
    4.  Установите флажок **Email the user about this account creation** (Сообщить пользователю о создании этой учетной записи по электронной почте).
    5.  Нажмите кнопку **Add User** (Добавить пользователя).

>[AZURE.NOTE]Вы можете использовать любые другие средства создания учетной записи пользователя Canvas или API, предоставляемые Canvas для подготовки учетных записей пользователя AAD.

##Назначение пользователей

Чтобы проверить свою конфигурацию, предоставьте пользователям Azure AD, которые должны использовать приложение, доступ путем их назначения.

###Чтобы назначить пользователей Canvas, выполните следующие действия.

1.  На портале Azure AD создайте тестовую учетную запись.

2.  На странице интеграции с приложением **Canvas** щелкните **Назначить пользователей**.

    ![Назначение пользователей](./media/active-directory-saas-canvas-lms-tutorial/IC775998.png "Назначение пользователей")

3.  Выберите тестового пользователя, нажмите кнопку **Назначить**, а затем — **Да**, чтобы подтвердить назначение.

    ![Да](./media/active-directory-saas-canvas-lms-tutorial/IC767830.png "Да")

Если вы хотите проверить параметры единого входа, откройте панель доступа. Дополнительные сведения о панели доступа см. в статье [Общие сведения о панели доступа](active-directory-saas-access-panel-introduction.md).

<!---HONumber=AcomDC_0121_2016-->