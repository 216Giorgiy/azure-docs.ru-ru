---
title: Ограничения Azure Data Box | Документация Майкрософт
description: В этой статье описаны ограничения системы и рекомендуемые размеры для компонентов и подключений Microsoft Azure Data Box.
services: databox
author: alkohli
ms.service: databox
ms.subservice: pod
ms.topic: article
ms.date: 12/20/2018
ms.author: alkohli
ms.openlocfilehash: 5849611ad346fc5ef1f0efd1e262d2ace8097520
ms.sourcegitcommit: 549070d281bb2b5bf282bc7d46f6feab337ef248
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2018
ms.locfileid: "53723458"
---
# <a name="azure-data-box-limits"></a>Ограничения Azure Data Box

Учитывайте эти ограничения, когда развертываете и используете Microsoft Azure Data Box. Ограничения для Data Box описаны в следующей таблице.


## <a name="data-box-service-limits"></a>Ограничения службы Data Box

 - Если в службе Data Box используется несколько учетных записей хранения, все они должны принадлежать только одному региону Azure.
 - Мы рекомендуем использовать не более трех учетных записей хранения. Использование большего числа учетных записей хранения может потенциально повлиять на производительность.

## <a name="data-box-limits"></a>Ограничения Data Box

- В устройстве Data Box может храниться до 500 миллионов файлов.

## <a name="azure-storage-limits"></a>Ограничения службы хранилища Azure

Этот раздел описывает ограничения для службы хранилища Azure и требуемые соглашения об именовании для файлов Azure, блочных BLOB-объектов Azure и страничных BLOB-объектов Azure применительно к службе Data Box. Тщательно изучите ограничения хранилища и следуйте всем рекомендациям.

Актуальные сведения об ограничениях службы хранилища Azure и рекомендациях по именованию общих папок, контейнеров и файлов см. в следующих статьях:

- [Именование контейнеров и ссылка на них](https://docs.microsoft.com/rest/api/storageservices/naming-and-referencing-containers--blobs--and-metadata)
- [Именование общих папок и ссылка на них](https://docs.microsoft.com/rest/api/storageservices/naming-and-referencing-shares--directories--files--and-metadata)
- [Соглашения по блочным и страничным BLOB-объектам](https://docs.microsoft.com/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs)

> [!IMPORTANT]
> Если имеются любые файлы или каталоги, превышающие ограничения службы хранилища Azure или несоответствующие соглашениям об именовании файлов и BLOB-объектов Azure, они не направляются в службу хранилища Azure через службу Data Box.

## <a name="data-upload-caveats"></a>Предупреждения, связанные с передачей данных

- Не копируйте данные напрямую в любую из предварительно созданных общих папок. Вам необходимо создать папку в общей папке, а затем скопировать в нее данные.
- Папка в разделах *StorageAccount_BlockBlob* и *StorageAccount_PageBlob* — это контейнер. Например, контейнеры создаются в виде *StorageAccount_BlockBlob/container* и *StorageAccount_PageBlob/container*.
- Каждая папка, созданная непосредственно в *StorageAccount_AzureFiles*, преобразуется в общую папку Azure.
- При наличии объекта Azure (например, BLOB-объекта или файла) в облаке с тем же именем, что и у копируемого объекта, Data Box перезапишет файл в облако.
- Каждый файл, записанный в общие папки *StorageAccount_BlockBlob* и *StorageAccount_PageBlob*, отправляется в виде блочного и страничного BLOB-объекта соответственно.
- Хранилище больших двоичный объектов Azure не поддерживает каталоги. Если вы создаете папку в папке *StorageAccount_BlockBlob*, тогда виртуальные папки создаются в имени большого двоичного объекта. Для файлов Azure поддерживается фактическая структура каталогов.
- Любая пустая иерархия каталогов (без файлов), созданная в папках *StorageAccount_BlockBlob* и *StorageAccount_PageBlob*, не передается.
- Если при отправке данных в Azure возникают ошибки, в целевой учетной записи хранения создается журнал ошибок. Путь к этому журналу ошибок доступен после завершения передачи, чтобы вы могли просмотреть журнал и предпринять корректирующие действия. Не удаляйте данные из источника, не проверив переданные данные.

## <a name="azure-storage-account-size-limits"></a>Ограничения размера для учетной записи хранения Azure

Ниже приведены ограничения для размера данных, копируемых в учетную запись хранения. Убедитесь, что отправляемые данные соответствуют этим ограничениям. Наиболее актуальные сведения об этих ограничениях см. в статьях [Целевые показатели масштабируемости хранилища BLOB-объектов Azure](https://docs.microsoft.com/azure/storage/common/storage-scalability-targets#azure-blob-storage-scale-targets) и [Целевые показатели масштабируемости службы файлов Azure](https://docs.microsoft.com/azure/storage/common/storage-scalability-targets#azure-files-scale-targets).

| Размер данных, копируемых в учетную запись хранения Azure                      | Ограничение по умолчанию          |
|---------------------------------------------------------------------|------------------------|
| Блочный BLOB-объект и страничный BLOB-объект                                            | 500 ТиБ на учетную запись хранения. <br> Сюда входят данные из всех источников, включая Data Box.|
| Файл Azure                                                          | 5 ТиБ на общую папку.<br> Все папки в *StorageAccount_AzureFiles* должны соответствовать этому ограничению.       |

## <a name="azure-object-size-limits"></a>Ограничения размера для объектов Azure

Ниже приведены размеры объектов Azure, которые могут быть записаны. Убедитесь, что все передаваемые файлы соответствуют этим ограничениям.

| Тип объекта Azure | Ограничение по умолчанию                                             |
|-------------------|-----------------------------------------------------------|
| Блочный BLOB-объект        | ~4,75 ТиБ                                                 |
| Страничный BLOB-объект         | 8 ТиБ <br> Каждый файл, отправляемый в формате страничного BLOB-объекта, должен быть выровнен по размеру 512 байт (целое кратное). В противном случае произойдет сбой передачи. <br> VHD и VHDX выровнены по размеру 512 байт. |
| Файл Azure        | 1 ТиБ                                                      |

## <a name="azure-block-blob-page-blob-and-file-naming-conventions"></a>Соглашения об именовании для файлов, блочных и страничных BLOB-объектов Azure

| Сущность                                       | Соглашения                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Имена контейнеров для блочного BLOB-объекта и страничного BLOB-объекта | Это должно быть допустимое DNS-имя длиной от 3 до 63 знаков. <br>  Первый символ — буква или цифра. <br> Может содержать только строчные буквы, цифры и дефисы (-). <br> Перед каждым дефисом (-) и после него должна стоять буква или цифра. <br> Последовательные дефисы в именах использовать запрещено. |
| Имена общих ресурсов для файлов Azure                  | То же, что и выше                                                                                                                                                                                                                                                                                                             |
| Имена каталогов и файлов для файлов Azure     |<li> Не меняющие и не учитывающие регистр, не превышающие 255 символов. </li><li> Не может заканчиваться косой чертой (/). </li><li>Если это предусмотрено, она будет автоматически удалена. </li><li> Не допускаются следующие знаки: " \ / : | < > * ?</li><li> Зарезервированные веб-адреса должны быть надлежащим образом экранированы. </li><li> Запрещены недопустимые знаки URL-пути. Кодовые точки, такие как \uE000, — это недопустимые символы Юникода. Некоторые символы ASCII или Юникода, такие как управляющие символы (от 0x00 до 0x1F, \u0081 и т. д.), также не допускаются. Правила, регулирующие строки Юникода в HTTP/1.1, см. в документах RFC 2616, "Section 2.2: Basic Rules" (Раздел 2.2: Основные правила) и "RFC 3987". </li><li> Следующие имена файлов недопустимы: LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9, COM1, COM2, COM3, COM4, ​​COM5, COM6, COM7, COM8, COM9, PRN, AUX, NUL, CON, CLOCK$, точечный символ (.) и два точечных символа (..).</li>|
| Имена блочного BLOB-объекта и страничного BLOB-объекта      | </li><li>Имена BLOB-объектов указываются с учетом регистра и могут содержать любое сочетание символов. </li><li>Длина имени BLOB-объекта должна составлять от 1 до 1024 символов. </li><li>Зарезервированные веб-адреса должны быть надлежащим образом экранированы. </li><li>Число сегментов пути, содержащих имя BLOB-объекта, не может превышать 254. Сегмент пути — это строка между последовательными разделителями (такими как косая черта "/"), соответствующая имени виртуального каталога.</li> |
