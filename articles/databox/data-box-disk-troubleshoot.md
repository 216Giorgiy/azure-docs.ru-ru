---
title: Устранение неполадок диска Azure Data Box | Документация Майкрософт
description: В этой статье описывается, как устранить проблемы, обнаруженные на диске Azure Data Box.
services: databox
documentationcenter: NA
author: alkohli
manager: twooley
editor: ''
ms.assetid: ''
ms.service: databox
ms.devlang: NA
ms.topic: overview
ms.custom: mvc
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 10/09/2018
ms.author: alkohli
ms.openlocfilehash: 9b2c03c13cf687af7cdebc9c4d2624a6a7c5907f
ms.sourcegitcommit: 7b0778a1488e8fd70ee57e55bde783a69521c912
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/10/2018
ms.locfileid: "49069205"
---
# <a name="troubleshoot-issues-in-azure-data-box-disk-preview"></a>Устранение неполадок в диске Azure Data Box (предварительная версия)

Данная статья относится к выпуску предварительной версии Microsoft Azure Data Box. В этой статье описываются некоторые сложные рабочие процессы и задачи управления, которые могут выполняться в Data Box и диске Data Box. 

Вы можете управлять диском Data Box на портале Azure. В этой статье речь идет о задачах, выполняемых с использованием портала Azure. Используйте портал Azure для управления заказами и устройствами и отслеживания состояния заказа, когда он переходит на последний этап.

В этой статье содержатся руководства, позволяющие выполнить следующие задачи:

- Загрузка журналов диагностики
- Запрос журналов действий


> [!IMPORTANT]
> Data Box находится в режиме предварительной версии. Изучите [Дополнительные условия использования Предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/), прежде чем развертывать это решение.

## <a name="download-diagnostic-logs"></a>Загрузка журналов диагностики

Если во время процесса копирования данных имеются какие-либо ошибки, портал покажет путь к папке, в которой находятся журналы диагностики. 

Журналы диагностики делятся на две группы.
- Журналы ошибок
- Журналы подробных сведений  

Чтобы перейти к пути для копирования журнала, перейдите в учетную запись хранения, связанную с заказом Data Box. 

1.  Перейдите в **Общие > Сведения о заказе** и отметьте учетную запись хранения, связанную с заказом.
 

2.  Перейдите в раздел **Все ресурсы** и найдите учетную запись хранения, указанную на предыдущем шаге. Выберите и щелкните учетную запись хранения.

    ![Копирование журналов 1](./media/data-box-disk-troubleshoot/data-box-disk-copy-logs1.png)

3.  Перейдите в раздел **Служба BLOB-объектов > Просмотреть BLOB-объекты** и найдите BLOB-объект, соответствующий учетной записи хранения. Перейдите к **diagnosticslogcontainer > waies**. 

    ![Копирование журналов 2](./media/data-box-disk-troubleshoot/data-box-disk-copy-logs2.png)

    Вы увидите как журналы ошибок, так и подробные журналы для копирования данных. Выберите и щелкните каждый файл, а затем загрузите локальную копию.

## <a name="query-activity-logs"></a>Запрос журналов действий

Журналы действий используются для поиска ошибки при устранении неполадок, а также для наблюдения за тем, как пользователь организации изменяет ресурс. С помощью журналов действий можно определить:

- Какие операции выполнялись с ресурсами в подписке.
- Сторона, инициировавшая операцию. 
- Когда была выполнена операция.
- Состояние операции.
- Значения других свойств, которые могут помочь в анализе операции.

Журнал действий содержит все операции записи (PUT, POST, DELETE), выполняемые с ресурсами, но не содержит операций чтения (таких как GET). 

Журналы изменений сохраняются в течение 90 дней. Вы можете запросить любой диапазон дат, при условии, что дата начала не старше 90 дней в прошлом. Также можно фильтровать один из встроенных запросов в аналитических сведениях. Например, щелкните ошибку, а затем выберите и щелкните конкретные ошибки, чтобы понять основную причину.

## <a name="data-box-disk-unlock-tool-errors"></a>Ошибки средства разблокировки диска Data Box


| Сообщение об ошибке/Режимы работы средства      | Рекомендации                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| None<br><br>Аварийное завершение средства разблокировки диска Data Box.                                                                            | Bitlocker не установлен. Убедитесь, что на главном компьютере, на котором установлено средство разблокировки диска Data Box, установлен BitLocker.                                                                            |
| Текущая платформа .NET не поддерживается. Поддерживаемые версии — 4.5 и более поздние.<br><br>Средство завершит свою работу с сообщением.  | Платформа .NET версии 4.5 не установлена. Установите .NET 4.5 или более поздней версии на главном компьютере, на котором запущено средство разблокировки диска Data Box.                                                                            |
| Не удалось разблокировать или проверить какие-либо тома. Обратитесь в службу технической поддержки Майкрософт.  <br><br>Средство не может разблокировать или проверить заблокированный диск. | Средству не удалось разблокировать ни один из заблокированных дисков с помощью поставляемого ключа доступа. Обратитесь в службу поддержки Майкрософт, чтобы узнать, что делать дальше.                                                |
| Следующие тома разблокированы и проверены. <br>Том букв диска: E:<br>Не удалось разблокировать все тома со следующими ключами доступа: werwerqomnf, qwerwerqwdfda <br><br>Средство разблокирует некоторые диски и перечислит успешные и неудачные буквы дисков.| Частично удалось. Не удалось разблокировать некоторые диски с помощью поставляемого ключа доступа. Обратитесь в службу поддержки Майкрософт, чтобы узнать, что делать дальше. |
| Не удалось найти заблокированные тома. Проверьте, что диск, полученный от Microsoft, подключен правильно и находится в заблокированном состоянии.          | Средству не удается найти заблокированные диски. Либо диски уже разблокированы или не обнаружены. Убедитесь, что диски подключены и заблокированы.                                                           |
| Неустранимая ошибка: недопустимый параметр<br>Имя параметра: invalid_arg<br>Использование.<br>DataBoxDiskUnlock /Ключи доступа:<passkey_list_separated_by_semicolon><br><br>Пример: DataBoxDiskUnlock /Ключи доступа:passkey1; passkey2; passkey3<br>Пример: DataBoxDiskUnlock /SystemCheck<br>Пример: DataBoxDiskUnlock /Help<br><br>/PassKeys: Получите этот ключ доступа из заказа диска Azure DataBox Disk. Ключ доступа разблокирует диски.<br>/Help: Этот параметр предоставляет справку об использовании командлета и примеры.<br>/SystemCheck: Этот параметр проверяет, соответствует ли система требованиям для запуска средства.<br><br>Нажмите любую клавишу, чтобы выйти. | Недопустимый ввод параметра. Единственными допустимыми параметрами являются /SystemCheck, /PassKey и /Help.                                                                            |

## <a name="data-box-disk-split-copy-tool-errors"></a>Ошибки средства Data Box Disk Split Copy

|Сообщение об ошибке и предупреждения  |Рекомендации |
|---------|---------|
|[Сведения] Идет получение пароля Bitlocker для тома: m <br>[Ошибка] Перехвачено исключение при получении ключа Bitlocker для тома m:<br> В последовательности нет элементов.|Эта ошибка возникает в том случае, если целевой диск Data Box находятся в автономном режиме. <br> Используйте средство `diskmgmt.msc` для подключенных дисков.|
|[Ошибка] Возникло исключение: не удалось выполнить операцию WMI:<br> Method=UnlockWithNumericalPassword, ReturnValue=2150694965, <br>Win32Message=недопустимый формат восстановления пароля. <br>Пароли восстановления BitLocker состоят из 48 цифр. <br>Убедитесь, что пароль восстановления установлен в правильном формате, и повторите попытку.|Используйте средство разблокировки диска Data Box, чтобы открыть диск, затем повторите команду. Дополнительные сведения см. в следующих разделах: <li> [Разблокировка дисков на клиенте Windows](data-box-disk-deploy-set-up.md#unlock-disks-on-windows-client). </li><li> [Разблокировка дисков на клиенте Linux](data-box-disk-deploy-set-up.md#unlock-disks-on-linux-client). </li>|
|[Ошибка] Возникло исключение: файл DriveManifest.xml существует на целевом диске. <br> Это означает, что целевой диск был подготовлен с помощью другого файла журнала. <br>Чтобы добавить больше данных на тот же диск, используйте предыдущий файл журнала. Чтобы удалить имеющиеся данные и повторно использовать целевой диск для нового задания импорта, удалите DriveManifest.xml с диска. Повторно выполните команду с использованием нового файла журнала.| Эта ошибка возникает, если вы пытались использовать один и тот же набор дисков для нескольких сеансов импорта. <br> Используйте один набор дисков только для одного сеанса разделения и копирования.|
|[Ошибка] Возникло исключение: данные импорта CopySessionId importdata-sept-test-1 ссылаются на предыдущий сеанс копирования, и их нельзя использовать повторно для нового сеанса копирования.|Эта ошибка возникает, если вы пытаетесь использовать то же имя задания, которое уже использовали для успешно выполненного задания.<br> Укажите уникальное имя для нового задания.|
|[Сведения] Имя конечного файла или каталога превышает ограничение по длине NTFS. |Это сообщение возникает, если конечный файл был переименован из-за длинного пути.<br> Измените расположение параметра в файле `config.json` для управления действиями такого типа.|
|[Ошибка] Возникло исключение: неверная escape-последовательность JSON. |Это сообщение возникает, если файлу config.json назначен недопустимый формат. <br> Проверьте файл `config.json`, используя [JSONlint](https://jsonlint.com/), перед его сохранением.|



## <a name="next-steps"></a>Дополнительная информация

- Узнайте, как [управлять диском Data Box с помощью портала Azure](data-box-portal-ui-admin.md).
