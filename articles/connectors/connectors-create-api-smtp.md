---
title: SMTP | Microsoft Docs
description: Создание приложений логики с помощью службы приложений Azure. Подключение к SMTP для отправки электронной почты.
services: logic-apps
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: ''
tags: connectors

ms.service: app-service-logic
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 07/15/2016
ms.author: deonhe

---
# Начало работы с соединителем SMTP
Подключитесь к SMTP для отправки электронной почты.

Чтобы использовать [соединитель](apis-list.md), сначала нужно создать приложение логики. Вы можете начать с [создания приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Подключение к SMTP
Чтобы обеспечить доступ приложения логики к какой-либо службе, сначала необходимо создать *подключение* к этой службе. Таким образом вы установите [подключение](connectors-overview.md) между приложением логики и другой службой. Например, чтобы подключиться к SMTP, сначала необходимо создать *подключение* к SMTP. Чтобы создать подключение, необходимо ввести учетные данные, которые обычно используются для доступа к определенной службе. Таким образом, чтобы создать подключение к SMTP, потребуется ввести имя подключения, адрес SMTP-сервера и учетные данные для входа. [Дополнительные сведения о подключениях см. здесь.]()

### Создание подключения к SMTP
> [!INCLUDE [Шаги по созданию подключения к SMTP](../../includes/connectors-create-api-smtp.md)]
> 
> 

## Использование триггера SMTP
Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. Дополнительные сведения о триггерах см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

Так как SMTP не предоставляет триггеры, мы используем триггер **Salesforce — при создании объекта**. Он будет активироваться при создании объекта в Salesforce. В нашем примере мы настроим триггер таким образом, чтобы при каждом создании интереса в Salesforce выполнялось действие *отправки сообщения* через соединитель SMTP. При этом будет отправляться уведомление об этом интересе.

1. В конструкторе приложений логики в поле поиска введите запрос *salesforce*, а затем выберите триггер **Salesforce — при создании объекта**.  
   ![](../../includes/media/connectors-create-api-salesforce/trigger-1.png)  
2. Отобразится элемент управления **При создании объекта**.  
   ![](../../includes/media/connectors-create-api-salesforce/trigger-2.png)  
3. Укажите **тип объекта**, а затем выберите *Интерес* в списке объектов. На этом шаге вы указываете, что создаете триггер, который будет уведомлять приложение логики о создании интереса в Salesforce.  
   ![](../../includes/media/connectors-create-api-salesforce/trigger3.png)  
4. Ваш триггер создан.  
   ![](../../includes/media/connectors-create-api-salesforce/trigger-4.png)  

## Использование действия SMTP
Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. Дополнительные сведения о действиях см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

Теперь, когда триггер добавлен, выполните следующие действия, чтобы добавить действие SMTP, которое будет выполняться при создании интереса в Salesforce.

1. Нажмите кнопку **+ Новый шаг**, чтобы добавить действие, которое будет выполняться после создания интереса.   
   ![](../../includes/media/connectors-create-api-salesforce/trigger4.png)  
2. Выберите **Добавить действие**. Откроется поле поиска. В этом поле вы можете выполнить поиск действия, которое нужно применить.  
   ![](../../includes/media/connectors-create-api-smtp/using-smtp-action-2.png)  
3. Введите запрос *smtp*, чтобы найти действия, связанные с SMTP.
4. Выберите **SMTP — отправить сообщение** в качестве действия, которое следует выполнять при создании интереса. Откроется блок управления действием. Установите подключение SMTP в блоке конструктора, если вы еще этого не сделали.  
   ![](../../includes/media/connectors-create-api-smtp/smtp-2.png)  
5. В блоке **SMTP — отправить сообщение** введите необходимые сведения об электронной почте.  
   ![](../../includes/media/connectors-create-api-smtp/using-smtp-action-4.PNG)  
6. Сохраните данные, чтобы активировать рабочий процесс.

## Технические сведения
Ниже приведены сведения о триггерах, действиях и ответах, которые поддерживает это подключение.

## Триггеры SMTP
SMTP не предоставляет триггеры.

## Действия SMTP
SMTP предоставляет следующее действие:

| Действие | Описание |
| --- | --- |
| [Отправка электронного сообщения](connectors-create-api-smtp.md#send-email) |Отправляет сообщение одному или нескольким получателям. |

### Сведения о действиях
Ниже приведены подробные сведения о действии этого соединителя, а также его ответы.

### Отправка электронного сообщения
Отправляет сообщение одному или нескольким получателям.

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| Кому |Кому |Укажите адреса электронной почты через точку с запятой, например recipient1@domain.com;recipient2@domain.com |
| CC |cc |Укажите адреса электронной почты через точку с запятой, например recipient1@domain.com;recipient2@domain.com |
| Субъект |Субъект |Тема сообщения |
| Текст |Текст |Текст сообщения |
| Из |Из |Адрес электронной почты отправителя, например sender@domain.com |
| IsHtml |HTML-код |Отправлять сообщение в формате HTML (значение true или false) |
| Скрытая копия |bcc |Укажите адреса электронной почты через точку с запятой, например recipient1@domain.com;recipient2@domain.com |
| Важность |Важность |Важность сообщения (High, Normal или Low) |
| ContentData |Данные содержимого вложений |Данные содержимого (в кодировке Base64 для потоков и "как есть" для строки) |
| ContentType |Данные содержимого вложений |Тип содержимого |
| ContentTransferEncoding |Кодировка передачи содержимого вложений |Кодировка передачи содержимого (значение Base64 или none) |
| FileName |Имя файла вложений |Имя файла |
| ContentId |Идентификатор содержимого вложений |Идентификатор содержимого |

Звездочка (*) означает, что свойство является обязательным.

## Ответы HTTP
Описанные выше действия и триггеры могут возвращать один или несколько кодов состояния HTTP, которые приведены ниже.

| Имя | Описание |
| --- | --- |
| 200 |ОК |
| 202 |Принято |
| 400 |Ошибка запроса |
| 401 |Не авторизовано |
| 403 |Запрещено |
| 404 |Не найдено |
| 500 |Внутренняя ошибка сервера. Произошла неизвестная ошибка. |
| по умолчанию |Операция завершилась ошибкой. |

## Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)

<!----HONumber=AcomDC_0803_2016-->
