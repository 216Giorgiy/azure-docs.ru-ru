<properties
	pageTitle="Добавление API FTP в приложения логики | Microsoft Azure"
	description="Обзор API FTP с параметрами интерфейса API REST"
	services=""
	documentationCenter="" 
	authors="MandiOhlinger"
	manager="erikre"
	editor=""
	tags="connectors"/>

<tags
   ms.service="multiple"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="02/11/2016"
   ms.author="mandia"/>

# Начало работы с API-интерфейсом FTP
Подключитесь к FTP-серверу, чтобы управлять своими файлами. На FTP-сервере можно выполнять различные задачи, такие как отправка файлов, их удаление и многое другое.

API FTP можно использовать из приложений логики.

>[AZURE.NOTE] Эта версия статьи предназначена для приложений логики со схемой версии 2015-08-01-preview. Чтобы получить версию схемы 2014-12-01-preview, щелкните [соединитель FTP](../app-service-logic/app-service-logic-connector-ftp.md).

С помощью FTP можно:

- формировать бизнес-процессы на основе данных, получаемых из FTP; 
- использовать триггер при обновлении файла;
- использовать действия, позволяющие создавать файлы, получать их содержимое и многое другое. Эти действия получают ответ и делают выходные данные доступными для использования другими действиями. Например, можно получить содержимое файла и затем обновить базу данных SQL. 

Сведения о добавлении операции в приложения логики см. в статье [Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).


## Триггеры и действия
Соединитель FTP предоставляет следующие триггеры и действия.

триггеры; | Действия
--- | ---
<ul><li>Возвращает обновленный файл</li></ul> | <ul><li>Создание файла</li><li>Копирование файла</li><li>Удаление файла</li><li>Извлечение папки</li><li>Получение содержимого файла</li><li>Получение содержимого файла с помощью пути</li><li>Получение метаданных файла</li><li>Получение метаданных файла с помощью пути</li><li>Получение обновленного файла</li><li>Обновление файла</li></ul>

Все API-интерфейсы поддерживают данные в форматах JSON и XML.

## Создание подключения к FTP
При добавлении этого API в приложения логики введите указанные ниже значения:

|Свойство| Обязательно|Описание|
| ---|---|---|
|Адрес сервера| Да | Введите полное доменное имя (FQDN) или IP-адрес FTP-сервера.|
|Имя пользователя| Да | Введите имя пользователя для подключения к FTP-серверу.|
|Пароль | Да | Введите пароль для этого имени пользователя.|

После создания подключения укажите свойства FTP, такие как путь к папке или имя файла. Эти свойства описаны далее в **справочнике по REST API**.

>[AZURE.TIP] Это FTP-подключение можно использовать в других приложениях логики.

## Справочник по REST API Swagger

### Создание файла
Отправляет файл на FTP-сервер. ```POST: /datasets/default/files```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|folderPath|string|Да|запрос|Нет |Путь к папке для отправки файла на FTP-сервер|
|name|string|Да|запрос| Нет|Имя файла, создаваемого на FTP-сервере|
|текст| |Да|текст|Нет |Содержимое файла, отправляемого на FTP-сервер|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|

### Копирование файла
Копирует файл на FTP-сервер. ```POST: /datasets/default/copyFile```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|источник|строка|Да|запрос|Нет |URL-адрес исходного файла|
|ресурс destination|строка|Да|запрос|Нет |Путь к конечному файлу на FTP-сервере, включая имя конечного файла|
|перезаписать|Логическое|Нет|запрос|Нет |Перезаписывает конечный файл, если задано значение "true"|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|

### Удаление файла 
Удаляет файл с FTP-сервера. ```DELETE: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|строка|Да|path|Нет |Уникальный идентификатор файла, удаляемого с FTP-сервера|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|

### Извлечение папки
Извлекает файл архива в папку на FTP-сервере (например: ZIP). ```POST: /datasets/default/extractFolderV2```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|источник|строка|Да|запрос| Нет|Путь к файлу архива|
|ресурс destination|строка|Да|запрос| Нет|Путь к конечной папке|
|перезаписать|Логическое|Нет|запрос|Нет|Перезаписывает конечные файлы, если задано значение "true"|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|

### Получение содержимого файла
Получает содержимое файлов с FTP-сервера с помощью идентификатора. ```GET: /datasets/default/files/{id}/content```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|string|Да|path|Нет |Уникальный идентификатор файла|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение содержимого файла с помощью пути
Получает содержимое файлов с FTP-сервера с помощью пути. ```GET: /datasets/default/GetFileContentByPath```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|path|строка|Да|запрос|Нет |Уникальный путь к файлу на FTP-сервере|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение метаданных файла 
Получает метаданные файлов с FTP-сервера с помощью идентификатора. ```GET: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|строка|Да|path|Нет|Уникальный идентификатор файла|

#### Ответ
| Имя | Описание |
| --- | --- |
| 200 | ОК | 
| по умолчанию | Операция завершилась ошибкой.


### Получение метаданных файла с помощью пути
Получает метаданные файлов с FTP-сервера с помощью пути. ```GET: /datasets/default/GetFileByPath```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|path|строка|Да|запрос| Нет|Уникальный путь к файлу на FTP-сервере|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение обновленного файла
Возвращает обновленный файл. ```GET: /datasets/default/triggers/onupdatedfile```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|folderId|строка|Да|запрос|Нет |Идентификатор папки, в которой выполняется поиск обновленного файла|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Обновление файла 
Обновляет файл на FTP-сервере. ```PUT: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|строка|Да|path| Нет|Уникальный идентификатор файла, обновляемого на FTP-сервере|
|текст| |Да|текст|Нет |Содержимое файла, обновляемого на FTP-сервере|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


## Определения объектов

#### DataSetsMetadata

| Имя | Тип данных | Обязательно |
|---|---|---|
|tabular|не определено|Нет|
|blob-объект|не определено|Нет|

#### TabularDataSetsMetadata

| Имя | Тип данных | Обязательно |
|---|---|---|
|источник|string|Нет|
|displayName|строка|Нет|
|urlEncoding|string|Нет|
|tableDisplayName|string|Нет|
|tablePluralName|string|Нет|

#### BlobDataSetsMetadata

| Имя | Тип данных | Обязательно |
|---|---|---|
|источник|string|Нет|
|displayName|строка|Нет|
|urlEncoding|строка|Нет|

#### BlobMetadata

| Имя | Тип данных | Обязательно |
|---|---|---|
|Идентификатор|строка|Нет|
|Имя|строка|Нет|
|DisplayName|string|Нет|
|Путь|string|Нет|
|LastModified|строка|Нет|
|Размер|целое число|Нет|
|MediaType|строка|Нет|
|IsFolder|Логическое|Нет|
|ETag|строка|Нет|
|FileLocator|строка|Нет|

## Дальнейшие действия

[Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

<!---HONumber=AcomDC_0224_2016-->