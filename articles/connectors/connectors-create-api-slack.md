<properties
pageTitle="Использование API Slack в приложениях логики | Microsoft Azure"
description="Начало использования API (соединителя) Slack в приложениях логики службы приложений Microsoft Azure"
services=""	
documentationCenter="" 	
authors="msftman"	
manager="erikre"	
editor=""
tags="connectors"/>

<tags
ms.service="multiple"
ms.devlang="na"
ms.topic="article"
ms.tgt_pltfrm="na"
ms.workload="na"
ms.date="03/16/2016"
ms.author="deonhe"/>

# Начало работы с API-интерфейсом Slack

Slack — это средство для организации взаимодействия между группами пользователей, которое объединяет все сообщения в одном месте, поддерживает возможности мгновенного поиска и доступно в любом месте.

>[AZURE.NOTE] Эта версия статьи предназначена для приложений логики со схемой версии 2015-08-01-preview.

С помощью соединителя Slack вы можете:

* создавать приложения логики.

Сведения о добавлении операции в приложения логики см. в статье [Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Поговорим о триггерах и действиях

Соединитель Slack можно использовать в качестве действия. Триггеры отсутствуют. Все соединители поддерживают данные в форматах JSON и XML.

 Соединитель Slack предоставляет следующие триггеры и действия:

### Действия Slack
Вы можете выполнять перечисленные ниже действия:

|Действие|Описание|
|--- | ---|
|PostMessage|Публикация сообщения в указанном канале.|
## Создание подключения к Slack
Чтобы использовать API Slack, сначала нужно создать **подключение**, а затем указать данные для приведенных ниже свойств.

|Свойство| Обязательно|Описание|
| ---|---|---|
|токен|Да|Указание учетных данных Slack|

Выполните следующие действия, чтобы войти в Slack и настроить **подключение** Slack в приложении логики.

1. Выберите **Повторение**.
2. Выберите **частоту** и введите **интервал**.
3. Выберите **Добавить действие**.
![Настройка Slack][1]  
4. В поле поиска введите "Slack" и дождитесь возвращения всех записей с "Slack" в имени.
5. Выберите **Slack — публикация сообщения**.
6. Выберите **Вход в Slack**.
![Настройка Slack][2]
7. Укажите учетные данные Slack, чтобы войти и авторизовать приложение.
![Настройка Slack][3]  
8. Вы будете перенаправлены на страницу входа своей организации. **Разрешите** Slack взаимодействие с вашим приложением логики.
![Настройка Slack][5] 
9. После успешной аутентификации вы перейдете к своему приложению логики, чтобы завершить его, настроив параметры в разделе **Slack —получить все сообщения**. Добавьте другие необходимые вам триггеры и действия.
![Настройка Slack][6]
10. Сохраните результаты работы, выбрав **Сохранить** в строке меню вверху.


>[AZURE.TIP] Это подключение можно использовать в других приложениях логики.

## Справочник по API REST Slack
#### Эта документация предназначена для версии 1.0


### Публикация сообщения в указанном канале.
**```POST: /chat.postMessage```**



| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|channel|string|Да|запрос|Нет|Канал, частная группа или канал обмена мгновенными сообщениями, в которые отправляются сообщения. Этом может быть имя \(например \#general\) или закодированный идентификатор.|
|text|строка|Да|запрос|Нет|Текст отправляемого сообщения. Сведения о вариантах форматирования см. по адресу: https://api.slack.com/docs/formatting.|.
|Имя пользователя|строка|Нет|запрос|Нет|Имя программы-робота|
|as\_user|Логическое|Нет|запрос|Нет|Передача значения "true", если публикация сообщения осуществляется прошедшим проверку пользователем, а не программой-роботом|
|parse|строка|Нет|запрос|Нет|Изменение порядка обработки сообщений. Дополнительные сведения см. по адресу: https://api.slack.com/docs/formatting.|.
|link\_names|целое число|Нет|запрос|Нет|Поиск и связывание имен каналов и имен пользователей.|
|unfurl\_links|Логическое|Нет|запрос|Нет|Передача значения "true" для включения развертывания главным образом текстового содержимого.|
|unfurl\_media|Логическое|Нет|запрос|Нет|Передача значения "false" для отключения развертывания мультимедийного содержимого.|
|icon\_url|строка|Нет|запрос|Нет|URL-адрес изображения, которое будет использоваться в качестве значка для данного сообщения|
|icon\_emoji|строка|Нет|запрос|Нет|Символ эмодзи, который будет использоваться в качестве значка для данного сообщения|


### Ниже перечислены возможные ответы:

|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|408|Истекло время ожидания запроса|
|429|Слишком много запросов|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|503|Служба Slack недоступна|
|504|Истекло время ожидания шлюза|
|по умолчанию|Операция завершилась ошибкой.|
------



## Определения объектов: 

 **Message**: сообщение Yammer.

Обязательные свойства для Message:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|id|целое число|
|content\_excerpt|строка|
|sender\_id|целое число|
|replied\_to\_id|целое число|
|created\_at|строка|
|network\_id|целое число|
|message\_type|строка|
|sender\_type|строка|
|url|string|
|web\_url|string|
|group\_id|целое число|
|текст|не определено|
|thread\_id|целое число|
|direct\_message|Логическое|
|client\_type|string|
|client\_url|строка|
|язык|строка|
|notified\_user\_ids|array|
|privacy|строка|
|liked\_by|не определено|
|system\_message|Логическое|



 **PostOperationRequest**: представляет запрос к соединителю Yammer на публикацию в Yammer.

Обязательные свойства для PostOperationRequest:

текст

**Все свойства**:


| Имя | Тип данных |
|---|---|
|текст|строка|
|group\_id|целое число|
|replied\_to\_id|целое число|
|direct\_to\_id|целое число|
|broadcast|Логическое|
|topic1|строка|
|topic2|строка|
|topic3|строка|
|topic4|string|
|topic5|строка|
|topic6|строка|
|topic7|строка|
|topic8|string|
|topic9|строка|
|topic10|строка|
|topic11|string|
|topic12|строка|
|topic13|string|
|topic14|строка|
|topic15|строка|
|topic16|строка|
|topic17|string|
|topic18|строка|
|topic19|string|
|topic20|string|



 **MessageList**: список сообщений.

Обязательные свойства для MessageList:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|messages|array|



 **MessageBod**: текст сообщения.

Обязательные свойства для MessageBody:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|parsed|string|
|plain|string|
|rich|строка|



 **LikedBy**: понравилось пользователям.

Обязательные свойства для LikedBy:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|count|целое число|
|names|array|



 **YammmerEntity**: понравилось пользователям.

Обязательные свойства для YammmerEntity:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|type|строка|
|id|целое число|
|full\_name|string|


## Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)
## Определения объектов: 

 **WebResultModel**: результаты веб-поиска Bing.

Обязательные свойства для WebResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Название|string|
|Описание|string|
|DisplayUrl|строка|
|Идентификатор|string|
|FullUrl|string|



 **VideoResultModel**: результаты поиска видео в Bing.

Обязательные свойства для VideoResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Название|string|
|DisplayUrl|строка|
|Идентификатор|строка|
|MediaUrl|строка|
|Среда выполнения|целое число|
|Эскиз|не определено|



 **ThumbnailModel**: свойства эскиза элемента мультимедиа.

Обязательные свойства для ThumbnailModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|MediaUrl|string|
|ContentType|string|
|Ширина|целое число|
|Высота|целое число|
|FileSize|целое число|



 **ImageResultModel**: результаты поиска изображения в Bing.

Обязательные свойства для ImageResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Название|string|
|DisplayUrl|строка|
|Идентификатор|строка|
|MediaUrl|строка|
|SourceUrl|string|
|Эскиз|не определено|



 **NewsResultModel**: результаты поиска новостей в Bing.

Обязательные свойства для NewsResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Название|string|
|Описание|string|
|DisplayUrl|строка|
|Идентификатор|string|
|Источник|строка|
|Дата|string|



 **SpellResultModel**: результаты вариантов написания при проверке орфографии в Bing.

Обязательные свойства для SpellResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Идентификатор|строка|
|Значение|строка|



 **RelatedSearchResultModel**: связанные результаты поиска Bing.

Обязательные свойства для RelatedSearchResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|Название|строка|
|Идентификатор|string|
|BingUrl|string|



 **CompositeSearchResultModel**: результаты составного поиска Bing.

Обязательные свойства для CompositeSearchResultModel:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|WebResultsTotal|целое число|
|ImageResultsTotal|целое число|
|VideoResultsTotal|целое число|
|NewsResultsTotal|целое число|
|SpellSuggestionsTotal|целое число|
|WebResults|array|
|ImageResults|array|
|VideoResults|array|
|NewsResults|array|
|SpellSuggestionResults|array|
|RelatedSearchResults|array|


## Определения объектов: 

 **PostOperationResponse**: представляет ответ операции публикации соединителя Slack для публикации в Slack.

Обязательные свойства для PostOperationResponse:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|ОК|Логическое|
|channel|строка|
|ts|string|
|message|не определено|
|error|string|



 **MessageItem**: сообщение канала.

Обязательные свойства для MessageItem:


обязательные свойства отсутствуют.


**Все свойства**:


| Имя | Тип данных |
|---|---|
|text|string|
|id|строка|
|user|string|
|created|целое число|
|is\_user-deleted|Логическое|


## Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)

[1]: ./media/connectors-create-api-slack/connectionconfig1.png
[2]: ./media/connectors-create-api-slack/connectionconfig2.png
[3]: ./media/connectors-create-api-slack/connectionconfig3.png
[4]: ./media/connectors-create-api-slack/connectionconfig4.png
[5]: ./media/connectors-create-api-slack/connectionconfig5.png
[6]: ./media/connectors-create-api-slack/connectionconfig6.png

<!---HONumber=AcomDC_0413_2016-->