<properties
pageTitle="Использование соединителя служебной шины Azure в приложениях логики | Microsoft Azure"
description="Создание приложений логики с помощью службы приложений Azure. Подключитесь к служебной шине Azure для отправки и получения сообщений. Вы можете выполнять такие действия, как отправка в очередь, отправка в раздел, получение из очереди, получение из подписки и т. д."
services="logic-apps"	
documentationCenter=".net,nodejs,java" 	
authors="msftman"	
manager="erikre"	
editor=""
tags="connectors" />

<tags
ms.service="logic-apps"
ms.devlang="multiple"
ms.topic="article"
ms.tgt_pltfrm="na"
ms.workload="integration"
ms.date="08/02/2016"
ms.author="deonhe"/>

# Начало работы с соединителем служебной шины Azure

Подключитесь к служебной шине Azure для отправки и получения сообщений. Вы можете выполнять такие действия, как отправка в очередь, отправка в раздел, получение из очереди, получение из подписки и т. д.

Чтобы использовать [соединитель](./apis-list.md), сначала нужно создать приложение логики. Вы можете начать с [создания приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Подключение к служебной шине Azure

Чтобы обеспечить доступ приложения логики к какой-либо службе, сначала необходимо создать *подключение* к этой службе. Таким образом вы установите [подключение](./connectors-overview.md) между приложением логики и другой службой.

### Создание подключения к служебной шине Azure

>[AZURE.INCLUDE [Шаги по созданию подключения к служебной шине Azure](../../includes/connectors-create-api-servicebus.md)]

## Использование триггера служебной шины Azure

Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. Дополнительные сведения о триггерах см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

>[AZURE.INCLUDE [Шаги по созданию триггера служебной шины Azure](../../includes/connectors-create-api-servicebus-trigger.md)]

## Использование действия служебной шины Azure

Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. Дополнительные сведения о действиях см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

[AZURE.INCLUDE [Шаги по созданию действия служебной шины Azure](../../includes/connectors-create-api-servicebus-action.md)]

## Технические сведения

Ниже приведены сведения о триггерах, действиях и ответах, которые поддерживает это подключение.

## Триггеры служебной шины Azure

В служебной шине Azure доступны такие триггеры:

|Триггер | Описание|
|--- | ---|
|[При получении сообщения в очереди](connectors-create-api-servicebus.md#when-a-message-is-received-in-a-queue)|Активирует поток в случае получения сообщения в очереди.|
|[При получении сообщения в подписке раздела](connectors-create-api-servicebus.md#when-a-message-is-received-in-a-topic-subscription)|Активирует поток в случае получения сообщения в подписке раздела.|


## Действия служебной шины Azure

В служебной шине Azure доступны такие действия:


|Действие|Описание|
|--- | ---|
|[Отправить сообщение](connectors-create-api-servicebus.md#send-message)|Отправляет сообщение в очередь или раздел.|
### Сведения о действиях

Ниже приведены подробные сведения о действиях и триггерах этого соединителя, а также ответы на них.



### Отправить сообщение
Отправляет сообщение в очередь или раздел.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|ContentData*|Содержимое|Содержимое сообщения|
|ContentType|Тип содержимого|Тип содержимого сообщения|
|Свойства|Свойства|Пары "ключ — значение" для каждого свойства-посредника|
|entityName*|Имя очереди или раздела|Имя очереди или раздела|

Также доступны такие дополнительные параметры:

|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|MessageId|Идентификатор сообщения|Это определяемое пользователем значение, используемое служебной шиной для выявления повторяющихся сообщений.|
|Кому|Кому|Отправить по адресу|
|ReplyTo|Ответить|Адрес очереди для ответа|
|ReplyToSessionId|Ответить идентификатору сеанса|Идентификатор сеанса для ответа|
|Метка|Метка|Метка приложения|
|ScheduledEnqueueTimeUtc|ScheduledEnqueueTimeUtc|Дата и время в формате UTC, когда сообщение будет добавлено в очередь|
|SessionId|Идентификатор сеанса|Идентификатор сеанса|
|CorrelationId|Идентификатор корреляции|Идентификатор корреляции|
|TimeToLive (срок жизни)|Срок жизни|Срок действия сообщения (в тактах). Отсчет начинается с отправки сообщения служебной шине.|



Звездочка (*) означает, что свойство является обязательным.




### При получении сообщения в очереди
Активирует поток в случае получения сообщения в очереди.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|queueName*|Имя очереди|Имя очереди|


Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

ServiceBusMessage. Этот объект имеет содержимое и свойства сообщения служебной шины.


| Имя свойства | Тип данных | Описание |
|---|---|---|
|ContentData|string|Содержимое сообщения|
|ContentType|string|Тип содержимого сообщения|
|Свойства|object|Пары "ключ — значение" для каждого свойства-посредника|
|MessageId|string|Это определяемое пользователем значение, используемое служебной шиной для выявления повторяющихся сообщений.|
|Кому|string|Отправить по адресу|
|ReplyTo|string|Адрес очереди для ответа|
|ReplyToSessionId|string|Идентификатор сеанса для ответа|
|Метка|string|Метка приложения|
|ScheduledEnqueueTimeUtc|string|Дата и время в формате UTC, когда сообщение будет добавлено в очередь|
|SessionId|string|Идентификатор сеанса|
|CorrelationId|string|Идентификатор корреляции|
|TimeToLive (срок жизни)|string|Срок действия сообщения (в тактах). Отсчет начинается с отправки сообщения служебной шине.|




### При получении сообщения в подписке раздела
Активирует поток в случае получения сообщения в подписке раздела.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|topicName*|Имя раздела|Имя раздела|
|subscriptionName*|Имя подписки раздела|Имя подписки раздела|


Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

ServiceBusMessage. Этот объект имеет содержимое и свойства сообщения служебной шины.


| Имя свойства | Тип данных | Описание |
|---|---|---|
|ContentData|string|Содержимое сообщения|
|ContentType|string|Тип содержимого сообщения|
|Свойства|object|Пары "ключ — значение" для каждого свойства-посредника|
|MessageId|string|Это определяемое пользователем значение, используемое служебной шиной для выявления повторяющихся сообщений.|
|Кому|string|Отправить по адресу|
|ReplyTo|string|Адрес очереди для ответа|
|ReplyToSessionId|string|Идентификатор сеанса для ответа|
|Метка|string|Метка приложения|
|ScheduledEnqueueTimeUtc|string|Дата и время в формате UTC, когда сообщение будет добавлено в очередь|
|SessionId|string|Идентификатор сеанса|
|CorrelationId|string|Идентификатор корреляции|
|TimeToLive (срок жизни)|string|Срок действия сообщения (в тактах). Отсчет начинается с отправки сообщения служебной шине.|



## Ответы HTTP

Описанные выше действия и триггеры могут возвращать один или несколько кодов состояния HTTP, которые приведены ниже.

|Имя|Описание|
|---|---|
|200|ОК|
|202|Принято|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка.|
|по умолчанию|Операция завершилась ошибкой.|

## Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)

<!---HONumber=AcomDC_0803_2016-->