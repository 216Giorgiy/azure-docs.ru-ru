<properties
pageTitle="Добавление API Yammer в приложения логики | Microsoft Azure"
description="Обзор API Yammer с параметрами интерфейса API REST"
services=""	
documentationCenter="" 	
authors="msftman"	
manager="erikre"	
editor=""
tags="connectors"/>

<tags
ms.service="multiple"
ms.devlang="na"
ms.topic="article"
ms.tgt_pltfrm="na"
ms.workload="na"
ms.date="02/23/2016"
ms.author="deonhe"/>

# Начало работы с API-интерфейсом Yammer

Вы можете подключаться к Yammer для доступа к беседам в корпоративной сети.

>[AZURE.NOTE] Эта версия статьи предназначена для приложений логики со схемой версии 2015-08-01-preview. Чтобы получить версию схемы 2014-12-01-preview, щелкните [Yammer](../app-service-logic/app-service-logic-connector-yammer.md).

С помощью Yammer вы можете:

- формировать бизнес-процессы на основе данных, получаемых из Yammer; 
- использовать триггеры при поступлении нового сообщения в группе или веб-канале, на который вы подписаны;
- использовать действия для публикации сообщений, получения всех сообщений и т. д. Эти действия получают ответ и делают выходные данные доступными для использования другими действиями. Например, при появлении нового сообщения вы можете отправлять сообщения электронной почты с помощью Office 365.

Сведения о добавлении операции в приложения логики см. в статье [Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Триггеры и действия
Yammer предоставляет следующие триггеры и действия.

Триггер | Действия
--- | ---
<ul><li>При наличии нового сообщения в группе</li><li>При наличии нового сообщения в веб-канале, на который я подписан</li></ul>| <ul><li>Получение всех сообщений</li><li>Получение сообщений в группе</li><li>Получение сообщений из веб-канала, на который я подписан</li><li>Публикация сообщения</li><li>При наличии нового сообщения в группе</li><li>При наличии нового сообщения в веб-канале, на который я подписан</li></ul>

Все API-интерфейсы поддерживают данные в форматах JSON и XML.

## Создание подключения к Yammer
Чтобы использовать API, сначала нужно создать **подключение**, а затем указать сведения для приведенных ниже свойств.

|Свойство| Обязательно|Описание|
| ---|---|---|
|токен|Да|Указание учетных данных Yammer|


>[AZURE.TIP] Это подключение можно использовать в других приложениях логики.

## Справочник по REST API Yammer
Эта документация предназначена для версии 1.0


### Получение всех открытых сообщений в сети Yammer текущего пользователя
Относится ко всем беседам в веб-интерфейсе Yammer. ```GET: /messages.json```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|older\_then|целое число|Нет|запрос|Нет|Возвращает сообщения, которые старше идентификатора сообщения, указанного в виде числовой строки. Это полезно для разбивки сообщений на страницы. Например, если в данный момент вы посматриваете 20 сообщений и самым старым является номер 2912, к запросу можно добавить "?older\_than=2912", чтобы получить 20 сообщений, которые предшествовали просматриваемым.|
|newer\_then|целое число|Нет|запрос|Нет|Возвращает сообщения, более новые, чем идентификатор сообщения, указанный в виде числовой строки. Необходимо использовать при опросе на наличие новых сообщений. Если вы просматриваете сообщения и самое последнее возвращенное сообщение имеет номер 3516, можно выполнить запрос с параметром "? newer\_than = 3516", чтобы не получать копии сообщений, уже отображаемых на странице.|
|limit|целое число|Нет|запрос|Нет|Возвращает только указанное количество сообщений.|
|page|целое число|Нет|запрос|Нет|Возвращает указанную страницу. Если возвращаемые данные превышают ограничение, это поле можно использовать для доступа к следующим далее страницам|


### Ответ

|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|408|Истекло время ожидания запроса|
|429|Слишком много запросов|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|503|Служба Yammer недоступна|
|504|Истекло время ожидания шлюза|
|по умолчанию|Операция завершилась ошибкой.|


### Публикация сообщения в группе или веб-канале всей организации
Если указан идентификатор группы, сообщение будет отправлено в указанную группу или опубликовано в веб-канале всей организации. ```POST: /messages.json```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|input| |Да|текст|Нет|Опубликовать запрос сообщения|


### Ответ

|Имя|Описание|
|---|---|
|201|Создано|



## Определения объектов

#### Message: сообщение Yammer

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|id|целое число|Нет|
|content\_excerpt|строка|Нет|
|sender\_id|целое число|Нет|
|replied\_to\_id|целое число|Нет|
|created\_at|строка|Нет|
|network\_id|целое число|Нет|
|message\_type|строка|Нет|
|sender\_type|string|Нет|
|url|строка|Нет|
|web\_url|строка|Нет|
|group\_id|целое число|Нет|
|текст|не определено|Нет|
|thread\_id|целое число|Нет|
|direct\_message|Логическое|Нет|
|client\_type|строка|Нет|
|client\_url|строка|Нет|
|язык|строка|Нет|
|notified\_user\_ids|array|Нет|
|privacy|string|Нет|
|liked\_by|не определено|Нет|
|system\_message|Логическое|Нет|

#### PostOperationRequest: представляет запрос к соединителю Yammer на публикацию в Yammer

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|текст|строка|Да|
|group\_id|целое число|Нет|
|replied\_to\_id|целое число|Нет|
|direct\_to\_id|целое число|Нет|
|broadcast|Логическое|Нет|
|topic1|string|Нет|
|topic2|строка|Нет|
|topic3|string|Нет|
|topic4|строка|Нет|
|topic5|string|Нет|
|topic6|string|Нет|
|topic7|string|Нет|
|topic8|строка|Нет|
|topic9|строка|Нет|
|topic10|строка|Нет|
|topic11|string|Нет|
|topic12|строка|Нет|
|topic13|строка|Нет|
|topic14|string|Нет|
|topic15|строка|Нет|
|topic16|строка|Нет|
|topic17|string|Нет|
|topic18|строка|Нет|
|topic19|строка|Нет|
|topic20|строка|Нет|

#### MessageList: список сообщений

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|messages|array|Нет|


#### MessageBody: текст сообщения

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|parsed|string|Нет|
|plain|строка|Нет|
|rich|строка|Нет|

#### LikedBy: понравилось пользователю

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|count|целое число|Нет|
|names|array|Нет|

#### YammmerEntity: понравилось пользователю

| Имя | Тип данных | Обязательно |
|---|---| --- | 
|type|string|Нет|
|id|целое число|Нет|
|full\_name|строка|Нет|


## Дальнейшие действия
[Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

<!---HONumber=AcomDC_0224_2016-->