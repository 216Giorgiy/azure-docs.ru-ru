<properties
	pageTitle="Добавление API Google-диска в PowerApps или приложения логики | Microsoft Azure"
	description="Обзор API Google-диска с параметрами интерфейса API REST"
	services=""
    suite=""
	documentationCenter="" 
	authors="MandiOhlinger"
	manager="erikre"
	editor=""
	tags="connectors"/>

<tags
   ms.service="multiple"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="02/11/2016"
   ms.author="mandia"/>

# Начало работы с API-интерфейсом Google-диска
Подключитесь к Google-диску, чтобы создавать файлы, получать строки и выполнять множество других действий.

API Google-диска можно использовать из PowerApps и приложений логики.

С помощью Google-диска вы можете:

- формировать бизнес-процессы на основе данных, получаемых в результате поиска; 
- использовать действия для поиска изображений, новостей и многого другого. Эти действия получают ответ и делают выходные данные доступными для использования другими действиями. Например, можно найти видеоролик, а затем с помощью Twitter опубликовать его в веб-канале Twitter.
- Добавлять API Google-диска в службу PowerApps Enterprise. После этого пользователи смогут использовать этот API в своих приложениях. 

Сведения о добавлении API в PowerApps Enterprise см. в статье [Регистрация API в PowerApps](../power-apps/powerapps-register-from-available-apis.md).

Сведения о добавлении операции в приложения логики см. в статье [Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).


## Триггеры и действия
Google-диск позволяет выполнять следующие действия. Триггеры отсутствуют.

триггеры; | Действия
--- | ---
None | <ul><li>Создание файла</li><li>Вставка строки</li><li>Копирование файла</li><li>Удаление файла</li><li>Удаление строки</li><li>Извлечение архива в папку</li><li>Получение содержимого файла с помощью идентификатора</li><li>Получение содержимого файла с помощью пути</li><li>Получение метаданных файла с помощью идентификатора</li><li>Получение метаданных файла с помощью пути</li><li>Получение строки</li><li>Обновление файла</li><li>Обновление строки</li></ul>

Все API-интерфейсы поддерживают данные в форматах JSON и XML.


## Создание подключения к Google-диску

### Добавление дополнительных настроек в PowerApps
При добавлении Google-диска в PowerApps Enterprise нужно ввести значения **ключа приложения** и **секрета приложения** для приложения Google-диска. В приложении Google также используется **URL-адрес перенаправления**. Если у вас нет приложения Google, создайте его, выполнив приведенные ниже действия.

1. Войдите в [консоль разработчиков Google][5] и выберите **Создать пустой проект**: ![консоль разработчиков Google][6]

2. Укажите свойства приложения и щелкните **Создать**.
3. Выберите **Использование API Google**: ![использование API Google][8]  
4. В разделе "Обзор" выберите **API диска**: ![обзор API Google Drive][9]  
5. Нажмите **Включить API**: ![включение API Google Drive][10]  
6. После включения API Drive перейдите на вкладку **Учетные данные** и выберите **Идентификатор клиента OAuth 2.0**: ![Добавление учетных данных][12]  
7. Щелкните **Настройка экрана согласия с условиями использования**.
8. На вкладке **Экран согласия с условиями использования OAuth** введите **имя продукта** и нажмите кнопку **Сохранить**: ![Настройка экрана условий использования][13]  
9. На странице создания идентификатора клиента:  

	1. В списке **Тип приложения** выберите **Веб-приложение**.
	2. Введите имя клиента.
	3. Введите значение URL-адреса перенаправления, которое отображалось при добавлении API Google на портале Azure.
	4. Нажмите кнопку **Создать**.  

	![Создание идентификатора клиента][14]

11. Будут отображены идентификатор клиента и секрет клиента зарегистрированного приложения.

Скопируйте и вставьте значения **ключа приложения** и **секрета приложения** в конфигурацию API Google-диска на портале Azure.


### Добавление дополнительных настроек в приложения логики
При добавлении API в приложения логики эти приложения необходимо авторизовать для подключения к Google-диску.

1. Войдите в учетную запись Google-диска.
2. Выберите **Авторизовать** и разрешите приложениям логики подключаться к Google-диску и использовать его. 

После создания подключения укажите свойства Google-диска, такие как путь к папке или имя файла. Эти свойства описаны далее в **справочнике по REST API**.

>[AZURE.TIP] Это подключение к Google-диску можно использовать в других приложениях логики.


## Справочник по REST API Swagger

### Создание файла    
Отправляет файл на Google-диск. ```POST: /datasets/default/files```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|folderPath|строка|Да|запрос|Нет |Путь к папке для отправки файла на Google-диск|
|name|string|Да|запрос|Нет |Имя файла, создаваемого на Google-диске|
|текст|string(binary) |Да|текст| Нет|Содержимое файла, отправляемого на Google-диск|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Вставка строки    
Вставляет строку в таблицу Google. ```POST: /datasets/{dataset}/tables/{table}/items```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|dataset|строка|Да|path| Нет|Уникальный идентификатор файла таблицы Google|
|таблица|строка|Да|path|Нет |Уникальный идентификатор листа|
|item|ItemInternalId: string |Да|текст|Нет |Строка, вставляемая на указанный лист|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Копирование файла    
Копирует файл на Google-диске. ```POST: /datasets/default/copyFile```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|источник|строка|Да|запрос| Нет|URL-адрес исходного файла|
|ресурс destination|string|Да|запрос|Нет |Путь к конечному файлу на Google-диске, включая имя конечного файла|
|overwrite|Логическое|Нет|запрос|Нет |Перезаписывает конечный файл, если задано значение "true"|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Удаление файла    
Удаляет файл с Google-диска. ```DELETE: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|строка|Да|path|Нет |Уникальный идентификатор файла, который нужно удалить с Google-диска|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Удаление строки    
Удаляет строку из таблицы Google. ```DELETE: /datasets/{dataset}/tables/{table}/items/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|dataset|строка|Да|path|Нет |Уникальный идентификатор файла таблицы Google|
|таблица|string|Да|path|Нет |Уникальный идентификатор листа|
|id|string|Да|path|Нет |Уникальный идентификатор удаляемой строки|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Извлечение архива в папку    
Извлекает файл архива в папку на Google-диске (например: ZIP). ```POST: /datasets/default/extractFolderV2```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|источник|строка|Да|запрос|Нет |Путь к файлу архива|
|ресурс destination|строка|Да|запрос|Нет |Путь на Google-диске для извлечения содержимого архива|
|overwrite|Логическое|Нет|запрос|Нет |Перезаписывает конечные файлы, если задано значение "true"|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение содержимого файла с помощью идентификатора    
Извлекает содержимое файла с Google-диска с помощью идентификатора. ```GET: /datasets/default/files/{id}/content```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|строка|Да|path|Нет |Уникальный идентификатор файла, который нужно извлечь с Google-диска|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение содержимого файла с помощью пути    
Извлекает содержимое файла с Google-диска с помощью пути. ```GET: /datasets/default/GetFileContentByPath```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|path|строка|Да|запрос|Нет |Путь к файлу на Google-диске|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение метаданных файла с помощью идентификатора    
Извлекает метаданные файла с Google-диска с помощью идентификатора. ```GET: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|string|Да|path|Нет |Уникальный идентификатор файла на Google-диске|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение метаданных файла с помощью пути    
Извлекает метаданные файла с Google-диска с помощью пути. ```GET: /datasets/default/GetFileByPath```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|path|string|Да|запрос|Нет |Путь к файлу на Google-диске|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Получение строки    
Извлекает одну строку из таблицы Google. ```GET: /datasets/{dataset}/tables/{table}/items/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|dataset|string|Да|path|Нет |Уникальный идентификатор файла таблицы Google|
|таблица|string|Да|path|Нет |Уникальный идентификатор листа|
|id|string|Да|path| Нет|Уникальный идентификатор извлекаемой строки|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Обновление файла    
Обновляет файл на Google-диске. ```PUT: /datasets/default/files/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|id|string|Да|path|Нет |Уникальный идентификатор файла, обновляемого на Google-диске|
|текст|string(binary) |Да|текст| Нет|Содержимое файла, отправляемого на Google-диск|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


### Обновление строки    
Обновляет строку в таблице Google. ```PATCH: /datasets/{dataset}/tables/{table}/items/{id}```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|dataset|строка|Да|path|Нет |Уникальный идентификатор файла таблицы Google|
|таблица|строка|Да|path| Нет|Уникальный идентификатор листа|
|id|строка|Да|path|Нет |Уникальный идентификатор обновляемой строки|
|item|ItemInternalId: string |Да|текст|Нет |Строка с обновленными значениями|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|по умолчанию|Операция завершилась ошибкой.|


## Определения объектов

#### DataSetsMetadata

|Имя свойства | Тип данных | Обязательно|
|---|---|---|
|tabular|не определено|Нет|
|blob-объект|не определено|Нет|

#### TabularDataSetsMetadata

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|источник|строка|Нет|
|displayName|строка|Нет|
|urlEncoding|строка|Нет|
|tableDisplayName|string|Нет|
|tablePluralName|строка|Нет|

#### BlobDataSetsMetadata

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|источник|string|Нет|
|displayName|строка|Нет|
|urlEncoding|строка|Нет|

#### BlobMetadata

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|Идентификатор|строка|Нет|
|Имя|строка|Нет|
|DisplayName|string|Нет|
|Путь|строка|Нет|
|LastModified|string|Нет|
|Размер|целое число|Нет|
|MediaType|строка|Нет|
|IsFolder|Логическое|Нет|
|ETag|string|Нет|
|FileLocator|строка|Нет|

#### TableMetadata

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|name|string|Нет|
|title|строка|Нет|
|x-ms-permission|string|Нет|
|schema|не определено|Нет|

#### TablesList

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|value|array|Нет|

#### Таблица

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|Имя|строка|Нет|
|DisplayName|строка|Нет|

#### Элемент

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|ItemInternalId|строка|Нет|

#### ItemsList

|Имя свойства | Тип данных |Обязательно|
|---|---|---|
|value|array|Нет|


## Дальнейшие действия
После добавления Google-диска в PowerApps Enterprise [предоставьте пользователям разрешения](../power-apps/powerapps-manage-api-connection-user-access.md) на использование API в своих приложениях.

[Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).


<!--References-->
[5]: https://console.developers.google.com/
[6]: ./media/create-api-googledrive/google-developers-console.png
[8]: ./media/create-api-googledrive/use-google-apis.png
[9]: ./media/create-api-googledrive/googledrive-api-overview.png
[10]: ./media/create-api-googledrive/enable-googledrive-api.png
[12]: ./media/create-api-googledrive/googledrive-api-credentials-add.png
[13]: ./media/create-api-googledrive/configure-consent-screen.png
[14]: ./media/create-api-googledrive/create-client-id.png

<!---HONumber=AcomDC_0224_2016-->