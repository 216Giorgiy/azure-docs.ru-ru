<properties
	pageTitle="Добавление соединителя Twitter в PowerApps Enterprise и приложения логики | Microsoft Azure"
	description="Обзор соединителя Twitter с параметрами REST API"
	services=""
	documentationCenter="" 
	authors="MandiOhlinger"
	manager="erikre"
	editor=""
	tags="connectors"/>

<tags
   ms.service="multiple"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="05/12/2016"
   ms.author="mandia"/>


# Приступая к работе с соединителем Twitter
Подключитесь к Twitter, чтобы публиковать твиты, получать временную шкалу пользователя и многое другое. Соединитель Twitter можно использовать из:

- приложений логики. 
- PowerApps.

> [AZURE.SELECTOR]
- [Приложения логики](../articles/connectors/connectors-create-api-twitter.md)
- [PowerApps Enterprise](../articles/power-apps/powerapps-create-api-twitter.md)

&nbsp;

>[AZURE.NOTE] Эта версия статьи предназначена для приложений логики со схемой версии 2015-08-01-preview.

С помощью Twitter вы можете:

- формировать бизнес-процессы на основе данных, получаемых из Twitter; 
- использовать триггеры при поступлении нового твита;
- использовать действия для публикации твита, поиска тивитов и многого другого. Эти действия получают ответ и делают выходные данные доступными для использования другими действиями. Например, новый появившийся твит можно опубликовать в Facebook.
- Добавьте соединитель Twitter в PowerApps Enterprise. После этого пользователи смогут использовать его в своих приложениях. 

Сведения о добавлении соединителя в PowerApps Enterprise см. в статье [Регистрация API, управляемого корпорацией Майкрософт, или API, управляемого ИТ-службой](../power-apps/powerapps-register-from-available-apis.md).

Сведения о добавлении операции в приложения логики см. в статье [Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).


## Триггеры и действия
Twitter предоставляет следующие триггеры и действия.

Триггер | Действия
--- | ---
<ul><li>При появлении нового твита</li></ul>| <ul><li>Публикация нового твита</li><li>При появлении нового твита</li><li>Получение ленты с главной страницы</li><li>Получение пользователя</li><li>Получение ленты пользователя</li><li>Поиск твита </li><li>Получение подписчиков</li><li>Получение моих подписчиков</li><li>Получение пользователей, на которых подписан пользователь</li><li>Получение пользователей, на которых я подписан</li></ul>

Все соединители поддерживают данные в форматах JSON и XML.


## Создание подключения к Twitter

При добавлении соединителя в приложения логики эти приложения необходимо авторизовать для подключения к учетной записи Twitter.

1. Войдите в свою учетную запись Twitter.
2. Выберите **Авторизовать** и разрешите приложениям логики подключаться к учетной записи Twitter и использовать ее. 

>[AZURE.INCLUDE [Шаги по созданию подключения к Twitter](../../includes/connectors-create-api-twitter.md)]

>[AZURE.TIP] Это подключение к Twitter можно использовать в других приложениях логики.


## Справочник по REST API Swagger
Относится к версии 1.0.

### Публикация нового твита 
Твитнуть. ```POST: /posttweet```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|tweetText|string|Нет|запрос|Нет|Публикуемый текст|
|текст| string (binary) |Нет|текст|Нет|СМИ для публикации|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### При появлении нового твита 
Активирует рабочий процесс, когда опубликован новый твит, который соответствует условиям поискового запроса. ```GET: /onnewtweet```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|searchQuery|string|Да|запрос|Нет|Текст запроса (можно использовать любые операторы запросов, поддерживаемые Twitter). http://www.twitter.com/search)|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|202|Принято|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение домашней временной шкалы 
Получает самые последние твиты и повторно публикует их пользователю и его подписчикам. ```GET: /hometimeline```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых твитов|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение пользователя 
Получает подробные сведения об указанном пользователе (например, имя пользователя, описание, число подписчиков и т. д.). ```GET: /user```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|userName|строка|Да|запрос|Нет|Имя пользователя в Twitter|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение временной шкалы пользователя 
Получает набор самых последних твитов, опубликованных указанным пользователем. ```GET: /usertimeline```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|userName|строка|Да|запрос|Нет|Имя пользователя в Twitter|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых твитов|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Поиск твита 
Получает набор похожих твитов, соответствующих указанному запросу. ```GET: /searchtweets```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|searchQuery|string|Да|запрос|Нет|Текст запроса (можно использовать любые операторы запросов, поддерживаемые Twitter). http://www.twitter.com/search)|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых твитов|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение подписчиков 
Получает пользователей, являющихся подписчиками указанного пользователя. ```GET: /followers```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|userName|строка|Да|запрос|Нет|Имя пользователя в Twitter|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых пользователей|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение моих подписчиков 
Получает пользователей, являющихся моими подписчиками. ```GET: /myfollowers```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых пользователей|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение пользователей, на которых подписан пользователь 
Получает пользователей, подписчиком которых является указанный пользователь. ```GET: /friends```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|userName|строка|Да|запрос|Нет|Имя пользователя в Twitter|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых пользователей|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


### Получение пользователей, на которых я подписан 
Получает пользователей, подписчиком которых являюсь я. ```GET: /myfriends```

| Имя| Тип данных|Обязательно|Местонахождение|Значение по умолчанию|Описание|
| ---|---|---|---|---|---|
|maxResults|целое число|Нет|запрос|20|Максимальное количество получаемых пользователей|

#### Ответ
|Имя|Описание|
|---|---|
|200|ОК|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка|
|по умолчанию|Операция завершилась ошибкой.|


## Определения объектов

### TweetModel: представление объекта твита

| Имя свойства | Тип данных | Обязательно |
|---|---| --- | 
|TweetText|строка|Да|
|TweetId|строка|Нет|
|CreatedAt|string|Нет|
|RetweetCount|целое число|Да|
|TweetedBy|string|Да|
|MediaUrls|array|Нет|

### UserDetailsModel: представление сведений пользователя Twitter

|Имя свойства | Тип данных | Обязательно |
|---|---|---|
|FullName|string|Да|
|Расположение|string|Да|
|Идентификатор|целое число|Нет|
|UserName|string|Да|
|FollowersCount|целое число|Нет|
|Описание|string|Да|
|StatusesCount|целое число|Нет|
|FriendsCount|целое число|Нет|

### TweetResponseModel: модель, представляющая опубликованный твит

| Имя | Тип данных | Обязательно |
|---|---|---|
|TweetId|string|Да|

### TriggerBatchResponse[TweetModel]

|Имя свойства | Тип данных |Обязательно |
|---|---|---|
|value|array|Нет|


## Дальнейшие действия

[Создание приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

Вы можете вернуться к [списку интерфейсов API](apis-list.md).

<!--References-->

[6]: ./media/connectors-create-api-twitter/twitter-apps-page.png
[7]: ./media/connectors-create-api-twitter/twitter-app-create.png

<!---HONumber=AcomDC_0518_2016-->