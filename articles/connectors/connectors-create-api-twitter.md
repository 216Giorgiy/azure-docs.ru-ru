---
title: "Как использовать соединитель Twitter в приложениях логики | Документация Майкрософт"
description: "Обзор соединителя Twitter с параметрами REST API"
services: 
documentationcenter: 
author: msftman
manager: erikre
editor: 
tags: connectors
ms.assetid: 8bce2183-544d-4668-a2dc-9a62c152d9fa
ms.service: multiple
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/18/2016
ms.author: deonhe
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: a9a1bcd75dbea49a4eff8e7eb9113cc47f7ab86f


---
# <a name="get-started-with-the-twitter-connector"></a>Приступая к работе с соединителем Twitter
С помощью соединителя Twitter вы можете:

* публиковать и получать твиты;
* получать доступ к временным шкалам, просматривать друзей и подписчиков;
* выполнять все действия и триггеры, описанные ниже.  

Чтобы использовать [соединитель](apis-list.md), сначала нужно создать приложение логики. Вы можете начать с [создания приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).  

## <a name="connect-to-twitter"></a>Подключение к Twitter
Чтобы обеспечить доступ приложения логики к какой-либо службе, сначала необходимо создать *подключение* к этой службе. Таким образом вы установите [соединение](connectors-overview.md) между приложением логики и другой службой.  

### <a name="create-a-connection-to-twitter"></a>Создание подключения к Twitter
> [!INCLUDE [Steps to create a connection to Twitter](../../includes/connectors-create-api-twitter.md)]
> 
> 

## <a name="use-a-twitter-trigger"></a>Использование триггера Twitter
Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. [Дополнительные сведения о триггерах](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

В этом примере продемонстрировано, как с помощью триггера **When a new tweet is posted** (При публикации нового твита) выполнить поиск по хэш-тегу #Seattle, а затем заменить содержимое файла в Dropbox текстом из твита, отвечающего критериям поиска. В качестве примера для компаний можно выполнить поиск по имени компании и заменить содержимое базы данных SQL текстом из твита.

1. В конструкторе приложений логики в поле поиска введите *twitter*, а затем выберите триггер Twitter **When a new tweet is posted** (При публикации нового твита).   
   ![Изображение 1. Триггер Twitter](./media/connectors-create-api-twitter/trigger-1.png)  
2. В элементе управления **Поиск текста** введите *#Seattle*.  
   ![Изображение 2. Триггер Twitter](./media/connectors-create-api-twitter/trigger-2.png) 

На этом этапе для приложения логики настроен триггер, который будет запускать другие триггеры и действия в рабочем процессе. 

> [!NOTE]
> Чтобы приложение логики функционировало, оно должно содержать по крайней мере один триггер и одно действие. Шаги по добавлению действия описаны в следующем разделе.  
> 
> 

## <a name="add-a-condition"></a>Добавить условие
Так как нас интересуют только твиты от пользователей, у которых более 50 подписчиков, условие, проверяющее число подписчиков, необходимо первым добавить в приложение логики.  

1. Нажмите кнопку **+ Новый шаг**, чтобы добавить действие, которое будет выполняться при обнаружении нового твита с хэш-тегом #Seattle.  
   ![Изображение 1. Действие Twitter](../../includes/media/connectors-create-api-twitter/action-1.png)  
2. Щелкните ссылку **Добавить условие**.  
   ![Изображение 1. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-1.png)   
   Откроется элемент управления **Условие**, где можно выбрать необходимое условие, например *равно*, *меньше*, *больше*, *содержит* и т. д.  
   ![Изображение 2. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-2.png)   
3. Выберите элемент управления **Выберите значение**.  
   В этом элементе управления можно выбрать одно или несколько свойств из предыдущих действий или триггеров в качестве значения, которое будет проверяться на соответствие условию (true или false).
   ![Изображение 3. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-3.png)   
4. Щелкните **…**, чтобы развернуть список всех доступных свойств.        
   ![Изображение 4. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-4.png)   
5. Выберите свойство **Followers count** (Число подписчиков).    
   ![Изображение 5. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-5.png)   
6. Обратите внимание, что теперь свойство "Followers count" (Число подписчиков) отображается в поле выбора значения.    
   ![Изображение 6: условие Twitter](../../includes/media/connectors-create-api-twitter/condition-6.png)   
7. Из списка операторов выберите значение **больше**.    
   ![Изображение 7. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-7.png)   
8. Введите 50 в качестве операнда для оператора *больше*.  
   Условие добавлено. Чтобы сохранить изменения, щелкните ссылку **Сохранить** в меню вверху.    
   ![Изображение 8. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-8.png)   

## <a name="use-a-twitter-action"></a>Использование действия Twitter
Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. [Дополнительные сведения о действиях](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).  

Добавив триггер, выполните следующие шаги, чтобы добавить действие для публикации нового твита с содержимым твитов, найденных с помощью триггера. Для целей этого пошагового руководства будут публиковаться только твиты пользователей, у которых более 50 подписчиков.  

На следующем этапе необходимо добавить действие Twitter для публикации твита с использованием некоторых свойств каждого твита, опубликованного пользователями, у которых более 50 подписчиков.  

1. Выберите **Добавить действие**. Откроется элемент управления "Поиск", с помощью которого можно найти другие действия и триггеры.  
   ![Изображение 9. Условие Twitter](../../includes/media/connectors-create-api-twitter/condition-9.png)   
2. В поле поиска введите *twitter*, а затем выберите действие Twitter **Post a tweet** (Публикация твита). Откроется элемент управления **Post a tweet** (Публикация твита), где необходимо добавить все сведения о твите, который публикуется.      
   ![Изображения 1–5. Действие Twitter](../../includes/media/connectors-create-api-twitter/action-1-5.png)   
3. Выберите элемент управления **Tweet text** (Текст твита). Отобразятся все выходные данные из предыдущих действий и триггеров в приложении логики. Эти данные можно использовать в качестве текста нового твита.     
   ![Действие Twitter, изображение 2](../../includes/media/connectors-create-api-twitter/action-2.png)   
4. Выберите **Имя пользователя**.   
5. В текстовом поле элемента управления "Tweet text" (Текст твита) введите *says:*. Это фразу нужно ввести сразу после имени пользователя.  
6. Выберите *Tweet text* (Текст твита).       
   ![Действие Twitter, изображение 3](../../includes/media/connectors-create-api-twitter/action-3.png)   
7. Сохраните изменения и активируйте рабочий процесс путем отправки твита с хэш-тегом #Seattle.  

## <a name="technical-details"></a>Технические сведения
Ниже приведены сведения о триггерах, действиях и ответах, которые поддерживает это подключение.

## <a name="twitter-triggers"></a>Триггеры Twitter
Соединитель Twitter предоставляет следующие триггеры.  

| Триггер | Описание |
| --- | --- |
| [When a new tweet is posted](connectors-create-api-twitter.md#when-a-new-tweet-is-posted) |Активирует поток при публикации нового твита, удовлетворяющего заданному поисковому запросу. |

## <a name="twitter-actions"></a>Действия Twitter
Соединитель Twitter предоставляет следующие действия.

| Действие | Описание |
| --- | --- |
| [Get user timeline](connectors-create-api-twitter.md#get-user-timeline) |Получает набор последних твитов, опубликованных указанным пользователем. |
| [Get home timeline](connectors-create-api-twitter.md#get-home-timeline) |Получает последние твиты и повторно опубликованные твиты пользователя и его подписчиков. |
| [Search tweets](connectors-create-api-twitter.md#search-tweets) |Получает набор похожих твитов, соответствующих поисковому запросу. |
| [Get followers](connectors-create-api-twitter.md#get-followers) |Получает список пользователей, являющихся подписчиками указанного пользователя. |
| [Get my followers](connectors-create-api-twitter.md#get-my-followers) |Получает список пользователей, являющихся подписчиками указанного пользователя. |
| [Get following](connectors-create-api-twitter.md#get-following) |Получает список пользователей, подписчиком которых является указанный пользователь |
| [Get my following](connectors-create-api-twitter.md#get-my-following) |Получает список пользователей, подписчиком которых являюсь я. |
| [Get user](connectors-create-api-twitter.md#get-user) |Получает данные профиля указанного пользователя (например, имя пользователя, описание, число подписчиков и т. д.). |
| [Post a tweet](connectors-create-api-twitter.md#post-a-tweet) |Публикует новый твит. |

## <a name="action-details"></a>Сведения о действиях
Ниже приведены подробные сведения о действиях и триггерах этого соединителя, а также ответы на них.

### <a name="get-user-timeline"></a>Получение временной шкалы пользователя
Получает набор последних твитов, опубликованных указанным пользователем. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| userName* |Имя пользователя |Имя пользователя в Twitter |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых твитов |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
TweetModel: представление объекта твита

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| tweetText |string |Текстовое содержимое твита |
| TweetId |string |Идентификатор твита |
| CreatedAt |string |Время публикации твита |
| RetweetCount |целое число |Общее число повторно опубликованных твитов |
| TweetedBy |string |Имя пользователя, опубликовавшего твит |
| MediaUrls |array |URL-адрес мультимедийного содержимого, опубликованного вместе с твитом |
| TweetLanguageCode |string |Код языка твита |
| TweetInReplyToUserId |string |Идентификатор автора твита, на который текущий твит является ответом |
| Favorited |Логическое |Указывает, добавлен ли твит в избранное |
| UserMentions |array |Пользователи, указанные в твите |
| OriginalTweet |не определено |Исходный твит, на основе которого повторно опубликован текущий твит |
| UserDetails |не определено |Сведения о пользователе, опубликовавшем твит |

### <a name="get-home-timeline"></a>Получение домашней временной шкалы
Получает последние твиты и повторно опубликованные твиты пользователя и его подписчиков. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых твитов |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
TweetModel: представление объекта твита

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| tweetText |string |Текстовое содержимое твита |
| TweetId |string |Идентификатор твита |
| CreatedAt |string |Время публикации твита |
| RetweetCount |целое число |Общее число повторно опубликованных твитов |
| TweetedBy |string |Имя пользователя, опубликовавшего твит |
| MediaUrls |array |URL-адрес мультимедийного содержимого, опубликованного вместе с твитом |
| TweetLanguageCode |string |Код языка твита |
| TweetInReplyToUserId |string |Идентификатор автора твита, на который текущий твит является ответом |
| Favorited |Логическое |Указывает, добавлен ли твит в избранное |
| UserMentions |array |Пользователи, указанные в твите |
| OriginalTweet |не определено |Исходный твит, на основе которого повторно опубликован текущий твит |
| UserDetails |не определено |Сведения о пользователе, опубликовавшем твит |

### <a name="search-tweets"></a>Искать твиты
Получает набор похожих твитов, соответствующих поисковому запросу. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| searchQuery* |Текст запроса |Например, "счастливое время", #haiku, "люблю" или "ненавижу" |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых твитов |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
TweetModel: представление объекта твита

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| tweetText |string |Текстовое содержимое твита |
| TweetId |string |Идентификатор твита |
| CreatedAt |string |Время публикации твита |
| RetweetCount |целое число |Общее число повторно опубликованных твитов |
| TweetedBy |string |Имя пользователя, опубликовавшего твит |
| MediaUrls |array |URL-адрес мультимедийного содержимого, опубликованного вместе с твитом |
| TweetLanguageCode |string |Код языка твита |
| TweetInReplyToUserId |string |Идентификатор автора твита, на который текущий твит является ответом |
| Favorited |Логическое |Указывает, добавлен ли твит в избранное |
| UserMentions |array |Пользователи, указанные в твите |
| OriginalTweet |не определено |Исходный твит, на основе которого повторно опубликован текущий твит |
| UserDetails |не определено |Сведения о пользователе, опубликовавшем твит |

### <a name="get-followers"></a>Получение подписчиков
Получает список пользователей, являющихся подписчиками указанного пользователя. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| userName* |Имя пользователя |Имя пользователя в Twitter |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых пользователей |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
UserDetailsModel: сведения о пользователе Twitter

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| FullName |string |Имя пользователя |
| Расположение |string |Расположение пользователя |
| Идентификатор |целое число |Идентификатор пользователя в Twitter |
| UserName |string |Отображаемое имя пользователя |
| FollowersCount |целое число |Количество подписчиков |
| Описание |string |Описание пользователя |
| StatusesCount |целое число |Количество состояний пользователя |
| FriendsCount |целое число |Количество друзей |
| FavouritesCount |целое число |Количество твитов пользователя, добавленных в избранное |
| ProfileImageUrl |string |URL-адрес изображения профиля |

### <a name="get-my-followers"></a>Получение моих подписчиков
Получает список пользователей, являющихся подписчиками указанного пользователя. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| maxResults |Максимальное количество результатов |Максимальное количество получаемых пользователей |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
UserDetailsModel: сведения о пользователе Twitter

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| FullName |string |Имя пользователя |
| Расположение |string |Расположение пользователя |
| Идентификатор |целое число |Идентификатор пользователя в Twitter |
| UserName |string |Отображаемое имя пользователя |
| FollowersCount |целое число |Количество подписчиков |
| Описание |string |Описание пользователя |
| StatusesCount |целое число |Количество состояний пользователя |
| FriendsCount |целое число |Количество друзей |
| FavouritesCount |целое число |Количество твитов пользователя, добавленных в избранное |
| ProfileImageUrl |string |URL-адрес изображения профиля |

### <a name="get-following"></a>Получение пользователей, на которых подписан пользователь
Получает список пользователей, подписчиком которых является указанный пользователь 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| userName* |Имя пользователя |Имя пользователя в Twitter |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых пользователей |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
UserDetailsModel: сведения о пользователе Twitter

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| FullName |string |Имя пользователя |
| Расположение |string |Расположение пользователя |
| Идентификатор |целое число |Идентификатор пользователя в Twitter |
| UserName |string |Отображаемое имя пользователя |
| FollowersCount |целое число |Количество подписчиков |
| Описание |string |Описание пользователя |
| StatusesCount |целое число |Количество состояний пользователя |
| FriendsCount |целое число |Количество друзей |
| FavouritesCount |целое число |Количество твитов пользователя, добавленных в избранное |
| ProfileImageUrl |string |URL-адрес изображения профиля |

### <a name="get-my-following"></a>Получение пользователей, на которых я подписан
Получает список пользователей, подписчиком которых являюсь я. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| maxResults |Максимальное количество результатов |Максимальное количество возвращаемых пользователей |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
UserDetailsModel: сведения о пользователе Twitter

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| FullName |string |Имя пользователя |
| Расположение |string |Расположение пользователя |
| Идентификатор |целое число |Идентификатор пользователя в Twitter |
| UserName |string |Отображаемое имя пользователя |
| FollowersCount |целое число |Количество подписчиков |
| Описание |string |Описание пользователя |
| StatusesCount |целое число |Количество состояний пользователя |
| FriendsCount |целое число |Количество друзей |
| FavouritesCount |целое число |Количество твитов пользователя, добавленных в избранное |
| ProfileImageUrl |string |URL-адрес изображения профиля |

### <a name="get-user"></a>Получение пользователя
Получает данные профиля указанного пользователя (например, имя пользователя, описание, число подписчиков и т. д.). 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| userName* |Имя пользователя |Имя пользователя в Twitter |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
UserDetailsModel: сведения о пользователе Twitter

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| FullName |string |Имя пользователя |
| Расположение |string |Расположение пользователя |
| Идентификатор |целое число |Идентификатор пользователя в Twitter |
| UserName |string |Отображаемое имя пользователя |
| FollowersCount |целое число |Количество подписчиков |
| Описание |string |Описание пользователя |
| StatusesCount |целое число |Количество состояний пользователя |
| FriendsCount |целое число |Количество друзей |
| FavouritesCount |целое число |Количество твитов пользователя, добавленных в избранное |
| ProfileImageUrl |string |URL-адрес изображения профиля |

### <a name="post-a-tweet"></a>Post a tweet (Публикация твита)
Публикует новый твит. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| tweetText |Текст твита |Публикуемый текст |
| текст |Служба мультимедиа |СМИ для публикации |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
TweetResponseModel: модель, представляющая опубликованный твит

| Имя свойства | Тип данных | Описание |
| --- | --- | --- |
| TweetId |string |Идентификатор полученного твита |

### <a name="when-a-new-tweet-is-posted"></a>When a new tweet is posted (При публикации нового твита)
Активирует поток при публикации нового твита, удовлетворяющего заданному поисковому запросу. 

| Имя свойства | Отображаемое имя | Описание |
| --- | --- | --- |
| searchQuery* |Текст запроса |Например, "счастливое время", #haiku, "люблю" или "ненавижу" |

Звездочка (*) означает, что свойство является обязательным.

#### <a name="output-details"></a>Сведения о выходных данных
TriggerBatchResponse[TweetModel]

| Имя свойства | Тип данных |
| --- | --- |
| value |array |

## <a name="http-responses"></a>Ответы HTTP
Описанные выше действия и триггеры могут возвращать один или несколько кодов состояния HTTP, которые приведены ниже. 

| Имя | Описание |
| --- | --- |
| 200 |ОК |
| 202 |Принято |
| 400 |Ошибка запроса |
| 401 |Не авторизовано |
| 403 |Запрещено |
| 404 |Не найдено |
| 500 |Внутренняя ошибка сервера. Произошла неизвестная ошибка. |
| по умолчанию |Операция завершилась ошибкой. |

## <a name="next-steps"></a>Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)




<!--HONumber=Nov16_HO3-->


