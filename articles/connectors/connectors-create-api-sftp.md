<properties
pageTitle="Сведения об использовании соединителя SFTP в приложениях логики | Microsoft Azure"
description="Создание приложений логики с помощью службы приложений Azure. Подключитесь к API SFTP, чтобы отправлять и получать файлы. Вы можете выполнять различные операции, например создавать, обновлять, получать или удалять файлы."
services="app-servicelogic"	
documentationCenter=".net,nodejs,java" 	
authors="msftman"	
manager="erikre"	
editor=""
tags="connectors" />

<tags
ms.service="logic-apps"
ms.devlang="multiple"
ms.topic="article"
ms.tgt_pltfrm="na"
ms.workload="integration"
ms.date="07/20/2016"
ms.author="deonhe"/>

# Начало работы с соединителем SFTP

Используйте соединитель SFTP, чтобы получить доступ к учетной записи SFTP для отправки и получения файлов. Вы можете выполнять различные операции, например создавать, обновлять, получать или удалять файлы.

Чтобы использовать [соединитель](./apis-list.md), сначала нужно создать приложение логики. Вы можете начать с [создания приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Подключение к SFTP

Чтобы обеспечить доступ приложения логики к какой-либо службе, сначала необходимо создать *подключение* к этой службе. Таким образом вы установите [подключение](./connectors-overview.md) между приложением логики и другой службой.

### Создание подключения к SFTP

>[AZURE.INCLUDE [Шаги по созданию подключения к SFTP](../../includes/connectors-create-api-sftp.md)]

## Использование триггера SFTP

Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. Дополнительные сведения о триггерах см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

Из этого примера вы узнаете, как использовать триггер **SFTP - When a file is added or modified** (SFTP — при добавлении или изменении файла) для запуска рабочего процесса приложения логики при добавлении или изменении файла на SFTP-сервере. Из этого примера вы также узнаете, как добавить условие, которое проверяет содержимое нового или измененного файла, и принимает решение извлечь файл, если содержимое файла указывает, что он должен быть извлечен перед использованием содержимого. Наконец, вы узнаете, как добавить действие, которое извлекает содержимое файла и помещает извлеченное содержимое в папку на SFTP-сервере.

В контексте предприятия можно использовать этот триггер, чтобы отслеживать в папке SFTP новые файлы, представляющие заказы от клиентов. Также вы можете использовать действие соединителя SFTP **Get file content** (Получить содержимое файла), чтобы получить содержимое заказа для дальнейшей обработки и хранения в базе данных заказов.

>[AZURE.INCLUDE [Действия по созданию триггера SFTP](../../includes/connectors-create-api-sftp-trigger.md)]

## Добавление условия

>[AZURE.INCLUDE [Действия по добавлению условия](../../includes/connectors-create-api-sftp-condition.md)]

## Использование действия SFTP

Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. Дополнительные сведения о действиях см. [здесь](../app-service-logic/app-service-logic-what-are-logic-apps.md#logic-app-concepts).

>[AZURE.INCLUDE [Действия по созданию действия SFTP](../../includes/connectors-create-api-sftp-action.md)]


## Технические сведения

Ниже приведены сведения о триггерах, действиях и ответах, которые поддерживает это подключение.

## Триггеры SFTP

В SFTP доступны следующие триггеры.

|Триггер | Описание|
|--- | ---|
|[When a file is added or modified](connectors-create-api-sftp.md#when-a-file-is-added-or-modified) (При добавлении или изменении файла)|Активирует поток при добавлении или изменении файла в папке.|


## Действия SFTP

Соединитель SFTP предоставляет следующие действия.


|Действие|Описание|
|--- | ---|
|[Get file metadata (Получение метаданных файла)](connectors-create-api-sftp.md#get-file-metadata)|Извлекает метаданные файла с помощью идентификатора файла.|
|[Обновление файла](connectors-create-api-sftp.md#update-file)|Обновляет содержимое файла.|
|[Удаление файла](connectors-create-api-sftp.md#delete-file)|Удаляет файл.|
|[Получение метаданных файла с помощью пути](connectors-create-api-sftp.md#get-file-metadata-using-path)|Извлекает метаданные файла с помощью пути к файлу.|
|[Получение содержимого файла с помощью пути](connectors-create-api-sftp.md#get-file-content-using-path)|Извлекает содержимое файла с помощью пути к файлу.|
|[Получение содержимого файла](connectors-create-api-sftp.md#get-file-content)|Извлекает содержимое файла с помощью идентификатора файла.|
|[Создание файла](connectors-create-api-sftp.md#create-file)|Загружает файл на SFTP-сервер.|
|[Копирование файла](connectors-create-api-sftp.md#copy-file)|Загружает файл на SFTP-сервер.|
|[List files in folder (Вывод списка файлов в папке)](connectors-create-api-sftp.md#list-files-in-folder)|Возвращает файлы, содержащиеся в папке.|
|[List files in root folder (Вывод списка файлов в корневой папке)](connectors-create-api-sftp.md#list-files-in-root-folder)|Возвращает файлы в корневой папке.|
|[Извлечение папки](connectors-create-api-sftp.md#extract-folder)|Извлекает файл архива в папку (например, ZIP-файл).|
### Сведения о действиях

Ниже приведены подробные сведения о действиях и триггерах этого соединителя, а также ответы на них.



### Get file metadata (Получение метаданных файла)
Извлекает метаданные файла с помощью идентификатора файла.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|id*|Файл|Укажите файл|

Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### Обновление файла
Обновляет содержимое файла.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|id*|Файл|Укажите файл|
|body*|содержимое файла;|Содержимое обновляемого файла|

Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### Удаление файла
Удаляет файл.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|id*|Файл|Укажите файл|

Звездочка (*) означает, что свойство является обязательным.




### Получение метаданных файла с помощью пути
Извлекает метаданные файла с помощью пути к файлу.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|path*|Путь к файлу|Уникальный путь к файлу|

Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### Получение содержимого файла с помощью пути
Извлекает содержимое файла с помощью пути к файлу.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|path*|Путь к файлу|Уникальный путь к файлу|

Звездочка (*) означает, что свойство является обязательным.




### Получение содержимого файла
Извлекает содержимое файла с помощью идентификатора файла.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|id*|Файл|Укажите файл|

Звездочка (*) означает, что свойство является обязательным.




### Создание файла
Загружает файл на SFTP-сервер.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|folderPath*|Путь к папке|Уникальный путь к папке|
|name*|Имя файла|Имя файла|
|body*|содержимое файла;|Содержимое создаваемого файла|

Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

BlobMetadata


|| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### Копирование файла
Загружает файл на SFTP-сервер.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|source*|Путь к исходному файлу|Путь к исходному файлу|
|destination*|Путь к конечному файлу|Путь к конечному файлу, включая имя файла|
|перезаписать|Перезаписать?|Перезаписывает конечный файл, если задано значение "true"|

Звездочка (*) означает, что свойство является обязательным.

#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### When a file is added or modified (При добавлении или изменении файла)
Активирует поток при добавлении или изменении файла в папке.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|folderId*|Папка|Укажите папку|

Звездочка (*) означает, что свойство является обязательным.




### List files in folder (Вывод списка файлов в папке)
Возвращает файлы, содержащиеся в папке.


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|id*|Папка|Укажите папку|

Звездочка (*) означает, что свойство является обязательным.



#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### List files in root folder (Вывод списка файлов в корневой папке)
Возвращает файлы в корневой папке.


Для этого вызова параметры отсутствуют

#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|




### Извлечение папки
Извлекает файл архива в папку (например, ZIP-файл).


|Имя свойства| Отображаемое имя|Описание|
| ---|---|---|
|source*|Путь к исходному файлу архива|Путь к файлу архива|
|destination*|Путь к конечной папке|Путь к конечной папке|
|перезаписать|Перезаписать?|Перезаписывает конечные файлы, если задано значение "true"|

Звездочка (*) означает, что свойство является обязательным.



#### Сведения о выходных данных

BlobMetadata


| Имя свойства | Тип данных |
|---|---|---|
|Идентификатор|строка|
|Имя|строка|
|DisplayName|строка|
|Путь|строка|
|LastModified|строка|
|Размер|целое число|
|MediaType|строка|
|IsFolder|Логическое|
|ETag|string|
|FileLocator|string|



## Ответы HTTP

Описанные выше действия и триггеры могут возвращать один или несколько кодов состояния HTTP, которые приведены ниже.

|Имя|Описание|
|---|---|
|200|ОК|
|202|Принято|
|400|Ошибка запроса|
|401|Не авторизовано|
|403|Запрещено|
|404|Не найдено|
|500|Внутренняя ошибка сервера. Произошла неизвестная ошибка.|
|по умолчанию|Операция завершилась ошибкой.|







## Дальнейшие действия
[Создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md)

<!---HONumber=AcomDC_0727_2016-->