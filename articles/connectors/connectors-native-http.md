.<properties
	pageTitle="Добавление действия HTTP в приложения логики | Microsoft Azure"
	description="Обзор действий HTTP и их свойств"
	services=""
	documentationCenter=""
	authors="jeffhollan"
	manager="erikre"
	editor=""
	tags="connectors"/>

<tags
   ms.service="logic-apps"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/15/2016"
   ms.author="jehollan"/>

# Начало работы с действием HTTP

Благодаря действию HTTP можно расширить рабочие процессы своей организации и взаимодействовать с конечной точкой по протоколу HTTP.

Вы можете:

- Создайте рабочие процессы приложений логики, которые будут активироваться, когда управляемый вами веб-сайт выйдет из строя.
- Настройте взаимодействие с конечной точкой по протоколу HTTP, чтобы распространить рабочие процессы на другие службы.

Сведения о начале работы с действием HTTP в приложении логики см. в статье о [создании приложения логики](../app-service-logic/app-service-logic-create-a-logic-app.md).

## Использование триггера HTTP

Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. Дополнительные сведения о триггерах см. [здесь](connectors-overview.md).

Ниже приведен пример последовательности настройки триггера HTTP в конструкторе приложений логики.

1. Добавьте триггер HTTP в приложение логики.
2. Заполните параметры конечной точки HTTP, которую нужно опросить.
3. Измените интервал повторения на частоту опроса.
4. Теперь приложение логики запускается с любым содержимым, возвращаемым при проверке.

.![Триггер HTTP](./media/connectors-native-http/using-trigger.png)

### Принцип работы триггера HTTP

Триггер HTTP вызывает конечную точку HTTP в соответствии с интервалом повторения. По умолчанию код ответа HTTP со значением меньше 300 приводит к запуску приложения логики. В представление кода можно добавить условие, которое будет оценивать результат вызова HTTP, чтобы определить, нужно ли запускать приложение логики. Ниже приведен пример триггера HTTP, который срабатывает, когда возвращаемый код состояния больше или равен `400`.

```javascript
"Http":
{
	"conditions": [
		{
			"expression": "@greaterOrEquals(triggerOutputs()['statusCode'], 400)"
		}
	],
	"inputs": {
		"method": "GET",
		"uri": "https://blogs.msdn.microsoft.com/logicapps/",
		"headers": {
			"accept-language": "en"
		}
	},
	"recurrence": {
		"frequency": "Second",
		"interval": 15
	},
	"type": "Http"
}
```

Подробные сведения о параметрах триггера HTTP можно найти в библиотеке [MSDN](https://msdn.microsoft.com/library/azure/mt643939.aspx#HTTP-trigger).

## Использование действия HTTP

Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. Дополнительные сведения о действиях см. [здесь](connectors-overview.md).

1. Нажмите кнопку **Новый шаг**.
2. Выберите **Добавить действие**.
3. В поле поиска действий введите **http**, чтобы получить список действий HTTP.

	.![Выбор действия HTTP](./media/connectors-native-http/using-action-1.png)

4. Добавьте параметры, необходимые для вызова HTTP.

	![Выполнение действия HTTP](./media/connectors-native-http/using-action-2.png)

5. Нажмите кнопку в левом верхнем углу панели инструментов, чтобы сохранить. После этого приложение логики будет сохранено и опубликовано (активировано).

## Триггер HTTP

Ниже приведены подробные сведения о триггере, поддерживаемом этим соединителем. У соединителя HTTP один триггер.

|Триггер|Описание|
|---|---|
|HTTP|Совершает вызов HTTP и возвращает содержимое ответа.|

## Действие HTTP

Ниже приведены подробные сведения о действии, которое поддерживает этот соединитель. У соединителя HTTP одно возможное действие.

|Действие|Описание|
|---|---|
|HTTP|Совершает вызов HTTP и возвращает содержимое ответа.|

## Сведения о HTTP

В следующих таблицах приведены обязательные и необязательные поля ввода для действия, а также соответствующие выходные данные, связанные с его использованием.


#### HTTP-запрос
Ниже перечислены поля ввода для действия, выполняющего исходящий HTTP-запрос. Звездочка (*) означает, что это поле обязательное для заполнения.

|Отображаемое имя|Имя свойства|Описание|
|---|---|---|
|Метод*|метод|HTTP-команда для использования|
|URI*|uri|URI HTTP-запроса|
|Заголовки|headers|Объект JSON заголовков HTTP, который нужно включить|
|Текст|текст|Текст HTTP-запроса|
|Аутентификация|authentication|Подробнее см. в разделе [Аутентификация](#authentication)|
<br>

#### Сведения о выходных данных

Ниже приведены сведения о выходных данных для ответа HTTP.

|Имя свойства|Тип данных|Описание|
|---|---|---|
|Заголовки|object|Заголовки ответов|
|Текст|object|Объект ответа|
|Код состояния|int|HTTP status code (Код состояния HTTP)|

## Аутентификация

Функция приложений логики в службе приложений Azure позволяет использовать разные типы аутентификации на основе конечных точек HTTP. Такую аутентификацию можно применять с соединителями **HTTP**, **[HTTP + Swagger](./connectors-native-http-swagger.md)** и **[HTTP Webhook](./connectors-native-webhook.md)**. Ниже приведены типы аутентификации, которые можно настроить.

* [Обычная аутентификация](#basic-authentication)
* [Аутентификация на основе сертификата клиента](#client-certificate-authentication)
* [Аутентификация Azure Active Directory (Azure AD) OAuth](#azure-active-directory-oauth-authentication)

#### Обычная аутентификация

Для обычной аутентификации требуется следующий объект аутентификации. Звездочка (*) означает, что это поле обязательное для заполнения.

|Имя свойства|Тип данных|Описание|
|---|---|---|
|Тип*|type|Тип аутентификации (для обычной аутентификации значение должно быть `Basic`)|
|Имя пользователя*|Имя пользователя|Имя пользователя для аутентификации|
|Пароль*|пароль|Пароль для аутентификации.|

>[AZURE.TIP] Если вы хотите использовать пароль, который не удается получить из определения, используйте параметр `securestring` и [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`.

Таким образом, в поле аутентификации будет создан следующий объект.

```javascript
{
	"type": "Basic",
	"username": "user",
	"password": "test"
}
```

#### Аутентификация на основе сертификата клиента

Для аутентификации на основе сертификата клиента требуется следующий объект аутентификации. Звездочка (*) означает, что это поле обязательное для заполнения.

|Имя свойства|Тип данных|Описание|
|---|---|---|
|Тип*|type|Тип аутентификации (для аутентификации на основе SSL-сертификатов клиента значение должно быть `ClientCertificate`)|
|PFX*|pfx|Содержимое файла обмена личной информацией (PFX-файла) с кодировкой Base64|
|Пароль*|пароль|Пароль для доступа к PFX-файлу|

>[AZURE.TIP] Можно использовать параметр `securestring` и [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`, чтобы применить параметр, который после сохранения приложения логики будет недоступным для чтения в определении.

Например:

```javascript
{
	"type": "ClientCertificate",
	"pfx": "aGVsbG8g...d29ybGQ=",
	"password": "@parameters('myPassword')"
}
```

#### Аутентификация Azure AD OAuth

Для аутентификации Azure AD OAuth требуется следующий объект аутентификации. Звездочка (*) означает, что это поле обязательное для заполнения.

|Имя свойства|Тип данных|Описание|
|---|---|---|
|Тип*|type|Тип аутентификации (для аутентификации Azure AD OAuth значение должно быть `ActiveDirectoryOAuth`)|
|Клиент*|tenant|Идентификатор клиента Azure AD.|
|Аудитория*|audience|Установите значение `https://management.core.windows.net/`|
|Идентификатор клиента*|clientid|Идентификатор клиента для приложения Azure AD|
|Секрет*|secret|Секретные данные клиента, запрашивающего маркер|

>[AZURE.TIP] Можно использовать параметр `securestring` и [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`, чтобы применить параметр, который после сохранения будет недоступным для чтения в определении.

Например:

```javascript
{
	"type": "ActiveDirectoryOAuth",
	"tenant": "72f988bf-86f1-41af-91ab-2d7cd011db47",
	"audience": "https://management.core.windows.net/",
	"clientId": "34750e0b-72d1-4e4f-bbbe-664f6d04d411",
	"secret": "hcqgkYc9ebgNLA5c+GDg7xl9ZJMD88TmTJiJBgZ8dFo="
}
```

## Дальнейшие действия

Теперь опробуйте платформу и [создайте приложение логики](../app-service-logic/app-service-logic-create-a-logic-app.md). Чтобы узнать, какие еще соединители доступны в приложениях логики, ознакомьтесь со [списком интерфейсов API](apis-list.md).

<!---HONumber=AcomDC_0810_2016-->