---
title: "Приступая к работе с обозревателем службы хранилища (предварительная версия) | Документация Майкрософт"
description: "Управление ресурсами хранилища Azure с помощью обозревателя хранилищ (предварительная версия)"
services: storage
documentationcenter: na
author: TomArcher
manager: douge
editor: 
ms.assetid: 1ed0f096-494d-49c4-ab71-f4164ee19ec8
ms.service: storage
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/18/2016
ms.author: tarcher
translationtype: Human Translation
ms.sourcegitcommit: 0c4554d6289fb0050998765485d965d1fbc6ab3e
ms.openlocfilehash: 07b62cd6f6deb0cf3ff1c806204ebc26c773a164
ms.lasthandoff: 04/13/2017


---
# <a name="getting-started-with-storage-explorer-preview"></a>Приступая к работе с обозревателем службы хранилища (предварительная версия)
## <a name="overview"></a>Обзор
Microsoft Azure Storage Explorer (предварительная версия) — это автономное приложение, позволяющее легко работать с данными из службы хранилища Azure на платформе Windows, macOS и Linux. В этой статье рассмотрены различные способы подключения к учетным записям хранения Azure и управления ими.

![Обозреватель службы хранилища Microsoft Azure (предварительная версия)][15]

## <a name="prerequisites"></a>Предварительные требования
* [Скачайте и установите обозреватель службы хранилища (предварительная версия).](http://www.storageexplorer.com)

## <a name="connect-to-a-storage-account-or-service"></a>Подключение к учетной записи хранения или к службе
Приложение Storage Explorer (предварительная версия) предусматривает множество способов подключения к учетным записям хранения. Можно подключиться к учетным записям хранения, связанным с подписками Azure, а также к учетным записям хранения и службам, к которым предоставлен общий доступ из других подписок Azure. Кроме того, можно подключиться к локальному хранилищу и управлять им с помощью эмулятора хранения Azure. Можно также работать с учетными записями хранения в глобальной и национальной среде Azure.

* [Подключение к подписке Azure](#connect-to-an-azure-subscription) — управление ресурсами хранилища, принадлежащими к подписке Azure.
* [Работа с локальным хранилищем разработки](#work-with-local-development-storage) — управление локальным хранилищем с помощью эмулятора хранения Azure.
* [Подключение к внешнему хранилищу](#attach-or-detach-an-external-storage-account) — управление ресурсами хранилища, принадлежащими к другой подписке Azure или национальным облакам Azure, с использованием имени, ключа и конечных точек учетной записи хранения.
* [Присоединение учетной записи хранения с помощью подписанного URL-адреса](#attach-storage-account-using-sas) — управление ресурсами хранилища, принадлежащими к другой подписке Azure, с использованием подписанного URL-адреса.
* [Присоединение службы с помощью подписанного URL-адреса](#attach-service-using-sas) — управление конкретной службой хранилища (контейнером больших двоичных объектов, очередью или таблицей), принадлежащей к другой подписке Azure, с использованием подписанного URL-адреса.

## <a name="connect-to-an-azure-subscription"></a>Подключение к подписке Azure
> [!NOTE]
> Если у вас нет учетной записи Azure, [зарегистрируйтесь для работы с бесплатной пробной версией](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A261C142F) или [активируйте преимущества для подписчиков Visual Studio](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F).
>
>

1. В обозревателе хранилищ (предварительная версия) выберите раздел **Параметры учетной записи Azure**.

    ![Параметры учетной записи Azure][0]
2. На панели слева отображаются все учетные записи Microsoft, в которые вы вошли. Чтобы подключиться к другой учетной записи, выберите **Добавить учетную запись**. Затем выполните инструкции в диалоговых окнах, чтобы войти в учетную запись Майкрософт, связанную минимум с одной активной подпиской Azure.
> [!NOTE]
>Подключение путем входа в национальную среду Azure, например Black Forest Azure, Fairfax Azure и Mooncake Azure, сейчас не поддерживается. Сведения о том, как подключиться к учетным записям хранения национальной среды Azure, см. в **этом разделе**.

3. Выполнив вход с помощью учетной записи Майкрософт, на панели слева вы увидите подписки Azure, связанные с этой учетной записью. Выберите подписки Azure, с которыми вы хотите работать, а затем щелкните **Применить**. (Чтобы выбрать все подписки, установите флажок **Все подписки**. Чтобы отменить выбор, снимите флажок.)

    ![Выбор подписок Azure][3]
4. На панели слева отобразятся все учетные записи хранения, связанные с выбранными подписками Azure.

    ![Выбранные подписки Azure][4]

## <a name="connect-to-an-azure-stack-subscription"></a>Подключение к подписке Azure Stack

1. Для удаленного доступа к подписке Azure Stack обозревателю хранилищ требуется VPN-подключение. Дополнительные сведения о настройке VPN-подключения в Azure Stack см. в разделе [Подключение c VPN](azure-stack/azure-stack-connect-azure-stack.md#connect-with-vpn).

2. Для подтверждения концепции Azure Stack необходимо экспортировать корневой сертификат центра сертификации Azure Stack. Откройте `mmc.exe` в MAS-CON01, на хост-компьютере или локальном компьютере Azure Stack с помощью VPN-подключения к Azure Stack. В меню **Файл** выберите **Add/Remove Snap-in** (Добавить или удалить оснастку), затем добавьте **сертификаты** для управления **учетной записью** **локального компьютера**.

   ![Загрузка корневого сертификата Azure Stack с помощью mmc.exe][25]   

   Найдите **AzureStackCertificationAuthority** в разделе **Console Root (Корень консоли)\Certificated (Local Computer) (Cертифицированный (локальный компьютер))\Trusted Root Certification Authorities (Доверенные корневые центры сертификации)\Сертификаты**. Щелкните правой кнопкой мыши элемент, а затем выберите **Все задачи -> Экспорт**. Выполните инструкции в диалоговых окнах, чтобы экспортировать сертификат с **CER-файлами X.509 в кодировке Base64**. Экспортированный сертификат будет использоваться на следующем шаге.   

   ![Экспорт корневого сертификата центра сертификации Azure Stack][26]   

3. В обозревателе хранилищ (предварительная версия) выберите **Изменить**, **SSL-сертификаты**, а затем **Import Certificates** (Импорт сертификатов). Используйте диалоговое окно выбора файла, чтобы найти и открыть сертификат, изученный на предыдущем шаге. После импорта вам будет предложено перезапустить обозреватель хранилищ.

   ![Импорт сертификата в обозреватель хранилищ (предварительная версия)][27]

4. После перезапуска обозревателя хранилищ (предварительная версия) выберите **Изменить** и убедитесь, что установлен флажок **Target Azure Stack** (Целевой объект Azure Stack). В противном случае установите его и перезапустите обозреватель хранилищ, чтобы изменения вступили в силу. Эта настройка необходима для совместимости со средой Azure Stack.

   ![Проверка установки флажка Target Azure Stack (Целевой объект Azure Stack)][28]

5. На панели слева выберите **Manage Accounts** (Управление учетными записями). На панели слева отображаются все учетные записи Microsoft, в которые вы вошли. Чтобы подключиться к учетной записи Azure Stack, выберите **Добавить учетную запись**.

   ![Добавление учетной записи Azure Stack][29]

6. В диалоговом окне **Добавить новую учетную запись** в разделе **Azure environment** (Среда Azure) выберите **Create Custom Environment** (Создать пользовательскую среду), а затем щелкните **Далее**.

7. Введите все необходимые сведения о пользовательской среде Azure Stack, а затем щелкните **Войти**.  Заполните диалоговое окно **Sign in to a Custom Cloud environment** (Вход в пользовательскую облачную среду), чтобы войти с использованием учетной записи, связанной по крайней мере с одной активной подпиской Azure Stack. Ниже приведены подробные сведения о каждом поле диалогового окна.

    * **Имя среды.** Это поле может настраивать пользователь.
    * **Центр.** Значение должно быть https://login.windows.net. Для китайской версии Azure (Mooncake) используйте адрес https://login.chinacloudapi.cn.
    * **Sign in resource id** (Идентификатор ресурса для входа). Получите значение, выполнив следующую команду PowerShell:

    Если вы администратор облака:

    ```powershell
    PowerShell (Invoke-RestMethod -Uri https://adminmanagement.local.azurestack.external/metadata/endpoints?api-version=1.0 -Method Get).authentication.audiences[0]
    ```

    Если вы клиент:

    ```powershell
    PowerShell (Invoke-RestMethod -Uri https://management.local.azurestack.external/metadata/endpoints?api-version=1.0 -Method Get).authentication.audiences[0]
    ```

    * **Graph endpoint** (Конечная точка Graph). Значение должно быть https://graph.windows.net. Для китайской версии Azure (Mooncake) используйте адрес https://graph.chinacloudapi.cn.
    * **ARM resource id** (Идентификатор ресурса ARM). Используйте то же значение, что и для параметра Sign in resource id (Идентификатор ресурса для входа).
    * **ARM resource endpoint** (Конечная точка ресурса ARM). Примеры конечной точки ресурсов ARM:

    для администратора облака — https://adminmanagement.local.azurestack.external;   
    для клиента — https://management.local.azurestack.external.
 
    * **Tenant Ids** (Идентификаторы клиента). Необязательное поле. Значение задается, только если необходимо указать каталог.

8. Выполнив вход с помощью учетной записи Azure Stack, на панели слева вы увидите подписки Azure Stack, связанные с этой учетной записью. Выберите подписки Azure Stack, с которыми вы хотите работать, а затем щелкните **Применить**. (Чтобы выбрать все подписки Azure Stack, установите флажок **Все подписки**. Чтобы отменить выбор, снимите флажок.)

   ![Выбор подписок Azure Stack после заполнения диалогового окна Custom Cloud Environment (Пользовательская облачная среда)][30]

9. На панели слева отобразятся все учетные записи хранения, связанные с выбранными подписками Azure Stack.

   ![Список учетных записей хранения, включая учетные записи подписки Azure Stack][31]

## <a name="work-with-local-development-storage"></a>Работа с локальным хранилищем разработки
Обозреватель службы хранилища (предварительная версия) позволяет работать с локальным хранилищем с помощью эмулятора хранения Azure. Вы можете написать код и тестировать хранилище, при этом не требуется, чтобы в Azure была развернута учетная запись хранения (так как она эмулируется эмулятором хранения Azure).

> [!NOTE]
> В настоящее время эмулятор хранения Azure поддерживается только для Windows.
>
>

1. На левой панели обозревателя хранилищ (предварительная версия) разверните узел **(Local and Attached)**(Локальные и присоединенные) > **Учетные записи хранения** > **(Разработка)**.

    ![Узел локальной разработки][21]
2. Если эмулятор хранения Azure еще не установлен, отобразится информационная панель со ссылкой на установку. Если информационная панель отображается, щелкните ссылку **Скачать последнюю версию**, чтобы установить эмулятор.

    ![Строка эмулятора хранения Azure с предложением скачать последнюю версию][22]
3. После установки эмулятора вы сможете создавать локальные большие двоичные объекты, очереди и таблицы, а также работать с ними. Чтобы научиться работать с каждым типом учетной записи хранения, выберите необходимую ссылку из указанных ниже.

   * [Управление ресурсами хранилища BLOB-объектов Azure](vs-azure-tools-storage-explorer-blobs.md)
   * Управление ресурсами хранилища файловых ресурсов Azure — *ожидается в ближайшее время*
   * Управление ресурсами хранилища очередей Azure — *ожидается в ближайшее время*
   * Управление ресурсами хранилища таблиц Azure — *ожидается в ближайшее время*

## <a name="attach-or-detach-an-external-storage-account"></a>Присоединение и отсоединение учетной записи внешнего хранилища
Обозреватель службы хранилища (предварительная версия) позволяет присоединять учетные записи внешних хранилищ, чтобы их можно было использовать совместно. В этом разделе объясняется, как присоединить (и отсоединить) учетные записи внешних хранилищ.

### <a name="get-the-storage-account-credentials"></a>Получение учетных данных учетной записи хранилища
Чтобы предоставить общий доступ к внешней учетной записи хранения, владельцу этой учетной записи необходимо сначала получить ее учетные данные (имя учетной записи и ключ), а затем предоставить эти сведения тому, кто хочет присоединиться к этой внешней учетной записи. Учетные данные учетной записи хранилища можно получить на портале Azure, выполнив следующее:

1. Войдите на [портал Azure](https://portal.azure.com).
2. Щелкните **Обзор**.
3. Выберите **Учетные записи хранения**.
4. В колонке **Учетные записи хранения** выберите нужную учетную запись хранения.
5. В колонке **Параметры** для выбранной учетной записи хранения выберите **Ключи доступа**.

   ![Варианты ключей доступа][5]
6. В колонке **Ключи доступа** скопируйте значения параметров **Имя учетной записи хранения** и **Ключ 1**, которые будут использоваться при присоединении учетной записи хранения.

   ![Ключи доступа][6]

### <a name="attach-to-an-external-storage-account"></a>Присоединение учетной записи внешнего хранилища
Чтобы присоединить внешнюю учетную запись хранения, вам потребуется имя учетной записи и ключ. В разделе *Получение учетных данных учетной записи хранения* объясняется, как найти эти значения на портале Azure. Обратите внимание, что на портале ключ учетной записи называется "ключ 1". Поэтому, когда обозреватель хранилищ (предварительная версия) запрашивает ключ учетной записи, следует вводить (или вставлять) значение "ключ 1".

1. В обозревателе хранилищ (предварительная версия) выберите **Connect to Azure storage**(Подключиться к службе хранилища Azure).

   ![Варианты подключения к службе хранилища Azure][23]
2. В диалоговом окне **Connect to Azure Storage** (Подключение к службе хранилища Azure) укажите ключ учетной записи (значение "ключ 1" на портале Azure), а затем нажмите кнопку **Далее**.
> [!NOTE]
> Введите строку подключения хранилища из учетной записи хранения в национальной среде Azure. Например, чтобы подключиться к учетной записи хранения Azure Black Forest, введите строки подключения, аналогичные этим: DefaultEndpointsProtocol=https;AccountName=cawatest03;AccountKey=<ключ_учетной_записи_хранения>;EndpointSuffix=core.cloudapi.de; Сведения о получении строк подключения на портале Azure см. в разделе **Получение учетных данных учетной записи хранения**.

   ![Диалоговое окно подключения к службе хранилища Azure][24]

3. В диалоговом окне **Attach External Storage** (Присоединение внешнего хранилища) введите имя учетной записи хранения в поле **Имя учетной записи**, выберите нужные параметры и нажмите кнопку **Далее**.

   ![Диалоговое окно присоединения внешнего хранилища][8]
4. Проверьте сведения в диалоговом окне **Сводка по соединению** . Если вы хотите внести изменения, нажмите кнопку **Назад** и повторно введите нужные параметры. По завершении нажмите кнопку **Подключить**.
5. После подключения внешняя учетная запись хранения появится в списке, а к ее имени будет добавлен текст **(Внешняя)**.

   ![Результат присоединения учетной записи внешнего хранилища][9]

### <a name="detach-from-an-external-storage-account"></a>Отсоединение учетной записи внешнего хранилища
1. Щелкните правой кнопкой мыши учетную запись внешнего хранилища, которую необходимо отсоединить, и в контекстном меню выберите пункт **Отсоединить**.

   ![Вариант отсоединения от хранилища][10]
2. Когда появится окно с подтверждающим сообщением, нажмите кнопку **Да** , чтобы подтвердить отсоединение учетной записи внешнего хранилища.

## <a name="attach-storage-account-using-sas"></a>Присоединение учетной записи хранения с помощью подписанного URL-адреса
[Подписанный URL-адрес (SAS)](storage/storage-dotnet-shared-access-signature-part-1.md) позволяет администратору подписки Azure предоставлять временный доступ к учетной записи хранения, при этом пользователям не нужно вводить учетные данные подписки Azure.

Чтобы продемонстрировать это, представим, что пользователь UserA является администратором подписки Azure и хочет предоставить пользователю UserB доступ к учетной записи хранения на ограниченный период времени с определенными разрешениями:

1. Пользователь UserA создает SAS (состоящий из строки подключения для учетной записи хранилища) с определенным сроком действия и необходимыми разрешениями.
2. Затем он предоставляет этот SAS пользователю, которому нужен доступ к учетной записи хранилища. В нашем примере это UserB.  
3. Пользователь UserB использует обозреватель службы хранилища (предварительная версия), чтобы присоединить учетную запись, принадлежащую пользователю UserA, используя предоставленный SAS.

### <a name="get-a-sas-for-the-account-you-want-to-share"></a>Получение SAS для учетной записи, к которой необходимо предоставить доступ
1. В обозревателе хранилищ (предварительная версия) щелкните правой кнопкой мыши учетную запись хранения, к которой необходимо предоставить доступ, а затем в контекстном меню выберите пункт **Get Shared Access Signature**(Получить подписанный URL-адрес).

   ![Вариант получения SAS в контекстном меню][13]
2. В диалоговом окне **Подписанный URL-адрес** укажите период времени и разрешения для учетной записи, а затем нажмите кнопку **Создать**.

    ![Диалоговое окно получения SAS][14]
3. После этого откроется второе диалоговое окно **Подписанный URL-адрес**, в котором отображается SAS. Выберите команду **Копировать** рядом со **строкой подключения**, чтобы скопировать строку в буфер обмена. Нажмите кнопку **Закрыть** , чтобы закрыть диалоговое окно.

### <a name="attach-to-the-shared-account-using-the-sas"></a>Присоединение общей учетной записи с использованием подписанного URL-адреса
1. В обозревателе хранилищ (предварительная версия) выберите **Connect to Azure storage**(Подключиться к службе хранилища Azure).

   ![Варианты подключения к службе хранилища Azure][23]
2. В диалоговом окне **Connect to Azure Storage** (Подключение к службе хранилища Azure) укажите строку подключения, а затем нажмите кнопку **Далее**.

   ![Диалоговое окно подключения к службе хранилища Azure][24]
3. Проверьте сведения в диалоговом окне **Сводка по соединению** . Если вы хотите внести изменения, нажмите кнопку **Назад** и повторно введите нужные параметры. По завершении нажмите кнопку **Подключить**.
4. После присоединения учетная запись хранения будет отображаться в списке, и к ее имени будет добавлен текст (SAS).

   ![Результат присоединения к учетной записи с помощью SAS][17]

## <a name="attach-service-using-sas"></a>Присоединение службы с помощью подписанного URL-адреса
В разделе [Присоединение учетной записи хранения с помощью подписанного URL-адреса](#attach-storage-account-using-sas) показано, как администратор подписки Azure может предоставить временный доступ к учетной записи хранения, создав SAS для учетной записи хранения (и предоставив доступ к SAS). Аналогичным образом SAS можно создать для конкретной службы (контейнера больших двоичных объектов, очереди или таблицы) в учетной записи хранилища.  

### <a name="generate-a-sas-for-the-service-you-want-to-share"></a>Создание подписанного URL-адреса для службы, к которой необходимо предоставить доступ
В этом контексте служба может быть контейнером больших двоичных объектов, очередью или таблицей. Ниже приведены разделы, содержащие сведения о создании SAS для этих служб:

* [Получение SAS для контейнера больших двоичных объектов](vs-azure-tools-storage-explorer-blobs.md#get-the-sas-for-a-blob-container)
* Получение SAS для файлового ресурса — *ожидается в ближайшее время*
* Получение SAS для очереди — *ожидается в ближайшее время*
* Получение SAS для таблицы — *ожидается в ближайшее время*

### <a name="attach-to-the-shared-account-service-using-the-sas"></a>Присоединение общей учетной записи с использованием подписанного URL-адреса
1. В обозревателе хранилищ (предварительная версия) выберите **Connect to Azure storage**(Подключиться к службе хранилища Azure).

   ![Варианты подключения к службе хранилища Azure][23]
2. В диалоговом окне **Connect to Azure Storage** (Подключение к службе хранилища Azure) укажите универсальный код ресурса (URI) SAS, а затем нажмите кнопку **Далее**.

   ![Диалоговое окно подключения к службе хранилища Azure][24]
3. Проверьте сведения в диалоговом окне **Сводка по соединению** . Если вы хотите внести изменения, нажмите кнопку **Назад** и повторно введите нужные параметры. По завершении нажмите кнопку **Подключить**.
4. После присоединения служба появится в качестве элемента узла **(SAS службы)**.

   ![Результат присоединения к общей службе с помощью SAS][20]

## <a name="search-for-storage-accounts"></a>Поиск учетных записей хранилищ
Если у вас много учетных записей хранилищ, быстро найти определенную учетную запись можно с помощью поля поиска в верхней части левой области.

По мере ввода в поле поиска в левой области будут отображаться учетные записи хранения, имена которых соответствуют условию поиска. На приведенном ниже снимке экрана показан пример поиска всех учетных записей хранилищ, имена которых содержат слово tarcher.

![Поиск учетной записи хранения][11]

Чтобы очистить условия поиска, нажмите кнопку **x** в поле поиска.

## <a name="next-steps"></a>Дальнейшие действия
* [Управление ресурсами хранилища BLOB-объектов Azure с помощью обозревателя хранилищ (предварительная версия)](vs-azure-tools-storage-explorer-blobs.md)

[0]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/settings-icon.png
[1]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/add-account-link.png
[3]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/subscriptions-list.png
[4]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/storage-accounts-list.png
[5]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/access-keys.png
[6]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/access-keys-copy.png
[8]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/attach-external-storage-dlg.png
[9]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/external-storage-account.png
[10]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/detach-external-storage.png
[11]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/storage-account-search.png
[12]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/detach-external-storage-confirmation.png
[13]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/get-sas-context-menu.png
[14]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/get-sas-dlg1.png
[15]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/mase.png
[17]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/attach-account-using-sas-finished.png
[20]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/attach-service-using-sas-finished.png
[21]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/local-storage-drop-down.png
[22]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/download-storage-emulator.png
[23]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/connect-to-azure-storage-icon.png
[24]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/connect-to-azure-storage-next.png
[25]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/add-certificate-azure-stack.png
[26]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/export-root-cert-azure-stack.png
[27]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/import-azure-stack-cert-storage-explorer.png
[28]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/select-target-azure-stack.png
[29]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/add-azure-stack-account.png
[30]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/select-accounts-azure-stack.png
[31]: ./media/vs-azure-tools-storage-manage-with-storage-explorer/azure-stack-storage-account-list.png

