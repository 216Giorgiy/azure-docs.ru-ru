<properties pageTitle="Расширение виртуальных машин Docker для Linux в Azure" description="Описано расширение Docker и контейнеры, расширения виртуальных машин Azure, а также приводятся ссылки на дополнительные ресурсы по созданию контейнеров Docker в xplat-cli и на портале." services="virtual-machines" documentationCenter="" authors="squillace" manager="timlt" editor=""/>

<tags ms.service="virtual-machines" ms.devlang="multiple" ms.topic="article" ms.tgt_pltfrm="vm-linux" ms.workload="infrastructure-services" ms.date="10/21/2014" ms.author="rasquill"/>

# Расширение виртуальных машин Docker для Linux в Azure
[Docker](https://www.docker.com/) - один из самых популярных подходов к виртуализации, использующий [контейнеры Linux](http://en.wikipedia.org/wiki/LXC) вместо виртуальных машин как способ изоляции данных и вычислений при использовании общих ресурсов. Можно использовать расширение Docker для виртуальных машин в [агенте Linux для Azure](http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-linux-agent-user-guide/), чтобы создать виртуальную машину Docker, в которой будет размещено любое количество контейнеров с приложениями в Azure.

Содержание этого раздела:

+ [Контейнеры Docker и Linux]
+ [Как использовать расширение Docker для виртуальных машин с Azure]
+ [Расширения для виртуальной машины для Linux и Windows]

Для создания виртуальных машин с поддержкой Docker см. раздел

+ [Как использовать расширение Docker для виртуальных машин из межплатформенного интерфейса Azure (xplat-cli)]
+ [Как использовать расширение Docker для виртуальных машин с порталом Azure]
+ [Как быстро приступить к работе с Docker в Azure Marketplace]

## <a id='Docker and Linux Containers'>Контейнеры Docker и Linux</a>
[Docker](https://www.docker.com/) - один из самых популярных подходов к виртуализации, использующий [контейнеры Linux](http://en.wikipedia.org/wiki/LXC) вместо виртуальных машин как способ изоляции данных и вычислений при использовании общих ресурсов и обеспечивающий другие службы, которые позволяют быстро создавать или компоновать приложения и распространять их среди других контейнеров Docker.

Docker и контейнеры Linux не являются [гипервизорами](http://en.wikipedia.org/wiki/Hypervisor), такими как Windows Hyper-V и [KVM](http://www.linux-kvm.org/page/Main_Page) в Linux (существует множество других примеров). Гипервизоры виртуализуют базовую операционную систему для того, чтобы полноценные операционные системы могли выполняться внутри гипервизора так, как будто они являются приложением. 

Docker и другие подходы с использованием  *container* позволили радикально уменьшить как время запуска, так и затраты на обработку и необходимый объем хранимой информации при помощи возможностей изоляции процессов и файловой системы с использованием особенностей ядра Linux, предоставляя полностью изолированным контейнерам доступ только к возможностям ядра.

Следующая таблица содержит обзорное описание функциональных различий между гипервизорами и контейнерами Linux. Обратите внимание, что полезность ряда функций зависит от потребностей конкретного приложения.

|   Функция      | Гипервизоры | Контейнеры  |
| :------------- |-------------| ----------- |
| Изоляция процессов | Более или менее полная | Если удалось получить корень, узел контейнера может быть скомпрометирован |
| Требуемый объем памяти на диске | Для полной версии ОС и приложений | Требования только к приложениям |
| Время для запуска | Значительно более продолжительное: Загрузка ОС и приложений | Значительно меньшее: Необходим только запуск приложений, так как ядро уже работает |
| Автоматизация контейнера | Колеблется в широких пределах в зависимости от ОС и приложений | [Коллекция образов Docker](https://registry.hub.docker.com/) и прочее 

Обзорное обсуждение контейнеров и их преимуществ см. на [общей доске по Docker](http://channel9.msdn.com/Blogs/Regular-IT-Guy/Docker-High-Level-Whiteboard).

Дополнительную информацию о расширении Docker и о том, как оно функционирует, см. в разделе [Что такое Docker?](https://www.docker.com/whatisdocker/)

#### Советы и рекомендации по безопасности контейнеров Docker и Linux

Поскольку контейнеры предоставляют общий доступ к ядру главного компьютера, то в случае, если вредоносный код сможет получить права  привилегированного пользователя, он также может оказаться в состоянии получить доступ не только к компьютеру, но и к другим контейнерам. Чтобы обеспечить безопасность для системы контейнеров на более высоком уровне по сравнению с конфигурацией по умолчанию, [Docker рекомендует](https://docs.docker.com/articles/security/) использовать дополнительную групповую политику или [обеспечение безопасности на основе ролей](http://en.wikipedia.org/wiki/Role-based_access_control), а также, например, [SELinux](http://selinuxproject.org/page/Main_Page) или [AppArmor](http://wiki.apparmor.net/index.php/Main_Page) и максимальное уменьшение возможностей ядра, доступных контейнерам. Кроме того, в Интернете есть много других документов, которые описывают подходы к обеспечению безопасности при использовании таких контейнеров, как Docker.

## <a id='How to use the Docker VM Extension with Azure'>Как использовать расширение Docker для виртуальных машин с Azure</a>

Расширение виртуальных машин Docker - это компонент, который устанавливается в созданном экземпляре виртуальной машины. Он самостоятельно устанавливает механизм Docker и управляет удаленным соединением с виртуальной машиной. Существует два способа установки расширения виртуальных машин. Можно создать виртуальную машину с помощью портала управления либо создать образ с помощью межплатформенного интерфейса командной строки Azure (xplat-cli). 

С помощью портала можно добавить расширение виртуальных машин Docker в любую совместимую виртуальную машину Linux (в настоящее время поддерживается только образ Ubuntu 14.04 LTS, созданный позже июля). Однако с помощью командной строки xplat-cli можно установить расширение виртуальной машины Docker и создать и загрузить сертификаты связи Docker одновременно с созданием экземпляра виртуальной машины.

Для создания виртуальных машин с поддержкой Docker см. раздел

+ [Как использовать расширение Docker для виртуальных машин из межплатформенного интерфейса Azure (xplat-cli)]
+ [Как использовать расширение Docker для виртуальных машин с порталом Azure]

## <a id='Virtual Machine Extensions for Linux and Windows'>Расширения для виртуальной машины для Linux и Windows</a>
Расширение виртуальных машин Docker для Azure является всего лишь одним из множества расширений, обеспечивающих специальное поведение, многие из которых еще находятся на стадии разработки. Например, некоторые возможности [расширений агентов виртуальных машин Linux](http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-linux-agent-user-guide/) позволяют изменять образ и управлять им, включая функции обеспечения безопасности, ядра, сетевые функции и т. д. Расширение VMAccess для образов Windows позволяет сбрасывать или изменять настройки удаленного рабочего стола, а также сбрасывать пароль администратора. 

Полный список приведен в разделе [Расширения виртуальных машин Azure](http://msdn.microsoft.com/ru-ru/library/azure/dn606311.aspx).

<!--Anchors-->
[Как использовать расширение Docker для виртуальных машин из межплатформенного интерфейса Azure (xplat-cli)]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-docker-with-xplat-cli/
[Как использовать расширение Docker для виртуальных машин с порталом Azure]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-docker-with-portal/
[Как быстро приступить к работе с Docker в Azure Marketplace]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-docker-ubuntu-quickstart/
[Контейнеры Docker и Linux]: #Docker-and-Linux-Containers
[Как использовать расширение Docker для виртуальных машин с Azure]: #How-to-use-the-Docker-VM-Extension-with-Azure
[Расширения для виртуальной машины для Linux и Windows]: #Virtual-Machine-Extensions-For-Linux-and-Windows

<!--HONumber=42-->
