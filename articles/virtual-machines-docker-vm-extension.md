<properties title="Расширение виртуальных машин Docker для Linux в Azure" pageTitle="Расширение виртуальных машин Docker для Linux в Azure" description="Описано расширение Docker и контейнеры, расширения виртуальных машин Azure, а также приводятся ссылки на дополнительные ресурсы по созданию контейнеров Docker в xplat-cli и на портале." metaKeywords="linux, virtual machines, vm, azure, docker, linux containers,  lxc, virtualization" services="virtual-machines" solutions="dev-test" documentationCenter="virtual-machines" authors="rasquill" videoId="" scriptId="" manager="timlt" />

<tags ms.service="virtual-machines" ms.devlang="multiple" ms.topic="article" ms.tgt_pltfrm="vm-linux" ms.workload="infrastructure-services" ms.date="10/21/2014" ms.author="rasquill" />

# Расширение виртуальных машин Docker для Linux в Azure

[Docker][Docker] — один из самых популярных подходов к виртуализации, использующий [контейнеры Linux][контейнеры Linux] вместо виртуальных машин как способ изоляции данных и вычислений при использовании общих ресурсов. Можно использовать расширение Docker в [агенте Linux для Azure][агенте Linux для Azure] для создания виртуальной машины, в которой будет размещено любое количество контейнеров с приложениями Azure.

Содержание этого раздела:

-   [Расширение Docker и контейнеры Linux][Расширение Docker и контейнеры Linux]
-   [Использование расширения виртуальных машин Docker в Azure][Использование расширения виртуальных машин Docker в Azure]
-   [Расширения виртуальных машин для Linux и Windows][Расширения виртуальных машин для Linux и Windows]

Для создания виртуальных машин с поддержкой Docker см. раздел

-   [Использование расширения виртуальных машин Docker в межплатформенном интерфейсе Azure (xplat-cli)][Использование расширения виртуальных машин Docker в межплатформенном интерфейсе Azure (xplat-cli)]
-   [Использование расширения виртуальных машин Docker на портале Azure][Использование расширения виртуальных машин Docker на портале Azure]

## <span id="Docker and Linux Containers"></span>Расширение Docker и контейнеры Linux</a>

[Docker][Docker] — один из самых популярных подходов к виртуализации, использующий [контейнеры Linux][контейнеры Linux] вместо виртуальных машин как способ изоляции данных и вычислений при использовании общих ресурсов и обеспечивающий другие службы, которые позволяют быстро создавать или компоновать приложения и распространять их среди других контейнеров Docker.

Docker и контейнеры Linux не являются [гипервизорами][гипервизорами], такими как Windows Hyper-V и [KVM][KVM] в Linux (существует множество других примеров). Гипервизоры виртуализуют базовую операционную систему для того, чтобы полноценные операционные системы могли выполняться внутри гипервизора так, как будто они являются приложением.

Докер и другие подходы с использованием *контейнеров* позволили радикально уменьшить как время запуска, так и затраты на обработку и необходимый объем хранимой информации при помощи возможностей изоляции процессов и файловой системы с использованием особенностей ядра Linux, проставляя полностью изолированным контейнерам доступ только к возможностям ядра.

Следующая таблица содержит обзорное описание функциональных различий между гипервизорами и контейнерами Linux. Обратите внимание, что полезность ряда функций зависит от потребностей конкретного приложения.

| Функция                   | Гипервизоры                                  | Контейнеры                                                                          |
|---------------------------|----------------------------------------------|-------------------------------------------------------------------------------------|
| Изоляция процессов        | Более или менее полная                       | При получении корневого процесса узел контейнера может быть поставлен под угрозу    |
| Требуется память на диске | Полная версия ОС и приложения                | Только требования приложений                                                        |
| Время для запуска         | Существенно больше: загрузка ОС и приложений | Существенно меньше: Необходим только запуск приложений, поскольку ядро уже работает |
| Автоматизация контейнера  | Зависит от ОС и приложений                   | [Коллекция образов Docker][Коллекция образов Docker]; прочее                                                |

Обзорное обсуждение контейнеров и их преимуществ см. на [доске по Docker][доске по Docker].

Для получения дополнительной информации о расширении Docker и о том, как оно функционирует, см. раздел [Что такое Docker?][Что такое Docker?]

#### Советы и рекомендации по безопасности контейнеров Docker и Linux

Поскольку контейнеры предоставляют общий доступ к ядру главного компьютера, то в случае, если вредоносный код сможет получить права привилегированного пользователя, он также может оказаться в состоянии получить доступ не только к компьютеру, но и к другим контейнерам. Чтобы обеспечить безопасность для системы контейнеров на более высоком уровне по сравнению с конфигурацией по умолчанию, [Docker рекомендует][Docker рекомендует] использовать дополнительную групповую политику или [обеспечение безопасности на основе ролей][обеспечение безопасности на основе ролей], а также, например, [SELinux][SELinux] или [AppArmor][AppArmor] и максимальное уменьшение возможностей ядра, доступных контейнерам. Кроме того, в Интернете есть много других документов, которые описывают подходы к обеспечению безопасности при использовании таких контейнеров, как Docker.

## <span id="How to use the Docker VM Extension with Azure"></span>Использование расширения виртуальных машин Docker в Azure</a>

Расширение виртуальных машин Docker — это компонент, который устанавливается в созданном экземпляре виртуальной машины. Он самостоятельно устанавливает механизм Docker и управляет удаленным соединением с виртуальной машиной. Существует два способа установки расширения виртуальных машин. Можно создать виртуальную машину с помощью портала управления либо создать образ с помощью межплатформенного интерфейса командной строки Azure (xplat-cli).

С помощью портала можно добавить расширение виртуальных машин Docker в любую совместимую виртуальную машину Linux (в настоящее время поддерживается только образ Ubuntu 14.04 LTS, созданный позже июля). Однако с помощью командной строки xplat-cli можно установить расширение виртуальной машины Docker и создать и загрузить сертификаты связи Docker одновременно с созданием экземпляра виртуальной машины.

Для создания виртуальных машин с поддержкой Docker см. раздел

-   [Использование расширения виртуальных машин Docker в межплатформенном интерфейсе Azure (xplat-cli)][Использование расширения виртуальных машин Docker в межплатформенном интерфейсе Azure (xplat-cli)]
-   [Использование расширения виртуальных машин Docker на портале Azure][Использование расширения виртуальных машин Docker на портале Azure]

## <span id="Virtual Machine Extensions for Linux and Windows"></span>Расширения виртуальных машин для Linux и Windows</a>

Расширение виртуальных машин Docker для Azure является всего лишь одним из множества расширений, обеспечивающих специальное поведение, многие из которых еще находятся на стадии разработки. Например некоторые возможности [расширений Агентов виртуальных машин Linux для Azure][агенте Linux для Azure] позволяют изменять и управлять образом, включая функции обеспечения безопасности, ядро и сетевые функции и так далее. Расширение VMAccess для образов Windows позволяет сбрасывать или изменять настройки удаленного рабочего стола, а также сбрасывать пароль администратора.

Полный список приведен в разделе [Расширения виртуальных машин Azure][Расширения виртуальных машин Azure].

<!--Anchors-->

  [Docker]: https://www.docker.com/
  [контейнеры Linux]: http://en.wikipedia.org/wiki/LXC
  [агенте Linux для Azure]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-linux-agent-user-guide/
  [Расширение Docker и контейнеры Linux]: #Docker-and-Linux-Containers
  [Использование расширения виртуальных машин Docker в Azure]: #How-to-use-the-Docker-VM-Extension-with-Azure
  [Расширения виртуальных машин для Linux и Windows]: #Virtual-Machine-Extensions-For-Linux-and-Windows
  [Использование расширения виртуальных машин Docker в межплатформенном интерфейсе Azure (xplat-cli)]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-docker-with-xplat-cli/
  [Использование расширения виртуальных машин Docker на портале Azure]: http://azure.microsoft.com/ru-ru/documentation/articles/virtual-machines-docker-with-portal/
  [гипервизорами]: http://en.wikipedia.org/wiki/Hypervisor
  [KVM]: http://www.linux-kvm.org/page/Main_Page
  [Коллекция образов Docker]: https://registry.hub.docker.com/
  [доске по Docker]: http://channel9.msdn.com/Blogs/Regular-IT-Guy/Docker-High-Level-Whiteboard
  [Что такое Docker?]: https://www.docker.com/whatisdocker/
  [Docker рекомендует]: https://docs.docker.com/articles/security/
  [обеспечение безопасности на основе ролей]: http://en.wikipedia.org/wiki/Role-based_access_control
  [SELinux]: http://selinuxproject.org/page/Main_Page
  [AppArmor]: http://wiki.apparmor.net/index.php/Main_Page
  [Расширения виртуальных машин Azure]: http://msdn.microsoft.com/ru-ru/library/azure/dn606311.aspx
