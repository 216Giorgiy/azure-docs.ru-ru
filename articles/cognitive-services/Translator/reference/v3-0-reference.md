---
title: Справочные материалы о API перевода текстов Microsoft V3.0 | Документация Майкрософт
description: Справочная документация для API перевода текстов Microsoft V3.0.
services: cognitive-services
author: Jann-Skotdal
manager: chriswendt1
ms.service: cognitive-services
ms.technology: microsoft translator
ms.topic: article
ms.date: 03/29/2018
ms.author: v-jansko
ms.openlocfilehash: cfaa9584e833b137b417d9074fbfcf606eb21388
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35380892"
---
#<a name="translator-text-api-v30"></a>API перевода текстов v3.0

## <a name="whats-new"></a>Новые возможности

API перевода текстов Microsoft версии 3 предоставляет современный веб-API на основе JSON. Это улучшает удобство и производительность благодаря объединению существующих функций с меньшим количеством операций и предоставляет новые возможности.

 * Транслитерация для преобразования текста на одном языке из одного сценария в другой.
 * Преобразование на несколько языков в одном запросе.
 * Определение языка, перевод и транслитерация в одном запросе.
 * Словарь для поиска альтернативных переводов термина, для поиска обратных переводов и примеров, показывающих термины, используемые в контексте.
 * Более информативные результаты определения языка.

## <a name="base-urls"></a>Базовые URL-адреса

API текстов v3.0 доступен в следующем облаке.

| ОПИСАНИЕ | Регион | Базовый URL-адрес                                        |
|-------------|--------|-------------------------------------------------|
| Таблицы Azure       | Глобальные | api.cognitive.microsofttranslator.com           |


## <a name="authentication"></a>Authentication

Подпишитесь на API перевода текстов в Microsoft Cognitive Services и используйте ключ подписки (доступный на портале Azure) для аутентификации. 

Самый простой способ передать секретный ключ Azure в службу перевода — использовать заголовок запроса `Ocp-Apim-Subscription-Key`.

Альтернативой является использование секретного ключа для получения токена авторизации из службы токенов. Затем передайте токен авторизации в службу перевода, используя заголовок запроса `Authorization`. Чтобы получить токен авторизации, сделайте запрос `POST` по следующему URL-адресу.

| Среда     | Служба проверки подлинности URL-адреса                                |
|-----------------|-----------------------------------------------------------|
| Таблицы Azure           | `https://api.cognitive.microsoft.com/sts/v1.0/issueToken` |

Вот пример запросов для получения токена с секретным ключом.

```
// Pass secret key using header
curl --header 'Ocp-Apim-Subscription-Key: <your-key>' --data "" 'https://api.cognitive.microsoft.com/sts/v1.0/issueToken'
// Pass secret key using query string parameter
curl --data "" 'https://api.cognitive.microsoft.com/sts/v1.0/issueToken?Subscription-Key=<your-key>'
```

Успешный запрос возвращает закодированный токен доступа в виде обычного текста в тексте ответа. Допустимый токен передается в службу переводчика как маркер носителя авторизации.

```
Authorization: Bearer <Base64-access_token>
```

Токен аутентификации допустимый в течение 10 минут. Токен должен быть повторно использован при выполнении нескольких вызовов API переводов. Однако, если программа запрашивает API перевода в течение длительного периода времени, она должна запросить новый маркер доступа через равные промежутки времени (например, каждые 8 ​​минут).

Подводя итог, клиентский запрос к API перевода будет включать один заголовок авторизации, взятый из следующей таблицы.

<table width="100%">
  <th width="30%">Заголовки</th>
  <th>ОПИСАНИЕ</th>
  <tr>
    <td>Ocp-Apim-Subscription-Key</td>
    <td>*Используйте подписку Cognitive Services, если вы передаете секретный ключ*.<br/>Значение — это секретный ключ Azure для вашей подписки на API перевода текстов.</td>
  </tr>
  <tr>
    <td>Авторизация</td>
    <td>*Используйте подписку Cognitive Services, если вы передаете токен аутентификации.*<br/>Значение — токен носителя: `Bearer <token>`.</td>
  </tr>
</table> 

## <a name="errors"></a>Errors

Стандартный ответ об ошибке — это объект JSON с парой имя и значение, названный `error`. Значение также является объектом JSON со следующими свойствами.

  * `code`. Код ошибки, определенный сервером.

  * `message`. Строка, дающая представление об ошибке в понятном для человека формате.

Например, клиент с бесплатной пробной подпиской получит следующую ошибку после исчерпания бесплатной квоты.

```
{
  "error": {
    "code":403000,
    "message":"The subscription has exceeded its free quota."
    }
}
```
