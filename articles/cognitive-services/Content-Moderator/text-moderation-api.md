---
title: Azure Content Moderator — модерация текста | Документация Майкрософт
description: Модерация текста используется для обнаружения нежелательных текстов, персональных данных и совпадений со списком терминов.
services: cognitive-services
author: sanjeev3
manager: mikemcca
ms.service: cognitive-services
ms.component: content-moderator
ms.topic: article
ms.date: 01/30/2018
ms.author: sajagtap
ms.openlocfilehash: 5783a7a06d75a409969abad011de3bbd31dec292
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35380908"
---
# <a name="text-moderation"></a>Модерация текста

В Content Moderator предусмотрены возможности модерации текста на основе машинных алгоритмов и проверок [для рассмотрения оператором](Review-Tool-User-Guide/human-in-the-loop.md).

В организациях служба модерации текста используется для блокировки, подтверждения или анализа содержимого на основе заданных политик и порогов. Служба модерации текста может помочь модераторам в сложных средах, где партнерами, сотрудниками и (или) клиентами создаются большие объемы содержимого. К нему относятся чаты, доски обсуждений, чат-боты, каталоги электронной торговли, базы документов и многое другое. 

API проверяет входящий текст (длиной не более 1024 символов) на наличие ненормативной лексики, классифицирует потенциально нежелательные тексты (в режиме предварительной версии), автоматически корректирует текст и выявляет элементы персональных данных. Кроме того, API ищет соответствия по настраиваемому списку терминов. Функция автозамены помогает перехватывать намеренно искаженные слова. После обработки содержимого служба возвращает подробные результаты анализа. С помощью этого ответа можно подготовить отчет в средстве проверки, снять содержимое с публикации или выполнить другие действия.

Ответ службы будет содержать следующие данные:

- Ненормативная лексика: сопоставление по терминам с использованием встроенного списка ненормативных слов на нескольких языках.
- Классификация: распределение по трем категориям с применением машинных алгоритмов.
- Персональные данные.
- Автоматически исправленный текст.
- Исходный текст.
- Язык

## <a name="profanity"></a>Ненормативная лексика

Если API обнаруживает ненормативную лексику на любом из [поддерживаемых языков](Text-Moderation-API-Languages.md), эти термины включаются в ответ. В ответе также указывается их расположение (`Index`) в исходном тексте. Объект `ListId` в следующем примере JSON обозначает обнаруженные термины из [пользовательских списков терминов](try-terms-list-api.md) (при наличии):

    "Terms": [
    {
        "Index": 118,
        "OriginalIndex": 118,
        "ListId": 0,
        "Term": "crap"
    }

> [!NOTE]
> Для параметра **language** (язык) задайте значение `eng` или оставьте это поле пустым, чтобы в ответе отобразился результат **classification** (классификация), которая сейчас выполняется в режиме предварительной версии. **Эта функция поддерживает только английский язык.**
>
> Для обнаружения **ненормативной лексики** укажите [код ISO 639-3](http://www-01.sil.org/iso639-3/codes.asp) для поддерживаемых языков, которые перечислены в этой статье, или оставьте это поле пустым.

## <a name="classification"></a>классификация;

**Функция классификации текста** Content Moderator с машинными алгоритмами поддерживает **только английский язык** и используется для обнаружения потенциально нежелательного содержимого. С ее помощью отмечается содержимое, которое может считаться недопустимым в определенном контексте. Помимо оценки вероятности отнесения к каждой из используемых категорий, функция может рекомендовать проверку содержимого оператором. Она использует обученную модель для выявления лексики оскорбительного, неуважительного или дискриминационного характера. Сюда входят сленговые и сокращенные выражения, оскорбления и специально искаженные слова, которые нужно проверять. 

Ниже приводится пример ответа в формате JSON:

> [!NOTE]
> Функция классификации с использованием машинных алгоритмов реализована в предварительной версии.

    "Classification": {
        "ReviewRecommended": true,
        "Category1": {
            "Score": 1.5113095059859916E-06
            },
        "Category2": {
            "Score": 0.12747249007225037
            },
        "Category3": {
            "Score": 0.98799997568130493
        }
    }

### <a name="explanation"></a>Пояснение

- `Category1` обозначает потенциальное наличие лексики, которая в определенных обстоятельствах может считаться порнографической или предназначенной только для взрослых.
- `Category2` обозначает потенциальное наличие лексики, которая в определенных обстоятельствах может считаться сексуально окрашенной или не предназначенной для детей.
- `Category3` обозначает потенциальное наличие лексики, которая в определенных обстоятельствах может считаться оскорбительной.
- `Score` имеет значение в диапазоне от 0 до 1. Чем выше оценка, тем более применимой модель считает соответствующую категорию. Эта предварительная версия использует статистическую модель прогнозирования, а не оценки, кодированные вручную. Корпорация Майкрософт рекомендует протестировать ее на своих данных, чтобы проверить применимость анализа по каждой категории.
- `ReviewRecommended` принимает значения true или false в зависимости от внутренних порогов оценки. Клиенты могут на выбор использовать значения по умолчанию или настраивать собственные пороги в соответствии с действующими политиками.

## <a name="personally-identifiable-information-pii"></a>Персональные данные.

Функция персональных данных обнаруживает потенциальные наличие таких сведений:

- Адрес электронной почты
- почтовый адрес в США;
- IP-адрес
- номер телефона США;
- номер телефона Великобритании;
- номер социального страхования.

Ниже показан пример результатов:

    "PII": {
        "Email": [{
            "Detected": "abcdef@abcd.com",
            "SubType": "Regular",
            "Text": "abcdef@abcd.com",
            "Index": 32
            }],
        "IPA": [{
            "SubType": "IPV4",
            "Text": "255.255.255.255",
            "Index": 72
            }],
        "Phone": [{
            "CountryCode": "US",
            "Text": "6657789887",
            "Index": 56
            }, {
            "CountryCode": "US",
            "Text": "870 608 4000",
            "Index": 212
            }, {
            "CountryCode": "UK",
            "Text": "+44 870 608 4000",
            "Index": 208
            }, {
            "CountryCode": "UK",
            "Text": "0344 800 2400",
            "Index": 228
            }, {
            "CountryCode": "UK",
            "Text": "0800 820 3300",
            "Index": 245
            }],
        "Address": [{
            "Text": "1 Microsoft Way, Redmond, WA 98052",
            "Index": 89
            }],
        "SSN": [{
            "Text": "999999999",
            "Index": 56
            }, {
            "Text": "999-99-9999",
            "Index": 267
            }]
        }

## <a name="auto-correction"></a>Автоматическое исправление

Предположим, мы получили следующий текст (слова lzay и f0x намеренно искажены):

    The qu!ck brown f0x jumps over the lzay dog.

Если передать его на автоматическое исправление, ответ будет содержать правильную версию текста:

    The quick brown fox jumps over the lazy dog.

## <a name="creating-and-managing-your-custom-lists-of-terms"></a>Создание пользовательских списков терминов и управление ими

Используемый по умолчанию глобальный список терминов отлично подходит для большинства случаев, но в некоторых ситуациях нужно учесть дополнительные термины, характерные для вашего бизнеса. Например, вы можете фильтровать бренды ваших конкурентов в сообщениях пользователей. Допустимые пороги для текстового содержимого могут отличаться от настроенных в списке по умолчанию.

> [!NOTE]
> Есть максимальное ограничение в **5 списков условий**, в каждом из которых может быть **не более 10 000 условий**.
>

В следующем примере представлен идентификатор совпадения по списку:

    "Terms": [
    {
        "Index": 118,
        "OriginalIndex": 118,
        "ListId": 231.
        "Term": "crap"
    }

Content Moderator предоставляет [API списка терминов](https://westus.dev.cognitive.microsoft.com/docs/services/57cf755e3f9b070c105bd2c2/operations/57cf755e3f9b070868a1f67f) с операциями для управления пользовательскими списками терминов. Начните работу с изучения [консоли API для списков терминов](try-terms-list-api.md) и примеров кода для REST API. Также изучите [краткое руководство по спискам терминов для .NET](term-lists-quickstart-dotnet.md), если вы уже знакомы с C# и Visual Studio.

## <a name="next-steps"></a>Дополнительная информация

Проверьте в работе [консоль API для списков терминов](try-text-api.md) и примеры кода для REST API. Также изучите [краткое руководство по модерации текста для .NET](text-moderation-quickstart-dotnet.md), если вы уже знакомы с C# и Visual Studio.
