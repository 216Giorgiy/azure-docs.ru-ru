---
title: Рекомендации по использованию API обнаружения аномалий
description: Дополнительные сведения о рекомендациях при обнаружении аномалий с помощью API обнаружения аномалий.
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: anomaly-detector
ms.topic: article
ms.date: 03/26/2019
ms.author: aahi
ms.openlocfilehash: 467ac4e475a1c23e25b62c76cfbc959e7ed49465
ms.sourcegitcommit: 0dd053b447e171bc99f3bad89a75ca12cd748e9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2019
ms.locfileid: "58484048"
---
# <a name="best-practices-for-using-the-anomaly-detector-api"></a>Рекомендации по использованию API обнаружения аномалий

API обнаружения аномалий — это служба обнаружения аномалий без отслеживания состояния. Точность и производительность его результаты могут повлиять на:

* Как выполняется подготовка данных временных рядов.
* Параметры API обнаружения аномалий, которые были использованы.
* Количество точек данных в запросе API. 

Воспользуйтесь этой статьей, чтобы узнать о рекомендациях по использованию API получения наилучших результатов для данных. 

## <a name="data-preparation"></a>Подготовка данных

API обнаружения аномалий принимает временных рядов данных в формате в объект запроса JSON. Временных рядов могут быть любые числовые данные, записанные со временем в последовательном порядке. Windows для данных временных рядов можно отправить в конечную точку API обнаружения аномалий, чтобы повысить производительность интерфейса API. Минимальное количество точек данных, которую можно отправить равно 12, а максимальный — 8640 точек. 

Точки данных, отправляемого в API обнаружения аномалий должны иметь допустимую метку времени в формате UTC (UTC) и числовое значение. 

```json
{
    "granularity": "daily",
    "series": [
      {
        "timestamp": "2018-03-01T00:00:00Z",
        "value": 32858923
      },
      {
        "timestamp": "2018-03-02T00:00:00Z",
        "value": 29615278
      },
    ]
}
```

### <a name="missing-data-points"></a>Отсутствующие точки данных

Отсутствующие точки данных часто используются в наборы данных рядов равномерное распределение времени, особенно те, которые с высокой степенью гранулярности (небольшой интервал выборки. Например, выбора данных определяет каждые несколько минут). Отсутствует ожидаемое число точек данных менее 10% не должен содержать негативное влияние на результаты обнаружения. Рассмотрите возможность заполнения пропусков в данных с его характеристики, как Подстановка точки данных из более раннего периода, линейную интерполяцию или скользящего среднего.

### <a name="aggregate-distributed-data"></a>Агрегатные распределенных данных

API обнаружения аномалий, лучше всего работает на равномерно распределенные временных рядов. Если ваши данные распределяются случайным образом, вам следует объединить его следует единица измерения времени, например в минуту, ежечасного или ежедневного например.

## <a name="anomaly-detection-on-data-with-seasonal-patterns"></a>Обнаружение аномалий в данных с сезонными закономерностями

Если вы знаете, что данные временных рядов имеет сезоне (по одному, происходящее с регулярными интервалами), может повысить точность и время отклика API. 

Указание `period` при создании запроса JSON можно уменьшить задержку обнаружения аномалий на 50%. `period` Является принимает целое число, указывающее точки примерно сколько данных временных рядов для повторения шаблон. Например, временные ряды на одну точку данных в день будет иметь `period` как `7`, и придется временных рядов с одной точкой в час (с одинаковым шаблоном еженедельно) `period` из `7*24`. Если вы не знаете, какие шаблоны в данных, укажите этот параметр не нужно.

Для получения наилучших результатов обеспечивают 4 `period`элемента, накопленные точки данных, а также второе. Например, почасовая данных с помощью еженедельных шаблон описанным выше должен предоставить 673 точек данных в тексте запроса (`7 * 24 * 4 + 1`).

### <a name="sampling-data-for-real-time-monitoring"></a>Данные выборки для мониторинга в реальном времени

Если потоки данных осуществляется через короткий промежуток времени (например секунд или минут), отправка Рекомендованное количество точек данных могут превысить API обнаружения аномалий максимальное число разрешенных (8640 точек данных). Если данные стабильной сезоне, можно отправить образец данных временных рядов с интервалом большего размера, например часов. Выборки данных таким образом также заметно повышает время отклика API. 

## <a name="next-steps"></a>Следующие шаги

* [Что такое API обнаружения аномалий?](../overview.md)
* [Краткое руководство Обнаруживать аномалии в данных временных рядов с помощью REST API обнаружения аномалий](../quickstarts/detect-data-anomalies-csharp.md)
