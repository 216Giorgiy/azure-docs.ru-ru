---
title: Улучшение классификатора с помощью Пользовательской службы визуального распознавания в Azure Cognitive Services | Документация Майкрософт
description: Узнайте, как повысить качество классификатора Пользовательской службы визуального распознавания.
services: cognitive-services
author: anrothMSFT
manager: corncar
ms.service: cognitive-services
ms.component: custom-vision
ms.topic: article
ms.date: 05/03/2018
ms.author: anroth
ms.openlocfilehash: 65b1424f259066c7d5bd6b2b508d2a4052ff0527
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35381005"
---
# <a name="how-to-improve-your-classifier"></a>Как улучшить классификатор

Узнайте, как повысить качество классификатора Пользовательской службы визуального распознавания. Качество классификатора зависит от качества предоставленных ему данных с метками. 

## <a name="train-more-varied-images"></a>Более разнообразные изображения для обучения

Качество классификатора можно повысить, предоставляя помеченные тегами изображения с разным ракурсом, разным фоном, разными размерами объекта, сгруппированные фотографии и другие варианты изображений. Фотографии в контексте больше подходят, чем фотографии на нейтральном фоне. Добавьте изображения, максимально похожие на конкретное содержимое, которое будет передаваться в классификатор при его использовании.

Дополнительные сведения о добавлении изображений см. в документе [о создании классификатора](getting-started-build-a-classifier.md).

> [!IMPORTANT]
> Не забудьте обучить классификатор после того, как вы добавите изображения.

## <a name="use-images-submitted-for-prediction"></a>Использование изображений, представленных для прогнозирования

Пользовательская служба визуального распознавания сохраняет изображения, переданные в конечную точку прогнозирования. Чтобы использовать эти изображения для улучшения классификатора, выполните следующие шаги.

1. Чтобы просмотреть отправленные в классификатор изображения, откройте [веб-страницу Пользовательской службы визуального распознавания](https://customvision.ai) и выберите вкладку __Predictions__ (Прогнозы).

    ![Изображение вкладки прогнозов](./media/getting-started-improving-your-classifier/predictions-tab.png)

    > [!TIP]
    > Представление по умолчанию содержит изображения из текущей итерации. Поле с раскрывающимся списком __Iteration__ (Итерация) позволяет перейти к изображениям, переданным в предыдущих итерациях.

2. Наведите указатель мыши на изображение, чтобы увидеть спрогнозированные классификатором теги.

    > [!TIP]
    > Изображения ранжируются по полезности для классификатора, то есть самые полезные расположены вверху списка. Чтобы выбрать другой вариант сортировки, используйте раздел __Sort__ (Сортировка).

    Чтобы добавить изображение в набор данных для обучения, выберите нужное изображение, затем тег и щелкните __Save and close__ (Сохранить и закрыть). Выбранное изображение удаляется из списка __Predictions__ (Прогнозы) и добавляется к изображениям для обучения. Теперь его можно просмотреть на вкладке __Training Images__ (Изображения для обучения).

    ![Изображение страницы для управления тегами](./media/getting-started-improving-your-classifier/tag-image.png)

3. Нажмите кнопку __Train__ (Обучение), чтобы переобучить классификатор.

## <a name="visually-inspect-predictions"></a>Визуальная проверка прогнозов

Чтобы просмотреть прогнозы по изображениям, выберите вкладку __Training Images__ (Изображения для обучения) и щелкните __Iteration History__ (Журнал итераций). В этом представлении изображения с неправильным прогнозом выделяются красными прямоугольниками.

![Изображение журнала итераций](./media/getting-started-improving-your-classifier/iteration-history.png)

В некоторых случаях визуальная проверка позволяет заметить в этих ошибках закономерность и исправить ее, добавив дополнительные данные для обучения. Например, классификатор для различения роз и ромашек может ошибочно относить все белые розы к ромашкам. Чтобы устранить эту проблему, следует добавить и применить данные для обучения с изображениями белых роз.

## <a name="unexpected-classification"></a>Неожиданная классификация

Иногда классификатор обнаруживает общие характеристики предоставленных изображений. Предположим, вы создаете классификатор для различения роз и тюльпанов. Для обучения вы предоставляете изображение тюльпанов в поле и розы в красной вазе на фоне синей стены. Обученный по таким данным классификатор может разделять изображения по признаку "поле" и "ваза и стена", вместо нужных признаков "розы" и "тюльпаны".

Чтобы устранить эту проблему, следуйте рекомендации по использованию более разнообразных изображений: с разным ракурсом, разным фоном, разными размерами объекта, сгруппированные фотографии и другие варианты.

## <a name="negative-image-handling"></a>Отрицательные примеры изображений

Пользовательская служба визуального распознавания поддерживает автоматическое применение отрицательных примеров изображений. Если вы создаете классификатор для различения собак и кошек, то для фотографии ботинка он должен предоставить оценку 0 % для обеих категорий. 

> [!WARNING]
> Автоматический способ подходит только для однозначно отрицательных изображений. Служба может давать неточные результаты, если отрицательные изображения слабо отличаются от изображений для обучения. 
>
> Например, если ваш классификатор обучен различать хаски и корги, фотографию шпица он может отнести в категорию хаски. Для отрицательных изображений такого рода создайте тег (например, "Other" (прочие)) и применяйте его к отрицательным изображениям.

## <a name="next-steps"></a>Дополнительная информация

[Использование API-интерфейса прогнозирования](use-prediction-api.md)