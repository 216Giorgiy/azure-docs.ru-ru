---
title: Обзор процесса проектирования для акустики — Cognitive Services
description: В этом документе описывается, как выразить намерение проектирования на всех трех этапах рабочего процесса Project Acoustics.
services: cognitive-services
author: kegodin
manager: noelc
ms.service: cognitive-services
ms.component: acoustics
ms.topic: article
ms.date: 08/17/2018
ms.author: kegodin
ms.openlocfilehash: 3b35f78d66a6ae66b0a56818f5d4be455ce00de5
ms.sourcegitcommit: 1aedb52f221fb2a6e7ad0b0930b4c74db354a569
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2018
ms.locfileid: "40181427"
---
# <a name="design-process-overview"></a>Обзор процесса проектирования
Вы можете выразить свое намерение проектирования на всех трех этапах рабочего процесса Project Acoustics: предварительное проектирование, размещение источника звука и проектирование после создания. Процесс требует меньше разметки, связанной с размещением томов реверберации, сохраняя при этом контроль разработчика над звучанием сцены.

## <a name="pre-bake-design"></a>Предварительное проектирование
В процессе предварительного проектирования создается сцена и метаданные, которые используются для моделирования звуковой волны, что включает выбор элементов сцены, которые будут участвовать в моделировании для эффекта окклюзии, отражения и реверберации. Метаданные для сцены — это выбранные акустические материалы для каждого элемента сцены. Акустические материалы контролируют объем звуковой энергии, отраженной от каждой поверхности.

По умолчанию коэффициент поглощения для всех поверхностей составляет 0,04, и это сильное отражение. Вы можете достичь эстетических и игровых эффектов, настроив коэффициенты поглощения различных материалов по всей сцене, которые особенно заметны для слушателей при переходах из одной области сцены в другую. Например, переход из темной отражающей комнаты в светлую сцену вне помещения, в которой нет реверберации, усиливает эффект перехода. Чтобы добиться этого, настройте высокие коэффициенты поглощения материалов для сцены вне помещения.

Время реверберации данного материала в помещении обратно пропорционально его коэффициенту поглощения, причем большинство материалов имеют коэффициент поглощения в диапазоне от 0,01 до 0,20. Материалы с коэффициентами поглощения вне этого диапазона имеют очень высокий уровень поглощения.

![График времени реверберации](media/ReverbTimeGraph.png)

В [пошаговом руководстве по пользовательскому интерфейсу сборки](bake-ui-walkthrough.md) подробно описываются элементы управления для предварительного проектирования.

## <a name="sound-source-placement"></a>Размещение звукового источника
Просмотр объемных элементов и точек размещения проб во время выполнения может помочь с отладкой проблем, когда звуковые источники застревают внутри акустической геометрии. Для переключения отображения сетки объемных элементов и точек размещения проб установите соответствующий флажок в меню Gizmos (Инструменты) в правом верхнем углу представления сцены. Если источник звука находится внутри трехмерной стены, переместите его в воздушный объемный элемент.

![Меню Gizmos (Инструменты)](media/GizmosMenu.png)  

Отображение объемных элементов может помочь определить, применяется ли к визуальным компонентам в игре преобразование. Если это так, примените одно и то же преобразование к GameObject с помощью **Acoustics Manager**.

## <a name="post-bake-design"></a>Проектирование после создания
Результаты создания хранятся в ACE-файле в качестве параметров окклюзии и реверберации для всех пар расположения "источник — слушатель" в пределах всей сцены. Этот физически точный результат можно использовать для вашего проекта "как есть". Это отличная отправная точка для проектирования. Процесс проектирования после создания определяет правила для преобразования параметров результата создания в среде выполнения.

### <a name="distance-based-attenuation"></a>Затухание, связанное с расстоянием
Аудио DSP, предоставляемое подключаемым модулем пространственного анализа Unity в **Microsoft Acoustics**, учитывает затухание, связанное с расстоянием к источнику, встроенное в Unity Editor. Элементы управления затуханием, связанным с расстоянием, находятся в компоненте **Audio Source** (Источник звука), который можно найти на панели источников звуков **Inspector** в разделе **3D Sound Settings** (Параметры 3D-звуков):

![Затухания на основе расстояния](media/distanceattenuation.png)

### <a name="tuning-scene-parameters"></a>Настройка параметров сцены
Чтобы отрегулировать параметры для всех источников, щелкните полосу канала **Audio Mixer** (Аудиомикшер) в Unity и настройте параметры эффекта в **Acoustics Mixer**.

![Настройка микшера](media/MixerParameters.png)

### <a name="tuning-source-parameters"></a>Настройка параметров источника
Прикрепление скрипта **AcousticsSourceCustomization** к источнику позволяет настроить параметры для этого источника. Чтобы прикрепить скрипт, щелкните **Add Component** (Добавить компонент) в нижней части панели **Inspector** и выберите **Scripts > Acoustics Source Customization** (Скрипты > Настройка источника звука). Скрипт содержит три параметра:

![Настройка источника](media/SourceCustomization.png)

* **Reverb Power Adjust** (Настройка степени реверберации). Регулирует мощность реверберации в дБ. Положительные значения делают звук более реверберирующим, а отрицательные — более сухим.
* **Decay Time Scale** (Шкала времени затухания). Регулирует множитель для времени затухания. Например, если результат создания определяет время затухания 750 мс, но значение этой шкалы равно 1,5, время затухания, применяемое к источнику, составляет 1,125 мс.
* **Enable Acoustics** (Включить акустику). Контролирует, применяется ли акустика к этому источнику. Если флажок снят, источник будет пространственно распределен с помощью HRTF, но без акустики, что означает без препятствий, окклюзии и динамических параметров реверберации, таких как уровень измерения и время затухания. Реверберация по-прежнему применяется с фиксированным уровнем измерения и временем затухания.

Различным источникам могут требоваться разные параметры для достижения определенных эстетических или игровых эффектов. Диалог — один из возможных примеров. Человеческое ухо больше приспособлено к реверберации в речи, в то время как диалог должен быть понятным для игрового процесса. Для этого вам совсем не нужно делать закадровый диалог, можно просто уменьшить степень реверберации.
