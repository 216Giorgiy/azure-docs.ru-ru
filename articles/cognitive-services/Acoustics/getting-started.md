---
title: Начало работы с Project Acoustics
titlesuffix: Azure Cognitive Services
description: В этом кратком руководстве содержатся сведения об интеграции подключаемого модуля в проект Unity, создании сцены и применении акустики к источникам звука.
services: cognitive-services
author: kegodin
manager: cgronlun
ms.service: cognitive-services
ms.subservice: acoustics
ms.topic: conceptual
ms.date: 08/17/2018
ms.author: kegodin
ms.openlocfilehash: 0aad231b4a57c2d9927a553a43394681282b5494
ms.sourcegitcommit: d3200828266321847643f06c65a0698c4d6234da
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2019
ms.locfileid: "55155958"
---
# <a name="getting-started-with-project-acoustics"></a>Начало работы с Project Acoustics
В этом кратком руководстве содержатся сведения об интеграции подключаемого модуля в проект Unity, создании сцены и применении акустики к источникам звука. Для работы с этим руководством вам нужно сначала создать [учетную запись пакетной службы Azure ](create-azure-account.md). Предполагается, что у вас уже есть некоторый опыт работы с Unity.

## <a name="download-the-plugin"></a>Загрузка подключаемого модуля
Зарегистрируйте [здесь](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbRwMoAEhDCLJNqtVIPwQN6rpUOFRZREJRR0NIQllDOTQ1U0JMNVc4OFNFSy4u), чтобы присоединиться к версии Designer Preview.

## <a name="supported-platforms-for-quickstart"></a>Поддерживаемые платформы для быстрого руководства
* [Unity 2018.2+](http://www.unity3d.com).
  * Для проекта необходимо установить версию среды выполнения сценариев **.NET 4.x Equivalent**. 
  * Требуется редактор Unity для Windows.

## <a name="import-the-plugin"></a>Импорт подключаемого модуля
Импортируйте пакет акустики UnityPackage в свой проект. 
* В Unity перейдите в раздел **Assets > Import Package > Custom Package...** (Ресурсы > Импорт пакета > Пользовательский пакет...).

![Импорт пакета](media/ImportPackage.png)  

* Выберите **MicrosoftAcoustics.unitypackage**.

Если вы импортируете подключаемый модуль в имеющийся проект, в его корне уже может присутствовать файл **mcs.rsp**, в котором указаны параметры для компилятора C#. Вам необходимо объединить содержимое этого файла с файлом mcs.rsp, входящим в состав подключаемого модуля Project Acoustics.

## <a name="enable-the-plugin"></a>Включение подключаемого модуля
Часть сборки инструментария акустики требует версии среды выполнения сценариев .NET 4.x. В результате импорта пакетов обновятся параметры проигрывателя Unity. Перезапустите Unity, чтобы этот параметр вступил в силу.

![Параметры проигрывателя](media/PlayerSettings.png)

![.NET 4.5](media/Net45.png)

## <a name="create-a-navigation-mesh"></a>Создание навигационной сетки
Создайте навигационную сетку для проекта с помощью стандартного [рабочего процесса Unity](https://docs.unity3d.com/Manual/nav-BuildingNavMesh.html). Сведения об использовании навигационных сеток см. в [пошаговом руководстве по пользовательскому интерфейсу сборки](bake-ui-walkthrough.md).

## <a name="mark-static-meshes-for-acoustics"></a>Маркировка статических сеток для акустики
Откройте окно акустики, выбрав **Window > Acoustics** (Окно > Акустика) в Unity. Это окно можно закрепить рядом с инспектором.

![Открытие окна инструмента Acoustics](media/WindowAcoustics.png)

В окне иерархии Unity отмените выбор всех выбранных элементов. На вкладке акустики **Object** (Объект) установите флажок Acoustics Geometry (Геометрия звука), чтобы отметить все сетки и поверхности в сцене в качестве геометрии звука.

На вкладке **Materials** (Материалы) назначьте акустические материалы для материалов, используемых в сцене. Материал **по умолчанию** имеет поглощение, эквивалентное бетону. Дополнительные сведения об указании свойств материалов см. в статье [Design process overview](design-process.md) (Общие сведения о процессе разработки).

![Вкладка Materials (Материалы)](media/MaterialsTab.png)

## <a name="preview-the-probes"></a>Предварительный просмотр проб
На вкладке **Probes** (Пробы) щелкните **Calculate** (Вычислить). Это вычисление может занять несколько минут (в зависимости от размера сцены). После завершения вычисления вы увидите в представлении сцены плавающие сферы, которые обозначают расположения для имитации звука, называемые "точками пробы". Если приблизить объект в окне сцены, вы также сможете увидеть вокселизацию сцены. Зеленые объемные пиксели должны совпадать с объектами, отмеченными как геометрия. Отображение точек пробы и объемных пикселей можно переключить в меню Gizmos (Инструменты) в правом верхнем углу представления сцены.

![GizmosPreview](media/BakePreviewWithGizmos.png)

## <a name="bake-the-scene"></a>Создание сцены
На вкладке **Bake** (Сборка) введите свои учетные данные Azure и нажмите кнопку **Bake** (Выполнить сборку). Если у вас нет учетной записи пакетной службы Azure, [выполните эти рекомендации по настройке учетной записи](create-azure-account.md).
Когда сборка завершится, файл данных будет автоматически загружен в каталог **Assets/AcousticsData** в вашем проекте.

## <a name="set-up-audio-runtime-dsp"></a>Настройка среды выполнения аудио DSP
Мы внедряем среду выполнения DSP для акустики в платформу пространственного звука Unity и интегрируем ее с функцией ориентации в пространстве на основе HRTF. Чтобы включить обработку акустики, переключитесь на модуль пространственного звука **Microsoft Acoustics**, перейдя в раздел **Edit > Project Settings > Audio** (Правка > Параметры проекта > Звук) и выбрав **Microsoft Acoustics** в качестве типа **Spatializer Plugin** (Подключаемый модуль пространственного звука) для вашего проекта. Кроме того, установите для параметра **DSP Buffer Size** (Размер буфера DSP) значение Best Performance (Лучшая производительность).

![Параметры проекта](media/ProjectSettings.png)  

![Модуль пространственного звука Project Acoustics](media/ChooseSpatializer.png)

Откройте аудиомикшер (**Window > Audio Mixer** (Окно > Аудиомикшер)). Убедитесь, что у вас есть хотя бы один микшер с одной группой. Если его нет, нажмите кнопку "+" справа от раздела **Mixers** (Микшеры). Щелкните правой кнопкой мыши нижнюю часть полосы канала в разделе эффектов и добавьте эффект **Microsoft Acoustics Mixer**. Обратите внимание, что одновременно поддерживается только один микшер Project Acoustics.

![Аудиомикшер](media/AudioMixer.png)

## <a name="set-up-the-acoustics-lookup-table"></a>Настройка таблицы поиска акустики
Перетащите готовый шаблон **Microsoft Acoustics** из панели проекта в свою сцену:

![Готовый шаблон Acoustics](media/AcousticsPrefab.png)

Щелкните игровой объект **ProjectAcoustics** и перейдите к его панели Inspector (Проверка). Укажите расположение результата сборки (ACE-файл в **Assets/AcousticsData**), перетащив его в скрипт Acoustics Manager или нажав кнопку круга рядом с текстовым полем.

![Acoustics Manager](media/AcousticsManager.png)  

## <a name="apply-acoustics-to-sound-sources"></a>Применение акустики к источникам звука
Создайте источник звука. Установите флажок в нижней части панели проверки AudioSource **Spatialize** (Пространственный звук). Для параметра **Spatial Blend** (Пространственное смешивание) выберите значение 3D.  

![Источник звука](media/AudioSource.png)

## <a name="apply-post-bake-design"></a>Применение разработки после создания
Вы можете прикрепить скрипт **AcousticsAdjust** к источнику звука в своей сцене, чтобы включить дополнительные параметры разработки источника, щелкнув **Add Component** (Добавить компонент) и выбрав **Scripts > Acoustics Adjust** (Скрипты > Настройка источника звука):

![AcousticsAdjust](media/AcousticsAdjust.png)

Для эффекта **Microsoft Acoustics Mixer** также существуют параметры. Дополнительные сведения о разработке после создания см. в статье [Design process overview](design-process.md) (Общие сведения о процессе разработки).

## <a name="next-steps"></a>Дополнительная информация
* Попробуйте [выполнить пример проекта](sample-walkthrough.md).
* Ознакомьтесь с полным набором [функций создания](bake-ui-walkthrough.md).
* Подробнее ознакомьтесь с [параметрами разработки](design-process.md).

