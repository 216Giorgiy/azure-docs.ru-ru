---
title: Поток управления приложением Conversation Learner в Microsoft Cognitive Services | Документация Майкрософт
titleSuffix: Azure
description: Узнайте больше о потоке управления приложением Conversation Learner.
services: cognitive-services
author: v-jaswel
manager: nolachar
ms.service: cognitive-services
ms.component: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: v-jaswel
ms.openlocfilehash: 592ca82db7e0ab3ff89d25b61f38f8b226f3bc86
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35381713"
---
## <a name="control-flow"></a>Поток управления

В этом документе описывается поток управления приложением Conversation Learner (CL), как показано на следующей схеме.

![](media/controlflow.PNG)

1. Пользователь вводит слово или фразу в боте, например what's the weather in Seattle? (Какая погода в Сиэтле?).
1. CL передает введенные пользователем данные в модель машинного обучения, которая извлекает сущности.
    - Эта модель строится приложением Conversation Learner и размещается на сайте www.luis.ai.
2. Любые извлеченные сущности и введенный пользователем текст передаются в метод обратного вызова обнаружения сущностей в коде бота.
    - Этот код может задавать, удалять или обрабатывать значения сущностей.
1. Нейронная сеть CL затем принимает выходные данные извлечения сущностей и введенные пользователем данные, а затем оценивает все действия, определенные в боте.
    - В этом примере действие с наибольшей вероятностью — предоставить прогноз погоды:

![](media/controlflow_forecast.PNG)

5. Выбранное действие в этом случае требует вызова API для получения прогноза погоды. 
6. Затем вызывается этот API, который зарегистрирован с помощью метода CL.AddAPICallback.  Результат этого API затем возвращается пользователю в виде сообщения — например, Sunny with a high of 67 (Солнечно с температурой до 67 по Фаренгейту).
7. Затем выполняется вызов нейронной сети для определения следующего действия на основе предыдущего шага.
8. Нейронная сеть затем прогнозирует следующий набор возможных действий, а выбранное действие представляется пользователю — в этом примере в виде вопроса Anything else? (Что-нибудь еще?).

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Использование приложения Conversation Learner](./how-to-teach-cl.md)
