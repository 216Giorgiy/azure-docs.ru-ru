---
title: Использование операций ветвления и отмены в приложении для обучения ведению диалога — Microsoft Cognitive Services | Документация Майкрософт
titleSuffix: Azure
description: Узнайте, как использовать операции ветвления и отмены в приложении для обучения ведению диалога.
services: cognitive-services
author: v-jaswel
manager: nolachar
ms.service: cognitive-services
ms.component: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: v-jaswel
ms.openlocfilehash: 724a9e47267e0bd7417130efe54c609ac7a465fb
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35381780"
---
# <a name="how-to-use-branching-and-undo-operations"></a>Как использовать операции ветвления и отмены
В этом руководстве мы рассмотрим операции ветвления и отмены.

## <a name="details"></a>Сведения
- Отмена позволяет разработчику восстановить ситуацию на момент до ввода определенных данных или выбора действий пользователем. По сути, операция отмены создает новый диалог и воспроизводит в нем все действия до предыдущего шага.  Это означает, что в этом диалоге будут повторно выполнены все обратные вызовы обнаружения сущностей и обращения к API.

- Операция ветвления создает диалог для обучения, начало которого полностью совпадает с уже существующим диалогом, что позволяет не вводить все действия диалога вручную. По сути, операция ветвления создает новый диалог и воспроизводит в нем все действия до текущего шага.  Это означает, что в этом диалоге будут повторно выполнены все обратные вызовы обнаружения сущностей и обращения к API.


## <a name="requirements"></a>Требования
Для работы с этим руководством требуется запущенный бот заказа пиццы.

    npm run demo-pizza

### <a name="open-the-demo"></a>Запуск демонстрационного примера

В веб-интерфейсе в списке приложений выберите "TutorialDemo Pizza Order" (Демонстрационный пример для заказа пиццы). 

Подробная информация об этом демонстрационном примере собрана в соответствующем руководстве.

## <a name="undo"></a>Отмена

Сейчас мы отменим часть диалога и создадим его заново c определенного шага.

### <a name="training-dialogs"></a>Обучение диалогам
Давайте начнем сеанс обучения. 

1. Щелкните "Train Dialogs" (Обучение диалогам), а затем — "New Train Dialog" (Обучение новому диалогу).
1. Введите "заказать пиццу".
2. Щелкните "Score Action" (Оценить действие).
3. Выберите элемент "what would you like on your pizza?" (Что вы хотите добавить в пиццу?).
4. Введите "mushrooms and cheese" (грибы и сыр).
5. Щелкните Score Actions (Оценка действий).
3. Щелкните "you have $Toppings on your pizza" (В вашей пицце есть $Toppings?).
6. Выберите "Would you like anything else?" (Вы хотите добавить что-то еще?).
7. Введите "remove mushrooms and add peppers" (Убрать грибы и добавить перцы).
    - Выберите грибы и уберите флажок для сущности Toppings (Начинки). Итак, мы создали действие, которое будем отменять.
2. Щелкните действие "Undo step" (Отменить шаг).
    - Обратите внимание, что последняя запись удаляется, и вы возвращаемся к этапу "Would you like anything else?" (Вы хотите добавить что-то еще?).  (Снимок экрана представлен ниже.)
2. Введите "remove mushrooms and add peppers" (Убрать грибы и добавить перцы).
8. Щелкните "you have $Toppings on your pizza" (В вашей пицце есть $Toppings?).
    - Убедитесь, что обе сущности выбраны правильно.
2. Щелкните "Score Action" (Оценить действие). Теперь вы можете продолжать работу с исправленным диалоговым окном.
4. Щелкните Done Teaching (Завершить обучение).

Итак, мы применили операцию отмены, чтобы удалить ввод данных и действие пользователя.

![](../media/tutorial15_undo.PNG)

## <a name="branch"></a>Ветвь

В качестве примера мы откроем существующее диалоговое окно обучения и применим ветвление, чтобы создать еще одно диалоговое окно обучения.

1. Щелкните "Диалоговые окна обучения", затем "Новый заказ", чтобы открыть существующее диалоговое окно. 
2. Щелкните в этом диалоговом окне последний элемент "Нет" (см. снимок экрана ниже).
3. Щелкните "Создать ветвь".
    - Вы увидите, что элемент "Нет" удаляется и весь диалог вплоть до этой точки копируется в новое окно. 
    - Это действие позволяет избежать повторного ввода всех предыдущих действий и работать с новой ветвью сразу с текущего момента.
1. Введите "Да".
2. Щелкните "Score Action" (Оценить действие).
3. Выберите "you have $Toppings on your pizza" (В вашей пицце есть $Toppings?).
6. Выберите "Would you like anything else?" (Вы хотите добавить что-то еще?).
7. Введите "no" (Нет).
4. Щелкните Done Teaching (Завершить обучение).

![](../media/tutorial15_branch.PNG)

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Управление версиями и добавление тегов](./16-versioning-and-tagging.md)
