---
title: Определение пользовательского представления (Пользовательский поиск Bing)
titlesuffix: Azure Cognitive Services
description: Описание способа создания сайта и служб вертикального поиска
services: cognitive-services
author: brapel
manager: cgronlun
ms.service: cognitive-services
ms.component: bing-custom-search
ms.topic: conceptual
ms.date: 09/28/2017
ms.author: v-brapel
ms.openlocfilehash: a74e6a6a90a242d4d1b2fd71a5fc6cf949ea55cb
ms.sourcegitcommit: 6f59cdc679924e7bfa53c25f820d33be242cea28
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2018
ms.locfileid: "48815262"
---
# <a name="configure-your-custom-search-experience"></a>Настройка режима пользовательского поиска

Пользовательский экземпляр службы поиска позволяет настраивать процесс поиска для добавления содержимого только с веб-сайтов, необходимых пользователям. Вместо поиска по всему Интернету, Bing выполняет поиск только в срезах Интернета, интересующих пользователя. Чтобы создать пользовательское представление Интернета, перейдите на [портал](https://customsearch.ai) Пользовательского поиска Bing. Дополнительные сведения о входе на портал см. в статье [Создание первого экземпляра службы Пользовательского поиска Bing](https://docs.microsoft.com/azure/cognitive-services/bing-custom-search/quick-start). 

На портале можно создать экземпляр поиска, указывающий домены, подстраницы и веб-страницы, по которым будет выполняться поиск Bing, а также те, по которым поиск выполнять не требуется. Помимо указания известных URL-адресов на портале можно также использовать предлагаемое содержимое, которое может потребоваться добавить в представление. 

Ниже перечислены способы определения среза Интернета. 

1.  Домен. Доменный срез включает в себя все содержимое, найденное в Интернет-домене. Например, www.microsoft.com. Если опустить www, Bing будет также выполнять поиск по словам поддоменов домена. Например, при указании microsoft.com Bing также возвращает результаты из support.microsoft.com или technet.microsoft.com.  
  
2.  Подстраница. Срез подстраниц включает в себя все содержимое вложенной страницы и их пути. Вы можете указать более двух подстраниц в пути. Например, www.microsoft.com/en-us/windows/  
  
3.  Веб-страница. Срез веб-страниц может содержать только веб-страницы пользовательского поиска. При необходимости можно указать, следует ли включать подстраницы.

Все указанные домены, подстраницы и веб-страницы должны быть открыты и индексированы в Bing. Если вы являетесь владельцем общедоступного сайта, который требуется включить в поиск, и он не проиндексирован в Bing, см. раздел [документации веб-мастера](https://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a) Bing, чтобы получить подробные сведения о способах индексирования в Bing. Кроме того, в документации веб-мастера содержится информация о настройке службы Bing для обновления индексированного сайта, если индекс является устаревшим.

## <a name="adding-slices-to-your-custom-search"></a>Добавление срезов пользовательского поиска

При определении экземпляра пользовательского поиска следует указать активные и заблокированные домены, подстраницы и веб-страницы, которые требуется или не требуется искать.  

- Активные. Список доменов, подстраниц или веб-страниц, которые следует включить в поиск.  
  
- Заблокированные. Список доменов, подстраниц или веб-страниц, которые следует исключить из поиска. Блокируемые элементы должны представлять собой содержимое в доменах и на подстраницах, перечисленных в списке активных доменов.

Чтобы получить доступ ко всем спискам, щелкните вкладки "Активные" и Blocked (Заблокированные) в экземпляре пользовательского поиска. 

<a name="active-and-blocked-lists"></a>
## <a name="active-and-blocked-lists"></a>Списки активных и заблокированных доменов 

Чтобы задать срез Интернета, в котором Bing необходимо выполнить поиск, щелкните список доменов **Активные** и укажите домены, подстраницы и веб-страницы для выполнения поиска. Вы можете добавить срез непосредственно в список или добавить несколько срезов путем отправки текстового файла, используя значок передачи.

Сведения об отправке файла: 

- Отправка файла доступна только для добавления срезов в список активных доменов. Эту функцию невозможно использовать для добавления срезов к списку заблокированных доменов.  
  
- Создайте текстовый файл и укажите один домен, подстраницу или веб-страницу в каждой строке. При возникновении ошибки будет отклонен весь процесс отправки.  
  
- Если в списке заблокированных доменов содержится домен, подстраница или веб-страница, указанные в файле передачи, служба удаляет их из списка заблокированных доменов и добавляет в список активных доменов.  
  
- Служба не обрабатывает повторяющиеся значения в отправляемом файле.

Чтобы изменить или удалить срезы, используйте параметры в столбце **Элементы управления**. 

Аналогичным образом можно добавить срезы в список заблокированных доменов (за исключением случаев, когда нельзя использовать отправленный файл для указания срезов).

## <a name="pinned-list"></a>Список закрепленных элементов

С помощью портала также можно закрепить определенную веб-страницу в верхней части результатов поиска, если пользователь введет конкретное условие поиска. Вкладка **Закрепленные** содержит список терминов запроса и пары веб-страниц, указывающих веб-страницу, которая отображается в качестве первого результата определенного запроса. Сведения о закреплении результатов см. в разделе, посвященном [настройке ранжирования](#adjustrank).

Закрепление результатов недоступно для пользовательских интерфейсов Поиска изображений и Поиска видео.

## <a name="website-suggestions"></a>Предлагаемые веб-сайты

После добавления срезов в список активных доменов служба создает предлагаемые веб-сайты и вложенные страницы, которые может потребоваться добавить в поиск. Раздел **You might want to add** (Может понадобиться добавить) содержит предложения. Страница параметров экземпляра содержит этот раздел только при наличии предложения доступны. 

Чтобы добавить предложения в список активных, щелкните значок +.  Так как служба создает предложения на основе заданных параметров, обязательно щелкните **Refresh** (Обновить)  после добавления предложений. 

## <a name="preview-pane"></a>Панель предварительного просмотра

Вы можете проверить экземпляр поиска с помощью панели предварительного просмотра справа, чтобы передать поисковые запросы и просмотреть результаты. 

1. Выберите **My Instance** (Мой экземпляр).
2. Выберите безопасный фильтр поиска и рынок для поиска (см. раздел о [параметрах запроса](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-search-api-v7-reference#query-parameters)).
3. Введите запрос и нажмите клавишу ВВОД или значок поиска, чтобы просмотреть результаты текущей конфигурации. 

Чтобы выбрать тип выполняемой операции поиска, щелкните **Интернет**, чтобы получить результаты поиска веб-сайтов, щелкните **Изображение**, чтобы получить результаты поиска изображений, или щелкните **Видео**, чтобы получить результаты поиска видео. 

На панели предварительного просмотра можно также просмотреть результаты Bing, выбрав **Bing** вместо **My Instance** (Мой экземпляр). Может быть полезно сравнить результаты вашего поиска и результаты, возвращенные Bing.

<a name="adjustrank"></a>
## <a name="adjust-rank"></a>Изменение ранжирования

На портале можно настраивать ранжирование для обработки результатов, возвращаемых Bing. На панели предварительного просмотра введите условие поиска и выполните запрос. На панели предварительного просмотра содержатся результаты поиска для запроса. Справа от каждого результата отображается список выполненных корректировок. 

- Блокировка. Перемещает домен, подстраницу или веб-страницу в список заблокированных. Выберите уровень для блокировки. Bing исключает содержимое из выбранного сайта в результатах поиска.  
  
- Повышение. Располагает содержимое из домена или подстраницы выше в результатах поиска. Укажите, нужно ли повышать расположение содержимого из домена или вложенной страницы, к которым принадлежит веб-страница. [Дополнительные сведения](#boosting-and-demoting).  
  
- Понижение. Располагает содержимое из домена или подстраницы ниже в результатах поиска. Укажите, нужно ли понижать расположение содержимого из домена или подстраницы, к которым принадлежит веб-страница. [Дополнительные сведения](#boosting-and-demoting).  
  
- Закрепление наверху. Определите веб-страницу, которая отображается в верхней части результатов, если строка запроса пользователя совпадает со строкой запроса закрепления согласно условию соответствия. Страница, которую необходимо закрепить, не должна содержаться в списке активных. [Дополнительные сведения](#pin-to-top).

Ранжирование недоступно для пользовательских интерфейсов Поиска изображений и Поиска видео.

## <a name="boosting-and-demoting"></a>Повышение и понижение

Любой домен или подстраницу из списка активных можно максимально повысить, повысить или понизить. По умолчанию добавляются срезы с одним весом. Максимально повышенные или повышенные элементы располагаются выше в результатах поиска (максимально повышенные находятся выше повышенных). Пониженные элементы располагаются ниже в результатах поиска.

Важно отметить, что максимальное повышение, повышение и понижение предоставляют доменам или подстраницам соответствующие значения веса. Это только одно из многих сигналов ранжирования для определения порядка результатов. Это означает, что их влияние на отдельные запросы не гарантируется, так как на общее ранжирование веб-результатов могут повлиять многие другие факторы.  Чтобы определить возможное влияние этого повышения или понижения на ранжирование, выполните проверку результатов поиска на панели предварительного просмотра.

Вы можете максимально повысить, повысить, или понизить расположение элементов с помощью элементов управления изменения ранжирования в списке активных доменов или с помощью элементов управления повышения и понижения на панели предварительного просмотра. Служба добавляет срез в список активных доменов и корректирует ранжирование соответствующим образом.

Функции максимального повышения, повышения и понижения недоступны для пользовательских интерфейсов Поиска изображений и Поиска видео.

## <a name="pin-to-top"></a>Закрепление наверху

Чтобы закрепить веб-страницу в верхней части результатов поиска конкретного запроса, выберите один из следующих вариантов.

1.  На вкладке  **Закреплено**  введите URL-адрес веб-страницы, которую необходимо закрепить в верхней части результатов, и запрос для активации закрепления.  
  
2.  В области **Предварительный просмотр** введите термин поиска и щелкните "Найти". Затем найдите в результатах веб-страницу, которую необходимо закрепить наверху, если пользователь вводит такой же запрос. Щелкните  **Pin to top** (Закрепить наверху). Служба добавит веб-страницу и запрос в список **Закреплено**. 

Вы можете отслеживать закрепления на вкладке  **Закреплено** . Закрепления отображаются как пары "\<query\>, \<webpage\>". 

Для конкретных запросов в верхней части результатов можно закрепить более одной веб-страницы.

Функция закрепления недоступна для пользовательских интерфейсов Поиска изображений и Поиска видео.

### <a name="specifying-the-pins-match-condition"></a>Указание условия соответствия закрепления

Веб-страница закрепляется в верхней части результатов только в том случае, если строка запроса пользователя совпадает со строкой запроса закрепления согласно условию соответствия. По умолчанию закрепление соответствует условию, только если строка запроса закрепления и строка запроса пользователя полностью совпадают. Поведение по умолчанию можно изменить, указав одно из следующих условий соответствия.

- "Начинается с &mdash;". Закрепление соответствует условию, если строка запроса пользователя начинается со строки запроса закрепления.
- "Заканчивается на &mdash;". Закрепление соответствует условию, если строка запроса пользователя заканчивается строкой запроса закрепления.
- "Содержит &mdash;". Закрепление соответствует условию, если строка запроса пользователя содержит строку запроса закрепления.

Чтобы изменить условие соответствия закрепления, щелкните значок изменения закрепления (карандаш). В столбце **Query match condition** (Условие соответствия запроса) щелкните раскрывающийся список и выберите новое условие для использования. Щелкните значок сохранения, чтобы сохранить изменение.

Сравнение строк выполняется без учета регистра.

### <a name="changing-the-order-of-the-pins"></a>Изменение порядка закреплений

Чтобы изменить порядок закреплений, вы можете перетащить их или изменить их порядковые номера. Чтобы перетащить закрепление, щелкните нужное закрепление в списке и, удерживая нажатой кнопку мыши, перетащите его на закрепление, вместо которого хотите установить выбранное закрепление, после чего отпустите кнопку мыши. Обратите внимание на то, что порядковый номер закрепления изменяется соответствующим образом.

Можно также изменить порядковый номер закрепления. В столбце **Элементы управления** щелкните значок изменения закрепления (карандаш). Введите порядковый номер для отображения закрепления в списке, затем нажмите клавишу ВВОД или щелкните значок сохранения. Например, если закрепление является шестым в списке, а вы хотите отобразить его вторым, измените его порядковый номер на два (2).

Если несколько закреплений выполняют условие соответствия, то их порядок определяет то, какое закрепление использует Bing. Например, если второе и третье закрепления выполняют условие соответствия, то Bing использует второе закрепление.

## <a name="use-bing-to-specify-slices"></a>Использование Bing для указания срезов

Есть несколько способов указать срезы Интернета, составляющих пользовательский поиск. Если вам известно, какие срезы необходимо включить в экземпляр, добавьте их в список **активных** экземпляров. Сведения о самостоятельном добавлении элементов к списку **активных** см. в разделе [Списки активных и заблокированных доменов](#active-and-blocked-lists).

Но, если вы не знаете, какие срезы необходимо добавить, можно выполнить запросы Bing на панели **Предварительный просмотр** и просмотреть возвращенные результаты Bing. Затем можно выбрать срезы, которые необходимо включить в пользовательский поиск. Скорее всего, понадобится выполнить несколько терминов запроса, чтобы убедиться, что указаны все срезы, необходимые для экземпляра. 

Выполните следующие действия по добавлению срезов к экземпляру пользовательского поиска с помощью Bing. 

1.  Войдите на [портал](https://customsearch.ai) Пользовательского поиска Bing.
2.  Создайте экземпляр или выберите имеющийся экземпляр и обновите его.
3.  На панели предварительного просмотра справа выберите Bing из раскрывающегося списка.
4.  В поле поиска введите термин запроса, относящийся к экземпляру.
5.  Щелкните **Add site** (Добавить сайт) рядом с результатом, который необходимо добавить.
6.  Нажмите кнопку **ОК** .

[!INCLUDE[publish or revert](./includes/publish-revert.md)]

## <a name="view-statistics"></a>Просмотр статистики

При наличии подписки Пользовательского поиска соответствующего уровня (см. [страницы расценок](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/)), вкладка **Статистика** добавляется к экземплярам рабочей среды. На вкладке статистики содержатся подробные сведения об используемых конечных точках Пользовательского поиска, включая количество вызовов, наиболее ресурсоемкие запросы, географическое распределение, коды отклика и безопасный поиск. Вы можете отфильтровать подробные сведения с помощью предоставленных элементов управления.

## <a name="understanding-quota"></a>Основные сведения о квоте

- Для каждого экземпляра пользовательского поиска максимальное количество корректировок ранжирования для **активных** и **заблокированных** срезов, ограничено до 400.
- Добавление среза на вкладку "Активные" или Blocked (Заблокированные) учитывается как одна корректировка ранжирования.
- Повышение и понижение расположения учитывается как две корректировки ранжирования.
- Для каждого экземпляра пользовательского поиска максимальное количество допустимых закреплений ограничено до 200.

## <a name="next-steps"></a>Дополнительная информация

- [Вызов API пользовательского поиска](./search-your-custom-view.md)
- [Настройка размещенного на серверах пользовательского интерфейса](./hosted-ui.md)
- [Use decoration markers to highlight text](./hit-highlighting.md) (Использование маркеров оформления для выделения текста)
- [Разбивка веб-страниц на страницы](./page-webpages.md)