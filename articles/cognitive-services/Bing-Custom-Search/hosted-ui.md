---
title: Пользовательский поиск Bing. Поиск по сайту | Документация Майкрософт
description: Описание настройки размещенного пользовательского интерфейса
services: cognitive-services
author: brapel
manager: ehansen
ms.service: cognitive-services
ms.component: bing-custom-search
ms.topic: article
ms.date: 09/28/2017
ms.author: v-brapel
ms.openlocfilehash: 2aec8ba969fb639f2d785a429441f6ed4bbf7dfb
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "46987685"
---
# <a name="configure-your-hosted-ui-experience"></a>Настройка размещенного пользовательского интерфейса

Выполнив настройку экземпляра пользовательского поиска, вы сможете вызывать API пользовательского поиска для получения результатов поиска и их отображения в приложении. Если же вы создаете веб-приложение, можно использовать размещенный пользовательский интерфейс, предоставляемый службой пользовательского поиска.   

## <a name="configure-custom-hosted-ui"></a>Настройка размещенного интерфейса пользовательского поиска

Чтобы настроить размещенный пользовательский интерфейс для веб-приложения, выполните следующие действия.

1. Войдите на [портал](https://customsearch.ai) пользовательского поиска.  
  
2. Щелкните экземпляр пользовательского поиска. Чтобы создать экземпляр, ознакомьтесь с руководством [Create your first Bing Custom Search instance](quick-start.md) (Создание первого экземпляра службы Пользовательского поиска Bing).  

3. Щелкните вкладку **Hosted UI** (Размещенный пользовательский интерфейс).  
  
4. Выберите макет.
  
  - "Search bar and results (default)" (Панель поиска и результаты (по умолчанию)) &mdash; это макет традиционной веб-страницы поиска с полем поиска и областью результатов.
  - "Results only" (Только результаты) &mdash; этот макет отображает только результаты поиска. Он не отображает поле поиска. Необходимо указать поисковый запрос, добавив параметр запроса (&q=\<строка запроса>) в URL-адрес запроса во фрагменте кода JavaScript или в ссылке HTML на конечную точку.
  - "Pop-over" (Всплывающее окно) &mdash; этот макет содержит поле поиска и отображает результаты поиска во всплывающем окне.
      
5. Выберите цветовую тему. Ниже приведены доступные темы. 
  
  - Классический
  - Dark
  - Skyline Blue

  Щелкните каждую из тем, чтобы увидеть, какая тема лучше всего подходит для вашего веб-приложения. Если вам нужно точно настроить цветовую тему, чтобы лучше интегрироваться с веб-приложением, нажмите кнопку **Настройка темы**. Не все конфигурации цвета применяются ко всем темам макета. Чтобы изменить цвет, введите значение цвета RGB HEX (например, #366eb8) в соответствующем текстовом поле. Или нажмите кнопку выбора цвета и щелкните оттенок, который вам подходит. 
  
  После изменения цвета проверьте, как это изменение влияет на макет в области предварительного просмотра справа. Вы всегда можете щелкнуть **Восстановить значения по умолчанию**, чтобы вернуться к цветам по умолчанию для выбранной темы.

  > [!NOTE]
  > Выбирая цвет при изменении цветовой темы, следует учитывать специальные возможности.

5. В разделе **Additional Configurations** (Дополнительные конфигурации) укажите значения, которые нужны для вашего приложения. Эти параметры не являются обязательными. В области предварительного просмотра справа можно наблюдать, как влияет на результат добавление или удаление этих параметров. Доступны следующие параметры конфигурации.  
  
  - Конфигурации для поиска в Интернете:
    - "Web results enabled" (Результаты поиска в Интернете) &mdash; эта конфигурация определяет, включен ли веб-поиск (вы увидите вкладку "Интернет" в верхней части страницы).
    - "Enable autosuggest" (Включить автозаполнение) &mdash; определяет, используется ли пользовательское автозаполнение (ознакомьтесь с [ценами](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/), чтобы узнать о дополнительных затратах).
    - "Web results per page" (Число результатов поиска в Интернете на страницу) &mdash; количество одновременно отображаемых результатов поиска в Интернете (до 50 результатов на страницу).
    - "Image caption" (Подпись изображения) &mdash; определяет, отображаются ли изображения в результатах поиска.
  
    Если щелкнуть **Show advanced configurations** (Показать дополнительные конфигурации), отобразятся следующие конфигурации.  
  
    - "Highlight words" (Выделение слов) &mdash; определяет, нужно ли в результатах выделять искомые термины полужирным шрифтом. 
    - "Link target" (Связывание цели) &mdash; определяет, откроется ли веб-страница на новой (пустой) вкладке или на той же вкладке браузера, когда пользователь щелкнет результат поиска. 

  - Конфигурации поиска по изображениям:
    - "Image results enabled" (Результаты поиска изображений) &mdash; эта конфигурация определяет, включен ли поиск изображений (вы увидите вкладку "Изображения" в верхней части страницы).   
    - "Image results per page" (Число результатов поиска изображений на страницу) &mdash; количество одновременно отображаемых результатов поиска изображений (до 150 результатов на страницу).  
  
    Если щелкнуть **Show advanced configurations** (Показать дополнительные конфигурации), отобразится следующая конфигурация.  
  
    - "Enable filters" (Включение фильтров) &mdash; добавляет фильтры, которые пользователь может использовать для фильтрации изображений, возвращаемых Bing. Например, пользователь может отфильтровать результаты для получения только анимационных GIF.

  - Конфигурации поиска видео.
    - "Video results enabled" (Результаты поиска видео) &mdash; эта конфигурация определяет, включен ли поиск видео (вы увидите вкладку "Видео" в верхней части страницы).  
    - "Video results per page" (Число результатов поиска видео на страницу) &mdash; количество одновременно отображаемых результатов поиска видео (до 150 результатов на страницу).
  
    Если щелкнуть **Show advanced configurations** (Показать дополнительные конфигурации), отобразится следующая конфигурация.  
  
    - "Enable filters" (Включение фильтров) &mdash; добавляет фильтры, которые пользователь может использовать для фильтрации видео, возвращаемых Bing. Например, пользователь может отфильтровать результаты, чтобы получить видео с определенным разрешением или видео, обнаруженные за последние 24 часа.

  - Прочие конфигурации.
    - "Page title" (Заголовок страницы) &mdash; текст, отображаемый в области заголовка страницы результатов поиска (не для макета "Pop-over" (Всплывающее окно)).
    - "Toolbar theme" (Тема панели инструментов) &mdash; определяет цвет фона для заголовка страницы результатов поиска.  
  
    Если щелкнуть **Show advanced configurations** (Показать дополнительные конфигурации), отобразятся следующие конфигурации.  
  
    - "Search box text placeholder" (Заполнитель текста для поля поиска) &mdash; текст, отображаемый в поле поиска до начала ввода.
    - "Title link URL" (URL-адрес ссылки для заголовка) &mdash; целевой адрес для ссылки заголовка.
    - "Logo URL" (URL-адрес логотипа) &mdash; изображение, отображаемое рядом с заголовком. 
    - "Favicon URL" (URL-адрес значка) &mdash; значок, отображаемый в строке заголовка браузера.  

    Следующие конфигурации применяются только в том случае, если вы используете размещенный пользовательский интерфейс через конечную точку HTML (они не применяются при использовании фрагмента JavaScript).
    
    - "Page title" (Заголовок страницы).
    - "Toolbar theme" (Тема панели инструментов).
    - "Title link URL" (URL-адрес ссылки для заголовка).
    - "Logo URL" (URL-адрес логотипа).
    - "Favicon URL" (URL-адрес значка).  
  
6. Введите ключ подписки на службу поиска или выберите его из раскрывающегося списка. Раскрывающийся список заполняется ключами из подписок в вашей учетной записи Azure. См. [Учетная запись API Cognitive Services](https://docs.microsoft.com/azure/cognitive-services/cognitive-services-apis-create-account).  

7. Если вы включили автозаполнение, введите ключ подписки на службу автозаполнения или выберите его из раскрывающегося списка. Раскрывающийся список заполняется ключами из подписок в вашей учетной записи Azure. Пользовательское автозаполнение требует наличия определенного уровня подписки, как описано [на страниц цен](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/).

> [!NOTE]
> На панели справа отображаются все изменения, вносимые в конфигурацию настраиваемого размещенного пользовательского интерфейса. Отображаемые здесь результаты поиска не соответствуют фактическим данным вашего экземпляра.

[!INCLUDE[publish or revert](./includes/publish-revert.md)]

## <a name="consume-custom-ui"></a>Использование настраиваемого пользовательского интерфейса

Чтобы использовать размещенный пользовательский интерфейс, выполните любое из следующих действий. 

- Включите скрипт в код веб-страницы.  
  
  ```html
  <html>
      <body>
          <script type="text/javascript" 
              id="bcs_js_snippet"
              src="https://ui.customsearch.ai /api/ux/rendering-js?customConfig=<YOUR-CUSTOM-CONFIG-ID>&market=en-US&safeSearch=Moderate&version=latest&q=">
          </script>
      </body>    
  </html>
  ```

- Можно также использовать следующий URL-адрес в веб-браузере.   
  
  `https://ui.customsearch.ai/hosted?customConfig=YOUR-CUSTOM-CONFIG-ID`  
  
  > [!NOTE]
  > При необходимости добавьте следующие параметры запроса в URL-адрес. Дополнительные сведения об этих параметрах см. в справочнике по [API пользовательского поиска](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-search-api-v7-reference#query-parameters).
  >
  > - q
  > - mkt
  > - safesearch
  > - setlang

  > [!IMPORTANT]
  > На этой странице не будут отображаться заявление о конфиденциальности или другие уведомления и условия. Этот вариант подходит не для всех случаев.  

Дополнительные сведения, включая пользовательский идентификатор конфигурации, вы найдете в разделе **Конечные точки** на вкладке **Рабочая среда**.

## <a name="next-steps"></a>Дополнительная информация

- [Use decoration markers to highlight text](./hit-highlighting.md) (Использование маркеров оформления для выделения текста)
- [Разбивка веб-страниц на страницы](./page-webpages.md)