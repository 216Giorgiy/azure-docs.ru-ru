---
title: Анализ выходных данных Индексатора видео Azure | Документация Майкрософт
description: В этом разделе анализируются выходные данные Индексатора видео.
services: cognitive services
documentationcenter: ''
author: juliako
manager: cflower
ms.service: cognitive-services
ms.topic: article
ms.date: 05/30/2018
ms.author: juliako
ms.openlocfilehash: 7f61833d70cea3a6d176f5a08eb0db1c30e70e86
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "35383113"
---
# <a name="examine-the-video-indexer-output-produced-by-v1-api"></a>Анализ выходных данных Индексатора видео, полученных с помощью API версии 1

> [!Note]
> API-интерфейсы Индексатора видео версии 1 уже устарели и будут удалены с 1 августа 2018 г. Чтобы избежать нарушений в работе, используйте API-интерфейсы Индексатора видео версии 2.
>
> См. [инструкции по разработке с помощью API Индексатора видео версии 2](https://api-portal.videoindexer.ai/). 

Если при вызове API **Get Breakdowns** отображается состояние ответа "OK", вы получите содержимое ответа в виде подробных выходных данных в формате JSON. В содержимом JSON представлены данные по выбранным аналитическим сведениям из видео (включая расшифровку, распознавание текста, людей). Эти сведения включают ключевые слова (разделы), лица, блоки. Каждый блок содержит диапазоны времени, строку расшифровки, строки распознавания текста, анализ тональности, лица и эскизы блоков.

Чтобы получить полную статистику видео в виде JSON-файла содержимого, можно использовать API **Get Breakdowns**.  
 
    GET https://videobreakdown.azure-api.net/Breakdowns/Api/Partner/Breakdowns/63c6d532ff HTTP/1.1
    Host: videobreakdown.azure-api.net
    Ocp-Apim-Subscription-Key: ••••••••••••••••••••••••••••••••
    
Можете также просмотреть сводные аналитические сведения о видео, нажав в этом видео кнопку **воспроизведения** на портале Индексатора видео. Дополнительные сведения см. в руководстве по [просмотру и анализу аналитических сведений в Индексаторе видео](video-indexer-view-edit.md).

![Аналитика](./media/video-indexer-output-json/video-indexer-summarized-insights.png)

В этой статье анализируется содержимое JSON, которое возвращает API **Get Breakdowns**. Рекомендуется ознакомиться со статьей, где описаны [основные понятия](video-indexer-concepts.md).

> [!NOTE]
> Срок действия всех маркеров доступа в Индексаторе видео составляет один час.

## <a name="root-elements"></a>Корневые элементы

Атрибут | ОПИСАНИЕ
---|---
id|Идентификатор этого видео. Например, 63c6d532ff.
partition|Логический раздел, который пользователь может указать при отправке, чтобы найти его позже.
name|Имя видео. Например, Azure Monitor.
description|Описание видео. Например, "Джон Кемнетз (John Kemnetz) присоединяется к Скотту Хансельману (Scott Hanselman), чтобы показать, как разблокировать данные мониторинга Azure с помощью Azure Monitor".
userName|Создатель видео. Например, видео Channel9.
createTime |Время создания. Например, 2017-03-31T16:36:41.4504249+00:00.
privacyMode|Анализируемое видео может иметь один из следующих режимов: **Private** или **Public**. **Public** — видео доступно для всех пользователей в вашей учетной записи и любому пользователю, у которого есть ссылка на видео. **Private** — видео доступно для всех пользователей в вашей учетной записи.
isOwned|Значение true, если текущий пользователь является владельцем видео. В противном случае — значение false.  
isBase|Значение true, если разбивка основана на исходном видео. Значение false, если разбивка представляет собой список воспроизведения, извлеченный из другой разбивки.
durationInSeconds|Длительность видео.
summarizedInsights|Содержит один объект [summarizedInsights](#summarizedInsights).
breakdowns|Может содержать один или несколько объектов [breakdowns](#breakdowns).
social|Содержит один элемент **social**, описывающий число отметок like и просмотров видео.

## <a name="summarizedinsights"></a>summarizedInsights

В этом разделе приводится сводка аналитических сведений.

Атрибут | ОПИСАНИЕ
---|---
name|Имя видео. Например, Azure Monitor.
shortId|Идентификатор видео. Например, 63c6d532ff.
privacyMode|Анализируемое видео может иметь один из следующих режимов: **Private** или **Public**. **Public** — видео доступно для всех пользователей в вашей учетной записи и любому пользователю, у которого есть ссылка на видео. **Private** — видео доступно для всех пользователей в вашей учетной записи.
длительность|Содержит данные об отрезке времени, в котором обнаружены аналитические сведения. Отрезок времени указан в секундах.
thumbnailUrl|Полный URL-адрес эскиза видео. Например, https://www.videoindexer.ai/api/Thumbnail/3a9e38d72e/d1f5fac5-e8ae-40d9-a04a-6b2928fb5d10?accessToken=eyJ0eXAiOiJKV1QiLCJhbGciO.... Обратите внимание на то, что если видео является частным, URL-адрес содержит маркер доступа на один час. Через один час URL-адрес больше не будет действительным, и вам понадобится либо получить разбивку снова с новым URL-адресом, либо вызвать GetAccessToken, чтобы получить новый токен доступа и создать полный URL-адрес вручную ('https://www.videoindexer.ai/api/Thumbnail/[shortId]/[ThumbnailId]?accessToken=[accessToken]').
faces|Может содержать один или несколько объектов [faces](#faces).
topics|Может содержать один или несколько объектов [topics](#topics).
sentiments|Может содержать один или несколько объектов [sentiments](#sentiments).
audioEffects| Может содержать один или несколько объектов [audioEffects](#audioEffects).
brands| Может содержать ноль или более объектов [brands](#brands).
Статистика|Дополнительные сведения см. в разделе [statistics](#Statistics).
.
### <a name="statistics"></a>Статистика

|ИМЯ|ОПИСАНИЕ|
|---|---|
|CorrespondenceCount|Количество соответствий в видео.|
|WordCount|Число слов каждого говорящего.|
|SpeakerNumberOfFragments|Число фрагментов в видео на определенного говорящего.|
|SpeakerLongestMonolog|Самый длинный монолог говорящего. Учитываются также паузы в монологе говорящего. Паузы в начале и конце монолога удаляются.| 
|SpeakerTalkToListenRatio|Результат вычисления основан на длительности монолога говорящего (без учета пауз между монологами), деленной на общее время видео. Значение времени округляется до трех знаков после запятой.|

## <a name="breakdowns"></a>breakdowns

В этом разделе отображаются аналитические сведения.

Атрибут | ОПИСАНИЕ
---|---
id|Идентификатор разбивки. Например, 63c6d532ff.
state|Состояние обработки идентификатора разбивки. Оно может быть следующим: "Загружено", "В обработке", "Обработано", "Сбой".
processingProgress|Ход выполнения. Например, 10%.
externalId| Параметр externalId можно задать при отправке. Например, 4f9c3500-eca7-4ab3-987e-a745017af698. Видео можно найти используя этот внешний идентификатор.
externalUrl|Параметр externalUrl можно задать при отправке. 
metadata|Параметр metadata можно задать при отправке. 
insights|Может содержать один или несколько объектов [insights](#insights).
thumbnailUrl|Полный URL-адрес эскиза видео. Например: https://www.videoindexer.ai/api/Thumbnail/3a9e38d72e/d1f5fac5-e8ae-40d9-a04a-6b2928fb5d10?accessToken=eyJ0eXAiOiJKV1QiLCJhbGciO... Обратите внимание на то, что если видео является частным, URL-адрес содержит маркер доступа на один час. Через один час URL-адрес больше не будет действительным, и вам понадобится либо получить разбивку снова с новым URL-адресом, либо вызвать GetAccessToken, чтобы получить новый токен доступа и создать полный URL-адрес вручную ('https://www.videoindexer.ai/api/Thumbnail/[shortId]/[ThumbnailId]?accessToken=[accessToken]').
publishedUrl|Опубликованный URL-адрес. Например, https://BreakdownMedia.azureedge.net:443/d5e5232d-48e2-4fbc-9893-0ea6335da563/Azure%20Monitor%20%20Azure%20Friday.ism/manifest.
viewToken|Токен носителя.
sourceLanguage|Исходный язык. Поддерживаются следующие языки: китайский, английский, французский, немецкий, итальянский, японский, португальский, русский, испанский.
Язык|Язык расшифровки.

## <a name="insights"></a>insights

Атрибут | ОПИСАНИЕ 
---|---
transcriptBlocks|Может содержать один или несколько объектов [transcriptBlocks](#transcriptBlocks).
topics|Может содержать один или несколько объектов [topics](#topics).
faces|Может содержать один или несколько объектов [faces](#faces).
participants|Может содержать один или несколько объектов [participants](#participants).
contentModeration|Может содержать один объект [contentModeration](#contentModeration).
audioEffectsCategories|Может содержать один или несколько объектов [audioEffectsCategories](#audioEffectsCategories).

## <a name="faces"></a>faces

### <a name="summarizedinsights"></a>summarizedInsights

Объекты **faces**, отображаемые в разделе **summarizedInsights**, показывают сводку по каждому лицу в видео.

Атрибут | ОПИСАНИЕ 
---|---
id|Идентификатор человека. Например, 11775.
shortId|Короткий идентификатор. Так как список воспроизведения может быть производным от несколько разбивок, этот идентификатор необходим, чтобы узнать, какие из этих разбивок принадлежат какому лицу.  
name|Если лицо распознано, добавляется имя человека. Например, Scott Hanselman. Если лицо неизвестно, добавляется "Unknown #". 
description|Если лицо распознано, описание заполняется на основе API Bing для поиска. В противном случае — описание будет **null**.
title|Если лицо распознано, описание заполняется на основе API Bing для поиска. В противном случае — заголовок будет **null**.
thumbnailFullUrl|Полный URL-адрес эскиза лица. Например, https://www.videoindexer.ai/api/Thumbnail/3a9e38d72e/d1f5fac5-e8ae-40d9-a04a-6b2928fb5d10?accessToken=eyJ0eXAiOiJKV1QiLCJhbGciO.... Обратите внимание на то, что если видео является частным, URL-адрес содержит маркер доступа на один час. Через один час URL-адрес больше не будет действительным, и вам понадобится либо получить разбивку снова с новым URL-адресом, либо вызвать GetAccessToken, чтобы получить новый токен доступа и создать полный URL-адрес вручную ('https://www.videoindexer.ai/api/Thumbnail/[shortId]/[ThumbnailId]?accessToken=[accessToken]').
appearances|Может содержать один или несколько объектов [appearances](#appearances).
seenDuration|Время продолжительности распознавания лица (в секундах).
seenDurationRatio|Наличие относительной продолжительности видео (0-1).

### <a name="breakdown-insights"></a>breakdown insights

Объекты **faces**, отображаемые в разделе **breakdowns**, предоставляют сведения о каждом лице в видео.

Атрибут | ОПИСАНИЕ 
---|---
id|Идентификатор человека. Например, 11775.
bingId|
name|Если лицо распознано, добавляется имя человека. Например, Scott Hanselman. Если лицо неизвестно, добавляется "Unknown #". 
thumbnailId|Например, 616468f0-1636-4efa-94e7-262f2e575059.
description|Если лицо распознано, описание заполняется на основе API Bing для поиска. В противном случае — описание будет **null**.
title|Если лицо распознано, описание заполняется на основе API Bing для поиска. В противном случае — заголовок будет **null**.
imageurl|Этот URL-адрес указывает на изображение, которое берется из источника видео.  
confidence|Оценка достоверности (выше — лучше).
knownPersonId|Идентификатор известного лица (например, знаменитости). Если человек неизвестен, идентификатор содержит нули. Например, e3eaff5f-ee1b-4eac-80ce-ebac47aadf64.

## <a name="topics"></a>topics

### <a name="summarizedinsights"></a>summarizedInsights

Объекты **topics** отображаемые в разделе **summarizedInsights**, показывают сводку по каждой теме в видео.

Атрибут | ОПИСАНИЕ 
---|---
name|Имя раздела (например, Azure). 
appearances|Может содержать один или несколько объектов [appearances](#appearances) (внешнего вида).
isTranscript|Значение true, если объект найден в расшифровке. Значение равно false, если объект найден в OCR.

### <a name="breakdown-insights"></a>breakdown insights

Объекты **topics**, отображаемые в разделе **breakdowns**, предоставляют сведения о каждой теме найденной в видео.

|Атрибут | ОПИСАНИЕ |
|---|---|
|id|Уникальный идентификатор раздела.|
|name|Имя раздела.|
|stem|Сейчас это значение не используется.|
|words|Сейчас это значение не используется.|
|rank|Оценка релевантности (выше — лучше).|

## <a name="sentiments"></a>sentiments

Атрибут | ОПИСАНИЕ
---|---
sentimentKey| В настоящее время поддерживаются следующие тональности: Positive, Neutral, Negative. 
appearances|Может содержать один или несколько объектов [appearances](#appearances).|.
seenDurationRatio|Наличие относительной продолжительности видео (0-1).

## <a name="audioeffects"></a>audioEffects

Атрибут | ОПИСАНИЕ 
---|---
audioEffectKey| Допустимыми значениями являются: Speech, Silence, HandClaps.
appearances|Может содержать один или несколько объектов [appearances](#appearances).
seenDurationRatio|Наличие относительной продолжительности видео (0-1).
seenDuration|Длительность воспроизведения аудио (в секундах).

## <a name="appearances"></a>appearances

Атрибут | ОПИСАНИЕ 
---|---
startTime| Значение времени.
endTime|Значение времени.
startSeconds| Значение времени.
endSeconds| Значение времени.

## <a name="participants"></a>participants

Атрибут | ОПИСАНИЕ 
---|---
id|Идентификатор участника.
name|Имя участника. Например, Speaker #1.
pictureUrl|Атрибут **pictureUrl** зарезервирован для использования в будущем.

## <a name="contentmoderation"></a>contentModeration

Атрибут | ОПИСАНИЕ 
---|---
adultClassifierValue|Уровень надежности того, что видео имеет материалы для взрослых.
racyClassifierValue|Уровень надежности того, что видео имеет неприличные материалы.
bannedWordsCount|Количество ненормативных слов. 
bannedWordsRatio|Соотношение нецензурных слов к общему количеству слов.
reviewRecommended|Логическое значение, указывающее, на необходимость проверки видео вручную.
isAdult|Логические значения, указывающее, что после проверки вручную видео считается видео для взрослых.

## <a name="audioeffectscategories"></a>audioEffectsCategories

Атрибут | ОПИСАНИЕ 
---|---
Тип|Идентификатор категории.
key|Одно из следующих: Speech, Silence, HandClaps. 

## <a name="transcriptblocks"></a>transcriptBlocks

Атрибут | ОПИСАНИЕ
---|---
id|Идентификатор блока.
lines|Может содержать один или несколько объектов [lines](#lines).
sentimentIds|Атрибут **sentimentIds** зарезервирован для использования в будущем.
thumbnailIds|Атрибут **thumbnailIds** зарезервирован для использования в будущем.
Тональность|Тональность в блоке (0-1, от негативного до позитивного).
faces|Может содержать одно или несколько объектов [faces](#faces).
ocrs|Может содержать один или несколько объектов [ocrs](#ocrs).
audioEffectInstances|Может содержать один или несколько объектов [audioEffectInstances](#audioEffectInstances).
scenes|Может содержать одну или несколько объектов [scenes](#scenes).
annotations|Может содержать ноль или больше объектов [annotations](#annotations).

## <a name="ocrs"></a>ocrs

Описывает, в какой момент видео найдено текстовое содержимое. 

Атрибут | ОПИСАНИЕ 
---|---
timeRange|Диапазон времени в исходном видео.
adjustedTimeRange|Параметр adjustedTimeRange — это диапазон времени, который относится к текущему списку воспроизведения. Поскольку можно создать список воспроизведения из разных строк разных видеороликов, можно взять видео протяженностью один час и использовать из него только 1 строку, например, 10:00-10:15. В этом случае вы получите список воспроизведения, содержащий 1 строку, где диапазон времени составляет 10:00–10:15, но adjustedTimeRange будет 00:00–00:15.
lines|Может содержать один или несколько объектов [lines](#lines).

## <a name="lines"></a>lines

### <a name="transcriptblocks"></a>transcriptBlocks

Объекты **lines**, отображаемые в разделе **transcriptBlocks**, описывают линии расшифровок найденных в видео.

Атрибут | ОПИСАНИЕ 
---|---
id| Идентификатор линии.
timeRange|Диапазон времени в исходном видео.
adjustedTimeRange|Параметр adjustedTimeRange — это диапазон времени, который относится к текущему списку воспроизведения. Поскольку можно создать список воспроизведения из разных строк разных видеороликов, можно взять видео протяженностью один час и использовать из него только 1 строку, например, 10:00-10:15. В этом случае вы получите список воспроизведения, содержащий 1 строку, где диапазон времени составляет 10:00–10:15, но adjustedTimeRange будет 00:00–00:15.
participantID| Идентификатор комментатора этой линии.
текст| Расшифровка.
isIncluded| В базовой разбивке всегда значение true. В полученных списках воспроизведения строки, включенные в исходное видео, устанавливаются как isIncluded=true. Все остальные строки имеют значение false.

### <a name="ocrs"></a>ocrs

Объекты **lines**, отображаемые в разделе **ocrs**, описывают строки распознавание текста, которые имеются в видео.

Атрибут | ОПИСАНИЕ 
---|---
id|Идентификатор распознавания текста.
width|Сейчас это значение не используется.
height|Сейчас это значение не используется.
Язык|Язык OCR.
textData|Текст OCR.
confidence|Оценка достоверности (выше — лучше).

## <a name="scenes"></a>scenes

Атрибут | ОПИСАНИЕ 
---|---
id|Идентификатор сцены.
timeRange|Содержит один объект **timeRange**.
keyFrame|Время опорного кадра.
shots|Может содержать один или несколько объектов [shots](#shots).

## <a name="shots"></a>shots

Атрибут | ОПИСАНИЕ 
---|---
id||Идентификатор снимка.
timeRange|Содержит один объект **timeRange**.
keyFrame|Время опорного кадра.

## <a name="audioeffectinstances"></a>audioEffectInstances

Атрибут | ОПИСАНИЕ 
---|---
Тип|Индекс аудио события: Laughter = 1, HandClaps = 2, Music = 3, Speech = 4, Silence = 5.
ranges|Может содержать один или несколько объектов [ranges](#ranges).

## <a name="ranges"></a>ranges

Объекты **ranges**, отображаемые в разделе **audioEffectInstances**, описывают звуковые эффекты в этих диапазонах.

Атрибут | ОПИСАНИЕ 
---|---
timeRange|Диапазон времени в исходном видео.
adjustedTimeRange|Параметр adjustedTimeRange — это диапазон времени, который относится к текущему списку воспроизведения. Поскольку можно создать список воспроизведения из разных строк разных видеороликов, можно взять видео продолжительностью один час и использовать только одну строку от него, например, 10:00-10:15. В этом случае вы получите список воспроизведения, содержащий 1 строку, где диапазон времени составляет 10:00–10:15, но adjustedTimeRange будет 00:00–00:15.

## <a name="annotations"></a>annotations

Возвращает теги в зависимости от узнаваемых объектов, живых существ, пейзажей, действий и визуальных шаблонов.

|Атрибут|ОПИСАНИЕ|
|---|---|
|id|Идентификатор заметки.|
|ИМЯ|Имя заметки (например, пользователь, спортивные игры, черные кадры).|
|appearances|Может содержать один или несколько объектов внешнего вида.|

## <a name="brands"></a>brands

Названия организаций и торговые марки продуктов, обнаруженные при преобразовании речи в текст и (или) распознавании текста на видео. Сюда не входит распознавание торговых марок или логотипов на изображении.

Атрибут | ОПИСАНИЕ
---|---
id | Идентификатор торговой марки.
name | Имя бренда из Bing или настроенной торговой марки.  
wikiId | Суффикс URL-адреса статьи о торговой марке в Википедии. Например, Target_Corporation — это суффикс ссылки [https://en.wikipedia.org/wiki/Target_Corporation](https://en.wikipedia.org/wiki/Target_Corporation).
wikiUrl | URL-адрес статьи о торговой марке в Википедии (если существует). (например, [https://en.wikipedia.org/wiki/Target_Corporation](https://en.wikipedia.org/wiki/Target_Corporation)).
confidence | Значение достоверности средства обнаружения торговых марок в Индексаторе видео (0–1).
description | Описание торговой марки, извлеченное из Википедии. 
appearances | Может содержать один или несколько объектов внешнего вида.
seenDuration | Наличие относительной продолжительности видео (0-1).

## <a name="next-steps"></a>Дополнительная информация

Информацию о том, как создать собственную разбивку, см. в [этой статье](video-indexer-view-edit.md).

См. дополнительные сведения о том, как [внедрить мини-приложения Индексатора видео в свое приложение](video-indexer-embed-widgets.md). 

## <a name="see-also"></a>См. также

[API Индексатора видео](https://videobreakdown.portal.azure-api.net/docs/services/582074fb0dc56116504aed75/operations/5857caeb0dc5610f9ce979e4)

[Общие сведения об Индексаторе видео](video-indexer-overview.md)

