---
title: "Масштабирование Функций Azure | Документация Майкрософт"
description: "Узнайте, как Функции Azure масштабируются в соответствии с потребностями непостоянных рабочих нагрузок."
services: functions
documentationcenter: na
author: dariagrigoriu
manager: erikre
editor: 
tags: 
keywords: "функции azure, функции, обработка событий, веб-перехватчики, динамические вычисления, независимая архитектура"
ms.assetid: 5b63649c-ec7f-4564-b168-e0a74cb7e0f3
ms.service: functions
ms.devlang: multiple
ms.topic: reference
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 08/03/2016
ms.author: dariagrigoriu
translationtype: Human Translation
ms.sourcegitcommit: 1a8e8bdb95b1eff6feb992727d28051463710813
ms.openlocfilehash: fce766358c61494e77464a4506dcc0e466e4e1e4


---
# <a name="scaling-azure-functions"></a>Масштабирование Функций Azure

## <a name="introduction"></a>Введение

Платформа Функций Azure выделяет вычислительные ресурсы в процессе выполнения кода, масштабируя их в соответствии с нагрузкой и освобождая, когда код не выполняется. Это означает, что вы не платите за неактивные виртуальные машины и вам не нужно резервировать емкость на всякий случай. Механизмом, обеспечивающим эту новую возможность, является план обслуживания на основе потребления. В этой статье представлен обзор принципов работы плана обслуживания на основе потребления. 

Если вы еще не знакомы с Функциями Azure, см. статью [Обзор функций Azure](functions-overview.md).

## <a name="choose-a-service-plan"></a>Выбор плана обслуживания

При создании приложения-функции необходимо настроить план размещения для функций, содержащихся в приложении. Доступные планы размещения: **план потребления** и [план службы приложений](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md). Сейчас этот выбор необходимо делать во время создания приложения-функции. Изменить свой выбор после создания невозможно. В [плане службы приложений](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md) можно выполнять масштабирование между уровнями. Для плана потребления сейчас никакие изменения не поддерживаются, так как масштабирование является динамическим.

### <a name="consumption-plan"></a>План потребления

В **плане потребления** приложения-функции назначаются экземпляру обработки. При необходимости экземпляры добавляются или удаляются динамически. Более того, ваши функции будут выполняться параллельно, сводя к минимуму общее время, необходимое для обработки запросов. Время выполнения функций объединяется содержащим их приложением-функцией. Стоимость зависит от объема памяти и общего времени выполнения всех функций в приложении-функции (в гигабайтах на секунду). Это очень удобно, когда вычисления требуются только время от времени или время ожидания заданий очень короткое, так как позволяет платить только за вычислительные ресурсы, когда они действительно используются. 

### <a name="app-service-plan"></a>План службы приложений

Если используется **план службы приложений**, приложения-функции выполняются на выделенных виртуальных машинах, так же как веб-приложения для SKU уровня "Базовый", "Стандартный" или "Премиум". Выделенные виртуальные машины назначаются вашим приложениям службы приложений и приложениям-функциям и всегда доступны вне зависимости от наличия активно выполняемого кода. Это хороший вариант в том случае, если у вас уже есть недозагруженные виртуальные машины, на которых выполняется другой код, или если вы планируете выполнять функции непрерывно или почти непрерывно. При использовании виртуальной машины затраты не зависят от времени выполнения и размера памяти. Это позволяет ограничить затраты на многие функции длительного выполнения до стоимости одной или нескольких виртуальных машин, на которых они выполняются.

## <a name="consumption-service-plan"></a>План обслуживания на основе потребления

План обслуживания на основе потребления автоматически масштабирует ресурсы ЦП и памяти путем добавления дополнительных экземпляров обработки в зависимости от потребностей среды выполнения функций в приложении-функции. Для каждого экземпляра обработки приложения-функции выделяется память объемом до 1,5 ГБ.

### <a name="runtime-scaling"></a>Масштабирование среды выполнения

Для оценки вычислительных потребностей в зависимости от настроенных триггеров и для принятия решения о развертывании или свертывании на платформе Функций Azure используется центральный прослушиватель. Он постоянно обрабатывает подсказки о требованиях к памяти и активирует определенные точки данных. Например, при активации хранилища очередей Azure точки данных содержат сведения о длине и времени ожидания для старой записи.

![](./media/functions-scale/central-listener.png)

Единицей масштабирования является приложение-функция. В этом случае развертывание подразумевает добавление нескольких экземпляров приложения-функции. И наоборот, при снижении потребности в вычислительных ресурсах экземпляры приложения-функции удаляются, что приводит к снижению их числа до нуля в случае отсутствия вычислений. 

### <a name="billing-model"></a>Модель выставления счетов

Выставление счетов для плана обслуживания на основе потребления подробно описано на [странице цен на Функции Azure](https://azure.microsoft.com/pricing/details/functions). Использование для каждого приложения функции учитывается только за время выполнения кода. Счета выставляются по следующим единицам: 
* **потребление ресурсов в ГБ/с (гигабайт на секунду)** вычисляется как сочетание объема памяти и времени выполнения для всех функций, выполняемых в приложении-функции; 
* **выполнения** вычисляются при каждом выполнении функции в ответ на событие, активированное привязкой.



<!--HONumber=Nov16_HO4-->


