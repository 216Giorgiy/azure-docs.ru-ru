---
title: "Создание функции обработки событий | Документация Майкрософт"
description: "Использование функций Azure для создания функции C#, которая срабатывает по таймеру событий."
services: functions
documentationcenter: na
author: ggailey777
manager: erikre
editor: 
tags: 
ms.assetid: 84bd0373-65e2-4022-bcca-2b9cd9e696f5
ms.service: functions
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 09/25/2016
ms.author: glenga
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: 2381b04e32a6d65075dadf04f717f4946ba4d464


---
# <a name="create-an-event-processing-azure-function"></a>Создание функции Azure для обработки событий
Функции Azure — это ориентированная на события среда вычислений по требованию, которая позволяет создавать выполняемые по расписанию или активируемые блоки кода, реализованные с помощью разных языков программирования. Дополнительные сведения о функциях Azure см. в статье [Обзор функций Azure](functions-overview.md).

В этой статье показано, как создать функцию на C#, которая добавляет сообщения в очередь хранилища, срабатывая по таймеру событий. 

## <a name="prerequisites"></a>Предварительные требования
Для создания функций необходима активная учетная запись Azure. Если у вас ее нет, воспользуйтесь [бесплатной учетной записью Azure](https://azure.microsoft.com/free/).

## <a name="create-a-timertriggered-function-from-the-template"></a>Создание активируемой по таймеру функции на основе шаблона
Выполнение функций в Azure происходит с помощью приложения функций. Для создания функций необходима активная учетная запись Azure. Если у вас ее нет, воспользуйтесь [бесплатной учетной записью Azure](https://azure.microsoft.com/free/). 

1. Перейдите на [портал функций Azure](https://functions.azure.com/signin) и войдите, используя свою учетную запись Azure.
2. Если у вас есть готовое приложение функций, выберите его из списка **приложений функций** и нажмите кнопку **Открыть**. Чтобы создать приложение-функцию, введите уникальное **имя** нового приложения-функции или воспользуйтесь созданным. Выберите предпочтительный **регион**, а затем щелкните **Создать и начать работу**. 
3. В приложении-функции щелкните **+ New Function** (Создать функцию) > **TimerTrigger - C#** > **Создать**. Таким образом будет создана функция с именем по умолчанию, которая выполняется согласно расписанию по умолчанию — каждую минуту. 
   
    ![Создание активируемой по таймеру функции](./media/functions-create-an-event-processing-function/functions-create-new-timer-trigger.png)
4. В разделе новой функции щелкните вкладку **Интеграция** > **Новые выходные данные** > **Очередь службы хранилища Azure** > **Выбрать**.
   
    ![Создание активируемой по таймеру функции](./media/functions-create-an-event-processing-function/functions-create-storage-queue-output-binding.png)
5. В разделе **выходных данных очереди службы хранилища Azure** выберите существующее **подключение к учетной записи хранения** или создайте новое, а затем нажмите кнопку **Сохранить**. 
   
    ![Создание активируемой по таймеру функции](./media/functions-create-an-event-processing-function/functions-create-storage-queue-output-binding-2.png)
6. Вернитесь на вкладку **Разработка**, замените существующий сценарий C# в окне **Код** следующим кодом:
    ```cs   
    using System;

    public static void Run(TimerInfo myTimer, out string outputQueueItem, TraceWriter log)
    {
        // Add a new scheduled message to the queue.
        outputQueueItem = $"Ping message added to the queue at: {DateTime.Now}.";

        // Also write the message to the logs.
        log.Info(outputQueueItem);
    }
    ```
   
    Этот код добавляет новое сообщение в очередь с текущей датой и временем выполнения функции.
7. Нажмите кнопку **Сохранить**. Следующее выполнение функции можно просмотреть в окне **Журналы**.
8. Перейдите к учетной записи хранения и убедитесь, что сообщения добавлены в очередь (необязательно).
9. Вернитесь на вкладку **Интеграция** и измените значение поля расписания на `0 0 * * * *`. Теперь функция будет выполняться каждый час. 

Это простой пример триггера таймера и выходной привязки очереди службы хранилища. Дополнительные сведения см. в статьях [Триггеры с таймерами в функциях Azure](functions-bindings-timer.md) и [Триггеры и привязки для службы хранилища Azure в функциях Azure](functions-bindings-storage.md).

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о функциях Azure см. в следующих статьях.

* [Справочник разработчика по функциям Azure](functions-reference.md)  
   Справочник программиста по созданию функций, а также определению триггеров и привязок.
* [Testing Azure Functions](functions-test-a-function.md)  
   Описание различных средств и методов тестирования функций.
* [Масштабирование функций Azure](functions-scale.md)  
   Обсуждение планов обслуживания, доступных для использования с Функциями Azure (включая динамический план обслуживания), а также выбор подходящего плана.  

[!INCLUDE [Getting Started Note](../../includes/functions-get-help.md)]




<!--HONumber=Nov16_HO2-->


