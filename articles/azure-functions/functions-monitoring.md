---
title: "Мониторинг Функций Azure | Документация Майкрософт"
description: "Сведения о мониторинге Функций Azure."
services: functions
documentationcenter: na
author: wesmc7777
manager: cfowler
editor: 
tags: 
keywords: "функции azure, функции, обработка событий, веб-перехватчики, динамические вычисления, независимая архитектура"
ms.assetid: 501722c3-f2f7-4224-a220-6d59da08a320
ms.service: functions
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/03/2016
ms.author: wesmc
ms.translationtype: HT
ms.sourcegitcommit: a0b98d400db31e9bb85611b3029616cc7b2b4b3f
ms.openlocfilehash: 3ab6123b6acfdec57f1ca71b404c9e1123d1ff6d
ms.contentlocale: ru-ru
ms.lasthandoff: 08/29/2017

---

# <a name="monitoring-azure-functions"></a>Мониторинг функций Azure

## <a name="overview"></a>Обзор 


На вкладке **Мониторинг** для каждой функции можно просматривать каждое ее выполнение.

![Вкладка "Мониторинг" Функций Azure](./media/functions-monitoring/monitor-tab.png) 

Если щелкнуть выполнение, можно просмотреть длительность, входные данные, ошибки и связанные файлы журнала. Это полезно для отладки и настройки производительности ваших функций.

> [!IMPORTANT]
> При использовании [плана потребления](functions-overview.md#pricing) для Функций Azure на плитке **Мониторинг** приложения-функции не отображаются какие-либо данные. Это связано с тем, что платформа самостоятельно динамически масштабирует вычислительные операции и управляет ими. Эти показатели не имеют смысла в плане потребления. Для мониторинга использования приложений-функций следуйте инструкциям, приведенным в этой статье.
> 
> На следующем снимке экрана показан пример.
> 
> ![Мониторинг функции](./media/functions-monitoring/app-service-overview-monitoring.png)


## <a name="real-time-monitoring"></a>Мониторинг в реальном времени

Чтобы выполнить мониторинг в реальном времени, щелкните ссылку **прямой поток событий**, как показано ниже. 

![Параметр "Прямой поток событий" на вкладке "Мониторинг"](./media/functions-monitoring/monitor-tab-live-event-stream.png)

Прямой поток событий отображается в виде диаграммы на новой вкладке браузера, как показано на следующем снимке экрана: 

![Пример прямого потока событий](./media/functions-monitoring/live-event-stream.png)


> [!NOTE]
> Есть известная проблема, из-за которой может произойти сбой заполнения данных. Если она возникнет, может потребоваться закрыть вкладку браузера с прямым потоком событий, а затем щелкнуть ссылку **прямой поток событий** еще раз, чтобы приложение правильно заполнило данные потока событий. 

На диаграмме потока событий будут представлены следующие статистические данные для функции:

* количество начатых выполнений в секунду;
* количество завершенных выполнений в секунду;
* количество выполнений, завершившихся сбоем, в секунду;
* среднее время выполнения в миллисекундах.

Эти статистические данные отображаются в режиме реального времени, но фактическое построение диаграммы данных выполнения может происходить с задержкой приблизительно в 10 секунд.


## <a name="monitoring-log-files-from-a-command-line"></a>Мониторинг файлов журнала из командной строки

Потоковую передачу файлов журнала в сеанс командной строки на локальной рабочей станции можно осуществлять с помощью Azure CLI 1.0 или PowerShell.

### <a name="monitoring-function-app-log-files-with-the-azure-cli-10"></a>Мониторинг файлов журнала приложения-функции с помощью Azure CLI 1.0

Чтобы начать работу, [установите Azure CLI 1.0](../cli-install-nodejs.md).

Войдите в учетную запись Azure, используя команду ниже или другие варианты, описанные в статье [Войдите в Azure из командной строки Azure](../xplat-cli-connect.md).

    azure login

При необходимости включите Azure CLI 1.0 в классическом режиме управления службами с помощью следующей команды:

    azure config mode asm

Если у вас несколько подписок, используйте следующие команды, чтобы вывести их список и настроить текущую подписку в качестве подписки, содержащую приложение-функцию.

    azure account list
    azure account set <subscriptionNameOrId>

Следующая команда выполняет потоковую передачу файлов журналов приложения-функции в командную строку:

    azure site log tail -v <function app name>

### <a name="monitoring-function-app-log-files-with-powershell"></a>Мониторинг файлов журнала приложения-функции с помощью PowerShell

Чтобы начать работу, [установите и настройте Azure PowerShell](/powershell/azure/overview).

Добавьте свою учетную запись Azure с помощью следующей команды:

    PS C:\> Add-AzureAccount

Если у вас несколько подписок, с помощью следующей команды можно вывести их список, отсортированный по имени, чтобы убедиться, что в данный момент выбрана правильная подписка, по свойству `IsCurrent`:

    PS C:\> Get-AzureSubscription

Если необходимо настроить активную подписку в качестве подписки, содержащей приложение-функцию, используйте следующую команду:

    PS C:\> Get-AzureSubscription -SubscriptionName "MyFunctionAppSubscription" | Select-AzureSubscription

Передайте журналы в сеанс PowerShell с помощью следующей команды:

    PS C:\> Get-AzureWebSiteLog -Name MyFunctionApp -Tail

Дополнительные сведения см. в разделе [Практическое руководство. Потоковая передача журналов](../app-service-web/web-sites-enable-diagnostic-log.md#streamlogs). 

## <a name="next-steps"></a>Дальнейшие действия
Для получения дополнительных сведений см. следующие ресурсы:

* [Тестирование функции](functions-test-a-function.md)
* [Масштабирование функции](functions-scale.md)


