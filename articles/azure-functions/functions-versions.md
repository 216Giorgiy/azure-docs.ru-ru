---
title: "Выбор целевых версий среды выполнения Функций Azure | Документация Майкрософт"
description: "Функции поддерживают разные версии среды выполнения. В этой статье описано, как указать версию среды выполнения приложения-функции, размещенного в Azure."
services: functions
documentationcenter: 
author: ggailey777
manager: cfowler
editor: 
ms.service: functions
ms.workload: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2017
ms.author: glenga
ms.openlocfilehash: 26d4276a0a550d78a9c7657c464bd3320c956fb0
ms.sourcegitcommit: 54fd091c82a71fbc663b2220b27bc0b691a39b5b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2017
---
# <a name="how-to-target-azure-functions-runtime-versions"></a>Выбор целевых версий среды выполнения Функций Azure

Среда выполнения Функций Azure реализует бессерверное выполнение кода в Azure. Эта среда выполнения доступна в разных средах, отличных от размещенных в Azure. [Основные инструменты службы "Функции Azure"](functions-run-local.md) реализуют ее на вашем компьютере для разработки. [Среды выполнения Функций Azure](functions-runtime-overview.md) позволяют использовать Функции в локальных средах. 

Служба "Функции" поддерживает разные основные версии среды выполнения. Обновление основной версии может включать важные изменения. В этом разделе описано, как можно выбрать для приложений-функций определенную версию среды выполнения при размещении в Azure. 

В службе "Функции" вы можете выбрать определенную основную версию среды выполнения с помощью параметра приложения `FUNCTIONS_EXTENSION_VERSION` в приложении-функции. Это параметр применяется как в общедоступной, так и в предварительной версии. Приложение-функция будет работать в указанной основной версии среды выполнения, пока вы явно не переместите его в новую версию. Приложение-функция обновится до новых вспомогательных версий среды выполнения, когда они станут доступны. Вспомогательные версии не включают критически важные обновления.  

Когда новая основная версия станет общедоступной, вы сможете воспользоваться ею при просмотре приложения-функции на портале. Перейдя на новую версию среды выполнения, вы всегда сможете вернуться к предыдущей версии с помощью параметра приложения `FUNCTIONS_EXTENSION_VERSION`.

Любое изменение версии среды выполнения вызывает перезапуск приложения-функции. Заметки о выпуске для всех версий среды выполнения (основной и вспомогательной) опубликованы в [репозитории GitHub](https://github.com/Azure/azure-webjobs-sdk-script/releases).   
## <a name="view-the-current-runtime-version"></a>Просмотр текущей версии среды выполнения

Выполните следующую процедуру, чтобы узнать, какую версию среды выполнения сейчас использует приложение-функция. 

1. На [портале Azure](https://portal.azure.com) перейдите к приложению-функции и в разделе **Настроенные функции** выберите **Параметры приложения-функции**. 

    ![Выбор параметров приложения-функции](./media/functions-versions/add-update-app-setting.png)

2. На вкладке **Параметры приложения-функции** найдите **версию среды выполнения**. Укажите определенную версию среды выполнения и требуемую основную версию. В следующем примере номер основной номер — `~1.0`.
 
   ![Выбор параметров приложения-функции](./media/functions-versions/function-app-view-version.png)

## <a name="target-the-functions-version-20-runtime"></a>Выбор среды выполнения службы "Функции" версии 2.0

>[!IMPORTANT]   
> Среда выполнения Функций Azure версии 2.0 доступна в предварительной версии. Сейчас поддерживаются не все возможности Функций Azure. Дополнительные сведения см. в статье [Azure Functions runtime 2.0 known issues](https://github.com/Azure/azure-webjobs-sdk-script/wiki/Azure-Functions-runtime-2.0-known-issues) (Известные проблемы в среде выполнения Функций Azure версии 2.0).  

<!-- Add a table comparing the 1.x and 2.x runtime features-->

[!INCLUDE [functions-set-runtime-version](../../includes/functions-set-runtime-version.md)]

Вы можете переместить функцию-приложение в среду выполнения предварительной версии 2.0 с помощью портала Azure. На вкладке **Параметры приложения-функции** выберите **Бета-версия** в разделе **Версия среды выполнения**.  

   ![Выбор параметров приложения-функции](./media/functions-versions/function-app-view-version.png)

Это значение соответствует значению `beta` параметра приложения `FUNCTIONS_EXTENSION_VERSION`. Нажмите кнопку **~1**, чтобы вернуться к текущей общедоступной основной версии. Обновить этот параметр приложения можно также с помощью Azure CLI. 

## <a name="target-a-specific-runtime-version-from-the-portal"></a>Выбор определенной версии среды выполнения на портале

Если вам нужно выбрать основную версию, отличную от текущей основной версии или версии 2.0, задайте параметр приложения `FUNCTIONS_EXTENSION_VERSION`.

1. На [портале Azure](https://portal.azure.com) перейдите в приложение-функцию и в разделе **Настроенные функции** выберите **Параметры приложения**.

    ![Выбор параметров приложения-функции](./media/functions-versions/add-update-app-setting1a.png)

2. На вкладке **Параметры приложения** найдите параметр `FUNCTIONS_EXTENSION_VERSION` и укажите значение допустимой основной версии среды выполнения (для версии 1.x) или значение `beta` (для версии 2.0). 

    ![Установка параметра функции-приложения](./media/functions-versions/add-update-app-setting2.png)

3. Нажмите кнопку **Сохранить**, чтобы сохранить обновленную настройку приложения. 

## <a name="target-a-specific-version-using-azure-cli"></a>Выбор определенной целевой версии с помощью Azure CLI

 Параметр `FUNCTIONS_EXTENSION_VERSION` также можно задать с помощью Azure CLI. Используя Azure CLI, обновите параметр приложения в приложении-функции с помощью команды [az functionapp config appsettings set](/cli/azure/functionapp/config/appsettings#set).

```azurecli-interactive
az functionapp config appsettings set --name <function_app> \
--resource-group <my_resource_group> \
--settings FUNCTIONS_EXTENSION_VERSION=<version>
```
В этом коде следует заменить `<function_app>` именем приложения-функции. Также замените `<my_resource_group>` именем группы ресурсов для приложения-функции. Замените `<version>` значением допустимой основной версии среды выполнения (для версии 1.x) или значением `beta` (для версии 2.0). 

Эту команду можно выполнить в [Azure Cloud Shell](../cloud-shell/overview.md), выбрав **Попробовать** в предыдущем примере кода. Также можно использовать [Azure CLI локально](/cli/azure/install-azure-cli) для выполнения этой команды после выполнения команды [az login](/cli/azure#az_login) для входа.
