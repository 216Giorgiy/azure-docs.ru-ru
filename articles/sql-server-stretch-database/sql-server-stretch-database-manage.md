<properties
	pageTitle="Управление растяжением баз данных и устранение неполадок | Microsoft Azure"
	description="Узнайте, как управлять растяжением баз данных и устранять неполадки."
	services="sql-server-stretch-database"
	documentationCenter=""
	authors="douglasl"
	manager="jhubbard"
	editor="monicar"/>

<tags
	ms.service="sql-server-stretch-database"
	ms.workload="data-management"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="02/26/2016"
	ms.author="douglasl"/>

# Управление растяжением баз данных и устранение неполадок

Для управления растяжением баз данных и устранения неполадок используйте средства и методы, описанные в этом разделе.

## <a name="LocalInfo"></a>Получение информации о локальных базах данных и таблицах, для которых включено растяжение базы данных
Откройте представления каталога **sys.databases** и **sys.tables** для просмотра сведений о базах данных и таблицах SQL Server, для которых включено растяжение базы данных. Дополнительные сведения см. в разделах [sys.databases (Transact-SQL)](https://msdn.microsoft.com/library/ms178534.aspx) и [sys.tables (Transact-SQL)](https://msdn.microsoft.com/library/ms187406.aspx).

## <a name="RemoteInfo"></a>Получение информации об удаленных базах данных и таблицах, для которых включено растяжение базы данных
Откройте представления каталога **sys.remote\_data\_archive\_databases** и **sys.remote\_data\_archive\_tables** для просмотра сведений о базах данных и таблицах, в которых хранятся перенесенные данные. Дополнительные сведения см. в разделах [sys.remote\_data\_archive\_databases (Transact-SQL)](https://msdn.microsoft.com/library/dn934995.aspx) и [sys.remote\_data\_archive\_tables (Transact-SQL)](https://msdn.microsoft.com/library/dn935003.aspx).

## Проверка применения предиката фильтра к таблице
Откройте представление каталога **sys.remote\_data\_archive\_tables** и проверьте значение столбца **filter\_predicate**. Если значение равно null, то всю таблицу можно перенести. Дополнительные сведения см. в разделе [sys.remote\_data\_archive\_tables (Transact-SQL)](https://msdn.microsoft.com/library/dn935003.aspx).

## <a name="Migration"></a>Проверка состояния переноса данных
Выберите **Задачи | Растяжение | Мониторинг** для базы данных в SQL Server Management Studio для отслеживания миграции данных в мониторе растяжения базы данных. Дополнительные сведения см. в разделе [Мониторинг и устранение неполадок переноса данных (растяжение баз данных)](sql-server-stretch-database-monitor.md).

Или откройте динамическое представление управления **sys.dm\_db\_rda\_migration\_status**, чтобы увидеть, сколько пакетов и строк данных были перенесены.

## Повысьте уровень производительности ресурсоемких операций в Azure, таких как индексирование.
При сборке, повторной сборке или реорганизации индекса для большой таблицы, для которой включено растяжение базы данных, следует увеличить уровень производительности соответствующей удаленной базы данных в течение этой операции.

## Не изменяйте схему удаленной таблицы.
Не изменяйте схему удаленной таблицы Azure, связанной с таблицей SQL Server, для которой настроено растяжение базы данных. В частности, не изменяйте имя и тип данных столбца. Функция растяжения базы данных делает различные предположения в отношении схемы удаленной таблицы по отношению к схеме таблицы SQL Server. При изменении схемы удаленной таблицы растяжение базы данных для измененной таблицы перестает работать.

## <a name="Firewall"></a>Устранение неполадок переноса данных
Предложения по устранению неполадок см. в разделе [Мониторинг и устранение неполадок переноса данных (растяжение баз данных)](sql-server-stretch-database-monitor.md).

## Решение проблем с производительностью запросов
**Запросы, которые включают таблицу, для которой включено растяжение баз данных, выполняются медленно.** Запросы, которые включают таблицу, для которой включено растяжение баз данных, должны выполняться медленнее, чем раньше — до включения растяжения баз данных. Если производительность запросов значительно снизилась, просмотрите следующие возможные проблемы.

-   Находится ли сервер Azure находится в другом географическом регионе по сравнению с сервером SQL Server? Настройте сервер Azure, так чтобы он находился в одном географическом регионе с SQL Server для снижения задержки в сети.

-   Возможно ухудшение характеристик работы сети. Обратитесь к администратору сети для получения сведений о последних неполадках или простоях.

## См. также
[Мониторинг растяжения баз данных](sql-server-stretch-database-monitor.md) [Резервное копирование и восстановление баз данных, для которых включено растяжение](sql-server-stretch-database-backup.md)

<!---HONumber=AcomDC_0302_2016-->