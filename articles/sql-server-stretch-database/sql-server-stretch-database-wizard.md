<properties
	pageTitle="Начало работы с запуском мастера ";Включение базы данных Stretch"; | Microsoft Azure"
	description="Узнайте, как настроить растяжение для базы данных, запустив мастер включения растяжения базы данных."
	services="sql-server-stretch-database"
	documentationCenter=""
	authors="douglaslMS"
	manager=""
	editor=""/>

<tags
	ms.service="sql-server-stretch-database"
	ms.workload="data-management"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="hero-article"
	ms.date="02/26/2016"
	ms.author="douglasl"/>

# Начало работы с запуска мастера "Включение базы данных Stretch"

Для настройки растяжения базы данных запустите мастер "Включение базы данных для растяжения". В этом разделе описываются сведения, которые необходимо ввести, и варианты, которые необходимо выбрать в мастере.

Дополнительные сведения о растяжении баз данных см. в разделе [Растяжение баз данных](sql-server-stretch-database-overview.md).

## Запуск мастера

1.  В среде SQL Server Management Studio в обозревателе объектов выберите базу данных, для которой необходимо включить растяжение.

2.  Щелкните по этой базе данных правой кнопкой мыши и выберите **Задачи**, затем **Растяжение** и **Включить** для запуска мастера.

## <a name="Intro"></a>Введение
Проверьте назначение мастера и необходимые компоненты.

![Вводная страница в мастере базы данных Stretch][StretchWizardImage1]

## <a name="Tables"></a>Выбор таблиц
Выберите таблицы, которые необходимо включить для растяжения.

![Страница выбора таблиц в мастере базы данных Stretch][StretchWizardImage2]

|столбец|Описание|
|----------|---------------|
|(без названия)|Установите флажок в этом столбце для включения растяжения для выбранной таблицы.|
|**Имя**|Указывает имя столбца в таблице.|
|(без названия)|Символ в этом столбце обычно означает, что растяжение для выбранной таблицы включить невозможно из-за критических препятствий. Это может быть вызвано тем, что в таблице используется неподдерживаемый тип данных. Наведите указатель мыши на символ для отображения дополнительных сведений во всплывающей подсказке. Дополнительные сведения см. в статье [Ограничения контактной зоны и критические препятствия для использования базы данных Stretch](sql-server-stretch-database-limitations.md).|
|**Растяжение включено**|Указывает, включено ли уже растяжение для таблицы.|
|**Миграция**|В версии-кандидате 3 можно перенести всю таблицу (**Entire Table**) или указать предикат фильтра на основе даты. Если вы хотите использовать для выбора строк при миграции другой предикат фильтра, после выхода из мастера выполните инструкцию ALTER TABLE и укажите нужный предикат фильтра. Дополнительную информацию о предикате фильтра см. в статье [Выбор строк для переноса с помощью предиката фильтра (база данных Stretch)](sql-server-stretch-database-predicate-function.md). Дополнительные сведения об использовании предиката вы найдете в статье [Включение растяжения базы данных для таблицы](sql-server-stretch-database-enable-table.md) и в описании инструкции [ALTER TABLE (Transact-SQL)](https://msdn.microsoft.com/library/ms190273.aspx).|
|**строки**|Указывает количество строк в таблице.|
|**Размер (КБ)**|Указывает размер таблицы в КБ.|

## <a name="Filter"></a>Необязательный предикат фильтра на основе даты

Если вы хотите указать предикат фильтра на основе даты для выбора строк при миграции, следует выполнить следующие действия на странице **Выбор таблиц**.

1.  В списке **Выберите таблицы, которые нужно растянуть** выберите для нужной таблицы значение **Вся таблица**. Откроется диалоговое окно **Выбор строк для растягивания**.

    ![Определение предиката фильтра на основе даты][StretchWizardImage2a]

2.  В диалоговом окне **Выбор строк для применения растягивания** выберите элемент **Выбор строк**.

3.  В поле **Имя поля** укажите имя для предиката фильтра.

4.  В условии **Where** выберите столбец даты из таблицы, выберите оператор и укажите значение даты.

5. Щелкните **Проверка** для тестирования предиката. Тест будет считаться пройденным **Успешно**, если заданный предикат возвращает из таблицы результаты, то есть существуют строки, которые соответствуют указанному условию.

6.  Нажмите кнопку "Готово", чтобы вернуться к странице **Выбор таблиц**.

    ![Страница "Выбор таблиц" после определения предиката фильтра][StretchWizardImage2b]

## <a name="Configure"></a>Настройка развертывания в Azure

1.  Войдите в Microsoft Azure с учетной записью Майкрософт.

    ![Вход в Azure — мастер базы данных Stretch][StretchWizardImage3]

2.  Выберите подписку Azure для использования при растяжении базы данных.

3.  Выберите регион Azure. Новый сервер будет создан в этом регионе.

    Чтобы свести к минимуму задержки, выберите регион Azure, в котором находится ваш сервер SQL Server. Дополнительные сведения о регионах см. в статье [Регионы Azure](https://azure.microsoft.com/regions/).

4.  Укажите, следует ли использовать существующий сервер или создать новый сервер Azure.

    Если Active Directory на сервере SQL Server включена в федерацию с Azure Active Directory, то для взаимодействия с удаленным сервером Azure при необходимости можно использовать учетную запись службы федерации для SQL Server. Дополнительные сведения о требованиях для этого параметра см. в статье [Параметры инструкции ALTER DATABASE SET (Transact-SQL)](https://msdn.microsoft.com/library/bb522682.aspx).

	-   **Создание сервера**

        1.  Создайте имя входа и пароль администратора сервера.

        2.  При необходимости используйте учетную запись службы федерации для SQL Server для взаимодействия с удаленным сервером Azure.

		![Создание нового сервера Azure — мастер базы данных Stretch][StretchWizardImage4]

    -   **Существующий сервер**

        1.  Выберите или введите имя существующего сервера Azure.

        2.  Выберите метод проверки подлинности.

            -   При выборе элемента **Проверка подлинности SQL Server** создайте новое имя входа и пароль.

            -   Выберите **Встроенная проверка подлинности Active Directory**, чтобы использовать для взаимодействия с удаленным сервером Azure федеративную учетную запись службы для SQL Server.

		![Выбор существующего сервера Azure — мастер базы данных Stretch][StretchWizardImage5]

## <a name="Credentials"></a>Защита учетных данных
Введите надежный пароль, чтобы создать главный ключ базы данных, или если главный ключ базы данных уже существует, введите пароль для него.

У вас должен быть главный ключ базы данных для защиты учетных данных, используемых для подключения к удаленной базе данных, использующей растяжение базы данных.

![Страница защиты учетных данных в мастере базы данных Stretch][StretchWizardImage6]

Дополнительные сведения о главном ключе базы данных см. в статьях [Инструкция CREATE MASTER KEY (Transact-SQL)](https://msdn.microsoft.com/library/ms174382.aspx) и [Создание главного ключа базы данных](https://msdn.microsoft.com/library/aa337551.aspx). Дополнительные сведения об учетных данных, создаваемых мастером, см. в статье [Инструкция CREATE DATABASE SCOPED CREDENTIAL (Transact-SQL)](https://msdn.microsoft.com/library/mt270260.aspx).

## <a name="Network"></a>Выбор IP-адреса
Используйте общедоступный IP-адрес вашего сервера SQL Server или введите диапазон IP-адресов, чтобы создать правило брандмауэра в Azure, которое позволит SQL Server обмениваться данными с удаленным сервером Azure.

Используя указанные на этой странице IP-адреса, сервер Azure пропускает входящие данные, запросы и операции управления, инициированные сервером SQL Server, через брандмауэр Azure. Мастер не изменяет параметры брандмауэра на сервере SQL Server.

![Страница выбора IP-адреса в мастере базы данных Stretch][StretchWizardImage7]

## <a name="Summary"></a>Сводка
Просмотрите введенные значения и параметры, выбранные в мастере. Затем нажмите кнопку **Готово**, чтобы включить базу данных Stretch.

![Страница сводных данных в мастере базы данных Stretch][StretchWizardImage8]

## <a name="Results"></a>Результаты
Просмотрите результаты.

Чтобы начать отслеживание переноса данных в мониторе базы данных Stretch, выберите **Мониторинг**. Дополнительные сведения см. в статье [Мониторинг и устранение неполадок переноса данных (база данных Stretch)](sql-server-stretch-database-monitor.md).

## <a name="KnownIssues"></a>Устранение неполадок мастера
**Мастер растяжения базы данных завершил работу неудачно.** Если растяжение баз данных еще не включено на уровне сервера системным администратором и вы запускаете мастер, то его работа завершится неудачно. Попросите системного администратора включить растяжение базы данных на экземпляре локального сервера и затем снова запустите мастер. Дополнительные сведения см. в разделе [Необходимое условие: разрешение на включение растяжения базы данных на сервере](sql-server-stretch-database-enable-database.md#EnableTSQLServer).

## Дальнейшие действия
Включите растяжение базы данных в других таблицах. Отслеживайте миграцию данных и управляйте базами данных и таблицами, для которых включено растяжение.

-   Выполните инструкции из статьи [Включение растяжения базы данных для таблицы](sql-server-stretch-database-enable-table.md), чтобы применить Stretch для дополнительных таблиц.

-   Проверка состояния переноса данных описана в статье [Мониторинг и устранение неполадок переноса данных (база данных Stretch)](sql-server-stretch-database-monitor.md).

-   [Приостановите и возобновите растяжение баз данных](sql-server-stretch-database-pause.md)

-   [Управляйте растяжением баз данных и устраняйте неполадки](sql-server-stretch-database-manage.md)

-   [Выполняйте резервное копирование и восстановление баз данных, для которых включено растяжение](sql-server-stretch-database-backup.md)

## См. также

[Включение растяжения базы данных для базы данных](sql-server-stretch-database-enable-database.md)

[Включение растяжения базы данных для таблицы](sql-server-stretch-database-enable-table.md)

[StretchWizardImage1]: ./media/sql-server-stretch-database-wizard/stretchwiz1.png
[StretchWizardImage2]: ./media/sql-server-stretch-database-wizard/stretchwiz2.png
[StretchWizardImage2a]: ./media/sql-server-stretch-database-wizard/stretchwiz2a.png
[StretchWizardImage2b]: ./media/sql-server-stretch-database-wizard/stretchwiz2b.png
[StretchWizardImage3]: ./media/sql-server-stretch-database-wizard/stretchwiz3.png
[StretchWizardImage4]: ./media/sql-server-stretch-database-wizard/stretchwiz4.png
[StretchWizardImage5]: ./media/sql-server-stretch-database-wizard/stretchwiz5.png
[StretchWizardImage6]: ./media/sql-server-stretch-database-wizard/stretchwiz6.png
[StretchWizardImage7]: ./media/sql-server-stretch-database-wizard/stretchwiz7.png
[StretchWizardImage8]: ./media/sql-server-stretch-database-wizard/stretchwiz8.png

<!---HONumber=AcomDC_0420_2016-->