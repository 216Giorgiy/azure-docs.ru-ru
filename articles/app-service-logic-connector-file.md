<properties 
	pageTitle="Соединитель File"
	description="Начало работы с соединителем File"
	authors="anuragdalmia" 
	manager="dwrede" 
	editor="" 
	services="app-service\logic" 
	documentationCenter=""/>

<tags
	ms.service="app-service-logic"
	ms.workload="integration"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="04/09/2015"
	ms.author="andalmia"/>

# Использование соединителя File в приложении логики #

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока. 

Соединитель File позволяет передавать, загружать и удалять файлы из файловой системы на хост-компьютере.

## Создание соединителя File для приложения логики ##
Чтобы использовать соединитель File, сначала нужно создать экземпляр приложения API соединителя File. Это можно сделать следующим образом.

1.	Откройте Azure Marketplace, нажав кнопку "+ СОЗДАТЬ" в нижнем левом углу портала Azure.
2.	Перейдите к "Web и Mobile > Azure Marketplace" и выполните поиск элемента "Соединитель File".
3.	Настройте соединитель File следующим образом.
 
	![][1]
 
	- **Имя** - задайте имя для соединителя File.
	- **Параметры пакета**
		- **Корневая папка** - укажите путь к корневой папке на хост-компьютере. Например, D:\FileConnectorTest
		- **Строка подключения служебной шины** - предоставляет строку подключения служебной шины. Убедитесь, что используется пространство имен служебной шины стандартного типа, НЕ базового
	- **План службы приложений** - выберите или создайте план службы приложений.
	- **Ценовая категория** - выберите ценовую категорию для соединителя.
	- **Группа ресурсов** - выберите или создайте группу ресурсов, в которой следует разместить соединитель.
	- **Подписка** - выберите подписку, в которой нужно создать соединитель.
	- **Расположение** - выберите географическое расположение, где планируется развернуть соединитель.

4. Нажмите кнопку "Создать". Будет создан новый соединитель File.
5. После создания экземпляра приложения API перейдите к ее панели мониторинга. Это можно сделать, выбрав "Обзор -> Приложения Api -> Выбрать приложение API соединителя File".
6. На панели мониторинга соединителя File в элементе "Гибридное подключение" отобразится "Локальная установка не завершена". Для завершения гибридной установки откройте эту панель мониторинга с хост-компьютера, к файловой системе которого нужно подключиться. Затем нажмите элемент "Гибридное подключение". В открывшейся области "Гибридное подключение" щелкните ссылку "Загрузить и настроить" для установки локального диспетчера гибридного подключения.

	![][2]

7. Будет запущен установщик с запросом ввода значения "Строка подключения прослушивания реле". Скопируйте значение "Строка подключения прослушивания реле" из области "Гибридное подключение" и вставьте его. Нажмите "Установить".

	![][3]

8. Чтобы убедиться в успешной установке гибридного подключения, повторно откройте панель мониторинга соединителя File. В строке "Состояние гибридного подключения" отобразится "Подключено".

	![][4]

## Использование соединителя File в приложении логики ##
После создания приложения API можно использовать соединитель File как действие для приложения логики. Для этого необходимо выполнить следующие действия.

1.	Создайте новое приложение логики и выберите ту же группу ресурсов, которую имеет соединитель File. Следуйте инструкциям, чтобы [Создать новое приложение логики].  	
	
2.	Откройте раздел "Триггеры и действия" в созданном приложении логики, чтобы открыть конструктор приложений логики и настроить поток.  	
	
3.	Соединитель File отображается в разделе "Приложения API в этой группе ресурсов" в коллекции с правой стороны.
 	
4.	В редакторе можно удалить приложение API соединителя File, щелкнув "Соединитель File". Соединитель File предоставляет 1 триггер и 4 действия.
 
	![][5]

6.	Каждый из них демонстрирует определенные свойства. На следующем рисунке представлен список свойств для триггера и действия получения файла
 
	![][6]

7. После настройки этих свойств триггер и действие могут использоваться в потоке. Аналогичным образом можно настроить другие действия.

8. Для использования соединителя вне приложения логики можно использовать интерфейсы API REST, предоставляемые соединителем. Вы можете просматривать определения API, выбрав "Обзор -> Приложения Api -> Выбрать приложение API соединителя File". Теперь нажмите элемент "Определение API" в разделе "Сводные данные" для просмотра всех API, предоставляемых этим соединителем.

	![][7]

9. Подробные сведения об интерфейсах API см. в разделе [Определение API соединителя File].

<!-- Image reference -->
[1]: ./media/app-service-logic-connector-file/img1.PNG
[2]: ./media/app-service-logic-connector-file/img2.PNG
[3]: ./media/app-service-logic-connector-file/img3.PNG
[4]: ./media/app-service-logic-connector-file/img4.PNG
[5]: ./media/app-service-logic-connector-file/img5.PNG
[6]: ./media/app-service-logic-connector-file/img6.PNG
[7]: ./media/app-service-logic-connector-file/img7.PNG

<!-- Links -->
[Создать новое приложение логики]: app-service-logic-create-a-logic-app.md
[Определение API соединителя File]: https://msdn.microsoft.com/en-US/library/dn936296.aspx

<!--HONumber=52-->