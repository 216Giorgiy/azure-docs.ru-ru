---
title: Обновление существующего назначения Azure Blueprint
description: Узнайте, как обновить существующее назначение в Azure Blueprint.
services: blueprints
author: DCtheGeek
ms.author: dacoulte
ms.date: 09/18/2018
ms.topic: conceptual
ms.service: blueprints
manager: carmonm
ms.openlocfilehash: ecac0fb21a6691874d5e8db49eadd7114d41845f
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "46956206"
---
# <a name="how-to-update-an-existing-blueprint-assignment"></a>Обновление существующего назначения схемы

Когда схема назначена, это назначение можно обновить. Существуют разные причины для обновления существующего назначения, в том числе:

- добавление или удаление [блокировки ресурсов](../concepts/resource-locking.md);
- изменение значений [динамических параметров](../concepts/parameters.md#dynamic-parameters);
- обновление назначения до новой **опубликованной** версии схемы.

## <a name="updating-assignments"></a>Обновление назначений

1. Запустите службу Azure Blueprint на портале Azure. Для этого щелкните **Все службы**, а затем найдите и выберите пункт **Политика** в левой панели. На странице **Политика** нажмите кнопку **Схемы**.

1. Выберите **Назначенные схемы** на странице слева.

1. В списке схем щелкните левой кнопкой мыши назначение схемы, а затем нажмите кнопку **Обновить назначение** или щелкните правой кнопкой мыши назначение схемы и выберите пункт **Обновить назначение**.

   ![Обновление назначения](../media/update-existing-assignments/update-assignment.png)

1. Страница **Назначение схемы** загружается предварительно заполненной всеми значениями из исходного назначения. Вы можете изменить **версию определения схемы**, состояние **блокировки назначения** и любые динамические параметры в определении схемы. Внеся необходимые изменения, нажмите кнопку **Назначить**.

1. Просмотрите новое состояние на странице сведений об обновленном назначении. В этом примере мы добавили в назначение **блокировку**.

   ![Обновленное назначение°— заблокировано](../media/update-existing-assignments/updated-assignment.png)

1. Ознакомьтесь со сведениями о других **операциях назначения**, используя раскрывающийся список. Таблица **управляемых ресурсов** обновляется при выборе операции назначения.

   ![Операции назначения](../media/update-existing-assignments/assignment-operations.png)

## <a name="rules-for-updating-assignments"></a>Правила обновления назначений

Развертывание обновленных назначений выполняется в соответствии с несколькими важными правилами. Эти правила определяют, что происходит с существующим ресурсом в зависимости от запрошенного изменения, и тип разворачиваемого или обновляемого ресурса артефакта.

- Назначения ролей
  - Если роль или получатель роли (пользователь, группа или приложение) изменяется, создается новое назначение роли. Ранее развернутое назначение роли остается на месте.
- Назначения политик
  - Если изменяются параметры назначения политики, существующее назначение обновляется.
  - Если изменяется определение назначения политики, создается новое назначение политики. Ранее развернутое назначение политики остается на месте.
  - Если артефакт назначения политики удаляется из схемы, ранее развернутое назначение политики остается на месте.
- Шаблоны Azure Resource Manager
  - Шаблон обрабатывается с помощью Resource Manager как **PUT**. Так как каждый тип ресурсов обрабатывается по-разному, просмотрите документацию для каждого включенного ресурса, чтобы определить влияние этого действия при его выполнении схемой.

## <a name="possible-errors-on-updating-assignments"></a>Возможные ошибки при обновлении назначений

При обновлении назначений можно внести изменения, которые прервутся при выполнении. В качестве примера такой ситуации можно привести изменение расположения группы ресурсов после того, как она уже была развернута. Можно вносить любые изменения, которые поддерживаются [Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md), но те изменения, которые могут вызвать ошибку в Azure Resource Manager, приведут к сбою назначения.

Назначение можно обновлять сколько угодно. Таким образом, если возникает ошибка (например, использовался недопустимый параметр, или объект уже существует, или Azure Resource Manager отклонил изменение), определите эту ошибку и выполните другое обновление назначения.

## <a name="next-steps"></a>Дополнительная информация

- Ознакомьтесь с [жизненным циклом схемы](../concepts/lifecycle.md)
- Узнайте, как использовать [статические и динамические параметры](../concepts/parameters.md)
- Научитесь настраивать [последовательность схемы](../concepts/sequencing-order.md)
- Узнайте, как применять [блокировку ресурсов схемы](../concepts/resource-locking.md)
- Устраняйте проблемы, возникающие во время назначения схемы, с помощью [общих инструкций по устранению неполадок](../troubleshoot/general.md)
