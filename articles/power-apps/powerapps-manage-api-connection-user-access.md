<properties
	pageTitle="Добавление и создание нового API и предоставление пользователям доступа в PowerApps | Microsoft Azure"
	description="Добавление, создание и настройка нового API, подключения или профиля подключений и предоставление пользователям разрешений, прав и доступа на портале Azure."
	services=""
    suite="powerapps"
	documentationCenter="" 
	authors="MandiOhlinger"
	manager="dwrede"
	editor=""/>

<tags
   ms.service="powerapps"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="11/25/2015"
   ms.author="litran"/>


# Добавление нового интерфейса API, добавление подключения и предоставление доступа пользователям

API существуют в [среде службы приложений](powerapps-get-started-azure-portal.md). Вы можете создавать API-интерфейсы из доступных API для PowerApps, приложений API, размещенных в среде службы приложений, а также из Swagger 2.0. Существует много готовых API, которые можно легко добавить в PowerApps. Кроме того, вы можете загрузить в него собственный API в формате JSON или Swagger 2.0.

Содержание раздела

- Инструкции по добавлению API в PowerApps и предоставлению пользователям вашей компании разрешений на использование API, включая изменение его свойств.
- Инструкции по добавлению подключения к API и предоставлению пользователям вашей компании разрешений на использование этого подключения.


#### Предварительные требования для начала работы

- Включите [PowerApps в подписке Azure](powerapps-get-started-azure-portal.md).
- Создание [среды службы приложений](powerapps-get-started-azure-portal.md).
- Создайте API с помощью одного из следующих методов:  
	- Создайте [API, управляемый корпорацией Майкрософт, или API, управляемый ИТ-службой](powerapps-register-from-available-apis.md).
	- Создайте API, размещенный в [среде службы приложений](powerapps-register-api-hosted-in-app-service.md).
	- Создайте API с помощью [определения API Swagger 2.0](powerapps-register-existing-api-from-api-definition.md).


## Предоставление пользователям доступа к API
Теперь, когда API создан и добавлен в среду службы приложений, предоставьте пользователям вашей компании разрешение на его использование.

1. В PowerApps выберите **Управление API**, а затем нужный API. Например, если вы создали API *MS Power BI*, выберите его, чтобы открыть соответствующую колонку. Выберите **Управление доступом пользователей к API**: ![][1]  

2. Нажмите **Добавить**, чтобы добавить пользователей, и выберите права. После этого нажмите **Добавить**, чтобы сохранить изменения. Число пользователей или групп увеличивается в окне **Доступ пользователей к API**.


## Добавление нового подключения в API
Следующий шаг — это создание "подключения" к API, имеющего вид строки подключения. Это позволит API успешно подключаться к серверной системе. В общедоступной предварительной версии PowerApps Enterprise можно добавлять и настраивать только подключение SQL Server. Возможности этой версии продолжают расширяться.

- [Создание подключения SQL Server](powerapps-create-api-sqlserver.md)

## Предоставление пользователям доступа к среде выполнения для подключения
Теперь предоставьте пользователям в вашей компании разрешения на использование подключения.

1. Откройте API, выберите **Подключения**, а затем нужное подключение. Откроется новая колонка, в верхней части которой будет указано имя подключения. 
2. В новой колонке выберите **Доступ пользователей к подключению**. В следующем примере выбрано подключение **Гибридный туннель**. Откроется новая колонка, в которой нужно выбрать **Доступ пользователей к подключению**: ![][2]
  
3. В колонке **Доступ пользователей к подключению** выберите **Добавить**, а затем щелкните разрешение, которое нужно предоставить: ![][3]
  
4. Добавьте пользователя или группу. Нажмите **Добавить**, чтобы сохранить изменения.

Теперь, когда пользователи получили разрешения на доступ к API и его подключению, они могут добавлять эти API в свои приложения, создаваемые в PowerApps. В частности:

- Пользователи могут просматривать API, перечисленные в PowerApps в разделе **Доступные подключения**.
- Пользователи могут увидеть подключение в PowerApps в разделе **Мои подключения**.


## Удаление API
Вы можете удалить добавленный ранее API. В PowerApps выберите **Управление API**, нужный API, а затем параметр **Удалить**: ![][4]


## Сводка и дальнейшие действия
Содержание раздела

- Вы добавили API и предоставили пользователям вашей компании права на его использование. Кроме того, вы можете использовать эти инструкции для управления доступом к среде выполнения. Например, если пользователь А покинет компанию, вы легко сможете удалить предоставленные ему разрешения на портале Azure. Тот же принцип применяется, если к компании присоединится пользователь B.
- Добавили подключение (имеющее вид строки подключения). Этот шаг позволяет API, размещенному в Azure, подключаться к системе как к локальному серверу SQL. Вы предоставили пользователям вашей компании разрешения на использование подключения. 
- Вы работали с различными колонками в зависимости от задачи. Чтобы добавить подключение, вы открывали API и использовали соответствующую колонку. Чтобы предоставить пользователю доступ, вы открывали API или подключение в зависимости от того, к чему вы предоставляли доступ. 
- Кроме того, вы можете удалить все интерфейсы, созданные в среде службы приложений.

Теперь вы можете переходить к [управлению и мониторингу PowerApps](powerapps-manage-monitor-usage.md).

[1]: ./media/powerapps-manage-api-connection-user-access/apiuseraccess.png
[2]: ./media/powerapps-manage-api-connection-user-access/connectionuseraccess.png
[3]: ./media/powerapps-manage-api-connection-user-access/selectpermission.png
[4]: ./media/powerapps-manage-api-connection-user-access/deleteapi.png

<!---HONumber=AcomDC_1203_2015-->