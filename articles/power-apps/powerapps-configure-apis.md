<properties
	pageTitle="Изменение или обновление свойств API PowerApps на портале Azure | Microsoft Azure"
	description="Добавление пользовательского значка, обновление политики XML или определения Swagger для API PowerApps"
	services=""
    suite="powerapps"
	documentationCenter="" 
	authors="MandiOhlinger"
	manager="dwrede"
	editor=""/>

<tags
   ms.service="powerapps"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="11/25/2015"
   ms.author="guayan"/>

# Обновление существующего API и его свойств

Интерфейс API, регистрируемый в среде службы приложений, по сути является прокси-сервером для серверной службы. После создания API может потребоваться изменить его свойства. Например, может потребоваться:

- Добавить свой значок для API.
- Изменить способ защиты серверной части, используемой API. 
- Изменить отображаемое имя API на более понятное.


#### Предварительные требования для начала работы

- Регистрация в службе [PowerApps Enterprise](powerapps-get-started-azure-portal.md).
- Создание [среды службы приложений](powerapps-get-started-azure-portal.md).
- Регистрация [API](powerapps-register-from-available-apis) в своей среде.

## Добавление своего значка или понятного отображаемого имени

1. На [портале Azure](https://portal.azure.com) откройте колонку для своего API.
2. Щелкните **Все параметры**.
3. В колонке **Параметры** выберите **Общие**: ![][11]

В колонке "Общие" можно изменить следующие параметры:

Настройка | Описание
--- | ---
Отображаемое имя | Это имя используется при перечислении *Доступных подключений* в PowerApps. По умолчанию используется имя ресурса API, которое может быть не очень удобно для пользователей PowerApps. Можно указать понятное отображаемое имя. Например, назовите его **Новые заказы** или **Просмотр истории продаж**.  
URL-адрес значка | Для своего API можно добавить значок. Этот значок используется при перечислении *Доступных подключений* и *Моих подключений* в PowerApps. По умолчанию используется следующий значок: <br/><br/>![][12] <br/><br/>При использовании пользовательского значка:<br/><ul><li>URL-адрес значка должен быть общедоступным.</li><li>Это может быть PNG- или SVG-файл. Для PNG-файлов рекомендуется использовать разрешение 40 x 40 пикселей.</li></ul>
Схема URL-адреса | Выберите, какие схемы будут поддерживаться в API. Можно указать **HTTP**, **HTTPS** или **HTTP и HTTPS**. По умолчанию используются схемы HTTP и HTTPS. <br/><br/>Среда службы приложений автоматически выбирает схему на основании настройки серверной части. Поэтому при необходимости дополнительной настройки можно разработать или изменить серверную службу. 
Проверка подлинности в серверной службе | После регистрации серверной службы в среде службы приложений рекомендуется защитить серверную часть, чтобы клиенты могли обращаться к ней только через API. В зависимости от того, где развернута серверная часть, будут доступны следующие параметры:<br/><br/><ul><li><strong>Доступно только через этот API</strong>: этот параметр доступен, только когда серверная часть развернута в среде службы приложений. Когда выбран этот параметр, все имена узлов в серверной части отключаются. Поскольку прокси-сервер API выполняется в той же среде службы приложений, он по-прежнему может обращаться к серверной части.</li><li><strong>Обычная проверка подлинности HTTP</strong>: этот параметр доступен независимо от того, где развернута серверная часть. Когда выбран этот параметр, нужно вводить имя пользователя и пароль. Когда прокси-сервер вызывает серверную часть, он использует обычную проверку подлинности HTTP для передачи имени пользователя и пароля в заголовке авторизации HTTP. Наконец, серверная служба должна проверить введенные имя пользователя и пароль (проверка подлинности).<br/><br/>Дополнительные сведения о реализации обычной проверки подлинности HTTP в ASP.NET Web API 2 см. в статье [Фильтры проверки подлинности в ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</li></ul>


## Обновление определения Swagger для API

1. На [портале Azure](https://portal.azure.com) откройте колонку для своего API.
2. Щелкните **Все параметры**.
3. В колонке **Параметры** выберите **Определение API**: ![][13]

**Swagger 2.0** является поддерживаемым форматом определения API. Текущее определение API находится во встроенном редакторе JSON. Его можно изменить в этом редакторе или отправить новый файл JSON. После **Сохранения** изменений в этой колонке отображаются все ошибки, включая ошибки определения интерфейса API.

- Дополнительные сведения о Swagger 2.0 см. на [официальном веб-сайте Swagger](http://swagger.io).
- Дополнительные сведения о том, как получить Swagger 2.0 при разработке API, см. в следующих статьях:  
	- [Создание приложения API ASP.NET в службе приложений Azure](../app-service-dotnet-create-api-app.md)
	- [Сборка и развертывание приложения API Java в службе приложений Azure](../app-service-api-java-api-app.md)
	- [Создание и развертывание приложения API Node.js в службе приложений Azure](../app-service-api-nodejs-api-app.md)
	- [Настройка определений API, создаваемых в Swashbuckle](../app-service-api-dotnet-swashbuckle-customize.md)
- Дополнительные рекомендации по использованию Swagger 2.0 для PowerApps см. в статье [Разработка API для PowerApps](powerapps-develop-api.md).

## Обновление политики XML интерфейса API

1. На [портале Azure](https://portal.azure.com) откройте колонку для своего API.
2. Щелкните **Все параметры**.
3. В колонке **Параметры** выберите **Политика**: ![][14]

Это та же политика, которая поддерживается [Azure API Management](https://azure.microsoft.com/services/api-management/). Текущая политика находится во встроенном редакторе XML. Ее можно изменить в этом редакторе или отправить новый файл XML. После **Сохранения** изменений в этой колонке отображаются все ошибки, включая проблемы политики API.

[Политики в Azure API Management](../api-management/api-management-howto-policies.md) — это ценный ресурс для изучения настройки и политик.


## Сводка и дальнейшие действия
После создания API, воспользовавшись шагами из этого раздела, можно изменить его параметры и даже их состав.

Ниже приведены некоторые связанные разделы и ресурсы для подробного изучения PowerApps:

- [Настройка API для подключения к защищенной в AAD серверной части](powerapps-configure-apis-aad.md)
- [Разработка API для PowerApps](powerapps-develop-api.md)

[11]: ./media/powerapps-configure-apis/api-settings-general.png
[12]: ./media/powerapps-configure-apis/api-default-icon.png
[13]: ./media/powerapps-configure-apis/api-settings-api-definition.png
[14]: ./media/powerapps-configure-apis/api-settings-policy.png

<!---HONumber=AcomDC_0316_2016-->