<properties
	pageTitle="Добавление API SQL Server в службу PowerApps Enterprise | Microsoft Azure"
	description="Создание или настройка нового API SQL Server в среде службы приложений организации и добавление подключения к локальным данным"
	services=""
    suite="powerapps"
	documentationCenter="" 
	authors="linhtranms"
	manager="dwrede"
	editor=""/>


<tags
   ms.service="powerapps"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="11/25/2015"
   ms.author="litran"/>


# Создание нового API SQL Server в среде службы приложений организации

## Создание API на портале Azure

1. Войдите на [портал Azure](https://portal.azure.com/) с помощью рабочей учетной записи. Например, это может быть адрес *ИмяПользователя*@*ВашаКомпания*.com. При этом выполняется автоматический вход в подписку вашей компании. 
2. На панели задач выберите **Обзор**: ![][14]  
3. Вы можете прокрутить список и найти PowerApps или набрать *powerapps* на клавиатуре: ![][15]  
4. В разделе **PowerApps** выберите **Управление интерфейсами API**.
5. В разделе **Управление интерфейсами API** выберите **Добавить**, чтобы добавить новый API.
6. Введите описательное **имя** для API. Например, если добавляется API SQL Server для демонстрации, вы можете его назвать *SQLServerDemo*.  	
7. В поле **Источник** укажите **Доступные API**, чтобы выбрать встроенные API, а затем выберите **SQL Server**. 
8. Нажмите кнопку **ОК**, чтобы завершить эти действия.

После их выполнения в среду службы приложений организации будет добавлен новый API SQL Server.

## Настройка подключения к локальному серверу SQL Server

Вы можете подключаться к серверу SQL Server в локальной среде. Чтобы организовать это гибридное подключение, вы можете использовать существующие гибридные сетевые решения в Azure, например:

- [ExpressRoute](../expressroute-introduction.md)
- [VPN "сайт — сайт"](../vpn-gateway-create-site-to-site-rm-powershell.md)
- [Подключение "точка — сайт"](../vpn-gateway-point-to-site-create.md)  

	> [AZURE.NOTE]У каждой среды службы приложений есть связанная с ней виртуальная сеть. Вы можете организовать сетевое подключение к этой виртуальной сети.  
- [Гибридные подключения](../web-sites-hybrid-connection-get-started.md)  

	> [AZURE.NOTE]Каждый зарегистрированный API в среде службы приложений имеет соответствующее веб-приложение. Из этого веб-приложения вы можете устанавливать гибридные подключения, как и из любого другого веб-приложения.
	
В следующем примере показано, как создать гибридное подключение:

1. Выберите только что созданный API SQL Server и группу ресурсов. В этом примере выберите API под названием *sqlconnectordemo* и группу ресурсов *DedicatedAses*: ![Группа ресурсов](./media/powerapps-create-api-sqlserver/sqlapi.png)

2.  Выберите элемент **Ресурсы**, а затем выберите веб-приложение с тем же именем, что и у API SQL Server. В этом примере выберите *sqlconnectordemo*: ![Веб-приложение SQL](./media/powerapps-create-api-sqlserver/sqlwebapp.png)

3.  В колонке **Параметры** выберите пункт **Сеть**. Выберите **Настроить конечные точки гибридного подключения**, а затем следуйте [этим инструкциям](../web-sites-hybrid-connection-get-started.md) для создания гибридного подключения: ![Сеть](./media/powerapps-create-api-sqlserver/network.png)

После создания и установки гибридного подключения создается соединение с локальным сервером. Затем создайте подключение к данным и предоставьте доступ пользователям: ![Гибридное подключение](./media/powerapps-create-api-sqlserver/hybridconn.png)

## Создание подключения для API SQL Server

1. На портале Azure откройте PowerApps и выберите **Управление интерфейсами API**. Появится список настроенных API: ![](./media/powerapps-create-api-sqlserver/apilist.png)

2. Выберите нужный API. В этом примере выберите **SQLServerDemo** и выберите **Подключения**.

3. На экране подключений выберите **Добавить подключение**: ![](./media/powerapps-create-api-sqlserver/addconnection.png)

4. Введите имя для подключения и строку подключения. Для ввода строки подключения нужно знать определенные свойства службы, к которой вы подключаетесь. Например, при подключении к локальному серверу SQL Server необходимо знать имя пользователя, пароль и другие свойства, необходимые для успешного подключения.

5. Нажмите **Добавить**, чтобы сохранить изменения.

## Сводка и дальнейшие действия
В этом разделе вы добавили API SQL Server для подключения к локальному серверу SQL Server. Теперь необходимо предоставить пользователям доступ к этому API, чтобы они могли добавлять его в свои приложения:

[Добавление подключения и предоставление доступа пользователям](powerapps-manage-api-connection-user-access.md)


[14]: ./media/powerapps-create-api-sqlserver/browseall.png
[15]: ./media/powerapps-create-api-sqlserver/allresources.png

<!---HONumber=AcomDC_1203_2015-->