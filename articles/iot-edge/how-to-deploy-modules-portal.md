---
title: Развертывание модулей на портале Azure — Azure IoT Edge | Документация Майкрософт
description: Использование портала Azure для развертывания модулей на устройстве IoT Edge
author: kgremban
manager: philmea
ms.author: kgremban
ms.date: 06/06/2018
ms.topic: conceptual
ms.reviewer: menchi
ms.service: iot-edge
services: iot-edge
ms.custom: seodec18
ms.openlocfilehash: fab85b74fb53bec07843abf31aac1a8495d0fcfb
ms.sourcegitcommit: 9fb6f44dbdaf9002ac4f411781bf1bd25c191e26
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2018
ms.locfileid: "53093988"
---
# <a name="deploy-azure-iot-edge-modules-from-the-azure-portal"></a>Развертывание модулей IoT Edge Azure с помощью портала Azure

Создав модули IoT Edge с в соответствии с определенной бизнес-логикой, вы наверняка захотите развернуть их на устройствах, которые будут работать в граничной среде. Если у вас есть несколько модулей, которые совместно собирают и (или) обрабатывают данные, вы можете развернуть их одновременно и объявить правила маршрутизации для их объединения. 

В этой статье описано, как с помощью портала Azure создать манифест развертывания и отправить это развертывание на устройство IoT Edge. Информацию о создании развертываний, предназначенных для нескольких устройств с определенными значениями тегов, см. в разделе [Развертывание и мониторинг модулей IoT Edge в нужном масштабе (предварительная версия)](how-to-deploy-monitor.md)

## <a name="prerequisites"></a>Предварительные требования

* [Центр Интернета вещей](../iot-hub/iot-hub-create-through-portal.md) в подписке Azure. 
* [Устройство IoT Edge](how-to-register-device-portal.md) с установленной средой выполнения IoT Edge. 

## <a name="select-your-device"></a>Выбор устройства

1. Войдите на [портал Azure](https://portal.azure.com) и перейдите к своему Центру Интернета вещей.
2. В меню выберите **IoT Edge**.
3. Щелкните идентификатор целевого устройства в списке устройств. 
4. Щелкните **Set Modules** (Настроить модули).

## <a name="configure-a-deployment-manifest"></a>Настройка манифеста развертывания

Манифест развертывания — это документ JSON, в котором определены развертываемые модули, способ передачи данных между этими модулями и требуемые свойства для двойников модулей. Дополнительные сведения о работе манифестов развертывания и об их создании см. в руководстве по [использованию, настройке и повторном использовании модулей Azure IoT Edge](module-composition.md).

Портал Azure предоставляет мастер, который в пошаговом режиме помогает создать манифест развертывания без необходимости редактировать документ JSON вручную. Манифест создается в три этапа: **Добавление модулей**, **Указание маршрутов** и **Просмотр развертываний**. 

### <a name="add-modules"></a>Добавление модулей

1. В разделе **Параметры реестра** на этой странице введите учетные данные для доступа ко всем реестрам частных контейнеров, которые содержат образы модулей. 
2. В разделе **Модули развертывания** на этой странице выберите **Добавить**. 
3. Просмотрите типы модулей в раскрывающемся списке: 
   * **Модуль IoT Edge Module** — предлагается по умолчанию.
   * **Модуль Azure Stream Analytics** — только для модулей, созданных в рабочей нагрузке Azure Stream Analytics. 
4. Выберите **Модуль IoT Edge**.
5. Введите имя модуля и выберите образ контейнера. Например:  
   * **Имя** — tempSensor
   * **URI образа** — mcr.microsoft.com/azureiotedge-simulated-temperature-sensor:1.0.
6. При желании заполните необязательные поля. Дополнительные сведения о возможностях при создании контейнера, политике перезапуска и требуемом состоянии см. в разделе [Требуемые свойства EdgeAgent](module-edgeagent-edgehub.md#edgeagent-desired-properties). Подробные сведения о двойниках модулей см. в разделе [Определение или обновление требуемых свойств](module-composition.md#define-or-update-desired-properties).
7. Щелкните **Сохранить**.
8. Повторите шаги 2–6 для всех дополнительных модулей этого развертывания. 
9. Щелкните **Далее**, чтобы перейти на страницу маршрутов.

### <a name="specify-routes"></a>Настройка маршрутов

По умолчанию мастер предлагает маршрут с именем **route**, который определен как **FROM /\* INTO $upstream**. Этот маршрут направляет все сообщения, выводимые любыми модулями, в Центр Интернета вещей.  

Добавьте в маршруты информацию из раздела [Объявление маршрутов](module-composition.md#declare-routes), а затем щелкните **Далее**, чтобы перейти к разделу проверки.

### <a name="review-deployment"></a>Проверка развертывания

В разделе обзорной информации вы увидите манифест развертывания в формате JSON, который был создан на основе параметров, выбранных вами в двух предыдущих разделах. Обратите внимание, что здесь объявлены два дополнительных модуля, которые вы не добавляли: **$edgeAgent** и **$edgeHub**. Эти два модуля составляют [среду выполнения IoT Edge](iot-edge-runtime.md) и являются обязательными для каждого развертывания. 

Просмотрите сведения о развертывании, а затем выберите **Отправить**. 

## <a name="view-modules-on-your-device"></a>Просмотр модулей, установленных на устройстве

Завершив развертывание модулей на устройстве, вы можете просмотреть их на странице портала **Сведения об устройствах**. Эта страница отображает имя каждого развернутого модуля и полезную информацию о нем, включая состояние развертывания и код завершения. 

## <a name="next-steps"></a>Дополнительная информация

Изучите раздел [Развертывание и мониторинг модулей IoT Edge в нужном масштабе (предварительная версия)](how-to-deploy-monitor.md)
