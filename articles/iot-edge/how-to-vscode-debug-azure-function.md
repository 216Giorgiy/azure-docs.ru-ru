---
title: "Использование кода Visual Studio для отладки функции Azure IoT границу Azure | Документы Microsoft"
description: "Отладка C# функции Azure Azure IoT границу в VS Code"
services: iot-edge
keywords: 
author: shizn
manager: timlt
ms.author: xshi
ms.date: 12/20/2017
ms.topic: article
ms.service: iot-edge
ms.openlocfilehash: 4344a450d218a7424cd055cf086c1e4865c9af10
ms.sourcegitcommit: b5c6197f997aa6858f420302d375896360dd7ceb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="use-visual-studio-code-to-debug-azure-functions-with-azure-iot-edge"></a>Использование кода Visual Studio для отладки функции Azure с краем IoT Azure

В этой статье приведены подробные инструкции по использованию [кода Visual Studio](https://code.visualstudio.com/) как основное средство разработки для отладки функций Azure IoT границы.

## <a name="prerequisites"></a>Технические условия
Предполагается, что вы используете компьютер или виртуальную машину с компьютера разработчика Windows или Linux. IoT пограничного устройства может быть другое физическое устройство или устройство пограничного IoT, вы можете имитировать на компьютере разработки.

Убедитесь, что у вас есть завершенного следующие учебники перед началом в этом руководстве.
- [Использование кода Visual Studio для разработки и развертывания функций Azure по краю IoT Azure](how-to-vscode-develop-azure-function.md)

После завершения предыдущего учебника, необходимо иметь следующие элементы все будет готово,
- Локальный реестр Docker, запущенного на компьютере разработки. Рекомендуется использовать локальный реестр Docker для прототипов и тестирования назначения.
- `run.csx` Файл с последней код функции фильтра.
- Обновленное `deployment.json` файл для модуля датчика и модуль функции фильтра.
- Среда выполнения Edge, запущенного на компьютере разработки.

## <a name="build-your-iot-edge-module-for-debugging-purpose"></a>Сборка модуля IoT Edge для цели отладки
1. Чтобы начать отладку, необходимо использовать **dockerfile.debug** перестроения образа docker и повторно развернуть решение Edge. В обозревателе VS Code щелкните папку Docker, чтобы открыть его. Нажмите кнопку `linux-x64` папку, щелкните правой кнопкой мыши **Dockerfile.debug**и нажмите кнопку **образа Docker модуля Edge построения IoT**.
3. В **Выбор папки** окно, перейдите к **FilterFunction** проекта и нажмите кнопку **Выбор папки как EXE_DIR**.
4. В верхней части окна VS Code введите имя образа в текстовом поле всплывающего окна. Например, `<your container registry address>/filterfunction:latest`. Если развертывается в локальном реестре, он должен быть `localhost:5000/filterfunction:latest`.
5. Отправьте образ в репозиторий Docker. Используйте **Edge: образа Docker модуля Push IoT Edge** команд и введите URL-адрес изображения в поле всплывающие подсказки в верхней части окна VS Code. Используйте же URL-адрес изображения использовался выше шаг.
6. Можно повторно использовать `deployment.json` для повторного развертывания. В команде палитры, введите и выберите **Edge: перезапустите Edge** для получения под управлением с отладочной версией функции фильтра.

## <a name="start-debugging-in-vs-code"></a>Начать отладку в VS Code
1. Перейдите в окно отладчика VS Code. Нажмите клавишу **F5** и выберите **IoT Edge(.Net Core)**
2. В `launch.json`, перейдите к **отладки IoT Edge функции (.NET Core)** статьи и заполните `<container_name>`под `pipeArgs`. Он должен быть `filterfunction` в этом учебнике.
3. Перейдите к run.csx. Добавьте точку останова в функции.
4. Нажмите клавишу **F5** еще раз. И выберите процесс для присоединения.
5. В окне отладки кода VS можно просмотреть переменные в левой панели. 

> [!NOTE]
> Предыдущий пример показывает, как отладки .net основной функцией Edge IoT в контейнерах. Он основан на отладочной версии `Dockerfile.debug`, включая VSDBG (.NET Core отладчик командной строки) при его создании в вашем образе контейнера. Мы рекомендуем непосредственно использовать или настраивать `Dockerfile` без VSDBG для функции IoT край рабочей среде после окончания отладки функции C#.

## <a name="next-steps"></a>Дальнейшие действия

В этом учебнике функцию Azure создан и развернут в IoT Edge для целей отладки и начата отладка его в VS Code. Можно перейти к любой из следующих учебников, чтобы узнать о других сценариях при разработке Azure IoT край VS Code. 

> [!div class="nextstepaction"]
> [Разработка и развертывание модуля C# в VS Code](how-to-vscode-develop-csharp-module.md)

