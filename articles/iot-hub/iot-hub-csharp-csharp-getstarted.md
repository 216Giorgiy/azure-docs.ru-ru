<properties
	pageTitle="Приступая к работе с центром Azure IoT с использованием C# | Microsoft Azure"
	description="Следуйте указаниям этого учебника, чтобы приступить к работе с центром IoT Azure с помощью C#."
	services="iot-hub"
	documentationCenter=".net"
	authors="dominicbetts"
	manager="timlt"
	editor=""/>

<tags
     ms.service="iot-hub"
     ms.devlang="dotnet"
     ms.topic="hero-article"
     ms.tgt_pltfrm="na"
     ms.workload="na"
     ms.date="12/14/2015"
     ms.author="dobett"/>

# Приступая к работе с центром Azure IoT с использованием .NET

[AZURE.INCLUDE [iot-hub-selector-get-started](../../includes/iot-hub-selector-get-started.md)]

## Введение

Центр IoT Azure — это полностью управляемая служба, которая обеспечивает надежный и защищенный двунаправленный обмен данными между миллионами устройств IoT и серверной частью решения. Одной из наиболее сложных задач, стоящих перед проектами IoT, является надежное и безопасное подключение устройств к серверной части решения. Чтобы устранить эту проблему, центр IoT предоставляет следующие возможности:

- глобальный надежный двусторонний обмен сообщениями между облаком и устройством;
- безопасную связь — используются учетные данные безопасности, уникальные для каждого устройства, и контроль доступа;
- простое подключение устройств, так как используются библиотеки устройств для большинства популярных языков и платформ.

В этом учебнике описаны следующие процедуры.

- Создание центра IoT с помощью портала Azure.
- Создание удостоверения устройства в центре IoT.
- Создание виртуального устройства, которое взаимодействует с серверной частью облака, отправляя туда данные телеметрии и получая оттуда команды.

В конце этого учебника у вас будет три консольных приложения Windows:

* **CreateDeviceIdentity** — создает удостоверение устройства и соответствующий ключ безопасности для подключения к виртуальному устройству;
* **ReadDeviceToCloudMessages** — отображает данные телеметрии, отправленные виртуальным устройством.
* **SimulatedDevice** — подключается к центру IoT с созданным ранее удостоверением устройства и отправляет сообщения с частотой один раз в секунду.

> [AZURE.NOTE] Статья [Пакеты SDK для центра IoT][lnk-hub-sdks] содержит сведения о разных пакетах SDK, которые можно использовать для создания приложений, которые будут запущены на устройствах и в серверной части решения.

Для работы с этим руководством требуется:

+ Microsoft Visual Studio 2015.

+ Активная учетная запись Azure. <br/>Если ее нет, можно создать бесплатную пробную учетную запись всего за несколько минут. Дополнительные сведения см. в разделе [Бесплатная пробная версия Azure][lnk-free-trial].

## Создание центра IoT

Необходимо создать центр IoT, к которому будет подключено виртуальное устройство. Ниже показано, как это сделать с помощью портала Azure.

1. Войдите на [портал Azure][lnk-portal].

2. На панели переходов последовательно выберите **Создать**, **Интернет вещей** и **Центр Azure IoT**.

    ![][1]

3. В колонке **Центр IoT** выберите конфигурацию для центра IoT.

    ![][2]

    * В поле **Имя** введите имя центра IoT. После проверки **имени** рядом с полем **Имя** появится зеленая галочка.
    * Выберите **Цены и масштабирование уровня**. Для этого руководства задавать определенный уровень не нужно.
    * **Группа ресурсов** — создайте новую группу ресурсов Azure или выберите существующую. За дополнительной информацией обратитесь к разделу [Использование групп ресурсов для управления вашими ресурсами Azure][lnk-resource-groups].
    * **Расположение** — выберите расположение для размещения центра IoT.  

4. Выбрав параметры конфигурации центра IoT, нажмите кнопку **Создать**. Создание центра IoT может занять несколько минут. Чтобы проверить состояние, следите за ходом выполнения на начальной панели или панели уведомлений.

    ![][3]

5. Когда центр IoT будет создан, откройте соответствующую колонку, запишите **имя узла** и щелкните значок **Ключи**.

    ![][4]

6. Выберите политику **iothubowner**, а затем скопируйте и запишите строку подключения в колонке **iothubowner**.

    ![][5]

Теперь у вас есть центр IoT, а также имя узла и строка подключения, необходимые для завершения работы с этим руководством.

[AZURE.INCLUDE [iot-hub-get-started-cloud-csharp](../../includes/iot-hub-get-started-cloud-csharp.md)]


[AZURE.INCLUDE [iot-hub-get-started-device-csharp](../../includes/iot-hub-get-started-device-csharp.md)]

## Запуск приложений

Теперь все готово к запуску приложений.

1.	В обозревателе решений Visual Studio щелкните правой кнопкой мыши решение и выберите пункт **Назначить запускаемым проектом**. Выберите **Несколько запускаемых проектов**, а затем выберите **Запуск** в качестве **действия** для проектов **ReadDeviceToCloudMessages** и **SimulatedDevice**.

   	![][41]

2.	Нажмите клавишу **F5**, чтобы запустить оба приложения. Вывод консоли приложения **SimulatedDevice** отображает сообщения, которые виртуальное устройство отправляет в центр IoT; вывод консоли приложения **ReadDeviceToCloudMessages** отображает сообщения, которые получает центр IoT.

   	![][42]

## Дальнейшие действия

В этом руководстве описана настройка нового центра IoT на портале и создание удостоверения устройства в реестре удостоверений центра. Это удостоверение устройства требуется для работы виртуального устройства, которое отправляет сообщения из устройства в облако. Также описано создание другого приложения, которое отображает сообщения, полученные центром. Дальнейшее описание функций и сценариев центра IoT см. в следующих руководствах:

- [Отправка сообщений с облака на устройство в центре IoT][lnk-c2d-tutorial] — описывается, как отправлять сообщения на устройства и обрабатывать подтверждения о доставке от центра IoT.
- [Обработка сообщений, отправляемых с устройств в облако][lnk-process-d2c-tutorial] — описывается, как надежно обрабатывать данные телеметрии и интерактивные сообщения, поступающие от устройств.
- [Передача файлов с устройств][lnk-upload-tutorial] — описывается модель использования сообщений, отправляемых из облака на устройства, для упрощения передачи файлов с устройств.

<!-- Images. -->
[1]: ./media/iot-hub-csharp-csharp-getstarted/create-iot-hub1.png
[2]: ./media/iot-hub-csharp-csharp-getstarted/create-iot-hub2.png
[3]: ./media/iot-hub-csharp-csharp-getstarted/create-iot-hub3.png
[4]: ./media/iot-hub-csharp-csharp-getstarted/create-iot-hub4.png
[5]: ./media/iot-hub-csharp-csharp-getstarted/create-iot-hub5.png
[41]: ./media/iot-hub-csharp-csharp-getstarted/run-apps1.png
[42]: ./media/iot-hub-csharp-csharp-getstarted/run-apps2.png

<!-- Links -->
[lnk-c2d-tutorial]: iot-hub-csharp-csharp-c2d.md
[lnk-process-d2c-tutorial]: iot-hub-csharp-csharp-process-d2c.md
[lnk-upload-tutorial]: iot-hub-csharp-csharp-file-upload.md

[lnk-hub-sdks]: iot-hub-sdks-summary.md
[lnk-free-trial]: http://azure.microsoft.com/pricing/free-trial/
[lnk-resource-groups]: resource-group-portal.md
[lnk-portal]: https://portal.azure.com/

<!---HONumber=AcomDC_0128_2016-->