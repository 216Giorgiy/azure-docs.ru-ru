<properties
 pageTitle="Обзор центра IoT Azure | Microsoft Azure"
 description="Обзор службы центра IoT Azure, включая подключения устройств, шаблоны взаимодействия и шаблон взаимодействия с поддержкой службы."
 services="iot-hub"
 documentationCenter=""
 authors="dominicbetts"
 manager="timlt"
 editor=""/>

<tags
 ms.service="iot-hub"
 ms.devlang="na"
 ms.topic="article"
 ms.tgt_pltfrm="na"
 ms.workload="na"
 ms.date="11/09/2015"
 ms.author="dobett"/>

# Что такое центр IoT в Azure?

Добро пожаловать в центр IoT Azure. В этой статье представлен обзор центра IoT Azure и указано, чем вам может пригодиться эта служба при внедрении решения IoT.

Центр IoT Azure — полностью управляемая служба, которая обеспечивает надежный и защищенный двунаправленный обмен данными между миллионами устройств IoT и серверной частью решения. Центр IoT Azure предлагает надежный обмен сообщениями между устройством и облаком в требуемом масштабе, обеспечивает безопасное подключение с использованием учетных данных и контроля доступа для каждого устройства и включает библиотеки устройств для наиболее популярных языков и платформ.

![Центр IoT как облачный шлюз?][img-architecture]

## Трудности, связанные с взаимодействием устройств IoT

Центр IoT и библиотеки позволяют обеспечить надежное и безопасное подключение устройств к серверной части решения. Устройства IoT:

- часто представляют собой встраиваемые системы, у которых отсутствует оператор;
- могут располагаться в удаленных расположениях, там где физический доступ слишком дорог;
- могут быть доступны только через серверную часть решения;
- могут иметь ограниченную мощность и/или объем ресурсов для обработки;
- могут иметь временное, медленное или дорогостоящее подключение к сети;
- могут требовать использования закрытых, пользовательских или отраслевых протоколов приложения;
- могут создаваться с помощью большого числа популярных аппаратных и программных платформ.

В дополнение к изложенным выше требованиям любое решение IoT также должно быть масштабируемым, безопасным и надежным. В итоге получается набор требований к подключению, выполнить которые с помощью традиционных технологий, таких как веб-контейнеры и брокеры сообщений, очень трудно.

## Почему нужно использовать центр IoT Azure

Центр IoT Azure учитывает сложности, связанные с подключением устройств, в следующих аспектах.

-   **Проверка подлинности для каждого устройства и безопасное подключение**. Вы можете предусмотреть для каждого устройства собственный ключ безопасности, используемый для подключения к центру IoT. Серверная часть решения приложения может добавлять отдельные устройства в белый или черный список, тем самым полностью контролируя доступ устройств.

-   **Обширный набор библиотек устройств**. Пакеты SDK устройств для IoT Azure доступны и поддерживаются для различных языков и платформ: на языке C для многих дистрибутивов Linux, Windows и RTOS. Пакеты SDK для устройств IoT Azure поддерживают также управляемые языки, такие как C#, Java и JavaScript.

-   **Протоколы IoT и расширяемость**. Если в вашем решении нельзя использовать библиотеки устройств, центр IoT Azure предоставляет открытый протокол, который позволяет устройствам использовать протоколы HTTP 1.1 и AMQP 1.0. С помощью [шлюза протокола IoT Azure][protocol-gateway] с открытым исходным кодом также можно расширить центр IoT для поддержки MQTT версии 3.1.1. Шлюз протокола IoT Azure можно запускать в облаке или локально. Его также можно расширить для поддержки пользовательских протоколов.

-   **Масштаб**. Центр IoT Azure масштабируется до нескольких миллионов одновременно подключенных устройств и нескольких миллионов событий в секунду.

Эти преимущества являются общими для многих шаблонов взаимодействия. В настоящее время центр IoT позволяет реализовать следующие шаблоны взаимодействия.

-   **Прием данных от устройств в облако на основе событий.** Центр IoT может надежно принимать несколько миллионов событий для обработки в секунду. Эти события будут обработаны модулем обработчика событий "горячего" анализа или сохранены для "холодного" анализа. Центр IoT сохраняет данные о событиях до 7 дней, что позволяет гарантировать надежную обработку и смягчить пиковые нагрузки.

-   **Надежный обмен сообщениями (или *командами*) с облака на устройство.** Серверная часть решения может использовать центр IoT, чтобы отправлять на отдельные устройства сообщения, доставка которых гарантируется хотя бы один раз. Каждое сообщение имеет собственное время существования, и серверная часть может запрашивать уведомления как о доставке, так и об истечении срока действия, что позволяет полностью проследить жизненный цикл сообщения, отправляемого из облака на устройство. Это позволяет реализовать бизнес-логику, которая включает в себя операции, выполняющиеся на устройствах.

С помощью специальных возможностей центра IoT, таких как согласованное управление удостоверениями устройств, наблюдение за подключением и масштабирование, можно реализовать другие распространенные шаблоны, такие как передача и скачивание файла.

## Принципы работы центра IoT

Центр IoT Azure реализует шаблон [взаимодействия с поддержкой службы][lnk-service-assisted-pattern], чтобы выступать в качестве посредника во взаимодействии между устройствами и серверной частью решения. Задача взаимодействия с поддержкой службы заключается в установлении путей доверенного двунаправленного взаимодействия между системой управления, такой как центр IoT, и специализированными устройствами, которые разворачиваются в ненадежном физическом пространстве. Данный шаблон устанавливает следующие принципы.

- Безопасность имеет приоритет над всеми другими возможностями.
- Устройства не принимают сетевой информации, которую они не запрашивали. Устройство устанавливает все подключения и маршруты только в исходящем режиме. Чтобы устройство получило команду от серверной части, оно должно регулярно инициировать подключение для проверки любых команд, ожидающих обработки.
- Устройства должны подключаться или устанавливать маршруты только с общеизвестными службами, такими как центр IoT, которые являются их партнерами.
- Пути взаимодействия между устройством и службой и устройством и шлюзом защищены на уровне протокола приложения.
- Авторизация и проверка подлинности системного уровня основаны на удостоверения отдельных устройств и обеспечивают практически мгновенный отзыв учетных данных и разрешения для доступа.
- Двунаправленное взаимодействие для устройств, которые подключаются нерегулярно из-за проблем с питанием или подключением, упрощается путем хранения команд и уведомлений для устройства до того момента, пока оно не подключится для их получения. Центр IoT хранит отправляемые команды в соответствующих очередях для каждого устройства.
- Полезные данные приложения можно защитить отдельно для безопасной передачи через шлюзы к конкретной службе.

Шаблон взаимодействия с поддержкой службы широко используется в мобильных устройствах для реализации служб push-уведомлений, таких как [служба уведомлений Windows](https://msdn.microsoft.com/library/windows/apps/mt187203.aspx), [Google Cloud Messaging](https://developers.google.com/cloud-messaging/) и [служба push-уведомлений Apple](https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW9).

## Дальнейшие действия

Дополнительные сведения о центре IoT в Azure см. по следующим ссылкам:

* [Приступая к работе с центром IoT]
* [Подключение устройства]
* [Обработка сообщений с устройства в облако]

[Приступая к работе с центром IoT]: iot-hub-csharp-csharp-getstarted.md
[Подключение устройства]: https://azure.microsoft.com/develop/iot/
[Обработка сообщений с устройства в облако]: iot-hub-csharp-csharp-process-d2c.md
[protocol-gateway]: https://github.com/Azure/azure-iot-protocol-gateway/blob/master/README.md
[img-architecture]: media/iot-hub-what-is-iot-hub/hubarchitecture.png

[lnk-service-assisted-pattern]: http://blogs.msdn.com/b/clemensv/archive/2014/02/10/service-assisted-communication-for-connected-devices.aspx "Взаимодействие с поддержкой службы, запись в блоге Клеменса Вастерса (Clemens Vasters)"

<!---HONumber=Nov15_HO3-->