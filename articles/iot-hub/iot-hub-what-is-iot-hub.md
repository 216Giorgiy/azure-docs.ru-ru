<properties
 pageTitle="Обзор центра IoT Azure | Microsoft Azure"
 description="Обзор службы центра IoT Azure, включая подключения устройств, шаблоны взаимодействия и шаблон взаимодействия с поддержкой службы."
 services="iot-hub"
 documentationCenter=""
 authors="fsautomata"
 manager="timlt"
 editor=""/>

<tags
 ms.service="iot-hub"
 ms.devlang="na"
 ms.topic="article"
 ms.tgt_pltfrm="na"
 ms.workload="na"
 ms.date="09/29/2015"
 ms.author="elioda"/>

# Что такое центр IoT в Azure?

Центр IoT Azure — полностью управляемая служба, которая обеспечивает надежный и защищенный двунаправленный обмен данными между миллионами устройств IoT и серверной частью приложения. Центр IoT Azure предлагает глобальный и надежный обмен сообщениями между устройством и облаком и в обратном направлении, обеспечивает безопасное подключение с использованием учетных данных и контроля доступа для каждого устройства и включает библиотеки устройств для наиболее популярных языков и платформ.

![Центр IoT как облачный шлюз?][img-architecture]

## Подключение устройства IoT

Одной из крупнейших задач, стоящих перед проектами IoT, является надежное и безопасное подключение устройств к серверной части приложения. Характеристики устройств IoT часто отличаются от характеристик других клиентов, таких как браузеры, другие серверы и мобильные приложения:

-   Устройства IoT часто представляют собой встраиваемые системы, у которых отсутствует оператор.

-   Они могут располагаться в удаленных расположениях, там где физический доступ слишком дорог.

-   Подключение к серверной части приложения может быть единственным способом доступа к устройству.

-   Устройства могут иметь ограниченную мощность и/или объем ресурсов для обработки.

-   Подключение к сети для устройства может быть временным, дорогостоящим или недоступным.

-   Может потребоваться использование закрытых, пользовательских или отраслевых протоколов приложения.

-   Количество популярных аппаратных и программных платформ для создания устройств очень велико.

В дополнение к изложенным выше требованиям любое решение IoT также должно быть масштабируемым, безопасным и надежным. Все эти аспекты образуют набор требований к подключению, выполнить которые с помощью традиционных технологий, таких как веб-контейнеры и брокеры сообщений, очень трудно.

## Почему нужно использовать центр IoT Azure

Центр IoT Azure учитывает требования к подключению устройств в следующих аспектах.

-   **Проверка подлинности для каждого устройства и безопасное подключение**. Каждое устройство может подключаться к центру IoT с помощью собственного ключа безопасности. Поэтому серверная часть приложения может добавить каждое отдельное приложение в белый или черный список, тем самым полностью контролируя доступ для каждого устройства.

-   **Обширный набор библиотек устройств**. Пакеты SDK устройств для IoT Azure доступны и поддерживаются для различных языков и платформ: на языке C для многих дистрибутивов Linux, Windows и RTOS. Пакеты SDK для устройств IoT Azure поддерживают также управляемые языки, такие как C#, Java и JavaScript.

-   **Протоколы IoT и расширяемость**. Если в вашем решении нельзя использовать библиотеки устройств, центр IoT Azure предоставляет открытый протокол, который позволяет устройствам использовать протоколы HTTP 1.1 и AMQP 1.0. С помощью протокола шлюза IoT с открытым исходным кодом также можно расширить центр IoT Azure для поддержки MQTT версии 3.1.1. Протокола шлюза IoT Azure можно запускать в облаке или локально. Его также можно расширить для поддержки пользовательских протоколов.

-   **Масштабирование.** Центр IoT Azure масштабируется до нескольких миллионов одновременно подключенных устройств и нескольких миллионов событий в секунду.

Помимо этих преимуществ, которые являются общими для многих шаблонов взаимодействия, центр IoT в настоящее время позволяет реализовать следующие шаблоны взаимодействия.

-   **Прием данных от устройств в облако на основе событий.** Устройства могут надежно отправлять несколько миллионов событий для обработки в секунду. Эти события будут обработаны модулем обработчика событий «горячего» анализа или сохранены для «холодного» анализа. Центр IoT сохраняет данные о событиях до 7 дней, что позволяет гарантировать надежную обработку и поглотить пиковые нагрузки.

-   **Надежный обмен сообщениями (или *командами*) с облака на устройство.** Серверная часть приложения может отправлять надежные сообщения (т. е. сообщения, доставка которых гарантируется хотя бы один раз) на отдельные устройства. Каждое сообщение имеет собственное время жизни, и серверная часть может запрашивать уведомления как о доставке, так и об истечении срока действия, что позволяет полностью проследить жизненный цикл сообщения, отправляемого из облака в устройство.

В дополнение к описанным выше шаблонам взаимодействия с помощью специальных возможностей центра IoT, таких как согласованное управление удостоверениями устройств, наблюдение за подключением и масштабирование, можно реализовать другие популярные шаблоны, такие как передача и загрузка файла.

## Шаблон взаимодействия с поддержкой службы

В шаблоне [взаимодействия с поддержкой службы][lnk-service-assisted-pattern] центр IoT Azure является посредником во взаимодействии между устройствами и серверной частью приложения. Задача взаимодействия с поддержкой службы заключается в установлении путей доверенного двунаправленного взаимодействия между системами управления (такими как центр IoT) и специализированными устройствами, которые разворачиваются в недоверенном физическом пространстве. Для этого шаблон устанавливает следующие принципы.

- Безопасность имеет приоритет над всеми другими возможностями.
- Устройства не принимают сетевой информации, которую они не запрашивали. Все подключения и маршруты устанавливаются с устройства только в исходящем режиме. Чтобы устройство получило команду от серверной части, оно должно регулярно инициировать подключение для проверки любых команд, ожидающих обработки.
- Устройства обычно подключаются или устанавливают маршруты только с общеизвестными службами, которые являются их партнерами, например с экземпляром службы центра IoT.
- Пути взаимодействия между устройством и службой и устройством и шлюзом защищены на уровне протокола приложения.
- Авторизация и проверка подлинности системного уровня должны выполняться на основе удостоверения для каждого устройства, а учетные данные и разрешения для доступа должны отзываться почти мгновенно.
- Двунаправленное взаимодействие для устройств, которые подключаются нерегулярно из-за проблем с питанием или подключением, можно упростить путем хранения команд и уведомлений для устройств до того момента, пока они не подключатся и не получат их. Центр IoT хранит команды, отправляемые устройствам, в соответствующих очередях для каждого устройства.
- Полезные данные приложения можно защитить отдельно для безопасной передачи через шлюзы к конкретной службе.

Шаблон взаимодействия с поддержкой службы широко используется в мобильных устройствах для реализации служб push-уведомлений, таких как [служба уведомлений Windows](https://msdn.microsoft.com/library/windows/apps/mt187203.aspx), [Google Cloud Messaging](https://developers.google.com/cloud-messaging/) и [служба push-уведомлений Apple](http://go.microsoft.com/fwlink/p/?linkid=272584&clcid=0x409).

## Дальнейшие действия

Дополнительные сведения о центре IoT в Azure см. по следующим ссылкам:

* [Руководство разработчика по центру IoT]
* [Руководство по центру IoT]
* [Поддерживаемые платформы устройств и языки]
* [Центр разработчика IoT Azure]
* [Приступая к работе с центром IoT]

[IoT Hub Overview]: iot-hub-what-is-iot-hub.md
[Руководство по центру IoT]: iot-hub-guidance.md
[Руководство разработчика по центру IoT]: iot-hub-devguide.md
[IoT Hub Supported Devices]: iot-hub-supported-devices.md
[Приступая к работе с центром IoT]: iot-hub-csharp-csharp-getstarted.md
[Поддерживаемые платформы устройств и языки]: iot-hub-sdks-summary.md#os-platforms-and-hardware-compatibility
[Центр разработчика IoT Azure]: https://azure.microsoft.com/develop/iot/

[img-why-use]: media/iot-hub-what-is-iot-hub/image1.png
[img-architecture]: media/iot-hub-what-is-iot-hub/hubarchitecture.png

[lnk-service-assisted-pattern]: http://blogs.msdn.com/b/clemensv/archive/2014/02/10/service-assisted-communication-for-connected-devices.aspx "Взаимодействие с поддержкой службы, запись в блоге Клеменса Вастерса (Clemens Vasters)"

<!---HONumber=Oct15_HO3-->