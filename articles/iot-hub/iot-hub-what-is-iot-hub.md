---
title: "Обзор Центра Интернета вещей Azure | Документация Майкрософт"
description: "Общие сведения о службе Центра Интернета вещей Azure: что такое Центр Интернета вещей, подключение устройств, модели обмена данными Интернета вещей, включая обмен данными с использованием службы, шлюзы."
services: iot-hub
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 24376318-5344-4a81-a1e6-0003ed587d53
ms.service: iot-hub
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/29/2018
ms.author: dobett
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b00c89183ff0d4e7df49d29834508643e68246bb
ms.sourcegitcommit: 9d317dabf4a5cca13308c50a10349af0e72e1b7e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2018
---
# <a name="overview-of-the-azure-iot-hub-service"></a>Общие сведения о службе Центра Интернета вещей Azure

Добро пожаловать в Центр Интернета вещей Azure. В этой статье представлен обзор Центра Интернета вещей Azure и содержатся сведения о том, как вам может пригодиться эта служба при внедрении решения Интернета вещей. Центр Интернета вещей Azure — это полностью управляемая служба, которая обеспечивает надежный и защищенный двунаправленный обмен данными между миллионами устройств Интернета вещей и серверной частью решения. Центр Интернета вещей Azure обеспечивает:

* несколько вариантов взаимодействия между устройствами и облаком, в частности одностороннюю передачу сообщений, передачу файлов и методы типа "запрос — ответ";
* встроенную декларативную маршрутизацию сообщений к другим службам Azure;
* хранилище для метаданных устройств и информации о состоянии синхронизации с возможностью запрашивания данных;
* безопасную связь и контроль доступа с использованием отдельных ключей безопасности или сертификатов X.509 для каждого устройства;
* комплексный мониторинг взаимодействия, а также событий управления идентификацией устройств;
* простое подключение устройств, так как используются библиотеки устройств для большинства популярных языков и платформ.

В статье [Сравнение Центра Интернета вещей и концентраторов событий][lnk-compare] описываются ключевые различия между этими двумя службами и важные преимущества использования Центра Интернета вещей в соответствующих решениях.

Сведения о том, как Azure и Центр Интернета вещей помогут защитить ваше решение см. в статье [Комплексная защита в Интернете вещей][lnk-security-ground-up].

![Использование Центра Интернета вещей Azure в качестве облачного шлюза для решения Интернета вещей][img-architecture]

> [!NOTE]
> Подробное рассмотрение архитектуры Центра Интернета вещей см. в документе [Microsoft Azure IoT Reference Architecture][lnk-refarch] (Эталонная архитектура Microsoft Azure IoT).

## <a name="iot-device-connectivity-challenges"></a>Трудности, связанные с взаимодействием устройств IoT

Центр Интернета вещей и библиотеки позволяют обеспечить надежное и безопасное подключение устройств к серверной части решения. Устройства IoT:

* часто представляют собой встраиваемые системы, у которых отсутствует оператор;
* могут располагаться в удаленных расположениях, получить физический доступ к которым дорого;
* могут быть доступны только через серверную часть решения;
* могут иметь ограниченную мощность и (или) объем ресурсов для обработки;
* могут иметь временное, медленное или дорогостоящее подключение к сети;
* могут требовать использования закрытых, пользовательских или отраслевых протоколов приложения;
* могут создаваться с помощью большого числа популярных аппаратных и программных платформ.

В дополнение к изложенным выше требованиям любое решение IoT также должно быть масштабируемым, безопасным и надежным. В итоге формируется набор требований к подключению, выполнить которые с помощью традиционных технологий, таких как веб-контейнеры и брокеры сообщений, очень трудно.

## <a name="why-use-azure-iot-hub"></a>Почему нужно использовать Центр Интернета вещей

Центр Интернета вещей Azure предлагает несколько вариантов взаимодействия между [устройствами][lnk-d2c-guidance] и [облаком][lnk-c2d-guidance]. Кроме того, Центр Интернета вещей Azure устраняет сложности, связанные с надежным и безопасным подключением к устройствам, одним из следующих способов:

* **Двойники устройств**. [Двойники устройств][lnk-twins] позволяют хранить, синхронизировать и получать по запросу метаданные и информацию о состоянии устройства. Двойники устройств — это документы JSON, хранящие сведения о состоянии устройства (например, метаданные, конфигурации и условия). Центр Интернета вещей сохраняет двойник устройства для каждого устройства, подключаемого к Центру Интернета вещей.

* **Проверка подлинности для каждого устройства и безопасное подключение**. Вы можете подготовить для каждого устройства собственный [ключ безопасности][lnk-devguide-security] для подключения к Центру Интернета вещей. [Реестр удостоверений Центра Интернета вещей][lnk-devguide-identityregistry] хранит удостоверения устройств и ключи, используемые в решении. Серверная часть решения приложения может добавлять отдельные устройства в список разрешений или запрещающий список, тем самым полностью контролируя доступ к устройствам.

* **Направление сообщений, передаваемых с устройства в облако, службам Azure на основе декларативных правил.** Центр Интернета вещей позволяет определять маршруты сообщений на основе правил маршрутизации, чтобы контролировать, куда будут отправляться сообщения, передаваемые с устройства в облако. Для использования правил маршрутизации не требуется дополнительный программный код. Их можно использовать вместо пользовательских диспетчеров получения и обработки сообщений.

* **Интеграция событий Центра Интернета вещей в бизнес-приложение.** Центр Интернета вещей интегрируется со службой "Сетка событий Azure". Благодаря этой интеграции можно настроить другие службы Azure или сторонние приложения для ожидания передачи данных событий Центра Интернета вещей. Служба "Сетка событий Azure" позволяет быстро реагировать на критические события и обеспечивает высокий уровень безопасности и масштабируемости.

* **Мониторинг операций подключения устройств**. Вы можете получать подробные журналы операций управления идентификацией устройств и событий подключения устройства. Возможность мониторинга позволяет решению Центра Интернета вещей определять проблемы с подключением. Используйте эти журналы для определения устройств, которые предоставляют неверные учетные данные, отправляют сообщения слишком часто или отклоняют все сообщения из облака на устройство.

* **Обширный набор библиотек устройств**. Существуют и поддерживаются [пакеты SDK Azure для устройств Интернета вещей][lnk-device-sdks] для разных языков и платформ, включая C для многих дистрибутивов Linux, Windows и операционных систем реального времени. Кроме того, пакеты SDK для устройств IoT Azure поддерживают управляемые языки, такие как C#, Java и JavaScript.

* **Протоколы IoT и расширяемость**. Если в вашем решении нельзя использовать библиотеки устройств, Центр Интернета вещей предоставляет открытый протокол, который позволяет устройствам использовать протоколы MQTT 3.1.1, HTTPS 1.1 и AMQP 1.0. Кроме того, в Центре Интернета вещей можно настроить поддержку пользовательских протоколов. Для этого нужно:

  * Создать полевой шлюз с помощью [Azure IoT Edge][lnk-iot-edge], который преобразует пользовательский протокол в протокол, поддерживаемый Центром Интернета вещей.
  * Настроить [шлюз протокола Интернета вещей Azure][protocol-gateway] (компонент с открытым исходным кодом, который выполняется в облаке).

* **Масштабирование**. Центр Интернета вещей Azure масштабируется до нескольких миллионов одновременно подключенных устройств и нескольких миллионов событий в секунду.

* **Подготовка устройств**. [Служба подготовки устройств для Центра Интернета вещей](https://docs.microsoft.com/azure/iot-dps/) — это вспомогательная служба для Центра Интернета вещей, которая обеспечивает полностью автоматическую JIT-подготовку для нужного Центра Интернета вещей. Она позволяет подготавливать миллионы устройств и обеспечивает высокий уровень безопасности и масштабируемости без каких-либо действий со стороны пользователя.

## <a name="gateways"></a>Шлюзы

В качестве шлюза в решении Интернета вещей обычно используется [шлюз протокола][lnk-iotedge], развернутый в облаке, или [полевой шлюз][lnk-field-gateway], развернутый локально вместе с устройствами.

_Шлюз протокола_ выполняет преобразование протоколов, например MQTT в AMQP.

_Полевой шлюз_ может:

* Запустить аналитику на пограничном устройстве.
* Принять решение в условиях ограниченного времени для уменьшения задержки.
* Предоставить службы управления устройствами.
* Принудительно применить ограничения безопасности и конфиденциальности.
* Выполнить преобразование протокола.

Оба типа шлюза выступают в качестве посредников между устройствами и Центром Интернета вещей.

Полевой шлюз отличается от обычного маршрутизатора трафика (например, устройства преобразования сетевых адресов или брандмауэра) тем, что ему отведена активная роль в управлении доступом и потоком информации в решении.

Решение может включать в себя шлюзы протоколов и полевые шлюзы.

## <a name="how-does-iot-hub-work"></a>Принципы работы Центра Интернета вещей

Центр Интернета вещей Azure реализует шаблон [взаимодействия с поддержкой службы][lnk-service-assisted-pattern] и выступает в роли посредника во взаимодействии между устройствами и серверной частью решения. Цель шаблона заключается в установлении путей доверенного двунаправленного взаимодействия между системой управления, такой как Центр Интернета вещей, и специализированными устройствами в недоверенном физическом пространстве. Данный шаблон устанавливает следующие принципы.

* Безопасность имеет приоритет над всеми другими возможностями.

* Устройства не принимают сетевой информации, которую они не запрашивали. Устройство устанавливает все подключения и маршруты только в исходящем режиме. Чтобы устройство получило команду от серверной части решения, оно должно регулярно инициировать подключение для проверки любых команд, ожидающих обработки.

* Устройства должны подключаться и устанавливать маршруты только с общеизвестными службами, которые являются их партнерами, такими как Центр Интернета вещей.

* Пути взаимодействия между устройством и службой или шлюзом защищены на уровне протокола приложения.

* Авторизация и проверка подлинности системного уровня основаны на удостоверениях устройств. Они позволяют практически мгновенно отзывать учетные данные и разрешения для доступа.

* Для устройств, которые подключаются нерегулярно из-за проблем с питанием или подключением, двусторонняя связь работает путем хранения команд и уведомлений для устройства до того момента, пока оно не подключится для их получения. Центр Интернета вещей хранит отправляемые команды в соответствующих очередях для каждого устройства.

* Полезные данные приложения можно защитить отдельно для безопасной передачи через шлюзы к конкретной службе.

Шаблон взаимодействия с поддержкой службы используется в отрасли мобильных устройств для реализации служб push-уведомлений, таких как [службы push-уведомлений Windows][lnk-wns], [Google Cloud Messaging][lnk-google-messaging] и [Служба push-уведомлений Apple][lnk-apple-push].

Центр Интернета вещей поддерживается по пути общедоступного пиринга ExpressRoute.

## <a name="next-steps"></a>Дополнительная информация

Начальное руководство по написанию кода и выполнению некоторых примеров см. в [этой статье][lnk-get-started].

Сведения о том, как отправлять сообщения с устройства и получать их из Центра Интернета вещей, а также как настраивать маршруты сообщений, см. в статье [Отправка и получение сообщений в Центре Интернета вещей][lnk-send-messages].

Сведения о том, как в Центре Интернета вещей реализовано стандартизированное управление устройствами для их удаленного администрирования, настройки и обновления, см. в статье [Общие сведения об управлении устройствами с помощью Центра Интернета вещей][lnk-device-management].

Вы можете внедрить клиентские приложения на различных аппаратных платформах и в операционных системах с помощью пакетов SDK для устройств Azure IoT. Пакеты SDK для устройств включают библиотеки, упрощающие отправку данных телеметрии в Центр Интернета вещей и получение сообщений, отправляемых из облака на устройство. При использовании пакетов SDK для устройств вы можете выбрать любой из множества сетевых протоколов для взаимодействия с Центром Интернета вещей. Дополнительные сведения о пакетах SDK для устройств см. [здесь][lnk-device-sdks].

[img-architecture]: media/iot-hub-what-is-iot-hub/hubarchitecture.png

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[protocol-gateway]: https://github.com/Azure/azure-iot-protocol-gateway/blob/master/README.md
[lnk-service-assisted-pattern]: http://blogs.msdn.com/b/clemensv/archive/2014/02/10/service-assisted-communication-for-connected-devices.aspx "Запись в блоге Клеменса Вастерса (Clemens Vasters) о взаимодействии с поддержкой службы"
[lnk-compare]: iot-hub-compare-event-hubs.md
[lnk-iotedge]: iot-hub-protocol-gateway.md
[lnk-field-gateway]: iot-hub-devguide-endpoints.md#field-gateways
[lnk-devguide-identityregistry]: iot-hub-devguide-identity-registry.md
[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-wns]: https://msdn.microsoft.com/library/windows/apps/mt187203.aspx
[lnk-google-messaging]: https://developers.google.com/cloud-messaging/
[lnk-apple-push]: https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW9
[lnk-device-sdks]: https://github.com/Azure/azure-iot-sdks
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
[lnk-iot-edge]: https://docs.microsoft.com/azure/iot-edge/
[lnk-send-messages]: iot-hub-devguide-messaging.md
[lnk-device-management]: iot-hub-device-management-overview.md

[lnk-twins]: iot-hub-devguide-device-twins.md
[lnk-c2d-guidance]: iot-hub-devguide-c2d-guidance.md
[lnk-d2c-guidance]: iot-hub-devguide-d2c-guidance.md

[lnk-security-ground-up]: iot-hub-security-ground-up.md
