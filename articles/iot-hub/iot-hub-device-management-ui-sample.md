<properties
 pageTitle="Использование пользовательского интерфейса управления устройствами центра IoT | Microsoft Azure"
 description="Пошаговое руководство по использованию пользовательского интерфейса управления устройствами центра Azure IoT."
 services="iot-hub"
 documentationCenter=""
 authors="dominicbetts"
 manager="timlt"
 editor=""/>

<tags
 ms.service="iot-hub"
 ms.devlang="na"
 ms.topic="article"
 ms.tgt_pltfrm="na"
 ms.workload="na"
 ms.date="06/08/2016"
 ms.author="dobett"/>

# Обзор управления устройствами центра IoT с помощью примера пользовательского интерфейса

Взаимодействие с примером пользовательского интерфейса управления устройствами поможет закрепить основные понятия и сведения о функциональных возможностях, представленные в статьях об управлении устройствами центра IoT Azure [Обзор][lnk-dm-overview] и [Приступая к работе][lnk-get-started]. В этой статье на примере пользовательского веб-интерфейса управления устройствами рассматривается каждое из трех основных понятий управления устройствами — *"двойник" устройства*, *запросы устройства* и *задания устройства*.

Разработчики, стремящиеся создать собственные интерактивные средства управления устройствами, могут скопировать пример кода пользовательского интерфейса, чтобы использовать в качестве основы для пользовательского проекта. Полный код проекта и документы со сведениями, в которых подробно описаны дополнительные возможности [пользовательского интерфейса управления устройствами Azure IoT][lnk-dm-github] для разработчиков, вы можете просмотреть на сайте GitHub.

## Предварительные требования

Перед изучением этого учебника следует выполнить действия, описанные в статье [Приступая к работе с функцией управления устройствами центра IoT Azure с использованием C# (предварительная версия)][lnk-get-started]. Если вы еще не сделали этого, вернитесь и выполните все шаги в этой статье, прежде чем продолжить.

После завершения учебника "Приступая к работе" в вашей тестовой системе будут работать следующие компоненты:

- Шесть имитаций устройств **iotdm\_simple\_sample**, работающих в окнах консоли или терминала, каждая из которых получила сообщение об успешной регистрации.

- Пример приложения пользовательского интерфейса управления устройствами, для которого выполнена сборка и которое запущено локально по адресу <http://127.0.0.1:3003>.

## Представление устройств по умолчанию

Начальный экран по умолчанию примера пользовательского интерфейса управления устройствами в представлении **Devices** (Устройства) состоит из пяти частей.

![][1]

1.  *Кнопки навигации*: представление **Devices** (Устройства) (выбрано), представление **Job History** (Журнал заданий) и представление **Add a Device** (Добавление устройства).

2. *Поиск устройств*: поиск и изменение одного устройства по идентификатору устройства.

3.  *Действия устройства*: действия **Edit** (Изменить), **Delete** (Удалить) и **Export** (Экспортировать).

4.  *Задания устройства*: **Reboot** (Перезагрузка) (устройства), **Firmware Update** (Обновление встроенного ПО) и **Factory Reset** (Сброс параметров).

5.  *Фильтр сетки устройств*: редактор фильтров для создания и сохранения пользовательских представлений сетки устройств.

6.  *Сетка устройств*: просмотр всех устройств, зарегистрированных в вашем экземпляре центра IoT, и их свойств по умолчанию (**Device ID** (Идентификатор устройства), **Status** (Состояние) и **Tags** (Теги)).

В [обзоре управления устройствами][lnk-dm-overview] было введено понятие *"двойника" устройства*, которое относится к физическому (или имитации) устройству в центре Azure IoT. В сетке устройств можно выбрать любое зарегистрированное устройство, чтобы просмотреть и изменить его "двойник".

Откройте это подробное представление для первой имитации устройства, **Device11-7ce4a850**, выбрав соответствующую строку устройства и нажав кнопку **Edit** (Изменить). Можно также дважды щелкнуть строку устройства или ввести его идентификатор в поле поиска.

Теперь вы видите полное представление разделов "двойника" устройства, где можно обновить записываемые свойства и выполнить другие операции с устройствами, как описано ниже.

![][2]

1.  **Edit a Device Twin** (Изменение двойника устройства): содержит переключатель **Enabled/Disabled** (Включено/отключено) для устройства.

2.  **Service Properties** (Свойства службы): содержит свойство **Tags** (Теги устройства).

3.  **Device Properties** (Свойства устройства): щелкните, чтобы развернуть этот раздел.

4.  Кнопка **Refresh** (Обновить): позволяет получить самые последние свойства и значения "двойника" устройства.

Чтобы продолжить, нажмите кнопку **Cancel** (Отмена) в нижнем правом углу этого представления. Вы вернетесь на страницу списка устройства по умолчанию.

## Фильтрование представления устройств с помощью запросов устройств

Запросы устройств являются мощным инструментом для быстрого поиска устройства или группы устройств с определенным свойством (например, определенным тегом). Пример пользовательского интерфейса использует запросы устройств для заполнения перечня устройств на странице списка устройств по умолчанию. С помощью примера пользовательского интерфейса можно добавлять и удалять свойства службы в таблице и применять фильтр по некоторым из этих свойств.

Выполните следующие действия, чтобы создать фильтр клиентов по тегу свойства службы "bacon".

1.  Щелкните значок воронки, чтобы открыть представление для изменения запроса устройства.

    ![][3]

2.  Щелкните **+ Add a filter** (+ Добавить фильтр), чтобы развернуть редактор. Выберите **Tags** (Теги) из раскрывающегося списка свойств и введите **bacon** в текстовое поле. Теперь нажмите кнопку **Apply** (Применить). Теперь в списке устройств отображается только три устройства с тегом "bacon".

    ![][4]

3.  В поле заголовка запроса (рядом со значком воронки) укажите имя запроса **Only Bacon** и нажмите кнопку **Save** (Сохранить).

    ![][5]

4.  Щелкните значок воронки, чтобы выйти из редактора запроса устройства.

## Имитация перезагрузок устройства с помощью задания устройства 

Как вы узнали из обзора управления устройствами, задания устройства позволяют управлять простыми или сложными действиями с одним или несколькими физическими устройствами. В этом разделе вы создадите задание устройства в примере пользовательского интерфейса, чтобы выполнить операцию перезагрузки всех имитаций устройств с тегом "bacon".

1.  В списке запроса устройства **Only Bacon** щелкните строку каждого устройства, чтобы пометить его для задания перезагрузки.

    ![][6]

2.  Нажмите кнопку **Reboot** (Перезагрузить) на панели инструментов заданий устройств, чтобы создать задание перезагрузки. Нажав кнопку **Yes** (Да) для подтверждения, щелкните гиперссылку **Job History** (Журнал заданий) в отобразившемся диалоговом окне **Job for Device has started** (Запущено задание для устройства), чтобы перейти к представлению заданий устройств.

    ![][7]

Вы создали одно родительское задание, создающее три дочерних задания, каждое из которых выполняет перезагрузку одного из трех устройств с тегом "bacon".

![][8]

После обновления этого экрана через несколько мгновений состояние родительского задания и трех дочерних заданий изменится на **completed** (Завершено). Это значит, что операции перезагрузки были успешно выполнены и подтверждены имитациями устройств. Используйте столбец **Device ID** (Идентификатор устройства), чтобы определить, какие задания и устройства связаны.


> [AZURE.NOTE] Если дочерние задания вернут состояние "failed" (Сбой), проверьте, выполняются ли ваши имитации устройств в тестовой системе. Если это не так, еще раз выполните файл simulate.bat или сценарий simulate.sh и повторите процесс перезагрузки устройств с помощью задания, описанный выше.

## Дальнейшие действия

Вы завершили изучение основных понятий управления устройствами с помощью примера пользовательского интерфейса управления устройствами. Если вы хотите подробнее изучить возможности API-интерфейсов управления устройствами и поэкспериментировать с примерами кода, см. следующие руководства для разработчиков.

- [How to use the device twin (Использование "двойника" устройства)][lnk-tutorial-twin]
- [How to find device twins using queries (Поиск "двойников" устройств с использованием запросов)][lnk-tutorial-queries]
- [How to use device jobs to update device firmware (Использование заданий устройства для обновления встроенного ПО устройства)][lnk-tutorial-jobs]
- [Включение управляемых устройств за шлюзом IoT][lnk-dm-gateway]
- [Знакомство с клиентской библиотекой управления устройствами для центра Azure IoT][lnk-library-c]

Для дальнейшего изучения возможностей центра IoT см. следующие статьи:

- [Разработка решения][lnk-design]
- [Руководство разработчика по центру Azure IoT (IoT — Интернет вещей)][lnk-devguide]
- [Пакет SDK для шлюза IoT (бета-версия): отправка сообщений с устройства в облако через виртуальное устройство с помощью Linux][lnk-gateway]
- [Управление центрами IoT через портал Azure][lnk-portal]

[1]: media/iot-hub-device-management-ui-sample/image1.png
[2]: media/iot-hub-device-management-ui-sample/image2.png
[3]: media/iot-hub-device-management-ui-sample/image3.png
[4]: media/iot-hub-device-management-ui-sample/image4.png
[5]: media/iot-hub-device-management-ui-sample/image5.png
[6]: media/iot-hub-device-management-ui-sample/image6.png
[7]: media/iot-hub-device-management-ui-sample/image7.png
[8]: media/iot-hub-device-management-ui-sample/image8.png

[lnk-dm-overview]: iot-hub-device-management-overview.md
[lnk-get-started]: iot-hub-device-management-get-started.md
[lnk-dm-github]: https://github.com/Azure/azure-iot-device-management/

[lnk-tutorial-twin]: iot-hub-device-management-device-twin.md
[lnk-tutorial-queries]: iot-hub-device-management-device-query.md
[lnk-tutorial-jobs]: iot-hub-device-management-device-jobs.md
[lnk-dm-gateway]: iot-hub-gateway-device-management.md
[lnk-library-c]: iot-hub-device-management-library.md

[lnk-design]: iot-hub-guidance.md
[lnk-devguide]: iot-hub-devguide.md
[lnk-gateway]: iot-hub-linux-gateway-sdk-simulated-device.md
[lnk-portal]: iot-hub-manage-through-portal.md

<!---HONumber=AcomDC_0713_2016-->