---
title: "Параметры отправки сообщений из облака на устройство с помощью Центра Интернета вещей Azure | Документация Майкрософт"
description: "Руководство разработчика. Рекомендации по использованию прямых методов, требуемых свойств двойника устройства и сообщений, отправляемых из облака на устройство, для обмена данными между облаком и устройством."
services: iot-hub
documentationcenter: 
author: fsautomata
manager: timlt
editor: 
ms.assetid: 1ac90923-1edf-4134-bbd4-77fee9b68d24
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/09/2016
ms.author: elioda
translationtype: Human Translation
ms.sourcegitcommit: dea438c8b1bd3d6331f84de01def989f66b6f387
ms.openlocfilehash: 88ae905708a421052666316eb81c1dd97d6c9635
ms.lasthandoff: 02/09/2017


---
# <a name="cloud-to-device-communications-guidance"></a>Руководство по обмену данными между облаком и устройством
Центр Интернета вещей предоставляет три варианта отправки сведений из приложения для устройства во внутреннее приложение.

* [Прямые методы][lnk-methods] — используются для обмена данными, требующего немедленного подтверждения результата, как правило, для интерактивного управления устройством, например включение вентилятора.
* [Требуемые свойства двойника][lnk-twins] — используются для долго выполняющихся команд, предназначенных для перевода устройства в определенное требуемое состояние. Например, можно задать интервал отправки телеметрии 30 минут.
* [Сообщения, отправляемые из облака на устройство (C2D)][lnk-c2d] — предназначены для отправки односторонних уведомлений в приложение устройства.

Ниже приведено подробное сравнение различных параметров обмена данными между облаком и устройством.

|  | Прямые методы | Требуемые свойства двойника | Сообщения, отправляемые из облака на устройство |
| ---- | ------- | ---------- | ---- |
| Сценарий | Команды, требующие немедленного подтверждения, например включение вентилятора. | Долго выполняющиеся команды, предназначенные для перевода устройства в определенное требуемое состояние. Например, можно задать интервал отправки телеметрии 30 минут. | Односторонние уведомления, отправляемые в приложение устройства. |
| Поток данных | Двусторонняя связь. Приложение устройства может немедленно отвечать на метод. Серверная часть решения получает результат в зависимости от контекста запроса. | Односторонняя связь. Приложение устройства получает уведомление при изменении свойства. | Односторонняя связь. Приложение устройства получает сообщение.
| Устойчивость | У отключенных устройств нет связи. Серверная часть получает уведомление о том, что устройство не подключено. | Значения свойства сохраняются в двойнике устройства. Устройство считает их при следующем подключении. Значения свойства извлекаются с помощью [языка запросов Центра Интернета вещей][lnk-query]. | Сообщения могут храниться в Центре Интернета вещей до 48 часов. |
| Целевые объекты | Одно устройство по **идентификатору устройства** или несколько устройств с использованием [заданий][lnk-jobs]. | Одно устройство по **идентификатору устройства** или несколько устройств с использованием [заданий][lnk-jobs]. | Одно устройство по **идентификатору устройства**. |
| Размер | Запросы и ответы до 8 КБ. | Максимальный размер требуемого свойства — 8 КБ. | Сообщения до 64 КБ. |
| Frequency | Высокий. Дополнительные сведения см. на странице [ограничений Центра Интернета вещей][lnk-quotas]. | Средний. Дополнительные сведения см. на странице [ограничений Центра Интернета вещей][lnk-quotas]. | Низкий. Дополнительные сведения см. на странице [ограничений Центра Интернета вещей][lnk-quotas]. |
| Протокол | В настоящее время доступно только при использовании MQTT. | В настоящее время доступно только при использовании MQTT. | Доступно при использовании всех протоколов. При использовании HTTP устройству необходимо выполнять опрос. |

Узнайте об использовании прямых методов, требуемых свойств и сообщений, отправляемых из облака на устройство, в следующих руководствах.

* [Использование прямых методов][lnk-methods-tutorial] — сведения о прямых методах.
* [Настройка устройств с помощью требуемых свойств][lnk-twin-properties] — сведения о требуемых свойствах двойника устройства. 
* [Отправка сообщений из облака на устройство][lnk-c2d-tutorial] — сведения о сообщениях, отправляемых из облака на устройство.

[lnk-twins]: iot-hub-devguide-device-twins.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-jobs]: iot-hub-devguide-jobs.md
[lnk-c2d]: iot-hub-devguide-messaging.md#cloud-to-device-messages
[lnk-methods]: iot-hub-devguide-direct-methods.md
[lnk-methods-tutorial]: iot-hub-node-node-direct-methods.md
[lnk-twin-properties]: iot-hub-node-node-twin-how-to-configure.md
[lnk-c2d-tutorial]: iot-hub-node-node-c2d.md

