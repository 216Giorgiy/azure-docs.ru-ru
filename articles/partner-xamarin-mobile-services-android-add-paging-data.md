<properties 
	pageTitle="Разбиение данных по страницам (Xamarin Android) | Центр разработчиков для мобильных устройств" 
	description="Информация об использовании разбиения по страницам для управления объемом данных, возвращаемых в приложение Xamarin для Android из мобильных служб." 
	services="mobile-services" 
	documentationCenter="xamarin" 
	authors="lindydonna" 
	manager="dwrede" 
	editor=""/>

<tags 
	ms.service="mobile-services" 
	ms.workload="mobile" 
	ms.tgt_pltfrm="mobile-xamarin-android" 
	ms.devlang="dotnet" 
	ms.topic="article" 
	ms.date="09/25/2014" 
	ms.author="donnam"/>

# Уточнение запросов мобильных служб c разбиением по страницам

[AZURE.INCLUDE [mobile-services-selector-add-paging-data](../includes/mobile-services-selector-add-paging-data.md)]


В этом разделе показано, как использовать разбиение на страницы для управления объемом данных, возвращаемых в ваше приложение Xamarin.Android из мобильных служб Azure. В этом учебнике методы запроса **Take** и **Skip** на стороне клиента будут использоваться для запроса определенных "страниц" данных.

> [AZURE.NOTE] Для предотвращения переполнения данных в клиентах мобильных устройств в мобильных службах реализовано автоматическое ограничение для страницы, значение по умолчанию - 50 элементов в ответе. Указав размер страницы, можно явно запросить до 1000 элементов в ответе.

Этот учебник основан на инструкциях и примере приложения предыдущего учебника, [Приступая к работе с данными]. Перед началом этого учебника необходимо изучить хотя бы первый учебник из серии по работе с данными, [Приступая к работе с данными]. 

1. В Xamarin Studio откройте проект, созданный после завершения учебника [Приступая к работе с данными].

2. Нажмите кнопку **Запуск** для запуска приложения, затем введите текст в текстовое поле и нажмите кнопку **Добавить**.

3. Повторите предыдущий шаг минимум три раза, чтобы получить более трех элементов, хранящихся в таблице TodoItem. 

4. В файле **TodoActivity.cs** замените запрос LINQ в методе **RefreshItemsFromTableAsync** следующим:

		var list = await todoTable.Where(item => item.Complete == false)
						          .Take(3)
			                      .ToListAsync();

	  Этот запрос возвращает три верхних элемента, которые не помечены как завершенные.

5. Повторно выполните сборку и запустите приложение. 
   
    Обратите внимание, что отображаются только первые три результата из таблицы TodoItem. 

6. (Необязательно). Просмотрите универсальный код ресурса (URI) запроса, отправленного в мобильную службу, с помощью программы проверки сообщений, например средств разработчика браузера или [Fiddler]. 

   	Обратите внимание, что в универсальном коде ресурса (URI) запроса метод `Take(3)` был преобразован в параметр запроса `$top=3`.

7. Обновите запрос LINQ в методе **RefreshItemsFromTableAsync** еще раз следующим запросом:
            
			var list = await todoTable.Where(item => item.Complete == false)
							          .Skip(3)
				                      .Take(3)
                 				      .ToListAsync();

   	Этот запрос пропускает первые три результата и возвращает следующие три. Это фактически вторая "страница" данных, где размер страницы составляет три элемента.

    > [AZURE.NOTE] В этом учебнике используется упрощенный сценарий передачи жестко запрограммированных значений разбиения по страницам в методы **Take** и **Skip**. В реальных приложениях можно использовать запросы, подобные вышеуказанным с постраничным навигатором или с другим совместимым пользовательским интерфейсом, позволяющим переходить на следующую страницу или возвращаться к предыдущей странице. Можно также вызвать метод **IncludeTotalCount**, чтобы, помимо разбитых на страницы данных, получить общее количество элементов, доступных на сервере.

8. (Необязательно.) Снова просмотрите универсальный код ресурса (URI) запроса, отправленного в мобильную службу. 

   	Обратите внимание, что в универсальном коде ресурса (URI) запроса метод `Skip(3)` был преобразован в параметр запроса $skip=3.

## <a name="next-steps"> </a>Дальнейшие действия

На этом завершается серия учебников, демонстрирующих основы работы с данными в мобильных службах. Просмотрите следующие разделы, посвященные мобильным службам:

* [Приступая к работе с проверкой подлинности]
  <br/>Дополнительные сведения о выполнении аутентификации учетных данных пользователей приложения с помощью учетной записи Windows.
 
* [Приступая к работе с push-уведомлениями] 
  <br/>Сведения об отправке в приложение простейших push-уведомлений.

<!-- Anchors. -->

[Дальнейшие действия]:#next-steps

<!-- Images. -->


<!-- URLs. -->
[Приступая к работе с мобильными службами]: /ru-ru/develop/mobile/tutorials/get-started-xamarin-android
[Приступая к работе с данными]: /ru-ru/develop/mobile/tutorials/get-started-with-data-xamarin-android
[Приступая к работе с проверкой подлинности]: /ru-ru/develop/mobile/tutorials/get-started-with-users-xamarin-android
[Приступая к работе с push-уведомлениями]: /ru-ru/develop/mobile/tutorials/get-started-with-push-xamarin-android

[Портал управления]: https://manage.windowsazure.com/




<!--HONumber=42-->
