<properties
	pageTitle="Хранилище BLOB-объектов Azure: уровни холодных и горячих данных | Microsoft Azure"
	description="Обзор уровней хранилища BLOB-объектов, обеспечивающих экономичное хранение данных объектов на основе шаблонов доступа."
	services="storage"
	documentationCenter=""
	authors="sribhat-msft"
	manager="vamshik"
	editor="tysonn"/>

<tags
	ms.service="storage"
	ms.workload="storage"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="get-started-article"
	ms.date="04/24/2016"
	ms.author="sribhat"/>


# Хранилище BLOB-объектов Azure: уровни холодных и горячих данных

## Обзор

Хранилище BLOB-объектов Azure — это экономичное и масштабируемое решение для хранения больших объемов неструктурированных данных в облаке. Большая емкость, а также возможность масштабировать хранилище BLOB-объектов позволяют легко и экономично хранить петабайты данных и миллиарды объектов каждого клиента. Дополнительные сведения см. в статье [Знакомство со службой хранилища Microsoft Azure](storage-introduction.md).

В настоящее время объемы данных, хранимых в облаке, увеличиваются в геометрической прогрессии, поэтому важным аспектом управления затратами при увеличении хранилища является распределение данных по уровням в зависимости от таких атрибутов, как частота доступа, срок хранения и т. п. На основе отзывов клиентов и шаблонов использования мы сделали вывод, что на протяжении всего своего времени существования разные данные, хранящиеся в облаке, по-разному создаются, обрабатываются и используются с разной частотой. Одни данные активно используют и изменяют на протяжении всего жизненного цикла. Другие же часто использует в начале цикла, но все реже по мере их устаревания, в то время как третьи данные не используют или делают это редко, возможно даже единожды за весь срок хранения. В общем, среди всех них можно выделить **горячие данные**, которые используют очень часто и для которых нужно обеспечить высокие надежность и доступность, а также **холодные данные**, которые необходимо редко использовать и долго хранить. Холодные данные могут отличаться меньшей доступностью, но должны быть так же надежны и доступны, как горячие данные, и обладать такими же характеристиками пропускной способности и времени получения доступа. Приемлемым компромиссом для более экономного хранения холодных данных является соглашение об уровне обслуживания, предусматривающее более низкую доступность, и больше затрат на доступ.

Каждый из сценариев доступа к данным выше создает преимущества за счет хранения на разных уровнях, оптимизированных для конкретных шаблонов доступа. Теперь хранилище BLOB-объектов Azure предусматривает хранение данных с различными шаблонами доступа на разных уровнях, позволяя использовать разные модели ценообразования.

## Учетные записи хранения BLOB-объектов

**Учетные записи хранения BLOB-объектов** — это специализированные учетные записи хранения таких неструктурированных данных, как большие двоичные объекты, в службе хранилища Azure. Теперь благодаря учетным записям хранения BLOB-объектов вы можете выбрать уровень хранения данных: холодный, чтобы сэкономить на хранении данных, которые редко используются, и горячий, чтобы сэкономить на доступе к данным, которые используются чаще. Учетные записи хранения BLOB-объектов аналогичны учетным записям хранения общего назначения и обладают такими же отличными функциями обеспечения устойчивости, надежности, масштабируемости и производительности, которые вы уже используете, а также отличаются полной согласованностью API в плане блочных BLOB-объектов и добавления больших двоичных объектов.

Учетные записи хранения BLOB-объектов используют атрибут **уровня доступа**, который позволяет задавать **горячий** или **холодный** уровень доступа в зависимости от данных, хранящихся в учетной записи. Если нужно изменить шаблон использования данных, вы в любое время можете изменить уровень доступа.

> [AZURE.NOTE] За изменение уровня доступа может взиматься дополнительная плата. Дополнительные сведения см. в разделе [Цены и выставление счетов](storage-blob-storage-tiers.md#pricing-and-billing) ниже.

Вот некоторые примеры сценариев использования, при которых данные нужно хранить на горячем уровне доступа:

- Данные активно используют или планируют часто получать к ним доступ (для чтения и записи).
- Данные, которые вы планируете обрабатывать и в конечном счете перенести, лучше отнести к холодному уровню.

Вот некоторые примеры сценариев использования, при которых данные нужно хранить на холодном уровне доступа:

- Наборы данных резервного копирования, архивирования и аварийного восстановления.
- Старое мультимедийное содержимое, которое нечасто просматривают, но которое должно быть доступно сразу по необходимости.
- Большие наборы данных, которые нужно хранить при меньших затратах, при этом данные собирают для последующей обработки (*например*, нужно долго хранить данные научных исследований или необработанные данные телеметрии производственного объекта).
- Исходные (необработанные) данные, которые необходимо сохранить даже после их окончательной обработки (*например*, необработанные мультимедийные данные после перекодирования в другие форматы).
- Архивные данные и данные соответствия требованиям, которые нужно хранить в течение длительного времени и которые вряд ли когда-либо будут использовать (*например*, записи камер безопасности, старые рентгенограммы и результаты МРТ в организациях здравоохранения или аудиозаписи и записи разговоров с клиентами в финансовых службах).

Дополнительные сведения об учетных записях хранения см. в статье [Об учетных записях хранения Azure](storage-create-storage-account.md).

Для приложений, которые нужны, только чтобы блокировать или добавлять хранилище BLOB-объектов, лучше использовать учетные записи хранения BLOB-объектов. Это позволит получить преимущества дифференцированной модели ценообразования многоуровневого хранилища. Тем не менее ясно, что при определенных обстоятельствах это всегда возможно, и лучше всего использовать учетные записи хранения общего назначения. Например:

- Если вам необходимо использовать таблицы, очереди или файлы, а большие двоичные объекты при этом нужно хранить в той же учетной записи хранения. Учтите, что хранение в одной учетной записи не предоставляет никаких технических преимуществ, кроме использования одних и тех же общих ключей.
- При этом все равно нужно использовать классическую модель развертывания. Учетные записи хранения BLOB-объектов доступны при использовании модели развертывания с помощью Azure Resource Manager.
- Вам нужно использовать страничные BLOB-объекты. Обычно блочные BLOB-объекты рекомендуется использовать, только если нет необходимости в страничных BLOB-объектах.
- Вы используете версию [REST API служб хранилища](https://msdn.microsoft.com/library/azure/dd894041.aspx), выпущенную раньше 14.02.2014, или клиентскую библиотеку ранее чем 4 версии и не можете установить новую версию приложения.

> [AZURE.NOTE] Сейчас учетные записи хранения BLOB-объектов поддерживаются в большинстве регионов Azure, и планируется расширить поддержку. Обновленный список регионов доступности см. на странице [Службы Azure по региону](https://azure.microsoft.com/regions/#services).

## Сравнение уровней доступа

В следующей таблице приводится сравнение двух уровней доступа:

<table border="1" cellspacing="0" cellpadding="0" style="border: 1px solid #000000;">
<col width="250"> <col width="250"> <col width="250">
<tbody>
<tr>
	<td><strong><center></center></strong></td>
	<td><strong><center>Горячий уровень доступа</center></strong></td>
	<td><strong><center>Холодный уровень доступа</center></strong>&lt;/td
</tr>
<tr>
    <td><strong><center>Доступность</center></strong></td>
	<td><center>99,9 %</center></td>
	<td><center>99 %</center></td>
</tr>
<tr>
    <td><strong><center>Доступность<br>(операции чтения RA-GRS)</center></strong></td>
	<td><center>99,99 %</center></td>
	<td><center>99,9 %</center></td>
</tr>
<tr>
    <td><strong><center>Плата за использование</center></strong></td>
	<td><center>Больше затрат на хранение.<br>Меньше затрат на доступ и транзакции</center></td>
	<td><center>Меньше затрат на хранение.<br>Больше затрат на доступ и транзакции</center></td>
</tr>
<tr>
	<td><strong><center>Объекты минимального размера<center></strong></td>
	<td colspan="2"><center>НЕДОСТУПНО</center></td>
</tr>
<tr>
	<td><strong><center>Минимальный срок хранения<center></strong></td>
	<td colspan="2"><center>НЕДОСТУПНО</center></td>
</tr>
<tr>
	<td><strong><center>Задержка<br>(время до получения первого байта)<center></strong></td>
	<td colspan="2"><center>Миллисекунды</center></td>
</tr>
<tr>
	<td><strong><center>Производительность и масштабирование<center></strong></td>
	<td colspan="2"><center>Такие же, как при использовании учетных записей хранения общего назначения</center></td>
</tr>
</tbody>
</table>

> [AZURE.NOTE] Учетные записи хранения BLOB-объектов обеспечивают такую же производительность и масштабируемость, как учетные записи хранения общего назначения. Дополнительные сведения см. в статье [Целевые показатели масштабируемости и производительности службы хранилища Azure](storage-scalability-targets.md).

## Цены и выставление счетов

Учетные записи хранения BLOB-объектов предусматривают новую модель ценообразования для хранения BLOB-объектов на основе уровня доступа. При использовании учетной записи хранения BLOB-объектов счета выставляются следующим образом:

- **Расходы на хранение**. Плата за хранение данных зависит не только от их объема, но и от уровня доступа. Для холодного уровня доступа цена за гигабайт ниже, чем для горячего уровня доступа.
- **Расходы на доступ к данным**. На холодном уровне доступа взимается плата за гигабайт данных для операций чтения и записи.
- **Расходы на транзакции**. На обоих уровнях взимается плата за каждую транзакцию. Тем не менее стоимость транзакции для холодного уровня доступа больше, чем для горячего.
- **Расходы на передачу данных георепликации**. Этот пункт касается только тех учетных записей, в которых настроена георепликация, включая GRS и RA-GRS. При передаче данных георепликации взимается плата за гигабайт данных.
- **Расходы на исходящий трафик**. Передача трафика (из региона Azure) предусматривает выставление счетов за использование пропускной способности по гигабайтам, как и при использовании учетных записей хранения общего назначения.
- **Изменение уровня доступа**. За изменение холодного уровня доступа на горячий взимается плата, равная плате за чтение всех данных в учетной записи хранения при переходе любого типа. За изменение горячего уровня доступа на холодный плата не взимается.

> [AZURE.NOTE] Чтобы пользователи смогли испробовать новые уровни хранения и проверить работу после запуска, плата за изменение холодного уровня доступа на горячий не будет взиматься до 30 июня 2016 года. С 1 июля 2016 года будет взиматься плата за каждый переход с холодного уровня на горячий. Дополнительные сведения о модели ценообразования для учетных записей хранения BLOB-объектов см. на странице [Цены на хранилища Azure](https://azure.microsoft.com/pricing/details/storage/). Дополнительные сведения о ценах на исходящий трафик см. на странице [Сведения о ценах — передача данных](https://azure.microsoft.com/pricing/details/data-transfers/).

## Быстрый запуск

В этом разделе продемонстрированы следующие сценарии, предусматривающие использование портала Azure:

- создание учетной записи хранения BLOB-объектов;
- управление учетной записью хранения BLOB-объектов.

### Использование портала Azure

#### Создание учетной записи хранения BLOB-объектов с использованием портала Azure

1. Войдите на [портал Azure](https://portal.azure.com).

2. В меню концентратора выберите **Создать** -> **Данные + хранилище** -> **Учетная запись хранения**.

3. Выберите имя для своей учетной записи хранения.

4. Выберите **Resource Manager** в качестве модели развертывания.

5. Выберите **Хранилище BLOB-объектов** в качестве типа учетной записи хранения.

6. Выберите уровень доступа: **Горячий** или **Холодный**. По умолчанию используется значение **Горячий**.

7. Выберите значение параметра репликации для учетной записи хранения: **LRS**, **GRS** или **RA-GRS**. Значение по умолчанию — **RA-GRS**. Дополнительные сведения о репликации службы хранилища Azure см. в статье [Репликация службы хранилища Azure](storage-redundancy.md).

8. Выберите подписку, в которой вы создаете учетную запись хранения.

9. Выберите существующую группу ресурсов или создайте новую. Дополнительные сведения о группах ресурсов Azure см. в статье [Развертывание ресурсов Azure и управление ими с помощью портала Azure](../azure-portal/resource-group-portal.md).

10. Выберите географический регион для учетной записи хранения.

11. Щелкните **Создать**, чтобы создать учетную запись хранения.

#### Изменение уровня доступа в учетной записи хранения BLOB-объектов с использованием портала Azure

1.	Войдите на [портал Azure](https://portal.azure.com) и перейдите к учетной записи хранения.

2.	Откройте раздел **Все параметры**, щелкните **Конфигурация**, чтобы просмотреть и/или изменить конфигурацию учетной записи.

3.	Укажите необходимый уровень доступа: **Горячий** или **Холодный**.

## Миграция в учетную запись хранения BLOB-объектов

Этот раздел создан, чтобы помочь пользователям плавно перейти на учетную запись хранения BLOB-объектов. Учетная запись хранения BLOB-объектов предназначена для хранения только больших двоичных объектов. Существующие учетные записи хранения общего назначения, которые также позволяют хранить таблицы, очереди и файлы, нельзя преобразовать в учетные записи хранения BLOB-объектов. Поэтому, чтобы использовать функции учетной записи хранения BLOB-объектов, вам нужно создать соответствующую учетную запись с желаемым уровнем доступа и перенести существующие данные в новую учетную запись.

### Планирование миграции существующих данных

При перемещении данных в учетную запись хранения BLOB-объектов, вероятно, вы захотите использовать преимущества холодного уровня доступа, чтобы сэкономить на хранении редко используемых данных. Планируя перенос данных в учетную запись хранения BLOB-объектов на холодный уровень доступа, в первую очередь нужно определить текущий шаблон использования, чтобы узнать, получите ли вы преимущества, перейдя на такую учетную запись. В общем, необходимо выяснить следующее:

- Шаблон использования хранилища. Сколько данных хранится и насколько меняется их объем каждый месяц?
- Шаблоны доступа к хранилищу. Каков объем чтения данных из учетной записи и объем записи в нее (в том числе новых данных)? Сколько и какие транзакции используются для доступа к данным?

Сведения о том, как выполнить мониторинг существующих учетных записей хранения и собрать данные, см. в статье [Включение метрик хранилища Azure и просмотр данных метрик](storage-enable-and-view-metrics.md). Теперь на основе полученных данных можно оценить расходы с помощью [калькулятора цен на хранилище Azure](https://azure.microsoft.com/pricing/calculator/?scenario=data-management).

### Миграция существующих данных

Чтобы перенести данные в учетную запись хранения BLOB-объектов из решения локального хранилища, стороннего поставщика облачного хранилища или учетной записи хранения общего назначения в Azure, можно использовать следующее:

#### AzCopy

AzCopy — это программа командной строки Windows, предназначенная для быстрого копирования большого объема данных в службу хранилища Azure и из нее. С помощью AzCopy можно копировать данные в учетную запись хранения BLOB-объектов из существующих учетных записей хранения общего назначения или передать данные из локальной системы хранения в учетную запись хранения BLOB-объектов.

Дополнительную информацию см. в статье [Приступая к работе со служебной программой командной строки AzCopy](storage-use-azcopy.md).

#### Библиотека перемещения данных

В основе библиотеки перемещения данных службы хранилища Azure для .NET лежит основная платформа перемещения данных, на базе которой работает AzCopy. Библиотека предназначена для надежной и легкой передачи данных при высокой производительности, аналогично AzCopy. Благодаря ей вы можете изначально пользоваться всеми преимуществами функций AzCopy в своем приложении без необходимости запускать внешние экземпляры AzCopy и выполнять их мониторинг.

Дополнительные сведения см. в статье [Azure Storage Data Movement Library for .NET](https://github.com/Azure/azure-storage-net-data-movement) (Библиотека перемещения данных службы хранилища Azure для .NET)

#### REST API или клиентская библиотека

Вы можете самостоятельно создать приложение, чтобы перенести данные в учетную запись хранения BLOB-объектов, используя одну из клиентских библиотек Azure или API REST служб хранения Azure. Служба хранилища Azure предоставляет богатые клиентские библиотеки для создания приложений с использованием .NET, Java, Android, C++, Node.js, PHP, Ruby и Python. Клиентские библиотеки предлагают дополнительные возможности, такие как логический алгоритм повтора, ведение журнала и параллельная загрузка. Также есть возможность вести разработку непосредственно через интерфейс API REST, который можно вызывать в любом языке программирования, поддерживающем запросы HTTP/HTTPS.

Дополнительные сведения см. в статье [Приступая к работе с хранилищем BLOB-объектов Azure с помощью .NET](storage-dotnet-how-to-use-blobs.md).

## Часто задаваемые вопросы

1.	**Будут ли по-прежнему доступны существующие учетные записи хранения?**

    Да, учетные записи хранения будут доступны. Их функции и цена на их использование также не изменятся. Они не предусматривают возможность выбора уровня доступа и в будущем не будут поддерживать уровневые возможности.

2.	**Когда и почему лучше начать использовать учетные записи хранения BLOB-объектов?**

    Учетные записи хранения BLOB-объектов предназначены специально для хранения больших двоичных объектов и предоставляют новые функции их использования. Забегая вперед, можно отметить, что учетная запись хранения BLOB-объектов — это рекомендуемое средство хранения соответствующих объектов, ведь в будущем планируется реализовать возможности иерархического и уровневого хранения на основе учетной записи этого типа. Тем не менее решение о миграции следует принимать на основе требований своего бизнеса.

3.	**Можно ли преобразовать учетную запись хранения в учетную запись хранения BLOB-объектов?**

    Нет. Учетная запись ранения BLOB-объектов — это учетная запись другого типа. Вам необходимо создать новую запись и перенести данные, как описано выше.

4.	**Можно ли хранить объекты на обоих уровнях доступа в одной учетной записи?**

    На данный момент нет. На уровне учетной записи устанавливается атрибут уровня доступа, который применяется ко всем ее объектам.

5.	**Можно изменить уровень доступа в учетной записи хранения BLOB-объектов?**

    Да. В учетной записи хранения можно изменить уровень доступа. Это изменение на уровне учетной записи применяется ко всем объектам, которые хранятся в учетной записи. За изменение горячего уровня доступа на холодный плата не взимается, а за изменение холодного на горячий взимается палата за чтение данных в учетной записи по гигабайтам.

6.	**Как часто можно изменять уровень доступа в учетной записи хранения BLOB-объектов?**

    Ограничений на частоту изменения уровня доступа нет, но учтите, что изменение холодного уровня доступа на горячий влечет значительные издержки. Мы не рекомендуем часто менять уровень доступа.

7.	**Нужно ли изменять свои существующие приложения, чтобы использовать учетные записи хранения BLOB-объектов?**

    Учетные записи хранения BLOB-объектов полностью совместимы с API учетных записей хранения общего назначения, если используется последняя версия [REST API служб хранилища](https://msdn.microsoft.com/library/azure/dd894041.aspx) (от 14.02.2014). Если вы используете протокол старой версии, нужно обновить приложение, чтобы использовать новую версию и эффективно работать с учетными записями хранения обоих типов. В целом рекомендуется всегда использовать последнюю версию, независимо от того, учетную запись хранения какого типа вы используете.

8.	**Будет ли взиматься плата за работу пользователей?**

    Учетные записи хранения BLOB-объектов предусматривают хранение только больших двоичных объектов, но во всем остальном они аналогичны учетным записям хранения общего назначения и поддерживают все ключевые функции службы хранилища Azure, в том числе обеспечение высокой надежности и доступности, масштабируемости, производительности и безопасности. Кроме функций, определенных ограничений для учетных записей хранения BLOB-объектов, а также уровней доступа, описанных выше, они ничем не отличаются.

<!---HONumber=AcomDC_0427_2016-->