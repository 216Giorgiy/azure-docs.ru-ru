<properties 
   pageTitle="Целевые показатели масштабируемости и производительности хранилища Azure | Azure"
   description="Ознакомление с параметрами масштабируемости и производительности учетных записей хранения Azure по  емкости, частоте запросов, входящей и исходящей пропускной способности. Понимание целевых показателей производительности для разделов каждой из служб хранилища Azure."
   services="storage"
   documentationCenter="na"
   authors="tamram"
   manager="na"
   editor="na" /> <tags 
   ms.service="storage"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="storage"
   ms.date="04/24/2015"
   ms.author="tamram" />

# Целевые показатели масштабируемости и производительности хранилища Azure

Данный раздел посвящен вопросам масштабируемости и производительности службы хранилища Microsoft Azure. Сведения о других ограничениях Azure приведены в разделе [Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-subscription-service-limits.md).

>[AZURE.NOTE]Все учетные записи хранения функционируют в новой плоской сетевой топологии и поддерживают приведенные ниже целевые показатели масштабируемости и производительности независимо от того, когда они были созданы. Дополнительная информация о плоской сетевой архитектуре хранилища Azure и масштабируемости доступна в блоге группы разработчиков хранилища Azure.

<!-- -->

>[AZURE.IMPORTANT]Приведенные целевые показатели производительности и масштабируемости предельно высоки, но достижимы. В любом случае частота запросов, с которой успешно справляется учетная запись хранения, и ее пропускная способность зависят от размера хранимых объектов, используемых схем доступа и типа рабочей нагрузки приложения. Обязательно протестируйте службу для определения соответствия ее производительности необходимым требованиям. По возможности избегайте внезапных пиковых нагрузок по трафику. Убедитесь в том, что трафик соответствующим образом распределяется по разделам.

>Когда при работе приложения достигается предельная рабочая нагрузка на раздел, хранилище Azure начинает выдавать код ошибки 503 (сервер занят) или код ошибки 500 (время ожидания операции истекло). В этом случае при повторных попытках приложение должно использовать политику экспоненциального откладывания. Экспоненциальное откладывание позволяет уменьшить нагрузку на раздел и облегчить обработку им пикового трафика. 

Если предельно достижимых показателей масштабируемости для одной учетной записи хранения недостаточно для работы приложения, то при разработке такого приложения настройте его на использование нескольких учетных записей и распределите объекты данных между ними. Для одной подписки Azure допускается 100 учетных записей хранения. Для получения более подробной информации см. раздел [Сведения о ценах на хранилище](http://azure.microsoft.com/pricing/details/storage/).

## Целевые показатели масштабируемости для учетных записей хранения

Целевые показатели масштабируемости для учетной записи хранения зависят от региона, в которой она была создана. В следующих разделах описываются целевые показатели масштабируемости для регионов США и регионов Европы и Азии.

Дополнительные сведения об архитектуре и целевых показателях масштабируемости для учетных записей хранения доступны в [блоге группы разработчиков хранилища Azure](http://blogs.msdn.com/b/windowsazurestorage/archive/2012/11/04/windows-azure-s-flat-network-storage-and-2012-scalability-targets.aspx).

### Целевые показатели масштабируемости для стандартных учетных записей хранения в регионах США

В следующей таблице описаны целевые показатели масштабируемости для стандартных учетных записей хранения в регионах США, основанные на выбранном уровне избыточности:

<table>
<tr>
<th>Общая емкость учетной записи</th>
<th>Общая частота запросов (предполагается размер объекта в 1&#160;КБ)</th>
<th>Общая пропускная способность для учетной записи геоизбыточного хранилища</th>
<th>Общая пропускная способность для учетной записи локально избыточного хранилища</th>
<tr>
<td>500 TБ</td>
<td>До 20 000 сущностей или сообщений в секунду</td>
<td><ul>
<li>* Входящие: до 10 Гбит в секунду</li>
<li>* Исходящие: до 20 Гбит в секунду</li>
</ol>
</td>
<td><ul>
<li>* Входящие: до 20 Гбит в секунду</li>
<li>* Исходящие: до 30 Гбит в секунду</li>
</tr>
</table>

*Под входящими подразумеваются все данные (запросы), отправляемые в учетную запись хранения. 

*Под исходящими подразумеваются все данные (ответы), получаемые от учетной записи хранения. 

### Целевые показатели масштабируемости для стандартных учетных записей хранения в регионах Европы и Азии

В следующей таблице описаны целевые показатели масштабируемости для учетных записей хранения в регионах Европы и Азии, основанные на выбранном уровне избыточности:

<table>
<tr>
<th>Общая емкость учетной записи</th>
<th>Общая частота запросов (предполагается размер объекта в 1&#160;КБ)</th>
<th>Общая пропускная способность для учетной записи геоизбыточного хранилища</th>
<th>Общая пропускная способность для учетной записи локально избыточного хранилища</th>
<tr>
<td>500 TБ</td>
<td>До 20 000 сущностей или сообщений в секунду</td>
<td><ul>
<li>* Входящие: до 5 Гбит в секунду
</li>
<li>* Исходящие: до 10 Гбит в секунду</li>
</ol>
</td>
<td><ul>
<li>* Входящие: до 10 Гбит в секунду</li>
<li>* Исходящие: до 15 Гбит в секунду</li>
</tr>
</table>

*Под входящими подразумеваются все данные (запросы), отправляемые в учетную запись хранения. 

*Под исходящими подразумеваются все данные (ответы), получаемые от учетной записи хранения. 

### Целевые показатели масштабируемости для учетных записей хранения Premium

В следующей таблице описаны целевые показатели масштабируемости для учетных записей хранения Premium, доступных в западной части США, восточной части США 2 и Западной Европе.

<table>
<tr>
<th>Общая емкость учетной записи</th>
<th>Общая пропускная способность для учетной записи хранения Premium локально избыточного хранилища</th>
<tr>
<td><ul>
<li>Емкость диска: 35 ТБ</li>
<li>Емкость моментальных снимков: 10 ТБ</li>
</td>
<td>До 50 гигабит в секунду для входящих и исходящих подключений</td>
</table>

*Под входящими подразумеваются все данные (запросы), отправляемые в учетную запись хранения. 

*Под исходящими подключениями подразумеваются все данные (ответы), получаемые от учетной записи хранения. 

Для получения информации о дисках хранилища Premium посетите раздел [Хранилище Premium: хранилище высокой производительности для рабочих нагрузок виртуальной машины Azure](storage-premium-storage-preview-portal.md).

## Разделы в хранилище Azure

В следующей таблице описаны целевые показатели производительности одного раздела для каждой из служб:

<table>
<tr>
<th>Предельная пропускная способность для отдельного BLOB-объекта</th>
<th>Предельная пропускная способность для отдельной очереди (размер сообщения 1 КБ)</th>
<th>Предельная пропускная способность для отдельного табличного раздела (размер сущностей 1 КБ)</th>
<th>Предельная пропускная способность для отдельного файла (предварительная оценка)</th><tr>
<td>До 60 МБ в секунду или до 500 запросов в секунду</td>
<td>До 2 000 сообщений в секунду</td>
<td>До 2 000 сущностей в секунду</td>
<td>До 60&#160;МБ в секунду</td>
</table>

Каждый объект, содержащий данные, которые хранятся в хранилище Azure (большие двоичные объекты, сообщения, сущности и файлы), относится к определенному разделу и идентифицируется по ключу раздела. То, как хранилище Azure распределяет большие двоичные объекты, сообщения, сущности и файлы по серверам для удовлетворения потребности этих объектов в трафике, обусловлено параметрами раздела. Ключ раздела уникален в пределах учетной записи хранения и используется для обнаружения большого двоичного объекта, сообщения или сущности.

Для таблиц все сущности с одинаковым значением ключа раздела группируются в одном разделе и хранятся на одном сервере разделов. Это важно понимать при разработке приложения. Приложение должно поддерживать баланс между преимуществом в масштабируемости при распределении сущностей между несколькими разделами и пользой от лучшего доступа к данным при группировании сущностей в одном разделе. Ключевым преимуществом группирования сущностей в разделы является возможность выполнения атомарных операций по сущностям в одном разделе, находящемся на одном сервере.

Разделы оказывают влияние на балансировку нагрузки и масштабируемость для каждой из служб хранилища следующими способами:

- **Большие двоичные объекты**: ключ раздела для большого двоичного объекта — это имя контейнера + имя большого двоичного объекта. Это означает, что каждый большой двоичный объект имеет собственный раздел. Таким образом большие двоичные объекты можно распределить по множеству серверов для масштабирования доступа к ним. Хотя большие двоичные объекты могут быть логически сгруппированы в контейнеры, это не отражается на их распределении по разделам.

- **Сообщения**: ключ раздела для сообщения — это имя очереди, поэтому все сообщения в очереди группируются в один раздел и обслуживаются одним сервером. В то же время для балансировки нагрузки множества возможных очередей учетной записи хранения разные очереди могут обрабатываться разными серверами.

- **Сущности**: ключ раздела для сущности — это имя таблицы + ключ раздела, где ключ раздела — это значение необходимого определяемого пользователем свойства **PartitionKey** для этой сущности.

	Сущности в пределах таблицы могут иметь одинаковые значения ключа раздела, в этом случае они группируются в одном разделе. Приложение может выполнять атомарные пакетные транзакции для сущностей из одного раздела, поскольку они обслуживаются с одного сервера.

	Для балансировки нагрузки находящиеся в той же таблице, но относящиеся к различным разделам сущности могут быть распределены по разным серверам, что позволит создать большую таблицу с лучшей масштабируемостью.

## См. также

- [Сведения о ценах на хранилище](http://azure.microsoft.com/pricing/details/storage/)
- [Хранилище Azure: доступная служба облачного хранения строгой согласованности](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)
- [Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-subscription-service-limits.md)


<!--HONumber=54--> 