---
title: Геоизбыточное хранилище (GRS) для межрегиональной устойчивости в службе хранилища Azure | Документация Майкрософт
description: Геоизбыточное хранилище (GRS) производит репликацию данных между двумя регионами, которые разделены сотнями километров. GRS обеспечивает защиту от сбоев оборудования в центре обработки данных, а также защиту от региональных сбоев.
services: storage
author: tolandmike
ms.service: storage
ms.topic: article
ms.date: 03/20/2018
ms.author: jeking
ms.component: common
ms.openlocfilehash: eee9998280f2105fee5144b520bc8000b086f941
ms.sourcegitcommit: 616e63d6258f036a2863acd96b73770e35ff54f8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/14/2018
ms.locfileid: "45603935"
---
# <a name="geo-redundant-storage-grs-cross-regional-replication-for-azure-storage"></a>Геоизбыточное хранилище (GRS). Межрегиональная репликация для службы хранилища Azure
[!INCLUDE [storage-common-redundancy-GRS](../../../includes/storage-common-redundancy-grs.md)]

## <a name="read-access-geo-redundant-storage"></a>Геоизбыточное хранилище с доступом для чтения
Геоизбыточное хранилище с доступом для чтения (RA-GRS) максимально увеличивает доступность учетной записи хранения. Оно предоставляет доступ только для чтения к данным во вторичном местоположении в дополнение к георепликации между двумя регионами.

При включении доступа только для чтения для данных во вторичном регионе ваши данные будут доступны как в первичной конечной точке, так и во вторичной конечной точке учетной записи хранения. Вторичная конечная точка аналогична первичной конечной точке, но к имени учетной записи добавляется суффикс `–secondary` . Например, если первичная конечная точка для службы BLOB-объектов — `myaccount.blob.core.windows.net`, то вторичная конечная точка — `myaccount-secondary.blob.core.windows.net`. Ключи доступа для учетной записи хранения одинаковые как для первичной, так и для вторичной конечных точек.

Рекомендации при работе с RA-GRS:

* При использовании RA-GRS для приложения необходимо указать, с какой конечной точкой взаимодействовать.
* Так как асинхронная репликация подразумевает задержку, изменения, еще не реплицированные в дополнительный регион, могут быть потеряны, если данные будет невозможно восстановить из основного региона, например в случае региональной аварии.
* Вы можете проверить время последней синхронизации своей учетной записи хранения. Время последней синхронизации — это значение даты и времени по Гринвичу. Все данные, записанные в основное расположение до последней синхронизации, были успешно записаны в дополнительное расположение. Это значит, что они доступны для чтения в дополнительном расположении. Данные, записанные в основное расположение после последней синхронизации, могут быть как доступны, так и не доступны для чтения. Вы можете запросить это значение с помощью [портала Azure](https://portal.azure.com/), [Azure PowerShell](storage-powershell-guide-full.md) или с помощью одной из клиентских библиотек службы хранилища Azure.
* Если корпорация Майкрософт инициирует отработку отказа в дополнительный регион, то у вас будет доступ на чтение и запись к этим данным после того, как отработка отказа завершится. Дополнительные сведения см. в статье [Что делать в случае простоя службы хранилища Azure](storage-disaster-recovery-guidance.md).
* Сведения о том, как переключиться на дополнительный регион, см. в статье [Что делать в случае простоя службы хранилища Azure](storage-disaster-recovery-guidance.md).
* RA-GRS предназначено для обеспечения высокой доступности. Дополнительные сведения по масштабируемости см. в статье [Производительность хранилища Microsoft Azure и контрольный список масштабируемости](storage-performance-checklist.md).
* Рекомендации по обеспечению высокого уровня доступности с RA-GRS см. в статье [Проектирование высокодоступных приложений с использованием RA-GRS](storage-designing-ha-apps-with-ragrs.md).

## <a name="what-is-the-rpo-and-rto-with-grs"></a>Что такое RPO и RTO для GRS?
**Целевая точка восстановления (RPO).** В хранилищах GRS и RA-GRS служба хранилища асинхронно геореплицирует данные из основного расположения в дополнительное. Если произойдет серьезная региональная авария в основном регионе, корпорация Майкрософт выполнит отработку отказа в дополнительный регион, а последние изменения, которые не были геореплицированы, могут быть утеряны. Число минут, за которые возможна потеря данных, называется целевой точкой восстановления (она указывает точку во времени, до которой можно восстановить данные). Обычно RPO в службе хранилища Azure не превышает 15 минут, хотя на данный момент нет какого-либо соглашения об уровне обслуживания, регулирующего длительность георепликации.

**Цель времени восстановления (RTO).** RTO — это время, необходимое для выполнения отработки отказа и возобновления работы учетной записи хранения. Время, затрачиваемое на отработку отказа, обусловлено следующими действиями:

   * Время, затрачиваемое корпорацией Майкрософт, чтобы определить, можно ли восстановить данные в основном расположении или нужно ли выполнить отработку отказа.
   * Время на выполнение отработки отказа учетной записи путем изменения основных DNS-записей для указания на дополнительное расположение.

   Корпорация Майкрософт ответственно относится к сохранению ваших данных. Если есть хоть какая-нибудь возможность восстановить данные, корпорация Майкрософт не торопится выполнить отработку отказа и сосредотачивается на восстановлении данных. 

## <a name="paired-regions"></a>Пары регионов 
При создании учетной записи хранения вы выбираете первичный регион для учетной записи. Парный дополнительный регион определяется на основе основного региона, его невозможно изменить. Обновленную информацию о регионах, поддерживаемых Azure, см. в статье [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](../../best-practices-availability-paired-regions.md).

## <a name="see-also"></a>См. также
- [Репликация службы хранилища Azure](storage-redundancy.md)
- [Локально избыточное хранилище (LRS). Недорогая избыточность данных для службы хранилища Azure](storage-redundancy-lrs.md)
- [Хранилище, избыточное в пределах зоны (ZRS). Высокодоступные приложения для службы хранилища Azure](storage-redundancy-zrs.md)