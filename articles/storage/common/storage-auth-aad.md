---
title: Аутентификация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory (предварительная версия) | Документация Майкрософт
description: Аутентификация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory (предварительная версия).
services: storage
author: tamram
ms.service: storage
ms.topic: article
ms.date: 10/15/2018
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 1a9283ad688c63642df880a74cca9189c7c59042
ms.sourcegitcommit: 698a3d3c7e0cc48f784a7e8f081928888712f34b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2019
ms.locfileid: "55456703"
---
# <a name="authenticate-access-to-azure-blobs-and-queues-using-azure-active-directory-preview"></a>Аутентификация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory (предварительная версия)

Служба хранилища Azure поддерживает аутентификацию и авторизацию с помощью Azure Active Directory (AD) для служб больших двоичных объектов и очередей. С помощью Azure AD вы можете использовать управление доступом на основе ролей (RBAC) для предоставления доступа пользователям, группам или субъектам-службам приложений. 

Аутентификация пользователей или приложений с использованием учетных данных Azure AD обеспечивает превосходную защиту и простоту использования по сравнению с другими средствами авторизации. Хотя вы можете продолжать применять для приложений авторизацию с помощью общего ключа, благодаря использованию Azure AD не нужно хранить ключ доступа к учетной записи с кодом. Вы также можете продолжать использовать подписанные URL-адреса для предоставления доступа с точной настройкой к ресурсам в учетной записи хранения, но Azure AD предлагает аналогичные возможности без необходимости управлять токенами SAS или беспокоиться об отзыве скомпрометированного SAS. Корпорация Майкрософт рекомендует по возможности использовать аутентификацию Azure AD для приложений службы хранилища Azure.

[!INCLUDE [storage-auth-aad-note-include](../../../includes/storage-auth-aad-note-include.md)]

## <a name="about-the-preview"></a>Сведения о предварительной версии

Имейте в виду следующие моменты о предварительной версии:

- Интеграция с Azure AD доступна для служб BLOB-объектов и очередей только в предварительной версии.
- Интеграция с Azure AD доступна для учетных записей хранения GPv1, GPv2 и больших двоичных объектов во всех общедоступных регионах. 
- Поддерживаются только учетные записи хранения, созданные с помощью модели развертывания Resource Manager. 
- Скоро появится поддержка сведений об удостоверении вызывающего объекта в журналах решения "Аналитика Службы хранилища".
- В настоящее время поддерживается авторизация доступа Azure AD к ресурсам в стандартных учетных записях хранения. В ближайшее время будет объявлена поддержка авторизации доступа к страничным BLOB-объектам в учетных записях хранения уровня "Премиум".
- Служба хранилища Azure поддерживает встроенные и пользовательские роли RBAC. Роли можно назначать для подписки, группы ресурсов, учетной записи хранения, отдельного контейнера или очереди.
- Клиентские библиотеки службы хранилища Azure, которые в настоящее время поддерживают интеграцию с Azure AD, включают в себя:
    - [.NET](https://www.nuget.org/packages/WindowsAzure.Storage)
    - [Java](http://mvnrepository.com/artifact/com.microsoft.azure/azure-storage)
    - Python
        - [Большие двоичные объекты, очереди и файлы](https://github.com/Azure/azure-storage-python)
    - [Node.js](https://www.npmjs.com/package/azure-storage)
    - [JavaScript](https://aka.ms/downloadazurestoragejs)

## <a name="get-started-with-azure-ad-for-storage"></a>Начало работы с Azure AD для службы хранилища

Первым шагом в использовании интеграции Azure AD со службой хранилища Azure является назначение ролей RBAC для данных хранилища субъекту-службы (пользователю, группе или субъекту-службе приложения) или управляемых удостоверений для ресурсов Azure. Роли RBAC охватывают общие наборы разрешений для контейнеров и очередей. Узнайте больше о ролях RBAC для службы хранилища Azure, ознакомившись с разделом [Manage access rights to Azure Storage data with RBAC (Preview)](storage-auth-aad-rbac.md) (Управление правами доступа к данным в службе хранилища Azure с помощью RBAC (предварительная версия)).

Чтобы использовать Azure AD для авторизации доступа к ресурсам хранилища в приложениях, необходимо запросить токен доступа OAuth 2.0 из кода. Сведения о том, как запросить токен доступа и использовать его для авторизации запросов к службе хранилища Azure, см. в статье [Authenticate with Azure AD from an Azure Storage application (Preview)](storage-auth-aad-app.md) (Аутентификация с помощью Azure Active Directory из приложения службы хранилища Azure (предварительная версия)). Если вы используете управляемые удостоверения, см. статью [Аутентификация доступа к BLOB-объектам и очередям с помощью управляемых удостоверений Azure для ресурсов Azure (предварительная версия)](storage-auth-aad-msi.md).

Теперь Azure CLI и PowerShell поддерживают вход с использованием удостоверения Azure AD. После входа с использованием удостоверения Azure AD сеанс выполняется с этим идентификатором. Дополнительные сведения см. в статье [Использование удостоверения Azure AD для доступа к службе хранилища Azure с помощью интерфейса командной строки или PowerShell (предварительная версия)](storage-auth-aad-script.md).

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения об интеграции Azure AD для очередей и больших двоичных объектов Azure доступны в записи блога команды разработчиков службы хранилища Azure [Announcing the Preview of Azure AD Authentication for Azure Storage](https://azure.microsoft.com/blog/announcing-the-preview-of-aad-authentication-for-storage/) (Объявление о выпуске предварительной версии аутентификации Azure AD для службы хранилища Azure).
