---
title: Проверки подлинности доступа к BLOB-объекты Azure и очереди, с помощью Azure Active Directory | Документация Майкрософт
description: Проверки подлинности доступа к BLOB-объекты Azure и очереди, с помощью Azure Active Directory.
services: storage
author: tamram
ms.service: storage
ms.topic: article
ms.date: 03/21/2019
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 08fdc20df70e4a97dd0cb99468354ef2b5c51f2b
ms.sourcegitcommit: f0f21b9b6f2b820bd3736f4ec5c04b65bdbf4236
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2019
ms.locfileid: "58447036"
---
# <a name="authenticate-access-to-azure-blobs-and-queues-using-azure-active-directory"></a>Проверки подлинности доступа к BLOB-объекты Azure и очереди, с помощью Azure Active Directory

Служба хранилища Azure поддерживает аутентификацию и авторизацию с помощью Azure Active Directory (AD) для служб больших двоичных объектов и очередей. С помощью Azure AD вы можете использовать управление доступом на основе ролей (RBAC) для предоставления доступа пользователям, группам или субъектам-службам приложений. 

Аутентификация пользователей или приложений с использованием учетных данных Azure AD обеспечивает превосходную защиту и простоту использования по сравнению с другими средствами авторизации. Хотя вы можете продолжать применять для приложений авторизацию с помощью общего ключа, благодаря использованию Azure AD не нужно хранить ключ доступа к учетной записи с кодом. Вы также можете продолжать использовать подписанные URL-адреса для предоставления доступа с точной настройкой к ресурсам в учетной записи хранения, но Azure AD предлагает аналогичные возможности без необходимости управлять токенами SAS или беспокоиться об отзыве скомпрометированного SAS. Корпорация Майкрософт рекомендует по возможности использовать аутентификацию Azure AD для приложений службы хранилища Azure.

Проверка подлинности и авторизация учетные данные Azure AD доступна для всех общего назначения версии 2 общего назначения версии 1 и учетные записи хранения BLOB-объектов во всех общедоступных регионах. Только учетные записи хранения с поддержкой модели развертывания Azure Resource Manager авторизации Azure AD.

## <a name="overview-of-azure-ad-for-blobs-and-queues"></a>Обзор Azure AD для больших двоичных объектов и очередей

Первым шагом в использовании интеграции Azure AD со службой хранилища Azure является назначение ролей RBAC для данных хранилища субъекту-службы (пользователю, группе или субъекту-службе приложения) или управляемых удостоверений для ресурсов Azure. Роли RBAC охватывают общие наборы разрешений для контейнеров и очередей. Дополнительные сведения о назначении роли RBAC для службы хранилища Azure, см. в разделе [управление права доступа к данным хранилища с помощью RBAC](storage-auth-aad-rbac.md).

Чтобы использовать Azure AD для авторизации доступа к ресурсам хранилища в приложениях, необходимо запросить токен доступа OAuth 2.0 из кода. Чтобы узнать, как запросить маркер доступа и использовать его для авторизации запросов в службу хранилища Azure, см. в разделе [проверка подлинности с помощью Azure AD из приложения службы хранилища Azure](storage-auth-aad-app.md). Если вы используете управляемого удостоверения, см. в разделе [проверка подлинности доступа к BLOB-объектов и очередей с помощью Azure управляемые удостоверения для ресурсов Azure](storage-auth-aad-msi.md).

Теперь Azure CLI и PowerShell поддерживают вход с использованием удостоверения Azure AD. После входа в систему с помощью удостоверения Azure AD, сеанс выполняется под этим удостоверением. Дополнительные сведения см. в разделе [использование удостоверения Azure AD для доступа к хранилищу Azure с помощью интерфейса командной строки или PowerShell](storage-auth-aad-script.md).

## <a name="rbac-roles-for-blobs-and-queues"></a>Роли RBAC для больших двоичных объектов и очередей

Azure Active Directory (Azure AD) разрешает права доступа к защищенным ресурсам с помощью [управления доступом на основе ролей (RBAC)](../../role-based-access-control/overview.md). Служба хранилища Azure определяет набор встроенных ролей RBAC, которые охватывают общие наборы разрешений, используемые для доступа к контейнерам или очередям. 

При назначении роли RBAC для субъекта безопасности Azure AD, Azure предоставляет доступ к этим ресурсам для этого участника безопасности. Доступ может ограничиваться уровнем подписки, группой ресурсов, учетной записью хранения или отдельным контейнером или очередью. Субъект безопасности Azure AD может быть пользователь, группы, субъекта-службы приложения, или [управляемое удостоверение для ресурсов Azure](../../active-directory/managed-identities-azure-resources/overview.md).

[!INCLUDE [storage-auth-rbac-roles-include](../../../includes/storage-auth-rbac-roles-include.md)]

Дополнительные сведения о назначении встроенные RBAC для ресурсов хранилища Azure, см. в одном из следующих разделов:

- [Предоставление доступа к BLOB-объектов и очереди данных Azure с помощью RBAC на портале Azure](storage-auth-aad-rbac-portal.md)
- [Предоставление доступа к Azure данные больших двоичных объектов и очереди с помощью RBAC с помощью Azure CLI](storage-auth-aad-rbac-cli.md)
- [Предоставление доступа к Azure данные больших двоичных объектов и очереди с помощью RBAC с помощью PowerShell](storage-auth-aad-rbac-powershell.md)

### <a name="access-permissions-granted-by-rbac-roles"></a>Разрешения на доступ, предоставленные роли RBAC 

Дополнительные сведения о разрешениях, необходимых для вызова операций службы хранилища Azure, см. в разделе о [разрешениях для вызова операций REST](https://docs.microsoft.com/rest/api/storageservices/authenticate-with-azure-active-directory#permissions-for-calling-rest-operations).

## <a name="next-steps"></a>Дальнейшие действия

- [Проверка подлинности с помощью Azure Active Directory из приложения для доступа к BLOB-объектам и очередям](storage-auth-aad-app.md)
- [Проверки подлинности при доступе к большим двоичным объектам и очередям управляемые удостоверения для ресурсов Azure](storage-auth-aad-msi.md)
- Служба файлов Azure поддерживает проверку подлинности с использованием Azure AD по протоколу SMB только для присоединенных к домену виртуальных машин (предварительная версия). Общие сведения о проверке подлинности с использованием Azure AD по протоколу SMB для службы файлов Azure см. в разделе [Обзор проверки подлинности Azure Active Directory по протоколу SMB для файлов Azure (предварительная версия)](../files/storage-files-active-directory-overview.md).