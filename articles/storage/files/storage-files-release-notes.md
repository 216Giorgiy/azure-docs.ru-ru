---
title: "Заметки о выпуске агента службы \"Синхронизация файлов Azure\" | Документация Майкрософт"
description: "Заметки о выпуске службы \"Синхронизация файлов Azure\""
services: storage
documentationcenter: 
author: wmgries
manager: klaasl
editor: tamram
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 10/08/2017
ms.author: wgries
ms.openlocfilehash: 5f57edb33770acd7a97287d5cfd650b7fe8366f4
ms.sourcegitcommit: 782d5955e1bec50a17d9366a8e2bf583559dca9e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2018
---
# <a name="azure-file-sync-agent-release-notes"></a>Заметки о выпуске службы "Синхронизация файлов Azure"
Служба "Синхронизация файлов Azure" (предварительная версия) позволяет централизовано хранить файловые ресурсы организации в службе файлов Azure, обеспечивая гибкость, производительность и совместимость локального файлового сервера. Это достигается путем преобразования серверов Windows Server в быстрый кэш общего файлового ресурса Azure. Для локального доступа к данным вы можете использовать любой протокол (в том числе SMB, NFS и FTPS), доступный в Windows Server. Кроме того, вы можете создать любое число кэшей в любом регионе.

В этой статье рассматриваются заметки о выпуске для поддерживаемых версий агента службы "Синхронизация файлов Azure".

## <a name="supported-versions"></a>Поддерживаемые версии
Служба "Синхронизация файлов Azure" поддерживает следующие версии:

| Номер версии агента | Дата выпуска | Поддерживается до |
|----------------------|--------------|------------------|
| 2.1.0.0 | 2018-28-02 | Текущая версия |
| 2.0.11.0 | 2018-02-08 | Текущая версия |
| 1.1.0.0 | 2017-09-26 | 2018-07-30 |

### <a name="azure-file-sync-agent-update-policy"></a>Политика обновления агента службы синхронизации файлов Azure
[!INCLUDE [storage-sync-files-agent-update-policy](../../../includes/storage-sync-files-agent-update-policy.md)]

## <a name="agent-version-2100"></a>Версия агента 2.1.0.0
Следующие заметки к выпуску предназначены для версии агента 2.1.0, выпущенной 28 февраля 2018 г. Они являются дополнением к заметкам о выпуске ниже для версии 2.0.11.0.

В это ежемесячное обновление включены следующие уникальные изменения.
- Повышена отказоустойчивость кластера.
- Улучшена обработка многоуровневых файлов с целью повышения надежности.
- Разрешена установка агента на компьютерах контроллеров домена, добавленных в среду домена 2008R2.
- Исправлено чрезмерное формирование данных диагностики на серверах с большим количеством файлов.
- Улучшена обработка ошибок, возникающих при сбоях сеансов.
- Улучшена обработка ошибок, возникающих при передаче файлов.
- Интервал по умолчанию для распределения по уровням облака при включении этой функции на конечной точке сервера изменен до одного часа. 
- Временно заблокировано перемещение ресурсов службы "Синхронизация файлов Azure" (служба синхронизации хранилища) в новую подписку Azure.

## <a name="agent-version-20110"></a>Версия агента 2.0.11.0
Следующие заметки к выпуску предназначены для версии агента 2.0.11.0, выпущенной 9 февраля 2018 г. 

### <a name="agent-installation-and-server-configuration"></a>Установка агента и конфигурация сервера
Дополнительные сведения о том, как установить и настроить агент службы "Синхронизация файлов Azure" с помощью Windows Server, см. в статье [Планирование развертывания службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-planning.md) и [Как развернуть службу синхронизации файлов Azure (предварительная версия)](storage-sync-files-deployment-guide.md).

- Пакет установки агента (MSI) нужно устанавливать с повышенным уровнем разрешений (администратора).
- Не поддерживается в развертываниях Windows Server Core или Nano Server.
- Поддерживается только в Windows Server 2016 и 2012 R2.
- Агент требует по крайней мере 2 ГБ физической памяти.

### <a name="interoperability"></a>Возможность взаимодействия
- Антивирусные программы, приложения архивации, а также другие приложения, которые получают доступ к многоуровневым файлам, вызывают нежелательные отзывы, если они не учитывают автономный атрибут и пропускают чтение содержимого этих файлов. Дополнительные сведения см. в статье [Устранение неполадок службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-troubleshoot.md)
- В этом обновлении поддерживается DFS-R.  Дополнительные сведения см. в разделе [Распределенная файловая система (DFS)](storage-sync-files-planning.md#distributed-file-system-dfs).
- Не используйте фильтр блокировки файлов диспетчера ресурсов файлового сервера (или другой). Это может привести к сбоям непрерывной синхронизации при блокировке файлов из-за фильтров блокировки файлов.
- Дублирование зарегистрированного сервера (в том числе клонирование виртуальных машин) может привести к непредвиденным результатам (в частности, к постоянной рассинхронизации).
- Дедупликация данных и размещение данных по уровням облака не поддерживаются на одном томе.
 
### <a name="sync-limitations"></a>Ограничения синхронизации
Следующие элементы не синхронизируются, но остальная часть системы продолжит работать в обычном режиме:
- Пути длиной более 2048 символов.
- Часть списка DACL в дескрипторе безопасности размером более 2000 записей (это верно только при наличии более 40 записей контроля доступа на одном элементе).
- Часть списка SACL в дескрипторе безопасности (используется для аудита).
- Дополнительные атрибуты.
- Альтернативные потоки данных.
- Точки повторного анализа
- Жесткие связи.
- Сжатие (для серверного файла) не сохранится при синхронизации изменений в этом файле из других конечных точек.
- Файлы, зашифрованные с помощью файловой системы EFS (или другого пользовательского режима шифрования). Наша служба не может считывать такие данные. 
    
    > [!Note]  
    > Служба "Синхронизация файлов Azure" всегда шифрует передаваемые данные, а неактивные данные можно зашифровать в Azure.
 
### <a name="server-endpoints"></a>Конечные точки сервера
- Конечную точку сервера можно создавать только на томе NTFS. Сейчас служба "Синхронизация файлов Azure" ReFS и FAT, FAT32 и другие файловые системы.
- Конечная точка сервера не может находиться на системном томе (например, C:\MyFolder — недопустимый путь, если он не является точкой подключения).
- Отказоустойчивую кластеризацию поддерживают только общие тома кластера (CSV).
- Конечная точка сервера не может быть вложенной, но они могут сосуществовать на одном томе параллельно друг с другом.
- Удаление большого количества каталогов с сервера за один раз (больше 10 000) может привести к сбою синхронизации. Удаляйте каталоги пакетами меньше 10 000 и перед удалением следующего пакета убедитесь, что синхронизация операций удаления прошла успешно.
- В этом выпуске добавлена поддержка размещения корня синхронизации в корне тома.
- Не храните файл ОС или файл подкачки приложения в конечной точке сервера.
- Изменения в этом выпуске: добавлены новые события для отслеживания общего времени выполнения распределения по уровням облака (код события 9016), хода отправки синхронизации (код события 9302) и файлов, которые не были синхронизированы (код события 9900).
- Изменения в этом выпуске: значительное повышение производительности синхронизации пространства имен аварийного восстановления.
 
### <a name="cloud-tiering"></a>Распределение по уровням облака
- В отличие от предыдущей версии, в этой новые файлы будут распределены по уровням в течение 1 часа с учетом параметров политики распределения по уровням (раньше этот процесс занимал 32 часа). Мы предоставляем командлет PowerShell для распределения по уровням по требованию, благодаря чему вы сможете эффективно оценить этот процесс, не дожидаясь его выполнения в фоновом режиме.
- Если многоуровневый файл копируется в другое расположение с помощью Robocopy, полученный файл не будет распределен по уровням, но так как Robocopy неправильно включает автономный атрибут в операциях копирования, он может быть задан.
- При просмотре свойств файла из клиента SMB автономным атрибут может быть настроен неправильно из-за кэширования метаданных файла по протоколу SMB.
- В отличие от предыдущей версии, теперь файлы (новые или многоуровневые) загружаются на другие серверы в качестве многоуровневых.

## <a name="agent-version-1100"></a>Версия агента 1.1.0.0
Следующие заметки к выпуску предназначены для версии агента 1.1.0.0, выпущенной 9 сентября 2017 г. Это первоначальный выпуск предварительной версии службы "Синхронизация файлов Azure".

### <a name="agent-installation-and-server-configuration"></a>Установка агента и конфигурация сервера
Дополнительные сведения о том, как установить и настроить агент службы "Синхронизация файлов Azure" с помощью Windows Server, см. в статье [Планирование развертывания службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-planning.md) и [Как развернуть службу синхронизации файлов Azure (предварительная версия)](storage-sync-files-deployment-guide.md).

- Пакет установки агента (MSI) нужно устанавливать с повышенным уровнем разрешений (администратора).
- Не поддерживается в развертываниях Windows Server Core или Nano Server.
- Поддерживается только в Windows Server 2016 и 2012 R2.
- Агент требует по крайней мере 2 ГБ физической памяти.

### <a name="interoperability"></a>Возможность взаимодействия
- Антивирусные программы, приложения архивации, а также другие приложения, которые получают доступ к многоуровневым файлам, вызывают нежелательные отзывы, если они не учитывают автономный атрибут и пропускают чтение содержимого этих файлов. Дополнительные сведения см. в статье [Устранение неполадок службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-troubleshoot.md)
- Не используйте фильтр блокировки файлов диспетчера ресурсов файлового сервера (или другой). Это может привести к сбоям непрерывной синхронизации при блокировке файлов из-за фильтров блокировки файлов.
- Дублирование зарегистрированного сервера (в том числе клонирование виртуальных машин) может привести к непредвиденным результатам (в частности, к постоянной рассинхронизации).
- Дедупликация данных и размещение данных по уровням облака не поддерживаются на одном томе.
 
### <a name="sync-limitations"></a>Ограничения синхронизации
Следующие элементы не синхронизируются, но остальная часть системы продолжит работать в обычном режиме:
- Пути длиной более 2048 символов.
- Часть списка DACL в дескрипторе безопасности размером более 2000 записей (это верно только при наличии более 40 записей контроля доступа на одном элементе).
- Часть списка SACL в дескрипторе безопасности (используется для аудита).
- Дополнительные атрибуты.
- Альтернативные потоки данных.
- Точки повторного анализа
- Жесткие связи.
- Сжатие (для серверного файла) не сохранится при синхронизации изменений в этом файле из других конечных точек.
- Файлы, зашифрованные с помощью файловой системы EFS (или другого пользовательского режима шифрования). Наша служба не может считывать такие данные. 
    
    > [!Note]  
    > Служба "Синхронизация файлов Azure" всегда шифрует передаваемые данные, а неактивные данные можно зашифровать в Azure.
 
### <a name="server-endpoints"></a>Конечные точки сервера
- Конечную точку сервера можно создавать только на томе NTFS. Сейчас служба "Синхронизация файлов Azure" ReFS и FAT, FAT32 и другие файловые системы.
- Конечная точка сервера не может находиться на системном томе (например, C:\MyFolder — недопустимый путь, если он не является точкой подключения).
- Отказоустойчивую кластеризацию поддерживают только общие тома кластера (CSV).
- Конечная точка сервера не может быть вложенной, но они могут сосуществовать на одном томе параллельно друг с другом.
- Удаление большого количества каталогов с сервера за один раз (больше 10 000) может привести к сбою синхронизации. Удаляйте каталоги пакетами меньше 10 000 и перед удалением следующего пакета убедитесь, что синхронизация операций удаления прошла успешно.
- Не поддерживаются в корне тома.
- Не храните файл ОС или файл подкачки приложения в конечной точке сервера.
 
### <a name="cloud-tiering"></a>Распределение по уровням облака
- Чтобы обеспечить корректный отзыв файлов, система в течение 32 часов может не распределять новые или измененные файлы по уровням автоматически, включая первое распределение по уровням после настройки новой конечной точки сервера. Мы предоставляем командлет PowerShell для распределения по уровням по требованию, благодаря чему вы сможете эффективно оценить этот процесс, не дожидаясь его выполнения в фоновом режиме.
- Если многоуровневый файл копируется в другое расположение с помощью Robocopy, полученный файл не будет распределен по уровням, но так как Robocopy неправильно включает автономный атрибут в операциях копирования, он может быть задан.
- При просмотре свойств файла из клиента SMB автономным атрибут может быть настроен неправильно из-за кэширования метаданных файла по протоколу SMB.
