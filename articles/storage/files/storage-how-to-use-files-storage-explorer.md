---
title: Управление файловыми ресурсами Azure с помощью Обозревателя службы хранилища Azure
description: Сведения об использовании Обозревателя службы хранилища Azure для управления файловыми ресурсами Azure.
services: storage
documentationcenter: ''
author: wmgries
manager: jeconnoc
editor: ''
ms.assetid: ''
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 02/27/2018
ms.author: wgries
ms.openlocfilehash: 0c16d3b0ef0b178f99eaafecd74eabb00cca5af9
ms.sourcegitcommit: c3d53d8901622f93efcd13a31863161019325216
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2018
---
# <a name="managing-azure-file-shares-with-azure-storage-explorer"></a>Управление файловыми ресурсами Azure с помощью Обозревателя службы хранилища Azure 
[Файлы Azure](storage-files-introduction.md) — это простая в использовании облачная файловая система от корпорации Майкрософт. В этом руководстве рассматриваются основы работы с файловыми ресурсами Azure с помощью [Обозревателя службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/). Обозреватель службы хранилища Azure — популярный клиентский инструмент, доступный для Windows, MacOS и Linux. Его можно использовать для управления файловыми ресурсами Azure и другими ресурсами хранения.

Для работы с этим кратким руководством необходимо установить обозреватель службы хранилища Azure. Если вы еще не установили, скачайте его на странице [Обозреватель службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/).

В этой статье раскрываются следующие темы:

> [!div class="checklist"]
> * Создание группы ресурсов и учетной записи хранения.
> * Создание файлового ресурса Azure 
> * Создайте каталог
> * Отправить файл.
> * Скачивание файла
> * Создание моментального снимка общего ресурса и его использование.

Если у вас еще нет подписки Azure, вы можете создать [бесплатную учетную запись](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="create-a-storage-account"></a>Создайте учетную запись хранения.
Обозреватель службы хранилища Azure не поддерживает возможность создания новых ресурсов, поэтому в целях этой демонстрации создайте учетную запись хранения с помощью [портала Azure](https://portal.azure.com/). 

[!INCLUDE [storage-files-create-storage-account-portal](../../../includes/storage-files-create-storage-account-portal.md)]

## <a name="connecting-azure-storage-explorer-to-azure-resources"></a>Подключение Обозревателя службы хранилища Azure к ресурсам Azure
При первом запуске откроется окно **подключения обозревателя службы хранилища Microsoft Azure**. Обозреватель службы хранилища Azure предоставляет несколько способов подключения к учетным записям хранения. 

- **Вход через учетную запись Azure**. Позволяет входить в систему с учетными данными пользователя для вашей организации или учетной записи Майкрософт. 
- **Подключение к определенной учетной записи хранения с помощью строки подключения или токена SAS**. Строка подключения представляет собой специальную строку, содержащую имя учетной записи хранения и ключ учетной записи хранения или токен SAS, который предоставляет Обозревателю службы хранилища Azure прямой доступ к учетной записи хранения (а не просто позволяет просмотреть все учетные записи хранения в учетной записи Azure). Дополнительные сведения о строках подключения см. в статье [Настройка строк подключения службы хранилища Azure](../common/storage-configure-connection-string.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json).
- **Подключение к определенной учетной записи хранения с использованием ее имени и ключа**.Используйте имя и ключ учетной записи хранения для подключения к службе хранилища Azure.

В целях этого краткого руководства войдите в систему со своей учетной записью Azure. Выберите **Add an Azure Account** (Добавить учетную запись Azure) и нажмите кнопку **Войти**. Следуйте указаниям на экране, чтобы войти в учетную запись Azure.

![Обозреватель службы хранилища Microsoft Azure — окно подключения](./media/storage-how-to-use-files-storage-explorer/connect-to-azure-storage-1.png)

### <a name="create-a-file-share"></a>Создайте общую папку
Чтобы создать файловый ресурс Azure в учетной записи хранения *storageacct<random number>*, сделайте следующее:

1. Разверните созданную учетную запись хранения.
2. Щелкните правой кнопкой мыши **Общие папки** и выберите **Create File Share** (Создать общую папку).  
    ![Снимок экрана папки общих файловых ресурсов и контекстного меню в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-file-share-1.png)

3. Введите *myshare* для имени файлового ресурса и нажмите клавишу **ВВОД**.

> [!Important]  
> Имена общих ресурсов должны содержать только строчные буквы, цифры и отдельные дефисы, и они не могут начинаться с дефиса. Дополнительные сведения о присвоении имен общим папкам и файлам см. в статье [Naming and Referencing Shares, Directories, Files, and Metadata](https://docs.microsoft.com/rest/api/storageservices/Naming-and-Referencing-Shares--Directories--Files--and-Metadata) (Именование общих ресурсов, каталогов, файлов и метаданных и ссылка на них).

После создания файлового ресурса в области справа откроется вкладка для него. 

## <a name="manipulating-the-contents-of-the-azure-file-share"></a>Управление содержимым файлового ресурса Azure
Теперь, когда файловый ресурс Azure создан, его можно подключить с помощью SMB к [Windows](storage-how-to-use-files-windows.md), [Linux](storage-how-to-use-files-linux.md) или [macOS](storage-how-to-use-files-mac.md). Кроме того, этим ресурсом можно управлять с помощью портала Azure. Все запросы через портал Azure выполняются с помощью File REST API, который позволяет создавать, изменять и удалять файлы и каталоги на клиентах без доступа по SMB.

### <a name="create-a-directory"></a>Создайте каталог
Добавление каталога обеспечивает иерархическую структуру для управления файловым ресурсом. Вы можете создать несколько уровней, однако прежде чем создавать подкаталог, необходимо убедиться в наличии всех родительских каталогов. Например, для пути myDirectory/mySubDirectory необходимо сначала создать каталог *myDirectory*, а затем — *mySubDirectory*. 

1. На вкладке для файлового ресурса в верхнем меню нажмите кнопку **+ New Folder** (Создать папку). Откроется страница **создание нового каталога**.
    ![Снимок экрана кнопки создания новой папки в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-directory-1.png)

2. В поле имени введите *myDirectory*, а затем нажмите кнопку **OК**. 

Каталог *MyDirectory* будет указан на вкладке для файлового ресурса *myshare*.

### <a name="upload-a-file"></a>Отправить файл. 
Отправьте файл с локального компьютера в новый каталог в файловом ресурсе. Вы можете отправить всю папку или только один файл.

1. В меню сверху выберите **Отправить**. Эта операция позволяет передать папку или файл.

2. Нажмите кнопку **Отправка файлов** и выберите нужный файл на локальном компьютере.

3. В поле **Upload to a directory** (Отправить в каталог) введите *myDirectory* и нажмите кнопку **Отправить**. 

После отправки файл должен отобразиться в списке на странице **myDirectory**.

### <a name="download-a-file"></a>Скачивание файла
Вы можете загрузить копию файла в файловый ресурс, щелкнув правой кнопкой мыши файл и выбрав пункт **Загрузить**. Выберите целевое расположение файла на своем локальном компьютере, а затем нажмите кнопку **Сохранить**.

В нижней части окна на панели **Действия** можно просмотреть ход выполнения загрузки.

## <a name="create-and-modify-share-snapshots"></a>Создание и изменение моментальных снимков общего ресурса
Моментальный снимок сохраняет состояние общего файлового ресурса Azure на момент определенной точки во времени. Моментальные снимки файловых ресурсов аналогичны тем, которые создаются с помощью уже знакомых вам технологий, например:
- [служба теневого копирования томов (VSS)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee923636) для файловых систем Windows, таких как NTFS и ReFS;
- [диспетчер логических томов (LVM)](https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)#Basic_functionality) для систем Linux;
- [файловая система Apple (APFS)](https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/APFS_Guide/Features/Features.html) для macOS. 

Чтобы создать моментальный снимок общего ресурса, сделайте следующее:

1. Откройте вкладку для файлового ресурса *myshare*.
2. В меню в верхней части вкладки щелкните **Создать моментальный снимок**. Эта кнопка может быть скрыта в зависимости от размеров окна Обозревателя службы хранилища Azure. Чтобы открыть ее, щелкните **... More** (...Больше).  
    ![Снимок экрана кнопки создания моментального снимка в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-share-snapshot-1.png)

### <a name="list-and-browse-share-snapshots"></a>Вывод списка и просмотр моментальных снимков общих ресурсов
После создания моментального снимка, чтобы просмотреть моментальные снимки общего ресурса, можно щелкнуть **View Snapshots for File Share** (Просмотреть моментальные снимки файлового ресурса). Эта кнопка может быть скрыта в зависимости от размеров окна Обозревателя службы хранилища Azure. Чтобы открыть ее, щелкните **... More** (Больше). Дважды щелкните моментальный снимок общего ресурса, чтобы просмотреть его.

![Снимок экрана просмотра моментальных снимков](media/storage-how-to-use-files-storage-explorer/list-browse-snapshots-1.png)

### <a name="restore-from-a-share-snapshot"></a>Восстановление из моментального снимка общего ресурса
Чтобы продемонстрировать восстановление файла из моментального снимка общего ресурса, сначала нужно удалить файл из файлового ресурса Azure. Перейдите в папку *myDirectory*, щелкните правой кнопкой мыши переданный файл и нажмите кнопку **Удалить**. Затем, чтобы восстановить этот файл из моментального снимка общего ресурса, сделайте следующее:

1. Щелкните **View Snapshots for File Share** (Просмотреть моментальный снимок файлового ресурса). Эта кнопка может быть скрыта в зависимости от размеров окна Обозревателя службы хранилища Azure. Чтобы открыть ее, щелкните **... More** (...Больше).
2. Выберите моментальный снимок общего ресурса в списке и дважды щелкните, чтобы перейти к нему.
3. Просматривайте содержимое моментального снимка, пока не найдете удаленный файл, выберите его и щелкните **Restore Snapshot** (Восстановить моментальный снимок). Эта кнопка может быть скрыта в зависимости от размеров окна Обозревателя службы хранилища Azure. Чтобы открыть ее, щелкните **... More** (...Больше). Вы получите предупреждение о том, что восстановление файла перезапишет содержимое файлового ресурса и это действие нельзя будет отменить. Нажмите кнопку **ОК**.
4. Теперь файл должен находиться в исходном месте — в активном файловом ресурсе Azure.

### <a name="delete-a-share-snapshot"></a>Удаление моментального снимка общего ресурса
Чтобы удалить моментальный снимок общего ресурса, [перейдите к списку моментальных снимков общего ресурса](#list-and-browse-share-snapshots). Щелкните правой кнопкой мыши моментальный снимок общего ресурса, который вы хотите удалить, и нажмите кнопку "Удалить".

## <a name="clean-up-resources"></a>Очистка ресурсов
Для Обозревателя службы хранилища возможность удаления ресурсов недоступна. Чтобы удалить ресурсы, созданные при работе с этим кратким руководством, воспользуйтесь [порталом Azure](https://portal.azure.com/). 

[!INCLUDE [storage-files-clean-up-portal](../../../includes/storage-files-clean-up-portal.md)]

## <a name="next-steps"></a>Дополнительная информация
- [Как использовать службу файлов Azure на портале Azure](storage-how-to-use-files-portal.md)
- [Как использовать PowerShell для управления службой файлов Azure](storage-how-to-use-files-powershell.md)
- [Управление файловыми ресурсами Azure с помощью Azure CLI](storage-how-to-use-files-cli.md)
- [Planning for an Azure Files deployment](storage-files-planning.md) (Планирование развертывания службы файлов Azure)