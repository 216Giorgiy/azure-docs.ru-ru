---
title: Управление файловыми ресурсами Azure с помощью Обозревателя службы хранилища Azure
description: Сведения об использовании Обозревателя службы хранилища Azure для управления файловыми ресурсами Azure.
services: storage
documentationcenter: ''
author: wmgries
manager: aungoo
editor: tamram
ms.assetid: ''
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 02/27/2018
ms.author: wgries
ms.openlocfilehash: ea401099ce90248be0ecb99109b845ff9a91f70d
ms.sourcegitcommit: 0a84b090d4c2fb57af3876c26a1f97aac12015c5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2018
ms.locfileid: "38308503"
---
# <a name="manage-azure-file-shares-with-azure-storage-explorer"></a>Управление файловыми ресурсами Azure с помощью Обозревателя службы хранилища Azure 
[Файлы Azure](storage-files-introduction.md) — это простая в использовании облачная файловая система от корпорации Майкрософт. В статье рассматриваются основы работы с файловыми ресурсами Azure с помощью [Обозревателя службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/). Обозреватель службы хранилища является популярным клиентским инструментом, доступным для Windows, macOS и Linux. Его можно использовать для управления файловыми ресурсами Azure и другими ресурсами хранения.

Для работы с этим кратким руководством необходимо установить Обозреватель службы хранилища. Чтобы загрузить и установить Обозреватель службы хранилища Azure, [перейдите по этой ссылке](https://azure.microsoft.com/features/storage-explorer/).

В этой статье раскрываются следующие темы:

> [!div class="checklist"]
> * создать группы ресурсов и учетную запись хранения;
> * создать файловый ресурс Azure; 
> * создать каталог;
> * отправить файл;
> * скачать файл;
> * создать моментальный снимок общего ресурса и использовать его.

Если у вас еще нет подписки Azure, вы можете создать [бесплатную учетную запись](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="create-a-storage-account"></a>Создание учетной записи хранения
С помощью Обозревателя службы хранилища невозможно создать новые ресурсы. Для этого демонстрационного проекта мы создадим учетную запись хранения на [портале Azure](https://portal.azure.com/). 

[!INCLUDE [storage-files-create-storage-account-portal](../../../includes/storage-files-create-storage-account-portal.md)]

## <a name="connect-storage-explorer-to-azure-resources"></a>Подключение Обозревателя службы хранилища к ресурсам Azure
При первом запуске Обозревателя службы хранилища Microsoft Azure появляется окно **подключения**. Обозреватель службы хранилища предоставляет несколько способов подключения к учетным записям хранения. 

- **Вход через учетную запись Azure**. Вы можете выполнить вход с учетными данными пользователя для вашей организации или учетной записи Майкрософт. 
- **Подключение к определенной учетной записи хранения с использованием строки подключения или токена SAS**. Строка подключения содержит имя учетной записи хранения и ключ или токен SAS этой учетной записи. При наличии токена Обозреватель службы хранилища напрямую обращается к учетной записи хранения (а не просто просматривает список всех учетных записей хранения в учетной записи Azure). Дополнительные сведения о строках подключения см. в статье [Настройка строк подключения службы хранилища Azure](../common/storage-configure-connection-string.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json).
- **Подключение к определенной учетной записи хранения с ее использованием имени и ключа**. Используйте имя и ключ учетной записи хранения для подключения к службе хранилища Azure.

В целях этого краткого руководства войдите в систему со своей учетной записью Azure. Выберите **Add an Azure Account** (Добавить учетную запись Azure), а затем нажмите кнопку **Войти**. Следуйте указаниям по входу в учетную запись Azure.

![Снимок экрана с окном подключения Обозревателя службы хранилища Microsoft Azure](./media/storage-how-to-use-files-storage-explorer/connect-to-azure-storage-1.png)

### <a name="create-a-file-share"></a>Создание общей папки
Для создания первого файлового ресурса Azure в учетной записи *storageacct<random number>*:

1. Разверните созданную учетную запись хранения.
2. Щелкните правой кнопкой мыши **Общие файловые ресурсы** и выберите **Create File Share** (Создать файловый ресурс).  
    ![Снимок экрана папки общих файловых ресурсов и контекстного меню в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-file-share-1.png)

3. Для файлового ресурса введите *myshare* и нажмите клавишу ВВОД.

> [!IMPORTANT]  
> Имена общих ресурсов должны содержать только строчные буквы, цифры и отдельные дефисы, и они не могут начинаться с дефиса. Дополнительные сведения о присвоении имен общим папкам и файлам см. в статье [Naming and Referencing Shares, Directories, Files, and Metadata](https://docs.microsoft.com/rest/api/storageservices/Naming-and-Referencing-Shares--Directories--Files--and-Metadata) (Именование общих ресурсов, каталогов, файлов и метаданных и ссылка на них).

После создания файлового ресурса на правой панели откроется вкладка для него. 

## <a name="work-with-the-contents-of-an-azure-file-share"></a>Использование содержимого, расположенного в файловом ресурсе Azure
Теперь, когда файловый ресурс Azure создан, его можно подключить с помощью SMB к [Windows](storage-how-to-use-files-windows.md), [Linux](storage-how-to-use-files-linux.md) или [macOS](storage-how-to-use-files-mac.md). Кроме того, с файловым ресурсом Azure можно работать с помощью Azure CLI. Преимущество использования Azure CLI вместо подключения файлового ресурса по протоколу SMB заключается в том, что все запросы, созданные с помощью Azure CLI, выполняются через файловый REST API. Файловый REST API можно использовать для создания, изменения и удаления файлов и каталогов на клиентах, у которых нет доступа по SMB.

### <a name="create-a-directory"></a>создать каталог;
Добавление каталога обеспечивает иерархическую структуру для управления файловым ресурсом. В вашем каталоге можно создать несколько уровней. Однако прежде, чем создавать подкаталог, необходимо убедиться в наличии всех родительских каталогов. Например, для пути myDirectory/mySubDirectory необходимо сначала создать каталог *myDirectory*. Затем создается *mySubDirectory*. 

1. На вкладке для файлового ресурса в верхнем меню нажмите кнопку **New Folder** (Создать папку). Откроется панель **Создать новый каталог**.
    ![Снимок экрана с изображением кнопки создания новой папки в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-directory-1.png)

2. Введите имя каталога *myDirectory*, а затем нажмите кнопку **ОК**. 

Каталог *MyDirectory* будет указан на вкладке файлового ресурса *myshare*.

### <a name="upload-a-file"></a>Отправка файла 
Вы можете отправить файл с локального компьютера в новый каталог в вашем файловом ресурсе. Можно отправить или всю папку, или только один файл.

1. В верхнем меню выберите **Отправить**. Эта операция позволяет передать папку или файл.
2. Нажмите кнопку **Отправка файлов**, а затем выберите нужный файл на локальном компьютере.
3. В поле **Отправка в каталог** введите *myDirectory* и нажмите кнопку **Отправить**. 

По окончании процесса передачи файл появится в соответствующем списке на панели *myDirectory*.

### <a name="download-a-file"></a>скачать файл;
Чтобы загрузить копию файла из файлового ресурса, щелкните файл правой кнопкой мыши и выберите пункт **Загрузить**. Выберите целевое расположение файла на своем локальном компьютере, а затем нажмите кнопку **Сохранить**.

Ход выполнения загрузки отображается в нижней части окна на панели **Действия**.

## <a name="create-and-modify-share-snapshots"></a>Создание и изменение моментальных снимков общего ресурса
Моментальный снимок сохраняет состояние общего файлового ресурса Azure на момент определенной точки во времени. Моментальные снимки файловых ресурсов аналогичны создаваемым с помощью технологий, с которыми вы уже можете быть знакомы.
- [служба теневого копирования томов (VSS)](https://docs.microsoft.com/en-us/windows/desktop/VSS/volume-shadow-copy-service-portal) для файловых систем Windows, таких как NTFS и ReFS.
- [диспетчер логических томов (LVM)](https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)#Basic_functionality) для систем Linux;
- [файловая система Apple (APFS)](https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/APFS_Guide/Features/Features.html) для macOS;

Чтобы создать моментальный снимок общего ресурса, сделайте следующее:

1. Откройте вкладку для файлового ресурса *myshare*.
2. В верхнем меню выберите **Создание моментального снимка**. (В зависимости от размеров окна Обозревателя службы хранилища, чтобы увидеть эту команду, сначала может потребоваться выбрать **Дополнительно**.)  
    ![Снимок экрана с изображением кнопки создания моментального снимка в контексте выполнения](media/storage-how-to-use-files-storage-explorer/create-share-snapshot-1.png)

### <a name="list-and-browse-share-snapshots"></a>Вывод списка и просмотр моментальных снимков общих ресурсов
Для получения списка созданных моментальных снимков общего ресурса выберите **View Snapshots for File Share** (Просмотреть моментальные снимки для файлового ресурса). (В зависимости от размеров окна Обозревателя службы хранилища, чтобы увидеть эту команду, сначала может потребоваться выбрать **Дополнительно**.) Чтобы просмотреть моментальный снимок файлового ресурса, дважды щелкните этот снимок.

![Снимок окна просмотра моментальных снимков](media/storage-how-to-use-files-storage-explorer/list-browse-snapshots-1.png)

### <a name="restore-from-a-share-snapshot"></a>Восстановление из моментального снимка общего ресурса
Чтобы продемонстрировать восстановление файла из моментального снимка файлового ресурса, сначала нужно удалить файл из активного файлового ресурса Azure. Перейдите в папку *myDirectory*, щелкните правой кнопкой мыши переданный файл и нажмите кнопку **Удалить**. Чтобы восстановить этот файл из моментального снимка общего ресурса, сделайте следующее:

1. Выберите **View Snapshots for File Share** (Просмотреть моментальные снимки для файлового ресурса). (В зависимости от размеров окна Обозревателя службы хранилища, чтобы увидеть эту команду, сначала может потребоваться выбрать **Дополнительно**.)
2. В списке моментальных снимков общего ресурса дважды щелкните нужный снимок.
3. Просматривайте моментальный снимок, пока не найдете удаленный файл. Выберите файловый ресурс, а затем выберите **Restore Snapshot** (Восстановить моментальный снимок). (В зависимости от размеров окна Обозревателя службы хранилища, чтобы увидеть эту команду, сначала может потребоваться выбрать **Дополнительно**.) Откроется окно предупреждения о том, что восстановление файла перезапишет содержимое файлового ресурса и это действие нельзя будет отменить. Нажмите кнопку **ОК**.
4. Теперь файл должен находиться в исходном месте — в активном файловом ресурсе Azure.

### <a name="delete-a-share-snapshot"></a>Удаление моментального снимка общего ресурса
Для удаления моментального снимка общего ресурса перейдите к [списку моментальных снимков общего ресурса](#list-and-browse-share-snapshots). Щелкните правой кнопкой мыши моментальный снимок, который нужно удалить, и выберите пункт **Удалить**.

## <a name="clean-up-resources"></a>Очистка ресурсов
Обозреватель службы хранилища невозможно использовать для удаления ресурсов. Чтобы удалить ресурсы, созданные при работе с этим кратким руководством, можно воспользоваться [порталом Azure](https://portal.azure.com/). 

[!INCLUDE [storage-files-clean-up-portal](../../../includes/storage-files-clean-up-portal.md)]

## <a name="next-steps"></a>Дополнительная информация
- [Управление файловыми ресурсами Azure с помощью портала Azure](storage-how-to-use-files-portal.md)
- [Управление файловыми ресурсами Azure с помощью Azure PowerShell](storage-how-to-use-files-powershell.md)
- [Управление файловыми ресурсами Azure с помощью Azure CLI](storage-how-to-use-files-cli.md)
- [Планирование развертывания службы файлов Azure](storage-files-planning.md)