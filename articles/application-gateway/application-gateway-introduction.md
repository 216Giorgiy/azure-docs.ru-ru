<properties
   pageTitle="Общие сведения о шлюзе приложений | Microsoft Azure"
   description="На этой странице представлены общие сведения о службе шлюза приложений для балансировки нагрузки уровня 7, включая размеры шлюза, балансировку нагрузки HTTP, сходство сеансов на основе файлов cookie и разгрузку SSL."
   documentationCenter="na"
   services="application-gateway"
   authors="georgewallace"
   manager="carmonm"
   editor="tysonn"/>
<tags
   ms.service="application-gateway"
   ms.devlang="na"
   ms.topic="hero-article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="09/26/2016"
   ms.author="gwallace"/>


# <a name="application-gateway-overview"></a>Обзор шлюза приложений

## <a name="what-is-application-gateway"></a>Что такое шлюз приложений

Шлюз приложений Microsoft Azure предоставляет контроллер доставки приложений (ADC) как услугу, обеспечивая множество функций балансировки нагрузки уровня 7. Проще говоря, он принимает трафик и согласно определенным правилам направляет его в соответствующие экземпляры серверной части.

Балансировка нагрузки приложений позволяет ИТ-администраторам и разработчикам создавать правила маршрутизации сетевого трафика на основе протокола HTTP.  Служба шлюза приложений отличается высокой доступностью и измеримостью. См. страницы о [соглашениях об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/) и [ценах](https://azure.microsoft.com/pricing/details/application-gateway/).

Шлюз приложений применяет правила маршрутизации к трафику HTTP, обеспечивая балансировку нагрузки на седьмом уровне (HTTP). При создании шлюза приложений конечная точка (виртуальный IP-адрес) связывается и используется в качестве общедоступного IP-адреса для входящего сетевого трафика. Azure обеспечивает балансировку нагрузки на четвертом уровне с использованием балансировщика нагрузки Azure, работающего на транспортном уровне (TCP и UDP). Также выполняется балансировка нагрузки всего входящего сетевого трафика службы шлюза приложений. В зависимости от своей конфигурации шлюз приложений направляет трафик HTTP в виртуальную машину, облачную службу или на внешний IP-адрес.

## <a name="features"></a>Функции

Шлюз приложений в настоящее время поддерживает доставку приложений уровня 7 с такими функциями:

- **[Брандмауэр веб-приложения (предварительная версия).](application-gateway-webapplicationfirewall-overview.md)** Брандмауэр веб-приложения (WAF) в шлюзе приложений Azure защищает веб-приложения от таких распространенных веб-атак, как атаки путем внедрения кода SQL, атаки межсайтовых скриптов и захваты сеанса.
- **Балансировка нагрузки HTTP.** Шлюз приложений обеспечивает балансировку нагрузки по методу циклического перебора. Она выполняется на уровне 7 и используется только для трафика HTTP(S).
- **Соответствие сеансу на основе файлов cookie.** Эта функция удобна, если нужно, чтобы сеанс пользователя выполнялся на одном и том же внутреннем сервере. Используя управляемые шлюзом файлы cookie, шлюз приложений может направлять последующий трафик из сеанса пользователя в тот же внутренний сервер для обработки. Эта функция важна, когда состояние сеанса пользователя сохраняется локально на внутреннем сервере.
- **[Выгрузка SSL.](application-gateway-ssl-arm.md)** Эта функция позволяет избежать затратной процедуры расшифровки HTTPS-трафика с веб-серверов. Если разорвать SSL-соединение на шлюзе приложений и отправить на сервер незашифрованный запрос, веб-серверу не придется выполнять расшифровку.  Шлюз приложений повторно шифрует ответ перед отправкой в клиент. Эта функция полезна, когда внутренний сервер находится в той же защищенной виртуальной сети, что и шлюз приложений в Azure.
- **[Сквозной режим связи SSL.](application-gateway-backend-ssl.md)** Шлюз приложений поддерживает сквозное шифрование трафика. Для этого шлюз приложений завершает SSL-соединение. Затем шлюз применяет правила маршрутизации к трафику, повторно шифрует пакет и пересылает его в соответствующую серверную часть согласно определенным правилам маршрутизации. Любой ответ веб-сервера проходит через тот же процесс на пути к пользователю.
- **[Маршрутизация содержимого на основе URL-адресов.](application-gateway-url-route-overview.md)** Эта функция позволяет использовать различные внутренние серверы для разного трафика. Трафик для папки на веб-сервере или сети CDN можно направлять на разные внутренние серверы, уменьшая нагрузку на серверы без конкретного содержимого.
- **[Маршрутизация для нескольких сайтов.](application-gateway-multi-site-overview.md)** На одном шлюзе приложений можно объединять до 20 веб-сайтов.
- **[Поддержка WebSocket.](application-gateway-websocket.md)** Еще одна отличная функция шлюза приложений — встроенная поддержка WebSocket.
- **[Мониторинг работоспособности.](application-gateway-probe-overview.md)** Шлюз приложений обеспечивает используемый по умолчанию мониторинг работоспособности ресурсов серверной части, а также пользовательские пробы для мониторинга в конкретных сценариях.

## <a name="benefits"></a>Преимущества

Шлюз приложений эффективен:

- Для приложений, которым для получения доступа к одной серверной виртуальной машине требуются запросы от сеанса одного пользователя или клиента. В качестве примера таких приложений можно привести приложения корзины для покупок и почтовые веб-серверы.
- Приложения, которым нужно освободить фермы веб-серверов от нагрузки, связанной с завершением SSL-запросов.
- Такие приложения, как сеть доставки содержимого, которым для маршрутизации или распределения нагрузки на другие внутренние серверы требуются многократные HTTP-запросы к одному и тому же долгосрочному подключению TCP.
- Приложения, поддерживающие трафик WebSocket
- Для защиты веб-приложений от таких распространенных сетевых атак, как атаки путем внедрения кода SQL, атаки межсайтовых скриптов и захваты сеанса.

[AZURE.INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="gateway-sizes-and-instances"></a>Размеры и экземпляры шлюза

Шлюз приложений в настоящее время предлагается в трех размерах: малый, средний и большой. Экземпляры малого размера предназначены для разработки и тестирования сценариев.

В настоящее время доступно два номера SKU для шлюза приложений: WAF и "Стандартный".

На каждую подписку можно создавать до 50 шлюзов приложений, а у каждого шлюза может быть до 10 экземпляров. Каждый шлюз приложений может состоять из 20 прослушивателей HTTP. Как служба под управлением Azure, балансировка нагрузки шлюза приложений позволяет использовать подсистему балансировщика нагрузки 7 уровня в обход подсистемы балансировщика нагрузки программного обеспечения Azure.

В следующей таблице показана средняя пропускная способность каждого экземпляра шлюза приложений.

| Ответ страницы сервера | Малый | Средний | Крупный|
|---|---|---|---|
| 6K | 7,5 Мбит/с | 13 Мбит/с | 50 Мбит/с |
|100 тыс | 35 Мбит/с | 100 Мбит/с| 200 Мбит/с |

>[AZURE.NOTE] Это примерные значения для настройки пропускной способности шлюза приложений. Фактическая пропускная способность зависит от различных параметров среды, таких как средний размер страницы, расположение внутренних экземпляров и время обработки страницы сервером. Для точных показателей производительности следует выполнить собственное тестирование. Указанные значения приведены в рамках рекомендаций по планированию ресурсов.

## <a name="health-monitoring"></a>Мониторинг работоспособности

Шлюз приложений Azure автоматически отслеживает работоспособность серверных экземпляров с помощью базовых или пользовательских проверок работоспособности. Это позволяет гарантировать, что только работоспособные узлы отвечают на трафик. Дополнительные сведения см. в статье [Обзор мониторинга работоспособности шлюза приложений](application-gateway-probe-overview.md).

## <a name="configuring-and-managing"></a>Настройка и управление

У конечной точки шлюза приложений может быть общедоступный, частный IP-адрес или оба, если они настроены. Шлюз приложений настроен внутри виртуальной сети в собственной подсети. Подсеть, созданная или используемая для шлюза приложений, не может содержать другие типы ресурсов. В качестве ресурсов в сети разрешаются только другие шлюзы приложений. Для защиты ресурсов серверной части внутренние серверы можно поместить в подсеть виртуальной сети, отличную от подсети шлюза приложений. Эта дополнительная подсеть не нужна для приложений серверной части. Пока шлюз приложений может обратиться по IP-адресу, он может предоставить возможности ADC для внутренних серверов.

Для создания шлюзов приложений и управления ими можно использовать REST API, командлеты PowerShell, интерфейс командной строки Azure или [портал Azure](https://portal.azure.com/).

## <a name="next-steps"></a>Дальнейшие действия

Изучив принципы создания шлюза приложений, вы можете [создать шлюз приложений](application-gateway-create-gateway-portal.md) или [разгрузку SSL шлюза приложений](application-gateway-ssl-arm.md) для балансировки нагрузки подключений HTTPS.

Чтобы узнать, как создать шлюз приложений с маршрутизацией содержимого на основе URL-адресов, за дополнительной информацией обратитесь к статье [Создание шлюза приложений с помощью маршрутизации на основе URL-адресов](application-gateway-create-url-route-arm-ps.md) .




<!--HONumber=Oct16_HO2-->


