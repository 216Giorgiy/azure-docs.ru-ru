<properties
   pageTitle="Общие сведения о шлюзе приложений | Microsoft Azure"
   description="На этой странице представлены общие сведения о службе шлюза приложений для балансировки нагрузки 7 уровня, включая размеры шлюза, балансировку нагрузки HTTP, соответствие сеансу на основе файлов cookie и разгрузку SSL."
   documentationCenter="na"
   services="application-gateway"
   authors="georgewallace"
   manager="carmonm"
   editor="tysonn"/>
<tags
   ms.service="application-gateway"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="09/06/2016"
   ms.author="gwallace"/>

# Обзор шлюза приложений

Шлюз приложений Microsoft Azure обеспечивает управляемую Azure службу балансировки нагрузки HTTP на основе технологии балансировки нагрузки на уровне 7. Проще говоря, она принимает трафик и согласно определенным правилам направляет его в соответствующие серверные экземпляры.

Балансировка нагрузки приложений позволяет ИТ-администраторам и разработчикам создавать правила маршрутизации сетевого трафика на основе протокола HTTP. Служба шлюза приложений отличается высокой доступностью и измеримостью. Соглашение об уровне обслуживания и цены см. на страницах [Соглашение об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/) и [Цены](https://azure.microsoft.com/pricing/details/application-gateway/).

Шлюз приложений в настоящее время поддерживает доставку приложений уровня 7 с такими функциями:

- **Балансировка нагрузки HTTP.** Основная функция шлюза приложений — обеспечивать балансировку нагрузки. Она выполняется на уровне 7 и используется только для трафика HTTP.
- **Соответствие сеансу на основе файлов cookie.** Эта функция удобна, если нужно, чтобы сеанс пользователя выполнялся на одном и том же внутреннем сервере. Файлы cookie позволяют шлюзу приложений направлять последующий трафик из сеанса пользователя на тот же внутренний сервер для обработки. Эта функция важна, когда во время сеанса пользователя объекты сохраняются локально на внутреннем сервере.
- **[Выгрузка SSL.](application-gateway-ssl-arm.md)** Эта функция позволяет избежать затратной процедуры расшифровки HTTPS-трафика с веб-серверов. Если разорвать SSL-соединение на шлюзе приложений и отправить на сервер незашифрованный запрос, веб-серверу не придется выполнять расшифровку. Шлюз приложений повторно шифрует ответ перед отправкой клиенту. Эта функция полезна, когда внутренний сервер находится в той же защищенной виртуальной сети, что и шлюз приложений в Azure.
- **[Маршрутизация содержимого на основе URL-адресов.](application-gateway-url-route-overview.md)** Эта функция позволяет использовать различные внутренние серверы для разного трафика. Трафик для папки на веб-сервере или сети CDN можно направлять на разные внутренние серверы, уменьшая нагрузку на серверы без конкретного содержимого.
- **[Маршрутизация для нескольких сайтов.](application-gateway-multi-site-overview.md)** На одном шлюзе приложений можно объединять до 20 веб-сайтов.
- **[Поддержка WebSocket.](application-gateway-websocket.md)** Еще одна отличная функция шлюза приложений — встроенная поддержка WebSocket.


## Балансировка нагрузки HTTP 7 уровня

Шлюз приложений применяет правила маршрутизации к трафику HTTP, обеспечивая балансировку нагрузки на седьмом уровне (HTTP). При создании шлюза приложений конечная точка (виртуальный IP-адрес) связывается и используется в качестве общедоступного IP-адреса для входящего сетевого трафика. Azure обеспечивает балансировку нагрузки на четвертом уровне с использованием балансировщика нагрузки Azure, работающего на транспортном уровне (TCP и UDP). Также выполняется балансировка нагрузки всего входящего сетевого трафика службы шлюза приложений. В зависимости от своей конфигурации шлюз приложений направляет трафик HTTP в виртуальную машину, облачную службу, веб-приложение или на внешний IP-адрес.

Балансировка нагрузки HTTP 7 уровня может использоваться для следующих приложений.

- Для приложений, которым для получения доступа к одной серверной виртуальной машине требуются запросы от сеанса одного пользователя или клиента. В качестве примера таких приложений можно привести приложения корзины для покупок и почтовые веб-серверы.
- Приложения, которым нужно освободить фермы веб-серверов от нагрузки, связанной с завершением SSL-запросов.
- Такие приложения, как сеть доставки содержимого, которым для маршрутизации или распределения нагрузки на другие внутренние серверы требуются многократные HTTP-запросы к одному и тому же долгосрочному подключению TCP.
- Для приложений, которые поддерживают трафик WebSocket и у которых по-прежнему есть конечная точка HTTP для мониторинга.

[AZURE.INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## Размеры и экземпляры шлюза

Шлюз приложений в настоящее время предлагается в трех размерах: малый, средний и большой. Экземпляры малого размера предназначены для разработки и тестирования сценариев.

На каждую подписку можно создавать до 50 шлюзов приложений, а у каждого шлюза может быть до 10 экземпляров. Как служба под управлением Azure, балансировка нагрузки шлюза приложений позволяет использовать подсистему балансировщика нагрузки 7 уровня в обход подсистемы балансировщика нагрузки программного обеспечения Azure.

В следующей таблице показана средняя пропускная способность каждого экземпляра шлюза приложений.

| Ответ страницы сервера | Малый | Средний | Крупный|
|---|---|---|---|
| 6 тыс. | 7,5 Мбит/с | 13 Мбит/с | 50 Мбит/с |
|100 тыс. | 35 Мбит/с | 100 Мбит/с| 200 Мбит/с |

>[AZURE.NOTE] Это примерные значения для настройки пропускной способности шлюза приложений. Фактическая пропускная способность зависит от различных параметров среды, таких как средний размер страницы, расположение внутренних экземпляров и время обработки страницы сервером.

## Мониторинг работоспособности

Шлюз приложений Azure автоматически отслеживает работоспособность серверных экземпляров с помощью базовых или пользовательских проверок работоспособности. Дополнительные сведения см. в статье [Обзор мониторинга работоспособности шлюза приложений](application-gateway-probe-overview.md).

## Настройка и управление

У конечной точки шлюза приложений может быть общедоступный, частный IP-адрес или оба, если они настроены. Шлюз приложений настроен внутри виртуальной сети в собственной подсети. Подсеть, созданная или используемая для шлюза приложений, не может содержать другие типы ресурсов. В качестве ресурсов в сети разрешаются только другие шлюзы приложений.

Для создания шлюзов приложений и управления ими можно использовать REST API, командлеты PowerShell, интерфейс командной строки Azure или [портал Azure](https://portal.azure.com/).

## Дальнейшие действия

Изучив принципы создания шлюза приложений, вы можете [создать шлюз приложений](application-gateway-create-gateway-portal.md) или [создать разгрузку SSL шлюза приложений](application-gateway-ssl-arm.md) для балансировки нагрузки подключений HTTPS.

Чтобы узнать, как создать шлюз приложений с маршрутизацией содержимого на основе URL-адресов, за дополнительной информацией обратитесь к статье [Создание шлюза приложений с помощью маршрутизации на основе URL-адресов](application-gateway-create-url-route-arm-ps.md).

<!---HONumber=AcomDC_0914_2016-->