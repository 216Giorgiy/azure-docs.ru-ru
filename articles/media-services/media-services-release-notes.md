<properties 
	pageTitle="Заметки о выпуске служб мультимедиа" 
	description="Заметки о выпуске служб мультимедиа" 
	services="media-services" 
	documentationCenter="" 
	authors="juliako" 
	manager="dwrede" 
	editor=""/>

<tags 
	ms.service="media-services" 
	ms.workload="media" 
	ms.tgt_pltfrm="media" 
	ms.devlang="dotnet" 
	ms.topic="article" 
	ms.date="02/03/2015" 
	ms.author="juliako"/>


# Заметки о выпуске служб мультимедиа Azure

В этих заметках описаны изменения по сравнению с предыдущими выпусками, а также известные проблемы.

>[AZURE.NOTE] Мы ждем отзывов от наших заказчиков и уделяем большое внимание исправлению проблем, влияющих на вашу работу. Сообщения о проблемах и вопросы размещайте на [форуме MSDN по службам мультимедиа Azure].

- [Известные проблемы](#issues)
- [Журнал версий интерфейса API REST](#rest_version_history)
- [Выпуск: март 2015 г.](#march_changes_15)
- [Выпуск: февраль 2015 г.](#february_changes_15)
- [Выпуск: январь 2015 г.](#january_changes_15)
- [Выпуск: декабрь 2014 г.](#december_changes_14)
- [Выпуск: ноябрь 2014 г.](#november_changes_14)
- [Выпуск: октябрь 2014 г.](#october_changes_14)
- [Выпуск: сентябрь 2014 г.](#september_changes_14)
- [Выпуск: август 2014 г.](#august_changes_14)
- [Выпуск: июль 2014 г.](#july_changes_14)
- [Выпуск: май 2014 г.](#may_changes_14)
- [Выпуск: апрель 2014 г.](#april_changes_14) 
- [Выпуски: январь/февраль 2014 г.](#jan_feb_changes_14) 
- [Выпуск: декабрь 2013 г.](#december_changes_13)
- [Выпуск: ноябрь 2013 г.](#november_changes_13)
- [Выпуск: август 2013 г.](#august_changes_13)
- [Выпуск: июнь 2013 г.](#june_changes_13)
- [Выпуск: декабрь 2012 г.](#december_changes_12)
- [Выпуск: ноябрь 2012 г.](#november_changes_12)
- [Предварительный выпуск: июнь 2012 г.](#june_changes_12)


##<a id="issues"></a>Известные проблемы

### <a id="general_issues"></a>Общие проблемы служб мультимедиа

<table border="1">
<tr><th>Проблема</th><th>Описание</yt></tr>
<tr><td>В API-интерфейсе REST отсутствует ряд стандартных заголовков HTTP.</td><td>При разработке приложений служб мультимедиа с использованием API-интерфейса REST замечено, что ряд стандартных полей заголовков HTTP (включая CLIENT-REQUEST-ID, REQUEST-ID и RETURN-CLIENT-REQUEST-ID) не поддерживается. Эти заголовки будут добавлены в следующем обновлении.</td></tr>
<tr><td>При кодировании актива с именем файла, содержащим escape-последовательности символов (например, %20), появляется ошибка "MediaProcessor: File not found" (MediaProcessor: файл не найден).</td><td>Имена файлов, которые будут добавляться в актив и затем кодироваться, должны содержать только буквы, цифры и пробелы. Эта проблема будет исправлена в следующем обновлении.</td></tr>
<tr><td>Метод ListBlobs, входящий в состав пакета SDK хранилища Azure версии 3.x, приводит к сбою.</td><td>Службы мультимедиа создают URL-адреса SAS на основе версии <a href="http://msdn.microsoft.com/library/azure/dn592123.aspx">2012-02-12</a>. Если вы хотите использовать пакет SDK хранилища Azure для создания списка больших двоичных объектов в контейнере больших двоичных объектов, используйте метод <a href="http://msdn.microsoft.com/library/microsoft.windowsazure.storage.blob.cloudblobcontainer.listblobs.aspx">CloudBlobContainer.ListBlobs</a>, входящий в пакет SDK хранилища Azure версии 2.x. Метод ListBlobs, входящий в состав пакета SDK хранилища Azure версии 3.x, будет вызывать сбой.</td></tr>
<tr><td>Механизм регулирования служб мультимедиа ограничивает использование ресурсов для приложений, создающих избыточный запрос к службе. Службой может быть возвращен код состояния HTTP "Service Unavailable (503)".</td><td>Дополнительную информацию см. в описании кода состояния HTTP 503 в разделе <a href="http://msdn.microsoft.com/library/azure/dn168949.aspx">Коды ошибок служб мультимедиа Azure</a>.</td></tr>
</table><br/>

### <a id="dotnet_issues"></a>Проблемы с пакетом SDK служб мультимедиа для .NET

<table border="1">
<tr><th>Проблема</th><th>Описание</yt></tr>
<tr><td>Объекты служб мультимедиа в пакете SDK не могут быть сериализованы и поэтому не работают вместе с Azure Caching.</td><td>При попытке сериализации объекта SDK AssetCollection с целью его добавления в Azure Caching возникает исключение.</td></tr>
</table><br/>

##<a id="rest_version_history"></a>Журнал версий интерфейса API REST

Сведения о журнале версий интерфейса API REST служб мультимедиа см. в [Справочнике по интерфейсу API REST для служб мультимедиа Azure].

##<a id="march_changes_15"></a>Выпуск: март 2015 г.

### Общие обновления служб мультимедиа

- Теперь службы мультимедиа обеспечивают интеграцию Azure CDN. Для поддержки интеграции в **StreamingEndpoint** было добавлено свойство **CdnEnabled**.  **CdnEnabled** можно использовать с API REST, начиная с версии 2.9 (дополнительные сведения см. в разделе [StreamingEndpoint](https://msdn.microsoft.com/ru-ru/library/azure/dn783468.aspx)).  **CdnEnabled** можно использовать с пакетом SDK .NET, начиная с версии 3.1.0.2 (дополнительные сведения см. в разделе [StreamingEndpoint](https://msdn.microsoft.com/ru-ru/library/azure/microsoft.windowsazure.mediaservices.client.istreamingendpoint(v=azure.10).aspx)).
- Объявление о **Рабочем процессе Premium обработчика мультимедиа**. Дополнительные сведения см. в разделе [Знакомство с кодированием Premium в службах мультимедиа Azure](http://azure.microsoft.com/blog/2015/03/05/introducing-premium-encoding-in-azure-media-services).
 


##<a id="february_changes_15"></a>Выпуск: февраль 2015 г.

### Общие обновления служб мультимедиа

API REST служб мультимедиа обновлены до версии 2.9. Начиная с этой версии можно использовать интеграцию Azure CDN с конечными точками потоковой передачи. Дополнительные сведения см. в разделе [StreamingEndpoint](https://msdn.microsoft.com/library/dn783468.aspx).

##<a id="january_changes_15"></a>Выпуск: январь 2015 г.

### Общие обновления служб мультимедиа

Объявления о поддержке защиты содержимого с помощью динамического шифрования в общедоступной версии. Дополнительную информацию см. в статье [Потоковая передача в службах мультимедиа Azure стала еще безопаснее благодаря поддержке технологии DRM в общедоступной версии](http://azure.microsoft.com/blog/2015/01/29/azure-media-services-enhances-streaming-security-with-general-availability-of-drm-technology/).

###Обновления пакета SDK служб мультимедиа для .NET

Вышла версия 3.1.0.1 пакета SDK служб мультимедиа Azure для .NET.

В этом выпуске конструктор Microsoft.WindowsAzure.MediaServices.Client.ContentKeyAuthorization.TokenRestrictionTemplate по умолчанию отмечен как устаревший. Новый конструктор принимает в качестве аргумента TokenType.

	Шаблон TokenRestrictionTemplate = новый TokenRestrictionTemplate(TokenType.SWT);


##<a id="december_changes_14"></a>Выпуск: декабрь 2014 г.

###Общие обновления служб мультимедиа

- В Azure Indexer Media Processor добавлены некоторые обновления и функции. Дополнительные сведения см. в разделе [Заметки о выпуске индексатора мультимедиа Azure версии 1.1.6.7](http://azure.microsoft.com/blog/2014/12/03/azure-media-indexer-version-1-1-6-7-release-notes/).
- Добавлен новый интерфейс API REST, который позволяет обновить закодированные зарезервированные единицы: [EncodingReservedUnitType с REST](http://msdn.microsoft.com/library/azure/dn859236.aspx).
- Добавлена поддержка CORS для службы доставки ключей.
- Повышена производительность параметров политики запроса авторизации.
- В китайском центре обработки данных [URL-адрес доставки ключей](http://msdn.microsoft.com/library/azure/ef4dfeeb-48ae-4596-ab28-44d6b36d8769#get_delivery_service_url) теперь распределяется на клиента (как и в других центрах обработки данных).
- Добавлено автоматическое назначение длительности HLS. При динамической потоковой передаче HLS всегда упаковывается динамически. По умолчанию службы мультимедиа автоматически вычисляют соотношение упаковки сегмента HLS (FragmentsPerSegment) на основе интервала опорного кадра (KeyFrameInterval ), который также называется "группа кадров", полученного из динамического кодировщика. Дополнительные сведения см. в разделе [Работа с потоковой передачей в реальном времени в службах мультимедиа Azure].
 
###Обновления пакета SDK служб мультимедиа для .NET

- [Пакет SDK .NET служб мультимедиа Azure](http://www.nuget.org/packages/windowsazure.mediaservices/) обновлен до версии 3.1.0.0.
- Обновлена зависимость .Net SDK от .NET 4.5 Framework.
- Добавлен новый интерфейс API, который позволяет обновить закодированные зарезервированные единицы. Дополнительные сведения см. в статье [Обновление типа зарезервированных единиц и увеличение количества зарезервированных единиц с помощью .NET](http://msdn.microsoft.com/library/azure/jj129582.aspx).
- Добавлена поддержка токена JWT (веб-токена JSON) для проверки подлинности токенов. Дополнительные сведения см. в статье [Проверка подлинности токена JWT в службах мультимедиа Azure и динамическое шифрование](http://www.gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).
- Добавлены относительные смещения для BeginDate и ExpirationDate в шаблоне лицензий PlayReady.


##<a id="november_changes_14"></a>Выпуск: ноябрь 2014 г.

- Службы мультимедиа теперь позволяют принимать динамическое содержимое Smooth Streaming (FMP4) по SSL-соединению. Для приема по протоколу SSL измените URL-адрес приема на HTTPS.  Дополнительные сведения о динамической потоковой передаче см. в разделе [Работа с динамической потоковой передачей служб мультимедиа Azure].
- Обратите внимание, что в настоящее время невозможно принять потоковую передачу RTMP по SSL-соединению.
- Также по SSL-соединению можно выполнять потоковую передачу содержимого. Для этого убедитесь, что URL-адреса потоковой передачи начинаются с HTTPS.
- Обратите внимание, что потоковую передачу через SSL-соединение можно выполнять, только если конечная точка потоковой передачи, из которой получено содержимое, была создана после 10 сентября 2014 г. Если URL-адреса потоковой передачи основаны на конечных точках потоковой передачи, созданных после 10 сентября, URL-адрес содержит "streaming.mediaservices.windows.net" (новый формат). URL-адреса потоковой передачи, который содержат "origin.mediaservices.windows.net" (старый формат), не поддерживают SSL. Если URL-адрес имеет старый формат и необходимо организовать передачу через SSL, нужно [создать новую конечную точку](media-services-manage-origins.md). Используйте URL-адреса, созданные на основе новой конечной точки потоковой передачи, для потоковой передачи содержимого по SSL.
   
##<a id="october_changes_14"></a>Выпуск: октябрь 2014 г.

### <a id="new_encoder_release"></a>Выпуск кодировщика служб мультимедиа

Объявление о новом выпуске обработчика мультимедиа Media Services Azure. Новый кодировщик служб мультимедиа Azure тарифицируется только по количеству исходящих ГБ и функционально совместим с Windows Azure Media Encoder. Дополнительные сведения см. в разделе [Сведения о ценах на службы мультимедиа]).

### <a id="oct_sdk"></a>Пакет SDK служб мультимедиа для .NET 

Пакет SDK служб мультимедиа для расширений .NET теперь имеет версию 2.0.0.3.

Пакет SDK служб мультимедиа для .NET теперь имеет версию 3.0.0.8.

Были внесены следующие изменения.

- Рефакторинг в классах политики повторов.
- Добавление строки агента пользователя в заголовки HTTP-запросов.
- Добавление шага восстановления сборки NuGet.
- Исправление тестов сценария: теперь они используют сертификат x509 из репозитория.
- Проверка параметров при обновлении канала и точки потоковой передачи.
 

### Новый репозиторий GitHub для размещения примеров служб мультимедиа

Примеры расположены в [репозитории примеров GitHub служб мультимедиа Azure](https://github.com/Azure/Azure-Media-Services-Samples).


##<a id="september_changes_14"></a>Выпуск: сентябрь 2014 г.

Метаданные REST служб мультимедиа теперь имеют версию 2.7. Дополнительные сведения о последних обновлениях REST см. в [Справочнике по интерфейсу API REST для служб мультимедиа Azure].

Пакет SDK служб мультимедиа для .NET теперь имеет версию 3.0.0.7.
 
### <a id="sept_14_breaking_changes"></a>Критические изменения

* **Origin** переименован в [StreamingEndpoint].
* Изменено поведение по умолчанию при использовании **портала управления Azure** для кодирования и публикации MP4-файлов. 

	Ранее при использовании портала управления для публикации актива видео MP4, состоящего из одного файла, создавался URL-адрес SAS (URL-адреса SAS позволяют загружать видео из хранилища BLOB-объектов). В настоящее время при использовании портала управления для кодирования и последующей публикации актива видео MP4, состоящего из одного файла, создаваемый URL-адрес указывает на конечную точку потоковой передачи служб мультимедиа Azure.  Это изменение не затрагивает видеофайлы MP4, напрямую переданные в службы мультимедиа и опубликованные без кодирования с помощью служб мультимедиа Azure.
	
	В настоящее время есть два варианта устранения этой проблемы. 
	
	* Включить единицы потоковой передачи и использовать динамическую упаковку для потоковой передачи актива .mp4 как пакета Smooth Streaming.
	
	* Создать URL-адрес SAS для загрузки (или постепенного воспроизведения) файла .mp4. Дополнительные сведения о создании локатора SAS см. в разделе [Доставка контента]. 


### <a id="sept_14_GA_changes"></a>Новые функции и сценарии, включенные в состав общедоступного выпуска

* **Indexer Media Processor**. Дополнительные сведения см. в разделе [Индексирование файлов мультимедиа с помощью Azure Media Indexer].

* Сущность [StreamingEndpoint] теперь позволяет добавлять пользовательские имена доменов (узлов).

	Чтобы использовать пользовательское имя домена в качестве имени конечной точки потоковой передачи в службах мультимедиа, необходимо добавить пользовательские имена узлов в конечную точку потоковой передачи. Для добавления пользовательских имен узлов используйте API-интерфейсы REST служб мультимедиа или пакет SDK для .NET.
	
	Действительны следующие условия.
	
	* Вы должны являться владельцем пользовательского доменного имени.
	
	* Владелец доменного имени должен быть проверен службами мультимедиа Azure. Чтобы проверить домен, создайте запись CName, которая сопоставляет <MediaServicesAccountId>.<parent domain> c verifydns.<mediaservices-dns-zone>. 
	
	* Необходимо создать другую запись CName, которая сопоставляет имя пользовательского узла (например, sports.contoso.com) с именем узла StreamingEndpont служб мультимедиа (например, amstest.streaming.mediaservices.windows.net).


	Дополнительные сведения см. в свойстве **CustomHostNames** в разделе [StreamingEndpoint].

### <a id="sept_14_preview_changes"></a>Новые функции и сценарии, включенные в состав общедоступного предварительного выпуска

* Предварительный просмотр потоковой передачи в реальном времени. Дополнительные сведения см. в разделе [Работа с потоковой передачей в реальном времени в службах мультимедиа Azure].

* Служба доставки ключей. Дополнительные сведения см. в разделе [Использование динамического шифрования AES-128 и службы доставки ключей].

* Динамическое шифрование на основе AES. Дополнительные сведения см. в разделе [Использование динамического шифрования AES-128 и службы доставки ключей].

* Служба доставки лицензий PlayReady. Дополнительные сведения см. в разделе [Использование динамического шифрования PlayReady и службы доставки лицензий].

* Динамическое шифрование на основе PlayReady. Дополнительные сведения см. в разделе [Использование динамического шифрования PlayReady и службы доставки лицензий].

* Шаблон лицензии PlayReady для служб мультимедиа. Дополнительные сведения см. в разделе [Обзор шаблона лицензий PlayReady для служб мультимедиа].

* Потоковая передача зашифрованных активов хранилища. Дополнительные сведения см. в разделе [Потоковая передача зашифрованного контента хранилища].

##<a id="august_changes_14"></a>Выпуск: август 2014 г.

После выполнения задания кодирования актива создается выходной актив. До этого выпуска кодировщик служб мультимедиа Azure создавал метаданные о выходных активах. Начиная с этого выпуска также создаются метаданные о входных активах. Дополнительные сведения см. в разделах [Входные метаданные] и [Выходные метаданные].


##<a id="july_changes_14"></a>Выпуск: июль 2014 г.

Исправлены следующие ошибки приложений Azure Media Services Packager и Encryptor.

* В процессе смены контейнера (с сохранением исходных видео- и аудиоданных) архивного актива на HTTP Live Streaming воспроизводились только аудиоданные. Эта ошибка исправлена. Теперь воспроизводится и аудио, и видео.

* При упаковке актива в контейнер HTTP Live Streaming и использовании 128-разрядного шифрования AES упакованные потоки не воспроизводились на устройствах Android. Эта ошибка исправлена. Теперь упакованный поток воспроизводится на устройствах Android, поддерживающих HTTP Live Streaming.

##<a id="may_changes_14"></a>Выпуск: май 2014 г.

### <a id="may_14_changes"></a>Общие обновления служб мультимедиа

Теперь можно использовать [динамическую упаковку] для потоков HTTP Live Streaming (HLS) v3. Для потока HLS v3 добавьте следующий формат в исходный путь указателя: *.ism/manifest(format=m3u8-aapl-v3). Дополнительные сведения см. в [блоге Ника Друина (Nick Drouin)].

Динамическая упаковка теперь также поддерживает доставку потоков HLS (v3 и v4), зашифрованных с помощью PlayReady на основе Smooth Streaming со статическим шифрованием с использованием PlayReady. Дополнительные сведения о шифровании Smooth Streaming с помощью PlayReady см. в разделе [Защита потоков Smooth Stream с помощью PlayReady].

### <a name="may_14_donnet_changes"></a>Обновления пакета SDK служб мультимедиа для .NET

Выпуск 3.0.0.5 пакета SDK служб мультимедиа для .NET имеет следующие усовершенствованные характеристики.

* Увеличена скорость и отказоустойчивость передачи и загрузки активов мультимедиа.

* Улучшена логика повторных попыток и обработка временных исключений. 

	* Улучшены обнаружение временных ошибок и логика повторных попыток для исключений при отправке запросов, сохранении изменений, отправке и загрузке файлов. 
	
	* При получении исключений веб-приложений (например, во время запроса маркера ACS) неустранимые ошибки теперь обрабатываются быстрее.

Дополнительные сведения см. в разделе [Логика повторных попыток в пакете SDK служб мультимедиа для .NET].

##<a id="april_changes_14"></a>Выпуск кодировщика: апрель 2014 г.

### <a name="april_14_enocer_changes"></a>Обновления кодировщика служб мультимедиа

* Добавлена поддержка поглощения файлов AVI, созданных в нелинейном редакторе Grass Valley EDIUS, в которых видеоданные незначительно сжаты с помощью кодека Grass Valley HQ/HQX. Дополнительные сведения см. в разделе [Grass Valley представляет потоковую передачу EDIUS 7 в облаке].

* Добавлена поддержка для указания соглашения о присвоении имен файлов, созданных кодировщиком мультимедиа. Дополнительные сведения см. в разделе [Управление именами выходных файлов кодировщика служб мультимедиа].

* Добавлена поддержка наложения видео- и/или аудиоданных. Дополнительные сведения см. в разделе [Создание наложений].

* Добавлена поддержка стыковки нескольких сегментов видео. Дополнительные сведения см. в разделе [Стыковка сегментов видео].

* Исправлена ошибка, связанная с преобразованием файлов MP4, в которых аудиопоток имеет кодировку MPEG-1 Audio Layer 3 (так называемый MP3).


##<a id="jan_feb_changes_14"></a>Выпуски: январь/февраль 2014 г.

### <a name="jan_fab_14_donnet_changes"></a>Пакет SDK служб мультимедиа Azure для .NET 3.0.0.1, 3.0.0.2 и 3.0.0.3

В версиях 3.0.0.1 и 3.0.0.2 внесены следующие изменения.

* Исправлены ошибки, связанные с использованием запросов LINQ с инструкциями OrderBy.

* Тестовые решения в [GitHub] разделены на тесты на основе единиц и тесты на основе сценариев.

Дополнительные сведения об изменениях см. в разделе [Выпуски 3.0.0.1 и 3.0.0.2 пакета SDK служб мультимедиа Azure для .NET].

В версии 3.0.0.3 внесены следующие изменения.

* Зависимости хранилища Azure обновлены для использования версии 3.0.3.0. 

* Исправлена проблема совместимости с предыдущими выпусками 3.0.*.*. 


##<a id="december_changes_13"></a>Выпуск: декабрь 2013 г.

### <a name="dec_13_donnet_changes"></a>Пакет SDK служб мультимедиа Azure для .NET 3.0.0.0

>[AZURE.NOTE] Версии 3.0.x.x несовместимы с версиями 2.4.x.x.

Последним выпуском пакета SDK для служб мультимедиа в данный момент является 3.0.0.0. Последнюю версию пакета можно скачать из Nuget или получить код из [GitHub].

Приступив к работе с пакетом SDK версии 3.0.0.0 для служб мультимедиа, вы можете повторно использовать токены [службы контроля доступа Azure Active Directory (ACS)]. Дополнительные сведения см. в разделе "Повторное использованием токенов службы контроля доступа" раздела [Подключение к службам мультимедиа с помощью пакета SDK служб мультимедиа для .NET].

### <a name="dec_13_donnet_ext_changes"></a>Расширения пакета SDK служб мультимедиа Azure для .NET 2.0.0.0

Расширения пакета SDK .NET служб мультимедиа Azure имеет набор методов и вспомогательных функций, которые позволяют упростить код и облегчить разработку с использованием служб мультимедиа Azure. Новые фрагменты кода можно получить на странице [Расширения пакета SDK служб мультимедиа Azure для .NET].

##<a id="november_changes_13"></a>Выпуск: ноябрь 2013 г.

### <a name="nov_13_donnet_changes"></a>Изменения в пакете SDK служб мультимедиа Azure для .NET

Начиная с этой версии, пакет SDK служб мультимедиа для .NET обрабатывает временные ошибки, которые могут возникать при вызове уровня API-интерфейсов REST служб мультимедиа.

##<a id="august_changes_13"></a>Выпуск: август 2013 г.

### <a name="aug_13_powershell_changes"></a>Командлеты PowerShell служб мультимедиа включены в инструменты SDK Azure

Следующие командлеты PowerShell служб мультимедиа включены в [azure-sdk-tools].

* Get-AzureMediaServices 

	Например, `Get-AzureMediaServicesAccount`.

* New-AzureMediaServicesAccount 

	Например, New-AzureMediaServicesAccount -Name MediaAccountName -Location Region -StorageAccountName StorageAccountName.

* New-AzureMediaServicesKey 

	Например, `New-AzureMediaServicesKey -Name "MediaAccountName" -KeyType Secondary -Force`.

* Remove-AzureMediaServicesAccount 

	Например, `Remove-AzureMediaServicesAccount -Name "MediaAccountName" -Force`.

##<a id="june_changes_13"></a>Выпуск: июнь 2013 г.

### <a name="june_13_general_changes"></a>Изменения в службах мультимедиа Azure

Изменения, перечисленные в этом разделе - это обновления, включенные в выпуски служб мультимедиа в июне 2013 г.

* Возможность связать несколько учетных записей хранилища с учетной записью служб мультимедиа. 

	StorageAccount
	
	Asset.StorageAccountName и Asset.StorageAccount

* Возможность обновления Job.Priority. 

* Сущности и свойства, связанные с уведомлением: 

	JobNotificationSubscription
	
	NotificationEndPoint
	
	Job

* Asset.Uri 

* Locator.Name 

### <a name="june_13_dotnet_changes"></a>Изменения в пакете SDK служб мультимедиа Azure для .NET

В выпуски пакета SDK служб мультимедиа в июне 2013 г. включены следующие изменения. Последняя версия пакета SDK служб мультимедиа доступна в GitHub.

* Начиная с версии 2.3.0.0, пакет SDK служб мультимедиа поддерживает связь нескольких учетных записей хранилища с учетной записью служб мультимедиа. Эту функцию поддерживают следующие API-интерфейсы:
	
	Тип IStorageAccount.
	
	Свойство Microsoft.WindowsAzure.MediaServices.Client.CloudMediaContext.StorageAccounts.
	
	Свойство StorageAccount.
	
	Свойство StorageAccountName.
	
	Дополнительные сведения см. в разделе [Управление активами служб мультимедиа в нескольких учетных записях хранения].

* API-интерфейсы, связанные с уведомлениями. Начиная с версии 2.2.0.0, можно прослушивать уведомления хранилища очередей Azure. Дополнительные сведения см. в разделе [Обработка уведомлений из заданий служб мультимедиа].
	
	Свойство Microsoft.WindowsAzure.MediaServices.Client.IJob.JobNotificationSubscriptions.
	
	Тип Microsoft.WindowsAzure.MediaServices.Client.INotificationEndPoint.
	
	Тип Microsoft.WindowsAzure.MediaServices.Client.IJobNotificationSubscription.
	
	Тип Microsoft.WindowsAzure.MediaServices.Client.NotificationEndPointCollection.
	
	Тип Microsoft.WindowsAzure.MediaServices.Client.NotificationEndPointType.
	
	Тип Microsoft.WindowsAzure.MediaServices.Client.NotificationJobState.

* Зависимость от пакета SDK клиента хранилища Azure 2.0 (Microsoft.WindowsAzure.StorageClient.dll).

* Зависимость от OData 5.5 (Microsoft.Data.OData.dll).


##<a id="december_changes_12"></a>Выпуск: декабрь 2012 г.

### <a name="dec_12_dotnet_changes"></a>Изменения в пакете SDK служб мультимедиа Azure для .NET

* Intellisense. Добавлена отсутствующая документация Intellisense по многим типам.

* Microsoft.Practices.TransientFaultHandling.Core: Исправления проблема зависимости пакета SDK от прежней версии этой сборки. Пакет SDK теперь указывает на версию 5.1.1209.1 этой сборки.

Исправлены проблемы, обнаруженные в выпусках пакета SDK за ноябрь 2012 г.

* IAsset.Locators.Count: Этот счетчик теперь правильно показывает данные по новым интерфейсам IAsset после удаления всех локаторов.

* IAssetFile.ContentFileSize: Это значение теперь устанавливается правильно после отправки из IAssetFile.Upload(путь к файлу).

* IAssetFile.ContentFileSize: Это свойство теперь можно задать при создании файла актива. Ранее оно было доступно только для чтения.

* IAssetFile.Upload(путь к файлу): Исправлена проблема, при которой этот метод синхронной отправки создавал следующую ошибку при отправке в актив нескольких файлов. Ошибка: "Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature" (Серверу не удалось проверить подлинность запроса. Проверьте правильность формата значения в заголовке "Авторизация", включая подпись).

* IAssetFile.UploadAsync: Исправлена проблема, при которой не удавалось одновременно отправить более 5 файлов.

* IAssetFile.UploadProgressChanged: Это событие теперь предоставляется пакетом SDK.

* IAssetFile.DownloadAsync(string, BlobTransferClient, ILocator, CancellationToken): Теперь предоставляется перезагрузка этого метода.

* IAssetFile.DownloadAsync: Исправлена проблема, при которой не удавалось одновременно загрузить более 5 файлов.

* IAssetFile.Delete(): Исправлена проблема, при которой вызов функции удаления мог создать исключение, если отсутствуют файлы, отправленные в IAssetFile.

* Задания: Исправлена проблема, при которой объединение задач "MP4 to Smooth Streams task" и "PlayReady Protection Task" с помощью шаблона заданий не заканчивалось созданием задачи.

* EncryptionUtils.GetCertificateFromStore(): Этот метод больше не создает исключение о пустой ссылке, связанное со сбоем при поиске сертификата в связи с ошибками конфигурации сертификата.

##<a id="november_changes_12"></a>Выпуск: ноябрь 2012 г.

Изменения, указанные в этом разделе - это обновления, включенные в пакет SDK в ноябре 2012 г. (версия 2.0.0.0). В связи с этими изменениями может потребоваться внести изменения или переработать код, созданный для предварительного выпуска пакета SDK за июнь 2012 г.

* Активы
	
	IAsset.Create(имяАктива) - ЕДИНСТВЕННАЯ функция создания активов. IAsset.Create больше не отправляет файлы в составе вызова метода. Для отправки используйте функцию IAssetFile.
	
	Метод IAsset.Publish и перечисляемое значение AssetState.Publish удалены из пакета SDK служб. Необходимо переработать код, связанный с этим значением.

* FileInfo

	Этот класс удален и заменен классом IAssetFile.

	IAssetFiles

	IAssetFile заменяет класс FileInfo и используется иначе. Для его использования создайте экземпляр объекта IAssetFiles, а затем отправьте файл с помощью пакета SDK служб мультимедиа или пакета SDK хранилища Azure. Можно использовать следующие перезагрузки IAssetFile.Upload.

	* IAssetFile.Upload(путь к файлу): Синхронный метод, который блокирует поток и рекомендуется только для отправки отдельного файла.
	
	* IAssetFile.UploadAsync(filePath, blobTransferClient, locator, cancellationToken): Асинхронный метод. Это рекомендуемый механизм отправки. 

	Известная ошибка: при использовании cancellationToken отправка будет отменена; однако состояние отмены для задач может быть любым. Необходимо правильно перехватывать и обрабатывать исключения.

* Указатели
	
	Удалены версии для отдельных источников. Метод context.Locators.CreateSasLocator(asset, accessPolicy) для SAS будет помечен как устаревший или удален общедоступным выпуском. Сведения о новом поведении см. в подразделе "Локаторы" раздела "Новые функции".


##<a id="june_changes_12"></a>Предварительный выпуск: июнь 2012 г.

В ноябрьском выпуске пакета SDK добавлена следующая новая функциональность.

* Удаление сущностей

	Объекты IAsset, IAssetFile, ILocator, IAccessPolicy, IContentKey теперь удаляются на уровне объектов, например IObject.Delete(), вместо удаления в коллекции, то есть cloudMediaContext.ObjCollection.Delete(objInstance).

* Указатели

	Теперь локаторы необходимо создавать с помощью метода CreateLocator и использовать перечисляемые значения LocatorType.SAS или LocatorType.OnDemandOrigin в качестве аргумента для определенного типа создаваемого локатора.

	В локаторы добавлены новые свойства, облегчающие получение доступных идентификаторов URI для контента. Изменения, внесенные в локаторы, увеличивают гибкость для последующих расширений сторонних разработчиков и облегчают использование для клиентских приложений мультимедиа.

* Поддержка асинхронных методов

	Поддержка асинхронного выполнения добавлена для всех методов.

<!-- Anchors. -->

<!-- Images. -->

<!-- URLs. -->
[Форум MSDN по службам мультимедиа Azure]: http://social.msdn.microsoft.com/forums/azure/home?forum=MediaServices
[Справочник по интерфейсу API REST служб мультимедиа Azure]: http://msdn.microsoft.com/library/azure/hh973617.aspx 
[Сведения о ценах на службы мультимедиа]: http://azure.microsoft.com/pricing/details/media-services/
[Входные метаданные]: http://msdn.microsoft.com/library/azure/dn783120.aspx
[Выходные метаданные]: http://msdn.microsoft.com/library/azure/dn783217.aspx
[Доставка содержимого]: http://msdn.microsoft.com/library/azure/hh973618.aspx
[Индексирование файлов мультимедиа с помощью индексатора мультимедиа Azure]: http://msdn.microsoft.com/library/azure/dn783455.aspx
[StreamingEndpoint]: http://msdn.microsoft.com/library/azure/dn783468.aspx
[Работа с динамической потоковой передачей служб мультимедиа Azure]: http://msdn.microsoft.com/library/azure/dn783466.aspx
[Использование динамического шифрования AES-128 и службы доставки ключей]: http://msdn.microsoft.com/library/azure/dn783457.aspx
[Использование динамического шифрования PlayReady и службы доставки лицензий]: http://msdn.microsoft.com/library/azure/dn783467.aspx
[Функции предварительной версии]: http://azure.microsoft.com/services/preview/
[Обзор шаблонов лицензий PlayReady служб мультимедиа]: http://msdn.microsoft.com/library/azure/dn783459.aspx
[Потоковая передача зашифрованного содержимого хранилища]: http://msdn.microsoft.com/library/azure/dn783451.aspx
[Портал управления Azure]: https://manage.windowsazure.com
[Динамическая упаковка]: http://msdn.microsoft.com/library/azure/jj889436.aspx
[Блог Ника Друина (Nick Drouin)]: http://blog-ndrouin.azurewebsites.net/hls-v3-new-old-thing/
[Защита Smooth Stream с помощью PlayReady]: http://msdn.microsoft.com/library/azure/dn189154.aspx
[Логика повторных попыток в пакете SDK служб мультимедиа для .NET]: http://msdn.microsoft.com/library/azure/dn745650.aspx
[Grass Valley представляет потоковую передачу EDIUS 7 в облаке]: http://www.streamingmedia.com/Producer/Articles/ReadArticle.aspx?ArticleID=96351&utm_source=dlvr.it&utm_medium=twitter
[Управление именами выходных файлов кодировщика служб мультимедиа]: http://msdn.microsoft.com/library/azure/dn303341.aspx
[Создание наложений]: http://msdn.microsoft.com/library/azure/dn640496.aspx
[Стыковка сегментов видео]: http://msdn.microsoft.com/library/azure/dn640504.aspx
[Выпуски 3.0.0.1 и 3.0.0.2 пакета SDK служб мультимедиа Azure для .NET]: http://www.gtrifonov.com/2014/02/07/windows-azure-media-services-.net-sdk-3.0.0.2-release/
[Служба контроля доступа Azure Active Directory (ACS)]: http://msdn.microsoft.com/library/hh147631.aspx
[Подключение к службам мультимедиа с помощью пакета SDK служб мультимедиа для .NET]: http://msdn.microsoft.com/library/azure/jj129571.aspx
[Расширения пакета SDK служб мультимедиа Azure для .NET]: https://github.com/Azure/azure-sdk-for-media-services-extensions/tree/dev
[azure-sdk-tools]: https://github.com/Azure/azure-sdk-tools
[GitHub]: https://github.com/Azure/azure-sdk-for-media-services
[Управление активами служб мультимедиа в нескольких учетных записях хранения]: http://msdn.microsoft.com/library/azure/dn271889.aspx
[Обработка уведомлений из заданий служб мультимедиа]: http://msdn.microsoft.com/library/azure/dn261241.aspx


<!--HONumber=52--> 