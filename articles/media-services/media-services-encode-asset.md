<properties 
	pageTitle="Кодирование содержимого по запросу с помощью служб мультимедиа Azure" 
	description="В этом разделе представлен обзор кодирования содержимого по требованию с помощью служб мультимедиа." 
	services="media-services" 
	documentationCenter="" 
	authors="juliako" 
	manager="dwrede" 
	editor=""/>

<tags 
	ms.service="media-services" 
	ms.workload="media" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="08/11/2015"  
	ms.author="juliako"/>

#Кодирование содержимого по запросу с помощью служб мультимедиа Azure

Это один из разделов серии [Рабочий процесс для видео по запросу в службах мультимедиа](media-services-video-on-demand-workflow.md).

##Обзор

Службы мультимедиа поддерживают следующие кодировщики:

- [Стандартный кодировщик служб мультимедиа](#media_encoder_standard)
- [Кодировщик мультимедиа Azure](#azure_media_encoder)
- [Расширенный рабочий процесс кодировщика мультимедиа](#media_encoder_premium_workflow)

В [следующем разделе](#compare_encoders) сравниваются возможности поддерживаемых кодировщиков.

По умолчанию каждая учетная запись служб мультимедиа может выполнять одну активную задачу кодирования в текущий момент. Можно зарезервировать единицы кодирования, которые позволят выполнять несколько задач кодирования одновременно, по одной для каждой приобретенной единицы. Информацию о масштабировании единиц кодирования см. в следующих статьях о **портале** и **.NET**.

[AZURE.INCLUDE [media-services-selector-scale-encoding-units](../../includes/media-services-selector-scale-encoding-units.md)]

##<a id="media_encoder_standard"></a>Стандартный кодировщик мультимедиа

[Форматы, поддерживаемые стандартным кодировщиком служб мультимедиа](media-services-media-encoder-standard-formats.md): описание форматов файлов и потоковой передачи, поддерживаемых **стандартным кодировщиком мультимедиа**.

**Стандартный кодировщик мультимедиа** настраивается с помощью либо одной из описанных [здесь](http://go.microsoft.com/fwlink/?LinkId=618336) предустановок кодировщика, либо пользовательских предустановок, основанных на [этих](http://go.microsoft.com/fwlink/?LinkId=618336) предустановках.

Дополнительную информацию см. в [этом блоге](http://azure.microsoft.com/blog/2015/07/16/announcing-the-general-availability-of-media-encoder-standard/).

##<a id="azure_media_encoder"></a> Кодировщик мультимедиа Azure

[Форматы, поддерживаемые кодировщиком мультимедиа](media-services-azure-media-encoder-formats.md): описание форматов файлов и потоковой передачи, поддерживаемых **кодировщиком мультимедиа Azure**.

**Кодировщик служб мультимедиа Azure** настраивается с помощью одной из предустановленных строк кодировщика, описанных [здесь](https://msdn.microsoft.com/library/azure/dn619392.aspx). Также [здесь](https://github.com/Azure/azure-media-services-samples/tree/master/Encoding%20Presets/VoD/Azure%20Media%20Encoder) можно получить фактические файлы предустановок для кодировщика служб мультимедиа Azure.

###Пример

Кодируйте файлы с помощью **кодировщика службы мультимедиа Azure** через **портал управления Azure**, **.NET** или **API REST**.
 
[AZURE.INCLUDE [media-services-selector-encode](../../includes/media-services-selector-encode.md)]

####Другие связанные разделы

[Динамическая упаковка](https://msdn.microsoft.com/library/azure/jj889436.aspx): описание кодирования в MP4-файлы с переменной скоростью и динамической обработки потоков Smooth Streaming, Apple HLS или MPEG-DASH.

[Управление именами выходных файлов кодировщика служб мультимедиа](https://msdn.microsoft.com/library/azure/dn303341.aspx): описание соглашения об именовании файлов, используемого кодировщиком мультимедиа Azure, и способов изменения имен выходных файлов.

[Кодирование мультимедиа с помощью Dolby Digital Plus](media-services-encode-with-dolby-digital-plus.md): описание кодирования звуковых дорожек с использованием Dolby Digital Plus.


##<a id="media_encoder_premium_wokrflow"></a>Расширенный рабочий процесс кодировщика мультимедиа 

**Примечание**. Рассматриваемый в этом разделе расширенный рабочий процесс кодировщика мультимедиа недоступен в Китае.

[Форматы, которые поддерживаются расширенным рабочим процессом кодировщика мультимедиа](media-services-premium-workflow-encoder-formats.md): описание форматов файлов и кодеков, поддерживаемых **расширенным рабочим процессом кодировщика мультимедиа**.

### Конструктор рабочих процессов

**Расширенный рабочий процесс кодировщика мультимедиа** настраивается с помощью сложных рабочих процессов. Файлы рабочих процессов можно создавать с помощью [конструктора рабочих процессов](media-services-workflow-designer.md).

Файлы рабочего процесса с настройками по умолчанию можно получить [здесь](https://github.com/Azure/azure-media-services-samples/tree/master/Encoding%20Presets/VoD/MediaEncoderPremiumWorkfows). Папка также содержит описание этих файлов.

###Пример
Кодирование с помощью **расширенного рабочего процесса кодировщика мультимедиа** с использованием **.NET**. Дополнительные сведения см. в статье [Дополнительное кодирование с помощью расширенного рабочего процесса кодировщика мультимедиа](media-services-encode-with-premium-workflow.md).
 

##<a id="compare_encoders"></a>Сравнение кодировщиков

###<a id="billing"></a>Тарифные единицы, используемые кодировщиками

Имя обработчика мультимедиа|Применимые цены|Примечания
---|---|---
**Microsoft Azure Media Encryptor** |КОДИРОВЩИК ПРЕЖНИХ ВЕРСИЙ|Плата за выполнение задач кодирования взимается на основе суммарного размера входных и выходных ресурсов-контейнеров в гигабайтах по тарифу, указанному [здесь][1] в столбце «КОДИРОВЩИК ПРЕЖНИХ ВЕРСИЙ».
**Кодировщик мультимедиа Azure** |КОДИРОВЩИК|Плата за выполнение задач кодирования взимается на основе размера выходного ресурса-контейнера в гигабайтах по тарифу, указанному [здесь][1] в столбце «КОДИРОВЩИК».
**Стандартный кодировщик служб мультимедиа** |КОДИРОВЩИК|Плата за выполнение задач кодирования взимается на основе размера выходного ресурса-контейнера в гигабайтах по тарифу, указанному [здесь][1] в столбце «КОДИРОВЩИК».
**Расширенный рабочий процесс кодировщика мультимедиа** |РАСШИРЕННЫЙ КОДИРОВЩИК|Плата за выполнение задач кодирования взиматься на основе размера выходного ресурса-контейнера в гигабайтах по тарифу, указанному [здесь][1] в столбце «РАСШИРЕННЫЙ КОДИРОВЩИК».



В этом разделе сравниваются возможности **кодировщика мультимедиа Azure**, **расширенного рабочего процесса кодировщика мультимедиа** и **стандартного кодировщика мультимедиа**.


###Форматы входных данных

Контейнер ввода/ форматы файлов

Контейнер ввода/ форматы файлов|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
Adobe® Flash® F4V|Да|Нет|Да
MXF/SMPTE 377M|Да|Ограничено|Да
GXF|Да|Нет|Да
Транспортные потоки MPEG-2|Да|Да|Да
Программные потоки MPEG-2|Да|Да|Да
MPEG-4/MP4|Да|Да|Да
Windows Media/ASF|Да|Да|Да
AVI (без сжатия 8 бит/10 бит)|Да|Да|Да
3GPP/3GPP2|Нет|Да|Да
Формат файлов Smooth Streaming (PIFF 1.3)|Нет|Да|Да
[Microsoft Digital Video Recording(DVR-MS)](https://msdn.microsoft.com/library/windows/desktop/dd692984)|Нет|Нет|Да
Matroska/WebM|Нет|Нет|Да

Входные видеокодеки

Входные видеокодеки|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
AVC 8-разрядный/10-разрядный, до 4:2:2, включая AVCIntra|Да|Только 8-разрядный 4:2:0|8 бит 4:2:0 и 4:2:2
Avid DNxHD (в MXF)|Да|Нет|Да
DVCPro/DVCProHD (в MXF)|Да|Нет|Да
JPEG2000|Да|Нет|Да
MPEG-2 (до 422 Profile и High Level, включая такие варианты, как XDCAM, XDCAM HD, XDCAM IMX, CableLabs® и D10)|Да|До 422 Profile|До 422 Profile
MPEG-1|Да|Да|Да
Windows Media Video/VC-1|Да|Да|Да
Canopus HQ/HQX|Нет|Да|Нет
MPEG-4, часть 2|Нет|Нет|Да
[Theora](https://en.wikipedia.org/wiki/Theora)|Нет|Нет|Да

Входные аудиокодеки

Входные аудиокодеки|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
AES (SMPTE 331M и 302M, AES3-2003)|Да|Нет|Нет
Dolby® E|Да|Нет|Нет
Dolby® Digital (AC3)|Да|Да|Нет
Dolby® Digital Plus (E-AC3)|Да|Нет|Нет
AAC (AAC-LC, AAC-HE и AAC-HEv2; до 5.1)|Да|Да|Да
MPEG Layer 2|Да|Да|Да
MP3 (MPEG-1 Audio Layer 3)|Да|Да|Да
Windows Media Audio|Да|Да|Да
WAV/PCM|Да|Да|Да
[FLAC](https://en.wikipedia.org/wiki/FLAC)</a>|Нет|Нет|Да
[Opus](https://en.wikipedia.org/wiki/Opus_(audio_format) |Нет|Нет|Да
[Vorbis](https://en.wikipedia.org/wiki/Vorbis)</a>|Нет|Нет|Да

###Форматы выходных данных

Контейнер вывода/ форматы файлов

Контейнер вывода/ форматы файлов|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
Adobe® Flash® F4V|Да|Нет|Нет
MXF (OP1a, XDCAM и AS02)|Да|Нет|Нет
DPP (включая AS11)|Да|Нет|Нет
GXF|Да|Нет|Нет
MPEG-4/MP4|Да|Да|Да
MPEG-TS|Да|Нет|Да
Windows Media/ASF|Да|Да|Нет
AVI (без сжатия 8 бит/10 бит)|Да|Нет|Нет
Формат файлов Smooth Streaming (PIFF 1.3)|Да|Да|Нет

Выходные видеокодеки

Выходные видеокодеки|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
AVC (H.264; 8-разрядный; до High Profile, Level 5.2; 4K Ultra HD; AVC Intra)|Да|Только 8 бит 4:2:0 до 1080p|Только 8 бит 4:2:0
Avid DNxHD (в MXF)|Да|Нет|Нет
DVCPro/DVCProHD (в MXF)|Да|Нет|Нет
MPEG-2 (до 422 Profile и High Level, включая такие варианты, как XDCAM, XDCAM HD, XDCAM IMX, CableLabs® и D10)|Да|Нет|Нет
MPEG-1|Да|Нет|Нет
Windows Media Video/VC-1|Да|Да|Нет
Создание эскизов JPEG|Да|Да|Нет

Выходные аудиокодеки

Выходные аудиокодеки|Расширенный рабочий процесс кодировщика мультимедиа|Кодировщик мультимедиа Azure|Стандартный кодировщик служб мультимедиа
---|---|---|---
AES (SMPTE 331M и 302M, AES3-2003)|Да|Нет|Нет
Dolby® Digital (AC3)|Да|Да|Нет
Dolby® Digital Plus (E-AC3) до 7.1|Да|До 5.1|Нет
AAC (AAC-LC, AAC-HE и AAC-HEv2; до 5.1)|Да|Да|Да
MPEG Layer 2|Да|Нет|Нет
MP3 (MPEG-1 Audio Layer 3)|Да|Нет|Нет
Windows Media Audio|Да|Да|Нет

##Связанные статьи

- [Знакомство с кодированием Premium в службах мультимедиа Azure](http://azure.microsoft.com/blog/2015/03/05/introducing-premium-encoding-in-azure-media-services)
- [Использование кодирования Premium в службах мультимедиа Azure](http://azure.microsoft.com/blog/2015/03/06/how-to-use-premium-encoding-in-azure-media-services)
- [Квоты и ограничения](media-services-quotas-and-limitations.md)

 
<!--Reference links in article-->
[1]: http://azure.microsoft.com/pricing/details/media-services/

<!---HONumber=August15_HO7-->