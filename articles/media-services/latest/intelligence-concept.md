---
title: Мультимедиа-аналитика Azure | Документация Майкрософт
description: При использовании Служб мультимедиа Azure вы можете анализировать аудио- и видеосодержимое с помощью AudioAnalyzerPreset и VideoAnalyzerPreset.
services: media-services
documentationcenter: ''
author: Juliako
manager: cfowler
editor: ''
ms.service: media-services
ms.workload: ''
ms.topic: article
ms.date: 04/24/2018
ms.author: juliako
ms.openlocfilehash: 804a418f6ee88974d6e74a2c18bc5d01b6adf838
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="media-intelligence"></a>Мультимедиа-аналитика

API REST версии 3 Служб мультимедиа Azure позволяет анализировать аудио- и видеосодержимое. Чтобы проанализировать содержимое, вы создаете **преобразование** и отправляете **задание**, которое использует одну из этих предустановок: **AudioAnalyzerPreset** или **VideoAnalyzerPreset**. 

## <a name="audioanalyzerpreset"></a>AudioAnalyzerPreset

**AudioAnalyzerPreset** позволяет извлекать множество звуковых аналитических сведений из аудио- или видеофайла. Выходные данные включают в себя JSON-файл (со всеми сведениями) и VTT-файл расшифровки аудиозаписи. Эта предустановка принимает свойство, которое указывает язык входного файла в виде строки [BCP47](https://tools.ietf.org/html/bcp47). Аналитические сведения об аудиофайле включают в себя:

* Транскрибирование аудиозаписи — расшифровка произносимых слов с метками времени. Поддерживается несколько языков.
* Индексирование речи говорящего — сопоставление говорящего и соответствующих произносимых слов.
* Анализ тональности речи — результат анализа тональности, выполненного по транскрибированию аудио.
* Ключевые слова — ключевые слова, которые извлекаются из транскрибирования аудио.

## <a name="videoanalyzerpreset"></a>VideoAnalyzerPreset

Предустановка **VideoAnalyzerPreset** позволяет извлечь из видеофайла множество аналитических сведений об аудио- и видеосодержимом. Выходные данные включают в себя JSON-файл (со всеми сведениями), VTT-файл расшифровки аудиозаписи и коллекцию эскизов видео. Эта предустановка также принимает строку [​​BCP47](https://tools.ietf.org/html/bcp47) (представляющую язык видео) как свойство. Сведения о видеосодержимом включают в себя все сведения об аудиосодержимом, упомянутые выше, и следующие дополнительные элементы:

* Отслеживание лица — время, в течение которого лицо присутствуют в видео. Каждое лицо имеет идентификатор лица и соответствующую коллекцию эскизов.
* Визуальный текст — текст, который распознается с помощью оптического распознавания символов. Текст имеет метку времени, а также используется для извлечения ключевых слов (в дополнение к расшифровке аудиозаписи).
* Опорные кадры — набор ключевых кадров, которые извлекаются из видео.
* Модерация визуального содержимого — часть видео, которая была отмечена как содержимое для взрослых или материалы непристойного характера.
* Заметки — результат аннотирования видео на основе заданной объектной модели.

##  <a name="insightsjson-elements"></a>Элементы insights.json

Выходные данные включают в себя файл JSON (insights.json) со всеми сведениями, найденными в видео- или аудиофайлах. Он может содержать один из следующих элементов:

### <a name="transcript"></a>transcript

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор строки.|
|текст|Сама расшифровка аудиозаписи.|
|Язык|Язык расшифровки аудиозаписи. Предназначен для поддержки расшифровки, где каждая строка может быть написана на другом языке.|
|instances|Список диапазонов времени, в которых появилась эта строка. Если экземпляр является расшифровкой, он будет иметь только один экземпляр.|

Пример:

```json
"transcript": [
{
    "id": 0,
    "text": "Hi I'm Doug from office.",
    "language": "en-US",
    "instances": [
    {
        "start": "00:00:00.5100000",
        "end": "00:00:02.7200000"
    }
    ]
},
{
    "id": 1,
    "text": "I have a guest. It's Michelle.",
    "language": "en-US",
    "instances": [
    {
        "start": "00:00:02.7200000",
        "end": "00:00:03.9600000"
    }
    ]
}
] 
```

### <a name="ocr"></a>ocr

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор строки OCR.|
|текст|Текст OCR.|
|confidence|Достоверность распознавания.|
|Язык|Язык OCR.|
|instances|Список диапазонов времени, где появилось это OCR (одно и то же OCR может появляться несколько раз).|

```json
"ocr": [
    {
      "id": 0,
      "text": "LIVE FROM NEW YORK",
      "confidence": 0.91,
      "language": "en-US",
      "instances": [
        {
          "start": "00:00:26",
          "end": "00:00:52"
        }
      ]
    },
    {
      "id": 1,
      "text": "NOTICIAS EN VIVO",
      "confidence": 0.9,
      "language": "es-ES",
      "instances": [
        {
          "start": "00:00:26",
          "end": "00:00:28"
        },
        {
          "start": "00:00:32",
          "end": "00:00:38"
        }
      ]
    }
  ],
```

### <a name="keywords"></a>keywords

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор ключевого слова.|
|текст|Идентификатор текста.|
|confidence|Достоверность распознавания ключевого слова.|
|Язык|Язык ключевого слова (при наличии перевода).|
|instances|Список диапазонов времени, где появилось это ключевое слово (ключевое слово может появляться несколько раз).|

```json
"keywords": [
{
    "id": 0,
    "text": "office",
    "confidence": 1.6666666666666667,
    "language": "en-US",
    "instances": [
    {
        "start": "00:00:00.5100000",
        "end": "00:00:02.7200000"
    },
    {
        "start": "00:00:03.9600000",
        "end": "00:00:12.2700000"
    }
    ]
},
{
    "id": 1,
    "text": "icons",
    "confidence": 1.4,
    "language": "en-US",
    "instances": [
    {
        "start": "00:00:03.9600000",
        "end": "00:00:12.2700000"
    },
    {
        "start": "00:00:13.9900000",
        "end": "00:00:15.6100000"
    }
    ]
}
] 

```

### <a name="faces"></a>faces

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор лица.|
|name|Обозначение лица. Это может быть "Неизвестный № 0", идентифицированная знаменитость или заданный клиентом человек.|
|confidence|Достоверности идентификации лица.|
|description|В случае знаменитости ее описание ("Сатья Наделла (Satya Nadella) родился..."). |
|thumbnalId|Идентификатор миниатюры лица.|
|knownPersonId|В случае известного человека его внутренний идентификатор.|
|referenceId|В случае знаменитости, найденной в Bing, ее идентификатор Bing.|
|referenceType|В настоящее время только Bing.|
|title|В случае знаменитости ее должность (например, "генеральный директор Майкрософт").|
|imageurl|В случае знаменитости ее URL-адрес изображения.|
|instances|Это примеры того, где лицо появилось в заданном интервале времени. У каждого экземпляра также есть thumbnailsId. |

```json
"faces": [{
    "id": 2002,
    "name": "Xam 007",
    "confidence": 0.93844,
    "description": null,
    "thumbnailId": "00000000-aee4-4be2-a4d5-d01817c07955",
    "knownPersonId": "8340004b-5cf5-4611-9cc4-3b13cca10634",
    "referenceId": null,
    "title": null,
    "imageUrl": null,
    "instances": [{
        "thumbnailsIds": ["00000000-9f68-4bb2-ab27-3b4d9f2d998e",
        "cef03f24-b0c7-4145-94d4-a84f81bb588c"],
        "adjustedStart": "00:00:07.2400000",
        "adjustedEnd": "00:00:45.6780000",
        "start": "00:00:07.2400000",
        "end": "00:00:45.6780000"
    },
    {
        "thumbnailsIds": ["00000000-51e5-4260-91a5-890fa05c68b0"],
        "adjustedStart": "00:10:23.9570000",
        "adjustedEnd": "00:10:39.2390000",
        "start": "00:10:23.9570000",
        "end": "00:10:39.2390000"
    }]
}]
```

### <a name="labels"></a>метки;

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор метки.|
|name|Название метки (например, "Компьютер", "Телевизор").|
|Язык|Язык метки (при наличии перевода). BCP-47|
|instances|Список диапазонов времени, где появилась эта метка (метка может появляться несколько раз). У каждого экземпляра есть поле достоверности. |


```json
"labels": [
    {
      "id": 0,
      "name": "person",
      "language": "en-US",
      "instances": [
        {
          "confidence": 1.0,
          "start": "00: 00: 00.0000000",
          "end": "00: 00: 25.6000000"
        },
        {
          "confidence": 1.0,
          "start": "00: 01: 33.8670000",
          "end": "00: 01: 39.2000000"
        }
      ]
    },
    {
      "name": "indoor",
      "language": "en-US",
      "id": 1,
      "instances": [
        {
          "confidence": 1.0,
          "start": "00: 00: 06.4000000",
          "end": "00: 00: 07.4670000"
        },
        {
          "confidence": 1.0,
          "start": "00: 00: 09.6000000",
          "end": "00: 00: 10.6670000"
        },
        {
          "confidence": 1.0,
          "start": "00: 00: 11.7330000",
          "end": "00: 00: 20.2670000"
        },
        {
          "confidence": 1.0,
          "start": "00: 00: 21.3330000",
          "end": "00: 00: 25.6000000"
        }
      ]
    }
  ] 
```

### <a name="shots"></a>shots

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор снимка.|
|keyframes|Список ключевых кадров в снимке (каждый из них имеет идентификатор и список временных интервалов экземпляров).|
|instances|Список временных интервалов этого снимка (снимки имеют только один экземпляр).|

```json
"Shots": [
    {
      "id": 0,
      "keyFrames": [
        {
          "id": 0,
          "instances": [
            {
              "start": "00: 00: 00.1670000",
              "end": "00: 00: 00.2000000"
            }
          ]
        }
      ],
      "instances": [
        {
          "start": "00: 00: 00.2000000",
          "end": "00: 00: 05.0330000"
        }
      ]
    },
    {
      "id": 1,
      "keyFrames": [
        {
          "id": 1,
          "instances": [
            {
              "start": "00: 00: 05.2670000",
              "end": "00: 00: 05.3000000"
            }
          ]
        }
      ],
      "instances": [
        {
          "start": "00: 00: 05.2670000",
          "end": "00: 00: 10.3000000"
        }
      ]
    }
  ]
```

### <a name="audioeffects"></a>audioEffects

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор аудиоэффекта.|
|Тип|Тип аудиоэффекта (например, овации, речь, тишина).|
|instances|Список диапазонов времени, в которых появились эти аудиоэффекты.|

```json
"audioEffects": [
{
    "id": 0,
    "type": "Clapping",
    "instances": [
    {
        "start": "00:00:00",
        "end": "00:00:03"
    },
    {
        "start": "00:01:13",
        "end": "00:01:21"
    }
    ]
}
]
```


### <a name="sentiments"></a>sentiments

Тональность агрегируется по полю sensimentType (позитивная/нейтральная/негативная). Например, 0–0,1 0,2–0,1.

|ИМЯ|ОПИСАНИЕ|
|---|---|
|id|Идентификатор тональности.|
|averageScore |Среднее значение всех оценок всех экземпляров этого типа тональности — позитивная/нейтральная/негативная.|
|instances|Список диапазонов времени, в которых появилась эта тональность.|

```json
"sentiments": [
{
    "id": 0,
    "averageScore": 0.87,
    "instances": [
    {
        "start": "00:00:23",
        "end": "00:00:41"
    }
    ]
}, {
    "id": 1,
    "averageScore": 0.11,
    "instances": [
    {
        "start": "00:00:13",
        "end": "00:00:21"
    }
    ]
}
]
```

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Руководство. Анализ видео с помощью Служб мультимедиа Azure](analyze-videos-tutorial-with-api.md)
