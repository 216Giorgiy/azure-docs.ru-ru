---
title: Сведения о локальных кодировщиках потоковой трансляции, рекомендованных Службами мультимедиа Azure | Документация Майкрософт
description: Узнайте о локальных кодировщиках потоковой трансляции, рекомендованных Службами мультимедиа
services: media-services
keywords: encoding;encoders;media
author: johndeu
manager: johndeu
ms.author: johndeu
ms.date: 12/14/2018
ms.topic: article
ms.service: media-services
ms.openlocfilehash: d1110669bd0ca8c0ba0caf34ef41861c500bdd33
ms.sourcegitcommit: 295babdcfe86b7a3074fd5b65350c8c11a49f2f1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/27/2018
ms.locfileid: "53790034"
---
# <a name="recommended-live-streaming-encoders"></a>Мы рекомендуем использовать кодировщики потоковой трансляции

В Службах мультимедиа [LiveEvent](https://docs.microsoft.com/rest/api/media/liveevents) (канал) представляет собой конвейер для обработки содержимого потоковой трансляции. Канал LiveEvent получает входные потоки одним из двух способов.

* Локальный динамический кодировщик передает содержимое в формате RTMP или формате потока Smooth Streaming (фрагментированный MP4) с несколькими скоростями в канал LiveEvent, для которого не включена поддержка кодирования в реальном времени с помощью Служб мультимедиа. Полученные потоки передаются через канал LiveEvents без дальнейшей обработки. Этот способ называется **сквозной передачей**. Динамический кодировщик может передавать поток с единой скоростью в сквозной канал. Но применять такую конфигурацию не рекомендуется, так как она не позволяет использовать потоковую передачу с переменной скоростью для клиента.

  > [!NOTE]
  > Использование сквозной передачи является наиболее экономичным способом потоковой передачи в реальном времени.

* Локальный динамический кодировщик передает односкоростной поток в канал LiveEvent, который может осуществлять кодирование в реальном времени с помощью Служб мультимедиа, в одном из следующих форматов: RTMP или Smooth Streaming (фрагментированный формат MP4). Затем LiveEvent выполняет кодирование в реальном времени входящего односкоростного потока в видеопоток с несколькими скоростями (адаптивный).

Подробные сведения о кодировании в реальном времени с помощью Служб мультимедиа см. в статье [Потоковая трансляция в Службах мультимедиа Azure версии 3](live-streaming-overview.md).

## <a name="live-encoders-that-output-rtmp"></a>Динамические кодировщики, выдающие RTMP

Для Служб мультимедиа рекомендуется использовать один из следующих динамических кодировщиков, которые выдают содержимое в формате RTMP. Поддерживаемые схемы URL-адрес — `rtmp://` или `rtmps://`.

> [!NOTE]
 > При потоковой передаче через RTMP проверьте параметры брандмауэра или прокси-сервера, чтобы убедиться, что исходящие TCP-порты 1935 и 1936 открыты.<br/>
 При потоковой передаче через RTMPS проверьте параметры брандмауэра или прокси-сервера, чтобы убедиться, что исходящие TCP-порты 2935 и 2936 открыты.

- Adobe Flash Media Live Encoder 3.2;
- Haivision KB
- Haivision Makito X HEVC;
- OBS Studio
- Switcher Studio (iOS)
- Telestream Wirecast 8.1+
- Telestream Wirecast S
- Teradek Slice 756;
- TriCaster 8000;
- Tricaster Mini HD-4.
- VMIX
- xStream

## <a name="live-encoders-that-output-fragmented-mp4"></a>Динамические кодировщики, выдающие фрагментированный MP4

Для Служб мультимедиа рекомендуется использовать один из следующих динамических кодировщиков, которые выдают потоковую передачу Smooth Streaming (фрагментированного MP4) с несколькими скоростями. Поддерживаемые схемы URL-адрес — `rtmp://` или `rtmps://`.

- Ateme TITAN Live;
- Cisco Digital Media Encoder 2200;
- Elemental Live
- Envivio 4Caster C4 Gen III;
- Imagine Communications Selenio MCP3;
- Media Excel Hero Live и Hero 4K (UHD/HEVC)

## <a name="how-to-become-an-on-premises-encoder-partner"></a>Как стать партнером по локальным кодировщикам

Службы мультимедиа Azure помогают партнеру по локальным кодировщикам продвигать продукты, рекомендуя кодировщик корпоративным клиентам. Чтобы стать партнером по локальным кодировщикам, необходимо проверить совместимость вашего локального кодировщика со Службами мультимедиа. Для этого выполните следующие проверки.

### <a name="pass-through-liveevent-verification"></a>Проверка канала LiveEvent в сквозном режиме

1. Создайте или откройте учетную запись Служб мультимедиа Azure.
2. Создайте и запустите **сквозной** канал LiveEvent.
3. Настройте кодировщик для передачи потока с несколькими скоростями.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик примерно на 10 минут.
6. Остановите динамическое событие.
7. Создайте и запустите конечную точку потоковой передачи, используйте проигрыватель, например [Проигрыватель мультимедиа Azure](https://ampdemo.azureedge.net/azuremediaplayer.html), чтобы просмотреть архивные ресурсы и проверить наличие ошибок воспроизведения для всех уровней качества (или просмотрите и проверьте ресурсы по URL-адресу предварительного просмотра во время сеанса до шага 6).
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.
9. Сбрасывайте состояние канала LiveEvent после создания каждого примера.
10. Повторите шаги 3–9 для всех конфигураций, поддерживаемых вашим кодировщиком (с сообщениями о рекламе, субтитрами, различными скоростями кодирования и без этих настроек).

### <a name="live-encoding-liveevent-verification"></a>Проверка LiveEvent кодирования в реальном времени

1. Создайте или откройте учетную запись Служб мультимедиа Azure.
2. Создайте и запустите LiveEvent **кодирования в реальном времени**.
3. Настройте кодировщик для передачи потока с единой скоростью.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик примерно на 10 минут.
6. Остановите динамическое событие.
7. Создайте и запустите конечную точку потоковой передачи, используйте проигрыватель, например [Проигрыватель мультимедиа Azure](https://ampdemo.azureedge.net/azuremediaplayer.html), чтобы просмотреть архивные ресурсы и проверить наличие ошибок воспроизведения для всех уровней качества (или просмотрите и проверьте ресурсы по URL-адресу предварительного просмотра во время сеанса до шага 6).
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.
9. Сбрасывайте состояние канала LiveEvent после создания каждого примера.
10. Повторите шаги 3–9 для всех конфигураций, поддерживаемых вашим кодировщиком (с сообщениями о рекламе, субтитрами, различными скоростями кодирования и без этих настроек).

### <a name="longevity-verification"></a>Проверка срока службы

1. Создайте или откройте учетную запись Служб мультимедиа Azure.
2. Создайте и запустите **сквозной** канал.
3. Настройте кодировщик для передачи потока с несколькими скоростями.
4. Создайте опубликованное динамическое событие.
5. Запустите динамический кодировщик на неделю или на более длительный период.
6. Используйте проигрыватель, например [Проигрыватель мультимедиа Azure](https://ampdemo.azureedge.net/azuremediaplayer.html), чтобы время от времени смотреть потоковую трансляцию (или архивный ресурс) и проверять видео на наличие видимых ошибок.
7. Остановите динамическое событие.
8. Запишите идентификатор ресурса, опубликованный URL-адрес потоковой передачи для динамического архива, а также настройки и версию, которые использовались в динамическом кодировщике.

Наконец, отправьте свои записанные настройки и параметры динамического архива в Службы мультимедиа Azure по адресу amsstreaming@microsoft.com ​​в качестве уведомления о том, что все проверки для самопроверки пройдены. Кроме того, включите вашу контактную информацию для любых последующих действий. С любыми вопросами, касающимися этого процесса, вы можете связаться с командой Службы мультимедиа Azure.

## <a name="next-steps"></a>Дополнительная информация

[Потоковая трансляция в Службах мультимедиа Azure версии 3](live-streaming-overview.md)
