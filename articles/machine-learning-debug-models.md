<properties 
	pageTitle="Отладка машинного обучения модели в Azure | Azure" 
	description="В этой статье объясняется, как отладить машинное обучение модели в Azure." 
	services="machine-learning"
	documentationCenter="" 
	authors="bradsev" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="02/13/2015" 
	ms.author="bradsev" />

# Отладка машинного обучения модели в Azure

В этой статье объясняется, как отладить машинное обучение модели в Microsoft Azure. При этом внимание преимущественно уделяется потенциальным причинам, по которым при запуске модели могут возникнуть два сценария сбоя:

* модуль обучения модели выдает ошибку; 
* работа модуля оценки модели приводит к недопустимым результатам. 

## Модуль обучения модели выдает ошибку

![image1](./media/machine-learning-debug-model/train_model-1.png)

Вот какие два вида данных нужно ввести в модуль обучения модели:

1. Тип модели классификации или регрессии из коллекции моделей, предоставленных службой машинного обучения Azure.
2. Данные для обучения со столбцом метки. В столбце метки указывается переменная, которую нужно спрогнозировать. Остальные столбцы считаются признаками.

Модуль выдает ошибку в таких случаях:

1. Столбец метки указан неверно, так как в качестве метки выбрано более одного столбца или выбран недопустимый индекс столбца. Пример второго случая: указан индекс столбца 30, тогда как входной набор данных содержит только 25 столбцов.

2. Набор данных не содержит столбцов с признаками. Например, если входной набор данных содержит только один столбец, выбранный в качестве метки, для построения модели не будет ни одного признака. В таком случае модуль обучения модели выдаст ошибку.

3. Во входном наборе данных (признаки или метка) в качестве значения указана бесконечность.


## Работа модуля оценки модели приводит к недопустимым результатам

![image2](./media/machine-learning-debug-model/train_test-2.png)

На типичном обучающем или тестовом графе для контролируемого обучения модуль разделения разбивает исходный набор данных на две части: в одной модель обучается, а во второй модель оценивается на предмет того, насколько хорошо она работает с данными, отличными от обучающих. Затем обученная модель оценивает тестовые данные, после чего оцениваются результаты и определяется точность ее работы.

Для модуля оценки модели требуется два вида входных данных:

1. выходные данные обученной модели из модуля обучения модели;
2. набор оцениваемых данных, отличный от того, на котором обучалась модель.

Даже если эксперимент завершится успехом, модуль оценки модели может выдать неправильные результаты. Вот в каких случаях это может произойти:

1. Если указанная метка является категорийной и модель регрессии обучается с помощью данных, модуль оценки модели может выдать неправильные результаты. Это обусловлено тем, что для регрессии требуется непрерывная переменная ответа. В этом случае лучше использовать модель классификации. 
2. Аналогичным образом, если модель классификации обучается с помощью данных, которые содержат числа с плавающей запятой в столбце метки, модель может выдать недопустимые результаты. Это обусловлено тем, что для классификации требуется дискретная переменная отклика, с которой можно использовать только значения, соответствующие конечному и обычно несколько малому набору классов.
3. Если набор оцениваемых данных не содержит все признаки, используемые для обучения модели, оценка модели завершится ошибкой.
4. Модуль оценки модели не выдает выходные данные, соответствующие строке в наборе оцениваемых данных, в котором для какого-либо признака отсутствует значение или указано бесконечное значение.
5. Модуль оценки модели может выдать одинаковые выходные данные для всех строк набора оцениваемых данных. Это может случиться, например, при классификации с помощью лесов принятия решений, когда минимальное количество образцов на листовой узел превышает количество доступных обучающих примеров.



<!--HONumber=49-->