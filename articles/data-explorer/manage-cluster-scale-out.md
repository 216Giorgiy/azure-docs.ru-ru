---
title: Масштабирование кластера обозревателя данных Azure с учетом меняющихся потребностей
description: В этой статье описывается масштабирование кластера обозревателя данных Azure в зависимости от меняющихся потребностей в ресурсах.
author: orspod
ms.author: v-orspod
ms.reviewer: mblythe
ms.service: data-explorer
services: data-explorer
ms.topic: conceptual
ms.date: 02/18/2019
ms.openlocfilehash: 15ef5282e0a073e870f2ac12b5fc442407535770
ms.sourcegitcommit: 4bf542eeb2dcdf60dcdccb331e0a336a39ce7ab3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2019
ms.locfileid: "56408448"
---
# <a name="manage-cluster-scale-out-to-accommodate-changing-demand"></a>Управление горизонтальным масштабированием кластера с учетом меняющихся потребностей

Изменение размера кластера соответствующим образом очень важно для обеспечения производительности обозревателя данных Azure. Но потребность в ресурсах в кластере невозможно спрогнозировать с точностью в 100 %. Статический размер кластера может привести к недостаточной или чрезмерной нагрузке, и ни одна из этих ситуаций не является оптимальной. Лучше *масштабировать* кластер, добавляя и удаляя емкость по мере изменения потребности в ресурсах. Существует два рабочих процесса масштабирования: вертикальное и горизонтальное масштабирование. В этой статье объясняется рабочий процесс горизонтального масштабирования.

В этой статье показано, как управлять горизонтальным масштабированием кластера, также известным под названием автомасштабирование. Автомасштабирование позволяет выполнять горизонтальное масштабирование числа экземпляров автоматически на основе предварительно определенных правил и расписаний. Определите параметры автоматического масштабирования для своего кластера на портале Azure, как описано ниже.

Перейдите к кластеру и в разделе **Параметры** выберите **Горизонтальное масштабирование**. В разделе **Настройка** выберите **Включить автомасштабирование**.

![Включение автомасштабирования](media/manage-cluster-scaling/enable-autoscale.png)

На приведенном ниже рисунке показан процесс из нескольких следующих шагов. Под рисунком приведено более подробное описание.

![Правило масштабирования](media/manage-cluster-scaling/scale-rule.png)

1. В поле **Имя параметра автомасштабирования** укажите имя, например *Scale-out: cache utilization* (Горизонтальное масштабирование: использование кэша).

1. В разделе **Режим масштабирования** выберите **Масштабировать на основе метрики**. Этот режим обеспечивает динамическое масштабирование. Можно также выбрать **Масштабировать до указанного числа экземпляров**.

1. Выберите **Добавление правила**.

1. В разделе **Правило масштабирования** справа укажите значения для каждого параметра.

    **Критерии**

    | Параметр | Описание и значение |
    | --- | --- | --- |
    | **Агрегат времени** | Выберите условия агрегирования, например **Среднее**. |
    | **Имя метрики** | Выберите метрику для операции масштабирования, например **Cache Utilization**. |
    | **Статистика интервала времени** | Выберите одно из значений: **Среднее**, **Минимум**, **Максимум** и **Сумма**. |
    | **Оператор** | Выберите нужный параметр, например **Больше или равно**. |
    | **Пороговое значение**. | Выберите соответствующее значение. Например, для начала можно указать использование 80 % кэша. |
    | **Продолжительность (в минутах)** | Выберите период времени, используемый системой при вычислении метрик. Начните со значения по умолчанию, равного 10 минутам. |
    |  |  |

    **Действие**

    | Параметр | Описание и значение |
    | --- | --- | --- |
    | **Операция** | Выберите соответствующий параметр для свертывания или горизонтального масштабирования. |
    | **Число экземпляров** | Выберите количество узлов или экземпляров, которые требуется добавить или удалить при выполнении условий метрики. |
    | **Охлаждение (в минутах)** | Выберите интервал времени ожидания между операциями масштабирования. Начните со значения по умолчанию, равного 5 минутам. |
    |  |  |

1. Выберите **Добавить**.

1. В разделе **Ограничения экземпляров** слева укажите значения всех параметров.

    | Параметр | Описание и значение |
    | --- | --- | --- |
    | *Минимальные* | Число экземпляров в кластере, поддерживаемое вне зависимости от уровня использования. |
    | *Максимум* | Число экземпляров в кластере, поддерживаемое в зависимости от уровня использования. |
    | *По умолчанию* | Количество экземпляров по умолчанию, используемых при возникновении проблем при чтении метрик ресурсов. |
    |  |  |

1. Щелкните **Сохранить**.

Вы настроили операцию горизонтального масштабирования для кластера обозревателя данных Azure. Добавьте правило для операции свертывания. Это позволит динамически масштабировать кластер на основе заданных вами метрик.

Вы также можете выполнить [увеличение масштаба кластера](manage-cluster-scale-up.md) для соответствующего размера кластера.

Если вам нужна помощь в устранении проблем с масштабированием кластера, отправьте запрос в службу поддержки на [портале Azure](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview).
