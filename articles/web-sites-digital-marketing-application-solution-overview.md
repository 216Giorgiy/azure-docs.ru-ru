<properties urlDisplayName="Resources" pageTitle="Создание цифровой маркетинговой кампании на веб-сайтах Azure" metaKeywords="" description="This guide provides a technical overview of how to use Azure Websites to create digital marketing campaigns. This includes deployment, social media integration, scaling strategies, and monitoring." metaCanonical="" services="" documentationCenter="" title="Create a Digital Marketing Campaign on Azure Websites" authors="jroth" solutions="" manager="wpickett" editor="mollybos" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="jroth" />

# Создание цифровой маркетинговой кампании на веб-сайтах Azure
В данном руководстве представлен технический обзор использования веб-сайтов Azure для создания кампаний цифрового маркетинга. Цифровая маркетинговая кампания обычно является краткосрочным мероприятием, предназначенным для достижения кратковременной маркетинговой цели. Необходимо рассмотреть два основных сценария. В первом сценарии сторонняя маркетинговая фирма создает кампанию для своего клиента и управляет этой кампанией в течение рекламной акции. Второй сценарий задействует маркетинговую фирму, создающую ресурсы цифровой маркетинговой кампании и затем передающую своему клиенту право владения этими ресурсами. Далее клиент запускает цифровую маркетинговую кампанию и управляет этой кампанией на свое усмотрение. 

[Веб-сайты Azure][websitesoverview] хорошо подходят для обоих сценариев. Они обеспечивают быстрое создание, поддерживают несколько платформ и языков, масштабируются для удовлетворения пользовательского спроса и совместимы со многими системами развертывания и управления версиями. Используя Azure, вы получаете доступ к другим услугам Azure, например к службам мультимедиа, которые могут повысить эффективность маркетинговой кампании.

Несмотря на то что для размещения веб-сайтов можно использовать [облачные службы Azure][csoverview] или [виртуальные машины Azure][vmoverview], для данного сценария это не лучший выбор, разве что необходима какая-либо важная функция, которой нет у службы веб-сайтов Azure. Описание возможных вариантов см. в статье [Веб-сайты Azure, облачные службы и виртуальные машины: Когда же использовать каждую службу?][chooseservice].

В этом руководстве рассматриваются следующие вопросы:

- [Развертывание существующих веб-сайтов](#deployexisting)
- [Интеграция с социальными сетями](#socialmedia)
- [Масштабирование в соответствии с пользовательским спросом](#scale)
- [Интеграция с другими службами](#integrate)
- [Монитор кампании](#monitor)

<div class="dev-callout">
<strong>Примечание.</strong>
<p>В этом руководстве представлены некоторые из наиболее распространенных вопросов и задач, связанных с разработкой общедоступных сайтов .COM. Но существуют и другие возможности веб-сайтов Azure, которые можно использовать в конкретной реализации. Для анализа этих возможностей также можно воспользоваться другими руководствами: <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/global-web-presence-solution-overview/">Глобальное веб-присутствие</a> и <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/business-application-solution-overview">Бизнес-приложения</a>.</p>
</div>

##<a name="deployexisting"></a>Развертывание существующих веб-сайтов
В сценарии глобального веб-присутствия мы уже обсуждали различные варианты создания и развертывания нового веб-сайта. Если вы впервые работаете с веб-сайтами Azure, будет полезным ознакомиться с [этой информацией][scenarioglobalweb]. Если вы часто создаете цифровые маркетинговые кампании, возможно, что у вас уже есть существующие веб-ресурсы, настроенные для различных рекламных акций. В данном разделе мы подробнее рассмотрим варианты развертывания различных типов веб-сайтов из системы управления версиями.

Если вы до сих пор не работали с системой управления версиями для повторного использования веб-активов с различными целями, мы настоятельно рекомендуем ее установить. Это позволяет хранить шаблоны распространенных веб-решений, которые можно разветвлять и настраивать для конкретных клиентов. Веб-сайты предоставляют возможность синхронизации со многими различными репозиториями исходных кодов. На вкладке **Панель мониторинга** выберите пункт **Настроить развертывания в системе управления версиями**.

![DigitalMarketingDeploy1][DigitalMarketingDeploy1]

Появится диалоговое окно с различными вариантами управления версиями. В их число входят полноценные системы управления версиями, такие как TFS, а также простые решения развертывания, например Dropbox.

![DigitalMarketingDeploy2][DigitalMarketingDeploy2]

Вы можете воспользоваться разными техниками контроля версий для управления новым проектом на основе уже существующей базы.  Например, можно скопировать ранее сохраненный базовый репозиторий, чтобы начать работу над новым проектом, или создать новую ветвь, чтобы отслеживать изменения в текущем проекте. Хороший пример использования ветвей в управления несколькими развертываниями из одного репозитория системы управления версиями можно найти в разделе [Несколько сред с веб-сайтами Azure][gitstaging]. В этой статье рассматривается использование ветвления git для управления промежуточными и рабочими средами.

Как только вы подключили свой веб-сайт к системе управления версиями, можно начинать настройку и отслеживание развертывания с портала. Для получения дополнительных сведений об использовании системы управления версиями с веб-сайтами см. раздел [Публикация из системы управления версиями на веб-сайты Azure][publishingwithgit].

При использовании уже существующих веб-активов очень важно располагать достаточной гибкостью для размещения различных типов веб-сайтов. На вкладке **Настройка** можно выбрать для веб-сайта поддержку как .NET, так и PHP. 

![DigitalMarketingFrameworkVersions][DigitalMarketingFrameworkVersions]

Помимо этих вариантов конфигурации, веб-сайты автоматически обеспечивают поддержку Python 2.7 и Node.js. По умолчанию используемой версией Node.js является 0.10.5.

Еще одним преимуществом службы веб-сайтов Azure является скорость развертывания промежуточных сайтов в сети. В течение планирования, создания прототипов и ранних этапов разработки сайта агентство и его клиент могут просматривать реальные рабочие версии сайта кампании перед его запуском. Как только сайт готов для работы, агентство может или самостоятельно управлять развертыванием для клиента, или предоставить ему веб-активы для развертывания и управления.

##<a name="socialmedia"></a>Интеграция с социальными сетями
Большинство цифровых маркетинговых кампаний используют сайты социальных медиа, такие как Facebook или Twitter. Одной точкой интеграции является использование удостоверений социальных сетей для проверки подлинности. Пример такого подхода с приложением ASP.NET находится в разделе [Развертывание безопасного приложения ASP.NET MVC с Membership, OAuth и базой данных SQL на веб-сайте Azure][deploysecurewebsite].

Однако многие цифровые маркетинговые кампании не просто используют проверку подлинности при входе, но делают интеграцию с социальными медиа ключевой частью стратегии. На сайтах социальных сетей обычно предусмотрен раздел для разработчиков, описывающий различные способы интеграции приложений со службами социальных сетей. Службы, предоставляющие интерфейс API REST, можно использовать практически с любой веб-платформы. Но часто существует информация, специфическая для выбранного языка. Например, в сети Twitter существует [список доступных библиотек, поддерживающих интерфейс API Twitter][twitter], в том числе для .NET, Node.js и PHP. Это только один пример; вы можете самостоятельно найти аналогичные, полезные для разработчика сведения на сайтах социальных медиа, с которыми вы хотите работать.

Visual Studio предоставляет шаблон приложения MVC 4 Facebook для разработчиков ASP.NET, желающих работать с Facebook.  

![DigitalMarketingFacebook][DigitalMarketingFacebook]

Краткий обзор использования этого шаблона на веб-сайтах см. в разделе [Создание приложения Facebook с помощью шаблонов ASP.NET MVC Facebook и их бесплатное размещение на веб-сайтах Azure][fbtutorial]. Для ознакомления с более детальным учебником и примером приложения см. [Приложение ASP.NET MVC Facebook для дня рождения][fbbirthdayapp] и [Новый шаблон приложения Facebook и библиотека для ASP.NET MVC][fbvstemplate].

Если вы являетесь разработчиком ASP.NET, не обязательно ограничивать возможности интеграции с социальными медиашаблонами, предоставляемыми Visual Studio. Шаблон просто помогает упростить процесс. Но, как уже упоминалось, на каждом сайте социальных медиа обычно присутствует информация о различных способах подключения с платформы .NET и других языков и платформ.

##<a name="scale"></a>Масштабирование в соответствии с пользовательским спросом
Использование облака полезно при непрогнозируемых рабочих нагрузках. В эту категорию попадают и цифровые маркетинговые кампании. Трудно предсказать популярность относительно кратковременного маркетингового сайта, так как многое зависит от привлечения интереса пользователей и взаимодействия с соответствующими социальными сетями, что увеличивает трафик для сайта. Azure предоставляет несколько вариантов для масштабирования как сайтов, так и облачных служб.

- Ручное масштабирование с помощью [портала управления Azure][managementportal].
- Программное масштабирование с помощью [API управления службами][servicemanagementapi] или [скриптов PowerShell][powershell].
- Автоматическое масштабирование с помощью функции автомасштабирования (предварительная версия).

На портале управления откройте вкладку **Масштабирование** для вашего сайта. Существует несколько параметров для масштабирования. Первый параметр определяет режим веб-сайта с возможными значениями **Бесплатный**, **В общем доступе** или **Стандартный**. 

![DigitalMarketingScale][DigitalMarketingScale]

Количество функций и параметров масштабирования увеличивается с каждым новым уровнем. Например, сайты в режиме **Бесплатный** нельзя масштабировать на несколько экземпляров, а веб-сайты в режиме **В общем доступе** можно масштабировать на несколько (до 6) экземпляров. Возможность масштабирования существует и в режиме **Стандартный**. Этот режим запускает сайт на выделенных виртуальных машинах и предоставляет возможности изменения размеров машины: малый, средний и большой. Определив размер виртуальной машины, также можно выполнить горизонтальное масштабирование на нескольких экземплярах. В режиме **Стандартный** число экземпляров для масштабирования может достигать 10. Полный список различий между режимами см. в [Правилах ценообразования для веб-сайтов][pricing].

При выборе режима **Стандартный** у вас появляется дополнительная возможность для включения функции автоматического масштабирования (предварительной версии). Она позволяет выполнять масштабирование на основе ЦП. Процент **Целевой ЦП** - это доля использования процессора, предоставляемая Azure для экземпляров веб-сайта. Если среднее использование ЦП меньше этого целевого значения, Azure уменьшает число экземпляров, так как эта же нагрузка при меньшем числе экземпляров приведет к увеличению коэффициента использования оставшихся экземпляров. Но нельзя уменьшить число экземпляров ниже минимального значения **Число экземпляров**. Аналогично, если средняя загрузка ЦП превышает значение **Целевой ЦП**, Azure увеличивает число экземпляров. Распределение нагрузки между дополнительными компьютерами приводит к уменьшению использования ЦП в каждой машине. Количество добавляемых экземпляров ограничено максимальным значением **Число экземпляров** .

![DigitalMarketingAutoScale][DigitalMarketingAutoScale]

Автоматическое масштабирование обеспечивает намного более эффективное использование ресурсов. Например, цифровая маркетинговая кампания может быть наиболее активной в ночное время и по выходным. В этом случае также эффективно отрабатывается сценарий неожиданного увеличения популярности кампании. Автоматическое масштабирование позволяет эффективно обработать повышенную нагрузку, а затем уменьшить число экземпляров (и расходы) при уменьшении нагрузки. 

Для получения дополнительной информации о масштабировании веб-сайтов см. [Масштабирование веб-сайтов][scalewebsite]. Эта тема также тесно связана с мониторингом. Для получения дополнительной информации см. раздел [Мониторинг вашей кампании](#monitor) этого руководства.

<div class="dev-callout">
<strong>Примечание.</strong>
<p>Для веб-приложений, для которых выбрано использование облачных служб и веб-ролей, существует дополнительная возможность масштабирования, основанная на длине элементов в очереди. В облачной службе типовым архитектурным шаблоном являются роли, обрабатывающие серверные очереди. Дополнительные сведения о масштабировании облачных служб см. в статье <a href="http://www.windowsazure.com/ru-ru/manage/services/cloud-services/how-to-scale-a-cloud-service/">Масштабирование облачной службы</a>.</p>
</div>

##<a name="integrate"></a>Интеграция с другими службами
Сайт для цифрового маркетинга часто включает в себя разнообразные медиасредства, например потоковое видео. Размещение сайтов в Azure обеспечивает тесную интеграцию со связанными службами Azure. Например, можно использовать службы мультимедиа Azure для кодирования и потоковой передачи видео для веб-сайта. Для получения дополнительной информации о службах мультимедиа см. [Введение в основные понятия и сценарии служб мультимедиа Azure][mediaservices].

Для создания более устойчивого приложения можно использовать и другие службы Azure. Например, веб-сайты могут использовать распределенное кэширование, предоставляемое новой [службой кэша Azure (предварительная версия)][caching]. Либо можно использовать службы хранилища Azure для хранения данных и ресурсов приложения. Например, графики, видео и другие файлы большого размера могут в течение длительного времени храниться в BLOB-объектах. Службы работы с базами данных, например базы данных Azure SQL и MySQL, также доступны при наличии требований к реляционным данным.

##<a name="monitor"></a>Монитор кампании
Вкладка **Монитор** содержит показатели, которые могут помочь вам в оценке успешности и производительности вашего сайта для цифрового маркетинга.

![DigitalMarketingMonitor][DigitalMarketingMonitor]

Например, можно узнать особенности и уровни использования благодаря таким показателям, как **Время ЦП**, **Запросы** и **Выходные данные**. Все эти метрики будут расти с ростом популярности маркетинговой кампании. Сведения об использовании можно применять для принятия решения о направлении масштабирования. Для получения дополнительной информации см. [Мониторинг веб-сайтов][monitoring].

В **бесплатном** и **общем** режимах вы также можете получить сведения о квотах ресурсов. На вкладке **Панель мониторинга** портала показывается текущая статистика использования нескольких квот, а также когда эти квоты будут сброшены. Эта статистика использования зависит от выбранного режима. На следующем снимке экрана показана статистика для режима **Бесплатный**. В режиме **В общем доступе** отсутствуют квоты для метрики **Исходящие данные**. В **стандартном** режиме отображаются только **Хранилище файловой системы** и **Размер**.

![DigitalMarketingUsageOverview][DigitalMarketingUsageOverview]

Если вы обнаружили, что приближаетесь к границе квот, подумайте о переходе с **бесплатного** на **общий** или с **общего** на **стандартный** режим. В режиме **Стандартный** предоставляются выделенные ресурсы на малых, средних и больших виртуальных машинах. 

Помимо использования портала управления для получения этой информации, существует ряд инструментов сторонних поставщиков, предоставляющих данные мониторинга ваших веб-сайтов. Например, можно установить надстройку New Relic из хранилища Azure. Для ознакомления с техникой использования New Relic для мониторинга см. [Инструмент управления производительностью приложений New Relic для Azure][newrelic]. 

Наконец, на веб-сайтах стандартного режима существует возможность активировать мониторинг конечной точки и оповещения. Монитор конечной точки периодически пытается подключиться к веб-сайту, а затем сообщает время ответа. Если время ответа превышает указанный порог, оповещения обеспечивают отправку уведомлений по электронной почте. Для получения дополнительной информации см. раздел, посвященный мониторингу, сценария [Глобальное сетевое присутствие][scenarioglobalweb] и тему [Практическое руководство. Получение уведомлений об оповещениях и управление правилами оповещения в Azure][receivealerts].

##<a name="summary"></a>Сводка
Веб-сайты Azure - это хороший выбор для веб-контента, который можно использовать повторно и настраивать для индивидуальных маркетинговых кампаний. Веб-сайты поддерживает множество популярных языков, платформ и систем управления версиями, упрощая перенос этих ресурсов и процессов в облако. Данный шаблон приложения ASP.NET Facebook облегчает создание приложений для Facebook, но можно использовать интеграцию практически с любыми сторонними социальными сетями, поддерживающими веб-интерфейсы. Службы мультимедиа Azure и другие связанные службы Azure предоставляют дополнительные средства для создания хорошо разработанного сайта кампании. А несколько вариантов ручного и автоматического масштабирования полезны для обработки пользовательского спроса, который может оказаться трудно предсказуемым. Дополнительные сведения см. в следующих технических статьях.

<table cellspacing="0" border="1">
<tr>
   <th align="left" valign="top">Область</th>
   <th align="left" valign="top">Ресурсы</th>
</tr>
<tr>
   <td valign="middle"><strong>План</strong></td>
   <td valign="top">- <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/choose-web-app-service">Веб-сайты Azure, облачные службы и виртуальные машины: когда они используются?</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Создание</strong></td>
   <td valign="top">- <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/how-to-create-websites/">Создание и развертывание веб-сайта</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Развертывание</strong></td>
   <td valign="top">- <a href="http://azure.microsoft.com/ru-ru/documentation/articles/web-sites-deploy/">Развертывание веб-сайта Azure</a><br/>- <a href="http://www.windowsazure.com/ru-ru/develop/net/common-tasks/publishing-with-git/">Публикация из системы управления версиями на веб-сайтах Azure</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Социальные сети</strong></td>
   <td valign="top">- <a href="http://www.windowsazure.com/ru-ru/develop/net/tutorials/web-site-with-sql-database/">Развертывание приложения ASP.NET MVC с Membership, OAuth и базами данных SQL</a><br/>- <a href="http://blogs.msdn.com/b/africaapps/archive/2013/02/20/creating-a-facebook-app-using-asp-net-mvc-facebook-templates-and-hosting-them-for-free-on-windows-azure-websites.aspx">Создание приложения для Facebook с использованием шаблонов ASP.NET MVC для Facebook</a><br/>- <a href="http://blogs.msdn.com/b/webdev/archive/2012/12/13/the-new-facebook-application-template-and-library-for-asp.net-mvc.aspx">Шаблон и библиотека приложения Facebook для ASP.NET MVC</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Масштаб</strong></td>
   <td valign="top">- <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/how-to-scale-websites/">Масштабирование веб-сайтов</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Широкие возможности мультимедиа</strong></td>
   <td valign="top">- <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/dn223282.aspx">Введение в основные понятия и сценарии служб мультимедиа Azure</a></td>
</tr>
<tr>
   <td valign="middle"><strong>Монитор</strong></td>
   <td valign="top">- <a href="http://www.windowsazure.com/ru-ru/manage/services/web-sites/how-to-monitor-websites/">Мониторинг веб-сайтов</a><br/>- <a href="http://msdn.microsoft.com/library/windowsazure/dn306638.aspx">Практическое руководство. Получение уведомлений об оповещениях и управление правилами оповещения в Azure</a></td>
</tr>
</table>

  [websitesoverview]:/ru-ru/documentation/services/web-sites/
  [csoverview]:/ru-ru/documentation/services/cloud-services/
  [vmoverview]:/ru-ru/documentation/services/virtual-machines/
  [chooseservice]:/ru-ru/manage/services/web-sites/choose-web-app-service
  [scenarioglobalweb]:/ru-ru/manage/services/web-sites/global-web-presence-solution-overview/
  
  
  [publishingwithgit]:/ru-ru/develop/net/common-tasks/publishing-with-git/
  [gitstaging]:http://www.bradygaster.com/post/multiple-environments-with-windows-azure-web-sites
  [deploysecurewebsite]:/ru-ru/develop/net/tutorials/web-site-with-sql-database/
  [twitter]:https://dev.twitter.com/docs/twitter-libraries#dotnet
  [fbtutorial]:http://blogs.msdn.com/b/africaapps/archive/2013/02/20/creating-a-facebook-app-using-asp-net-mvc-facebook-templates-and-hosting-them-for-free-on-windows-azure-websites.aspx
  [fbbirthdayapp]:http://www.asp.net/mvc/tutorials/mvc-4/aspnet-mvc-facebook-birthday-app
  [fbvstemplate]:http://blogs.msdn.com/b/webdev/archive/2012/12/13/the-new-facebook-application-template-and-library-for-asp.net-mvc.aspx
  [managementportal]:http://manage.windowsazure.com/
  [servicemanagementapi]:http://msdn.microsoft.com/ru-ru/library/windowsazure/ee460799.aspx
  [powershell]:http://msdn.microsoft.com/ru-ru/library/windowsazure/jj152841.aspx
  [pricing]:https://www.windowsazure.com/ru-ru/pricing/details/web-sites/
  [scalewebsite]:/ru-ru/manage/services/web-sites/how-to-scale-websites/
  
  [mediaservices]:http://msdn.microsoft.com/ru-ru/library/windowsazure/dn223282.aspx
  [caching]:http://msdn.microsoft.com/ru-ru/library/windowsazure/dn386094.aspx
  [monitoring]:/ru-ru/manage/services/web-sites/how-to-monitor-websites/
  [newrelic]:/ru-ru/develop/net/how-to-guides/new-relic/
  [receivealerts]:http://msdn.microsoft.com/library/windowsazure/dn306638.aspx
  
  
  
   [DigitalMarketingDeploy1]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_Deploy1.png
  [DigitalMarketingDeploy2]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_Deploy2.png
  [DigitalMarketingFrameworkVersions]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_FrameworkVersions.png
  [DigitalMarketingFacebook]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_Facebook.png
  [DigitalMarketingScale]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_Scale.png
  [DigitalMarketingAutoScale]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_AutoScale.png
  [DigitalMarketingMonitor]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_Monitor.png
  [DigitalMarketingUsageOverview]: ./media/web-sites-digital-marketing-application-solution-overview/DigitalMarketing_UsageOverview.png
  
  
  
  
  
