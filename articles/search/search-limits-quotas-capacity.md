<properties
	pageTitle="Ограничения Поиска Azure | Microsoft Azure | Размещенная облачная служба поиска"
	description="Ограничения службы поиска Azure, используемые при планировании мощности, а также ограничения запросов и ответов на них."
	services="search"
	documentationCenter=""
	authors="HeidiSteen"
	manager="mblythe"
	editor=""
    tags="azure-portal"/>

<tags
	ms.service="search"
	ms.devlang="NA"
	ms.workload="search"
	ms.topic="article"
	ms.tgt_pltfrm="na"
	ms.date="05/25/2016"
	ms.author="heidist"/>

# Ограничения поиска Azure

Ограничения хранилища, рабочих нагрузок, количества индексов, документов и других объектов зависят от того, добавили ли вы Поиск Azure в ценовую категорию **Бесплатный**, **Базовый** или **Стандартный**.

- Категория **Бесплатный** представляет собой мультитенантную службу, которая предоставляется вместе с подпиской Azure. Это вариант без дополнительных затрат для существующих подписчиков, который позволяет поэкспериментировать со службой до регистрации для использования выделенных ресурсов. 
- Категория **Базовый (предварительная версия)** предоставляет выделенные вычислительные ресурсы для небольших рабочих нагрузок в рабочей среде. Эта категория находится на этапе предварительной версии и предлагается [со скидкой 50 % на этом этапе](https://azure.microsoft.com/pricing/details/search/).
- Для категории **Стандартный** используются выделенные компьютеры. Это обеспечивает увеличение емкости хранилища и вычислительной мощности на всех уровнях, даже при минимальной конфигурации. Поставляется два уровня "Стандартный" (S1 и S2). 

Все категории можно [подготовить на портале](search-create-service-portal.md), за исключением S2, для которой требуется отправить запрос в службу поддержки. Обратитесь в службу поддержки или по электронному адресу azuresearch_contact@microsoft.com, чтобы приступить к работе с S2.

## Ограничения категории

[AZURE.INCLUDE [azure-search-limits](../../includes/azure-search-limits-tier.md)]

## Ограничения хранилища ##

[AZURE.INCLUDE [azure-search-limits](../../includes/azure-search-limits-storage.md)]

## Ограничения данных ##

Ресурс|Бесплатно|"Базовый" (предварительная версия) |S1|S2
---|---|---|---|----
Индекс: максимальное число полей на индекс|1000|100 <sup>1</sup>|1000|1000
Максимальное число профилей оценки на индекс|16|16|16|16
Индекс: максимальное число функций на профиль|8|8|8|8
Размер документа на индекс API<sup>2</sup> в МБ|Меньше 16|Меньше 16|Меньше 16|Меньше 16
Индексаторы: максимальная нагрузка индексирования на вызов|10 000 документов|Ограничивается только максимальным числом документов|Ограничивается только максимальным числом документов|Ограничивается только максимальным числом документов
Индексаторы: максимальное время выполнения|3 минуты|24 часа|24 часа|24 часа
Индексатор BLOB-объектов: максимальный размер BLOB-объектов в МБ|16|16|128|256
Индексатор BLOB-объектов: максимальное число символов в содержимом, извлеченном из BLOB-объекта|32 000|64 000|4 млн|4 млн

<sup>1</sup> Уровень "Базовый" — единственный уровень с нижним пределом, составляющим 100 полей на индекс.

<sup>2</sup> Максимальный размер документа при вызове API индекса. Фактически размер документа ограничивает размер текста запроса API индекса. Так как пакет из нескольких документов можно передать в API индекса за один раз, предельный размер зависит от того, сколько документов находится в пакете. Для пакета с одним документом максимальный размер документа будет 16 МБ данных JSON.

Чтобы уменьшить размер документа, не забудьте исключить из запроса недоступные для запроса данные. Образы и другие двоичные данные не запрашиваются напрямую и не должны храниться в индексе. Чтобы добавить в результаты поиска недоступные для запроса данные, определите поле, недоступное для поиска, в котором хранится ссылка на URL-адрес ресурса.

## Ограничения рабочей нагрузки (запросов в секунду) ##

Ресурс|Бесплатно|"Базовый" (предварительная версия) |S1|S2
---|---|---|---|----
Число запросов в секунду|Недоступно|~3 на реплику|~15 на реплику|~60 на реплику

Число запросов в секунду (QPS) определяется приблизительно, в зависимости от эвристики, с использованием смоделированных и фактических нагрузок клиента для получения предполагаемых значений. Точная пропускная способность QPS будет зависеть от характера данных и природы запроса.

Несмотря на то, что выше приведены приблизительные значения, фактическое число запросов в секунду (QPS) трудно определить, особенно для общей службы категории "Бесплатный", где пропускная способность основана на доступной пропускной способности и конкуренции за системные ресурсы. Вычислительные ресурсы и ресурсы хранилища, поддерживающие общую службу, используют несколько подписчиков. Таким образом, значение QPS для вашего решения всегда будет зависеть от количества выполняемых одновременно рабочих нагрузок.

Для категории "Стандартный" можно точнее оценить QPS, так как вы можете контролировать больше параметров. См. раздел рекомендаций в статье [Управление решением поиска](search-manage.md), чтобы ознакомиться с указаниями по вычислению QPS рабочих нагрузок.

## Ограничения запроса API

- Максимум 16 МБ на один запрос <sup>1</sup>
- Максимальная длина URL-адреса — 8 КБ.
- Максимум 1000 документов на одну операцию загрузки индексов, объединения или удаления.
- Максимум 32 поля в предложении $orderby.
- Максимальный размер поискового запроса — 32 766 байт (32 КБ минус 2 байта) текста в кодировке UTF-8.

<sup>1</sup> В Поиске Azure размер текста запроса должен быть не больше 16 МБ. Это накладывает фактическое ограничение на отдельные поля или коллекции, для которых теоретические ограничения не установлены (дополнительные сведения о составе и ограничениях полей см. в разделе [Поддерживаемые типы данных](https://msdn.microsoft.com/library/azure/dn798938.aspx)).

## Ограничения ответа API

- Максимум 1000 документов на одну страницу результатов поиска.
- Максимум 100 предложений на один запрос API предложений.

## Ограничения ключа API

Ключи API используются для проверки подлинности в службе. Существует два типа ключей. Ключи администратора указываются в заголовке запроса и предоставляют доступ к службе на чтение и запись. Ключи запросов доступны только для чтения, они указываются в URL-адресе и обычно передаются в клиентские приложения.

- Максимум 2 ключа администратора на одну службу.
- Максимум 50 ключей запросов на одну службу.

<!---HONumber=AcomDC_0601_2016-->