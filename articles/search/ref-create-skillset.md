---
title: Создание набора навыков (REST api-version=2017-11-11-Preview) — "Поиск Azure" | Документы Майкрософт
description: Набор навыков — это совокупность когнитивных навыков, которые составляют конвейер обогащения.
services: search
manager: pablocas
author: luiscabrer
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: language-reference
ms.date: 05/01/2018
ms.author: luisca
ms.openlocfilehash: a5277d4137ede5fe6dacf993413eefd7c9e46ad4
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
ms.locfileid: "33786913"
---
# <a name="create-skillset-api-version2017-11-11-preview"></a>Создание набора навыков (api-version=2017-11-11-Preview)

**Область применения:** api-version-2017-11-11-Preview

Набор навыков — это совокупность когнитивных навыков, используемых для обработки на естественном языке и других преобразований. Навыки включают, среди прочего, извлечение именованных сущностей, извлечение ключевых фраз, фрагментирование текста в логические страницы.

Чтобы использовать набор навыков, сошлитесь на него в индексаторе Поиска Azure, а затем запустите индексатор для импорта данных, вызова преобразований и обогащения и сопоставьте выходные поля с индексом. Набор навыков — это высокоуровневый ресурс, однако он работает только в рамках обработки индексатора. Как высокоуровневый ресурс набор навыков можно разработать один раз, а затем ссылаться на него в нескольких индексаторах. 

Набор навыков выражается в Поиске Azure через запрос HTTP PUT или POST. Для PUT тело запроса представляет собой схему JSON, которая определяет, какие навыки вызываются. Навыки соединяются в цепочку посредством ассоциаций ввода-вывода, где выходные данные одного преобразования становятся входными для другого.

В наборе навыков должен быть хотя бы один навык. Теоретическое ограничение на максимальное число навыков отсутствует, однако типичная конфигурация содержит от трех до пяти навыков.  


> [!NOTE]
> Когнитивный поиск доступен в общедоступной предварительной версии. Выполнение набора навыков сейчас предоставляется бесплатно. Цена на эту функцию будет объявлена позже.

```http  
PUT https://[servicename].search.windows.net/skillsets/[skillset name]?api-version=2017-11-11-Preview
api-key: [admin key]
Content-Type: application/json
```  

## <a name="request"></a>Запрос  
 Все запросы к службе отправляются по протоколу HTTPS. Запрос на **создание набора навыков** можно составить с помощью метода PUT, при этом имя набора навыков является частью URL-адреса. Если такой набор навыков не существует, он будет создан. Если он уже есть, его определение будет обновлено. Обратите внимание, что вы можете обработать с помощью PUT только один набор навыков за раз.  

 Имя набора навыков должно отвечать следующим требованиям:

- содержать только строчные буквы;
- начинаться и заканчиваться буквой или цифрой;
- не содержать символы косой черты или точки;
- содержать меньше 128 символов. 

Начиная со второго символа имя может содержать буквы, цифры и дефисы (однако последовательности из двух или большего числа дефисов запрещены).  

Параметр **api-version** является обязательным. Доступна только версия `2017-11-11-Preview`. Список всех версий см. в разделе [Версии API в службе поиска Azure](https://go.microsoft.com/fwlink/?linkid=834796). 


### <a name="request-headers"></a>Заголовки запросов  

 Таблица ниже содержит обязательные и необязательные заголовки запроса.  

|Заголовок запроса|ОПИСАНИЕ|  
|--------------------|-----------------|  
|*Content-Type:*|Обязательный элемент. Для этого заголовка необходимо задать значение `application/json`|  
|*api-key:*|Обязательный элемент. Заголовок `api-key` используется для проверки подлинности запроса в службе поиска. Это уникальное строковое значение, присваиваемое службе. Запрос на **создание набора навыков** должен содержать заголовок `api-key` со значением ключа администратора (а не ключа запроса).|  

Для формирования URL-адреса запроса также требуется имя службы. Имя и `api-key` можно найти в панели мониторинга службы на портале Azure. Дополнительные сведения о навигации по страницам см. в статье, посвященной [созданию службы поиска на портале](search-create-service-portal.md).  

### <a name="request-body-syntax"></a>Синтаксис текста запроса  

Текст запроса содержит определение набора навыков, состоящее из одного или нескольких полностью заданных навыков, а также необязательных параметров имени и описания.  

Ниже описан синтаксис полезных данных запроса. Пример запроса приведен ниже в этой статье, а также в разделе [Определение набора навыков](cognitive-search-defining-skillset.md).  

```
{   
    "name" : "Required for POST, optional for PUT. Friendly name of the skillset",  
    "description" : "Optional. Anything you want, or null",  
    "Skills" : "Required. An array of skills. Each skill has an odata.type, name, input and output parameters",  
}  
```

### <a name="request-example"></a>Пример запроса
 Следующий пример создает набор навыков, используемый для обогащения коллекции финансовых документов.

```http
PUT https://[servicename].search.windows.net/skillsets/financedocenricher?api-version=2017-11-11-Preview
api-key: [admin key]
Content-Type: application/json
```

Текст запроса является документом JSON. Данный конкретный набор навыков использует два навыка асинхронно, независимо обрабатывая содержимое `contents` как два различных преобразования. Кроме того, можно сделать выходные данные одного преобразования входными для другого. Дополнительные сведения см. в разделе [Определение набора навыков](cognitive-search-defining-skillset.md).

```json
{
  "name": "financedocenricher",
  "description": 
  "Extract sentiment from financial records, extract company names, and then find additional information about each company mentioned.",
  "skills":
  [
    {
      "@odata.type": "#Microsoft.Skills.Text.NamedEntityRecognitionSkill",
      "categories": [ "Organization" ],
      "defaultLanguageCode": "en",
      "inputs": [
        {
          "name": "text",
          "source": "/document/content"
        }
      ],
      "outputs": [
        {
          "name": "organizations",
          "targetName": "organizations"
        }
      ]
    },
    {
      "@odata.type": "#Microsoft.Skills.Text.SentimentSkill",
      "inputs": [
        {
          "name": "text",
          "source": "/document/content"
        }
      ],
      "outputs": [
        {
          "name": "score",
          "targetName": "mySentiment"
        }
      ]
    },
  ]
}
```

## <a name="response"></a>Ответ  

 При успешном выполнении запроса возвращается код состояния 201 (создан).  

 По умолчанию текст ответа содержит объект JSON для созданного определения набора данных. Однако если заголовок запроса Prefer содержит значение return=minimal, текст ответа будет пустым, а код состояния вместо значения "201 — создан" принимает значение "204 — нет содержимого". При этом не играет роли, какой запрос (PUT или POST) используется для создания набора навыков.   

## <a name="see-also"></a>См. также

+ [Обзор когнитивного поиска](cognitive-search-concept-intro.md)
+ [Краткое руководство: знакомство с когнитивным поиском](cognitive-search-quickstart-blob.md)
+ [Руководство: обогащенное индексирование больших двоичных объектов Azure](cognitive-search-tutorial-blob.md)
+ [Определение набора навыков](cognitive-search-defining-skillset.md)
+ [Сопоставление полей](cognitive-search-output-field-mapping.md)
+ [Определение настраиваемого интерфейса](cognitive-search-custom-skill-interface.md)
+ [Пример создания пользовательского навыка](cognitive-search-create-custom-skill-example.md)
+ [Предопределенные навыки](cognitive-search-predefined-skills.md)