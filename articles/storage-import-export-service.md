<properties urlDisplayName="Azure Import/Export Service" pageTitle="Использование службы экспорта и импорта для передачи данных BLOB-объектов в хранилище Microsoft Azure" metaKeywords="" description="Learn how to create import and export jobs in the Azure Management Portal to transfer data to blob storage." metaCanonical="" disqusComments="1" umbracoNaviHide="0" title="Using the Azure Import/Export Service to Transfer Data to Blob Storage" authors="tamram" manager="adinah" />

<tags ms.service="storage" ms.workload="storage" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="11/25/2014" ms.author="tamram" />


# Использование службы импорта и экспорта Azure для передачи данных в хранилище BLOB-объектов

Службу импорта и экспорта Azure можно использовать для передачи больших объемов данных файлов в хранилище BLOB-объектов Azure в случаях, когда затраты на передачу по сети слишком высоки или такая передача не представляется возможной. Служба импорта и экспорта можно также использовать для экономичной передачи больших объемов данных, находящихся в хранилище BLOB-объектов, на локальные ресурсы.

Для передачи больших объемов данных файлов в хранилище BLOB-объектов можно переслать один или несколько жестких дисков с нужными данными в центр обработки данных Azure, где данные будут загружены в вашу учетную запись хранения. Аналогичным образом для экспорта данных из хранилища BLOB-объектов можно отправить в центр обработки данных Azure пустые жесткие диски, после чего на них будут скопированы BLOB-данные из вашей учетной записи хранения и диски будут возвращены. Прежде чем отправить диск, содержащий данные, необходимо зашифровать данные на диске на диске; при экспорте службой импорта и экспорта ваших данных они также будут зашифрованы перед отправкой.

Можно создавать и управлять заданиями импорта и экспорта одним из двух способов:

- с помощью портала управления Azure.
- с помощью интерфейса REST службы.

В этой статье представлен обзор службы импорта и экспорта, а также описано, как использовать портал управления для работы со службой импорта и экспорта. Информацию об интерфейсе REST API см. в разделе [Справка по интерфейсу REST API службы импорта и экспорта Azure](http://go.microsoft.com/fwlink/?LinkID=329099).

## Обзор службы импорта и экспорта

Чтобы начать процесс импорта или экспорта из хранилища больших двоичных объектов, необходимо сначала создать задание. Заданием может являться задание импорта или задание экспорта:

- Создайте задание импорта, если необходимо передать локальные данные в BLOB-объекты, которые содержатся в вашей учетной записи хранения Azure.
- Создайте задание экспорта, если необходимо передать данные, которые в настоящее время хранятся в BLOB-объектах вашей учетной записи хранения, на отправленные вам жесткие диски.

При создании задания вы уведомляете службу импорта и экспорта о том, что отправите один или несколько жестких дисков в центр обработки данных Azure. При создании задания импорта необходимо отправить жесткие диски, содержащие файлы данных. При создании задания экспорта необходимо отправить пустые жесткие диски.

Чтобы подготовить диск для отправки в рамках задания импорта, необходимо запустить **средство импорта и экспорта Microsoft Azure**, которое облегчает копирование данных на диск, шифрование данных на диске с использованием BitLocker и создание файлов журналов для дисков, что обсуждается ниже.

<div class="dev-callout">
<strong>Примечание.</strong>
<p>Данные на диске должны быть зашифрованы с помощью технологии шифрования дисков BitLocker. Это защитит данные во время пересылки. В рамках задания экспорта служба импорта и экспорта зашифрует данные перед отправкой диска на ваш адрес.</p>
</div>

При создании задания импорта или экспорта также понадобится идентификатор диска, который является серийным номером, предоставленным производителем для определенного жесткого диска. Идентификатор отображается на внешней стороне диска. 

<h3>Требования и область применения</h3>

1.	**Учетные записи подписки и хранения:** для использования службы импорта и экспорта необходимо иметь существующую подписку Azure, а также одну или несколько учетных записей хранения. Каждое задание может использоваться для обмена данными только с одной учетной записью хранения. Другими словами задание не может распространяться на несколько учетных записей хранения. Информацию о создании новой учетной записи хранения см. в разделе [Создание учетной записи хранения].(../storage-create-storage-account/).
2.	**Жесткие диски:** для использования в рамках службы импорта и экспорта поддерживаются только 3,5-дюймовые жесткие диски SATA II/III. Жесткие диски с емкостью более 4 ТБ не поддерживаются. В заданиях импорта на диске будет обрабатываться только первый том данных. Том с данными должен быть отформатирован в NTFS. Диск SATA II/III можно подключить как внешний диск к большинству компьютеров, используя для этого адаптер SATA II/III - USB.
3.	**Шифрование BitLocker:** все данные, сохраненные на жестких дисках, должны быть зашифрованы с помощью технологии BitLocker с использованием ключей шифрования, защищенных цифровыми паролями.
4.	**Целевые хранилища больших двоичных объектов:** данные могут быть переданы или загружены из блоков и страниц больших двоичных объектов. 
5.	**Количество заданий:** у клиента может быть до 20 заданий на одну учетную запись хранения.
6.	**Максимальный размер задания:** размер задания определяется емкостью используемых жестких дисков и максимальным объемом данных, который может быть сохранен в учетной записи хранения. Каждое задание может содержать не более 10 жестких дисков.

## Создание задание импорта на портале управления

Создание задания импорта для службы импорта и экспорта о том, что будет отправлен один или несколько дисков с данными в центр обработки данных для последующего импорта в учетную запись хранения.

<h3>Подготовка дисков</h3>

Перед созданием задания импорта подготовьте свои диски с помощью средства импорта/экспорта Microsoft Azure. Для получения дополнительной информации о средстве импорта/экспорта Microsoft Azure см. раздел [Справочник по средству импорта и экспорта Microsoft Azure](http://go.microsoft.com/fwlink/?LinkId=329032). Вы можете скачать [средство импорта и экспорта Microsoft Azure](http://go.microsoft.com/fwlink/?LinkID=301900&clcid=0x409) в виде отдельного пакета.
  
Для подготовки дисков выполните следующие три действия. 

1.	Определите данные для импорта, а также количество дисков, которое понадобится.
2.	Определите целевые BLOB-объекты для ваших данных в службе BLOB-объектов Azure.
3.	Используйте Средство импорта/экспорта Microsoft Azure для копирования данных на один или несколько жестких дисков.

Средство импорта и экспорта Microsoft Azure создает файл журнала диска для каждого диска по мере его подготовки. Файл журнала диска хранится на локальном компьютере, а не на самом диске. Файл журнала передается при создании задания импорта. Файл журнала диска включает идентификатор диска и ключ BitLocker, а также другие сведения о диске.  

<h3>Создание задания импорта</h3>

1.	После подготовки диска перейдите к своей учетной записи хранения на портале управления и откройте панель мониторинга. В <strong>Быстрый просмотр</strong>, щелкните <strong>Создание задания импорта</strong>. 
 
2.	На шаге 1 мастера укажите, что вы подготовили диск и уже имеется доступный файл журнала.
 
3.	На шаге 2 предоставьте контактные сведения лица, ответственного за это задание импорта. Если вы хотите сохранить	подробные данные журнала для задания импорта, установите параметр <strong>Сохраните подробный журнал в контейнере большого двоичного объекта "waimportexport"</strong>.

4.	На шаге 3 передайте файлы журналов диска, полученные на этапе подготовки диска. Необходимо передать один файл для каждого подготовленного диска.

	![Create import job - Step 3][import-job-03]

5.	На шаге 4 введите описательное имя для задания импорта. Обратите внимание, что вводимое имя может содержать только строчные буквы, цифры, дефисы и подчеркивания, кроме того, оно должно начинаться с буквы и не содержать пробелов. 	Выбранное имя будет использоваться для отслеживания выполняемых заданий, а также после их завершения.

	Далее выберите регион своего центра обработки данных из списка. Регион центра обработки данных будет означать центр обработки данных, куда следует направить пакет. Дополнительные сведения см. в приведенном ниже разделе "Часто задаваемые вопросы".

6. 	На шаге 5 выберите транспортного агента из списка и введите его номер учетной записи. Майкрософт будет использовать эту учетную запись для отправки дисков вам обратно после завершения задания импорта.

	Если у вас есть номер для отслеживания отправки, выберите агента по доставке из списка и введите свой номер. 

	Если у вас пока нет номера отслеживания, выберите **Я предоставлю данные об отправке этого задания импорта после отправки посылки**, затем завершите процесс импорта.

7. Чтобы ввести номер для отслеживания после отправки пакет, вернитесь на страницу **Импорт/Экспорт** своей учетной записи хранения на портале управления, выберите задание из списка и параметр **Информация об отправке**. Просмотрите мастер и введите номер для отслеживания на шаге 2.

	Если задание находится в состоянии создания, отправки или передачи, можно также обновить номер учетной записи транспортного агента на шаге 2 мастера. После того, как задание переходит в состояние упаковки, обновить номер учетной записи транспортного агента для него нельзя. 

## Создание задания экспорта на портале управления

Создайте задание экспорта для уведомления службы импорта и экспорта о том, что вы отправите один или несколько пустых жестких дисков в центр обработке данных, чтобы данные были экспортированы из вашей учетной записи хранения на диски с последующей отправкой на ваш адрес.

1. 	Чтобы создать задание экспорта, перейдите к учетной записи хранения на портале управления и просмотрите панель мониторинга. 	В <strong>Быстрый просмотр</strong>, щелкните <strong>Создайте задания экспорта</strong> и следуйте подсказкам мастера.

2. 	На шаге 2 предоставьте контактные сведения лица, ответственного за это задание экспорта. Если вы хотите сохранить	подробные данные журнала для задания экспорта, установите параметр <strong>Сохраните подробный журнал в контейнере большого двоичного объекта "waimportexport"</strong>.

3.	На шаге 3 укажите, какие данные больших двоичных объектов необходимо экспортировать из своей учетной записи хранения на пустой диск или диски. Можно экспортировать все данные больших двоичных объектов в учетной записи хранения либо выбрать большие двоичные объекты (или их наборы).

	![Create export job - Step 3][export-job-03]

	- Чтобы указать большой двоичный объект для экспорта, используйте селектор **Равно** и укажите относительный путь к большому двоичному объекту, начиная с имени контейнера. Используйте $root для указания корневого контейнера.
	- Чтобы указать все большие двоичные объекты, которые начинаются с префикса, используйте селектор **Начинается с** и укажите префикс, которому предшествует косая черта "/". Префикс может являться префиксом имени контейнера, полным именем контейнера или полным именем контейнера с префиксом имени blob-объекта.

	В таблице приведены примеры допустимых путей к blob-объектам:

	<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
		<tbody>
			<tr>
				<td><strong>Выбор</strong></td>
				<td><strong>Путь к BLOB-объекту</strong></td>
				<td><strong>Описание</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/</td>
				<td>Экспорт всех blob-объектов в учетной записи хранения</td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/$root/</td>
				<td>Экспорт всех blob-объектов в корневом контейнере</td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/book</td>
				<td>Экспортирует все большие двоичные объекты в любом контейнере, который начинается с префикса <strong>book</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/music/</td>
				<td>Экспортирует все большие двоичные объекты в контейнере <strong>music</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/music/love</td>
				<td>Экспортирует все большие двоичные объекты в контейнере <strong>music</strong> , которые начинаются с префикса <strong>love</strong></td>
			</tr>
			<tr>
				<td>Равно</td>
				<td>$root/logo.bmp</td>
				<td>Экспортирует большие двоичные объекты <strong>logo.bmp</strong> в корне контейнера</td>
			</tr>
			<tr>
				<td>Равно</td>
				<td>videos/story.mp4</td>
				<td>Экспортирует большие двоичные объекты <strong>story.mp4</strong> в контейнере <strong>videos</strong></td>
			</tr>
		</tbody>
	</table>


4.	На шаге 4 введите описательное имя для задания экспорта. Обратите внимание, что вводимое имя может содержать только строчные буквы, цифры, дефисы и подчеркивания, кроме того, оно должно начинаться с буквы и не содержать пробелов.

	Регион центра обработки данных будет означать центр обработки данных, куда следует направить посылку. Дополнительные сведения см. в приведенном ниже разделе "Часто задаваемые вопросы".

5. 	На шаге 5 выберите транспортного агента из списка и введите его номер учетной записи. Майкрософт будет использовать эту учетную запись для отправки дисков вам обратно после завершения задания экспорта.

	Если у вас есть номер для отслеживания отправки, выберите агента по доставке из списка и введите свой номер. 

	Если же у вас нет номера для отслеживания отправки, выберите <strong>Я предоставлю информацию об отправке для этого задания экспорта после отправки пакета</strong>, а затем завершите операцию экспорта.

6. Чтобы ввести номер для отслеживания после отправки пакет, вернитесь на страницу **Импорт/Экспорт** своей учетной записи хранения на портале управления, выберите задание из списка и параметр **Информация об отправке**. Просмотрите мастер и введите номер для отслеживания на шаге 2.

	Если задание находится в состоянии создания, отправки или передачи, можно также обновить номер учетной записи транспортного агента на шаге 2 мастера. После того, как задание переходит в состояние упаковки, обновить номер учетной записи транспортного агента для него нельзя. 


## Отслеживание состояние задания на портале управления

Можно отслеживать состояние задания импорта или экспорта на портале управления. Перейдите в учетную запись хранения на портале управления, затем щелкните вкладку **Импорт или экспорт**. На странице появится список заданий. Можно отфильтровать список по состоянию задания, имени задания, типу задания или номеру отслеживания.

В таблице описывается, что означает каждое обозначение состояния задания.

<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
	<tbody>
		<tr>
			<td><strong>Состояние задания</strong></td>
			<td><strong>Описание</strong></td>
		</tr>
		<tr>
			<td>Создание</td>
			<td>Ваше задание было создано, однако вы пока не предоставили данные об отправке.</td>
		</tr>
		<tr>
			<td>Отправка</td>
			<td>Ваше задание было создано, и вы предоставили данные об отправке.</td>
		</tr>
		<tr>
			<td>Передача</td>
			<td>Данные передаются с жесткого диска (для задания импорта) или на жесткий диск (для задания экспорта).</td>
		</tr>
		<tr>
			<td>Упаковка</td>
			<td>Передача данных завершена, жесткий диск подготавливается для отправки на ваш адрес.</td>
		</tr>
		<tr>
			<td>Завершено</td>
			<td>Жесткий диск был отправлен на ваш адрес.</td>
		</tr>
	</tbody>
</table>

## Просмотр ключей BitLocker для задания экспорта

Для заданий экспорта можно просмотреть и скопировать ключи BitLocker, созданные службой для вашего диска, чтобы можно было расшифровать экспортированные данные после получения дисков из центра обработки данных Azure. Перейдите в учетную запись хранения на портале управления, затем щелкните вкладку **Импорт или экспорт**. Выберите задание экспорта из списка и нажмите кнопку **Просмотреть ключи**. Ключи BitLocker отображаются, как показано ниже:

![View BitLocker keys for export job][export-job-bitlocker-keys]

## Часто задаваемые вопросы

<h3>Общие</h3>

**Как определяется цена на службу импорта и экспорта?**

- См. [страницу с информацией о ценах],(http://go.microsoft.com/fwlink/?LinkId=329033) чтобы получить информацию о ценах.

**Сколько времени уйдет на импорт или экспорт моих данных?**

- Некоторое время уйдет на поставку дисков, а также несколько часов на копирование каждого ТБ данных.
 
**Какие типы интерфейсов поддерживаются?**

- Службы импорта и экспорта поддерживают 3,5-дюймовые внутренние жесткие диски (HDD) SATA II/III Можно использовать следующие конвертеры для передачи данных на устройствах с USB на SATA перед отправкой:
	- Anker 68UPSATAA-02BU
	- Anker 68UPSHHDS-BU
	- Startech SATADOCK22UE 

> [WACOM.NOTE] Если вы используете конвертер, не указанный в списке выше, попробуйте проверить работу своего конвертера при работе со средством импорта и экспорта Microsoft Azure для подготовки диска. Если все нормально, то приобретать поддерживаемый конвертер не нужно.

**Что мне нужно делать, чтобы импортировать или экспортировать более 10 дисков?**

- В предварительной версии службы импорта и экспорта в рамках одного задания импорта или экспорта может обрабатываться только 10 дисков. Если необходимо поставить более 10 дисков, можно создать несколько заданий.

**Что произойдет, если я случайно отправлю диски HDD, которые не соответствуют требованиям поддержки?**

- Центр обработки данных Azure вернет диски, которые не соответствуют требованиям поддержки. Если только некоторые диски в посылке соответствуют требованиям поддержки, эти диски будут обработаны, а диски, не соответствующие требованиям, будут возвращены вам.

<h3>Управление заданиями импорта и экспорта</h3>

**Что произойдет с моими заданиями импорта и экспорта, если я удалю свою учетную запись хранения Azure?**

- При удалении вашей учетной записи хранения все задания импорта и экспорта Azure будут удалены вместе с вашей учетной записью.  

**Можно ли отменить свое задание?**

- Можно отменить задание, если его состояние указано как "Создание" или "Отправка".

**Как долго можно просматривать состояние выполненных заданий на портале управления?**

- Состояние выполненных заданий можно просматривать в течение 90 дней. Через 90 дней все завершенные задания будут удалены.

**Является ли шифрование Bitlocker обязательным требованием?**

- Да. Все диски должны быть зашифрованы с помощью ключа BitLocker.

**Вы форматируете диски перед их возвращением?**

- Нет. Все диски должны быть подготовлены с использованием BitLocker.

<h3>Отправка</h3>

**Работа с какими курьерскими службами поддерживается?**

- Для регионов в США и Европе поддерживается только [Federal Express](http://www.fedex.com/us/oadr/) (FedEx). Все посылки будут возвращаться только через FedEx Ground или FedEx International Economy (международный экономичный тариф).

- Для регионов Азии поддерживается только [DHL](http://www.dhl-welcome.com/Tutorial/) . Все посылки будут возвращаться через DHL Express Worldwide.

	<div class="dev-callout">
	<strong>Important</strong>
	<p>You must provide your tracking number to the Azure Import/Export service; otherwise your job cannot be processed.</p>
	</div>

**Будем ли мы нести какие-либо расходы за обратную отправку?**

- Майкрософт будет использовать учетную запись транспортного агента, которую вы указали во время создания задания для отправки дисков на ваш обратный адрес из центра обработки данных. Не забудьте указать учетную запись транспортного агента для региона ЦОД, который его поддерживает Если у вас нет учетной записи транспортного агента, вы можете создать ее, выбрав [FedEx](http://www.fedex.com/us/oadr/) (для США и Европы) или [DHL](http://www.dhl-welcome.com/Tutorial/) (для Азии).

- Стоимость обратной пересылки будет начисляться на вашу учетную запись транспортного агента в зависимости от того, с кем вы работаете.

**Откуда и куда можно пересылать свои данные?**

- Служба поддерживает импорт данных в учетные записи хранения и экспорт данных из учетных записей хранения в следующих регионах:
	- Восток США 
	- Запад США 
	- Северо-центральный регион США 
	- Южно-центральный регион США 
	- Северная Европа
	- Западная Европа
	- Восточная Азия
	- Юго-Восточная Азия

- Вам будет предоставлен почтовый адрес в регионе вашей учетной записи хранения. Например, если вы живете в США, в ваша учетная запись хранения размещена в Западной Европе, вам будет указан почтовый адрес в Западной Европе для отправки дисков.

	<div class="dev-callout">
	<strong>Важно!</strong>
	<p>Обратите внимание, что отправляемые физические носители могут пересекать международные границы. Вы несете ответственность за то, что ваши физические носители и данные импортируются и (или экспортируются в соответствии с действующим законодательством. Перед отправкой физических носителей проконсультируйтесь и удостоверьтесь, что они эти носители и данные могут быть отправлены в определенный центр обработки данных на законных основаниях. Это поможет Майкрософт своевременно получить посылку.</p>
	</div>

- При отправке пакетов должны соблюдаться условия раздела [Условия обслуживания Мicrosoft Azure](http://azure.microsoft.com/ru-ru/support/legal/services-terms/). 

**Можно ли приобрести диски для заданий импорта и экспорта у корпорации Майкрософт?**

- 	Нет. Необходимо предоставлять собственные диски для заданий импорта и экспорта.

**Что должно быть в пакете?**

- Отправляйте только жесткие диски. Не посылайте ничего другого, например, кабели питания или USB-кабели.



[import-job-03]: ./media/storage-import-export-service/import-job-03.png
[export-job-03]: ./media/storage-import-export-service/export-job-03.png
[export-job-bitlocker-keys]: ./media/storage-import-export-service/export-job-bitlocker-keys.png

<!--HONumber=35.1-->
