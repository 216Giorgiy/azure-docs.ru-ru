<properties linkid="manage-services-import-export" urlDisplayName="Служба импорта/экспорта Azure" pageTitle="Использование импорта/экспорта для передачи данных в хранилище BLOB-объектов | Microsoft Azure" metaKeywords="" description="Сведения о создании заданий импорта и экспорта на портале управления Azure для передачи данных в хранилище BLOB-объектов." metaCanonical="" disqusComments="1" umbracoNaviHide="0" title="Использование службы импорта/экспорта Azure для передачи данных в хранилище BLOB-объектов" authors="tamram" />


# Использование службы импорта и экспорта Azure для передачи данных в хранилище BLOB-объектов

Службу импорта и экспорта Azure можно использовать для передачи больших объемов данных файлов в хранилище BLOB-объектов Azure в случаях, когда затраты на передачу по сети слишком высоки или такая передача не представляется возможной. Служба импорта и экспорта можно также использовать для экономичной передачи больших объемов данных, находящихся в хранилище BLOB-объектов, на локальные ресурсы.

Для передачи больших объемов данных файлов в хранилище BLOB-объектов можно переслать один или несколько жестких дисков с нужными данными в центр обработки данных Azure, где данные будут загружены в вашу учетную запись хранения. Аналогичным образом для экспорта данных из хранилища BLOB-объектов можно отправить в центр обработки данных Azure пустые жесткие диски, после чего на них будут скопированы BLOB-данные из вашей учетной записи хранения и диски будут возвращены. Прежде чем отправить диск, содержащий данные, необходимо зашифровать данные на диске на диске; при экспорте службой импорта и экспорта ваших данных они также будут зашифрованы перед отправкой.

Можно создавать и управлять заданиями импорта и экспорта одним из двух способов:

- с помощью портала управления Azure;
- с помощью интерфейса REST службы.

В этой статье представлен обзор службы импорта и экспорта, а также описано, как использовать портал управления для работы со службой импорта и экспорта. Сведения об интерфейсе REST API см. в разделе [Справка по интерфейсу REST API службы импорта и экспорта Azure](http://go.microsoft.com/fwlink/?LinkID=329099).

## Обзор службы импорта и экспорта ##

Чтобы начать процесс импорта или экспорта из хранилища BLOB-объектов, необходимо сначала создать *задание*. Заданием может являться *задание импорта* или *задание экспорта*:

- Создайте задание импорта, если необходимо передать локальные данные в BLOB-объекты, которые содержатся в вашей учетной записи хранения Azure.
- Создайте задание экспорта, если необходимо передать данные, которые в настоящее время хранятся в BLOB-объектах вашей учетной записи хранения, на отправленные вам жесткие диски.

При создании задания вы уведомляете службу импорта и экспорта о том, что отправите один или несколько жестких дисков в центр обработки данных Azure. При создании задания импорта необходимо отправить жесткие диски, содержащие файлы данных. При создании задания экспорта необходимо отправить пустые жесткие диски.

Чтобы подготовить диск для отправки в рамках задания импорта, необходимо запустить средство **WAImportExport**, которое облегчает копирование данных на диск, шифрование данных на диске с использованием BitLocker и создание файлов журналов для дисков, что обсуждается ниже.

<div class="dev-callout">
<strong>Примечание.</strong>
<p>Данные на диске должны быть зашифрованы с помощью технологии шифрования дисков BitLocker. Это защитит данные во время пересылки. В рамках задания экспорта служба импорта и экспорта зашифрует данные перед отправкой диска на ваш адрес.</p>
</div>

При создании задания импорта или экспорта также понадобится *идентификатор диска*, который является серийным номером, назначенным производителем для определенного жесткого диска. Идентификатор отображается на внешней стороне диска. 

<h3>Требования и область применения</h3>

1.	**Учетные записи подписки и хранения.** Для использования службы импорта и экспорта необходимо иметь существующую подписку Azure, а также одну или несколько учетных записей хранения. Каждое задание может использоваться для обмена данными только с одной учетной записью хранения. Другими словами задание не может распространяться на несколько учетных записей хранения. Сведения о создании новой учетной записи хранения см. в разделе [Создание учетной записи хранения](http://www.windowsazure.com/ru-ru/manage/services/storage/how-to-create-a-storage-account/).
2.	**Жесткие диски:** Для использования в рамках службы импорта и экспорта поддерживаются только 3,5-дюймовые жесткие диски SATA II. В предварительной версии не поддерживаются жесткие диски, размер которых превышает 4 ТБ. В заданиях импорта на диске будет обрабатываться только первый том данных. Том с данными должен быть отформатирован в NTFS. Диск SATA II можно подключить как внешний диск к большинству компьютеров, используя для этого адаптер SATA II – USB.
3.	**Шифрование BitLocker:** все данные, сохраненные на жестких дисках, должны быть зашифрованы с помощью технологии BitLocker с использованием ключей шифрования, защищенных цифровыми паролями.
4.	**Целевые Blob-объекты:** данные могут быть переданы или загружены из блоков и страниц BLOB-объектов. 
5.	**Количество заданий:** у заказчика может быть до 20 заданий на одну подписку.
6.	**Максимальный размер задания:** размер задания определяется емкостью используемых жестких дисков и максимальным объемом данных, который может быть сохранен в четной записи хранения. Каждое задание может содержать не более 10 жестких дисков.

## Создание задание импорта на портале управления##

Создание задания импорта для службы импорта и экспорта о том, что будет отправлен один или несколько дисков с данными в центр обработки данных для последующего импорта в учетную запись хранения.

<h3>Подготовка дисков</h3>

Перед созданием задания импорта подготовьте свои диски с помощью средства [WAImportExport](http://go.microsoft.com/fwlink/?LinkID=301900&clcid=0x409) Дополнительные сведения об использовании средства WAImportExport см. в [справке по средству WAImportExport](http://go.microsoft.com/fwlink/?LinkId=329032).
  
Для подготовки дисков выполните следующие три действия. 

1.	Определите данные для импорта, а также количество дисков, которое понадобится.
2.	Определите целевые BLOB-объекты для ваших данных в службе BLOB-объектов Azure.
3.	Используйте средство WAImportExport для копирования данных на один или несколько жестких дисков.

Средство WAImportExport создает файл *журнала диска* для каждого диска по мере его подготовки. Файл журнала диска хранится на локальном компьютере, а не на самом диске. Файл журнала передается при создании задания импорта. Файл журнала диска включает идентификатор диска и ключ BitLocker, а также другие сведения о диске.  

<h3>Создание задания импорта</h3>

1.	После подготовки диска перейдите к своей учетной записи хранения на портале управления и просмотрите 	панель мониторинга. В разделе <strong>Сводка</strong>, щелкните <strong>Создать задание импорта</strong> 
 
2.	На шаге 1 мастера укажите, что вы подготовили диск и уже имеется доступный файл журнала 	диска.
 
3.	На шаге 2 предоставьте контактные сведения лица, ответственного за это задание импорта. Если необходимо сохранить 	подробные данные журнала задания импорта, установите флажок <strong>Сохранить подробный журнал в контейнере blob-объектов 	waimportexport</strong>.

4.	На шаге 3 передайте файлы журналов диска, полученные на этапе подготовки диска. Необходимо будет 	передать один файл для каждого подготовленного диска.

	![Создание задания импорта - шаг 3][import-job-03]

5.	На шаге 4 введите описательное имя для задания импорта. Обратите внимание, что введенное имя может содержать только 	строчные буквы, цифры, дефисы и подчеркивания, кроме того, оно должно начинаться с буквы и не содержать пробелов. 	Выбранное имя будет использоваться для отслеживания выполняемых заданий, а также после их завершения.

	Регион центра обработки данных будет означать центр обработки данных, куда следует направить посылку. Дополнительные сведения см. в приведенном ниже разделе &quot;Часто задаваемые вопросы&quot;.

	Если у вас уже имеется номер отслеживания FedEx, выберите пункт <strong>У меня есть номер отслеживания, я хочу его ввести</strong>, затем перейдите к следующему шагу. Если у вас пока нет номера отслеживания, выберите <strong>Я предоставлю данные об отправке этого задания импорта после отправки посылки</strong>, затем завершите процесс импорта.

6. 	Если у вас уже есть номер отслеживания, на шаге 5 введите номер отслеживания и подтвердите его. 

## Создание задание экспорта на портале управления##

Создайте задание экспорта для уведомления службы импорта и экспорта о том, что вы отправите один или несколько пустых жестких дисков в центр обработке данных, чтобы данные были экспортированы из вашей учетной записи хранения на диски с последующей отправкой на ваш адрес.

1. 	Чтобы создать задание экспорта, перейдите к учетной записи хранения на портале управления и просмотрите панель мониторинга. 	В разделе <strong>Сводка</strong> щелкните <strong>Создать задание экспорта</strong> и выполните действия 	мастера.

2. 	На шаге 2 предоставьте контактные сведения лица, ответственного за это задание экспорта. Если необходимо сохранить 	подробные данные журнала задания экспорта, установите флажок <strong>Сохранить подробный журнал в контейнере blob-объектов 	waimportexport</strong>.

3.	На шаге 3 укажите, какие данные BLOB-объектов необходимо экспортировать из своей учетной записи хранения на пустой диск 	или несколько дисков. Можно экспортировать все данные blob-объектов в учетной записи хранения или выбрать blob-объекты 	или 	наборы blob-объектов для экспорта.

	![Создание задания экспорта - шаг 3][export-job-03]

	- Чтобы указать blob-объект для экспорта, используйте селектор **Равно** и укажите относительный путь к blob-объекту, начиная с имени контейнера. Используйте *$root* для указания корневого контейнера.
	- Чтобы указать все blob-объекты, начинающиеся с префикса, используйте селектор **Начинается с** и укажите префикс, которому предшествует косая черта &quot;/&quot;. Префикс может являться префиксом имени контейнера, полным именем контейнера или полным именем контейнера с префиксом имени blob-объекта.

	В таблице приведены примеры допустимых путей к blob-объектам:

	<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
		<tbody>
			<tr>
				<td><strong>Выбор</strong></td>
				<td><strong>Путь к BLOB-объекту</strong></td>
				<td><strong>Описание</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/</td>
				<td>Экспорт всех blob-объектов в учетной записи хранения</td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/$root/</td>
				<td>Экспорт всех blob-объектов в корневом контейнере</td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/book</td>
				<td>Экспортирует все blob-объекты в любом контейнере, который начинается с префикса <strong>book</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/music/</td>
				<td>Экспортирует все blob-объекты в контейнере <strong>music</strong></td>
			</tr>
			<tr>
				<td>Начинается с</td>
				<td>/music/love</td>
				<td>Экспортирует все blob-объекты в контейнере <strong>music</strong>, которые начинаются с префикса <strong>love</strong></td>
			</tr>
			<tr>
				<td>Равно</td>
				<td>$root/logo.bmp</td>
				<td>Экспортирует blob-объект <strong>logo.bmp</strong> в корневом контейнере</td>
			</tr>
			<tr>
				<td>Равно</td>
				<td>videos/story.mp4</td>
				<td>Экспортирует blob-объект <strong>story.mp4</strong> в контейнере <strong>videos</strong></td>
			</tr>
		</tbody>
	</table>


4.	На шаге 4 введите описательное имя для задания экспорта. Введенное имя может содержать только строчные буквы 	буквы, цифры, дефисы и подчеркивания, кроме того, оно должно начинаться с буквы и не содержать пробелов.

	Регион центра обработки данных будет означать центр обработки данных, куда следует направить посылку. Дополнительные сведения см. в приведенном ниже разделе &quot;Часто задаваемые вопросы&quot;.

	Если у вас уже имеется номер отслеживания FedEx, выберите пункт <strong>У меня есть номер отслеживания, я хочу его ввести</strong>, затем перейдите к следующему шагу. Если у вас пока нет номера отслеживания, выберите <strong>Я предоставлю данные об отправке этого задания экспорта после отправки посылки</strong>, затем завершите процесс импорта.

5. На шаге 5 введите номер отслеживания, затем подтвердите его. 


## Отслеживание состояние задания на портале управления##

Можно отлеживать состояние задания импорта или экспорта на портале управления. Перейдите в учетную запись хранения на портале управления, затем щелкните вкладку **Импорт или экспорт**. На странице появится список заданий. Можно отфильтровать список по состоянию задания, имени задания, типу задания или номеру отслеживания.

В таблице описывается, что означает каждое обозначение состояния задания.

<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
	<tbody>
		<tr>
			<td><strong>Состояние задания</strong></td>
			<td><strong>Описание</strong></td>
		</tr>
		<tr>
			<td>Создание</td>
			<td>Ваше задание было создано, однако вы пока не предоставили данные об отправке.</td>
		</tr>
		<tr>
			<td>Отправка</td>
			<td>Ваше задание было создано, и вы предоставили данные об отправке.</td>
		</tr>
		<tr>
			<td>Передача</td>
			<td>Данные передаются с жесткого диска (для задания импорта) или на жесткий диск (для задания экспорта).</td>
		</tr>
		<tr>
			<td>Упаковка</td>
			<td>Передача данных завершена, жесткий диск подготавливается для отправки на ваш адрес.</td>
		</tr>
		<tr>
			<td>Завершено</td>
			<td>Жесткий диск был отправлен на ваш адрес.</td>
		</tr>
	</tbody>
</table>

## Просмотр ключей BitLocker для задания экспорта ##

Для заданий экспорта можно просмотреть и скопировать ключи BitLocker, созданные службой для вашего диска, чтобы можно было расшифровать экспортированные данные после получения дисков из центра обработки данных Azure. Перейдите в учетную запись хранения на портале управления, затем щелкните вкладку **Импорт или экспорт**. Выберите задание экспорта из списка и нажмите кнопку **Просмотреть ключи**. Ключи BitLocker отображаются, как показано ниже:

![Просмотр ключей BitLocker для задания экспорта][export-job-bitlocker-keys]

## Часто задаваемые вопросы ##

<h3>Общие</h3>

**Как определяется цена на службу импорта и экспорта?**

- Сведения о ценах см. на [странице цен](http://go.microsoft.com/fwlink/?LinkId=329033).

**Сколько времени уйдет на импорт или экспорт моих данных?**

- Некоторое время уйдет на поставку дисков, а также несколько часов на копирование каждого ТБ данных.
 
**Какие типы интерфейсов поддерживаются?**

- Службы импорта и экспорта поддерживают 3,5-дюймовые жесткие диски (HDD). Можно использовать следующие конвертеры для передачи данных на устройствах с USB на SATA перед отправкой:
	- Anker 68UPSATAA-02BU 	- Anker 68UPSHHDS-BU 	- Startech SATADOCK22UE 

**Что мне нужно делать, чтобы импортировать или экспортировать более 10 дисков?**

- В предварительной версии службы импорта и экспорта в рамках одного задания импорта или экспорта может обрабатываться только 10 дисков. Если необходимо поставить более 10 дисков, можно создать несколько заданий.

**Что произойдет, если я случайно отправлю диски HDD, которые не соответствуют требованиям поддержки?**

- Центр обработки данных Azure вернет диски, которые не соответствуют требованиям поддержки. Если только некоторые диски в посылке соответствуют требованиям поддержки, эти диски будут обработаны, а диски, не соответствующие требованиям, будут возвращены вам.

<h3>Управление заданиями импорта и экспорта</h3>

**Что произойдет с моими заданиями импорта и экспорта, если я удалю свою учетную запись хранения Azure?**

- При удалении вашей учетной записи хранения все задания импорта и экспорта Azure будут удалены вместе с вашей учетной записью.  

**Можно ли отменить свое задание?**

- Можно отменить задание, если его состояние указано как &quot;Создание&quot; или &quot;Отправка&quot;.

**Как долго можно просматривать состояние выполненных заданий на портале управления?**

- Состояние выполненных заданий можно просматривать в течение 90 дней. Через 90 дней все завершенные задания будут заархивированы.  Если необходимо получить состояние завершенного задания после 90 дней, следует обратиться в службу поддержки клиентов.

<h3>Отправка</h3>

**Работа с какими курьерскими службами поддерживается?**

- 	При использовании предварительной версии поддерживается работа только с Federal Express (FedEx).
- 	Посылки для задания импорта могут быть отправлены через службу FedEx Express или FedEx Ground.
- 	Все посылки будут возвращаться только через FedEx Ground.

	<div class="dev-callout">
	<strong>Важно!</strong>
	<p>Необходимо предоставить номер отслеживания для службы импорта и экспорта Azure; в противном случае задание не будет обработано.</p>
	</div>

**Будем ли мы нести какие-либо расходы за обратную отправку?**

- При работе с предварительной версией обратная отправка осуществляется бесплатно.

**Откуда и куда можно пересылать свои данные?**

- Служба импорта и экспорта может только принимать посылки, которые <strong>были отправлены</strong>из США, и будет возвращать посылки только на адреса в США. Служба поддерживает импорт данных в учетные записи хранения и экспорт данных из учетных записей хранения в следующих регионах:
	- Восток США 
	- Запад США 
	- Северо-центральный регион США 
	- Южно-центральный регион США 
	- Северная Европа
	- Западная Европа
	- Восточная Азия
	- Юго-Восточная Азия

- Если ваша учетная запись хранения находится в центре обработки данных на территории США, вам может понадобиться отправить диски в центр обработки данных, расположенный в другом регионе, так как не все центры обработки данных поддерживают в настоящее время службу импорта и экспорта. С вас может взиматься дополнительная плата, если ваше задание обрабатывается в регионе, отличном от региона размещения вашей учетной записи хранения.

- Если ваша учетная запись хранения размещена в центре обработки данных, расположенном на территории Европы или Азии, необходимо отправить диски в один из поддерживаемых регионов на территории США и только с территории США. После этого служба импорта и экспорта скопирует данные в вашу учетную запись хранения в Европе или Азии или скопирует данные из вашей учетной записи.  
	- При выполнении задания импорта дополнительная плата за копирование не взимается.
	- При выполнении задания экспорта будут взиматься сборы за передачу данных при копировании данных между центрами обработки данных Azure. Например, если ваша учетная запись хранения размещена в Западной Европе и вы отправляете диск в центр обработки данных, расположенный в восточном регионе США, вы должны будете оплатить перенос данных из Западной Европы в восточный регион США для их последующего экспорта.

	<div class="dev-callout">
	<strong>Важно!</strong>
	<p>Центры обработки данных Azure не могут принимать диски, отправленные с территорий за пределами США, и не будут осуществлять доставку этих посылок.</p>
	</div>

**Можно ли приобрести диски для заданий импорта и экспорта у корпорации Майкрософт?**

- 	Нет. Необходимо предоставлять собственные диски для заданий импорта и экспорта.

<h3>Безопасность</h3>

**Является ли шифрование Bitlocker обязательным требованием?**

- Да. Все диски должны быть зашифрованы с помощью ключа BitLocker.

**Вы форматируете диски перед их возвращением?**

- Нет. Все диски должны быть подготовлены с использованием BitLocker.


[import-job-03]: ./media/storage-import-export-service/import-job-03.png [export-job-03]: ./media/storage-import-export-service/export-job-03.png [export-job-bitlocker-keys]: ./media/storage-import-export-service/export-job-bitlocker-keys.png 
