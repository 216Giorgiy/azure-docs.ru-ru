<properties 
	pageTitle="Использование тегов для организации ресурсов в Azure" 
	<MORAVIA_NOTRANSLATE></MORAVIA_NOTRANSLATE> 
	services="" 
	documentationCenter="" 
	authors="flanakin" 
	writer="" 
	manager="carolz" 
	editor=""/>

<tags 
	ms.service="multiple" 
	ms.workload="multiple" 
	ms.tgt_pltfrm="ibiza" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="10/08/2014" 
	ms.author="micflan"/>


# Использование тегов для организации ресурсов в Azure

Предварительная версия портала Azure и лежащий в ее основе диспетчер ресурсов позволяют организовать ваши ресурсы и настроить взаимодействие наиболее подходящим для вас образом. 

Единственным способом упорядочивания и группировки ваших ресурсов в полной версии портала Azure являются подписки. В предварительной версии портала [мы представили группы ресурсов](http://azure.microsoft.com/documentation/articles/azure-preview-portal-using-resource-groups), которые позволяют группировать связанные сущности. Это стало еще более актуальным после того, как [мы предложили доступ на основе ролей](http://azure.microsoft.com/documentation/articles/role-based-access-control-configure). Сейчас вы можете таким же образом помечать тегами ресурсы с помощью пар "ключ-значение" для дальнейшего упорядочивания и просмотра ресурсов в группах ресурсов, на портале или в подписках.

Группировка ресурсов по командам, проектам или даже среде позволит вам сфокусировать внимание на необходимой информации. 


## Теги в предварительной версии портала Azure

Маркировка ресурсов и групп ресурсов в предварительной версии портала выполняется очень просто. Используйте узел "Обзор" для перехода к ресурсу или группе ресурсов, которые вы хотите отметить тегами, и щелкните "Теги" в разделе "Обзор" в верхней части модуля. 

![Tags part on resource and resource group blades](./media/azure-preview-portal-using-tags/rgblade.png)

После этого откроется модуль со списком уже примененных тегов. Если это ваш первый тег, список будет пустым. Для добавления тега укажите имя и значение, а затем нажмите клавишу ВВОД. Добавив несколько тегов, вы заметите варианты автозаполнения на основании уже существующих имен и значений тегов, которые помогают обеспечить согласованность таксономии в ваших ресурсах и избежать распространенных ошибок, например опечаток.

![Tag resources with name/value pairs](./media/azure-preview-portal-using-tags/tag-resources.png)

Здесь можно щелкнуть каждый отдельный тег для просмотра списка всех ресурсов с таким же тегом. Конечно, если это ваш первый тег, этот список будет не очень информативным. Теперь давайте перейдем к PowerShell, чтобы быстро разметить тегами все ресурсы.


## Маркировка с помощью PowerShell

Сначала необходимо скачать последнюю версию модуля [Azure PowerShell](http://azure.microsoft.com/documentation/articles/install-configure-powershell/). Если вы впервые используете модуль Azure PowerShell, ](http://azure.microsoft.com/documentation/articles/install-configure-powershell) для быстрого начала работы. В данной статье будем считать, что вы уже добавили учетную запись и выбрали подписку и ресурсы, которые необходимо промаркировать.

Маркировка возможна только для ресурсов и групп ресурсов, доступных в [диспетчере ресурсов](http://msdn.microsoft.com/library/azure/dn790568.aspx), поэтому следующим шагом будет переключение на работу с диспетчером ресурсов. Подробнее см. в разделе [Использование Windows PowerShell с диспетчером ресурсов](http://azure.microsoft.com/documentation/articles/powershell-azure-resource-manager/).

  Switch-AzureMode AzureResourceManager

Тэги находятся непосредственно в ресурсах или группах ресурсов, поэтому для просмотра примененных тегов мы можем просто выбрать ресурс или группу ресурсов с `Get-AzureResource` или с `Get-AzureResourceGroup` соответственно. Давайте начнем с группы ресурсов.

![Getting tags with Get-AzureResourceGroup in PowerShell](./media/azure-preview-portal-using-tags/Get-AzureResourceGroup-in-PowerShell.png)

Этот командлет возвращает небольшой объем метаданных о группе ресурсов, включая информацию о примененных тегах, если они есть. Для маркировки группы ресурсов мы просто будем использовать `Set-AzureResourceGroup`  и указывать имя и значение тега.

![Setting tags with Set-AzureResourceGroup in PowerShell](./media/azure-preview-portal-using-tags/Set-AzureResourceGroup-in-PowerShell.png)

Помните, что теги обновляются полностью, так что при добавлении одного тега к ресурсу, который уже содержит теги, вам потребуется использовать массив для сохранения всех необходимых тегов. Для удаления какого-либо тега достаточно сохранить массив без него. 

Этот процесс аналогичен процессу для ресурсов, за исключением того, что следует использовать командлеты `Get-AzureResource` и `Set-AzureResource`. Для доступа к ресурсу или группе ресурсов с определенным тегом используйте командлеты `Get-AzureResource`  или  `Get-AzureResourceGroup` с параметром `-Tag`.

![Getting tagged resources and resource groups with Get-AzureResource and Get-AzureResourceGroup in PowerShell](./media/azure-preview-portal-using-tags/Get-AzureResourceGroup-with-tags-in-PowerShell.png)


## Маркировка с помощью диспетчера ресурсов

Как предварительная версия портала, так и PowerShell неявно используют [диспетчер ресурсов REST API](http://msdn.microsoft.com/library/azure/dn790568.aspx). Если требуется интегрировать теги в другую среду, их можно получить с помощью метода GET по идентификатору ресурса и обновить набор тегов с помощью вызова метода PATCH.</cf>


## Управление таксономией

Ранее мы обсудили, как автозаполнение помогает обеспечить согласованность и избежать ошибок. Автозаполнение осуществляется на основе таксономии тегов, доступных в пределах подписки. Каждый тег, присваиваемый ресурсу или группе ресурсов, автоматически добавляется к общей таксономии в пределах подписки. Вы также можете предварительно заполнить эту таксономию именами тегов, которые будут использоваться в дальнейшем для маркировки ресурсов.</cf>

Чтобы получить список всех тегов в подписке с помощью PowerShell, используйте командлет `Get-AzureTag`.

![Get-AzureTag in PowerShell](./media/azure-preview-portal-using-tags/Get-AzureTag-in-PowerShell.png)


Вы можете увидеть теги, начинающиеся с hidden- и link:. Это внутренние теги, которые вы должны игнорировать. Изменять их не следует. 

С помощью командлета `New-AzureTag` можно добавлять новые теги в таксономию. Эти теги будут включены в автозаполнение, даже если они еще не были применены для ресурсов или групп ресурсов. Чтобы удалить имя или значение тэга, сначала необходимо удалить тег из всех ресурсов, в которых он может находиться, а затем использовать командлет `Remove-AzureTag` для удаления тега из таксономии.

Для просмотра таксономии тегов на портале используйте узел "Обзор" для просмотра всех элементов, а затем выберите "Теги".

![Find tags via the Browse hub](./media/azure-preview-portal-using-tags/browse-tags.png)

Закрепите наиболее важные теги на начальной панели для быстрого доступа к ним. Теперь вы готовы к работе. Желаем успехов!

![Pin tags to the Startboard](./media/azure-preview-portal-using-tags/pin-tags.png)


<!--HONumber=46--> 
