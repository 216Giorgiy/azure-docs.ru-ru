---
title: "Зоны и записи DNS | Документация Майкрософт"
description: "Общие сведения о поддержке размещения зон и записей DNS в Microsoft Azure DNS."
services: dns
documentationcenter: na
author: jtuliani
manager: carmonm
editor: 
ms.assetid: be4580d7-aa1b-4b6b-89a3-0991c0cda897
ms.service: dns
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/17/2016
ms.author: jtuliani
translationtype: Human Translation
ms.sourcegitcommit: 42d47741e414b2de177f1fd75b3e1ac3fde96579
ms.openlocfilehash: b99bc20b66787c7a87fa49143b4cbf861e0e68a2

---

# <a name="dns-zones-and-records"></a>Зоны и записи DNS

В этой статье описываются основные понятия доменов, зон и записей DNS, а также наборов записей и их поддержка в Azure DNS.

## <a name="domain-names"></a>Имена доменов

Система доменных имен — это иерархия доменов. Иерархия начинается с корневого домена с именем **.**.  Ниже находятся домены верхнего уровня, такие как com, net, org, uk и jp.  Под ними расположены домены второго уровня, например org.uk и co.jp. Эти домены в иерархии DNS глобально распределены на DNS-серверах по всему миру.

Регистратор доменных имен — это организация, которая позволяет приобрести доменное имя, например contoso.com.  Купив доменное имя, вы получаете право управлять иерархией DNS под этим именем, например настроить перенаправление на веб-сайт вашей компании при вводе адреса www.contoso.com. Регистратор может размещать домен на своих собственных серверах доменных имен от вашего имени либо вы можете указать альтернативные серверы доменных имен.

Azure DNS предоставляет глобально распределенную инфраструктуру серверов доменных имен высокого уровня доступности, которую можно использовать для размещения вашего домена. Размещая домены в Azure DNS, вы можете управлять своими записями DNS с помощью тех же учетных данных, API, инструментов, выставления счетов и поддержки, что и в других службах Azure.

Azure DNS в настоящее время не поддерживает приобретение доменных имен. Если необходимо приобрести доменное имя, требуется использовать регистратор доменных имен стороннего поставщика. Регистратор обычно взимает небольшую годовую плату. Затем вы сможете разместить домены в Azure DNS, чтобы управлять записями DNS. Дополнительные сведения см. в статье [Делегирование домена в Azure DNS](dns-domain-delegation.md).

## <a name="dns-zones"></a>Зоны DNS

Зона DNS используется для размещения DNS-записей определенного домена. Чтобы разместить свой домен в Azure DNS, необходимо создать зону DNS для этого доменного имени. Каждая запись DNS для вашего домена создается внутри этой зоны DNS.

Например, домен contoso.com может содержать несколько записей DNS, включая mail.contoso.com (для почтового сервера) и www.contoso.com (для веб-сайта).

При создании зоны DNS в Azure DNS имя зоны должно быть уникальным в пределах группы ресурсов. То же имя зоны можно использовать повторно в другой группе ресурсов или другой подписке Azure. Если нескольким зонам присвоено одно и то же имя, каждому экземпляру назначаются разные адреса серверов доменных имен. С помощью регистратора доменных имен можно настроить только один набор адресов.

> [!NOTE]
> Для создания зоны DNS с доменным именем в Azure DNS необязательно быть его владельцем. Однако, чтобы настроить серверы доменных имен Azure DNS в качестве правильных серверов для доменного имени с помощью регистратора доменных имен, необходимо быть владельцем домена.

Дополнительные сведения см. в статье [Делегирование домена в Azure DNS](dns-domain-delegation.md).

## <a name="dns-records"></a>Записи DNS

### <a name="record-types"></a>Типы записей

У каждой записи DNS есть имя и тип. Записи разделяются на разные типы в зависимости от данных, которые они содержат. Наиболее распространенный тип — запись A, которая сопоставляет имя с IPv4-адресом. Другой распространенный тип — запись MX, которая сопоставляет имя с почтовым сервером.

Azure DNS поддерживает все общие типы записей DNS: A, AAAA, CNAME, MX, NS, PTR, SOA, SRV и TXT.

### <a name="record-names"></a>Имена записей

В Azure DNS записи указываются с помощью относительных имен. *Полное доменное* имя включает в себя имя зоны, а *относительное* имя — нет. Например, относительное имя записи www в зоне contoso.com дает запись с полным именем www.contoso.com.

Запись *вершины* — это запись DNS в корне (или *вершины*) зоны DNS. Например, в зоне DNS contoso.com записи вершины также присвоено полное доменное имя contoso.com (такое имя иногда называется доменом *без префикса*).  Обычно относительное имя '@' используется для создания записей вершин.

### <a name="record-sets"></a>Наборы записей

В некоторых случаях необходимо создать несколько записей DNS с заданным именем и типом. Например, предположим, что веб-сайт www.contoso.com размещается по двум разным IP-адресам. Для этого веб-сайта требуются две разные записи A — по одной для каждого IP-адреса: Вот пример набора записей:

    www.contoso.com.        3600    IN    A    134.170.185.46
    www.contoso.com.        3600    IN    A    134.170.188.221

Azure DNS управляет записями DNS, используя *наборы записей*. Набор записей (также называется набором записей *ресурсов*) — это коллекция записей DNS в зоне, которые имеют одно имя и принадлежат к одному типу. Большинство наборов записей обычно содержат одну запись, но встречаются и наборы с несколькими записями (такие как этот).

Например, предположим, что вы уже создали в зоне contoso.com запись А www, указывающую на IP-адрес 134.170.185.46 (первая запись выше).  Чтобы создать вторую запись, не нужно создавать набор записей, необходимо добавить запись в уже имеющийся.

Наборы записей типа SOA и CNAME являются исключениями. По стандартам DNS несколько записей с одним и тем же именем для этих типов не допускаются, поэтому эти наборы записей могут содержать только одну запись.

### <a name="time-to-live"></a>Срок жизни

Срок жизни или TTL указывает продолжительность кэширования каждой записи клиентами до повторного запроса. В приведенном выше примере TTL равен 3600 секундам или 1 часу.

В Azure DNS TTL указывается для набора записей, а не для каждой записи, поэтому одно значение используется для всех записей в рамках набора записей.  Вы можете указать любое значение TTL — от 1 до 2 147 483 647 секунд.

### <a name="wildcard-records"></a>Записи с подстановочными знаками

Azure DNS поддерживает [записи с подстановочными знаками](https://en.wikipedia.org/wiki/Wildcard_DNS_record). Эти записи возвращаются в ответ на любой запрос с совпадающим именем (пока не найдется еще более близкое совпадение из набора записей без подстановочных знаков). Наборы записей с подстановочными знаками поддерживаются для всех типов записей, за исключением NS и SOA.

Чтобы создать набор записей с подстановочными знаками, используйте знак \* вместо имени набора записей. Кроме того, можно использовать имя со знаком \* как крайнюю метку слева, например \*.foo.

### <a name="cname-records"></a>Записи CNAME

Наборы записей типа CNAME не могут сосуществовать с другими наборами записей с тем же именем. Например, невозможно одновременно создать набор записей CNAME и запись A с относительными именами www.

Так как вершина зоны (имя = '@')) всегда содержит наборы записей типа NS и SOA, созданные при создании зоны, невозможно создать набор записей CNAME на вершине зоны.

Это связано со стандартами DNS, а не ограничениями Azure DNS.

### <a name="ns-records"></a>Записи NS

Набор записей NS автоматически создается на вершине каждой зоны (имя — '@'), и автоматически удаляется при удалении зоны (его нельзя удалить отдельно).  Вы можете изменить значение TTL этого набора записей, но не можете изменить записи, которые предварительно настроены для указания серверов доменных имен Azure DNS, назначенных этой зоне.

Вы можете создавать и удалять другие записи NS в зоне, но не на ее вершине.  Таким образом, вы можете настраивать дочерние зоны (см. раздел [Делегирование поддоменов в Azure DNS](dns-domain-delegation.md#delegating-sub-domains-in-azure-dns)).

### <a name="soa-records"></a>Записи SOA

Набор записей SOA автоматически создается на вершине каждой зоны (имя — '@'), и автоматически удаляется при удалении зоны.  Записи SOA невозможно создать или удалить отдельно.

Вы можете изменять все свойства записи SOA, за исключением свойства host, которое предварительно настроено для указания первичного сервера доменных имен, предоставленного Azure DNS.

### <a name="spf-records"></a>Записи SPF

Записи инфраструктуры политики отправителей (SPF) используются для указания почтовых серверов, которым разрешено отправлять электронную почту от имени заданного доменного имени.  Правильная конфигурация записей SPF очень важна, чтобы получатели не помечали ваши сообщения электронной почты как "Нежелательная почта".

В RFC DNS новый тип записи SPF был изначально представлен для поддержки этого сценария. Для поддержки старых серверов доменных имен в них также может использоваться тип записи TXT, чтобы указывать записи SPF.  Эта неоднозначность привела к путанице, которую удалось устранить с помощью документа [RFC 7208](http://tools.ietf.org/html/rfc7208#section-3.1).  В нем указывается, что записи SPF следует создавать только с помощью записи типа TXT, а использовать фактические записи типа SPF не рекомендуется.

**Записи SPF поддерживаются в Azure DNS, и их следует создавать с помощью записи типа TXT.** Устаревший тип записи SPF не поддерживается. Во время [импорта файла зоны DNS](dns-import-export.md) все записи SPF, созданные с помощью типа SPF, преобразуются в записи типа TXT.

### <a name="srv-records"></a>Записи SRV

Различные службы используют [записи SRV](https://en.wikipedia.org/wiki/SRV_record), чтобы указать расположения сервера. Указание записи SRV в Azure DNS

* *Службу* и *протокол* необходимо указать как часть имени набора записей, начинающуюся с символа подчеркивания.  Например, \_sip.\_tcp.name.  В имени записи на вершине зоны не нужно указывать '@', вместо этого можно просто использовать службу и протокол, например \_sip.\_tcp.
* *Приоритет*, *вес*, *порт* и *целевое значение* указываются в качестве параметров каждой записи в наборе записей.

## <a name="tags-and-metadata"></a>Теги и метаданные

### <a name="tags"></a>Теги

Теги — это список пар "имя — значение", которые используются Azure Resource Manager для пометки ресурсов.  Azure Resource Manager использует теги, чтобы обеспечить отфильтрованные представления счетов Azure, а также позволяет задать политику, для которой необходимы теги. Дополнительные сведения о тегах см. в статье [Использование тегов для организации ресурсов в Azure](../resource-group-using-tags.md).

Azure DNS поддерживает использование тегов Azure Resource Manager в ресурсах зоны DNS.  Он не поддерживает теги в наборах записей DNS.

### <a name="metadata"></a>Метаданные

В качестве альтернативы тегам наборов записей Azure DNS поддерживает создание заметок к наборам записей с помощью метаданных.  Так же как и теги, метаданные позволяют связывать пары "имя — значение" с каждым набором записей.  К примеру, это может пригодиться для записи назначения каждого набора записей.  В отличие от тегов метаданные нельзя использовать, чтобы обеспечить отфильтрованное представление счетов Azure, и указывать в политике Azure Resource Manager.

## <a name="limits"></a>Ограничения

При использовании Azure DNS применяются приведенные ниже ограничения по умолчанию.

[!INCLUDE [dns-limits](../../includes/dns-limits.md)]

## <a name="next-steps"></a>Дальнейшие действия

* Чтобы начать работу с Azure DNS, узнайте, как [создать зону DNS](dns-getstarted-create-dnszone-portal.md) и [записи DNS](dns-getstarted-create-recordset-portal.md).
* Чтобы перенести имеющуюся зону DNS, узнайте, как [импортировать и экспортировать файл зоны DNS](dns-import-export.md).




<!--HONumber=Nov16_HO3-->


