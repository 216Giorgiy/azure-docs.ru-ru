<properties 
	pageTitle="Использование тегов для организации ресурсов в Azure" 
	description="" 
	services="" 
	documentationCenter="" 
	authors="flanakin" 
	writer="" 
	manager="wpickett" 
	editor=""/>

<tags 
	ms.service="multiple" 
	ms.workload="multiple" 
	ms.tgt_pltfrm="AzurePortal" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="04/28/2015" 
	ms.author="micflan"/>


# Использование тегов для организации ресурсов в Azure

Портал Azure и лежащий в его основе диспетчер ресурсов предназначены для организации ваших ресурсов и настройки взаимодействия с системой под ваши конкретные потребности.

На классическом портале Azure единственным способом категоризации и группирования ресурсов выступают подписки. На портале Azure [мы реализовали группы ресурсов](./resource-group-portal.md), которые позволяют группировать связанные сущности. Это стало еще более ценным, когда [мы реализовали доступ на основе ролей](./role-based-access-control-configure.md). Сейчас вы можете таким же образом помечать тегами ресурсы с помощью пар "ключ-значение" для дальнейшего упорядочивания и просмотра ресурсов в группах ресурсов, на портале или в подписках.

Группировка ресурсов по командам, проектам или даже среде позволит вам сфокусировать внимание на необходимой информации.


## Теги на портале Azure

Маркировать тегами ресурсы и группы ресурсов на портале очень просто. Используйте узел "Обзор" для перехода к ресурсу или группе ресурсов, которые вы хотите отметить тегами, и щелкните "Теги" в разделе "Обзор" в верхней части модуля.

![м](./media/resource-group-using-tags/rgblade.png)

После этого откроется модуль со списком уже примененных тегов. Если это ваш первый тег, список будет пустым. Для добавления тега укажите имя и значение, а затем нажмите клавишу ВВОД. Добавив несколько тегов, вы заметите варианты автозаполнения на основании уже существующих имен и значений тегов, которые помогают обеспечить согласованность таксономии в ваших ресурсах и избежать распространенных ошибок, например опечаток.

![Маркировка ресурсов тегами с парами «имя — значение»](./media/resource-group-using-tags/tag-resources.png)

Здесь можно щелкнуть каждый отдельный тег для просмотра списка всех ресурсов с таким же тегом. Конечно, если это ваш первый тег, этот список будет не очень информативным. Теперь давайте перейдем к PowerShell, чтобы быстро разметить тегами все ресурсы.


## Маркировка с помощью PowerShell

Сначала необходимо скачать новейшую версию [модуля Azure PowerShell](./install-configure-powershell.md). Если вы впервые используете модуль Azure PowerShell, [ознакомьтесь с документацией](./install-configure-powershell.md) для быстрого начала работы. В данной статье будем считать, что вы уже добавили учетную запись и выбрали подписку и ресурсы, которые необходимо промаркировать.

Маркировка доступна только для ресурсов и групп ресурсов, доступных в [диспетчере ресурсов](http://msdn.microsoft.com/library/azure/dn790568.aspx), поэтому следующий необходимый шаг — переключиться на использование диспетчера ресурсов. Дополнительные сведения см. в статье [Использование Azure PowerShell с диспетчером ресурсов Azure](powershell-azure-resource-manager.md).

    Switch-AzureMode AzureResourceManager

Теги хранятся непосредственно в ресурсах и их группах, поэтому, чтобы просмотреть, какие теги уже применены, мы можем просто получить ресурс или группу ресурсов с помощью `Get-AzureResource` или `Get-AzureResourceGroup` соответственно. Давайте начнем с группы ресурсов.

![Получение тегов с помощью Get-AzureResourceGroup в PowerShell](./media/resource-group-using-tags/Get-AzureResourceGroup-in-PowerShell.png)

Этот командлет возвращает небольшой объем метаданных о группе ресурсов, включая информацию о примененных тегах, если они есть. Для маркировки группы ресурсов мы просто воспользуемся `Set-AzureResourceGroup` и укажем имя и значение тега.

![Установка тегов с помощью Set-AzureResourceGroup в PowerShell](./media/resource-group-using-tags/Set-AzureResourceGroup-in-PowerShell.png)

Помните, что теги обновляются полностью, так что при добавлении одного тега к ресурсу, который уже содержит теги, вам потребуется использовать массив для сохранения всех необходимых тегов. Для удаления какого-либо тега достаточно сохранить массив без него.

Для ресурсов процесс аналогичен, за исключением того, что будут использоваться командлеты `Get-AzureResource` и `Set-AzureResource`. Чтобы получить ресурсы или группы ресурсов с определенным тегом, используйте командлет `Get-AzureResource` или `Get-AzureResourceGroup` с параметром `-Tag`.

![Получение маркированных тегами ресурсов и групп ресурсов с помощью Get-AzureResource и Get-AzureResourceGroup в PowerShell](./media/resource-group-using-tags/Get-AzureResourceGroup-with-tags-in-PowerShell.png)


## Маркировка с помощью диспетчера ресурсов

Как на портале, так и в PowerShell «за кулисами» используется [интерфейс REST API диспетчера ресурсов](http://msdn.microsoft.com/library/azure/dn790568.aspx). Если требуется интегрировать теги в другую среду, их можно получить с помощью метода GET по идентификатору ресурса и обновить набор тегов с помощью вызова метода PATCH.


## Управление таксономией

Ранее мы обсудили, как автозаполнение помогает обеспечить согласованность и избежать ошибок. Автозаполнение осуществляется на основе таксономии тегов, доступных в пределах подписки. Каждый тег, присваиваемый ресурсу или группе ресурсов, автоматически добавляется к общей таксономии в пределах подписки. Вы также можете предварительно заполнить эту таксономию именами тегов, которые будут использоваться в дальнейшем для маркировки ресурсов.

Чтобы получить список всех тегов в подписке с помощью PowerShell, используйте командлет `Get-AzureTag`.

![Get-AzureTag в PowerShell](./media/resource-group-using-tags/Get-AzureTag-in-PowerShell.png)


Вы можете увидеть теги, начинающиеся с hidden- и link:. Это внутренние теги, которые вы должны игнорировать. Изменять их не следует.

С помощью командлета `New-AzureTag` в таксономию можно добавлять новые теги. Эти теги будут включены в автозаполнение, даже если они еще не были применены для ресурсов или групп ресурсов. Чтобы удалить имя или значение тега, сначала необходимо удалить тег из всех ресурсов, в которых он может применяться, а затем воспользоваться командлетом `Remove-AzureTag` для удаления тега из таксономии.

Для просмотра таксономии тегов на портале используйте узел "Обзор" для просмотра всех элементов, а затем выберите "Теги".

![Поиск тегов с помощью узла «Обзор»](./media/resource-group-using-tags/browse-tags.png)

Закрепите наиболее важные теги на начальной панели для быстрого доступа к ним. Теперь вы готовы к работе. Желаем успехов!

![Закрепление тегов на начальной панели](./media/resource-group-using-tags/pin-tags.png)

## Дальнейшие действия
Приступая к работе

- [Общие сведения о диспетчере ресурсов Azure](./resource-group-overview.md)  
- [Использование Azure PowerShell с диспетчером ресурсов Azure](./powershell-azure-resource-manager.md)
- [Использование CLI Azure для Mac, Linux и Windows со средствами управления ресурсами Azure](./xplat-cli-azure-resource-manager.md)  
- [Управление ресурсами Azure с помощью портала Azure](./resource-group-portal.md)  
  
Создание и развертывание приложений
  
- [Создание шаблонов диспетчера ресурсов Azure](./resource-group-authoring-templates.md)  
- [Развертывание приложения с использованием шаблона диспетчера ресурсов Azure](./resource-group-template-deploy.md)  
- [Устранение неполадок при развертывании групп ресурсов в Azure](./resource-group-deploy-debug.md)  
- [Функции шаблонов в диспетчере ресурсов Azure](./resource-group-template-functions.md)  
- [Расширенные операции с шаблонами](./resource-group-advanced-template.md)  
  
Управление доступом и его аудит
  
- [Управление доступом к ресурсам и его контроль](./resource-group-rbac.md)  
- [Проверка подлинности субъекта-службы в диспетчере ресурсов Azure](./resource-group-authenticate-service-principal.md)  
- [Создание нового субъекта-службы Azure с помощью классического портала Azure](./resource-group-create-service-principal-portal.md)  
  

<!---HONumber=58_postMigration-->