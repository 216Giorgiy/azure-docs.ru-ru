<properties 
   pageTitle="Безопасность StorSimple" 
   description="Описание функций безопасности и конфиденциальности, которые защищают службу, устройство и данные StorSimple." 
   services="storsimple" 
   documentationCenter="NA" 
   authors="SharS" 
   manager="AdinaH" 
   editor=""/>

<tags
   ms.service="storsimple"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="TBD" 
   ms.date="03/19/2015"
   ms.author="v-sharos"/>

# Безопасность StorSimple 

## Обзор

Безопасность представляет главную проблему для всех, кто внедряет новую технологию, особенно если технология используется с конфиденциальными или личными данными. По мере оценки разных технологий следует учесть увеличение рисков и расходов на защиту данных. Microsoft Azure StorSimple предоставляет решение безопасности и конфиденциальности для защиты данных, обеспечивая следующее:

- **конфиденциальность** – только авторизованные лица могут просматривать ваши данные; 
- **целостность** – только авторизованные лица могут изменять или удалять ваши данные.

Решение Microsoft Azure StorSimple состоит из четырех основных компонентов, которые взаимодействуют друг с другом.

- **Размещенная в Microsoft Azure служба диспетчера StorSimple** – служба управления, которая используется для настройки и подготовки устройства StorSimple.
- **Устройство StorSimple** – физическое устройство, установленное в центре обработки данных. Все узлы и клиенты, которые создают данные, подключаются к устройству StorSimple, и устройство управляет данными и перемещает их в облако Azure соответствующим образом.
- **Подключенные к устройству клиенты и узлы** – клиенты в вашей инфраструктуре, подключающиеся к устройству StorSimple и создающие данные, которые нуждаются в защите.
- **Облачное хранилище** – расположение в облаке Azure, где хранятся данные.

В следующих разделах описаны функции безопасности StorSimple, которые помогают защитить каждый из этих компонентов и данные, сохраненные в них. Далее также представлен список возможных вопросов о безопасности Microsoft Azure StorSimple и соответствующие ответы.

## Защита службы диспетчера StorSimple

Служба диспетчера StorSimple — это служба управления, размещенная в Microsoft Azure и использующаяся для управления всеми устройствами StorSimple, которые закупила ваша организация. Вы можете получить доступ к службе диспетчера StorSimple, используя учетные данные организации для входа на портал управления Azure через браузер.

Для доступа к службе диспетчера StorSimple у вашей организации должна быть подписка Azure, включающая StorSimple. Ваша подписка регулирует управление функциями, доступ к которым можно получить на портале Azure. Если ваша организация не пользуется подпиской Azure, но вы хотите получить дополнительные сведения об этой подписке, см. раздел [Регистрация организации в Azure](../sign-up-organization.md).

Так как служба диспетчера StorSimple размещается в Azure, она защищена функциями безопасности Azure. Дополнительные сведения о функциях безопасности, предоставленных Microsoft Azure, см. в [центре управления безопасностью Microsoft Azure](http://azure.microsoft.com/support/trust-center/security/).

## Защита устройств StorSimple

Устройство StorSimple — это устройство с локальным гибридным хранилищем, которое содержит твердотельные накопители (SSD) и жесткие диски (HDD), а также избыточные контроллеры и возможности автоматической отработки отказа. Контроллеры управляют уровнями хранилища, размещая недавно использовавшиеся (или активные) данные в локальном хранилище (на устройстве StorSimple или локальных серверах), перемещая редко используемые данные в облако.

## Контроль доступа к StorSimple с помощью регистрации устройства

Только авторизованные устройства StorSimple могут присоединяться к службе диспетчера StorSimple, созданной в подписке Azure.

Чтобы авторизовать устройство, необходимо зарегистрировать его в службе диспетчера StorSimple, предоставив ключ регистрации службы. Ключ регистрации службы — 128-разрядный случайный ключ, созданный на портале. Чтобы узнать, как получить ключ регистрации, см. [Шаг 2. Получение ключа регистрации службы](https://msdn.microsoft.com/library/azure/dn772346.aspx).

> [AZURE.NOTE]Ключ регистрации службы — это длинный ключ, который содержит больше 100 символов. Рекомендуется скопировать ключ и сохранить его в текстовом файле в безопасном расположении, чтобы вы могли при необходимости использовать его для авторизации дополнительных устройств.
> 
> * Если ключ регистрации службы будет потерян после регистрации первого устройства, создайте новый ключ в службе диспетчера StorSimple. Это не повлияет на работу существующих устройств. 
> * После регистрации для взаимодействия с Microsoft Azure устройство использует маркеры. Ключ регистрации службы не используется после регистрации устройства.


## Защита решения StorSimple с помощью паролей

Пароли — это важная часть безопасности компьютера. Они широко используются в решении Microsoft Azure StorSimple, предоставляя доступ к данным только авторизованным пользователям. StorSimple позволяет настроить следующие пароли:

- пароль Windows PowerShell для StorSimple;
- пароль администратора устройства StorSimple;
- Пароли инициатора и целевого устройства протокола проверки паролей (CHAP)
- Пароль диспетчера моментальных снимков StorSimple

### Пароли Windows PowerShell для StorSimple и администратора устройства StorSimple

Windows PowerShell для StorSimple — это интерфейс командной строки, который можно использовать для управления устройством StorSimple. Windows PowerShell для StorSimple содержит функции, которые позволяют зарегистрировать устройство, настроить сетевой интерфейс на устройстве, установить определенные типы обновлений, устранить неполадки с устройством в сеансе поддержки и изменить состояние устройства. Вы можете получить доступ к Windows PowerShell для StorSimple, подключившись к последовательной консоли, или с помощью удаленного взаимодействия Windows PowerShell.

Удаленное взаимодействие PowerShell может осуществляться по протоколу HTTPS или HTTP. Если удаленное управление по HTTPS включено, потребуется скачать сертификат удаленного управления с устройства и установить его на удаленный клиент.

> [AZURE.IMPORTANT]

> * Удаленное управление по умолчанию выключено. Вы можете включить его в службе диспетчера StorSimple. Для безопасности рекомендуется включать удаленный доступ только в тот непосредственный период, когда это необходимо.
> * В случае изменения пароля сообщите об этом всем пользователям с удаленным доступом, чтобы они не столкнулись с неожиданной потерей подключения.
> * Служба диспетчера StorSimple не выполняет извлечение существующих паролей, а только сбрасывает их. Рекомендуется хранить все пароли в безопасном расположении, чтобы вам не потребовалось сбрасывать пароль, если вы его забудете. Если же вам нужно сбросить пароль, сообщите об этом всем пользователям. 
> * Вы можете получить доступ к интерфейсу Windows PowerShell, используя последовательное подключение к устройству. Вы также можете получить к нему удаленный доступ по протоколу HTTP или HTTPS, что дает дополнительную защиту. HTTPS обеспечивает более высокий уровень безопасности, чем последовательное подключение или подключение по HTTP. Однако чтобы использовать HTTPS, необходимо сначала установить сертификат на клиентском компьютере, который получит доступ к устройству. Вы можете скачать сертификат удаленного доступа на странице конфигурации устройства в службе диспетчера StorSimple. Если сертификат для удаленного доступа потерян, необходимо скачать новый сертификат и распространить его на все клиенты, которые могут использовать удаленное управление.

После подключения к устройству с помощью Windows PowerShell для StorSimple, чтобы войти на устройство, потребуется предоставить пароль администратора устройства.

### Пароли инициатора и целевого устройства протокола проверки паролей (CHAP)

CHAP — это схема проверки подлинности, используемая устройством StorSimple для проверки удостоверения удаленных клиентов. Проверка выполняется на основе общего пароля. Протокол CHAP может быть односторонним (однонаправленным) или двусторонним (двунаправленным). С односторонним CHAP целевое устройство (устройство StorSimple) проверяет подлинность инициатора (узла). Для двустороннего CHAP требуется, чтобы целевое устройство проверило подлинность инициатора, а затем инициатор проверил подлинность целевого устройства. В Azure StorSimple можно настроить любой метод.

> [AZURE.IMPORTANT]
> 
> * Имя пользователя CHAP должно содержать меньше 233 символов.
> * Длина пароля CHAP должна быть от 12 до 16 символов. Попытка использовать более длинное имя пользователя или пароль приведет к сбою проверки подлинности на узле Windows.
> * Вы не можете использовать один и тот же пароль для инициатора и целевого устройства CHAP.
> * После установки пароля его можно изменить, но невозможно извлечь. При изменении пароля сообщите об этом всем пользователям с удаленным доступом, чтобы они могли подключиться к устройству StorSimple.

### Пароль диспетчера моментальных снимков StorSimple

Диспетчер моментальных снимков StorSimple — это оснастка консоли управления (MMC), которая использует группы томов и службу теневого копирования томов Windows для создания резервных копий, согласованных с приложениями. Кроме того, вы можете использовать диспетчер моментальных снимков StorSimple для создания расписания архивации и клонирования или восстановления томов.

При настройке на устройстве диспетчера моментальных снимков StorSimple потребуется предоставить пароль диспетчера моментальных снимков StorSimple. Сначала этот пароль задается в Windows PowerShell для StorSimple во время регистрации. Пароль можно также задать и изменить в службе диспетчера StorSimple. Этот пароль проверяет подлинность устройства с диспетчером моментальных снимков StorSimple.

> [AZURE.IMPORTANT]<ul><li>Этот пароль должен содержать от 14 до 15 символов и должен включать не менее 3 сочетаний строчных и прописных букв, числовых и специальных символов.</li><li>После установки пароля диспетчера моментальных снимков StorSimple его можно изменить, но нельзя извлечь. При изменении пароля сообщите об этом всем удаленным пользователям.</li></ul>


### Рекомендации по паролям

Следующие рекомендации помогут обеспечить надежность и хорошую защиту паролей Azure StorSimple.

- Меняйте пароли каждые три месяца.
- Используйте надежные пароли. Дополнительные сведения см. в разделе "Создание надежных паролей".
- Всегда используйте разные пароли для разных механизмов доступа. Каждый заданный пароль должен быть уникальным.
- Не сообщайте пароли пользователям, не имеющим права доступа к устройству StorSimple.
- Не произносите пароль вслух рядом с посторонними и не упоминайте формат пароля.
- Если вы подозреваете, что учетная запись или пароль были скомпрометированы, сообщите о случившемся в свой отдел по безопасности данных.
- Рассматривайте все пароли как конфиденциальную информацию. 

## Защита данных StorSimple

В этом разделе описываются функции безопасности Azure StorSimple, которые защищают передающиеся и хранящиеся данные.

Как было описано в других разделах, пароли используются для авторизации и проверки подлинности пользователей, прежде чем они смогут получить доступ к решению Microsoft Azure StorSimple. Другой вопрос безопасности — это защита данных от неавторизованных пользователей во время передачи из одной системы хранилища в другую, а также при хранении. В следующих разделах описаны функции защиты данных, предоставленные в Azure StorSimple.

> [AZURE.NOTE]Дедупликация обеспечивает дополнительную защиту для данных, сохраненных на устройстве StorSimple и в хранилище Microsoft Azure. При дедупликации данных объекты данных сохраняются отдельно от метаданных, используемых для сопоставления и доступа к ним, так как нет доступного контекста уровня хранилища для восстановления данных на основе структуры томов, файловой системы или имени файла.

## Защита данных, передающихся через службу

Первичная цель службы диспетчера StorSimple — управление устройством StorSimple и его настройка. Служба диспетчера StorSimple выполняется в Microsoft Azure. Вы вводите данные конфигурации устройства на портале управления Azure, а затем Microsoft Azure использует службу диспетчера StorSimple для отправки данных на устройство. Служба диспетчера StorSimple использует систему пар асимметричных ключей, чтобы гарантировать, что компрометация службы Azure не приведет к компрометации сохраненных сведений. Система асимметричных ключей помогает защитить данные, передающиеся в службе, следующим образом.

1. Сертификат шифрования данных, который использует пару открытого и закрытого асимметричных ключей, создается на устройстве и используется для защиты данных. Ключи создаются при регистрации первого устройства. 
2. Ключи сертификата шифрования данных экспортируются в файл обмена личной информацией (PFX-файл), защищенный ключом шифрования данных службы, который является надежным 128-разрядным ключом и создается случайно во время регистрации.
3. Службе диспетчера StorSimple предоставляется безопасный доступ к открытому ключу сертификата, а закрытый ключ остается на устройстве.
4. Данные, которые получает служба, шифруются с помощью открытого ключа и расшифровываются с помощью закрытого ключа, сохраненного на устройстве. Таким образом, служба Azure не может расшифровать данные, передающиеся на устройство.

> [AZURE.IMPORTANT]
> 
> * Ключ шифрования данных службы создается только на первом устройстве, зарегистрированном в службе. Все последующие устройства, которые регистрируются в службе, должны использовать тот же ключ шифрования данных службы. Очень важно сделать копию этого ключа и сохранить ее в расположении службы. Копия ключа шифрования данных службы должна быть сохранена таким образом, чтобы она была доступна только авторизованным пользователям и чтобы ее можно было легко передать администратору устройства.
> * Вы можете изменить ключ шифрования данных службы и соответствующий сертификат шифрования данных, выбрав параметр «Изменить ключ шифрования данных службы» на панели мониторинга службы. Для смены ключа шифрования необходимо, чтобы все устройства были обновлены с помощью нового ключа. Следовательно, рекомендуется изменять ключ, когда все устройства находятся в сети. Если устройства не в сети, их ключи можно изменить в другое время. Устройства с устаревшими ключами по-прежнему смогут запускать резервные копии, но не смогут восстановить данные, пока ключ не будет обновлен. Дополнительные сведения см. в разделе [Панель мониторинга службы](https://msdn.microsoft.com/library/azure/dn772326.aspx).
> * Чтобы безопасность данных не была поставлена под угрозу, смените ключ шифрования данных службы с помощью физического устройства StorSimple.
> * Если ключ шифрования данных службы потерян, сотрудник службы поддержки Майкрософт может помочь вам извлечь его при условии, что хотя бы одно устройство подключено к Интернету. После извлечения ключа шифрования данных рекомендуется изменить его. Для получения инструкций перейдите в раздел [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01).
> * Ключ шифрования данных службы и сертификат шифрования данных являются бессрочными. Однако, чтобы обеспечить защиту ключа шифрования данных службы, его рекомендуется регулярно менять.</li></ul>


## Защита хранящихся данных

Устройство StorSimple управляет данными, сохраняя их в уровнях локально и в облаке, в зависимости от частоты использования. Все хост-компьютеры, подключенные к устройству, отправляют данные на устройство, которое затем перемещает их в облако. Данные передаются с устройства в облако по протоколу iSCSI. У каждого устройства есть одно целевое устройство iSCSI, которое охватывает все общие тома на этом устройстве. Все данные шифруются перед отправкой в облачное хранилище. Чтобы обеспечить безопасность и целостность данных, перемещенных в облако, Azure StorSimple позволяет определить ключи шифрования облачного хранилища следующим образом.

- Вы указываете ключ шифрования облачного хранилища при создании контейнера томов. Ключ невозможно изменить или добавить позже. 
- Все тома в контейнере томов содержат один ключ шифрования. Если вам нужен другой тип шифрования для определенного тома, рекомендуется создать новый контейнер томов для размещения этого тома.
- При вводе ключа шифрования облачного хранилища в службу диспетчера StorSimple ключ шифруется с помощью открытой части ключа шифрования данных службы, а затем отправляется на устройство.
- Ключ шифрования облачного хранилища не хранится в службе и известен только устройству.
- Назначать ключ шифрования облачного хранилища необязательно. Вы можете отправить зашифрованные данные на узел устройства.

## Защита данных с помощью учетных записей хранения

Каждая подписка Microsoft Azure может создать одну или несколько учетных записей хранения. (Учетная запись хранения предоставляет уникальное пространство имен для работы с данными, хранящимися в облаке Azure.) Доступ к учетной записи хранения контролируется подпиской и ключами доступа, связанными с учетной записью хранения.

При создании учетной записи хранения Microsoft Azure создает два 512-разрядных ключа доступа к хранилищу. Обратите внимание, что используется только один из этих ключей. Другой ключ хранится в качестве резерва и позволяет времени от времени менять ключи. Для смены ключей следует активировать вторичный ключ, а затем изменить первичный. Затем вы можете создать новый ключ для использования во время их смены. (В целях безопасности многие центры обработки данных требуют смену ключей.)

> [AZURE.IMPORTANT]
> 
> Рекомендации по смене ключей.
> 
> * Чтобы неавторизованные пользователи не могли получить доступ к вашей учетной записи хранения, регулярно меняйте ключи.
> * Время от времени, чтобы обеспечить прямой доступ к учетной записи хранения, администратор Azure должен менять или повторно создавать первичный или вторичный ключ в разделе «Хранилище» портала управления.


## Защита данных с помощью шифрования

StorSimple использует следующие алгоритмы шифрования для защиты данных, хранящихся или передающихся между компонентами решения StorSimple.

| Алгоритм | Длина ключа | Протоколы, приложения и комментарии |
| --------- | ---------- | ------------------------------- |
| RSA | 2048 | Портал управления использует RSA PKCS 1 версии 1.5 для шифрования данных конфигурации, которые отправляются на устройство, а именно: учетных данных учетной записи хранения, конфигурации устройства StorSimple и ключей шифрования облачного хранилища. |
| AES | 256 | AES вместе с CBC используется для шифрования открытой части ключа шифрования данных службы перед его отправкой на портал управления с устройства StorSimple. Этот алгоритм также используется устройством StorSimple для шифрования данных перед их отправкой в учетную запись облачного хранилища. |
| RSA | 2048 | Портал управления использует RSA PKCS 1 версии 1.7 для шифрования открытой части ключа шифрования данных служб перед его сохранением в хранилище локального портала. |


## Часто задаваемые вопросы

Ниже приведены часто задаваемые вопросы о безопасности и Microsoft Azure StorSimple, а также ответы на них.

**Вопрос.** Моя служба взломана. Что делать?

**Ответ.** Немедленно измените ключ шифрования данных службы и ключи учетной записи хранения, которая используется для распределения данных по уровням. Подробные инструкции описаны в разделе

- [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01)
- [Смена ключей в учетных записях хранения](https://msdn.microsoft.com/library/azure/1747f56e-858a-4cfe-a020-949d7db23b8b#rotate)

**Вопрос.** У меня есть новое устройство StorSimple, которое запрашивает ключ регистрации службы. Как его извлечь?

**Ответ.** Этот ключ был создан при создании службы диспетчера StorSimple. При использовании службы диспетчера StorSimple для подключения к устройству вы можете использовать страницу быстрого запуска службы, чтобы просмотреть или повторно создать ключ регистрации службы. Создание нового ключа регистрации службы не влияет на существующие зарегистрированные устройства. Подробные инструкции описаны в разделе

- [Просмотр или повторное создание ключа регистрации службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#BKMK_viewsrk)

**Вопрос.** Мой ключ шифрования данных службы утерян. Что делать?

**Ответ.** Обратитесь в службу поддержки Майкрософт. Специалисты службы поддержки могут войти в сеанс поддержки на устройстве и извлечь ключ. Сразу после получения ключа шифрования данных службы его необходимо изменить. Таким образом можно гарантировать, что новый ключ будет известен только вам. Подробные инструкции описаны в разделе

- [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01)

**Вопрос**. Устройство было авторизовано для изменения ключа шифрования данных службы, но процесс смены ключа не начался. Что делать?

**Ответ.** Если период времени ожидания истек, нужно повторно авторизовать устройство для изменения ключа шифрования данных службы и начать процесс заново.

**Вопрос.** Ключ шифрования данных службы был изменен, но мне не удалось обновить другие устройства в течение четырех часов. Нужно ли начинать все заново?

**Ответ.** Четырехчасовой период действителен только для внесения изменений. После начала обновления на авторизованном устройстве StorSimple авторизация будет действительна до тех пор, пока все устройства не будут обновлены.

**Вопрос.** Наш администратор StorSimple уволился из компании. Какие дальнейшие действия?

**Ответ.** Измените и сбросьте пароли, обеспечивающие доступ к устройству StorSimple, и измените ключ шифрования данных службы, чтобы неавторизованные сотрудники не имели доступ к новой информации. Подробные инструкции описаны в разделе

- [Настройка диспетчера моментальных снимков StorSimple](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec08)
- [Настройка пароля администратора устройства](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec09)
- [Настройка удаленного управления](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec10)
- [Настройка инициатора CHAP](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec06)
- [Настройка целевого устройства CHAP](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec07)

**Вопрос.** Я хочу отправить пароль диспетчера моментальных снимков StorSimple на узел, который подключается к устройству StorSimple, но пароль недоступен. Что можно сделать?

**Ответ.** Если вы забыли пароль, создайте новый. После этого сообщите всем существующим пользователям, что пароль был изменен, чтобы они обновили его в своих клиентах. Подробные инструкции описаны в разделе

- [Настройка диспетчера моментальных снимков](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec08)
- [Проверка подлинности устройства](https://msdn.microsoft.com/library/azure/dn790537.aspx)

**Вопрос.** Сертификат для удаленного доступа к Windows PowerShell для StorSimple был изменен на устройстве. Как обновить клиенты удаленного доступа?

**Ответ.** Вы можете скачать новый сертификат из службы диспетчера StorSimple, а затем предоставить его для установки в хранилище сертификатов в клиентах удаленного доступа. Подробные инструкции описаны в разделе

- [Командлет Import-Certificate](https://technet.microsoft.com/library/hh848630.aspx)

**Вопрос.** Остаются ли мои данные защищенными, если служба диспетчера StorSimple взломана?

**Ответ.** Открытый ключ обеспечивает непрерывное шифрование данных конфигурации службы при просмотре в веб-браузере. Поскольку служба не имеет доступа к закрытому ключу, она не будет видеть никакие данные. Взлом службы диспетчера StorSimple не будет иметь отрицательных последствий, поскольку в службе диспетчера StorSimple ключи не хранятся.

**Вопрос.** Если посторонние лица получат доступ к сертификату шифрования данных, будет ли безопасность моих данных поставлена под угрозу?

**Ответ.** Служба Microsoft Azure хранит ключ шифрования данных клиента (PFX-файл) в зашифрованном виде. Так как PFX-файл зашифрован, а в службе StorSimple нет ключа шифрования данных службы для расшифровки PFX-файла, при получении доступа к PFX-файлу вся информация останется конфиденциальной.

**Вопрос.** Что произойдет, если государственная организация запросит у компании Майкрософт мои данные?

**Ответ.** Так как все данные зашифрованы, а закрытый ключ хранится на устройстве, для получения данных государственная организация должна обратиться непосредственно к пользователю.

## Дальнейшие действия

[Начало работы с физическим устройством](https://msdn.microsoft.com/library/azure/dn772410.aspx)
 

<!---HONumber=July15_HO2-->