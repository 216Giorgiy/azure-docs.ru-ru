<properties 
   pageTitle="Безопасность StorSimple" 
   description="Описание функций безопасности и конфиденциальности, которые защищают службу, устройство и данные StorSimple." 
   services="storsimple" 
   documentationCenter="NA" 
   authors="SharS" 
   manager="AdinaH" 
   editor=""/>

<tags
   ms.service="storsimple"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="TBD" 
   ms.date="03/19/2015"
   ms.author="v-sharos"/>

# Безопасность StorSimple 

## Обзор

Безопасность представляет главную проблему для всех, кто внедряет новую технологию, особенно если технология используется с конфиденциальными или личными данными. По мере оценки разных технологий следует учесть увеличение рисков и расходов на защиту данных. Microsoft Azure StorSimple предоставляет решение безопасности и конфиденциальности для защиты данных, обеспечивая следующее: 

- **конфиденциальность** - только авторизованные лица могут просматривать ваши данные; 
- **целостность** - только авторизованные лица могут изменять или удалять ваши данные.

Решение Microsoft Azure StorSimple состоит из четырех основных компонентов, которые взаимодействуют друг с другом.

- **Служба диспетчера StorSimple, размещенная в Microsoft Azure** - служба управления которая используется для настройки и подготовки устройства StorSimple.
- **Устройство StorSimple** - физическое устройство, установленное в вашем центре обработки данных. Все узлы и клиенты, которые создают данные, подключаются к устройству StorSimple, и устройство управляет данными и перемещает их в облако Azure соответствующим образом.
- **Клиенты и узлы, подключенные к устройству**, - клиенты в вашей инфраструктуре, подключающиеся к устройству StorSimple и создающие данные, которые нужно защитить.
- **Облачное хранилище** - расположение в облаке Azure, где хранятся данные.

В следующих разделах описаны функции безопасности StorSimple, которые помогают защитить каждый из этих компонентов и данные, сохраненные в них. Далее также представлен список возможных вопросов о безопасности Microsoft Azure StorSimple и соответствующие ответы.

## Защита службы диспетчера StorSimple

Служба диспетчера StorSimple - это служба управления, размещенная в Microsoft Azure и использующаяся для управления всеми устройствами StorSimple, которые закупила ваша организация. Вы можете получить доступ к службе диспетчера StorSimple, используя учетные данные организации для входа на портал управления Azure через браузер. 

Для доступа к службе диспетчера StorSimple у вашей организации должна быть подписка Azure, включающая StorSimple. Ваша подписка регулирует управление функциями, доступ к которым можно получить на портале Azure. Если в вашей организации нет подписки Azure и вы хотите получить дополнительные сведения об этой подписке, см. раздел [Регистрация организации в Azure](../sign-up-organization.md). 

Так как служба диспетчера StorSimple размещается в Azure, она защищена функциями безопасности Azure. Дополнительные сведения о функциях безопасности, предоставленных Microsoft Azure, см. в [центре управления безопасностью Microsoft Azure](http://azure.microsoft.com/support/trust-center/security/).

## Защита устройств StorSimple

Устройство StorSimple - это устройство с локальным гибридным хранилищем, которое содержит твердотельные накопители (SSD) и жесткие диски (HDD), а также избыточные контроллеры и возможности автоматической отработки отказа. Контроллеры управляют уровнями хранилища, размещая недавно использовавшиеся (или активные) данные в локальном хранилище (на устройстве StorSimple или локальных серверах), перемещая редко используемые данные в облако.

## Контроль доступа к StorSimple с помощью регистрации устройства

Только авторизованные устройства StorSimple могут присоединяться к службе диспетчера StorSimple, созданной в подписке Azure. 

Чтобы авторизовать устройство, необходимо зарегистрировать его в службе диспетчера StorSimple, предоставив ключ регистрации службы. Ключ регистрации службы - 128-разрядный случайный ключ, созданный на портале. Чтобы узнать, как получить ключ регистрации, см. раздел [Шаг 2. Получение ключа регистрации службы](https://msdn.microsoft.com/library/azure/dn772346.aspx).

> [AZURE.NOTE] Ключ регистрации службы - это длинный ключ, который содержит больше 100 символов. Рекомендуется скопировать ключ и сохранить его в текстовом файле в безопасном расположении, чтобы вы могли при необходимости использовать его для авторизации дополнительных устройств.
> 
> * Если ключ регистрации службы будет потерян после регистрации первого устройства, вы можете создать новый ключ в службе диспетчера StorSimple. Это не повлияет на работу существующих устройств. 
> * После регистрации устройства оно использует токены для взаимодействия с Microsoft Azure. Ключ регистрации службы не используется после регистрации устройства.


## Защита решения StorSimple с помощью паролей

Пароли - это важная часть безопасности компьютера. Они широко используются в решении Microsoft Azure StorSimple, предоставляя доступ к данным только авторизованным пользователям. StorSimple позволяет настроить следующие пароли:

- пароль Windows PowerShell для StorSimple;
- пароль администратора устройства StorSimple;
- пароли инициатора и целевого устройства протокола проверки паролей (CHAP);
- пароль диспетчера моментальных снимков StorSimple.

### Пароли Windows PowerShell для StorSimple и администратора устройства StorSimple

Windows PowerShell для StorSimple - это интерфейс командной строки, который можно использовать для управления устройством StorSimple. Windows PowerShell для StorSimple содержит функции, которые позволяют зарегистрировать устройство, настроить сетевой интерфейс на устройстве, установить определенные типы обновлений, устранить неполадки с устройством в сеансе поддержки и изменить состояние устройства. Вы можете получить доступ к Windows PowerShell для StorSimple, подключившись к последовательной консоли, или с помощью удаленного взаимодействия Windows PowerShell. 

Удаленное взаимодействие PowerShell может осуществляться по протоколу HTTPS или HTTP. Если удаленное управление по HTTPS включено, потребуется скачать сертификат удаленного управления с устройства и установить его на удаленный клиент. 

> [AZURE.IMPORTANT]

> * Удаленное управление по умолчанию выключено. Вы можете включить его в службе диспетчера StorSimple. Для безопасности рекомендуется включать удаленный доступ только в тот непосредственный период, когда это необходимо.
> * При изменении пароля сообщите об этом всем пользователям с удаленным доступом, чтобы они не столкнулись с неожиданной потерей подключения.
> * Служба диспетчера StorSimple не может вернуть существующие пароли: она может только сбросить их. Рекомендуется хранить все пароли в безопасном расположении, чтобы вам не потребовалось сбрасывать пароль, если вы его забудете. Если же вам нужно сбросить пароль, сообщите об этом всем пользователям. 
> * Вы можете получить доступ к интерфейсу Windows PowerShell, используя последовательное подключение к устройству. Вы также можете получить к нему удаленный доступ по протоколу HTTP или HTTPS, что дает дополнительную защиту. HTTPS обеспечивает более высокий уровень безопасности, чем последовательное подключение или подключение по HTTP. Однако чтобы использовать HTTPS, необходимо сначала установить сертификат на клиентском компьютере, который получит доступ к устройству. Вы можете скачать сертификат удаленного доступа на странице конфигурации устройства в службе диспетчера StorSimple. Если сертификат для удаленного доступа потерян, необходимо скачать новый сертификат и распространить его на все клиенты, которые могут использовать удаленное управление.

После подключения к устройству с помощью Windows PowerShell для StorSimple, чтобы войти на устройство, потребуется предоставить пароль администратора устройства.

### Пароли инициатора и целевого устройства протокола проверки паролей (CHAP)

CHAP - это схема проверки подлинности, используемая устройством StorSimple для проверки удостоверения удаленных клиентов. Проверка выполняется на основе общего пароля. Протокол CHAP может быть односторонним (однонаправленным) или двусторонним (двунаправленным). С односторонним CHAP целевое устройство (устройство StorSimple) проверяет подлинность инициатора (узла). Для двустороннего CHAP требуется, чтобы целевое устройство проверило подлинность инициатора, а затем инициатор проверил подлинность целевого устройства. В Azure StorSimple можно настроить любой метод.

> [AZURE.IMPORTANT] 
> 
> * Имя пользователя CHAP должно содержать меньше 233 символов.
> * Длина пароля CHAP должна быть от 12 до 16 символов. Попытка использовать более длинное имя пользователя или пароль приведет к сбою проверки подлинности на узле Windows.
> * Вы не можете использовать один пароль для инициатора и целевого устройства CHAP.
> * После назначения пароля его можно изменить, но невозможно извлечь. При изменении пароля сообщите об этом всем пользователям с удаленным доступом, чтобы они могли подключиться к устройству StorSimple.

### Пароль диспетчера моментальных снимков StorSimple

Диспетчер моментальных снимков StorSimple - это оснастка консоли управления (MMC), которая использует группы томов и службу теневого копирования томов Windows для создания резервных копий, согласованных с приложениями. Кроме того, вы можете использовать диспетчер моментальных снимков StorSimple для создания расписания архивации и клонирования или восстановления томов.

При настройке на устройстве диспетчера моментальных снимков StorSimple потребуется предоставить пароль диспетчера моментальных снимков StorSimple. Сначала этот пароль задается в Windows PowerShell для StorSimple во время регистрации. Пароль можно также задать и изменить в службе диспетчера StorSimple. Этот пароль проверяет подлинность устройства с диспетчером моментальных снимков StorSimple.

> [AZURE.IMPORTANT] <ul><li>Длина пароля должна составлять 14-15 символов, при этом пароль должен содержать 3 или больше комбинации букв в верхнем и нижнем регистре, цифр и специальных символов.</li><li>После назначения пароля диспетчера моментальных снимков StorSimple его можно изменить, но невозможно извлечь. При изменении пароля сообщите об этом всем удаленным пользователям.</li></ul>


### Рекомендации по паролям

Следующие рекомендации помогут обеспечить надежность и хорошую защиту паролей Azure StorSimple.

- Меняйте пароли каждые три месяца.
- Используйте надежные пароли. Дополнительные сведения см. в разделе "Создание надежных паролей".
- Всегда используйте разные пароли для разных механизмов доступа. Каждый заданный пароль должен быть уникальным.
- Не сообщайте пароли пользователям, не имеющим права доступа к устройству StorSimple.
- Не произносите пароль вслух рядом с посторонними и не упоминайте формат пароля.
- Если вы подозреваете, что учетная запись или пароль были скомпрометированы, сообщите о случившемся в свой отдел по безопасности данных.
- Рассматривайте все пароли как конфиденциальную информацию. 

## Защита данных StorSimple

В этом разделе описываются функции безопасности Azure StorSimple, которые защищают передающиеся и хранящиеся данные.

Как было описано в других разделах, пароли используются для авторизации и проверки подлинности пользователей, прежде чем они смогут получить доступ к решению Microsoft Azure StorSimple. Другой вопрос безопасности - это защита данных от неавторизованных пользователей во время передачи из одной системы хранилища в другую, а также при хранении. В следующих разделах описаны функции защиты данных, предоставленные в Azure StorSimple.

> [AZURE.NOTE] Дедупликация обеспечивает дополнительную защиту для данных, сохраненных на устройстве StorSimple и в хранилище Microsoft Azure. При дедупликации данных объекты данных сохраняются отдельно от метаданных, используемых для сопоставления и доступа к ним, так как нет доступного контекста уровня хранилища для восстановления данных на основе структуры томов, файловой системы или имени файла.

## Защита данных, передающихся через службу

Первичная цель службы диспетчера StorSimple - управление устройством StorSimple и его настройка. Служба диспетчера StorSimple выполняется в Microsoft Azure. Вы вводите данные конфигурации устройства на портале управления Azure, а затем Microsoft Azure использует службу диспетчера StorSimple для отправки данных на устройство. Служба диспетчера StorSimple использует систему пар асимметричных ключей, чтобы гарантировать, что компрометация службы Azure не приведет к компрометации сохраненных сведений. Система асимметричных ключей помогает защитить данные, передающиеся в службе, следующим образом.

1. Сертификат шифрования данных, который использует пару открытого и закрытого асимметричных ключей, создается на устройстве и используется для защиты данных. Ключи создаются при регистрации первого устройства. 
2. Ключи сертификата шифрования данных экспортируются в файл обмена личной информацией (PFX-файл), защищенный ключом шифрования данных службы, который является надежным 128-разрядным ключом и создается случайно во время регистрации.
3. Службе диспетчера StorSimple предоставляется безопасный доступ к открытому ключу сертификата, а закрытый ключ остается на устройстве.
4. Данные, которые получает служба, шифруются с помощью открытого ключа и расшифровываются с помощью закрытого ключа, сохраненного на устройстве. Таким образом, служба Azure не может расшифровать данные, передающиеся на устройство.

> [AZURE.IMPORTANT]
> 
> * Ключ шифрования данных службы создается только на первом устройстве, зарегистрированном в службе. Все последующие устройства, которые регистрируются в службе, должны использовать тот же ключ шифрования данных службы. Очень важно сделать копию этого ключа и сохранить ее в расположении службы. Копия ключа шифрования данных службы должна быть сохранена таким образом, чтобы она была доступна только авторизованным пользователям и чтобы ее можно было легко передать администратору устройства.
> * Вы можете изменить ключ шифрования данных службы и соответствующий сертификат шифрования данных, выбрав параметр "Изменить ключ шифрования данных службы" на панели мониторинга службы. Для смены ключа шифрования необходимо, чтобы все устройства были обновлены с помощью нового ключа. Следовательно, рекомендуется изменять ключ, когда все устройства находятся в сети. Если устройства не в сети, их ключи можно изменить в другое время. Устройства с устаревшими ключами по-прежнему смогут запускать резервные копии, но не смогут восстановить данные, пока ключ не будет обновлен. Дополнительные сведения см. в разделе [Панель мониторинга службы](https://msdn.microsoft.com/library/azure/dn772326.aspx).
> * Чтобы гарантировать, что безопасность данных не будет скомпрометирована, необходимо использовать физическое устройство StorSimple для смены ключа шифрования данных службы.
> * Если ключ шифрования данных службы потерян, сотрудник службы поддержки Майкрософт может помочь вам извлечь его при условии, что хотя бы одно устройство находится в сети. После извлечения ключа шифрования данных рекомендуется изменить его. Для получения инструкций перейдите в раздел [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01).
> * Ключ шифрования данных службы и сертификат данных являются бессрочными. Однако рекомендуется регулярно менять ключ шифрования данных службы, чтобы предотвратить его компрометацию.</li></ul>


## Защита хранящихся данных

Устройство StorSimple управляет данными, сохраняя их в уровнях локально и в облаке, в зависимости от частоты использования. Все хост-компьютеры, подключенные к устройству, отправляют данные на устройство, которое затем перемещает их в облако. Данные передаются с устройства в облако по протоколу iSCSI. У каждого устройства есть одно целевое устройство iSCSI, которое охватывает все общие тома на этом устройстве. Все данные шифруются перед отправкой в облачное хранилище. Чтобы обеспечить безопасность и целостность данных, перемещенных в облако, Azure StorSimple позволяет определить ключи шифрования облачного хранилища следующим образом.

- Вы указываете ключ шифрования облачного хранилища при создании контейнера томов. Ключ невозможно изменить или добавить позже. 
- Все тома в контейнере томов содержат один ключ шифрования. Если вам нужен другой тип шифрования для определенного тома, рекомендуется создать новый контейнер томов для размещения этого тома.
- При вводе ключа шифрования облачного хранилища в службу диспетчера StorSimple ключ шифруется с помощью открытой части ключа шифрования данных службы, а затем отправляется на устройство.
- Ключ шифрования облачного хранилища не хранится в службе и известен только устройству.
- Назначать ключ шифрования облачного хранилища необязательно. Вы можете отправить зашифрованные данные на узел устройства.

## Защита данных с помощью учетных записей хранения

Каждая подписка Microsoft Azure может создать одну или несколько учетных записей хранения. (Учетная запись хранения предоставляет уникальное пространство имен для работы с данными, хранящимися в облаке Azure.) Доступ к учетной записи хранения контролируется подпиской и ключами доступа, связанными с учетной записью хранения. 

При создании учетной записи хранения Microsoft Azure создает два 512-разрядных ключа доступа к хранилищу. Обратите внимание, что используется только один из этих ключей. Другой ключ хранится в качестве резерва и позволяет времени от времени менять ключи. Для смены ключей следует активировать вторичный ключ, а затем изменить первичный. Затем вы можете создать новый ключ для использования во время их смены. (В целях безопасности многие центры обработки данных требуют смену ключей.) 

> [AZURE.IMPORTANT] 
> 
> Рекомендации по смене ключей.
> 
> * Следует регулярно выполнять смену ключей, чтобы неавторизованные пользователи не могли получить доступ к вашей учетной записи хранения.
> * Время от времени администратор Azure должен менять или повторно создавать первичный или вторичный ключ в разделе "Хранилище" портала управления для прямого доступа к учетной записи хранения.


## Защита данных с помощью шифрования

StorSimple использует следующие алгоритмы шифрования для защиты данных, хранящихся или передающихся между компонентами решения StorSimple.

| Алгоритм | Длина ключа | Протоколы, приложения, комментарии |
| --------- | ---------- | ------------------------------- |
| RSA       | 2048       | Портал управления использует RSA PKCS 1 v1.5 для шифрования данных конфигурации, которые отправляются на устройство: учетных данных учетной записи хранения, конфигурации устройства StorSimple и ключей шифрования облачного хранилища. |
| AES       | 256        | AES с CBC используется для шифрования открытой части ключа шифрования данных службы перед его отправкой на портал управления с устройства StorSimple. Этот алгоритм также используется устройством StorSimple для шифрования данных перед их отправкой в учетную запись облачного хранилища. |
| RSA       | 2048       | Портал управления использует RSA PKCS 1 v1.7 для шифрования открытой части ключа шифрования данных служб перед его сохранением в хранилище локального портала. |


## Часто задаваемые вопросы

Ниже приведены часто задаваемые вопросы о безопасности и Microsoft Azure StorSimple, а также ответы на них.

**Вопрос.** Моя служба скомпрометирована. Что мне следует сделать?

**Ответ.** Нужно немедленно изменить ключ шифрования данных службы и ключи учетной записи хранения, которая используется для распределения данных по уровням. Инструкции:

- [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01)
- [Смена ключей в учетных записях хранения](https://msdn.microsoft.com/library/azure/1747f56e-858a-4cfe-a020-949d7db23b8b#rotate)

**Вопрос.** У меня есть новое устройство StorSimple, которое запрашивает ключ регистрации службы. Как его извлечь?

**Ответ.** Этот ключ был создан при создании службы диспетчера StorSimple. При подключении к устройству с помощью службы диспетчера StorSimple можно открыть страницу быстрого запуска службы, чтобы просмотреть или повторно создать ключ регистрации службы. Создание нового ключа регистрации службы не повлияет на существующие зарегистрированные устройства. Инструкции:

- [Просмотр или повторное создание ключа регистрации службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#BKMK_viewsrk)

**Вопрос.** Ключ шифрования данных службы потерян. Что мне следует сделать?

**Ответ.** Обратитесь в службу поддержки Майкрософт. Сотрудник службы поддержки сможет войти в сеанс поддержки на вашем устройстве и помочь вернуть ключ. Сразу после получения ключа шифрования данных службы его следует изменить, чтобы он был известен только вам. Инструкции:

- [Изменение ключа шифрования данных службы](https://msdn.microsoft.com/library/azure/8158cbe9-1f26-4513-a031-49f88bb3d481#sec01)

**Вопрос.** Устройство было авторизовано для изменения ключа шифрования данных службы, но процесс смены ключа не начался. Что мне следует сделать?

**Ответ.** Если истек период времени ожидания, потребуется повторно авторизовать устройство для изменения ключа шифрования данных службы и начать процесс заново.

**Вопрос.** Ключ шифрования данных службы был изменен, но мне не удалось обновить другие устройства в течение четырех часов. Нужно ли начинать все заново?

**Ответ.** Четырехчасовой период относится только к инициации изменения ключа. После запуска обновления на авторизованном устройстве StorSimple авторизация будет действительна до тех пор, пока все устройства не будут обновлены.

**Вопрос.** Наш администратор StorSimple уволился из компании. Что мне следует сделать?

**Ответ.** Измените и сбросьте пароли, разрешающие доступ к устройству StorSimple, и измените ключ шифрования данных службы, чтобы новая информация не была известна неавторизованным сотрудникам. Инструкции:

- [Настройка диспетчера моментальных снимков StorSimple](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec08)
- [Настройка пароля администратора устройства](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec09)
- [Настройка удаленного управления](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec10)
- [Настройка инициатора CHAP](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec06)
- [Настройка целевого устройства CHAP](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec07)

**Вопрос.** Я хочу предоставить пароль диспетчера моментальных снимков StorSimple узлу, который подключается к устройству StorSimple, но пароль недоступен. Что я могу сделать?

**Ответ.** Если вы забыли пароль, следует создать новый. После этого сообщите всем существующим пользователям, что пароль был изменен и им следует обновить его в своих клиентах. Инструкции:

- [Настройка диспетчера моментальных снимков](https://msdn.microsoft.com/library/azure/02f1412f-e196-4a88-8eda-2113247ea47c#sec08)
- [Проверка подлинности устройства](https://msdn.microsoft.com/library/azure/dn790537.aspx)

**Вопрос.** Сертификат для удаленного доступа к Windows PowerShell для StorSimple был изменен на устройстве. Как обновить клиенты удаленного доступа?

**Ответ.** Вы можете скачать новый сертификат из службы диспетчера StorSimple, а затем предоставить его для установки в хранилище сертификатов в клиентах удаленного доступа. Инструкции:

- [Командлет Import-Certificate](https://technet.microsoft.com/library/hh848630.aspx)

**Вопрос.** Мои данные защищены, если служба диспетчера StorSimple скомпрометирована?

**Ответ.** Данные конфигурации службы всегда зашифрованы с помощью открытого ключа, если вы просматриваете их в браузере. Так как служба не имеет доступа к закрытому ключу, служба не сможет увидеть какие-либо данные. Компрометация службы диспетчера StorSimple Manager не влияет на это, так как в службе диспетчера StorSimple ключи не хранятся.

**Вопрос.** Если кто-то получает доступ к сертификату шифрования данных, будут ли мои данные скомпрометированы?

**Ответ.** Microsoft Azure хранит ключ шифрования данных клиента (PFX-файл) в зашифрованном виде. Так как PFX-файл зашифрован, а в службе StorSimple нет ключа шифрования данных службы для расшифровки PFX-файла, получение доступа к PFX-файлу не раскроет конфиденциальной информации.

**Вопрос.** Что произойдет, если государственное лицо запросит в Майкрософт мои данные?

**Ответ.** Так как все данные зашифрованы, а закрытый ключ хранится на устройстве, государственное лицо должно запросить данные у клиента.

## Дальнейшие действия

[Начало работы с физическим устройством](https://msdn.microsoft.com/library/azure/dn772410.aspx)


<!--HONumber=52--> 