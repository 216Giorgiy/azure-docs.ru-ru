<properties
   pageTitle="Обновление приложений: дополнительные темы | Microsoft Azure"
   description="В этой статье рассматриваются некоторые дополнительные темы, относящиеся к обновлению приложения структуры служб."
   services="service-fabric"
   documentationCenter=".net"
   authors="mani-ramaswamy"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="07/17/2015"
   ms.author="subramar"/>

# Обновление приложений Service Fabric: дополнительные темы

## Ручной режим обновления

> [AZURE.NOTE]Неотслеживаемый ручной режим должен использоваться только для сбойных или отложенных обновлений. Отслеживаемый режим рекомендуется для использования с приложениями Service Fabric.

Service Fabric обеспечивает применение нескольких режимов обновления для поддержки кластеров разработки и рабочих кластеров. Каждый из вариантов развертывания идеально подходит для разных типов сред.

Отслеживаемое последовательное обновление приложений является наиболее распространенным типом обновления, используемым в рабочей среде. При определении политики обновления структура служб обеспечивает работоспособность приложения перед продолжением обновления.

 Администратор приложения может использовать режим ручного последовательного обновления приложений для обеспечения полного контроля над ходом процесса обновления для различных доменов обновления. Этот режим полезен для определенных ситуаций, в которых необходима более настраиваемая или сложная политика оценки работоспособности или необходимо нестандартное обновление (например, приложение уже потеряло некоторые данные).

Наконец, автоматизированное последовательное обновление полезно для сред разработки или тестирования, что обеспечивает быстрый цикл итераций во время разработки службы.

## Переключение в ручной режим обновления
**Ручной**. Остановите обновление приложения на текущем домене обновления и измените режим обновления на "Неотслеживаемый ручной". Администратору необходимо вручную вызвать команду **MoveNextApplicationUpgradeDomainAsync**, чтобы продолжить обновление, или запустить откат, начав новое обновление. После того как обновление перейдет в ручной режим, оно остается в нем до тех пор, пока не будет запущено новое обновление. Команда **GetApplicationUpgradeProgressAsync** возвращает FABRIC\_APPLICATION\_UPGRADE\_STATE\_ROLLING\_FORWARD\_PENDING.

## Обновление при помощи пакета diff

Приложение структуры служб может обновляться путем подготовки полного самостоятельного пакета приложения. Приложение может также быть обновлено путем использования пакета diff, который содержит только обновленные файлы приложения и манифеста приложения , а также файлы манифеста служб.

Полный пакет приложений содержит все необходимые файлы для запуска и выполнения приложения структуры служб. Пакет diff содержит только файлы, которые изменились между последним выделением приложения и текущим обновлением, плюс полные файлы манифеста приложения и служб. Если Service Fabric не может найти в макете сборки ссылку, указанную в манифесте приложения или манифесте службы, она попытается найти ее в хранилище образов.

Для первичной установки приложений в кластер необходимы полные пакеты приложений. При последующих обновлениях может использоваться либо полный пакет обновлений, либо пакет diff.

Случаи, в которых использование пакета diff является оптимальным.

* Пакет diff предпочтительно применять тогда, когда используется объемный пакет приложения, который ссылается на несколько файлов манифеста службы или на несколько пакетов кода, пакетов конфигурации или пакетов данных.

* Использование пакета diff является предпочтительным в случае, если система развертывания формирует структуру сборки напрямую в ходе создания сборки приложения. В этом случае, хотя в самом коде ничего не изменилось, новые сборки будут обладать другой контрольной суммой. Использование полного пакета приложения потребует обновления версии всех пакетов кода. При использовании пакета diff вы предоставляете только измененные файлы и файлы манифеста, версия которых изменилась.

## Дальнейшие действия

[Учебник по обновлению](service-fabric-application-upgrade-tutorial.md)

[Параметры обновления](service-fabric-application-upgrade-parameters.md)

[Сериализация данных](service-fabric-application-upgrade-data-serialization.md)

[Поиск и устранение неисправностей при обновлениях приложения](service-fabric-application-upgrade-troubleshooting.md)

<!---HONumber=AcomDC_0121_2016-->