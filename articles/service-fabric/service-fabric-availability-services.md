---
title: "Доступность служб Service Fabric | Документация Майкрософт"
description: "Описание процессов обнаружения сбоев, отработки отказа, восстановления для служб"
services: service-fabric
documentationcenter: .net
author: appi101
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/10/2016
ms.author: aprameyr
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: af0880503cc720d86b81a6ec3d74197afe8de08d


---
# <a name="availability-of-service-fabric-services"></a>Доступность служб структуры служб
Службы Azure Service Fabric могут предусматривать или не предусматривать отслеживание состояния. Настоящая статья предоставляет обзор способа, который используется в структуре служб для поддержания доступности службы в случае сбоев.

## <a name="availability-of-service-fabric-stateless-services"></a>Доступность служб без отслеживания состояния в структуре служб
Служба без отслеживания состояния — это служба приложения, которая не имеет [локального постоянного состояния](service-fabric-concepts-state.md).

Создание службы без отслеживания состояний требует задания определенного количества экземпляров службы без отслеживания состояния, которая должна быть запущена в кластере. В кластере реализуется определенное количество копий соответствующей логики приложения. Увеличение количества экземпляров — это рекомендованный способ масштабирования службы без отслеживания состояния.

При обнаружении ошибки в любом из экземпляров службы без отслеживания состояния будет создана новая служба на каком-либо другом подходящем узле кластера.

## <a name="availability-of-service-fabric-stateful-services"></a>Доступность служб с отслеживанием состояния в структуре служб
Служба с отслеживанием состояния обладает определенным состоянием, которое с ней связано. В структуре служб служба с отслеживанием состояния моделируется в виде набора реплик. Каждая реплика является экземпляром кода службы, в которой имеется копия состояния. Операции чтения и записи выполняются в одной реплике (которая называется первичной). Изменения в состоянии, вызванные операциями записи, *реплицируются* на множество других реплик (которые называются активными вторичными репликами). Это сочетание первичной и активных вторичных реплик представляет собой набор реплик службы.

Первичная реплика, обслуживающая запросы на чтение и запись, может быть только одна. Активных вторичных реплик может быть несколько. Количество активных вторичных реплик является настраиваемым, и большее количество вторичных реплик позволяет обрабатывать большее количество программных и аппаратных сбоев.

В случае сбоя (при котором первичная реплика перестает работать) Service Fabric передает функции первичной реплики одной из активных вторичных реплик. Активная вторичная реплика уже имеет обновленную версию состояния (через *репликацию*) и может продолжить дальнейшую обработку операций чтения и записи.

Такое представление о том, что реплика может быть первичной или активной вторичной, известно как роль реплики.

### <a name="replica-roles"></a>Роли реплик
Роль реплики используется для управления жизненным циклом состояния, управляемого этой репликой. Реплика, роль которой определена как первичная, обслуживает запросы на чтение. Кроме того, она обслуживает запросы на запись путем обновления своего состояния и репликации изменений на активные вторичные реплики в своем наборе реплик. Активная вторичная реплика отвечает за получение изменений состояния, реплицируемых первичной репликой, а также за обновление представления о собственном состоянии.

> [!NOTE]
> Модели программирования более высокого уровня, такие как [среда Reliable Actors](service-fabric-reliable-actors-introduction.md) , абстрагируют представление о роли реплики от разработчика.
> 
> 

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о концепциях Service Fabric см. в следующих статьях:

* [Масштабируемость служб структуры служб](service-fabric-concepts-scalability.md)
* [Разделение служб Service Fabric](service-fabric-concepts-partitioning.md)
* [Определение состояния и управление им](service-fabric-concepts-state.md)




<!--HONumber=Nov16_HO3-->


