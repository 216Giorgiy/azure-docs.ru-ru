---
title: "Доступность служб Service Fabric | Документация Майкрософт"
description: "Описание процессов обнаружения сбоев, отработки отказа, восстановления для служб"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 01/05/2017
ms.author: masnider
translationtype: Human Translation
ms.sourcegitcommit: dafaf29b6827a6f1c043af3d6bfe62d480d31ad5
ms.openlocfilehash: 1db7b4bcfa4b7c474a4b0eb4ef469a6cb1fe54a0


---
# <a name="availability-of-service-fabric-services"></a>Доступность служб структуры служб
В этой статье представлен обзор способа, который используется в Service Fabric для поддержания доступности службы.

## <a name="availability-of-service-fabric-stateless-services"></a>Доступность служб без отслеживания состояния в структуре служб
Службы Azure Service Fabric могут предусматривать или не предусматривать отслеживание состояния. Служба без отслеживания состояния — это служба приложения, которая не имеет [локального постоянного состояния](service-fabric-concepts-state.md).

При создании службы без отслеживания состояния требуется определить число экземпляров. Число экземпляров определяет количество экземпляров логики приложения службы без отслеживания состояния, которые нужно запустить в кластере. Увеличение количества экземпляров — это рекомендованный способ развертывания службы без отслеживания состояния.

При обнаружении ошибки в любом из экземпляров службы без отслеживания состояния будет создана новая служба на другом подходящем узле кластера.

## <a name="availability-of-service-fabric-stateful-services"></a>Доступность служб с отслеживанием состояния в структуре служб
Служба с отслеживанием состояния обладает определенным состоянием, которое с ней связано. В структуре служб служба с отслеживанием состояния моделируется в виде набора реплик. Каждая реплика является экземпляром кода службы, в которой имеется копия состояния. Операции чтения и записи выполняются в одной реплике (которая называется первичной). Изменения в состоянии, вызванные операциями записи, *реплицируются* на множество других реплик (которые называются активными вторичными репликами). Это сочетание первичной и активных вторичных реплик представляет собой набор реплик службы.

Первичная реплика, обслуживающая запросы на чтение и запись, может быть только одна. Активных вторичных реплик может быть несколько. Количество активных вторичных реплик можно настроить. Большее количество вторичных реплик позволяет обрабатывать большее количество программных и аппаратных сбоев.

В случае сбоя первичной реплики Service Fabric передает функции первичной реплики одной из активных вторичных реплик. Активная вторичная реплика уже имеет обновленную версию состояния (через *репликацию*) и может продолжить дальнейшую обработку операций чтения и записи.

Такое представление о том, что реплика может быть первичной или активной вторичной, известно как роль реплики.

### <a name="replica-roles"></a>Роли реплик
Роль реплики используется для управления жизненным циклом состояния, управляемого этой репликой. Реплика, роль которой определена как первичная, обслуживает запросы на чтение. Первичная реплика также обслуживает запросы на запись путем обновления своего состояния и репликации изменений. Эти изменения применяются к активным вторичным репликам в наборе реплик. Активная вторичная реплика отвечает за получение изменений состояния, реплицируемых первичной репликой, а также за обновление представления о собственном состоянии.

> [!NOTE]
> Модели программирования более высокого уровня, такие как [среда Reliable Actors](service-fabric-reliable-actors-introduction.md) и [Reliable Services](service-fabric-reliable-services-introduction.md) абстрагируют представление о роли реплики от разработчика. В субъектах понятие роли не требуется, хотя в службах, при необходимости, его можно увидеть, но оно во многом упрощенное.
>
>

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о концепциях Service Fabric см. в следующих статьях:

* [Масштабируемость служб структуры служб](service-fabric-concepts-scalability.md)
* [Разделение служб Service Fabric](service-fabric-concepts-partitioning.md)
* [Определение состояния и управление им](service-fabric-concepts-state.md)
* [Надежные службы](service-fabric-reliable-services-introduction.md)



<!--HONumber=Jan17_HO1-->


