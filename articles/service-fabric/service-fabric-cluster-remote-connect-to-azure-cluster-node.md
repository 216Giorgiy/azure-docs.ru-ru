---
title: Удаленное подключение к узлу кластера Azure Service Fabric | Документация Майкрософт
description: Узнайте, как установить удаленное подключение к экземпляру масштабируемого набора (узел кластера Service Fabric).
services: service-fabric
documentationcenter: .net
author: aljo-microsoft
manager: timlt
editor: ''
ms.assetid: 5441e7e0-d842-4398-b060-8c9d34b07c48
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 03/23/2018
ms.author: aljo
ms.openlocfilehash: 68e3b8ae5bdaa3ad9f1c470294ef5c3bcf0c1893
ms.sourcegitcommit: 9cdd83256b82e664bd36991d78f87ea1e56827cd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="remote-connect-to-a-virtual-machine-scale-set-instance-or-a-cluster-node"></a>Удаленное подключение к экземпляру масштабируемого набора виртуальных машин или узлу кластера
В кластере Service Fabric в Azure для каждого определяемого типа узла кластера [настраивается отдельный масштаб виртуальных машин](service-fabric-cluster-nodetypes.md).  Вы можете установить удаленное подключение к определенным экземплярам масштабируемого набора (или узлам кластера).  В отличие от одноэкземплярных виртуальных машин, экземпляры масштабируемых наборов не имеют собственных виртуальных IP-адресов. Поэтому поиск IP-адреса и порта, которые можно использовать для удаленного подключения к определенному экземпляру, может оказаться непростой задачей.

Чтобы найти IP-адрес и порт, которые можно использовать для удаленного подключения к определенному экземпляру, выполните следующие действия.

1. Найдите виртуальные IP-адреса для каждого типа узла, получив правила преобразования сетевых адресов для входящих подключений для протокола удаленного рабочего стола (RDP).

    Сначала необходимо получить значения правил преобразования сетевых адресов для входящих подключений, определенные при определении ресурса для `Microsoft.Network/loadBalancers`.
    
    На портале Azure на странице балансировщика нагрузки выберите **Параметры** > **Правила NAT для входящего трафика**. Вы увидите IP-адрес и порт, которые можно использовать для удаленного подключения к первому экземпляру масштабируемого набора. 
    
    ![Подсистема балансировки нагрузки][LBBlade]
    
    На следующем рисунке показан IP-адрес **104.42.106.156** и порт **3389**.
    
    ![Правила преобразования сетевых адресов][NATRules]

2. Найдите порт, который можно использовать для удаленного подключения к конкретному экземпляру или узлу масштабируемого набора.

    Экземпляры масштабируемых наборов сопоставляются с узлами. Информация о масштабируемом наборе позволяет точно определить порт, который нужно использовать.
    
    Порты выделяются в возрастающем порядке в соответствии с экземпляром масштабируемого набора. Для приведенного выше типа узла FrontEnd в следующей таблице указаны порты для каждого из пяти экземпляров узла. Применяйте к экземпляру масштабируемого набора одно то же сопоставление.
    
    | **Экземпляр масштабируемого набора виртуальных машин** | **Порт** |
    | --- | --- |
    | FrontEnd_0 |3389 |
    | FrontEnd_1 |3390 |
    | FrontEnd_2 |3391 |
    | FrontEnd_3 |3392 |
    | FrontEnd_4 |3393 |
    | FrontEnd_5 |3394 |

3. Установите удаленное подключение к определенному экземпляру масштабируемого набора.

    На следующем рисунке показано подключение к экземпляру масштабируемого набора FrontEnd_1 с использованием подключения к удаленному рабочему столу:
    
    ![Подключение к удаленному рабочему столу][RDP]


На следующем этапе ознакомьтесь с указанными ниже статьями:
* Дополнительные сведения о возможности развертывания в любом месте и сравнении с кластерами под управлением Azure см. в статье [Создание кластеров Service Fabric в Windows Server или Linux](service-fabric-deploy-anywhere.md).
* Дополнительные сведения о безопасности кластеров см. в статье [Сценарии защиты кластера Service Fabric](service-fabric-cluster-security.md).
* [Обновление значений диапазона портов RDP](./scripts/service-fabric-powershell-change-rdp-port-range.md) в кластере виртуальных машин после развертывания
* [Обновление имени пользователя и пароля администратора](./scripts/service-fabric-powershell-change-rdp-user-and-pw.md) для виртуальных машин кластера

<!--Image references-->
[LBBlade]: ./media/service-fabric-cluster-remote-connect-to-azure-cluster-node/LBBlade.png
[NATRules]: ./media/service-fabric-cluster-remote-connect-to-azure-cluster-node/NATRules.png
[RDP]: ./media/service-fabric-cluster-remote-connect-to-azure-cluster-node/RDP.png
