---
title: "Интерфейс командной строки Azure Service Fabric : sfctl choas | Документация Майкрософт"
description: "Описание команд sfctl chaos интерфейса командной строки Azure Service Fabric."
services: service-fabric
documentationcenter: na
author: rwike77
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: cli
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 09/22/2017
ms.author: ryanwi
ms.translationtype: HT
ms.sourcegitcommit: cb9130243bdc94ce58d6dfec3b96eb963cdaafb0
ms.openlocfilehash: 7118ec3f5aeae40fa7ecc592309a28b585c651a1
ms.contentlocale: ru-ru
ms.lasthandoff: 09/26/2017

---
# <a name="sfctl-chaos"></a>sfctl chaos
Запуск и остановка службы хаотического тестирования, а также вывод отчета о ее работе.

## <a name="commands"></a>Команды

|Команда|Описание|
| --- | --- |
|    report| Возвращает следующий сегмент отчета Chaos, основанного на переданном маркере продолжения или прошедшем диапазоне времени.|
|    start | Если служба Chaos еще не запущена в кластере, запускает ее с указанными параметрами.|
|    stop  | Останавливает службу Chaos в кластере, если она уже запущена. В противном случае он не выполняет никаких действий.|


## <a name="sfctl-chaos-report"></a>sfctl chaos report
Возвращает следующий сегмент отчета Chaos, основанного на переданном маркере продолжения или прошедшем диапазоне времени.

Можно указать ContinuationToken для получения следующего сегмента отчета Chaos или указать диапазон времени с помощью параметров StartTimeUtc и EndTimeUtc, но нельзя указать ContinuationToken и диапазон времени одновременно. При наличии более 100 событий Chaos отчет Chaos возвращается по сегментам, каждый из которых содержит не более 100 событий. 

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --continuation-token| Параметр маркера продолжения используется для получения следующего набора результатов. Маркер продолжения с непустым значением добавляется в ответ API, когда результаты из системы не помещаются в одном ответе. Когда это значение передается в следующем вызове API, API возвращает следующий набор результатов. Если следующий набор результатов отсутствует, маркер продолжения не содержит значения. Значение этого параметра не должно быть указано в формате URL-адреса.|
| --end-time-utc   | Количество тактов, представляющее время окончания периода, за который создается отчет Chaos.
                          Chaos report is to be generated. Please consult [DateTime.Ticks
                          Property](https://msdn.microsoft.com/en-
                          us/library/system.datetime.ticks%28v=vs.110%29) for details about tick.|
| --start-time-utc | Количество тактов, представляющее время окончания периода, за который создается отчет Chaos. Чтобы получить дополнительные сведения о такте, ознакомьтесь со [свойством DateTime.Ticks] (https://msdn.microsoft.com/en-us/library/system.datetime.ticks%28v=vs.110%29).| | --timeout -t     | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug          | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h        | Отображение этого справочного сообщения и выход.|
| --output -o      | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query          | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose        | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-chaos-start"></a>sfctl chaos start
Если служба Chaos еще не запущена в кластере, запускает ее с указанными параметрами.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --app-type-health-policy-map  | Список в формате JSON, содержащий максимальный процент неработоспособных приложений для конкретных типов приложений. Каждая запись содержит ключ, представляющий имя типа приложения, и значение — целое число, представляющее процент MaxPercentUnhealthyApplications, используемый для оценки приложений для указанного типа приложения.|
| --disable-move-replica-faults | Отключает отображение сообщения об ошибке при перемещении первичной реплики и вторичной реплики.|
| --max-cluster-stabilization| Максимальное время ожидания перехода всех сущностей кластера в устойчивое работоспособное состояние.  Значение по умолчанию: 60.|
| --max-concurrent-faults    | Максимальное количество одновременных ошибок, вызываемых при итерации.           Значение по умолчанию: 1.|
| --max-percent-unhealthy-apps  | Во время оценки работоспособности кластера при выполнении службы Chaos: максимально допустимый процент неработоспособных приложений, по достижении которого сообщается об ошибке.|
| --max-percent-unhealthy-nodes | Во время оценки работоспособности кластера при выполнении службы Chaos: максимально допустимый процент неработоспособных узлов, по достижении которого сообщается об ошибке.|
| --time-to-run              | Общее время выполнения службы Chaos (в секундах) до того, как она будет автоматически остановлена. Максимально допустимое значение: 4 294 967 295 (System.UInt32.MaxValue).  Значение по умолчанию: 4 294 967 295.|
| --timeout -t               | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|
| --wait-time-between-faults | Время ожидания (в секундах) между последовательными сбоями в пределах одной итерации.  Значение по умолчанию: 20.|
| --wait-time-between-iterations| Интервал времени (в секундах) между двумя последовательными итерациями службы Chaos.  Значение по умолчанию: 30.|
| --warning-as-error         | Во время оценки работоспособности кластера при выполнении службы Chaos: учет предупреждений с такой же степенью серьезности, что и у ошибок.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug                    | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h                  | Отображение этого справочного сообщения и выход.|
| --output -o                | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.           Значение по умолчанию: json.|
| --query                    | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose                  | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-chaos-stop"></a>sfctl chaos stop
Останавливает службу Chaos в кластере, если она уже запущена. В противном случае он не выполняет никаких действий.

Служба Chaos перестает планировать дальнейшие ошибки, но это не влияет на активные ошибки.

### <a name="arguments"></a>Аргументы

|Аргумент|Описание|
| --- | --- |
| --timeout -t| Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|Описание|
| --- | --- |
| --debug  | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h| Отображение этого справочного сообщения и выход.|
| --output -o | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query  | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose| Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="next-steps"></a>Дальнейшие действия
- [Настройте](service-fabric-cli.md) интерфейс командной строки Service Fabric.
- Узнайте, как использовать интерфейс командной строки Service Fabric, с помощью [примеров сценариев](/azure/service-fabric/scripts/sfctl-upgrade-application).
