<properties
   pageTitle="Масштабирование служб структуры служб"
   description="Описывает процесс выполнения служб структурой служб"
   services="service-fabric"
   documentationCenter=".net"
   authors="appi101"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="04/23/2015"
   ms.author="aprameyr"/>

# Масштабирование приложений структуры служб
Структура служб упрощает создание масштабируемых приложений с использованием служб балансировки нагрузки, разделов и реплик на всех узлах кластера. Это позволяет добиться максимально эффективного использования ресурсов.

Широких возможностей масштабирования для приложений структуры служб можно достичь двумя службами:

1. Масштабирование на уровне раздела

2. Масштабирование на уровне имени службы

## Масштабирование на уровне раздела
Структура службы поддерживает секционирование по разделам отдельной службы на несколько более мелких разделов. В разделе [Обзор по разделам](service-fabric-concepts-partitioning.md) содержится информация о поддерживаемых типах схем секционирования на разделы. Реплики на каждом разделе распределяются по узлам в кластере. Рассмотрим службу, использующую схему дистанционного секционирования с низким значением ключа 0 и высоким значением ключа 99, с 4 разделами. В кластере с тремя узлами служба может состоять из четырех реплик, совместно использующих ресурсы каждого узла, как показано ниже.

![Макет разделения с тремя узлами](./media/service-fabric-concepts-scalability/layout-three-nodes.png)

Увеличение числа узлов позволит структуре служб использовать ресурсы на новых узлах путем перемещения некоторых реплик на пустые узлы. Таким образом, повышение количества узлов до четырех приведет к размещению трех реплик на каждом узле (из разных разделов), что обеспечивает более эффективное использование ресурсов и более высокую производительность.

![Макет разделения с четырьмя узлами](./media/service-fabric-concepts-scalability/layout-four-nodes.png)

## Масштабирование на уровне имени службы
Экземпляр службы представляет собой конкретный именованный экземпляр приложения с определенным именем и именем типа службы (см. [Жизненный цикл приложения структуры службы](service-fabric-application-lifecycle.md)). Именно во время создания службы необходимо указать схему секционирования ([разделение служб структуры служб](service-fabric-concepts-partitioning.md)), которая будет использоваться.

Первый уровень масштабирования опирается на имена служб. Вы можете создавать новые экземпляры службы с разными уровнями секционирования по мере того, как старые экземпляры становятся занятыми. Это позволяет новым клиентам службы использовать менее загруженные экземпляры служб в предпочтение более загруженным.

Возможность увеличения мощности, повышения или снижения числа разделов заключается в создании нового экземпляра службы с новой схемой секционирования. Сложность состоит в том, что всем клиентам-потребителям необходимо знать, как использовать службу с другим именем.

### Пример сценария — встроенные даты
Один возможный сценарий заключается в использовании сведений о дате как части имени службы. Например, вы могли бы использовать экземпляр службы с конкретным именем для всех клиентов, зарегистрировавшихся в 2013 году, и другим именем для клиентов, зарегистрировавшихся в 2014 году. Такая схема именования позволяет программно повысить количество имен в зависимости от даты (к началу 2014 года можно по запросу создать экземпляр службы для 2014 года).

Однако этот подход основывается на клиентах, использующих сведения об именовании в зависимости от приложения за пределами информации структуры служб.

- *Использование соглашения об именовании*. В 2013 году, когда приложение было создано, вы создали одну службу с именем fabric:/app/service2013. Ко второму кварталу 2013 года вы создали другую службу с называнием fabric:/app/service2014. Обе эти службы принадлежат к одному типу. При таком подходе вашему клиенту потребуется логическое решение, позволяющее называть службы с учетом года.

- *Использование службы поиска*. Другой способ заключается в использовании вторичной "службы поиска", которая может предоставлять имя службы для желаемого ключа. Новые экземпляры служб могут быть созданы при помощи службы поиска. В самой службе поиска данные приложения не сохраняются, а сохраняются только данные об имени экземпляра службы, созданной при помощи службы поиска. Таким образом, в том же примере выше, основанном на годах, клиенту сначала пришлось бы связаться со службой поиска, чтобы узнать имя службы, в которой выполняется обработка данных для определенного года, а затем использовать имя службы для выполнения фактической операции. Результат первого поиска можно сохранить в кэше.

## Дальнейшие действия

Сведения о понятиях, принятых для структуры служб, см. в следующих статьях:

- [Доступность служб структуры служб](service-fabric-availability-services.md)

- [Разделение служб структуры служб](service-fabric-concepts-partitioning.md)

- [Определение состояния и управление им](service-fabric-concepts-state.md)
 

<!---HONumber=July15_HO4-->