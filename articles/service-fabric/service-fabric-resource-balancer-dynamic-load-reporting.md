<properties
   pageTitle="Передача данных о динамической нагрузке"
   description="Передача данных о динамической нагрузке в балансировщик: общие сведения."
   services="service-fabric"
   documentationCenter=".net"
   authors="abhic"
   manager="timlt"
   editor=""/>

<tags
   ms.service="Service-Fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="04/27/2015"
   ms.author="abhic"/>

# Передача данных о динамической нагрузке: общие сведения

Во время выполнения объекты служб с отслеживанием и без отслеживания состояния могут передавать сведения о нагрузке с помощью метода ReportLoad (используется в интерфейсах IStatefulServicePartition и IStatelessServicePartition). Передача значений нагрузки во время выполнения очень важна, так как эти сведения позволяют правильно упаковывать службы на узлы и помогают центральному балансировщику ресурсов Service Fabric точно отслеживать использование ресурсов.

Обратите внимание, что, когда реплика сообщает о нагрузке, сначала эти данные локально добавляются в пакет вместе с другими данными о нагрузке, а затем этот пакет отправляется в балансировщик ресурсов. Этот процесс означает, что, если служба сообщает о нагрузке многократно и очень быстро, в балансировщик ресурсов фактически отправляются только последние данные.

Балансировщик ресурсов Service Fabric во время запуска проверяет все сведения о нагрузке, собранные со всех узлов, и выполняет некоторые проверки. В частности, проверяются пороговое значение балансировки и пороговые значения действий, как определено в манифесте кластера. Эти значения позволяют определить, достиг ли дисбаланс кластера степени, когда нужно запускать балансировщик ресурсов. Кроме того, они позволяют определить превышение значений по отслеживаемым метрикам, которые заданы для конкретного узла. В случае превышения какого-то значения балансировщик ресурсов сначала рассматривает только те службы на узле или узлах, у которых превышена именно эта метрика. При дисбалансе кластера балансировщик ресурсов сравнивает все службы с одинаковыми метриками с той службой, метрика которой свидетельствует о дисбалансе. Если балансировщик ресурсов выявляет любую из этих ситуаций, запускается специальное моделирование, в процессе которого выполняется поиск лучшего размещения служб в кластере.

Службы должны сообщать о нагрузке всякий раз, когда она изменяется, и не должны самостоятельно агрегировать или «выравнивать» эти данные.

Когда служба сообщает о своей нагрузке, эти данные перезаписывают значения нагрузки первичных и вторичных ролей (значения по умолчанию, которые определяются во время создания службы). Таким образом, эти данные становятся новыми значениями нагрузки, которые балансировщик ресурсов Service Fabric будет использовать при принятии решения о необходимости балансировки или перемещения служб.



<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->
## Дальнейшие действия

Дополнительные сведения см. в статье [Архитектура балансировщика ресурсов](service-fabric-resource-balancer-architecture.md).
 

<!---HONumber=July15_HO2-->