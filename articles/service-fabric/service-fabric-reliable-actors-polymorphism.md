<properties
   pageTitle="Полиморфизм на платформе субъектов | Microsoft Azure"
   description="Создание иерархий интерфейсов .NET и типов на платформе Reliable Actors для многократного использования функций и определений API-интерфейсов."
   services="service-fabric"
   documentationCenter=".net"
   authors="seanmck"
   manager="coreysa"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="10/15/2015"
   ms.author="seanmck"/>

# Полиморфизм на платформе Reliable Actor

Платформа Reliable Actor упрощает программирование распределенных систем, позволяя создавать службу с помощью целого ряда тех же самых методов, которые используется в объектно-ориентированном проектировании. Одним из них является полиморфизм, благодаря которому типы и интерфейсы могут наследовать от более обобщенных родительских элементов. Наследование на платформе субъектов обычно соответствует модели .NET с несколькими дополнительными ограничениями.

## Интерфейсы

Для использования платформы субъектов требуется определить по крайней мере один интерфейс, который будет реализован типом субъекта. Этот интерфейс применяется для создания прокси-класса, используемого клиентами для взаимодействия с вашими субъектами. Интерфейсы могут наследовать от других интерфейсов, пока каждый интерфейс реализуется типом субъекта и все его родительские элементы в конечном счете являются производными от IActor, определенного платформой базового интерфейса для субъектов. Таким образом, классический пример полиморфизма, использующий фигуры, может выглядеть примерно следующим образом:

![Иерархия интерфейса для формирования субъектов][shapes-interface-hierarchy]


## Типы

Можно также создать иерархию типов субъектов, производных от базового класса Actor, предоставляемого платформой. Для субъектов с отслеживанием состояния подобным образом можно создать иерархию типов состояния. В случае использования фигур у вас может быть базовый тип `Shape` с типом состояния `ShapeState`.

    public abstract class Shape : Actor<ShapeState>, IShape
    {
        ...
    }

Подтипы `Shape` могут применять подтипы `ShapeType` для хранения более конкретных свойств.

    [ActorService(Name = "Circle")]
    public class Circle : Shape, ICircle
    {
        private CircleState CircleState => this.State as CircleState;

        public override ShapeState InitializeState()
        {
            return new CircleState();
        }

        [Readonly]
        public override Task<int> GetVerticeCount()
        {
            return Task.FromResult(0);
        }

       [Readonly]
       public override Task<double> GetArea()
       {
           return Task.FromResult(
               Math.PI*
               this.CircleState.Radius*
               this.CircleState.Radius);
       }

       ...
    }

Обратите внимание на атрибут `ActorService` в типе субъекта. Он сообщает пакету SDK Service Fabric, что необходимо автоматически создать службу для размещения субъектов этого типа. В некоторых случаях может потребоваться создать базовый тип, который предназначен исключительно для использования функциональных возможностей совместно с подтипами и никогда не будет использоваться для создания конкретных субъектов. Здесь следует применять ключевое слово `abstract`, указывающее, что вы никогда не будете создавать субъект на основе этого типа.


## Дальнейшие действия

- Узнайте, [каким образом платформа Reliable Actors использует платформу Service Fabric](service-fabric-reliable-actors-platform.md) для обеспечения надежности, масштабируемости и согласованного состояния.
- Узнайте о [жизненном цикле субъекта](service-fabric-reliable-actors).

<!-- Image references -->

[shapes-interface-hierarchy]: ./media/service-fabric-reliable-actors-polymorphism/Shapes-Interface-Hierarchy.png

<!---HONumber=Nov15_HO4-->