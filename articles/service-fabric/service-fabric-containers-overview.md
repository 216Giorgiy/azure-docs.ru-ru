---
title: "Общие сведения о Service Fabric и контейнерах | Документация Майкрософт"
description: "Обзор Service Fabric и использования контейнеров для развертывания приложений микрослужб. В этой статье содержатся общие сведения об использовании контейнеров и возможностях, предоставляемых Service Fabric."
services: service-fabric
documentationcenter: .net
author: msfussell
manager: timlt
editor: 
ms.assetid: c98b3fcb-c992-4dd9-b67d-2598a9bf8aab
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 2/6/2017
ms.author: msfussell
translationtype: Human Translation
ms.sourcegitcommit: 93e0493e6a62a70a10b8315142765a3c3892acd1
ms.openlocfilehash: abf5e4bc69aa32ca9af8998ef81de20baae24560
ms.lasthandoff: 02/08/2017


---
# <a name="preview-service-fabric-and-containers"></a>Service Fabric и контейнеры (предварительная версия)
> [!NOTE]
> Эта функция доступна в режиме предварительной версии для Windows Server 2016 и Linux. 
>   

## <a name="introduction"></a>Введение
Azure Service Fabric — [оркестратор](service-fabric-cluster-resource-manager-introduction.md) служб в кластере компьютеров, который многие годы используется в средах с крупномасштабными службами и оптимизируется корпорацией Майкрософт. Службы можно разрабатывать разными способами, начиная от использования [моделей программирования Service Fabric](service-fabric-choose-framework.md) и заканчивая развертыванием [гостевых исполняемых файлов](service-fabric-deploy-existing-app.md). По умолчанию Service Fabric развертывает и активирует эти службы как процессы. Процессы обеспечивают самую быструю активацию и максимальную плотность использования ресурсов в кластере. Service Fabric также позволяет развертывать службы в образах контейнеров. Главное, что вы можете объединять эти два подхода, используя в одном приложении службы с процессами и контейнерами. 

## <a name="containers-and-service-fabric-roadmap"></a>Схема контейнеров и Service Fabric
В нескольких следующих выпусках Service Fabric будет продолжено расширение поддержки контейнеров в Windows и Linux, включая улучшение работы сети, уменьшение ограничений ресурсов, повышение безопасности, усовершенствование диагностики, драйверов тома и поддержки инструментов, особенно в Visual Studio, чтобы обеспечить первоклассные возможности по использованию образов контейнеров для развертывания служб. Это дает вам выбор: можно использовать контейнеры для упаковки существующего кода (например, приложений MVC для IIS) или моделей программирования Service Fabric. А так как Service Fabric обрабатывает их одинаково, то их можно сочетать в приложениях, что обеспечивает гибкое развертывание кода. В зависимости от сценария вы получаете преимущества при использовании любого способа.

## <a name="what-are-containers"></a>Что такое контейнеры
Контейнеры — это инкапсулированные компоненты, которые развертываются по отдельности и выполняются как изолированные экземпляры на одном ядре, используя возможности виртуализации на уровне операционной системы. Это означает, что каждое приложение, его среда выполнения, зависимости и системные библиотеки выполняются внутри контейнера, который предоставляет полный закрытый доступ к собственному изолированному представлению конструкций операционной системы. Наряду с переносимостью такая степень безопасности и изоляции ресурсов — основное преимущество использования в Service Fabric контейнеров вместо выполнения служб в процессах.

Контейнеры — это технология виртуализации, которая виртуализирует базовую операционную систему в приложениях. Контейнеры используются в качестве неизменяемой среды для запуска приложений с различной степенью изоляции. Они запускаются непосредственно поверх ядра и предоставляют изолированное представление файловой системы и других ресурсов. По сравнению с виртуальными машинами использование контейнеров связано со следующими преимуществами.

* **Небольшой размер.** Контейнеры используют единое дисковое пространство и отличаются меньшим числом изменений для каждого слоя, что делает их более эффективными.
* **Быстрая загрузка.** Контейнерам не нужно загружать операционную систему, поэтому они становятся доступными для использования гораздо быстрее, чем виртуальные машины, — обычно через несколько секунд.
* **Переносимость.** Образ контейнерного приложения можно перенести и запустить в облачной или локальной среде, на виртуальных машинах или непосредственно на физических компьютерах.
* **Возможность управления ресурсами.** Можно ограничивать физические ресурсы, которые контейнер может использовать на узле.

## <a name="container-types"></a>Типы контейнеров
Service Fabric поддерживает следующие типы контейнеров.

### <a name="docker-containers-on-linux"></a>Контейнеры Docker в Linux
Docker предоставляет API-интерфейсы высокого уровня для создания контейнеров и управления ими поверх контейнеров из ядер Linux. Docker Hub — это центральный репозиторий для хранения и извлечения образов контейнеров.

Пошаговые инструкции о том, как это сделать, см. в статье [Развертывание контейнера Docker в Service Fabric](service-fabric-deploy-container-linux.md).

### <a name="windows-server-containers"></a>Контейнеры Windows Server
Windows Server 2016 поддерживает два типа контейнеров, которые отличаются уровнем изоляции. Как и в контейнерах Docker, в контейнерах Windows Server предусмотрена изоляция пространства имен и файловой системы. Но эти контейнеры совместно используют ядро и узел, на котором выполняются. В Linux эта изоляция обычно обеспечивается с помощью cgroups и пространств имен. У контейнеров Windows Server все аналогично.

Контейнеры Windows Hyper-V обеспечивают более высокую степень изоляции и безопасности, так как каждый контейнер не использует ядро операционной системы совместно с другими контейнерами или узлом. Благодаря высокому уровню изоляции и безопасности контейнеры Hyper-V предназначены для неблагоприятных мультитенантных сред.

Дополнительные сведения см. в статье [Предварительная версия: развертывание контейнера в Service Fabric](service-fabric-deploy-container.md).

На рисунке ниже показаны доступные в операционной системе уровни изоляции и виртуализации разных типов.
![Платформа Service Fabric][Image1]

## <a name="scenarios-for-using-containers"></a>Сценарии использования контейнеров
Ниже представлены распространенные примеры использования контейнеров.

* **Быстрая загрузка и удаление IIS.** Если у вас есть приложения [ASP.NET MVC](https://www.asp.net/mvc), которые вы планируете использовать дальше, поместите их в контейнер вместо перемещения в ASP.NET Core. Эти приложения ASP.NET MVC зависят от служб Internet Information Services (IIS). Их можно упаковать в образ контейнера из предварительно созданного образа IIS и развернуть с помощью Service Fabric. Дополнительные сведения о создании образов IIS см. в статье [Образы контейнеров в Windows Server](https://msdn.microsoft.com/virtualization/windowscontainers/quick_start/quick_start_images).
* **Комбинирование контейнеры и микрослужбы Service Fabric.** Используйте существующий образ контейнера для части приложения. Например, можно использовать [контейнер NGINX](https://hub.docker.com/_/nginx/) для веб-интерфейса приложения и службы с отслеживанием состояния для ресурсоемких вычислений серверной части.
* **Сокращение влияния "шумных соседей".** Возможности управления, предоставляемые контейнерами, можно использовать для ограничения ресурсов, используемых службой на узле. Службы, которые используют много ресурсов и таким образом влияют на производительность других служб (например, выполняют длительные запросы), рекомендуется поместить в контейнеры с возможностью управления ресурсами.

## <a name="service-fabric-support-for-containers"></a>Поддержка Service Fabric для контейнеров
В настоящее время Service Fabric поддерживает развертывание контейнеров Docker в Linux и контейнеров Windows Server на Windows Server 2016. Поддержка контейнеров Hyper-V будет добавлена в следующем выпуске.

В [модели приложения](service-fabric-application-model.md)Service Fabric контейнер представляет собой узел приложения, в котором размещается несколько реплик службы. Для контейнеров поддерживаются следующие сценарии:

* **Гостевые контейнеры.** Как и в [сценарии с гостевым исполняемым файлом](service-fabric-deploy-existing-app.md), используются для развертывания в контейнере существующих приложений. Примеры включают код Node.js, JavaScript или другие исполняемые файлы.
* **Службы без отслеживания состояния внутри контейнеров.** Это службы, которые используют модели программирования Reliable Services и Reliable Actors. В настоящий момент поддерживаются только в Linux. Поддержка служб без отслеживания состояния в контейнерах Windows будет добавлена в следующем выпуске.
* **Службы с отслеживанием состояния внутри контейнеров.** Это службы, которые используют модели программирования Reliable Actors в Linux. В настоящий момент Reliable Services не поддерживаются в Linux.  Поддержка служб с отслеживанием состояния в контейнерах Windows будет добавлена в следующем выпуске.

В Service Fabric контейнеры можно использовать для создания приложений, состоящих из контейнерных микрослужб. Они называются контейнерными службами, и включают следующие возможности:

* развертывание и активация образа контейнера;
* управление ресурсами;
* проверка подлинности репозитория;
* сопоставление порта контейнера с портом узла;
* межконтейнерное обнаружение и взаимодействие;
* возможность настройки и установки переменных среды.

## <a name="next-steps"></a>Дальнейшие действия
В этой статье описывается использование контейнеров и службы Service Fabric как их оркестратора. Также рассмотрены функции, предоставляемые этой службой для поддержки контейнеров. Дальше можно переходить к изучению примеров использования каждой функции.

[Развертывание контейнера Windows в Service Fabric на платформе Windows Server 2016](service-fabric-deploy-container.md)

[Развертывание контейнера Docker в Service Fabric на платформе Linux](service-fabric-deploy-container-linux.md)

[Image1]: media/service-fabric-containers/Service-Fabric-Types-of-Isolation.png

