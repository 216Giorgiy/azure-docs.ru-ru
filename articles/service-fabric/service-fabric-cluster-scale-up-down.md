<properties
   pageTitle="Масштабирование кластера Service Fabric | Microsoft Azure"
   description="Масштабирование кластера Service Fabric за счет добавления или удаления узлов виртуальных машин позволяет обеспечить соответствие запросам."
   services="service-fabric"
   documentationCenter=".net"
   authors="ChackDan"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="02/12/2016"
   ms.author="chackdan"/>


# Масштабирование кластера Service Fabric путем добавления или удаления виртуальных машин

Масштабирование кластеров Azure Service Fabric за счет добавления или удаления виртуальных машин позволяет обеспечить соответствие запросам.

>[AZURE.NOTE] Ваша подписка должна включать достаточное количество ядер для добавления виртуальных машин IaaS, которые войдут в состав этого кластера.

## Масштабирование кластера Service Fabric вручную

### Выбор типа узла для масштабирования

Если кластер имеет несколько типов узлов, вам потребуется добавить или удалить виртуальные машины из определенных типов узлов. Этот процесс описывается далее.

1. Войдите на [портал Azure](https://portal.azure.com/).

2. Откройте колонку **Кластеры Service Fabric**. ![Страница "Кластеры Service Fabric" на портале Azure.][BrowseServiceFabricClusterResource]

3. Выберите кластер для масштабирования.

4. Откройте колонку **Параметры** на панели мониторинга кластера. Если колонка **Параметры** не отображается, щелкните **Все параметры** в основной части на панели мониторинга кластера.

5. Щелкните **NodeTypes**, после чего откроется колонка **Список типов узлов**.

6. Щелкните нужный тип узла для масштабирования. Откроется колонка **Сведения о типе узла**.

### Увеличение масштаба путем добавления узлов

Измените количество виртуальных машин на желаемое и сохраните значение. Узлы или виртуальные машины будут добавлены после завершения развертывания.

### Уменьшение масштаба путем удаления узлов

Процесс удаления узлов состоит из двух этапов.

1. Измените количество виртуальных машин на желаемое и сохраните значение. Нижний край ползунка будет указывать минимальное число виртуальных машин, необходимых для этого типа узла.

    >[AZURE.NOTE] Для основного типа узла требуется как минимум 5 виртуальных машин.

2. По завершении развертывания вы получите уведомление с именами виртуальных машин, которые теперь можно удалить. После этого вам нужно будет найти и удалить ресурсы виртуальных машин:

    а. Вернитесь на панель мониторинга кластера и щелкните **Группа ресурсов**. Откроется колонка **Группа ресурсов**.

    b. Найдите раздел **Сводка** или откройте список ресурсов, щелкнув "**...**".

    c. Щелкните имя виртуальной машины, помеченной системой как доступная для удаления.

    г) Щелкните значок **Удалить**, чтобы удалить виртуальную машину.

>[AZURE.NOTE] Для постоянной работы кластеров Service Fabric требуется определенное количество узлов, чтобы все время поддерживать доступность и сохранять состояние, которое называется "поддержание кворума". Поэтому обычно не рекомендуется завершать работу всех машин в кластере, пока не будет выполнено [полное резервное копирование состояния](service-fabric-reliable-services-backup-restore.md), так как это может быть небезопасно.

## Автомасштабирование кластеров Service Fabric

В настоящее время кластеры Service Fabric не поддерживают автоматическое масштабирование. В ближайшем будущем кластеры будут создаваться на основе масштабируемых наборов виртуальных машин, при этом будет возможно их автоматическое масштабирование, действие которого будет аналогично автоматическому масштабированию в облачных службах.

## Масштабирование кластеров с помощью PowerShell или интерфейса командной строки

В этой статье содержатся сведения о масштабировании кластеров с помощью портала. Однако те же самые действия можно выполнять из командной строки с помощью команд диспетчера ресурсов Azure в ресурсе кластера. В ответе GET ClusterResource будет содержаться список отключенных узлов.

## Дальнейшие действия

- [Узнайте об обновлениях кластера.](service-fabric-cluster-upgrade.md)
- [Узнайте о секционировании служб с отслеживанием для максимального масштабирования.](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png

<!---HONumber=AcomDC_0218_2016-->