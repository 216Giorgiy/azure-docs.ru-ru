<properties
   pageTitle="Процент свободного места узла | Microsoft Azure"
   description="Общие сведения о роли свободного места на узле в балансировщике ресурсов."
   services="service-fabric"
   documentationCenter=".net"
   authors="GaugeField"
   manager="timlt"
   editor=""/>

<tags
   ms.service="Service-Fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/03/2015"
   ms.author="masnider"/>

# Общие сведения о проценте свободного места на узле

В настоящее время клиент может задать лимит емкости узла в качестве ограничения, которое балансировщик ресурсов будет учитывать на основе приоритета ограничения. При высоком приоритете ограничения емкости (емкость узла нельзя превышать) и интенсивном использовании узлов отработка отказов может выполняться с задержкой, а ограничение по емкости может не соблюдаться.

Проблемы могут возникнуть, когда узел с первичной репликой выходит из строя, а на узлах со вторичными репликами осталось мало свободного места. В этом случае, если первичная нагрузка превышает вторичную нагрузку, уровень вторичной реплики невозможно мгновенно повысить, не создав повышенную нагрузку на узел или не скопировав реплику.

Если логика упреждающей упаковки запущена, максимально плотная заполненность будет поддерживаться на большем количестве узлов в кластере. Процент свободного места на узле — это параметр, который предотвращает увеличение времени отработки отказа или возникновение повышенных нагрузок на узле во время отработки отказа. Он позволяет клиентам указывать, какая процентная доля узла должна оставаться незанятой. Это место не нужно использовать для добавления реплик новых служб, но балансировщик ресурсов должен иметь возможность использовать всю емкость узла (учитывая этот буфер) для отработки отказов и добавления отсутствующих реплик.

Этот параметр может использоваться, даже если упреждающее упаковывание метрик отключено.

В приведенном ниже примере кода показано, что процент свободного места на узле настраивается для каждой метрики отдельно в элементе FabricSettings в манифесте кластера.

``` xml
<FabricSettings>
  <Section Name=" NodeBufferPercentage">
    <Parameter Name="MetricName" Value="0.1"/>
  </Section>
</FabricSettings>

```

Значение 0,1 для метрики с именем MetricName означает, что для нее на каждом узле должно оставаться не меньше 10 % свободного места.

Если значение в этом разделе не задано, по умолчанию будет использоваться значение 0.

<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->
## Дальнейшие действия

Дополнительные сведения см. в статье [Архитектура балансировщика ресурсов](service-fabric-resource-balancer-architecture.md).

<!---HONumber=AcomDC_1223_2015-->