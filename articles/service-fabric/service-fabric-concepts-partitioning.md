<properties
   pageTitle="Секционирование служб структуры служб"
   description="Описывает процесс выполнения разделения служб в структуре служб"
   services="service-fabric"
   documentationCenter=".net"
   authors="appi101"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="04/13/2015"
   ms.author="aprameyr"/>

# Секционирование служб структуры служб
Структура служб упрощает создание масштабируемых служб с отслеживанием состояния за счет поддержки секционирования состояния службы и обеспечения работы каждого раздела на встроенном наборе общего состояния. Каждый раздел становится [высокодоступной](service-fabric-availability-services.md) единицей. Реплики разделов распределяются по узлам в кластере, и для них выполняется балансировка нагрузки.

> [AZURE.NOTE]Хотя службы без отслеживания состояния могут также разделяться, такой сценарий используется достаточно редко и не требуется для большинства служб структуры служб.

Существует три различные схемы секционирования.

## Одноэлементная схема секционирования
Она используется для указания того, что службе не нужно секционирование.

## Поименованная схема секционирования
Она используется для указания фиксированного набора имен для каждого раздела службы. Отдельные разделы можно найти по имени.

## Схема распределенного секционирования
Она используется для указания целочисленного диапазона (определенного низким и высоким ключом) и количества разделов (n). Создается n разделов, каждый из которых отвечает за непересекающийся поддиапазон. Пример. Распределенная схема секционирования (для службы с тремя репликами) с нижним значением ключа 0, высшим значением ключа 99 и количеством разделов, равным 4, создала бы 4 раздела, как показано ниже.

![Секционирование по диапазонам](./media/service-fabric-concepts-partitioning/range-partitioning.png)

Типичный случай — создание хэша для уникального ключа в наборе данных. Некоторые общие примеры ключей: код идентификации транспортного средства (VIN), идентификатор сотрудника или уникальная строка. Использование этого уникального ключа создаст длинный хэш-код, модуль диапазона ключей, который будет использоваться как ваш ключ. Можно указать верхнюю и нижнюю границы допустимого диапазона ключей.

Кроме того, потребуется оценить количество разделов, необходимое для обработки самой тяжелой нагрузки на ресурсы (например, при ограничениях памяти или в пропускной способности сети), но не так, чтобы разделы были слишком разбросаны.

### Выбор хэш-алгоритма
Важной частью хэширования является выбор хэш-алгоритма. Необходимо продумать, следует ли группировать ключи рядом друг с другом (хэширование с учетом местоположения) и необходимо ли распределение действий по всем разделам (распределенное хэширование).

Хороший ресурс для выбора общего алгоритма хэш-кода — [страница Wikipedia по функциям хэширования](http://en.wikipedia.org/wiki/Hash_function).

> [AZURE.NOTE]Невозможно изменить количество разделов или тип используемой схемы секционирования для службы после ее создания.

## Дальнейшие действия

Сведения о понятиях, принятых для структуры служб, см. в следующих статьях:

- [Доступность служб структуры служб](service-fabric-availability-services.md)

- [Масштабируемость служб структуры служб](service-fabric-concepts-scalability.md)
 

<!---HONumber=July15_HO2-->