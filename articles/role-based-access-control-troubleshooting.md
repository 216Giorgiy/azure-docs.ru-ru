<properties urlDisplayName="" pageTitle="Role based access control troubleshooting" metaKeywords="" description="" metaCanonical="" services="" documentationCenter="" title="Role based access control troubleshooting" authors="Stephen Siciliano"  solutions="" writer="" manager="" editor=""  />

<tags ms.service="multiple" ms.workload="multiple" ms.tgt_pltfrm="ibiza" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="Stephen Siciliano"></tags>

# Устранение неполадок при управлении доступом на основе ролей

## Введение

[Управление доступом на основе ролей][Управление доступом на основе ролей] — эффективная функция, позволяющая делегировать доступ к ресурсам Azure на детальном уровне. Это означает, что можно предоставить конкретному человеку только те права, которые ему действительно нужны. Однако в некоторых случаях модель ресурсов Azure может быть весьма сложной, так что становится нелегко понять, к чему именно вы предоставляете доступ.

Из этого документа вы узнаете о том, к чему нужно быть готовым при использовании некоторых новых ролей на портале предварительной версии. В этот выпуск включены три встроенные роли:

-   владелец;
-   участник;
-   читатель.

Владельцы и участники обладают полным доступом к действиям по управлению. Различие между этими ролями в том, что участник не может предоставлять доступ другим пользователям или группам. С ролью читателя не все так просто, поэтому мы уделим ей больше внимания. Подробные сведения о предоставлении доступа см. в [этой статье][Управление доступом на основе ролей].

## Рабочие нагрузки веб-сайта

### Доступ только для чтения

Если вы предоставляете пользователю или сами получаете доступ к веб-сайту только для чтения, то некоторые функции вопреки ожиданиям могут быть отключены. Перечисленные ниже возможности управления требуют доступа к веб-сайту с правом **записи** (роль участника или владельца) и будут недоступны при наличии только прав на чтение.

1.  Команды (например, запуск, остановка и т. д.).
2.  Изменение параметров, таких как общие параметры конфигурации, параметры масштабирования, резервного копирования и мониторинга.
3.  Доступ к учетным данным для публикации и другим секретам, например к параметрам приложений и строкам подключения.
4.  Журналы потоковой передачи.
5.  Конфигурация журналов диагностики.
6.  Консоль веб-сайтов (командная строка).
7.  Активные и недавние развертывания (для локального непрерывного развертывания Git).
8.  Приблизительные затраты.
9.  Веб-тесты.
10. Виртуальная сеть (видна читателю только в том случае, если ранее была настроена пользователем с доступом на запись).

Если вы не можете получить доступ к этим компонентам, вам необходимы права участника для веб-сайта.

### Работа со связанными ресурсами

Доступ к веб-сайтам осложняется наличием нескольких взаимосвязанных ресурсов. Вот типичная группа ресурсов, связанная с несколькими веб-сайтами:

![Группа ресурсов веб-сайтов][Группа ресурсов веб-сайтов]

В результате, если вы предоставите кому-либо доступ только к веб-сайту, многие функции в колонке веб-сайта будут полностью отключены.

1.  Элементы, требующие доступа к **плану размещения веб-сайтов**, который соответствует вашему веб-сайту:

    -   просмотр ценовой категории веб-сайта (например, бесплатный, общедоступный, базовый или стандартный);
    -   конфигурация масштабирования (т. е. число экземпляров, размер виртуальной машины, параметры автоматического масштабирования);
    -   квоты (например, квоты хранилища, пропускной способности, ресурсов ЦП).

2.  Элементы, требующие доступа ко всей **группе ресурсов**, которая содержит веб-сайт:

    -   SSL-сертификаты и привязки (это связано с тем, что SSL-сертификаты могут совместно использоваться сайтами, относящимися к одной группе ресурсов и находящимися в одном географическом расположении);
    -   правила оповещений;
    -   параметры автоматического масштабирования;
    -   компоненты Application Insights;
    -   веб-тесты.

## Рабочие нагрузки виртуальной машины

Как и в случае с веб-сайтами, для некоторых функций в колонке виртуальной машины нужен доступ на запись к виртуальной машине или к другим ресурсам в группе ресурсов.

С виртуальными машинами связаны следующие ресурсы:

-   доменные имена;
-   виртуальные сети;
-   учетные записи хранения;
-   правила оповещений.

1.  Элементы, требующие доступа к виртуальной машине с правом **записи**:

    -   конечные точки;
    -   IP-адреса;
    -   диски;
    -   расширения.

2.  Элементы, требующие доступа на запись как к виртуальной машине, так и к **группе ресурсов**, в которой она находится (а также к доменному имени):

    -   группа доступности;
    -   набор балансировки нагрузки;
    -   правила оповещений.

Если вы не можете получить доступ к этим компонентам, попросите администратора предоставить вам права участника для группы ресурсов.

  [Управление доступом на основе ролей]: http://azure.microsoft.com/ru-ru/documentation/articles/role-based-access-control-configure/
  [Группа ресурсов веб-сайтов]: ./media/role-based-access-control-troubleshooting/Website-resource-model.png
