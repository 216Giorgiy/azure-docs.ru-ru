---
title: Управление режимом кэширования Azure CDN с помощью строк запросов (ценовая категория "Премиум") | Документация Майкрософт
description: Функция кэширования строк запросов в Azure CDN позволяет управлять режимом кэширования файлов, когда веб-запрос содержит строку запроса. В этой статье описывается кэширование строк запросов в продукте Azure CDN ценовой категории "Премиум" от Verizon.
services: cdn
documentationcenter: ''
author: dksimpson
manager: akucer
editor: ''
ms.assetid: 99db4a85-4f5f-431f-ac3a-69e05518c997
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/30/2018
ms.author: mazha
ms.openlocfilehash: 87845df92c77ace484a7afdde3ee20b570cf9cbb
ms.sourcegitcommit: 34e0b4a7427f9d2a74164a18c3063c8be967b194
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2018
---
# <a name="control-azure-cdn-caching-behavior-with-query-strings---premium-tier"></a>Управление режимом кэширования Azure CDN с помощью строк запросов (ценовая категория "Премиум")
> [!div class="op_single_selector"]
> * [Уровень Standard](cdn-query-string.md)
> * [Уровень Premium](cdn-query-string-premium.md)
> 
> 

## <a name="overview"></a>Обзор
С помощью функции кэширования строк запросов сеть доставки содержимого (CDN) Azure может управлять способом кэширования файлов для веб-запроса, который содержит строку запроса. В веб-запросе строка запроса — это часть запроса, которая следует после вопросительного знака (?). Строка запроса может содержать одну или несколько пар "ключ-значение", в которых имя поля и его значение разделяются знаком равенства (=). Каждая пара "ключ-значение" разделяется знаком амперсанда (&). Например, http:\//www.contoso.com/content.mov?field1=value1&field2=value2. Если в строке запроса имеется несколько пар "ключ-значение", их порядок не имеет значения. 

> [!NOTE]
> Продукты Azure CDN уровня "Стандартный" и "Премиум" предоставляют одинаковые возможности кэширования строк запроса, но имеют разные пользовательские интерфейсы.  В этой статье описывается пользовательский интерфейс для **Azure CDN уровня "Премиум" от Verizon**. Дополнительные сведения о кэшировании строк запроса с помощью **Azure CDN уровня "Стандартный" от Akamai** и **Azure CDN уровня "Стандартный" от Verizon** см. в статье [Управление режимом кэширования сети доставки содержимого Azure с помощью строк запросов (ценовая категория "Стандартный")](cdn-query-string.md).
>


Доступны три режима строки запроса:

- **standard-cache**: этот режим используется по умолчанию. В этом режиме точка подключения (узел POP) CDN передает строки запросов от запрашивающей стороны на сервер-источник по первому запросу и кэширует ресурс. Все последующие запросы к этому ресурсу, которые обслуживаются на сервере POP, будут пропускать строки запроса до истечения срока действия кэшированного ресурса.

    >[!IMPORTANT] 
    > Если для какого-либо пути этой учетной записи включена авторизация по маркеру, то возможно использование только режима standard-cache. 

- **no-cache**: в этом режиме запросы со строками запроса не кэшируются на узле POP CDN. Узел POP получает ресурс непосредственно от сервера-источника и передает его запрашивающей стороне с каждым запросом.

- **unique-cache**: В этом режиме каждый запрос с уникальным URL-адресом, включая строку запроса, рассматривается как уникальный ресурс с собственным кэшем. Например, ответ сервера-источника для запроса к `example.ashx?q=test1` сохраняется в кэше на узле POP и возвращается для всех последующих кэшей с этой же строкой запроса. Запрос к `example.ashx?q=test2` будет кэшироваться как отдельный ресурс с собственным сроком существования.
   
    Не используйте этот режим, если строка запроса содержит параметры, которые изменяются при каждом запросе, например идентификатор сеанса или имя пользователя, так как это приведет к низкому коэффициенту попадания в кэш.

## <a name="changing-query-string-caching-settings-for-premium-cdn-profiles"></a>Изменение параметров кэширования строки запроса для профилей CDN уровня "Премиум"
1. Откройте профиль CDN, а затем нажмите кнопку **Управление**.
   
    ![Кнопка "Управление" для профиля CDN](./media/cdn-query-string-premium/cdn-manage-btn.png)
   
    Откроется портал управления CDN.
2. Наведите указатель мыши на вкладку **HTTP Large** (Большой HTTP-объект), а затем наведите указатель мыши на всплывающее меню **Параметры кэша**. Щелкните **Кэширование строк запроса**.
   
    Появятся параметры кэширования строк запроса.
   
    ![Параметры кэширования строк запроса CDN](./media/cdn-query-string-premium/cdn-query-string.png)
3. Выберите режим строк запроса, а затем нажмите **Обновить**.

> [!IMPORTANT]
> Так как передача регистрационных сведений по сети CDN может занять некоторое время, параметры кэширования строк изменяются не сразу. Для профилей **Azure CDN уровня "Премиум" от Verizon** распространение обычно завершается в течение 90 минут.
 

