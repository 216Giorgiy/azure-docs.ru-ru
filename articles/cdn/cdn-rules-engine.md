<properties
	pageTitle="CDN — переопределение стандартного поведения HTTP с помощью обработчика правил"
	description="Обработчик правил позволяет настраивать способ обработки HTTP-запросов, например блокировка доставки определенных типов содержимого, определение политики кэширования и изменение заголовков HTTP."
	services="cdn"
	documentationCenter=".NET"
	authors="camsoper"
	manager="erikre"
	editor=""/>

<tags
	ms.service="cdn"
	ms.workload="tbd"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="04/15/2016" 
	ms.author="casoper"/>

# Переопределение стандартного поведения HTTP с помощью обработчика правил

## Обзор

Обработчик правил позволяет настроить способ обработки HTTP-запросов, например блокировку доставки определенных типов содержимого, определение политики кэширования и изменение заголовков HTTP. В этом учебнике демонстрируется создание правила, которое изменяет поведение кэширования ресурсов CDN. В разделе [См. также](#see-also) находятся соответствующие видеоматериалы.

> [AZURE.NOTE] Обработчик правил относится к функциям уровня Premium. Сравнение возможностей CDN уровней Standard и Premium см. в статье [Обзор Azure CDN](cdn-overview.md).

## Учебник

1. В колонке профиля сети CDN нажмите кнопку **Управление**.

	![Кнопка управления колонкой профиля сети CDN](./media/cdn-rules-engine/cdn-rules-manage-btn.png)

	Откроется портал управления CDN.

2. Щелкните вкладку **Большая HTTP-платформа**, затем вкладку **Обработчик правил**.

	Появятся параметры для нового правила.

	![Параметры нового правила CDN](./media/cdn-rules-engine/cdn-new-rule.png)

3. В поле **Имя и описание** введите имя.

4. Укажите тип запросов, к которым будет применяться правило. По умолчанию выбрано условие соответствия **Всегда**. В этом учебнике будет использоваться условие **Всегда**, поэтому не изменяйте его.

	![Условие соответствия CDN](./media/cdn-rules-engine/cdn-request-type.png)

	>[AZURE.TIP] В раскрывающемся списке доступно много типов условий соответствия. Щелкнув синий информационный значок слева от условия соответствия, вы сможете получить подробные сведения о выбранном условии.
	>
	>Полный список условий соответствия см. в статье [Подробные сведения о б условиях соответствия и функциях обработчика правил](cdn-rules-engine-details.md#match-conditions).

5.  Щелкните кнопку **+** рядом с пунктом **Функции**, чтобы добавить новую функцию. В раскрывающемся списке в левой части выберите **Принудительно извлечь внутренний максимальный возраст**. В появившемся текстовом поле введите **300**. Оставьте остальные значения по умолчанию.

	![Функция CDN](./media/cdn-rules-engine/cdn-new-feature.png)

	>[AZURE.NOTE] Как и в случае с условиями соответствия, при щелчке синего информационного значка слева от новой функции будут отображены подробные сведения об этой функции. При использовании параметра **Принудительно извлечь внутренний максимальный возраст** мы переопределяем заголовки ресурса **Cache-Control** и **Expires** для управления моментом обновления граничным узлом CDN ресурса из источника. В нашем примере 300 секунд означает, что граничный узел CDN будет кэшировать ресурс в течение 5 минут перед его обновлением из источника.
	>
	>Полный список функций см. в статье [Подробные сведения об условиях соответствия и функциях обработчика правил](cdn-rules-engine-details.md#features).

6.  Нажмите кнопку **Добавить**, чтобы сохранить новое правило. Теперь новое правило ожидает утверждения. После утверждения состояние правила изменится с **В ожидании XML** для **Активный XML**.

## Рекомендации

- Порядок перечисления правил влияет на способ их обработки. Последующее правило может переопределить действия, заданные предыдущим правилом.

## См. также
* [Пятницы с Azure. Azure CDN's powerful new Premium Features (Новые возможности Azure CDN уровня Premium)](../../videos/azure-cdns-powerful-new-premium-features/) (видео)
* [Подробные сведения об условиях соответствия и функциях обработчика правил](cdn-rules-engine-details.md)

<!---HONumber=AcomDC_0420_2016-->