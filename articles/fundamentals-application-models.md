<properties umbracoNaviHide="0" pageTitle="Модель приложения" metaKeywords="Azure, Azure, модель приложения, модель приложения Azure, модель разработки, модель разработки Azure, размещенная служба, размещенная служба Azure, веб-роль, рабочая роль" description="Сведения о модели приложения размещенной службы Azure. Понимание основных концепций, вопросов проектирования, определения и настройки приложения и масштабирования." linkid="dev-net-fundamentals-application-model" urlDisplayName="Модель приложения" headerExpose="" footerExpose="" disqusComments="1" title="Модель приложения" />



#Модели выполнения Azure

Azure предоставляет разные модели выполнения для запуска приложений:  


Каждая из них содержит различный набор служб, и ваш выбор зависит от ваших целей. В этой статье рассматриваются все три технологии и приводятся примеры их использования.

##Оглавление

- [Виртуальные машины](#VMachine)
- [Веб-сайты](#WebSites)
- [Облачные службы](#CloudServices)
- [Что следует использовать мне? Принятие решения](#WhatShouldIUse)

<h2><a id="VMachine"></a>Виртуальные машины</h2>
Виртуальные машины Azure позволяют разработчикам, ИТ-специалистам и другим людям создавать и использовать виртуальные машины в облаке. Данная технология предоставляет *инфраструктуру как услугу (IaaS)* и может использоваться различными способами. [На рисунке 1](#Fig1) показаны ее базовые компоненты.

<a name="Fig1"></a>![01_CreatingVMs][01_CreatingVMs]

**Рисунок 1. Виртуальные машины Azure предоставляют инфраструктуру как услугу.**

Как показано на рисунке, вы можете создать виртуальные машины с помощью портала управления Azure или с помощью интерфейса API управления службами Azure на базе REST. Портал управления можно открыть в любом из распространенных браузеров, включая Internet Explorer, Mozilla и Chrome. Для API REST корпорация Майкрософт предоставляет средства выполнения сценариев на стороне клиента для систем Windows, Linux и Macintosh. Другое программное обеспечение также может свободно использовать этот интерфейс.

Независимо от способа доступа к платформе, чтобы создать новую виртуальную машину, требуется выбрать виртуальный жесткий диск (VHD) для образа виртуальной машины. Эти виртуальные жесткие диски хранятся в BLOB-объектах Azure. 

Для начала работы есть два варианта 

1. Загрузите собственный виртуальный жесткий диск.
2. Используйте VHD-диски, представленные корпорацией Майкрософт и ее партнерами в коллекции виртуальных машин Azure или веб-сайте [VMDepot](http://vmdepot.msopentech.com/) Microsoft с приложениями с открытым кодом. 

VHD в коллекции и на VMDepot включают чистые образы операционных систем Microsoft и Linux, а также образы с установленными продуктами Microsoft и других сторонних разработчиков.  Параметры увеличиваются все время. Примеры различных версий, сборок и конфигураций:
 
-	Windows Server 
-	Серверы Linux Suse, Ubuntu и CentOS
-	SQL Server
-	BizTalk Server 
-	SharePoint Server



Вместе с VHD вы указываете размер новой виртуальной машины.  Полная статистика для каждого размера приведена [в библиотеке Azure](http://msdn.microsoft.com/ru-ru/library/windowsazure/dn197896.aspx).  

-	**Очень малый** – общее ядро и 768 МБ памяти.
-	**Малый** – 1 ядро и 1,75 ГБ памяти.
-	**Средний** – 2 ядра и 3,5 ГБ памяти.
-	**Крупный** – 4 ядра и 7 ГБ памяти.
-	**Очень крупный** – 8 ядер и 14 ГБ памяти.
-	**A6** – 4 ядра и 28 ГБ памяти.
-	**A7** – 8 ядер и 56 ГБ памяти.


Наконец, вы выбираете центр обработки данных Azure, в котором должна выполняться новая виртуальная машина, например, расположенный в США, Европе или Азии. 

После запуска виртуальной машины вы платите за каждый час ее работы. После удаления этой виртуальной машины взимание платы за нее прекращается. Выплачиваемая сумма зависит только от времени работы и не зависит от того, насколько интенсивно используется виртуальная машина. За виртуальную машину, находящуюся в режиме простоя в течение часа, взимается та же сумма, что и за высоконагруженную виртуальную машину. 

Каждая виртуальная машина имеет сопоставленный с ней *диск ОС*, хранящийся в BLOB-объекте. при создании виртуальной машины на базе виртуального жесткого диска из галереи, этот диск копируется в ее диск ОС. На этом диске хранятся все изменения, вносимые в операционную систему с запущенной виртуальной машиной. Например, если вы установили приложение, изменяющее реестр Windows, такое изменение сохраняется на диске ОС виртуальной машины. При следующем создании виртуальной машины из этого диска ОС виртуальная машина продолжит работать в том состоянии, в котором вы ее оставили ранее. По мере необходимости корпорация Майкрософт применяет для виртуальных жестких дисков в галерее различные обновления, например исправления для операционных систем. Однако ответственность за применение обновлений для виртуальных жестких дисков на ваших дисках ОС несете именно вы (хотя по умолчанию служба обновления Windows включена).

Работающие виртуальные машины также можно изменять и записывать с помощью средства sysprep. Sysprep удаляет сведения, такие как имя машины, чтобы образ виртуального жесткого диска можно было использовать для создания дополнительных виртуальных машин с одной и той же общей конфигурацией. Эти образы хранятся на портале управления наряду с загруженными образами, так что их можно использовать в качестве отправной точки для дополнительных виртуальных машин. 

Виртуальные машины также осуществляют мониторинг оборудования, используемого для работы каждой из создаваемых вами виртуальных машин. В случае сбоя физического сервера с виртуальной машиной платформа обнаруживает это событие и запускает аналогичную виртуальную машину на другом компьютере. А при наличии подходящих лицензий вы можете скопировать измененный виртуальный жесткий диск со своего диска ОС и запустить его в другом месте, например в своем локальном центре обработки данных или у другого поставщика облачных служб. 

Кроме диска ОС, виртуальная машина имеет один или несколько дисков данных. Хотя для виртуальной машины каждый из них выглядит как подключенный диск, содержимое каждого из них на самом деле хранится в BLOB-объекте. Каждая запись, производимая на диск данных, помещается на постоянное хранение в базовый BLOB-объект. Как и для всех других BLOB-объектов, Azure осуществляет их репликацию как в рамках одного центра обработки данных, так и между разными центрами обработки данных для обеспечения защиты от сбоев.

Выполнением виртуальных машин можно управлять с помощью портала управления, PowerShell и других средств работы со скриптами, а также напрямую через API REST. (На деле все то, что можно сделать в портале управления, можно осуществить программно с помощью данного API.) Партнеры корпорации Майкрософт, такие как RightScale и ScaleXtreme, также предлагают службы управления, основанные на API REST.

Виртуальные машины Azure можно использовать разными способами. К основным сценариям, на которые ориентируется корпорация Майкрософт, относятся следующие:

- **Виртуальные машины для разработки и тестирования.** При создании приложений группам разработчиков часто требуются виртуальные машины с определенными конфигурациями. Виртуальные машины Azure предлагают рациональный и экономичный способ создания виртуальных машин с последующим удалением тех из них, которые больше не требуются.
- **Выполнение приложений в облаке.** Для некоторых приложений выполнение в открытом облаке выгодно по экономическим соображениям. Например, представьте себе приложение со значительными пиками нагрузки. Всегда можно купить достаточно компьютеров для своего центра обработки данных, чтобы обеспечить нормальное выполнение такого приложения, однако основная часть этих компьютеров чаще всего окажется недозагруженной. Выполнение этого приложения в Azure позволяет вам оплачивать дополнительные виртуальные машины, только в случае необходимости, и завершать их работу после окончания пика нагрузки. Или предположим, что вы недавно открыли компанию, которой требуется быстро получить вычислительные ресурсы по запросу без каких-либо обязательств. И в этом случае правильным выбором станет Azure.
- **Расширение своего центра обработки данных в открытое облако.** С помощью виртуальной сети Azure ваша организация может создать виртуальную сеть (VNET), в результате чего группа виртуальных машин Azure выглядит как часть вашей локальной сети. Это позволяет выполнять приложения, такие как SharePoint и другие, в Azure, что может оказаться проще с точки зрения развертывания и/или дешевле по сравнению с их выполнением в собственном центре обработки данных.
- **Аварийное восстановление.** При использовании аварийного восстановления, основанного на IaaS, вместо непрерывной оплаты редко используемого резервного центра обработки данных вы можете оплачивать нужные вычислительные ресурсы только в случае действительной необходимости.  Например, если на вашем основном центре обработки данных возникает сбой, вы можете создать в Azure виртуальные машины для выполнения наиболее важных приложений, а затем, когда необходимость в них отпадет, завершить их работу. 

Здесь перечислены не все доступные возможности, а наиболее характерные примеры того, как вы можете использовать модель виртуальных машин Azure.  


###Группировка виртуальных машин: облачные службы 

При создании новой виртуальной машины с помощью виртуальных машин Azure вы можете выбрать, выполнять ли ее изолированно или включить в группу виртуальных машин, совместно работающих в *облачной службе*. (Несмотря на схожие названия, не следует путать этот элемент с облачными службами, как названием технологии PaaS Azure, это разные понятия.)  Каждой изолированной виртуальной машине назначается собственный открытый IP-адрес, в то время как доступ ко всем виртуальным машинам в одной облачной службе осуществляется по одному открытому IP-адресу. [На рисунке 2](#Fig2) показано, как это выглядит.
 
<a name="Fig2"></a>![02_CloudServices][02_CloudServices]

**Рисунок 2. Каждая изолированная виртуальная машина имеет собственный открытый IP-адрес, в то время как виртуальные машины, сгруппированные в одной облачной службе, предоставляются по одному открытому IP-адресу.**

Например, если бы вы создавали виртуальную машину для создания и тестирования простого приложения, то, скорее всего, использовали изолированную виртуальную машину. Если вы создаете многоуровневое приложение с помощью интерфейсного веб-компонента, базы данных или даже среднего уровня, вы, вероятнее всего, подключите к облачной службе несколько виртуальных машин, как показано на рисунке 2.

Группировка виртуальных машин в облачную службу предоставляет вам и другие возможности. Azure обеспечивает балансировку нагрузки для виртуальных машин в рамках одной облачной службы, распределяя по ним запросы пользователей. Соединенные таким образом виртуальные машины также могут напрямую взаимодействовать друг с другом по локальной сети в рамках центра обработки данных Azure. 

Виртуальные машины в одной облачной службе также можно сгруппировать в один или несколько *групп доступности*. Чтобы понять всю важность такой возможности, представьте себе веб-приложение, выполняющее несколько интерфейсных виртуальных машин. Если все эти виртуальные машины развернуты на одном физическом компьютере или даже в одной стойке компьютеров, всего один сбой оборудования может сделать их все недоступными. Если эти виртуальные машины сгруппированы в группу доступности, Azure развернет их по всему центру обработки данных, чтобы ни одна из них не создавала единственную точку отказа.

###Сценарий. Выполнение приложения с использованием сервера SQL Server

Чтобы получить лучшее представление о том, как работает модель виртуальных машин Azure, будет полезно немного подробнее рассмотреть пару сценариев. Например, предположим, что вы хотите создать в Azure надежное и масштабируемое веб-приложение. Один из способов сделать это заключается в запуске логической схемы приложения в одной или нескольких виртуальных машинах Azure с последующим использованием SQL Server для управления данными. [На рисунке 3](#Fig3) показано, как это выглядит.

<a name="Fig3"></a>![03_AppUsingSQLServer][03_AppUsingSQLServer]

**Рисунок 3. Приложение, выполняемое в виртуальных машинах Azure, может использовать SQL Server для хранения.**

В данном примере виртуальные машины обоих типов создаются из доступных в коллекции стандартных VHD-дисков. Логическая схема приложения выполняется в Windows Server 2008 R2, поэтому разработчик создает из этого VHD-диска три виртуальные машины, а затем устанавливает в каждую из них свое приложение. Поскольку все эти виртуальные машины находятся в одной облачной службе, он может настроить аппаратный балансировщик нагрузки на распределение запросов между ними. Кроме того, разработчик создает две виртуальные машины из доступных в галерее VHD-дисков с SQL Server 2012. После их запуска он настраивает SQL Server в каждом из экземпляров на использование зеркального отображения базы данных с автоматическим переходом на другой ресурс. Это не является обязательным, так как приложение может использовать и отдельный экземпляр SQL Server, однако данный подход повышает надежность. 

###Сценарий. Выполнение фермы SharePoint 

Предположим, что организация хочет создать ферму SharePoint, но не хочет, чтобы она выполнялась в собственном центре обработки данных этой организации. Возможно, в локальном центре обработки данных недостаточно ресурсов или подразделение, создающее ферму, не хочет формировать внутреннюю группу ИТ-специалистов. В этом случае имеет смысл перенести выполнение SharePoint в модель виртуальных машин Azure. [Рисунок 4](#Fig4) демонстрирует, как это выглядит.

<a name="Fig4"></a>![04_SharePointFarm][04_SharePointFarm]
 
**Рисунок 4. Виртуальные машины Azure позволяют выполнять ферму SharePoint в облаке.**

Ферма SharePoint имеет несколько компонентов, каждый из которых выполняется в виртуальной машине Azure, созданной из подходящего VHD-диска. Требуется следующее:

- Microsoft SharePoint. В коллекции есть пробные образы. Также организация может предоставлять свой собственный виртуальный жесткий диск.
- Microsoft SQL Server. Работа SharePoint зависит от SQL Server, поэтому организация создает виртуальные машины с SQL Server 2012 из представленного в коллекции стандартного VHD-диска.
- Windows Server Active Directory. Кроме того, для SharePoint требуется Active Directory, поэтому организация создает в облаке контроллеры доменов с помощью образа Windows Server из галереи. Это не является обязательным, так как можно использовать локальные контроллеры домена, однако SharePoint активно взаимодействует с Active Directory, поэтому приведенный здесь подход обеспечивает повышенную производительность.

Хотя это не отражено на рисунке, возможно, данная ферма SharePoint подключается к локальной сети посредством виртуальной сети Azure. Это позволяет виртуальным машинам – и содержащимся в них приложениям – выступать в качестве локальных для тех людей, которые используют эту сеть.

Как видно из примеров, вы можете использовать виртуальные машины Azure для создания и запуска новых приложений в облаке, для выполнения существующих приложений, а также для других целей. Независимо от выбранного параметра цель технологии одинакова: предоставление фундамента общего назначения для открытых облачных вычислений.



<h2><a id="WebSites"></a>Веб-сайты</h2>

Люди используют технологии множеством разных способов. Организации может потребоваться перенос или настройка веб-сайта, который может обрабатывать миллионы обращений в неделю и развертываться в нескольких центрах обработки данных во всем мире. Агентство, занимающееся веб-дизайном, может сотрудничать с группой разработчиков для сборки специализированного веб-приложения, поддерживающего работу тысяч пользователей. Корпоративному разработчику может потребоваться настройка приложения для отслеживания отчетов о расходах в облаке для зарегистрированных пользователей из своей корпоративной службы Active Directory. ИТ-консультант может использовать популярное приложение с открытым исходным кодом для настройки системы управления содержимым на малом предприятии.
Все эти задачи можно решить с помощью виртуальных машин Azure. Однако для создания виртуальных машин "с нуля" и управления ими требуются навыки и усилия. Если необходимо внедрить веб-сайт или веб-приложение, есть решение проще (и дешевле): подход, более известен, как "Платформа как услуга (PaaS)". Как показано на рисунке 5, Azure предоставляет эту возможность с помощью веб-сайтов.


<a name="Fig5"></a>![05_Websites][05_Websites]
 
**Рисунок 5. Веб-сайты Azure поддерживают статичные веб-сайты, популярные веб-приложения и специализированные веб-приложения, созданные на основе различных технологий.** 

Веб-сайты Azure собраны на основе облачных служб Azure для создания решения "Платформа как служба", оптимизированного для запуска веб-приложений. Как показано на рисунке, веб-сайты выполняются на наборе из отдельных виртуальных машин, которые могут содержать несколько веб-сайтов, созданных несколькими пользователями, а также стандартных виртуальных машин, которые принадлежат отдельным пользователям. Виртуальные машины являются частью пула ресурсов, управляемого веб-сайтами Azure, что повышает надежность и отказоустойчивость.
Приступить к работе просто. Благодаря веб-сайтам Azure пользователи имеют выбор из диапазона приложений, платформ и шаблонов и могут создать веб-сайт буквально за секунды. Они затем могут использовать свои любимые средства разработки (WebMatrix, Visual Studio и другие редакторы) для настройки непрерывной интеграции и осуществлять разработку в команде. Приложения, зависящие от MySQL DB, могут использовать службу MySQL для Azure от партнера корпорации Майкрософт – ClearDB.
Разработчики также с помощью веб-сайтов могут создавать большие, масштабируемые веб-приложения. Эта технология поддерживает создание приложений с помощью ASP.NET, PHP, Node.js и Python. Приложения могут использовать, например, прикрепленные сеансы, а существующие приложения можно переместить на эту облачную платформу без каких-либо изменений. Приложения, созданные на базе модели веб-сайтов, могут свободно использовать остальные возможности Azure, такие как Service Bus, База данных SQL и хранилище BLOB-объектов. Вы также можете запустить несколько копий приложения в разных виртуальных машинах, при этом модель веб-сайтов осуществляет для них автоматическую балансировку нагрузки. Поскольку каждый экземпляр веб-сайтов создается в уже существующих виртуальных машинах, запуск нового экземпляра приложения происходит очень быстро – значительно быстрее ожидания при создании новой виртуальной машины.
Как показано на [рисунке 5](#Fig5), вы можете опубликовать код и другое веб-содержимое в веб-сайтах несколькими разными способами. Можно использовать FTP, FTPS или технологию WebDeploy Microsoft. Кроме того, веб-сайты также поддерживают публикацию кода из систем управления версиями, включая Git, GitHub, CodePlex, BitBucket, Dropbox, Mercurial, Team Foundation Server и облачную версию Team Foundation Service.


<h2><a id="CloudServices"></a>Облачные службы</h2>

Виртуальные машины Azure предоставляют технологию IaaS, а веб-сайты Azure предоставляют технологию размещения веб-сайтов. Третий вариант – обычные службы – предоставляют технологию *Платформа как услуга (PaaS)*. Эти технология предназначена для поддержки масштабируемых, надежных и недорогих в эксплуатации приложений. Она также призвана освободить разработчиков от забот об управлении используемой ими платформой и позволить им сконцентрироваться на самих приложениях. На [рисунке 6](#Fig6) представлен принцип ее работы.

<a name="Fig6"></a>![06_CloudServices2][06_CloudServices2] 

**Рисунок 6. Облачные службы Azure предоставляют платформу как услугу.**

Как и другие варианты среды выполнения приложений Azure, облачная служба основана на использовании виртуальных машин. Технология обеспечивает два немного разных варианта виртуальных машин: в экземплярах *веб-ролей* выполняется вариант Windows Server со службами IIS, а в экземплярах *рабочих ролей* выполняется тот же самый вариант Windows Server без служб IIS. Работа приложения облачных служб основана на сочетании двух этих возможностей. 

Например, простое приложение может использовать только одну веб-роль, а более сложное приложение может использовать веб-роль для обработки поступающих от пользователей запросов, а затем передавать формируемые этими запросами операции в рабочую роль для обработки. (Для такого взаимодействия может использоваться Service Bus или компонент очередей Azure.)

Как видно из рисунка, все виртуальные машины в рамках отдельного приложения выполняются в одной облачной службе, как было описано ранее для виртуальных машин Azure. В связи с этим пользователи осуществляют доступ к приложению через отдельный открытый IP-адрес, при этом для виртуальных машин приложения осуществляется автоматическая балансировка нагрузки. Как и в случае с облачными службами, созданными с помощью виртуальных машин Azure, платформа развертывает виртуальные машины в приложении облачных служб таким образом, чтобы исключить единственную точку отказа оборудования.

Хотя приложения и выполняются в виртуальных машинах, важно понимать, что модель облачных служб предоставляет технологию PaaS, а не IaaS. Вот как это можно себе представить: в IaaS, например, при использовании виртуальных машин Azure, вы сначала создаете и настраиваете среду, в которой будет выполняться приложение, а затем развертываете в ней само приложение. При таком подходе на вас ложится множество обязанностей, например, по развертыванию новых исправленных версий операционной системы в каждой виртуальной машине. В PaaS же среда уже существует. Вам нужно всего лишь развернуть свое приложение. Управление платформой, на базе которой оно выполняется, включая развертывание новых версий операционной системы, осуществляется за вас.

При использовании облачных служб вы не создаете виртуальные машины. Вместо этого вы предоставляете файл конфигурации, сообщающий Azure о ваших потребностях, например три экземпляра веб-роли и два экземпляра рабочей роли, после чего платформа создает их самостоятельно.  При этом вам все равно нужно выбрать размер требуемых виртуальных машин (варианты аналогичны виртуальным машинам Azure), однако вы явным образом не участвуете в их создании. Если ваше приложение сталкивается с высокой нагрузкой, вы можете запросить дополнительные виртуальные машины, после чего Azure создаст необходимые экземпляры. В случае спада нагрузки вы можете завершить работу этих экземпляров и перестать оплачивать их.

В общем случае приложение облачных служб можно сделать доступным пользователям за два этапа. Сначала разработчик отправляет приложение в промежуточную область хранения платформы. Когда разработчик готов выпустить приложение, он использует портал управления Azure, чтобы запросить перемещение в производственную область. Это переключение из промежуточной области в производственную можно выполнить без простоя, что позволяет обновить запущенное приложение до новой версии, не нарушая работу пользователей в нем. 

Кроме того, облачные службы обеспечивают мониторинг. Как и модель виртуальных машин Azure, эта модель обнаруживает неисправный физический сервер и перезапускает выполняемые на нем виртуальные машины на новом компьютере. Однако модель облачных служб также обнаруживает не только аппаратные сбои, но и неисправные виртуальные машины и приложения. В отличие от виртуальных машин она использует агент внутри каждой веб-роли и рабочей роли, что позволяет в случае сбоя запустить новые виртуальные машины и экземпляры приложений.

Характер PaaS у модели облачных служб имеет и другие аспекты. Один из наиболее важных заключается в том, что построенное на базе этой технологии приложение должно обеспечивать правильную работу в случае сбоя какого-либо из экземпляров веб-роли или рабочей роли. Для этого приложение облачных служб не должно сохранять состояние в файловой системе своих собственных виртуальных машин. В отличие от виртуальных машин, созданных с помощью модели виртуальных машин Azure, записи в виртуальную машину облачных служб не сохраняются постоянно — здесь не существует ничего похожего на диск данных компонента виртуальных машин. Вместо этого приложение облачных служб должно явным образом записывать все данные о состоянии в Базу данных SQL, BLOB-объекты, таблицы или любое другое внешнее хранилище. Построение приложений с учетом данного аспекта упрощает их масштабирование и делает их более отказоустойчивыми, что относится к важным задачам модели облачных служб.


<h2><a id="WhatShouldIUse"></a>Что следует использовать мне? Принятие решения</h2>

Все три модели выполнения Azure позволяют вам создавать в облаке масштабируемые и надежные приложения. Какой из них вам следует отдать предпочтение, учитывая указанное сходство? Ответ зависит от стоящих перед вами задач.

Модель виртуальных машин позволяет получить более общее решение. Если вы хотите обеспечить наивысший уровень контроля или получить более универсальные виртуальные машины, например для разработки и тестирования, этот вариант подойдет лучше всего. Модель виртуальных машин также лучше всего подходит для выполнения готовых локальных приложений в облаке, как показано в приведенном ранее примере SharePoint. А поскольку создаваемые с помощью данной технологии виртуальные машины могут выступать в качестве локальных виртуальных машин, данное решение представляется оптимальным и для аварийного восстановления. Недостаток данного подхода можно выразить следующим образом – большая власть подразумевает и большую ответственность, так как при использовании IaaS вам придется предпринимать меры по администрированию.  

Модель веб-сайтов лучше всего подходит для создания простого веб-сайта. Это особенно касается случая, когда ваш сайт будет основан на существующем приложении, таком как Joomla, WordPress и Drupal. Модель веб-сайтов можно порекомендовать для создания веб-приложения (даже если к нему предъявляются довольно высокие требования по масштабированию) с малым объемом работы по администрированию или для перемещения существующего веб-приложения IIS в общедоступное облако. Он также обеспечивает быстрое развертывание – новый экземпляр приложения может быть запущен практически немедленно, в то время как развертывание новой виртуальной машины с помощью модели виртуальных машин или облачных служб может занимать несколько минут. 

Модель облачных служб, которая была первой из предоставляемых Azure моделей выполнения, представляет собой явный подход PaaS. Хотя граница между PaaS и размещением веб-сайтов довольно размыта, модель облачных служб отличается от модели веб-сайтов по нескольким важным аспектам, включая следующие:

- В отличие от модели веб-сайтов модель облачных служб предоставляет вам административный доступ к виртуальным машинам приложения. Это позволяет устанавливать произвольное программное обеспечение, требуемое приложению; в модели веб-сайтов такая возможность отсутствует.
- Поскольку модель облачных служб позволяет использовать как веб-роли, так и рабочие роли, она лучше модели веб-сайтов подходит для многоуровневых приложений, которым для выполнения бизнес-логики требуются отдельные виртуальные машины.
- Модель облачных служб предоставляет отдельно промежуточную и рабочую среды, что делает процесс обновления приложений более удобным по сравнению с моделью веб-сайтов. 
- В отличие от модели веб-сайтов вы можете использовать сетевые технологии, такие как виртуальная сеть Azure и Azure Connect, для подключения локальных компьютеров к приложениям облачных служб. 
- Модель облачных служб позволяет вам использовать удаленный рабочий стол для прямого подключения к виртуальным машинам приложения; в модели веб-сайтов такая возможность отсутствует.

Благодаря технологии PaaS модель облачных служб также предоставляет некоторые преимущества по сравнению с моделью виртуальных машин Azure. За вас выполняется больше задач управления, например развертывание обновлений операционных систем, а затраты на выполняемые вами операции, вероятнее всего, будут ниже, чем в подходе IaaS модели виртуальных машин Azure.

Все три модели выполнения Azure имеют свои плюсы и минусы. Чтобы сделать правильный выбор, нужно понять эти особенности и четко представить себе конечную цель, а затем выбрать наиболее подходящую для этого модель.

Иногда ни одна отдельная модель выполнения не подходит. В этом случае можно совершенно спокойно совмещать указанные варианты. Например, предположим, что вы создаете приложение, в котором хотите воспользоваться преимуществами управления веб-ролей облачных служб, а также из соображений совместимости или производительности использовать стандартный SQL Server. В этом случае наилучшим вариантом станет объединение моделей выполнения, как показано на [рисунке 7](#Fig7).

<a name="Fig7"></a>![07_CombineTechnologies][07_CombineTechnologies] 
 
**Рисунок 7. Одно приложение может использовать несколько моделей выполнения.**

Как показано на рисунке, виртуальные машины модели облачных служб выполняются в одной облачной службе и отдельно от виртуальных машин модели виртуальных машин. Однако обе эти группы могут достаточно эффективно взаимодействовать друг с другом, что в некоторых случаях делает создание такого приложения наиболее оптимальным решением.

Azure предоставляет разные модели выполнения, так как облачные платформы должны поддерживать множество разных сценариев. Любой, кто хочет эффективно использовать эту платформу (а если вы дочитали до этого места, к таким людям, вероятнее всего, можно отнести и вас), должен разобраться в каждой из таких моделей.

[01_CreatingVMs]: ./media/fundamentals-application-models/ExecModels_01_CreatingVMs.png
[02_CloudServices]: ./media/fundamentals-application-models/ExecModels_02_CloudServices.png
[03_AppUsingSQLServer]: ./media/fundamentals-application-models/ExecModels_03_AppUsingSQLServer.png
[04_SharePointFarm]: ./media/fundamentals-application-models/ExecModels_04_SharePointFarm.png
[05_Websites]: ./media/fundamentals-application-models/ExecModels_05_Websites.png
[06_CloudServices2]: ./media/fundamentals-application-models/ExecModels_06_CloudServices2.png
[07_CombineTechnologies]: ./media/fundamentals-application-models/ExecModels_07_CombineTechnologies.png



