<properties umbracoNaviHide="0" pageTitle="Модель приложения" metaKeywords =" Azure, Azure, модель приложения, модель приложения Azure, модель разработки, модель разработки Azure, размещенная служба, размещенная служба Azure, веб-роль, рабочая роль" description="Здесь приводится информация о модели приложения для размещенной службы Azure. Это позволяет получить достаточный уровень знаний по основным концепциям, проблемам проектирования, по определению и настройке приложений, а также о масштабировании." urlDisplayName="Application Model" headerExpose="" footerExpose="" disqusComments="1" title="Azure Fundamentals - Application Models" authors="timlt" manager="timlt" />

<tags ms.service="multiple" ms.workload="multiple" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/1/2014" ms.author="timlt" />



#Модели выполнения Azure

Azure предоставляет разные модели выполнения для запуска приложений. Каждая из них содержит различный набор служб, и ваш выбор зависит от намеченных целей. В этой статье рассматриваются все три технологии и приводятся примеры их использования.

##Оглавление

- [Виртуальные машины](#VMachine)
- [Веб-сайты](#WebSites)
- [Облачные службы](#CloudServices)
- [Что следует использовать? Принятие решения](#WhatShouldIUse)

<h2><a id="VMachine"></a>Виртуальные машины</h2>
Виртуальные машины Azure позволяют разработчикам, ИТ-специалистам и другим людям создавать и использовать виртуальные машины в облаке. Используемый в технологии подход IaaS (инфраструктура как служба), позволяет применять ее различными способами. [На рисунке 1](#Fig1) показаны ее базовые компоненты.

<a name="Fig1"></a>![01_CreatingVMs][01_CreatingVMs]

**Рисунок 1. Виртуальные машины Azure предоставляют инфраструктуру как услугу**

Как показано на рисунке, вы можете создать виртуальные машины с помощью портала управления Azure или с помощью интерфейса API управления службами Azure на основе REST. Портал управления можно открыть в любом из распространенных браузеров, включая Internet Explorer, Mozilla и Chrome. Для API REST корпорация Майкрософт предоставляет средства выполнения сценариев на стороне клиента для систем Windows, Linux и Macintosh. Другое программное обеспечение также может свободно использовать этот интерфейс.

Независимо от способа доступа к платформе, чтобы создать новую виртуальную машину, требуется выбрать виртуальный жесткий диск (VHD) для образа виртуальной машины. Эти виртуальные жесткие диски хранятся в больших двоичных объектах Azure. 

Для начала работы есть два варианта 

1. Передача собственного виртуального жесткого диска 
2. Используйте виртуальные жесткие диски (VHD), предоставляемые корпорацией Майкрософт и ее партнерами в галерее виртуальных машин Azure или на веб-сайте Microsoft с открытым исходным кодом [VMDepot](http://vmdepot.msopentech.com/). 

VHD в коллекции и на VMDepot включают чистые образы операционных систем Microsoft и Linux, а также образы с установленными продуктами Microsoft и других сторонних разработчиков.  Параметры увеличиваются все время. Примеры различных версий, сборок и конфигураций:
 
-	Windows Server 
-	Серверы Linux Suse, Ubuntu и CentOS
-	SQL Server
-	BizTalk Server 
-	SharePoint Server



Вместе с VHD вы указываете размер новой виртуальной машины.  Полная статистика для каждого размера приведена [в библиотеке Azure](http://msdn.microsoft.com/ru-ru/library/windowsazure/dn197896.aspx).  

-	**Сверхмалый**, общее ядро и 768 МБ памяти.
-	**Небольшой** с 1 ядром и 1,75 ГБ памяти.
-	**Средний** - 2 ядра и 3,5 ГБ памяти.
-	**Большой** - 4 ядра и 7 ГБ памяти.
-	**Очень крупный** - 8 ядер и 14 ГБ памяти.
-	**A6** - 4 ядра и 28 ГБ памяти.
-	**A7** - 8 ядер и 56 ГБ памяти.


Наконец, вы выбираете центр обработки данных Azure, в котором должна выполняться новая виртуальная машина, например, расположенный в США, Европе или Азии. 

После запуска виртуальной машины вы платите за каждый час ее работы. После удаления этой виртуальной машины взимание платы за нее прекращается. Выплачиваемая сумма зависит только от времени работы и не зависит от того, насколько интенсивно используется виртуальная машина. За виртуальную машину, находящуюся в режиме простоя в течение часа, взимается та же сумма, что и за высоконагруженную виртуальную машину. 

Каждая выполняемая виртуальная машина имеет связанный диск ОС, хранимый в большом двоичном объекте. При создании виртуальной машины на основе виртуального жесткого диска из коллекции этот диск копируется в ее диск ОС. На этом диске хранятся все изменения, вносимые в операционную систему с запущенной виртуальной машиной. Например, если вы установили приложение, изменяющее реестр Windows, такое изменение сохраняется на диске ОС виртуальной машины. При следующем создании виртуальной машины из этого диска ОС виртуальная машина продолжит работать в том состоянии, в котором вы ее оставили ранее. По мере необходимости корпорация Майкрософт применяет для виртуальных жестких дисков в галерее различные обновления, например исправления для операционных систем. Однако ответственность за применение обновлений для виртуальных жестких дисков на ваших дисках ОС несете именно вы (хотя по умолчанию служба Центра обновления Windows включена).

Работающие виртуальные машины также можно изменять и записывать с помощью средства sysprep. Sysprep удаляет сведения, такие как имя машины, чтобы образ виртуального жесткого диска можно было использовать для создания дополнительных виртуальных машин с одной и той же общей конфигурацией. Эти образы хранятся на портале управления наряду с загруженными образами, так что их можно использовать в качестве отправной точки для дополнительных виртуальных машин. 

Виртуальные машины также осуществляют мониторинг оборудования, используемого для работы каждой из создаваемых вами виртуальных машин. В случае сбоя физического сервера с виртуальной машиной платформа обнаруживает это событие и запускает аналогичную виртуальную машину на другом компьютере. А при наличии подходящих лицензий вы можете скопировать измененный виртуальный жесткий диск со своего диска ОС и запустить его в другом месте, например в своем локальном центре обработки данных или у другого поставщика облачных служб. 

Кроме диска ОС, виртуальная машина имеет один или несколько дисков данных. Хотя для виртуальной машины каждый из них выглядит как подключенный диск, содержимое каждого из них на самом деле хранится в BLOB-объекте. Каждая запись, производимая на диск данных, помещается на постоянное хранение в базовый BLOB-объект. Как и для всех больших двоичных объектов, Azure осуществляет их репликацию как в рамках одного центра обработки данных, так и между разными центрами обработки данных, чтобы обеспечить защиту от сбоев.

Выполнением виртуальных машин можно управлять с помощью портала управления, PowerShell и других средств работы со скриптами, а также напрямую через API REST. (На деле все то, что можно сделать в портале управления, можно осуществить программно с помощью данного API.) Партнеры корпорации Майкрософт, такие как RightScale и ScaleXtreme, также предлагают службы управления, основанные на API REST.

Виртуальные машины Azure можно использовать разными способами. К основным сценариям, на которые ориентируется корпорация Майкрософт, относятся следующие:

- **Виртуальные машины для разработки и тестирования.** Группам разработчиков для создания приложений часто требуются виртуальные машины с определенными конфигурациями. Виртуальные машины Azure это простой и экономичный способ создания, использования и удаления подобных машин.
- **Выполнение приложений в облаке.** Для некоторых приложений выполнение в общедоступном облаке более экономически выгодно. Представьте себе приложение со значительными пиками нагрузки спроса. Всегда можно купить достаточное кол-во машин для своего центра обработки данных и выполнять приложение там, но большинство этих машин, скорее всего, будет простаивать. Выполнение данного приложения в Azure позволяет вам оплачивать дополнительные виртуальные машины только при возникновении необходимости и выключать их после окончания пика нагрузки. Или предположим, что у вас стартап, которому необходимо быстро по требованию получать вычислительные ресурсы без каких-либо обязательств. Опять же в данном случае Azure может быть правильным выбором.
- **Расширение своего центра обработки данных в общедоступное облако.** Используя службу виртуальной сети Azure, вы можете создать виртуальную сеть (VNET), которая объединяет группу виртуальных машин Azure как часть вашей локальной сети. Это позволяет выполнять в Azure такие приложения, как SharePoint. Такой подход проще в развертывании и дешевле по сравнению с выполнением приложения в собственном центре обработки данных.
- **Аварийное восстановление.** Вместо непрерывной оплаты резервного копирования центра обработки данных, который используется редко, аварийное восстановление на основе IaaS позволяет платить за вычислительные ресурсы, только когда они действительно нужны. Например, если основной центр обработки данных выходит из строя, в Azure можно создать виртуальные машины для выполнения наиболее важных приложений, а затем после восстановления центра выключить их.

Здесь перечислены не все доступные возможности, а наиболее характерные примеры того, как вы можете использовать виртуальные машины Azure.  


###Группировка виртуальных машин: Облачные службы 

При создании новой виртуальной машины в Azure вы можете выполнять ее изолированно или сделать частью группы виртуальных машин, совместно работающих в *облачной службе*. (Несмотря на схожие названия, не следует путать этот элемент с облачными службами, как названием технологии PaaS Azure, это разные понятия.)  Каждой изолированной виртуальной машине назначается собственный открытый IP-адрес, в то время как доступ ко всем виртуальным машинам в одной облачной службе осуществляется по одному открытому IP-адресу. [На рисунке 2](#Fig2) показано, как это выглядит.
 
<a name="Fig2"></a>![02_CloudServices][02_CloudServices]

**Рисунок 2. Каждая изолированная виртуальная машина имеет собственный открытый IP-адрес, в то время как виртуальные машины, сгруппированные в одной облачной службе, предоставляются по одному общедоступному IP-адресу**

Например, если бы вы создавали виртуальную машину для создания и тестирования простого приложения, то, скорее всего, использовали изолированную виртуальную машину. Если вы создаете многоуровневое приложение, с веб-интерфейсом, базой данных и даже, возможно, средним уровнем, скорее всего вы объедините несколько виртуальных машин в облачной службе, как показано на рисунке 2.

Группировка виртуальных машин в облачную службу предоставляет вам и другие возможности. Azure обеспечивает балансировку нагрузки для виртуальных машин в рамках одной облачной службы, распределяя по ним запросы пользователей. Соединенные таким образом виртуальные машины также могут напрямую взаимодействовать друг с другом по локальной сети в рамках центра обработки данных Azure. 

Виртуальные машины в одной облачной службе также могут быть сгруппированы в один или несколько *наборов доступности*. Чтобы понять всю важность такой возможности, представьте себе веб-приложение, выполняющее несколько интерфейсных виртуальных машин. Если все эти виртуальные машины развернуты на одном физическом компьютере или даже в одной стойке компьютеров, всего один сбой оборудования может сделать их все недоступными. Если эти виртуальные машины сгруппированы в группу доступности, Azure развернет их по всему центру обработки данных, чтобы ни одна из них не создавала единственную точку отказа.

###Сценарий: Выполнение приложения с использованием сервера SQL Server

Чтобы получить лучшее представление о том, как работают виртуальные машины Azure, будет полезно немного подробнее рассмотреть пару сценариев. Например, предположим, что вы хотите создать в Azure надежное и масштабируемое веб-приложение. Один из способов сделать так - выполнять логику приложения на одной или нескольких виртуальных машинах Azure и использовать SQL Server для управления данными. [На рисунке 3](#Fig3) показано, как это выглядит.

<a name="Fig3"></a>![03_AppUsingSQLServer][03_AppUsingSQLServer]

**Рисунок 3. Приложение, выполняемое в виртуальных машинах Azure, может использовать SQL Server для хранения данных**

В данном примере виртуальные машины обоих типов создаются из доступных в коллекции стандартных VHD-дисков. Логическая схема приложения выполняется в Windows Server 2008 R2, поэтому разработчик создает из этого виртуального жесткого диска три виртуальные машины, а затем устанавливает в каждую из них свое приложение. Поскольку все эти виртуальные машины находятся в одной облачной службе, он может настроить аппаратный балансировщик нагрузки на распределение запросов между ними. Разработчик также создает две виртуальные машины из галереи VHD с SQL Server 2012. После их запуска он настраивает SQL Server в каждом экземпляре на использование зеркального отображения базы данных с автоматической отработкой отказа. Это не является обязательным, так как приложение может использовать и отдельный экземпляр SQL Server, однако данный подход повышает надежность. 

###Сценарий: Выполнение фермы SharePoint 

Предположим, организация хочет создать ферму SharePoint, но не хочет, чтобы ферма выполнялась в собственном центре обработки данных. Возможно, в локальном центре обработки данных недостаточно ресурсов или подразделение, создающее ферму, не хочет формировать внутреннюю группу ИТ-специалистов. В этом случае имеет смысл перенести выполнение SharePoint в среду виртуальных машин Azure. [На рисунке 4](#Fig4) показано, как это выглядит.

<a name="Fig4"></a>![04_SharePointFarm][04_SharePointFarm]
 
**Рисунок 4. Виртуальные машины Azure позволяют выполнять ферму SharePoint в облаке**

Ферма SharePoint имеет несколько компонентов, каждый из которых выполняется в виртуальной машине Azure, созданной из подходящего виртуального жесткого диска. Необходимо наличие следующих компонентов.

- Microsoft SharePoint. В коллекции есть пробные образы. Также организация может предоставлять свой собственный виртуальный жесткий диск.
- Microsoft SQL Server. Работа SharePoint зависит от SQL Server, поэтому организация создает виртуальные машины с SQL Server 2012 из представленного в коллекции стандартного VHD-диска.
- Windows Server Active Directory. Кроме того, для SharePoint требуется Active Directory, поэтому организация создает в облаке контроллеры доменов с помощью образа Windows Server из галереи. Это не является обязательным, так как можно использовать локальные контроллеры домена, однако SharePoint активно взаимодействует с Active Directory, поэтому приведенный здесь подход обеспечивает повышенную производительность.

Хотя это не отражено на рисунке, возможно, данная ферма SharePoint подключается к локальной сети с помощью виртуальной сети Azure. Это позволяет виртуальным машинам и приложениям на них выступать в качестве локальных для тех людей, которые используют эту сеть.

Как видно из примеров, вы можете использовать виртуальные машины Azure для создания и запуска новых приложений в облаке, для выполнения существующих приложений, а также для других целей. Независимо от выбранного варианта цель технологии одинакова - предоставление фундамента для общедоступных облачных вычислений.



<h2><a id="WebSites"></a>Веб-сайты</h2>

Люди используют технологии множеством разных способов. Организации может потребоваться перенос или настройка веб-сайта, который может обрабатывать миллионы обращений в неделю и развертываться в нескольких центрах обработки данных во всем мире. Агентство, занимающееся веб-дизайном, может сотрудничать с группой разработчиков для сборки специализированного веб-приложения, поддерживающего работу тысяч пользователей. Корпоративному разработчику может потребоваться настройка приложения для отслеживания отчетов о расходах в облаке для зарегистрированных пользователей из своей корпоративной службы Active Directory. ИТ-консультант может использовать популярное приложение с открытым исходным кодом для настройки системы управления содержимым на малом предприятии.
Все эти задачи можно решить с помощью виртуальных машин Azure. Однако для создания виртуальных машин "с нуля" и управления ими требуются навыки и усилия. Если необходимо внедрить веб-сайт или веб-приложение, есть решение проще (и дешевле): подход, более известный как "платформа как услуга" (PaaS). Как показано на рисунке 5, Azure предоставляет эту возможность с помощью веб-сайтов.


<a name="Fig5"></a>![05_Websites][05_Websites]
 
**Рисунок 5. Веб-сайты Azure поддерживают статичные веб-сайты, популярные веб-приложения и специализированные веб-приложения, созданные на основе различных технологий** 

Веб-сайты Azure основаны на облачных службах Azure и предназначены для создания решения "платформа как служба", оптимизированного для запуска веб-приложений. Как показано на рисунке, веб-сайты выполняются на наборе из отдельных виртуальных машин, которые могут содержать несколько веб-сайтов, созданных несколькими пользователями, а также стандартных виртуальных машин, которые принадлежат отдельным пользователям. Виртуальные машины являются частью пула ресурсов под управлением службы веб-сайтов Azure, что повышает надежность и отказоустойчивость.
Приступить к работе просто. Благодаря веб-сайтам Azure пользователи имеют выбор из диапазона приложений, платформ и шаблонов и могут создать веб-сайт буквально за секунды. Они затем могут использовать свои любимые средства разработки (WebMatrix, Visual Studio и другие редакторы) для настройки непрерывной интеграции и осуществлять разработку в команде. Приложения, зависящие от MySQL DB, могут использовать службу MySQL для Azure от компании ClearDB - партнера корпорации Майкрософт.
Разработчики также с помощью веб-сайтов могут создавать большие, масштабируемые веб-приложения. Эта технология поддерживает создание приложений с помощью ASP.NET, PHP, Node.js и Python. Приложения могут использовать, например, прикрепленные сеансы, а существующие приложения можно переместить на эту облачную платформу без каких-либо изменений. Приложения, созданные на основе веб-сайтов, могут свободно использовать остальные возможности Azure, такие как Service Bus, база данных SQL и хранилище больших двоичных объектов. Вы также можете запустить несколько копий приложения в разных виртуальных машинах, при этом среда веб-сайтов осуществляет для них автоматическую балансировку нагрузки. И поскольку новые экземпляры службы веб-сайтов создаются в виртуальных машинах, которые уже существуют, запуск нового экземпляра приложения происходит очень быстро. Это значительно быстрее, чем ожидание создания новой виртуальной машины.
Как показано на [Рисунке 5](#Fig5) , код и другое содержимое можно публиковать в службу веб-сайтов несколькими способами. Можно использовать FTP, FTPS или технологию Майкрософт, WebDeploy. Кроме того, веб-сайты поддерживают публикацию кода из систем управления версиями, включая Git, GitHub, CodePlex, BitBucket, Dropbox, Mercurial, Team Foundation Server и облачную версию Team Foundation Service.


<h2><a id="CloudServices"></a>Облачные службы</h2>

Виртуальные машины Azure предоставляют технологию IaaS, а веб-сайты Azure предоставляют технологию размещения веб-сайтов. Третий вариант работы облачных служб - *платформа как служба (PaaS)*. Эти технология предназначена для поддержки масштабируемых, надежных и недорогих в эксплуатации приложений. Она также призвана освободить разработчиков от забот, касающихся управления используемой платформой, и позволить им сконцентрироваться на своих приложениях. [На рисунке 6](#Fig6) представлен этот принцип.

<a name="Fig6"></a>![06_CloudServices2][06_CloudServices2] 

**Рисунок 6. Облачные службы Azure предоставляют платформу как услугу**

Как и другие варианты среды выполнения приложений Azure, облачная служба основана на использовании виртуальных машин. Технология предоставляет два немного разных варианта виртуальных Машин: экземпляры *веб-ролей* выполняются вариант Windows Server со службами IIS, а экземпляры *рабочей роли* выполняют тот же вариант Windows Server, но без служб IIS. Работа приложения облачных служб основана на сочетании двух этих возможностей. 

Например, простое приложение может использовать только одну веб-роль, а более сложное приложение может использовать веб-роль для обработки поступающих от пользователей запросов, а затем передавать формируемые этими запросами операции в рабочую роль для обработки. (Для такого взаимодействия может использоваться Service Bus или очереди Azure.)

Как видно из рисунка, все виртуальные машины в рамках отдельного приложения выполняются в одной облачной службе, как было описано ранее для виртуальных машин Azure. В связи с этим пользователи осуществляют доступ к приложению через отдельный общедоступный IP-адрес, при этом для виртуальных машин приложения осуществляется автоматическая балансировка нагрузки. Как и в случае с облачными службами, созданными с помощью виртуальных машин Azure, платформа развертывает виртуальные машины в приложении облачных служб таким образом, чтобы исключить единственную точку отказа оборудования.

Несмотря на то, что приложения выполняются на виртуальных машинах, важно понимать, что облачные службы предоставляются не как IaaS, а PaaS. Вот как это можно себе представить: в IaaS, например, при использовании виртуальных машин Azure вы сначала создаете и настраиваете среду, в которой будет выполняться приложение, а затем развертываете в ней само приложение. При таком подходе на вас ложится множество обязанностей, например, по развертыванию новых исправленных версий операционной системы в каждой виртуальной машине. В PaaS, напротив, среда уже существует. Вам нужно всего лишь развернуть свое приложение. Управление платформой, на базе которой оно выполняется, включая развертывание новых версий операционной системы, осуществляется за вас.

С помощью облачных служб не нужно создавать виртуальные машины. Вместо этого предоставляется файл конфигурации, сообщающий Azure, сколько ресурсов вам требуется, например три экземпляра веб-роли и два экземпляра рабочей роли. Платформа создаст их самостоятельно.  При этом вам все равно нужно выбрать размер требуемых виртуальных машин (варианты аналогичны виртуальным машинам Azure), однако вы явным образом не участвуете в их создании. Если ваше приложение сталкивается с высокой нагрузкой, вы можете запросить дополнительные виртуальные машины, после чего Azure создаст необходимые экземпляры. В случае спада нагрузки вы можете завершить работу этих экземпляров и перестать оплачивать их.

В общем случае приложение облачных служб можно сделать доступным пользователям за два этапа. Сначала разработчик загружает приложение в промежуточную среду платформы. Когда разработчик готов выпустить приложение, он использует портал управления Azure, чтобы запросить перемещение в производственную область. Это переключение из промежуточной области в производственную можно выполнить без простоя, что позволяет обновить запущенное приложение до новой версии, не нарушая работу пользователей в нем. 

Кроме того, облачные службы обеспечивают мониторинг. Как и модель виртуальных машин Azure, эта модель обнаруживает неисправный физический сервер и перезапускает выполняемые на нем виртуальные машины на новом компьютере. Однако модель облачных служб также обнаруживает не только аппаратные сбои, но и неисправные виртуальные машины и приложения. В отличие от службы виртуальных машин она использует агент внутри каждой рабочей и веб-роли, и позволяет запустить новые виртуальные машины и экземпляры приложений при возникновении сбоев.

Характер PaaS у модели облачных служб имеет и другие аспекты. Один из наиболее важных заключается в том, что построенное на базе этой технологии приложение должно обеспечивать правильную работу в случае сбоя какого-либо из экземпляров веб-роли или рабочей роли. Для этого приложение облачных служб не должно сохранять свое состояние в файловой системе собственных виртуальных машин. В отличие от ВМ, созданных в службе виртуальных машин Azure, запись данных на виртуальные машины облачных служб не перманентна. На этих виртуальных машинах нет диска данных. Вместо этого приложение облачных служб должно явным образом записывать все данные о состоянии в Базу данных SQL, BLOB-объекты, таблицы или любое другое внешнее хранилище. Построение приложений с учетом данного аспекта упрощает их масштабирование и делает их более отказоустойчивыми, что относится к важным задачам модели облачных служб.


<h2><a id="WhatShouldIUse"></a>Что следует использовать? Принятие решения</h2>

Все три модели выполнения Azure позволяют вам создавать в облаке масштабируемые и надежные приложения. Какой из них вам следует отдать предпочтение, учитывая указанное сходство? Ответ зависит от того, что вы пытаетесь сделать.

Модель виртуальных машин позволяет получить более общее решение. Если вы хотите обеспечить наивысший уровень контроля или получить более универсальные виртуальные машины, например для разработки и тестирования, этот вариант подойдет лучше всего. Модель виртуальных машин также лучше всего подходит для выполнения готовых локальных приложений в облаке, как показано в приведенном ранее примере SharePoint. И поскольку созданные с помощью данной технологии виртуальные машины похожи на ваши обычные локальные виртуальных машин, то, скорее всего, это будет наилучшим решением для аварийного восстановления. Минус заключается в том, что за большую мощность нужно нести большую ответственность - при использовании IaaS требуется выполнять некоторые действия по администрированию.  

Веб-сайты станут хорошим выбором, когда нужно создать простой веб-сайт. Это особенно касается случая, когда ваш сайт будет основан на существующем приложении, таком как Joomla, WordPress и Drupal. Модель веб-сайтов можно порекомендовать для создания веб-приложения (даже если к нему предъявляются довольно высокие требования по масштабированию) с малым объемом работы по администрированию или для перемещения существующего веб-приложения IIS в общедоступное облако. Такой подход также обеспечивает быстрое развертывание. Новый экземпляр приложения может быть запущен практически немедленно, в то время как развертывание новой виртуальной машины с помощью модели виртуальных машин или облачных служб может занимать несколько минут. 

Модель облачных служб, которая была первой из предоставляемых Azure моделей выполнения, представляет собой явный подход PaaS. Хотя граница между PaaS и размещением веб-сайтов довольно размыта, модель облачных служб отличается от модели веб-сайтов по нескольким важным аспектам, включая следующие:

- В отличие от модели веб-сайтов, модель облачных служб предоставляет вам административный доступ к виртуальным машинам приложения. Это позволяет устанавливать произвольное программное обеспечение, требуемое приложению; в модели веб-сайтов такая возможность отсутствует.
- Поскольку модель облачных служб позволяет использовать как веб-роли, так и рабочие роли, она лучше модели веб-сайтов подходит для многоуровневых приложений, которым для выполнения бизнес-логики требуются отдельные виртуальные машины.
- Модель облачных служб предоставляет отдельно промежуточную и рабочую среды, что делает процесс обновления приложений более удобным по сравнению с моделью веб-сайтов. 
- В отличие от модели веб-сайтов, вы можете использовать сетевые технологии, такие как виртуальная сеть Azure и Azure Connect, для подключения локальных компьютеров к приложениям облачных служб. 
- Модель облачных служб позволяет вам использовать удаленный рабочий стол для прямого подключения к виртуальным машинам приложения; в модели веб-сайтов такая возможность отсутствует.

Благодаря технологии PaaS модель облачных служб также предоставляет некоторые преимущества по сравнению с моделью виртуальных машин Azure. За вас выполняется больше задач управления, например развертывание обновлений операционных систем, а затраты на выполняемые вами операции, вероятнее всего, будут ниже, чем в подходе IaaS модели виртуальных машин Azure.

Все три модели выполнения Azure имеют свои плюсы и минусы. Чтобы сделать правильный выбор, нужно понять эти особенности и четко представить себе конечную цель, а затем выбрать наиболее подходящую для этого модель.

Иногда ни одна отдельная модель выполнения не подходит. В таких ситуациях можно совершенно спокойно совмещать варианты моделей. Например, предположим, что вы создаете приложение, в котором хотите воспользоваться преимуществами управления веб-ролей облачных служб, а также из соображений совместимости или производительности использовать стандартный SQL Server. В этом случае лучше всего объединить модели выполнения, как показано на [рис. 7](#Fig7) .

<a name="Fig7"></a>![07_CombineTechnologies][07_CombineTechnologies] 
 
**Рисунок 7. Одно приложение может использовать несколько моделей выполнения**

Как показано на рисунке, виртуальные машины модели облачных служб выполняются в одной облачной службе и отдельно от виртуальных машин модели виртуальных машин. Однако обе эти группы могут достаточно эффективно взаимодействовать друг с другом, что в некоторых случаях делает создание такого приложения наиболее оптимальным решением.

Azure предоставляет разные модели выполнения, так как облачные платформы должны поддерживать множество разных сценариев. Любой, кто хочет эффективно использовать эту платформу (а если вы дочитали до этого места, к таким людям, вероятнее всего, можно отнести и вас), должен разобраться в каждой из таких моделей.

[01_CreatingVMs]: ./media/fundamentals-application-models/ExecModels_01_CreatingVMs.png
[02_CloudServices]: ./media/fundamentals-application-models/ExecModels_02_CloudServices.png
[03_AppUsingSQLServer]: ./media/fundamentals-application-models/ExecModels_03_AppUsingSQLServer.png
[04_SharePointFarm]: ./media/fundamentals-application-models/ExecModels_04_SharePointFarm.png
[05_Websites]: ./media/fundamentals-application-models/ExecModels_05_Websites.png
[06_CloudServices2]: ./media/fundamentals-application-models/ExecModels_06_CloudServices2.png
[07_CombineTechnologies]: ./media/fundamentals-application-models/ExecModels_07_CombineTechnologies.png



<!--HONumber=35.2-->
