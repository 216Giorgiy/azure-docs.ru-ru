---
title: Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB | Документация Майкрософт
description: Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB.
keywords: consistency, performance, azure cosmos db, azure, Microsoft azure
services: cosmos-db
author: markjbrown
ms.service: cosmos-db
ms.devlang: na
ms.topic: conceptual
ms.date: 10/20/2018
ms.author: mjbrown
ms.openlocfilehash: 0e4105d6f56a8eb45a83e970c85319cf25041781
ms.sourcegitcommit: 5a1d601f01444be7d9f405df18c57be0316a1c79
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2018
ms.locfileid: "51514780"
---
# <a name="availability-and-performance-tradeoffs-for-various-consistency-levels-in-azure-cosmos-db"></a>Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB

Репликация распределенных баз данных для обеспечения высокого уровня их доступности и небольшой задержки предполагает компромисс между согласованностью чтения и такими параметрами, как доступность, время задержки и пропускная способность. В Azure Cosmos DB предусмотрены разные варианты для достижения такого компромисса, вместо крайних случаев строгой или нестрогой согласованности данных. Cosmos DB позволяет разработчикам выбрать одну из пяти моделей согласованности (от наиболее строгих к наименее): **Строгая**, **Ограниченное устаревание**, **Сеансовая**, **Постоянный префикс** и **Итоговая**. Каждая из пяти моделей обеспечивает компромисс между доступностью и производительностью и регулируется комплексными соглашениями об уровне обслуживания.

## <a name="consistency-levels-and-latency"></a>Уровни согласованности и время задержки

- **Задержка чтения** для всех уровней согласованности гарантированно никогда не превышает 10 миллисекунд для 99-го процентиля, что оговаривается Соглашением об уровне обслуживания. Среднее время задержки чтения (50-й процентиль) обычно не превышает 2 миллисекунд.

- За исключением учетных записей Cosmos с заданной строгой согласованностью, охватывающих несколько регионов, **задержка записи** для всех уровней согласованности гарантированно никогда не превышает 10 миллисекунд для 99-го процентиля. Соглашение об уровне обслуживания хранит задержку записи. Среднее время задержки записи (50-й процентиль) обычно не превышает 5 миллисекунд.

- Для учетных записей Cosmos с заданной строгой согласованностью, охватывающих несколько регионов (сейчас предоставляется в предварительной версии), **задержка записи** для всех уровней согласованности никогда не превышает 10 миллисекунд + (2 × время кругового пути (RTT)) для 99-го процентиля. Время RTT между двумя самыми удаленными друг от друга регионами, связанными с учетной записью Cosmos. Точная задержка RTT определяется расстоянием, которое преодолевает сигнал, двигаясь со скоростью света, и точной топологией сети Azure. Для сетей Azure не предусмотрены Соглашения об уровне обслуживания, определяющие задержки для RTT между любыми двумя регионами Azure. Задержки репликации Cosmos DB отображаются на портале Azure для учетной записи Cosmos, что позволяет отслеживать задержку репликации между разными регионами, связанными с учетной записью Cosmos.

## <a name="consistency-levels-and-throughput"></a>Уровни согласованности и пропускная способность

- Для одинакового количества единиц запроса уровни согласованности "Сеансовая", "Постоянный префикс" и "Нестрогая" обеспечивают пропускную способность для операций чтения примерно в два раза выше, чем у уровней согласованности "Строгая" и "Ограниченное устаревание".

- Для этого типа операций записи (вставка, замена, обновление или вставка, удаление и т. д.) пропускная способность одинаковая для всех уровней согласованности.

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о глобальном распределении и компромиссах согласованности в распределенных системах см. в таких статьях:

* [Consistency Tradeoffs in Modern Distributed Database Systems Design](https://www.computer.org/web/csdl/index/-/csdl/mags/co/2012/02/mco2012020037-abs.html) (Достижение компромиссов согласованности в современных распределенных базах данных)
* [Высокая доступность](high-availability.md)
* [Соглашение об уровне обслуживания для Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db/v1_2/)
