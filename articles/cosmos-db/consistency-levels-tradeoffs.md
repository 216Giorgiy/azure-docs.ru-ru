---
title: Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB
description: Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB.
author: markjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 10/20/2018
ms.author: mjbrown
ms.reviewer: sngun
ms.openlocfilehash: 52f08511d16e216ced7e3d1de11eae960cdbaeb8
ms.sourcegitcommit: 8330a262abaddaafd4acb04016b68486fba5835b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2019
ms.locfileid: "54041872"
---
# <a name="availability-and-performance-tradeoffs-for-various-consistency-levels-in-azure-cosmos-db"></a>Достижение компромисса между доступностью и быстродействием для разных уровней согласованности в Azure Cosmos DB

Распределенные базы данных, которые полагаются на репликацию для обеспечения высокого уровня доступности, низкой задержки или того и другого, должны быть компромиссными. Это компромиссы между согласованностью чтения и доступностью, задержкой и пропускной способностью. 

В Azure Cosmos DB согласованность данных рассматривается как плавный спектр возможных вариантов. Этот подход включает дополнительные возможности помимо двух крайностей в виде строгой и итоговой согласованности. Вы можете выбрать из пяти четко определенных моделей спектра согласованности. Это такие модели (приведены в порядке от сильных к слабым):

- Уровень согласованности Strong (сильная) 
- Ограниченная с запаздыванием 
- Сеанс 
- Согласованность префиксов 
- Уровень согласованности Eventual (в конечном счете) 

Каждая модель определяет компромиссы по доступности и производительности и регулируется комплексными Соглашениями об уровне обслуживания.

## <a name="consistency-levels-and-latency"></a>Уровни согласованности и время задержки

- Задержка чтения для всех уровней согласованности гарантированно никогда не превышает 10 миллисекунд для 99-го процентиля, что оговаривается Соглашением об уровне обслуживания. Среднее время задержки чтения (50-й процентиль) обычно не превышает 2 миллисекунды. Учетные записи Azure Cosmos, охватывающие несколько регионов и настраиваемые со строгой согласованностью, являются исключением из этой гарантии.

-  Задержка записи для оставшихся уровней согласованности гарантированно никогда не превышает 10 миллисекунд для 99-го процентиля. Соглашение об уровне обслуживания хранит задержку записи. Среднее время задержки записи (50-й процентиль) обычно не превышает 5 миллисекунд.

Некоторые учетные записи Azure Cosmos могут иметь несколько регионов, настроенных со строгой согласованностью. В этом случае задержка записи гарантированно будет меньше, чем двойное время кругового пути (RTT) плюс 10 миллисекунд для 99-го процентиля. Время RTT между двумя самыми удаленными друг от друга регионами, связанными с учетной записью Azure Cosmos. Оно равно RTT между двумя самыми удаленными друг от друга регионами, связанными с учетной записью Azure Cosmos. Сейчас этот вариант доступен в предварительной версии. 

Точная задержка RTT определяется расстоянием, которое преодолевает сигнал, двигаясь со скоростью света, и топологией сети Azure. Для сетей Azure не предусмотрены Соглашения об уровне обслуживания, определяющие задержки для RTT между любыми двумя регионами Azure. Задержки репликации учетной записи Azure Cosmos отображаются на портале Azure. Портал Azure можно использовать для отслеживания задержки репликации между различными регионами, которые связаны с учетной записью.

## <a name="consistency-levels-and-throughput"></a>Уровни согласованности и пропускная способность

- Для одинакового количества единиц запроса уровни согласованности "Сеансовая", "Постоянный префикс" и "Нестрогая" обеспечивают пропускную способность для операций чтения примерно в два раза выше, чем у уровней согласованности "Строгая" и "Ограниченное устаревание".

- Для этого типа операций записи (вставка, замена, обновление или вставка, удаление и т. д.) пропускная способность одинаковая для всех уровней согласованности.

## <a name="next-steps"></a>Дополнительная информация

Узнайте о глобальном распределении и общих компромиссах согласованности в распределенных системах: Ознакомьтесь со следующими статьями:

* [Consistency Tradeoffs in Modern Distributed Database Systems Design](https://www.computer.org/web/csdl/index/-/csdl/mags/co/2012/02/mco2012020037-abs.html) (Достижение компромиссов согласованности в современных распределенных базах данных)
* [Высокая доступность](high-availability.md)
* [Соглашение об уровне обслуживания для Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db/v1_2/)
