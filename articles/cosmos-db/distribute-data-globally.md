---
title: Глобальное распределение данных с помощью Azure Cosmos DB
description: Сведения о георепликации в масштабах планеты, работе с несколькими источниками, отработке отказа и восстановлении данных с помощью глобальных баз данных из Azure Cosmos DB — глобально распределенной многомодельной службы базы данных.
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 10/26/2018
ms.openlocfilehash: 75940f9c3c8022c5445eb998b133a156dacde9b5
ms.sourcegitcommit: fec0e51a3af74b428d5cc23b6d0835ed0ac1e4d8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/12/2019
ms.locfileid: "56106874"
---
# <a name="global-data-distribution-with-azure-cosmos-db---overview"></a>Общие сведения о глобальном распределении данных с помощью Azure Cosmos DB

Современные приложения должны мгновенно реагировать на запросы и быть постоянно доступными в Интернете. Чтобы обеспечить низкую задержку и высокий уровень доступности, экземпляры этих приложений нужно развернуть в ближайших к пользователям центрах обработки данных. Такие приложения обычно развертываются в нескольких центрах обработки данных и называются глобально распределенными. Глобально распределенные приложения требуют глобально распределенной базы данных, которая обеспечивает прозрачную репликацию данных в любую точку мира. Это позволит приложениям работать с копией данных, которая размещена в ближайшем к пользователям расположении. 

Azure Cosmos DB — это глобально распределенная служба базы данных, предназначенная для обеспечения низкой задержки, эластичной масштабируемости пропускной способности, четко определенной семантики для согласованности данных и их высокой доступности. Вкратце, если вашему приложению требуется гарантированное быстрое время отклика в любой точке мира, если оно всегда должно быть в сети и ему требуется неограниченная и эластичная масштабируемость пропускной способности и хранения, следует рассмотреть возможность создания приложений с использованием Azure Cosmos DB.

Можно настраивать базы данных для глобального распределения и доступности в любом из регионов Azure. Чтобы уменьшить задержку, переместите данные ближе к расположению пользователя. Выбор необходимых регионов зависит от глобального охвата приложения и расположения пользователя. Azure Cosmos DB прозрачно реплицирует все данные в учетной записи во все регионы, связанные с этой учетной записью. Она предоставляет один образ системы глобально распределенной базы данных Azure Cosmos и контейнеров, что позволяет приложению использовать их для локальных операций чтения и записи. 

С помощью Azure Cosmos DB можно в любое время добавлять или удалять регионы, связанные с учетной записью. Чтобы добавить или удалить регион, приложение не нужно приостанавливать или повторно развертывать. Оно все время высокодоступное благодаря возможностям множественной адресации, которые предоставляет служба.

![Топология развертывания высокого уровня доступности](./media/distribute-data-globally/deployment-topology.png)

## <a name="key-benefits-of-global-distribution"></a>Ключевые преимущества глобального распределения

**Создание глобальных приложений "активный — активный"**. С возможностью нескольких источников каждый регион является регионом записи (кроме того, что доступен для чтения). Возможности нескольких источников также гарантируют:

- неограниченную масштабируемость при записи; 
- доступность для чтения и записи на 99,999 % по всему миру;
- гарантированные операции чтения или записи, обслуживаемые менее чем за 10 миллисекунд в 99-м процентиле.

С помощью API-интерфейсов множественной адресации Azure Cosmos DB приложение учитывает ближайший регион. Позже оно может отправить запросы в этот регион. Ближайший регион будет определен автоматически, без изменения конфигурации. При добавлении и удалении регионов в учетной записи Azure Cosmos DB приложения не нужно повторно развертывать. Приложение продолжает быть высокодоступным.

**Создание быстродействующих приложений**. Приложение можно легко спроектировать для выполнения операций чтения и записи в режиме реального времени с задержкой, измеряемой единицами во всех регионах, которые были выбраны для базы данных. Azure Cosmos DB выполняет внутреннюю обработку репликации данных между регионами таким образом, чтобы гарантировать уровень согласованности, выбранный для учетной записи Azure Cosmos DB.

Многие приложения получают преимущества от улучшений производительности, которые идут вместе с возможностью выполнения операции записи в нескольких регионах (или в одном регионе). Для некоторых приложений, которым требуется строгая согласованность, в одном регионе предпочтительней использовать воронку записи всех операций. Для этих приложений Azure Cosmos DB поддерживает оба варианта конфигурации как для одного региона, так и для нескольких.

**Создание приложений высокой доступности**. Запуск базы данных в нескольких регионах улучшает ее доступность. В случае, когда один из регионов недоступен, запросы приложений обрабатываются в других регионах автоматически. Azure Cosmos DB предлагает возможность чтения и записи на уровне 99,999 % для баз данных, распределенных по нескольким регионам.

**Обеспечение непрерывности бизнес-процессов во время региональных сбоев**. Во время региональных сбоев Azure Cosmos DB поддерживает [автоматическую отработку отказа](how-to-manage-database-account.md#automatic-failover). Во время регионального сбоя Azure Cosmos DB будет продолжать управлять пропускной способностью, доступностью, согласованностью и соглашением об уровне обслуживания в части пропускной способности. Чтобы убедиться, что целое приложение обладает высокой доступностью, Azure Cosmos DB предлагает API переход вручную на другой ресурс, с помощью которого можно имитировать региональный сбой. При использовании этого API можно регулярно выполнять тренировки непрерывности бизнеса.

**Глобальное масштабирование пропускной способности операций чтения и записи.** Благодаря поддержке нескольких источников можно выполнять гибкое масштабирование при чтении и записи по всему миру. Поддержка нескольких источников гарантирует, что приложение, настроенное в базе данных Azure Cosmos DB или в контейнере, будет распространено по всем регионам и защищено с помощью [Соглашения об уровне обслуживания с финансовыми гарантиями](https://aka.ms/acdbsla).

**Выбор нескольких четко определенных моделей согласованности.** Протокол репликации Azure Cosmos DB предлагает пять четко определенных, практических и интуитивно понятных моделей согласованности. В каждой модели предусмотрен компромисс между согласованностью и производительностью. Эти модели согласованности позволяют с легкостью создавать правильные глобально распределенные приложения.

## <a id="Next Steps"></a>Дальнейшие действия

Дополнительные сведения о глобальном распределении см. в следующих статьях.

* [Глобальное распределение (взгляд изнутри)](global-dist-under-the-hood.md)
* [Настройка нескольких источников в приложениях в Azure Cosmos DB](how-to-multi-master.md)
* [Настройка клиентов для поддержки нескольких веб-сайтов](how-to-manage-database-account.md#configure-clients-for-multi-homing)
* [Добавление и удаление регионов из учетной записи Azure Cosmos DB](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [Создание настраиваемой политики разрешения конфликтов для учетных записей API SQL](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)