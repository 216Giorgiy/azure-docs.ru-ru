---
title: Завершение срока действия данных в Azure Cosmos DB с помощью срока жизни
description: Функция TTL в Microsoft Azure Cosmos DB позволяет автоматически удалять документы из системы по прошествии определенного периода времени.
author: markjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 11/14/2018
ms.author: mjbrown
ms.reviewer: sngun
ms.openlocfilehash: f9dec5b3aeb951316985c965de70a372f55b8225
ms.sourcegitcommit: bd15a37170e57b651c54d8b194e5a99b5bcfb58f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2019
ms.locfileid: "57549193"
---
# <a name="time-to-live-in-azure-cosmos-db"></a>Срок жизни в Azure Cosmos DB 

С помощью срока жизни или TTL Azure Cosmos DB позволяет автоматически по прошествии определенного периода времени удалять элементы из контейнера. По умолчанию можно задать срок жизни на уровне контейнера и переопределить значения по элементу. После установки срока жизни на уровне контейнера или элемента Azure Cosmos DB будет автоматически удалять эти элементы по прошествии периода времени с момента их последнего изменения. Значение срока жизни настраивается в секундах. При настройке срока жизни система автоматически удалит просроченные элементы на основе значения срока жизни в отличие от операции удаления, которую явно выдает клиентское приложение.

## <a name="time-to-live-for-containers-and-items"></a>Срок жизни для контейнеров и элементов

Значения срока жизни задаются в секундах и интерпретируются как разность со времени последнего изменения элемента. Вы можете установить срок жизни для контейнера или элемента в контейнере:

1. **Срок жизни контейнера** (устанавливается с использованием значения `DefaultTimeToLive`):

   - Если свойство отсутствует (или имеет значение NULL), срок действия элементов не истекает автоматически.

   - Если свойство присутствует и имеет значение "-1", это значение равно бесконечности, по умолчанию элементы имеют неограниченный срок жизни.

   - Если свойство присутствует и имеет значение некоторого числа ("n"), элементы удаляются по истечении "n" секунд после последнего изменения.

2. **Срок жизни элемента** (устанавливается с использованием значения `ttl`):

   - Это свойство применимо, только если значение `DefaultTimeToLive` присутствует и оно не имеет значения NULL для родительского контейнера.

   - Если свойство присутствует, оно переопределяет значение `DefaultTimeToLive` родительского контейнера.

## <a name="time-to-live-configurations"></a>Настройки срока жизни

* Если срок жизни имеет значение "n" для контейнера, то элементы в этом контейнере будут действительны в течение n секунд.  Если для элементов в контейнере настроен собственный срок жизни в виде значения -1 (срок действия не истекает) или если некоторые элементы переопределили параметр срока жизни, используя другое число, на них будет распространяться срок действия в соответствии с настроенным значением срока жизни. 

* Если для контейнера не задан срок жизни, срок жизни элемента в этом контейнере не будет действовать. 

* Если срок жизни контейнера имеет значение -1, элемент в этом контейнере, срок жизни которого равен n, будет действителен в течение n секунд, а срок действия оставшихся элементов не истечет. 

Удаление элементов на основе срока жизни бесплатное. Дополнительная плата не взимается (то есть дополнительные единицы запросов не потребляются), когда элемент удаляется в результате истечения срока жизни.

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как настроить время жизни в следующих статьях:

* [Как настроить срок жизни в Azure Cosmos DB](how-to-time-to-live.md)
