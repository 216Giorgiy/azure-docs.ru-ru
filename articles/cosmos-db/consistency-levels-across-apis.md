---
title: Уровни согласованности и API Azure Cosmos DB | Документация Майкрософт
description: Основные сведения об уровнях согласованности в API Azure Cosmos DB.
keywords: consistency, azure cosmos db, azure, models, mongodb, cassandra, graph, table, Microsoft azure
services: cosmos-db
author: markjbrown
ms.service: cosmos-db
ms.devlang: na
ms.topic: conceptual
ms.date: 10/23/2018
ms.author: mjbrown
ms.openlocfilehash: 974531cd5907e4f69e7d064125d3e51fa4974949
ms.sourcegitcommit: ada7419db9d03de550fbadf2f2bb2670c95cdb21
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/02/2018
ms.locfileid: "50956389"
---
# <a name="consistency-levels-and-azure-cosmos-db-apis"></a>Уровни согласованности и API для Azure Cosmos DB

В API SQL базы данных Azure Cosmos DB, который является API по умолчанию при использовании Cosmos DB, реализована встроенная поддержка пяти моделей согласованности, предоставляемых Azure Cosmos DB. В дополнение к SQL API Cosmos DB также обеспечивает встроенную поддержку совместимых с сетевым протоколом API для таких популярных баз данных, как MongoDB, Apache Cassandra, Gremlin и Таблицы Azure. Эти базы данных не предоставляют ни точно определенных моделей согласованности, ни гарантий, обеспечиваемых Соглашением об уровне обслуживания, для уровней согласованности. Эти базы данных обычно предоставляют лишь подмножество пяти моделей согласованности предлагаемых Cosmos DB. Для API SQL, API Gremlin и API таблиц используется уровень согласованности по умолчанию, который был настроен для учетной записи Cosmos.

В следующем разделе показано сопоставление между согласованностью данных, запрошенной драйвером клиента OSS для Apache Cassandra 4.x и MongoDB 3.4 при использовании API Cassandra и API MongoDB соответственно, и соответствующими уровнями согласованности Cosmos DB.

## <a id="cassandra-mapping"></a>Сопоставление между уровнями согласованности Apache Cassandra и Cosmos DB

В следующей таблице показано сопоставление согласованности чтения между клиентом Apache Cassandra 4.x и уровнем согласованности по умолчанию в Cosmos DB для развертывания в одном или нескольких регионах.

| **Apache Cassandra 4.x** | **Cosmos DB (в нескольких регионах)** | **Cosmos DB (в одном регионе)** |
| - | - | - |
| ONE, TWO, THREE | Согласованность префиксов | Согласованность префиксов |
| LOCAL_ONE | Согласованность префиксов | Согласованность префиксов |
| QUORUM, ALL, SERIAL | Ограниченное устаревание (по умолчанию) или строгая согласованность (в закрытой предварительной версии) | Уровень согласованности Strong (сильная) |
| LOCAL_QUORUM | Ограниченное устаревание | Уровень согласованности Strong (сильная) |
| LOCAL_SERIAL | Ограниченное устаревание | Уровень согласованности Strong (сильная) |

## <a id="mongo-mapping"></a>Сопоставление уровней согласованности MongoDB 3.4 и Cosmos DB

В следующей таблице показано сопоставление для согласованности чтения между клиентом MongoDB 3.4 и уровнем согласованности по умолчанию в Cosmos DB для развертывания в одном или нескольких регионах.

| **MongoDB 3.4** | **Cosmos DB (в нескольких регионах)** | **Cosmos DB (в одном регионе)** |
| - | - | - |
| Линеаризуемость | Уровень согласованности Strong (сильная) | Уровень согласованности Strong (сильная) |
| Большинство | Ограниченное устаревание | Уровень согласованности Strong (сильная) |
| Local | Согласованность префиксов | Согласованность префиксов |

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения об уровнях согласованности и совместимости API Cosmos DB и API с открытым исходным кодом см. по следующим ссылкам:

* [Компромисс между доступностью и производительностью для различных уровней согласованности](consistency-levels-tradeoffs.md)
* [Поддержка возможностей и синтаксиса MongoDB в API-интерфейсе MongoDB](mongodb-feature-support.md)
* [Функции Apache Cassandra, поддерживаемые API Cassandra для Azure Cosmos DB](cassandra-support.md)