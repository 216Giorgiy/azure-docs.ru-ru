---
title: "Знакомство с Azure Cosmos DB | Документация Майкрософт"
description: "Узнайте об Azure Cosmos DB. Эта глобально распределенная многомодельная база данных с низкой задержкой, гибкой масштабируемостью и высоким уровнем доступности."
services: cosmos-db
author: mimig1
manager: jhubbard
editor: monicar
documentationcenter: 
ms.assetid: a855183f-34d4-49cc-9609-1478e465c3b7
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/10/2017
ms.author: mimig
ms.translationtype: Human Translation
ms.sourcegitcommit: a643f139be40b9b11f865d528622bafbe7dec939
ms.openlocfilehash: 0736a6f9790b70686c4d936f2af80d5e42b89615
ms.contentlocale: ru-ru
ms.lasthandoff: 05/31/2017


---

# <a name="welcome-to-azure-cosmos-db"></a>Добро пожаловать в базу данных Azure Cosmos DB

Azure Cosmos DB — это глобально распределенная многомодельная база данных Майкрософт. Azure Cosmos DB позволяет гибко и независимо масштабировать пропускную способность и ресурсы хранилища в любых регионах Azure, стоит лишь нажать кнопку. Она гарантирует пропускную способность, задержку, доступность и согласованность в соответствии с [соглашениями об уровне обслуживания](https://aka.ms/acdbsla) (SLA), которые зачастую не могут предложить другие службы баз данных.

![Cosmos DB — это глобально распределенная служба базы данных Майкрософт с гибкой масштабируемостью, гарантированно низкой задержкой, пятью моделями согласованности и универсальными соглашениями об уровне обслуживания.](./media/introduction/azure-cosmos-db.png)

Azure Cosmos DB содержит оптимизированное для записи, независящее от схемы ядро СУБД с регулировкой ресурсов, которое изначально поддерживает несколько моделей данных: модели данных документа, пар "ключ — значение", графы и модели данных столбцов. Она также поддерживает многие интерфейсы API для доступа к данным, включая [MongoDB](mongodb-introduction.md), [DocumentDB SQL](documentdb-introduction.md), [Gremlin](graph-introduction.md) (предварительная версия) и [таблицы Azure](table-introduction.md) (предварительная версия), расширяемым способом. 

Azure Cosmos DB запущена в конце 2010 г., чтобы помочь разработчикам устранить проблемы, характерные для крупномасштабных приложений в корпорации Майкрософт. Так как создание глобально распределенных приложений — это проблема не только для корпорации Майкрософт, была создана внешняя служба для всех разработчиков Azure в виде Azure DocumentDB. Azure Cosmos DB стала следующим большим скачком в развитии DocumentDB и теперь будет доступна вам для использования. В рамках этого выпуска Azure Cosmos DB клиенты DocumentDB автоматически станут клиентами Azure Cosmos DB. Данные этих клиентов также перенесутся в Cosmos DB. Переход будет незаметным, а также появится возможность доступа к более широкому спектру новых возможностей, предлагаемых Azure Cosmos DB. 

## <a name="capability-comparison"></a>Сравнение возможностей

Azure Cosmos DB предоставляет лучшие возможности реляционных и нереляционных баз данных.

| Возможности | Реляционные базы данных    | Нереляционные базы данных (NoSQL) |     Azure Cosmos DB |
| --- | --- | --- | --- |
| Глобальное распределение | x | x | ✓ Готовое решение, доступность в более чем в 30 регионах, множественная адресация |
| Горизонтальное масштабирование | x | ✓  | ✓ Независимое масштабирование хранилища и пропускной способности | 
| Гарантии относительно задержки | x | ✓  | ✓ Менее 10 мс для операций чтения, менее 15 мс для операций записи на уровне 99-го процентиля | 
| высокую доступность; | x | ✓  | ✓ Постоянная доступность, компромиссы PACELC, автоматическая отработка отказа или отработка отказа в ручном режиме |
| Модель данных + API | Реляционная БД + SQL | Многомодельность + OSS API | Многомодельность + SQL + OSS API (в ближайшее время ожидается больше) |
| Соглашения об уровне обслуживания | ✓  | x | ✓ Исчерпывающие соглашения об уровне обслуживания относительно задержки, пропускной способности, целостности и доступности |

## <a name="key-capabilities"></a>Ключевые возможности
В качестве службы глобально распределенной базы данных Azure Cosmos DB предоставляет следующие возможности для создания быстродействующих, глобально распределенных и масштабируемых приложений:

* [**Готовое глобальное распределение**](#global-distribution)
    * Ваше приложение будет сразу же повсеместно доступно для пользователей. Теперь также будут доступны и ваши данные.
    * Не беспокойтесь об оборудовании, добавлении узлов, виртуальных машин или ядер. Ваши данные будут доступны по щелчку. 

* [**Несколько моделей данных и популярных интерфейсов API для доступа и обращения к данным**](#data-models)
    * Поддержка множества моделей данных, включая модели данных документа, пар "ключ — значение", графы и модели данных столбцов
    * Расширяемые API для Node.js, Java, .NET, .NET Core, Python и MongoDB.
    * SQL и Gremlin для запросов. 

* [**Гибкое масштабирование пропускной способности и хранилища по требованию по всему миру**](#horizontal-scale)
    * Легко масштабируйте пропускную способность по [секундным](request-units.md) и [минутным](https://aka.ms/acdbrupm) периодам и изменяйте ее при необходимости. 
    * Масштабируйте хранилище [автоматически и прозрачно](partition-data.md), чтобы раз и навсегда удовлетворить потребности в объеме.

* [**Создание высокопроизводительных критически важных приложений**](#low-latency) 
    * Получите доступ к данным с задержкой в единицы миллисекунд на уровне 99-го процентиля в любом месте мира. 

* [**Гарантированная доступность AlwaysOn**](#high-availability)
    * Доступность на уровне 99,99 % в рамках одного региона.
    * Выполняйте развертывание в любом количестве [регионов Azure](https://azure.microsoft.com/regions) для повышения доступности.
    * [Моделируйте сбой](regional-failover.md) одного или нескольких регионов с гарантированной нулевой потерей данных. 

* [**Лучший способ создания глобально распределенных приложений**](#consistency)
    * [Пять моделей согласованности](consistency-levels.md) обеспечивают широкий спектр функций от строгой согласованности SQL до окончательной согласованности NoSQL. 
  
* [**Гарантированный возврат средств**](#sla) 
    * Быстро получайте данные или верните деньги. 
    * [Соглашения об уровне обслуживания](https://aka.ms/acdbsla) гарантируют высокую доступность, низкую задержку, высокую пропускную способность и согласованность. 

* [**Отсутствие управления схемами и индексами базы данных**](#schema-free)
    * Перестаньте волноваться о синхронизации схемы базы данных и индексов со схемой вашего приложения. Azure Cosmos DB не использует схемы. 

* [**Низкая стоимость владения**](#tco)
    * Это решение в пять-десять раз [экономичнее](https://aka.ms/documentdb-tco-paper), чем неуправляемые решения.
    * Cosmos DB в три раза дешевле, чем DynamoDB.

<a id="global-distribution"></a>

## <a name="global-distribution"></a>Глобальное распределение
Контейнеры Azure Cosmos DB распределены по двум направлениям: 

1. В пределах заданного региона все ресурсы секционируются горизонтально с помощью секций ресурсов (локальное распределение). 
2. Каждая секция ресурсов также реплицируется по географическим регионам (глобальное распределение). 

![Схема глобального распределения Azure Cosmos DB](./media/introduction/azure-cosmos-db-global-distribution.png) 

При необходимости хранилище и пропускную способность можно масштабировать. Cosmos DB прозрачно выполняет операции управления секциями во всех регионах. Независимо от масштабирования, распределения или ошибок Cosmos DB предоставляет один образ системы глобально распределенных ресурсов. 

Глобальное распределение ресурсов в Cosmos DB [готово к использованию](distribute-data-globally.md). Вы можете в любое время связать любое количество географических регионов с учетной записью базы данных несколькими щелчками или программным путем с помощью одного вызова API. 

Независимо от объема данных и количества регионов Cosmos DB гарантирует, что каждый вновь добавленный регион начнет обрабатывать клиентские запросы в течение часа на уровне 99-го процентиля. Это достигается за счет параллелизации заполнения и копирования данных из всех исходных секций ресурсов в новый добавленный регион. Клиенты также могут удалить имеющийся регион или выбрать регион, который был ранее связан с учетной записью базы данных в автономном режиме.

<a id="data-models"></a>
## <a name="multi-model-multi-api-support"></a>Поддержка многомодельности и различных API
 Azure Cosmos DB изначально поддерживает множество моделей, включая модели данных документа, пар "ключ — значение", графы и модели данных столбцов. Основная модель содержимого ядра СУБД Cosmos DB создана на базе последовательности записей атомов. Атомы состоят из небольшого набора простых типов, таких как строка, bool и число. Записи являются структурами, состоящими из этих типов. Последовательности являются массивами, состоящими из атомов, записей или последовательностей. 
 
 Ядро СУБД может эффективно преобразовывать и проецировать различные модели данных на модель данных на основе ARS. Основная модель данных Cosmos DB изначально доступна из динамически типизированных языков программирования и может представляться "как есть" в виде JSON-файла. 
 
 Служба также поддерживает популярные интерфейсы API базы данных для доступа к данным и выполнения запросов. Сейчас ядро СУБД Cosmos DB поддерживает [DocumentDB SQL](documentdb-introduction.md), [MongoDB](mongodb-introduction.md), [таблицы Azure](table-introduction.md) (предварительная версия) и [Gremlin](graph-introduction.md) (предварительная версия). Вы можете продолжить создавать приложения с помощью популярных интерфейсов API OSS и получить все преимущества проверенной и полностью управляемой глобально распределенной службы базы данных. 

<a id="horizontal-scale"></a>
## <a name="horizontal-scaling-of-storage-and-throughput"></a>Горизонтальное масштабирование хранилища и пропускной способности
Все данные в контейнере Cosmos DB (например, коллекции документов, таблицы или диаграммы) горизонтально секционированы и прозрачно управляются секциями ресурсов. Секция ресурсов является согласованным и высоко доступным контейнером данных, секционированным с помощью [указанного клиентом ключа раздела](partition-data.md). Она предоставляет один образ системы для набора ресурсов, которым она управляет, и является базовой единицей масштабируемости и распределения. Cosmos DB предназначена для гибкой масштабируемости пропускной способности на основе шаблонов трафика приложения в различных географических регионах, чтобы поддерживать изменяющиеся рабочие нагрузки в зависимости от времени и географического региона. Эта служба управляет секциями прозрачно, без ущерба доступности, согласованности, низкой задержки или пропускной способности контейнера Cosmos DB.  
 
![Горизонтальное масштабирование Azure Cosmos DB](./media/introduction/azure-cosmos-db-partitioning.png) 

Вы можете гибко масштабировать пропускную способность контейнера Azure Cosmos DB, программно подготавливая ее с помощью [единиц запроса в секунду (ЕЗ/с)](request-units.md). На внутреннем уровне служба прозрачно управляет секциями ресурсов, чтобы предоставлять пропускную способность определенному контейнеру. Cosmos DB гарантирует доступность пропускной способности во всех регионах, связанных с контейнером. Новые ресурсы становятся доступными для приложения через 5 секунд после изменения настроенного значения пропускной способности. 

В контейнере Cosmos DB пропускную способность можно подготавливать с помощью единиц запроса в секунду или [единиц запроса в минуту (ЕЗ/м)](request-units-per-minute.md). Подготовленная пропускная способность с ежеминутной степенью детализации помогает управлять пиковыми нагрузками, возникающими при ежесекундной степени детализации. 

<a id="low-latency"></a>
## <a name="low-latency-guarantees-at-the-99th-percentile"></a>Гарантии низкой задержки на уровне 99-го процентиля
В рамках соглашения об уровне обслуживания Cosmos DB гарантирует пользователям низкую сквозную задержку на уровне 99-го процентиля. Для обычного элемента размером в 1 КБ Cosmos DB обеспечивает сквозную задержку операций чтения менее 10 мс, а для индексированных операций записи — менее 15 мс на уровне 99-го процентиля в рамках одного региона Azure. Среднее значение задержки значительно ниже (менее 5 мс).  Верхняя граница для обработки запросов каждой транзакции базы данных Cosmos DB позволяет клиентам четко различать транзакции с высокой задержкой и ситуации с недоступной базой данных.

<a id="high-availability"></a>
## <a name="transparent-multi-homing-and-9999-high-availability"></a>Прозрачная множественная адресация и высокая доступность на уровне 99,99 %
Вы можете динамически привязать "приоритеты" к регионам, связанным с учетной записью Azure Cosmos DB. Приоритеты используются для перенаправления запросов в определенные регионы в случае региональных сбоев. В случае региональной аварии (что маловероятно) Cosmos DB автоматически выполняет отработку отказа в порядке приоритета.

Чтобы проверить комплексную доступность приложения, можно активировать [отработку отказа вручную](regional-failover.md) (частота ограничена двумя операциями в час). Cosmos DB гарантирует нулевую потерю данных во время отработки отказа между регионами вручную. В случае региональной аварии Cosmos DB гарантирует низкую вероятность потери данных во время автоматической отработки отказа, инициированной системой. Не нужно повторно развертывать приложение после отработки отказа между регионами. Azure Cosmos DB обеспечивает соблюдение соглашений об уровне обслуживания, регулирующих доступность. 

В данном случае Cosmos DB позволяет взаимодействовать с ресурсами, используя логические (независящие от региона) или физические конечные точки (зависящие от региона). Первый способ гарантирует, что приложение сможет явным образом использовать множественную адресацию в случае отработки отказа. Второй предоставляет приложению детальный контроль для перенаправления операций чтения и записи в определенные регионы. Cosmos DB гарантирует 99,99 % доступность для каждой учетной записи базы данных в соответствии с соглашением об уровне обслуживания. Гарантии доступности не зависят от масштаба (подготовленной пропускной способности и хранилища), количества регионов или географического расстояния между регионами, связанными с заданной базой данных. 

<a id="consistency"></a>
## <a name="multiple-well-defined-consistency-models"></a>Множество точно определенных моделей согласованности
Коммерческие распределенные базы данных делятся на две категории: базы данных, которые вообще не предлагают точно определенные, проверяемые варианты согласованности, и базы данных, которые обеспечивают два радикальных варианта программирования (строгая и итоговая согласованность). Первый вариант обременяет разработчиков приложений деталями протоколов репликации и предполагает компромисс между согласованностью, доступностью, низкой задержкой и пропускной способностью. Второй заставляет выбирать одну из двух крайностей. Несмотря на множество исследований и более 50 предложенных моделей согласованности сообществу распределенных баз данных не удается вывести на рынок уровни согласованности, отличные от строгого и итогового. 

Cosmos DB позволяет выбрать одну из [пяти точно определенных моделей согласованности](consistency-levels.md) разного уровня. Вы можете выбрать строгую согласованность, согласованность с ограниченным устареванием, [согласованность уровня сеанса](http://dl.acm.org/citation.cfm?id=383631) и итоговую согласованность. 

![Несколько четко определенных моделей согласованности (нестрогой) Azure Cosmos DB на ваш выбор](media/introduction/azure-cosmos-db-consistency-levels.png)

В следующей таблице представлены конкретные гарантии, предоставляемые на каждом уровне согласованности.
 
**Уровни согласованности и гарантии**

| Уровень согласованности    | Гарантии |
| --- | --- |
| Уровень согласованности Strong (сильная) | Линеаризация |
| Ограниченное устаревание    | Согласованность префиксов. Операции чтения могут отставать от операций записи не более чем на K префиксов или на интервал времени t. |
| Сеанс    | Согласованность префиксов. Монотонные операции чтения и записи, чтение собственных операций записи, запись после чтения. |
| Согласованность префиксов    | Обновления, которые возвращаются, содержат часть префиксов всех обновлений, без разрывов. |
| Уровень согласованности Eventual (в конечном счете)    | Неупорядоченное чтение |

Для учетной записи Cosmos DB можно настроить уровень согласованности по умолчанию (и позже переопределить согласованность для определенного запроса на чтение). На внутреннем уровне уровни согласованности по умолчанию применяются к данным в наборах секций, которые могут охватывать регионы. 


<a id="sla"></a>
## <a name="guaranteed-service-level-agreements"></a>Гарантии соглашений об уровне обслуживания

Cosmos DB — первая управляемая служба базы данных, предлагающая 99,99 % доступности, пропускную способность, низкую задержку и согласованность в рамках [соглашений об уровне обслуживания](https://aka.ms/acdbsla).
* Доступность: соглашение об уровне обслуживания, гарантирующее 99,99 % доступности, для каждой операции в плоскостях данных и управления.
* Пропускная способность: 99,99 % успешно выполненных запросов. 
* Задержка: задержка менее 10 мс на уровне 99-го процентиля в 99,99 % случаев.
* Согласованность: 100 % запросов на чтение будут соответствовать гарантии согласованности для выбранного уровня согласованности.


<a id="schema-free"></a>
## <a name="schema-free"></a>Отсутствие схем

При работе с реляционными базами данных и базами данных NoSQL приходится иметь дело с управлением схемами, индексами и версиями, а также с миграцией. Это нетривиальные задачи в глобально распределенной конфигурации. Но не волнуйтесь — в Cosmos DB эта проблема отсутствует. Работая в Cosmos DB, не нужно управлять схемами, индексами и версиями схем или беспокоиться о простоях приложения во время миграции схем. Ядро СУБД Cosmos DB вообще не зависит от схем. Оно автоматически индексирует все принимаемые данные, не требуя схем или индексов, и выполняет запросы сверх быстро. 

<a id="tco"></a>
## <a name="low-cost-of-ownership"></a>Низкая стоимость владения

 Если принять во внимание все вопросы, связанные с совокупной стоимостью владения (TCO), управляемые облачные службы, такие как Azure Cosmos DB, могут обходиться в пять-десять раз дешевле своих конкурентов OSS под управлением локальных или виртуальных машин. Azure Cosmos в два-три раза дешевле, чем DynamoDB, при выполнении рабочих нагрузок большого объема. Дополнительные сведения см. в техническом документе [о совокупной стоимости владения](https://aka.ms/documentdb-tco-paper). 

## <a name="next-steps"></a>Дальнейшие действия
Приступая к работе с Azure Cosmos DB, ознакомьтесь с одним из наших кратких руководств:

* [Azure Cosmos DB: Build a DocumentDB API web app with .NET and the Azure portal](create-documentdb-dotnet.md) (Azure Cosmos DB. Создание веб-приложения API DocumentDB с помощью .NET и портала Azure)
* [Azure Cosmos DB: Migrate an existing Node.js MongoDB web app](create-mongodb-nodejs.md) (Azure Cosmos DB. Миграция имеющегося веб-приложения Node.js MongoDB)
* [Azure Cosmos DB: Build a .NET application using the Graph API](create-graph-dotnet.md) (Azure Cosmos DB. Создание приложения .NET с помощью API Graph)
* [Azure Cosmos DB: Build a .NET application using the Table API](create-table-dotnet.md) (Azure Cosmos DB. Создание приложения .NET с помощью API таблицы)

