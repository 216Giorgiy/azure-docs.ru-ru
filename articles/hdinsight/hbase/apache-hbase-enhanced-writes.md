---
title: Azure HDInsight усиленной записывает для Apache HBase (Предварительная версия)
description: Обзор функции расширенного записывает Azure HDInsight, которая использует управляемые диски класса premium для повышения производительности Apache HBase дальше использовать журнал.
services: hdinsight
ms.service: hdinsight
author: hrasheed-msft
ms.author: hrasheed
ms.topic: conceptual
ms.date: 3/27/2019
ms.openlocfilehash: 37e6f316a5202429396ddd2a31cb14fe61341e89
ms.sourcegitcommit: 563f8240f045620b13f9a9a3ebfe0ff10d6787a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2019
ms.locfileid: "58759608"
---
# <a name="azure-hdinsight-enhanced-writes-for-apache-hbase-preview"></a>Azure HDInsight усиленной записывает для Apache HBase (Предварительная версия)

В этой статье приводятся основные сведения о **усиленной записывает** компонент для Apache HBase в Azure HDInsight и как его можно эффективно для повышения производительность записи. **Расширенный записи** использует [Azure уровня "премиум" SSD управляемые диски](../../virtual-machines/linux/disks-types.md#premium-ssd) для повышения производительности из Apache HBase записи вперед журнала (WAL). Дополнительные сведения об Apache HBase, см. в разделе [что такое Apache HBase в HDInsight](apache-hbase-overview.md).

## <a name="overview-of-hbase-architecture"></a>Общие сведения об архитектуре HBase

В HBase **строки** состоит из одного или нескольких **столбцы** и идентифицируется по **ключ строки**. Несколько строк составляют **таблицы**. Столбцы содержат **ячеек**, которые являются версии с меткой времени значений в этом столбце. Столбцы группируются в **семейства столбцов**, и все столбцы в семействе столбцов хранятся в хранилище файлов вызывается **файлы HFiles**.

**Регионы** в HBase используются для балансировки сетевой нагрузки обработки данных. HBase сначала сохраняет строки таблицы в одном регионе и затем распределяет строки в нескольких регионах, как объем данных в таблице увеличивается. **Региональные серверы** может обрабатывать запросы для нескольких областей.

## <a name="write-ahead-log-for-apache-hbase"></a>Написание упреждающее протоколирование для Apache HBase

Обновление данных в HBase сначала записываются с типом журнала фиксации, именем записи вперед журнала (WAL). После обновления хранятся в WAL, он записывается в памяти **MemStore**. Когда данные в памяти достигает своего максимального размера, он записываются на диск как **HFile**.

Если **RegionServer** аварийно завершает работу или становится недоступным, прежде чем оно переносится, дальше использовать журнал можно использовать для воспроизведения обновлений. Без WAL Если **RegionServer** аварийное завершение перед освобождением обновления **HFile**, все эти обновления потерю.

## <a name="enhanced-writes-feature-in-azure-hdinsight-for-apache-hbase"></a>Усовершенствованное средство записи в Azure HDInsight для Apache HBase

Функция расширенного записывает устранены выше записи задержки, вызванные с помощью упреждающее протоколирование в Облачное хранилище.  Функцию усиленной записывает для кластеров HDInsight Apache HBase, "премиум" Присоединение SSD управляемых дисков в каждый RegionServer (рабочий узел). Записи упреждающее протоколирование затем записываются в файл системы Hadoop (HDFS) на эти управляемые диски класса premium вместо облачного хранилища.  Управляемые диски класса Premium используйте используются твердотельные накопители (SSD) и обеспечивают превосходную производительность ввода-вывода с устойчивость к сбоям.  В отличие от неуправляемых дисков одной единицы хранилища выходит из строя, не влияет на другие единиц хранения в той же группе доступности.  Таким образом управляемые диски обеспечивают высокоскоростной записи и лучшую устойчивость для ваших приложений. Дополнительные сведения о Azure управляемые диски, см. в разделе [введение в Azure управляемые диски](../../virtual-machines/windows/managed-disks-overview.md). 

## <a name="how-to-enable-enhanced-writes-for-hbase-in-hdinsight"></a>Включение расширенного записывает для HBase в HDInsight

Чтобы создать новый кластер HBase с помощью функции расширенного записывает, выполните действия, описанные в [Установка кластеров в HDInsight](../hdinsight-hadoop-provision-linux-clusters.md) пока не достигнете **шаг 3 "," хранилище**. В разделе **параметры хранилища метаданных**, установите флажок рядом с полем **включить расширенный записывает (Предварительная версия)**. После этого продолжите оставшиеся шаги для создания кластера.

![Включение расширенного записывает параметр для HDInsight Apache HBase](./media/apache-hbase-enhanced-writes/enhanced-writes-cluster-creation.jpg)

## <a name="other-considerations"></a>Дополнительные рекомендации

Чтобы сохранить Устойчивость данных, создайте кластер с как минимум трех рабочих узлов. После создания нельзя масштабировать кластер до менее трех рабочих узлов. 

Очистить или отключить таблицы HBase перед удалением кластера, таким образом, чтобы не потерять данные дальше использовать журнал.

```
flush 'mytable'
```

```
disable 'mytable'
```

## <a name="next-steps"></a>Дальнейшие действия

* Официальная документация по Apache HBase на [дальше использовать журнал функция](https://hbase.apache.org/book.html#wal).