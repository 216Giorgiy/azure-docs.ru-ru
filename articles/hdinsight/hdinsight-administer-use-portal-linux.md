<properties
	pageTitle="Управление кластерами Hadoop на основе Linux в HDInsight с помощью портала Azure | Microsoft Azure"
	description="Узнайте, как создавать кластеры HDInsight на основе Linux и управлять ими с помощью портала Azure."
	services="hdinsight"
	documentationCenter=""
	authors="Blackmist"
	manager="paulettm"
	editor="cgronlun"
	tags="azure-portal"/>

<tags
	ms.service="hdinsight"
	ms.workload="big-data"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="11/19/2015"
	ms.author="larryfr"/>

# Управление кластерами Hadoop в HDInsight с помощью портала Azure

[AZURE.INCLUDE [selector](../../includes/hdinsight-portal-management-selector.md)]


С помощью [портала Azure][preview-portal] можно подготовить кластеры Hadoop под управлением Linux в Azure HDInsight, а также управлять ими.

> [AZURE.NOTE]Действия, описанные в этом документе, относятся только к работе с кластерами Hadoop под управлением Linux. Информацию о работе с кластерами под управлением Windows см. в статье [Управление кластерами Hadoop в HDInsight с помощью портала Azure](hdinsight-administer-use-management-portal.md).


[AZURE.INCLUDE [preview-portal](../../includes/hdinsight-azure-preview-portal-nolink.md)]


## Другие средства для администрирования HDInsight
Помимо портала Azure имеются и другие средства для администрирования HDInsight.

- [Администрирование HDInsight с помощью Azure CLI](hdinsight-administer-use-command-line.md). Azure CLI — это кроссплатформенное средство командной строки, которое позволяет управлять службами Azure

- [Администрирование HDInsight с использованием Azure PowerShell](hdinsight-administer-use-powershell.md). Azure PowerShell предоставляет командлеты PowerShell для управления службами Azure.

## Предварительные требования

Перед началом работы с этой статьей необходимо иметь следующее:

- **Подписка Azure.**. См. статью [Бесплатная пробная версия Azure](http://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).

## Подготовка кластеров HDInsight к работе

Чтобы подготовить кластеры HDInsight на портале Azure, следуйте инструкциям ниже.

1. Войдите на [портал Azure][preview-portal].

2. Последовательно выберите элементы **СОЗДАТЬ**, __Анализ данных__ и __HDInsight__.

	![Создание нового кластера на портале Azure](./media/hdinsight-administer-use-portal-linux/new-cluster.png)

3. Введите __Имя кластера__, затем выберите __Тип кластера__, который вы хотите создать. Рядом с полем __Имя кластера__ появится зеленый флажок, если это имя доступно.

	![Имя кластера, тип кластера и тип ОС](./media/hdinsight-administer-use-portal-linux/clustername.png)

4. Если у вас есть несколько подписок, щелкните запись __Подписка__, чтобы выбрать подписку Azure для кластера.

5. Щелкните __Группа ресурсов__, чтобы просмотреть список существующих групп ресурсов и выбрать ту, в которой будет создан кластер. Вы также можете выбрать команду __Создать__ и ввести имя новой группы ресурсов. Если новое имя группы доступно, рядом с ним появится зеленый флажок.

	> [AZURE.NOTE]Эта запись будет выбрана по умолчанию для одной из существующих групп ресурсов (при их наличии).

6. Выберите элемент __Учетные данные__, затем введите данные в поля __Имя пользователя для входа в кластер__ и __Пароль для входа в кластер__. Необходимо также ввести __Имя пользователя SSH__ и __ПАРОЛЬ__ или __ОТКРЫТЫЙ КЛЮЧ__, которые будут использоваться для проверки подлинности пользователя SSH. В завершение нажмите кнопку __Выбрать__, чтобы задать учетные данные. В этом учебнике удаленный рабочий стол не будет использоваться, поэтому его можно не включать.

	![Колонка "Учетные данные кластера"](./media/hdinsight-administer-use-portal-linux/clustercredentials.png)
    
    > [AZURE.NOTE]SSH используется для удаленного доступа к кластеру HDInsight с помощью командной строки. Заданные здесь имя пользователя и пароль или открытый ключ будут использоваться при подключении к кластеру через SSH.

    Дополнительные сведения об использовании SSH с HDInsight см. в следующих статьях.

	* [Использование SSH с Hadoop под управлением Linux в HDInsight в Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md)

	* [Использование SSH с Hadoop под управлением Linux в HDInsight в Windows](hdinsight-hadoop-linux-use-ssh-windows.md)

7. Выберите запись __Источник данных__, чтобы выбрать существующий источник данных или создать новый.

	![Колонка "Источник данных"](./media/hdinsight-administer-use-portal-linux/datasource.png)

	В настоящее время в качестве источника данных для кластера HDInsight можно выбрать учетную запись хранения Azure. Следующие элементы интерфейса помогут вам понять записи в колонке __Источник данных__.

	- __Метод выбора__ — выберите значение __Из всех подписок__, чтобы активировать поиск учетных записей хранения в своих подписках. Задайте для этого параметра значение __Ключ доступа__, если вы хотите ввести __имя хранилища__ и __ключ доступа__ существующей учетной записи хранения.

	- __Создать__ — позволяет создавать новые учетные записи хранения. В появившееся поле введите имя учетной записи хранения. Если имя доступно, появится зеленый флажок.

	- __Выбрать контейнер по умолчанию__ — позволяет ввести имя контейнера по умолчанию и использовать его для кластера. Вы можете ввести любое имя, однако мы рекомендуем использовать такое же имя, как у кластера, чтобы легко распознавать, какой контейнер используется для конкретного кластера.

	- __Расположение__ — географический регион, к которому будет относиться существующая или новая учетная запись хранения.

		> [AZURE.IMPORTANT]Выбранное расположение для источника данных по умолчанию будет также определять расположение кластера HDInsight. Кластер и источник данных по умолчанию должны находиться в одном регионе.

	- __Выбрать__ — используйте эту кнопку, чтобы сохранить конфигурацию источника данных.

	
8. Выберите __Ценовые категории узла__, чтобы отобразить сведения об узлах, которые будут созданы для этого кластера. По умолчанию для количества рабочих узлов устанавливается значение __4__.


	Оценочная стоимость кластера отобразится в нижней части этой колонки.

	![Колонка "Ценовые категории узла"](./media/hdinsight-administer-use-portal-linux/nodepricingtiers.png)

	Нажмите кнопку __Выбрать__, чтобы сохранить сведения о __ценовых категориях узла__.

9. Выберите __Необязательная конфигурация__. В этой колонке можно настроить следующие элементы.

	* __Версия HDInsight__: версия HDInsight, используемая для кластера. Дополнительные сведения о версиях HDInsight см. в статье [Версии компонентов HDInsight](hdinsight-component-versioning.md).

	* __Внешние метахранилища__: здесь вы можете выбрать Базу данных SQL для хранения сведений о конфигурации Oozie и Hive. Благодаря метахранилищу вы сможете повторно использовать конфигурацию после удаления или повторного создания кластера, а не создавать ее каждый раз заново.

	* __Виртуальная сеть__. Позволяет разместить кластер HDInsight в виртуальной сети вместе с другими ресурсами, такими как база данных SQL или виртуальная машина Azure. Размещение ресурсов в виртуальной сети позволяет им взаимодействовать друг с другом напрямую, в обход открытых шлюзов, обрабатывающих входящий трафик из Интернета. Подробнее о преимуществах использования виртуальных сетей Azure в HDInsight см. в статье [Расширение возможностей HDInsight с помощью виртуальной сети Azure](hdinsight-extend-hadoop-virtual-network.md).

		> [AZURE.IMPORTANT]Так как создание сетей при настройке HDInsight не поддерживается, виртуальную сеть Azure необходимо создать до создания кластера HDInsight.
		>
		> На момент написания этой статьи (25 августа 2015 г.) действует ограничение: в виртуальной сети Azure может быть только один кластер HDInsight под управлением Linux.
        >
        > Вам не удастся использовать виртуальную сеть Azure v1 (классическую) с HDInsight под управлением Linux. Необходимо использовать виртуальную сеть v2 (диспетчер ресурсов Azure), чтобы ее можно было выбрать при создании кластера HDInsight на портале Azure или использовать при создании кластера в Azure CLI или Azure PowerShell.
        >
        > Если у вас есть ресурсы в сети версии 1 и вам необходимо сделать соединение HDInsight доступным для этих ресурсов через виртуальную сеть, см. информацию о подключении виртуальной сети версии 2 к виртуальной сети версии 1 в статье [Подключение классических виртуальных сетей к новым виртуальным сетям](../virtual-network/virtual-networks-arm-asm-s2s.md). После установления подключения можно создать кластер HDInsight в виртуальной сети v2.

	* __Действия сценариев__. Позволяют указывать сценарии Bash, используемые для настройки кластера HDInsight во время его подготовки к работе. Например, есть [сценарий, выполняющий установку Hue](hdinsight-hadoop-hue-linux.md) (графического клиента для работы с Hadoop). Подробнее о действиях сценариев см. в статье [Настройка кластеров HDInsight с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).

	* __Ключи к хранилищу данных Azure__. Позволяют связать дополнительные учетные записи хранения с сервером HDInsight.

		> [AZURE.NOTE]HDInsight имеет доступ только к общедоступным учетным записям или учетным записям хранилища Azure (которое используется в качестве хранилища данных по умолчанию), добавленных с помощью этого раздела конфигурации.

	![Колонка "Дополнительная конфигурация"](./media/hdinsight-administer-use-portal-linux/optionalconfiguration.png)

10. Обязательно выберите параметр __Закрепить на начальной панели__, а затем — __Создать__. После этого кластер будет создан, а на начальную панель портала Azure будет добавлена его плитка. Значок указывает, что выполняется подготовка кластера. После завершения подготовки вместо него будет отображаться значок HDInsight.

	| Подготовка выполняется | Подготовка завершена |
	| ------------------ | --------------------- |
	| ![Индикатор подготовки на начальной панели](./media/hdinsight-administer-use-portal-linux/provisioning.png) | ![Плитка подготовки кластера](./media/hdinsight-administer-use-portal-linux/provisioned.png) |

	> [AZURE.NOTE]Обычно создание кластера занимает около 15 минут. Отслеживать процесс подготовки можно с помощью элемента на начальной панели или записи __Уведомления__ в левой части страницы.

## Управление кластером

Выберите кластер на портале Azure, чтобы отобразить следующие важные сведения о кластере: имя, группу ресурсов, операционную систему и URL-адрес для панели мониторинга кластера (используется для доступа к Ambari Web для кластеров Linux).

![Сведения о кластере](./media/hdinsight-administer-use-portal-linux/clusterdetails.png)

Указанные ниже элементы интерфейса помогут вам понять, что означают значки в верхней части этой колонки, а также в разделах __Основные компоненты__ и __Быстрые ссылки__.

* __Параметры__ и __Все параметры__. Отображают колонку __Параметры__ кластера, которая содержит подробные сведения о конфигурации кластера.

* __Панель мониторинга__, __Панель мониторинга кластера__ и __URL-адрес__: три способа перехода к панели мониторинга кластера, которая для кластеров под управлением Linux представляет собой веб-интерфейс Ambari.

* __Secure Shell__ — данные, необходимые для доступа к кластеру по протоколу SSH.

* __Масштабировать кластер__. Позволяет изменить количество рабочих узлов для этого кластера.

* __Удалить__. Удаление кластера HDInsight.

* __Быстрый запуск__ (![значок облака и молнии = быстрый запуск](./media/hdinsight-administer-use-portal-linux/quickstart.png)). Отображает данные, необходимые для начала работы с HDInsight.

* __Пользователи__ (![значок "пользователи"](./media/hdinsight-administer-use-portal-linux/users.png)). Здесь можно указать разрешения на доступ к _порталу управления_ этого кластера для других пользователей в своей подписке Azure.

	> [AZURE.IMPORTANT]Этот параметр влияет _только_ на права доступа к этому кластеру на портале Azure. Параметр не влияет на то, кто может подключаться к кластеру HDInsight или отправлять в него задания.

* __Теги__ (![значок "теги"](./media/hdinsight-administer-use-portal-linux/tags.png)). Теги позволяют задавать пары «ключ-значение» для определения пользовательской таксономии облачных служб. Например, можно создать ключ с именем __project__, а затем использовать общее значение для всех служб, связанных с определенным проектом.

* __Документация__: ссылки на документацию по Azure HDInsight.

> [AZURE.IMPORTANT]Для управления службами, предоставляемыми кластером HDInsight, необходимо использовать интерфейс Ambari Web или API REST Ambari. Подробнее об использовании Ambari см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md).

### <a name="scaling"></a>Масштабирование

Для масштабирования кластера с помощью портала выберите необходимый кластер HDInsight, а затем нажмите кнопку __Масштабировать кластер__. Введите __количество рабочих узлов__, которое необходимо задать для кластера, и нажмите кнопку __Сохранить__.

![колонка масштабирования](./media/hdinsight-administer-use-portal-linux/scaling.png)

Подробнее об операциях масштабирования см. в статье [Сведения об использовании HDInsight в Linux](hdinsight-hadoop-linux-information.md#scaling).

## Мониторинг кластера

В колонке кластера HDInsight в разделе __Использование__ отображаются сведения о количестве ядер, доступных для HDInsight в рамках вашей подписки, о количестве ядер, выделенных для этого кластера, и их распределении по узлам кластера.

![Сведения об использовании](./media/hdinsight-administer-use-portal-linux/usage.png)

> [AZURE.IMPORTANT]Для мониторинга служб, предоставляемых кластером HDInsight, необходимо использовать интерфейс Ambari Web или API REST Ambari. Подробнее об использовании Ambari см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md).

## Дальнейшие действия
Из этой статьи вы узнали, как создать кластер HDInsight с помощью портала Azure и как открыть программу командной строки Hadoop. Для получения дополнительных сведений ознакомьтесь со следующими статьями:

* [Администрирование HDInsight с помощью Azure PowerShell](hdinsight-administer-use-powershell.md)
* [Администрирование HDInsight с помощью CLI Azure](hdinsight-administer-use-command-line.md)
* [Подготовка кластеров HDInsight к работе](hdinsight-provision-clusters.md)
* [Отправка заданий Hadoop в HDInsight](hdinsight-submit-hadoop-jobs-programmatically.md)
* [Начало работы с Azure HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)
* [Какая версия Hadoop включена в Azure HDInsight?](hdinsight-component-versioning.md)

[preview-portal]: https://portal.azure.com

<!---HONumber=AcomDC_1210_2015-->