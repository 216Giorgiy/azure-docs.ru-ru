---
title: Основные сведения о безопасности Hadoop в присоединенных к домену кластерах Azure HDInsight
description: Узнайте, как присоединенные к домену кластеры Azure HDInsight поддерживают четыре основы корпоративной безопасности.
services: hdinsight
ms.service: hdinsight
author: omidm1
ms.author: omidm
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 06/26/2018
ms.openlocfilehash: c13fd979562cc89831d031c5050fe9dbb184267b
ms.sourcegitcommit: 161d268ae63c7ace3082fc4fad732af61c55c949
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2018
ms.locfileid: "43041138"
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters"></a>Основные сведения о безопасности Hadoop в присоединенных к домену кластерах HDInsight

В прошлом служба Azure HDInsight поддерживала только одного пользователя — локального администратора. Такой сценарий отлично подходил для небольших отделов по работе с приложениями. По мере набора популярности рабочих нагрузок Hadoop в корпоративном секторе увеличилась потребность в возможностях корпоративного уровня, таких как проверка подлинности на основе Active Directory, поддержка нескольких пользователей и управление доступом на основе ролей. 

Можно создать кластер HDInsight, присоединенный к домену Active Directory. Затем можно настроить список сотрудников организации, которые могут пройти аутентификацию Azure Active Directory для входа в этот кластер HDInsight. Люди, которые не являются сотрудниками организации, не могут войти в кластер HDInsight или получить к нему доступ. 

Корпоративный администратор может настроить управление доступом на основе ролей для обеспечения защиты Hive с помощью [Apache Ranger](http://hortonworks.com/apache/ranger/). С помощью параметров RBAC можно ограничить доступ к данным, предоставляя только необходимую информацию. Наконец, администратор может проводить аудит доступа сотрудников к данным, а также аудит любых изменений, внесенных в политики управления доступом. Таким образом администратор может обеспечить высокий уровень контроля над корпоративными ресурсами.

> [!NOTE]
> Новые возможности, описанные в этой статье, доступны в режиме предварительной версии только для следующих типов кластера: Hadoop, Spark и Interactive Query. Диспетчер Oozie теперь работает в присоединенных к домену кластерах. Чтобы получить доступ к пользовательскому веб-интерфейсу Oozie, пользователям необходимо включить [туннелирование](../hdinsight-linux-ambari-ssh-tunnel.md).

Корпоративная безопасность разделяется на четыре главных составляющих. Это безопасность периметра, аутентификация, авторизация и шифрование.

![Преимущества присоединенных к домену кластеров Azure HDInsight с точки зрения четырех основ корпоративной безопасности](./media/apache-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png).

## <a name="perimeter-security"></a>Безопасность периметра
Безопасность периметра в HDInsight обеспечивается за счет виртуальных сетей и службы VPN-шлюз Azure. Корпоративный администратор может создать кластер HDInsight в виртуальной сети и ограничить доступ к ней с помощью групп безопасности сети (правил брандмауэра). Для обмена данными с кластером HDInsight будут использоваться только IP-адреса, определенные в правилах исходящего трафика брандмауэра. Эта конфигурация обеспечивает безопасность периметра.

Еще один уровень безопасности периметра обеспечивает служба VPN-шлюза. Шлюз выступает в качестве первой линии обороны для любого входящего запроса к кластеру HDInsight. Он принимает запрос, проверяет его и только после этого разрешает его передачу на другие узлы в кластере. Таким образом шлюз обеспечивает безопасность периметра для других узлов имени и данных в кластере.

## <a name="authentication"></a>Authentication
Корпоративный администратор может создать присоединенный к домену кластер HDInsight в [виртуальной сети](https://azure.microsoft.com/services/virtual-network/). Все узлы кластера HDInsight присоединяются к этому домену, управление которым осуществляется организацией. Для этого используются [доменные службы Azure Active Directory](../../active-directory-domain-services/active-directory-ds-overview.md). 

При такой конфигурации сотрудники организации могут войти в узлы кластера с использованием своих учетных данных домена. Кроме того, с помощью этих учетных данные можно проверять подлинность в других утвержденных конечных точках, например представлениях Ambari, ODBC, JDBC, PowerShell и интерфейсах REST API, а также обеспечить взаимодействие с кластером. Администратор полностью управляет доступом, ограничивая число пользователей, взаимодействующих с кластером через эти конечные точки.

## <a name="authorization"></a>Авторизация
В большинстве организаций следуют такой рекомендации: доступ ко всем корпоративным ресурсам предоставляется не всем сотрудникам. Аналогичным образом администратор может определить политики управления доступом на основе ролей для ресурсов кластера. 

Например, администратор может настроить [Apache Ranger](http://hortonworks.com/apache/ranger/), чтобы настроить политики контроля доступа для Hive. Эта возможность гарантирует, что сотрудники имеют доступ только к тем данным, которые им нужны для успешного выполнения своих задач. Только администраторы могут получить доступ к кластеру по протоколу SSH.

## <a name="auditing"></a>Аудит
Аудит доступа к ресурсам кластера и данным необходим для отслеживания неавторизованного или случайного доступа к ресурсам. Это так же важно, как защита ресурсов кластера HDInsight от неавторизованных пользователей и обеспечение безопасности данных. 

Администратор может просмотреть все случаи получения доступа к ресурсам и данным кластера HDInsight и сообщить о них. Кроме того, администратор может просмотреть все изменения в политиках контроля доступа, созданных в поддерживаемых конечных точках Apache Ranger, и сообщить о них. 

Для поиска журналов аудита присоединенный к домену кластер HDInsight использует привычный пользовательский интерфейс Apache Ranger. В серверной части Ranger использует [Apache Solr](http://hortonworks.com/apache/solr/) для хранения и поиска журналов.

## <a name="encryption"></a>Шифрование
Защита данных важна для соблюдения требований безопасности и соответствия, установленных в организации. Помимо ограничения доступа неавторизованных сотрудников к данным, их следует зашифровать. 

Оба хранилища данных для кластеров HDInsight, хранилище BLOB-объектов Azure и Azure Data Lake Storage 1-го поколения, поддерживают [шифрование неактивных данных](../../storage/common/storage-service-encryption.md) на стороне сервера. Защищенные кластеры HDInsight полностью поддерживают шифрование неактивных данных на стороне сервера.

## <a name="next-steps"></a>Дополнительная информация
* [Планирование архитектуры присоединенных к домену кластеров Hadoop в Azure HDInsight](apache-domain-joined-architecture.md)
* [Настройка присоединенных к домену кластеров HDInsight с помощью доменных служб Azure Active Directory](apache-domain-joined-configure.md)
* [Управление присоединенными к домену кластерами HDInsight](apache-domain-joined-manage.md)
* [Настройка политик Hive в присоединенном к домену кластере HDInsight](apache-domain-joined-run-hive.md)
* [Использование SSH с HDInsight](../hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined)

