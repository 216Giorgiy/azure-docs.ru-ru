---
title: "Создание кластеров Hadoop в HDInsight | Документация Майкрософт"
description: "Научитесь создавать кластеры для Azure HDInsight с помощью портала Azure."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: c8689ef3-f56f-4708-8a3a-cc00abc54e8d
ms.service: hdinsight
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 09/02/2016
ms.author: jgao
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: d6680fb1e33b221a74d6c5db4cf5012d9109eac6


---
# <a name="create-windows-based-hadoop-clusters-in-hdinsight-using-the-azure-portal"></a>Создание кластеров Hadoop под управлением Windows в HDInsight с помощью портала Azure
[!INCLUDE [selector](../../includes/hdinsight-selector-create-clusters.md)]

Узнайте, как создать кластер Hadoop в HDInsight с помощью портала Azure. [Портал Microsoft Azure](../azure-portal-overview.md) — это централизованное место, где можно подготавливать ресурсы Azure и управлять ими. Портал Azure является одним из средств, которые можно использовать для создания кластера Hadoop под управлением Linux или Windows в HDInsight. Сведения о других инструментах и функциях создания кластера приведены на вкладке в верхней части этой страницы или в разделе [Способы создания кластера](hdinsight-provision-clusters.md#cluster-creation-methods).

## <a name="prerequisites"></a>Предварительные требования:
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

Прежде чем следовать указаниям в этой статье, необходимо подготовить следующее:

* Подписка Azure. Ознакомьтесь с [бесплатной пробной версией Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).

### <a name="access-control-requirements"></a>Требования к контролю доступа
[!INCLUDE [access-control](../../includes/hdinsight-access-control-requirements.md)]

## <a name="create-clusters"></a>Создание кластеров
**Создание кластера HDInsight**

1. Войдите на [портал Azure](https://portal.azure.com).
2. Щелкните **Создать**, **Данные+аналитика**, а затем — **HDInsight**.
   
    ![Создание кластера на портале Azure](./media/hdinsight-provision-clusters/HDI.CreateCluster.1.png "Creating a new cluster in the Azure Portal")
3. Введите или выберите следующие значения:
   
   * **Имя кластера**: введите имя кластера. Если имя кластера доступно, рядом с ним появится зеленый флажок.
   * **Тип кластера**: выберите **Hadoop**. Также есть такие варианты: **HBase**, **Storm** и **Spark**.
     
     > [!IMPORTANT]
     > Кластеры HDInsight представлены разными типами, соответствующими рабочей нагрузке или технологии, для которой настроен кластер. Создать кластер, в котором бы объединились несколько типов, например Storm и HBase, нельзя.
     > 
     > 
   * **Операционная система кластера**: выберите **Windows**. Чтобы создать кластер на основе Linux, выберите **Linux**.
   * **Версия**: см. статью [Что представляют собой различные компоненты Hadoop, доступные в HDInsight](hdinsight-component-versioning.md).
   * **Подписка**: выберите подписку Azure, которая будет использоваться для создания этого кластера.
   * **Группа ресурсов**: выберите существующую группу ресурсов или создайте новую. Эта запись будет выбрана по умолчанию для одной из существующих групп ресурсов (при их наличии).
   * **Учетные данные**: настройте имя пользователя и пароль для пользователя Hadoop (пользователя HTTP). При включении удаленного рабочего стола для кластера необходимо настроить имя пользователя удаленного рабочего стола и пароль, а также указать дату окончания срока действия учетной записи. Щелкните элемент **Выбрать** внизу страницы, чтобы сохранить изменения.
     
          ![Provide cluster credentials](./media/hdinsight-provision-clusters/HDI.CreateCluster.3.png "Provide cluster credentials")
   * **Источник данных**: выберите существующую или создайте новую учетную запись хранения Azure, которая будет использована в качестве файловой системы по умолчанию для кластера.
     
          ![Data source blade](./media/hdinsight-provision-clusters/HDI.CreateCluster.4.png "Provide data source configuration")
     
         * **Метод выбора**. Выберите значение **Из всех подписок**, чтобы сделать возможным поиск учетных записей хранения во всех своих подписках. Выбрав значение **Ключ доступа**, вы сможете ввести **имя хранилища** и **ключ доступа** существующей учетной записи хранения.
         * **Выбрать учетную запись хранения / Создать**: щелкните **Выбрать учетную запись хранения**, чтобы найти и выбрать существующую учетную запись хранения, которую нужно связать с кластером. Чтобы создать новую учетную запись хранения, выберите **Создать** . В появившееся поле введите имя учетной записи хранения. Если имя доступно, появится зеленый флажок.
         * **Выбрать контейнер по умолчанию**: позволяет ввести имя контейнера по умолчанию и использовать его для кластера. Вы можете ввести любое имя, однако мы рекомендуем использовать такое же имя, как у кластера, чтобы легко распознавать, какой контейнер используется для конкретного кластера.
         * **Расположение**: географический регион, к которому будет относиться существующая или новая учетная запись хранения. Это расположение будет определять расположение кластера.  Учетная запись хранения, используемая по умолчанию, должна находиться в том же центре обработки данных Azure, что и кластер.
   * **Ценовые категории узлов**: задайте необходимое для кластера количество рабочих узлов. Оценочная стоимость кластера отобразится в колонке.

        ![Колонка "Ценовые категории узла"](./media/hdinsight-provision-clusters/HDI.CreateCluster.5.png "Specify number of cluster nodes")


    * **Дополнительная конфигурация**: позволяет выбрать версию кластера, а также настроить другие необязательные параметры. Например, здесь можно присоединиться к **виртуальной сети**, настроить **внешнее метахранилище** для хранения данных Hive и Oozie, установить в кластер дополнительные компоненты с помощью действий сценариев или настроить в кластере дополнительные учетные записи хранения.

    * **Версия HDInsight**: выберите нужную версию кластера. Дополнительные сведения см. в статье [Что представляют собой различные компоненты Hadoop, доступные в HDInsight](hdinsight-component-versioning.md).
    * **Виртуальная сеть**— выберите виртуальную сеть Azure и подсеть для размещения кластера в виртуальной сети.  

        ![Колонка "Виртуальная сеть"](./media/hdinsight-provision-clusters/HDI.CreateCluster.6.png "Specify virtual network details")

        Сведения об использовании HDInsight в виртуальной сети, включая требования к конфигурации виртуальной сети, см. в статье [Расширение возможностей HDInsight с помощью виртуальной сети Azure](hdinsight-extend-hadoop-virtual-network.md).



    * **Внешние хранилища метаданных**: укажите базу данных SQL Azure, в которой будут храниться связанные с кластером метаданные Hive и Oozie.

        > [AZURE.NOTE] Возможность настройки метахранилища не поддерживается для кластеров типа HBase.

    ![Колонка "Пользовательские метахранилища"](./media/hdinsight-provision-clusters/HDI.CreateCluster.7.png "Specify external metastores")

    Для параметра **Использовать существующую базу данных SQL для метаданных Hive** выберите **Да**, укажите базу данных SQL, а затем введите имя пользователя и пароль для базы данных. Повторите эти шаги, если вы хотите **Использовать существующую базу данных SQL для метаданных Oozie**. Щелкайте **Выбрать**, пока не перейдете в колонку **Дополнительная конфигурация**.

    >[AZURE.NOTE] База данных Azure SQL, используемая в качестве хранилища метаданных, должна обеспечивать подключение к другим службам Azure, в том числе Azure HDInsight. На панели мониторинга базы данных SQL Azure в правой части щелкните имя сервера. Это сервер, на котором работает экземпляр базы данных SQL. В представлении сервера щелкните **Настройка**, а затем — **Службы Azure**, **Да** и **Сохранить**.

            &nbsp;

            > [AZURE.IMPORTANT] Создавая метаданные, не используйте для базы данных имя, которое содержит тире и дефисы. Это может привести к сбою при создании кластера.

          * **Script Actions** if you want to use a custom script to customize a cluster, as the cluster is being created. For more information about script actions, see [Customize HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster.md). On the Script Actions blade provide the details as shown in the screen capture.


            ![Script action blade](./media/hdinsight-provision-clusters/HDI.CreateCluster.8.png "Specify script action")


        * **Ключи хранилища Azure.** Укажите дополнительные учетные записи хранения, которые нужно связать с кластером. В колонке **Ключи хранилища Azure** нажмите кнопку **Добавить ключ хранилища** и выберите существующую учетную запись хранения или создайте новую.


            ![Колонка "Дополнительное хранилище"](./media/hdinsight-provision-clusters/HDI.CreateCluster.9.png "Specify additional storage accounts")


1. Щелкните **Создать**. Выберите **Закрепить на начальной панели**, чтобы добавить плитку кластера на начальную панель портала. Значок указывает, что выполняется создание кластера. После завершения создания вместо него будет отображаться значок HDInsight.
   
    Обычно создание кластера занимает около 15 минут. Отслеживать процесс подготовки вы можете с помощью элемента на начальной панели или записи **Уведомления** в левой части страницы.
2. После завершения создания щелкните элемент кластера на начальной панели, чтобы открыть колонку кластера. Колонка кластера содержит важные сведения о кластере: имя, группа ресурсов, к которой он принадлежит, расположение, операционная система, URL-адрес панели мониторинга кластера и т. д.

    ![Колонка "Кластер"](./media/hdinsight-provision-clusters/HDI.Cluster.Blade.png "Cluster properties")


    Ниже приведено описание значков в верхней части этой колонки и в разделе **Основные компоненты** .


    * **Параметры** и **Все параметры**: открытие колонки **Параметры** кластера с подробными сведениями о его конфигурации.
    * **Панель мониторинга**, **Панель мониторинга кластера** и **URL-адрес**: различные варианты доступа к панели мониторинга кластера, которая представляет собой веб-портал для выполнения заданий в кластере.
    * **Удаленный рабочий стол**: позволяет включать или отключать удаленный рабочий стол на узлах кластера.
    * **Изменить масштаб кластера**: позволяет изменить количество рабочих узлов для этого кластера.
    * **Удалить**: удаление кластера HDInsight.
    * **Быстрый запуск** (![значок облака с молнией](./media/hdinsight-provision-clusters/quickstart.png)): просмотр сведений о быстром начале работы с HDInsight.
    * **Пользователи** (![значок пользователей](./media/hdinsight-provision-clusters/users.png)): здесь можно указать разрешения на доступ к _порталу управления_ этого кластера для других пользователей в вашей подписке Azure.


        > [AZURE.IMPORTANT] Этот параметр влияет _только_ на доступ и разрешения для этого кластера на портале и не определяет пользователей, которые могут подключаться к кластеру HDInsight или отправлять в него задания.

    * **Теги** (![значок тегов](./media/hdinsight-provision-clusters/tags.png)): теги позволяют задавать пары "ключ — значение" для определения пользовательской таксономии облачных служб. Например, можно создать ключ с именем __project__, а затем использовать общее значение для всех служб, связанных с определенным проектом.

## <a name="customize-clusters"></a>Настройка кластеров
* Ознакомьтесь с разделом [Настройка кластеров HDInsight с помощью службы начальной загрузки](hdinsight-hadoop-customize-cluster-bootstrap.md).
* Ознакомьтесь с разделом [Настройка кластеров HDInsight под управлением Windows с помощью действия сценария](hdinsight-hadoop-customize-cluster.md).

## <a name="next-steps"></a>Дальнейшие действия
В этой статье вы ознакомились с несколькими способами создания кластера HDInsight. Для получения дополнительных сведений ознакомьтесь со следующими статьями:

* [Приступая к работе с Azure HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md) — узнайте, как начать работу с кластером HDInsight.
* [Отправка заданий Hadoop программными средствами](hdinsight-submit-hadoop-jobs-programmatically.md) — узнайте, как программными средствами отправлять задания в HDInsight.
* [Управление кластерами Hadoop в HDInsight с помощью портала Azure](hdinsight-administer-use-management-portal.md)




<!--HONumber=Nov16_HO3-->


