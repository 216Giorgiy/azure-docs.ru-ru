---
title: "Создание кластеров Hadoop, HBase, Storm или Spark на платформе Linux в HDInsight с помощью портала | Документация Майкрософт"
description: "Узнайте, как создавать кластеры Hadoop, HBase, Storm или Spark на платформе Linux в HDInsight с помощью браузера и портала предварительной версии Azure."
services: hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 697278cf-0032-4f7c-b9b2-a84c4347659e
ms.service: hdinsight
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/05/2016
ms.author: nitinme
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: fe4577516a3cd34cce8fd78e22074065209035ad


---
# <a name="create-linux-based-clusters-in-hdinsight-using-the-azure-portal"></a>Создание кластеров под управлением Linux в HDInsight с помощью портала Azure
[!INCLUDE [selector](../../includes/hdinsight-selector-create-clusters.md)]

Портал Azure — это веб-инструмент управления службами и ресурсами, размещенными в облаке Microsoft Azure. В этой статье вы узнаете, как создавать кластеры HDInsight на основе Linux с помощью портала Azure.

## <a name="prerequisites"></a>Предварительные требования
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

* **Подписка Azure**. Ознакомьтесь с [бесплатной пробной версией Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).
* **Современный браузер**. Портал Azure использует HTML5 и JavaScript и может работать неправильно в старых веб-браузерах.

### <a name="access-control-requirements"></a>Требования к контролю доступа
[!INCLUDE [access-control](../../includes/hdinsight-access-control-requirements.md)]

## <a name="create-clusters"></a>Создание кластеров
Портал Azure предоставляет большую часть свойств кластера. С помощью шаблона Azure Resource Manager можно скрыть много сведений. Дополнительные сведения см. в статье [Создание кластеров Hadoop под управлением Linux в HDInsight с помощью шаблонов Azure Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md).

1. Войдите на [портал Azure](https://portal.azure.com).
2. Щелкните **Создать**, **Данные+аналитика**, а затем — **HDInsight**.
   
    ![Создание кластера на портале Azure](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.1.png "Creating a new cluster in the Azure portal")
3. Введите **имя кластера**: оно должно быть глобально уникальным.
4. Щелкните **Выберите тип кластера**, а затем выберите следующие значения:
   
   * **Тип кластера**: если не знаете, что выбрать, выберите значение **Hadoop**. Это наиболее популярный тип кластера.
     
     > [!IMPORTANT]
     > Кластеры HDInsight бывают разных типов, которые соответствуют рабочей нагрузке или технологии, для которой настроен кластер. Создать кластер, в котором бы объединились несколько типов, например Storm и HBase, нельзя. 
     > 
     > 
   * **Операционная система**: выберите значение **Linux**.
   * **Версия**: используйте версию по умолчанию, если не уверены, что нужно выбрать. Дополнительные сведения см. в статье [Что представляют собой различные компоненты Hadoop, доступные в HDInsight?](hdinsight-component-versioning.md)
   * **Уровень кластера**: Azure HDInsight предлагает облачные решения для работы с большими данными в двух категориях: "Стандартный" и "Премиум". Дополнительные сведения см. в разделе [Уровни кластера](hdinsight-hadoop-provision-linux-clusters.md#cluster-tiers).
     
     ![Конфигурация HDInsight уровня Премиум](./media/hdinsight-hadoop-provision-linux-clusters/hdinsight-cluster-type-configuration.png)
5. Щелкните **Подписка** , чтобы выбрать подписку Azure, которая будет использоваться для кластера.
6. Щелкните **Группа ресурсов**, чтобы выбрать существующую группу ресурсов, или создайте группу ресурсов, щелкнув **Создать**.
   
   > [!NOTE]
   > Эта запись будет выбрана по умолчанию для одной из существующих групп ресурсов (при их наличии).
   > 
   > 
7. Щелкните **Учетные данные** и введите пароль для пользователя с правами администратора. Необходимо также ввести **имя пользователя SSH** и **пароль** или **открытый ключ**, которые будут использоваться для проверки подлинности пользователя SSH. Мы рекомендуем использовать открытый ключ. Нажмите кнопку **Выбрать** внизу страницы, чтобы сохранить учетные данные конфигурации.
   
    ![Укажите учетные данные кластера](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.3.png "Provide cluster credentials")
   
    Дополнительные сведения об использовании SSH с HDInsight см. в следующих статьях.
   
   * [Использование SSH с Hadoop под управлением Linux в HDInsight в Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md)
   * [Использование SSH с Hadoop под управлением Linux в HDInsight в Windows](hdinsight-hadoop-linux-use-ssh-windows.md)
8. Щелкните **Источник данных** , чтобы выбрать для кластера существующий источник данных или создать новый.
   
    ![Колонка "Источник данных"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.4.png "Provide data source configuration")
   
    В настоящее время в качестве источника данных для кластера HDInsight можно выбрать учетную запись хранения Azure. Далее приводится описание элементов интерфейса, которое поможет вам лучше понять записи в колонке **Источник данных** .
   
   * **Метод выбора**. Выберите значение **Из всех подписок**, чтобы сделать возможным поиск учетных записей хранения во всех своих подписках. Выбрав значение **Ключ доступа**, вы сможете ввести **имя хранилища** и **ключ доступа** существующей учетной записи хранения.
   * **"Выбрать учетную запись хранения" или "Создать"**: щелкните **Выбрать учетную запись хранения**, чтобы найти и выбрать существующую учетную запись хранения, которую нужно связать с кластером. Или щелкните **Создать** , чтобы создать учетную запись хранения. В появившееся поле введите имя учетной записи хранения. Если имя доступно, появится зеленый флажок.
   * **Выбрать контейнер по умолчанию**: позволяет ввести имя контейнера по умолчанию и использовать его для кластера. Вы можете ввести любое имя, однако мы рекомендуем использовать такое же имя, как у кластера, чтобы легко распознавать, какой контейнер используется для конкретного кластера.
   * **Расположение**: географический регион, к которому будет относиться существующая или новая учетная запись хранения.
     
     > [!IMPORTANT]
     > Выбранное расположение для источника данных по умолчанию будет также определять расположение кластера HDInsight. Кластер и источник данных по умолчанию должны находиться в одном регионе.
     > 
     > 
   * **Удостоверение AAD кластера**: настроив его, вы обеспечите кластеру доступ к хранилищам озера данных Azure на основе конфигурации AAD.
     
     Нажмите **Выбрать** , чтобы сохранить конфигурацию источника данных.
9. Щелкните **Ценовые категории узла** , чтобы отобразить сведения об узлах, которые будут созданы для этого кластера. Задайте количество рабочих узлов, необходимых для кластера. Оценочная стоимость кластера отобразится в колонке.
   
    ![Колонка "Ценовые категории узла"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.5.png "Specify number of cluster nodes")
   
   > [!IMPORTANT]
   > Если вы планируете использовать более 32 рабочих узлов (при создании кластера или в ходе масштабирования после создания кластера), для головного узла потребуется минимум 8-ядерный процессор и 14 ГБ ОЗУ.
   > 
   > Дополнительные сведения о размерах узлов и их стоимости см. на странице с [ценами на HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).
   > 
   > 
   
    Нажмите **Выбрать** , чтобы сохранить конфигурацию цен узла.
10. Щелкните **Дополнительная конфигурация**, чтобы выбрать версию кластера и настроить другие необязательные параметры, например присоединение к **виртуальной сети** и настройку **внешнего метахранилища** для хранения данных Hive и Oozie. Вы можете настроить кластер для установки пользовательских компонентов с помощью действий скриптов или настроить в кластере дополнительные учетные записи хранения.
    
    * **Виртуальная сеть**— выберите виртуальную сеть Azure и подсеть для размещения кластера в виртуальной сети.  
      
        ![Колонка "Виртуальная сеть"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.6.png "Specify virtual network details")
      
        Сведения об использовании HDInsight в виртуальной сети, включая требования к конфигурации виртуальной сети, см. в статье [Расширение возможностей HDInsight с помощью виртуальной сети Azure](hdinsight-extend-hadoop-virtual-network.md).
    * Щелкните **Внешние метахранилища** , чтобы указать базу данных SQL, которую вы хотите использовать для сохранения метаданных Hive и Oozie, связанных с кластером.
      
      > [!NOTE]
      > Возможность настройки метахранилища не поддерживается для кластеров типа HBase.
      > 
      > 
      
        ![Колонка "Пользовательские метахранилища"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.7.png "Specify external metastores")
      
        Для параметра **Использовать существующую базу данных SQL для метаданных Hive** выберите **Да**, укажите базу данных SQL, а затем введите имя пользователя и пароль для базы данных. Повторите эти шаги, если вы хотите **Использовать существующую базу данных SQL для метаданных Oozie**. Щелкайте **Выбрать**, пока не перейдете в колонку **Дополнительная конфигурация**.
      
      > [!NOTE]
      > База данных Azure SQL, используемая в качестве хранилища метаданных, должна обеспечивать подключение к другим службам Azure, в том числе Azure HDInsight. На панели мониторинга базы данных SQL Azure в правой части щелкните имя сервера. Это сервер, на котором работает экземпляр базы данных SQL. В представлении сервера щелкните **Настройка**, а затем — **Службы Azure**, **Да** и **Сохранить**.
      > 
      > 
      
        &nbsp;
      
      > [!IMPORTANT]
      > Создавая метаданные, не используйте для базы данных имя, которое содержит тире и дефисы. Это может привести к сбою при создании кластера.
      > 
      > 
    * Щелкните **Действия скрипта**, если хотите использовать настраиваемый скрипт для настройки кластера во время его создания. Дополнительную информацию о действиях скриптов см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md). В колонке "Действия сценария" введите данные, как показано на снимке экрана.
      
        ![Колонка "Действие сценария"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.8.png "Specify script action")
    * Щелкните **Связанные учетные записи хранения** , чтобы указать дополнительные учетные записи хранения, которые нужно связать с кластером. В колонке **Ключи хранилища Azure** нажмите кнопку **Добавить ключ хранилища** и выберите существующую учетную запись хранения или создайте новую.
      
        ![Колонка "Дополнительное хранилище"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.CreateCluster.9.png "Specify additional storage accounts")
      
        После создания кластера также можно добавить дополнительные учетные записи хранения.  См. статью [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).
      
        Щелкайте **Выбрать**, пока не перейдете в колонку **Новый кластер HDInsight**.
      
        В дополнение к учетной записи хранения BLOB-объектов можно связать хранилища озера данных Azure. Для этого можно настроить AAD из источника данных, в котором вы настроили учетную запись хранения по умолчанию и контейнер по умолчанию.
11. В колонке **Новый кластер HDInsight** выберите параметр **Закрепить на начальной панели** и нажмите **Создать**. После этого кластер будет создан, а на начальную панель портала Azure будет добавлен его элемент. Значок указывает, что выполняется подготовка кластера. После завершения подготовки вместо него будет отображаться значок HDInsight.
    
    | Подготовка выполняется | Подготовка завершена |
    | --- | --- |
    | ![Индикатор подготовки на начальной панели](./media/hdinsight-hadoop-create-linux-cluster-portal/provisioning.png) |![Плитка подготовки кластера](./media/hdinsight-hadoop-create-linux-cluster-portal/provisioned.png) |
    
    > [!NOTE]
    > Обычно создание кластера занимает около 15 минут. Отслеживать процесс подготовки вы можете с помощью элемента на начальной панели или записи **Уведомления** в левой части страницы.
    > 
    > 
12. После завершения процесса создания щелкните элемент кластера на начальной панели, чтобы открыть колонку кластера. Колонка кластера содержит важные сведения о кластере: имя, группа ресурсов, к которой он принадлежит, расположение, операционная система, URL-адрес панели мониторинга кластера и т. д.
    
    ![Колонка "Кластер"](./media/hdinsight-hadoop-create-linux-cluster-portal/HDI.Cluster.Blade.png "Cluster properties")
    
    Ниже приведено описание значков в верхней части этой колонки и в разделе **Основные компоненты** .
    
    * **Параметры** и **Все параметры**: открытие колонки **Параметры** кластера с подробными сведениями о его конфигурации.
    * **Панель мониторинга**, **Панель мониторинга кластера** и **URL-адрес**: различные варианты доступа к панели мониторинга кластера, которая представляет собой веб-портал для выполнения заданий в кластере.
    * **Secure Shell**— сведения, необходимые для доступа к кластеру по протоколу SSH.
    * **Удалить**: удаление кластера HDInsight.
    * **Быстрый запуск** (![значок облака с молнией](./media/hdinsight-hadoop-create-linux-cluster-portal/quickstart.png)): просмотр сведений о быстром начале работы с HDInsight.
    * **Пользователи** (![значок пользователей](./media/hdinsight-hadoop-create-linux-cluster-portal/users.png)): здесь можно указать разрешения на доступ к *порталу управления* этого кластера для других пользователей в вашей подписке Azure.
      
      > [!IMPORTANT]
      > Этот параметр влияет *только* на право доступа к указанному кластеру на портале Azure. Он не определяет тех, кто может подключаться к кластеру HDInsight или отправлять в него задания.
      > 
      > 
    * **Теги** (![значок тегов](./media/hdinsight-hadoop-create-linux-cluster-portal/tags.png)): теги позволяют задавать пары "ключ — значение" для определения пользовательской таксономии облачных служб. Например, можно создать ключ с именем **project**, а затем использовать общее значение для всех служб, связанных с определенным проектом.

## <a name="customize-clusters"></a>Настройка кластеров
* Ознакомьтесь с разделом [Настройка кластеров HDInsight с помощью службы начальной загрузки](hdinsight-hadoop-customize-cluster-bootstrap.md).
* См. статью [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).

## <a name="delete-the-cluster"></a>Удаление кластера
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вы успешно создали кластер HDInsight, обратитесь к следующим статьям, чтобы научиться работать с кластером:

### <a name="hadoop-clusters"></a>Кластеры Hadoop
* [Использование Hive с HDInsight](hdinsight-use-hive.md)
* [Использование Pig с HDInsight](hdinsight-use-pig.md)
* [Использование MapReduce с HDInsight](hdinsight-use-mapreduce.md)

### <a name="hbase-clusters"></a>Кластеры HBase
* [Начало работы с HBase в HDInsight](hdinsight-hbase-tutorial-get-started-linux.md)
* [Разработка приложений Java для HBase в HDInsight](hdinsight-hbase-build-java-maven-linux.md)

### <a name="storm-clusters"></a>Кластеры Storm
* [Разработка приложений Java для Storm в HDInsight](hdinsight-storm-develop-java-topology.md)
* [Использование компонентов Python в Storm в HDInsight](hdinsight-storm-develop-python-topology.md)
* [Развертывание и мониторинг топологий с помощью Storm в HDInsight](hdinsight-storm-deploy-monitor-topology-linux.md)

### <a name="spark-clusters"></a>Кластеры Spark
* [Создание автономного приложения с использованием Scala](hdinsight-apache-spark-create-standalone-application.md)
* [Удаленный запуск заданий с помощью Livy в кластере Spark](hdinsight-apache-spark-livy-rest-interface.md)
* [Использование Spark со средствами бизнес-аналитики. Выполнение интерактивного анализа данных с использованием Spark в HDInsight с помощью средств бизнес-аналитики](hdinsight-apache-spark-use-bi-tools.md)
* [Использование Spark с машинным обучением. Использование Spark в HDInsight для прогнозирования результатов контроля качества пищевых продуктов](hdinsight-apache-spark-machine-learning-mllib-ipython.md)
* [Потоковая передача Spark. Использование Spark в HDInsight для сборки приложений потоковой передачи данных в режиме реального времени](hdinsight-apache-spark-eventhub-streaming.md)




<!--HONumber=Nov16_HO3-->


