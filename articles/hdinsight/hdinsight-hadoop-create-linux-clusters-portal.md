---
title: "Создание кластеров Hadoop с помощью веб-браузера в Azure HDInsight | Документы Майкрософт"
description: "Узнайте, как создавать кластеры Hadoop, HBase, Storm или Spark на платформе Linux в HDInsight с помощью браузера и портала предварительной версии Azure."
services: hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 697278cf-0032-4f7c-b9b2-a84c4347659e
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 11/28/2017
ms.author: nitinme
ms.openlocfilehash: 309f997174211e1a1a2d0eeea2b9b445c8b37e4d
ms.sourcegitcommit: 68aec76e471d677fd9a6333dc60ed098d1072cfc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/18/2017
---
# <a name="create-linux-based-clusters-in-hdinsight-using-the-azure-portal"></a>Создание кластеров под управлением Linux в HDInsight с помощью портала Azure
[!INCLUDE [selector](../../includes/hdinsight-create-linux-cluster-selector.md)]

Портал Azure — это веб-инструмент управления службами и ресурсами, размещенными в облаке Microsoft Azure. В этой статье вы узнаете, как создать кластеры HDInsight под управлением Linux, с помощью портала.

## <a name="prerequisites"></a>Технические условия
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

* **Подписка Azure**. См. страницу [бесплатной пробной версии Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).
* **Современный браузер**. Портал Azure использует HTML5 и JavaScript и может работать неправильно в старых веб-браузерах.

## <a name="create-clusters"></a>Создание кластеров
Портал Azure предоставляет большую часть свойств кластера. С помощью шаблона Azure Resource Manager, можно скрыть многие подробности. Дополнительные сведения см. в статье [Создание кластеров Hadoop под управлением Linux в HDInsight с помощью шаблонов Azure Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md).

[!INCLUDE [secure-transfer-enabled-storage-account](../../includes/hdinsight-secure-transfer.md)]


1. Войдите на [портал Azure](https://portal.azure.com).
2. Щелкните **+**, **Аналитика**, а затем — **HDInsight**.
   
    ![Создание кластера на портале Azure](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster.png "Создание кластера на портале Azure")

3. В колонке **HDInsight** щелкните **Custom (size, settings, apps)** (Пользовательские (параметры, приложения, размер)), **Основы** и введите следующие сведения.

    ![Создание кластера на портале Azure](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-basics.png "Создание кластера на портале Azure")

    * Введите **имя кластера**: оно должно быть глобально уникальным.

    * Из **подписки** раскрывающийся список, выберите подписку Azure, используемый для кластера.

    * Нажмите кнопку **кластера типа**, а затем выберите тип кластера (Hadoop, Spark, т. д.) нужно создать. Для **операционной системы**, нажмите кнопку **Linux** и затем выберите версию. Используйте версию по умолчанию, если вы не знаете, что нужно выбрать. Дополнительные сведения см. в статье [Что представляют собой различные компоненты Hadoop, доступные в HDInsight?](hdinsight-component-versioning.md)

        Для типов кластера Hadoop, Spark и интерактивных запросов, можно также выбрать для установки **пакет безопасности предприятия**. Пакет безопасности предприятия включает функции безопасности, такие как интеграция с Azure Active Directory и круг Apache для кластеров. Дополнительные сведения см. в разделе [пакет безопасности предприятия в Azure HDInsight](./domain-joined/apache-domain-joined-introduction.md).

        ![Включить пакет безопасности предприятия](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-enable-enterprise-security-package.png "включить пакет безопасности предприятия")
     
        > [!IMPORTANT]
        > Кластеры HDInsight бывают разных типов, которые соответствуют рабочей нагрузке или технологии, для которой настроен кластер. Создать кластер, в котором бы объединились несколько типов, например Storm и HBase, нельзя. 
        > 
        > 
        
    * В полях **Имя пользователя для входа в кластер** и **Пароль для входа в кластер** введите имя пользователя администратора и пароль для кластера.

    * Введите **имя пользователя SSH**. Если требуется, чтобы пароль SSH был аналогичен указанному ранее паролю администратора, установите флажок **Использовать тот же пароль в учетных данных кластера**. В противном случае введите **пароль** или **открытый ключ**, которые будут использоваться для аутентификации пользователя SSH. Мы рекомендуем использовать открытый ключ. Нажмите кнопку **Выбрать** внизу страницы, чтобы сохранить учетные данные конфигурации.
   
    См. дополнительные сведения об [использовании SSH в HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).

    * Для параметра **Группа ресурсов** укажите, хотите ли вы создать группу ресурсов или использовать имеющуюся.

    * Укажите центр обработки данных **расположение** которых создается кластер.

    * Нажмите кнопку **Далее**.

4. Для **хранения**, укажите, должен ли хранилища Azure (WASB) или хранилища Озера данных в хранилище по умолчанию. Дополнительные сведения см. в таблице ниже.

    ![Создание кластера на портале Azure](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-storage.png "Создание кластера на портале Azure")

    | Хранилище                                      | ОПИСАНИЕ |
    |----------------------------------------------|-------------|
    | **Большие двоичные объекты службы хранилища Azure как хранилище по умолчанию**   | <ul><li>В разделе **Тип первичного хранилища** выберите **Служба хранилища Azure**. После этого в разделе **Метод выбора** выберите вариант **Мои подписки**, если хотите указать учетную запись хранения, которая является частью вашей подписки Azure, а затем выберите учетную запись хранения. Или щелкните **Ключ доступа** и укажите сведения об учетной записи хранения, которая не входит в вашу подписку Azure.</li><li>В поле **Контейнер по умолчанию** можно оставить имя контейнера по умолчанию, предлагаемое порталом, или указать собственное.</li><li>Если в качестве хранилища по умолчанию используется WASB, вы можете щелкнуть **Дополнительные учетные записи хранения**, чтобы указать дополнительные учетные записи хранения, которые нужно связать с кластером. Для **хранилища ключей Azure**, нажмите кнопку **добавить ключ хранилища**, и затем можно задать учетную запись хранилища в подписках Azure или из других подписок (за счет ключ доступа учетной записи хранилища).</li><li>При использовании WASB в качестве хранилища по умолчанию вы можете щелкнуть **Доступ к Data Lake Store** и указать Azure Data Lake Store в качестве дополнительного хранилища. Подробные сведения см. в статье [Создание кластера HDInsight с Data Lake Store с помощью портала Azure](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</li></ul> |
    | **Azure Data Lake Store как хранилище по умолчанию** | Для **тип основного хранилища**выберите **хранилища Озера данных** и затем обратитесь к статье [создать кластер HDInsight в хранилище Озера данных с помощью портала Azure](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md) инструкции. |
    | **Внешние хранилища метаданных**                      | При необходимости укажите базу данных SQL Azure, в которой будут храниться связанные с кластером метаданные Hive и Oozie. Для параметра **Выбрать базу данных SQL для Hive** укажите базу данных SQL, а затем введите имя пользователя и пароль для базы данных. Повторите эти действия для метаданных Oozie.<br><br>Важные особенности при использовании базы данных Azure SQL для хранилищ метаданных. <ul><li>База данных Azure SQL, используемая в качестве хранилища метаданных, должна обеспечивать подключение к другим службам Azure, в том числе Azure HDInsight. На панели мониторинга базы данных SQL Azure в правой части щелкните имя сервера. Это сервер, на котором работает экземпляр базы данных SQL. В представлении сервера щелкните **Настройка**, а затем — **Службы Azure**, **Да** и **Сохранить**.</li><li>Создавая метаданные, не используйте для базы данных имя, которое содержит тире и дефисы. Это может привести к сбою при создании кластера.</li></ul> |

    Нажмите кнопку **Далее**. 

    > [!WARNING]
    > Использование дополнительной учетной записи хранения, местоположение которой отличается от местоположения кластера HDInsight, не поддерживается.

5. При необходимости щелкните **Приложения**, чтобы установить приложения, работающие с кластерами HDInsight. Разработчиками этих приложений могут быть корпорация Майкрософт, независимые поставщики программного обеспечения или вы сами. Дополнительные сведения см. в разделе [Установка приложений HDInsight](hdinsight-apps-install-applications.md#install-applications-during-cluster-creation).


6. Нажмите кнопку **размер кластера** для отображения сведений об узлах, которые используются для этого кластера. Задайте количество рабочих узлов, необходимых для кластера. Предполагаемая стоимость работу кластера также отображается.
   
    ![Узел ценовым категориям](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-nodes.png "укажите количество узлов кластера")
   
   > [!IMPORTANT]
   > Если вы планируете более 32 рабочих узлов, в момент создания кластера или путем масштабирования кластера после ее создания, необходимо выбрать размер головного узла с по крайней мере 8 ядер, 14 ГБ ОЗУ.
   > 
   > Дополнительные сведения о размерах узлов и их стоимости см. на странице с [ценами на HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).
   > 
   > 
   
   Нажмите кнопку **Далее**, чтобы сохранить конфигурацию цен узла.

7. Щелкните **Дополнительные параметры**, чтобы настроить другие необязательные параметры, например присоединение к **виртуальной сети** или настройку кластера для установки пользовательских компонентов с помощью **действий сценария**. Дополнительные сведения см. в таблице ниже.

    ![Узел ценовым категориям](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-advanced.png "укажите количество узлов кластера")

    | Параметр | ОПИСАНИЕ |
    |--------|-------------|
    | **Действия сценариев** | Используйте этот параметр, если хотите использовать настраиваемый сценарий для настройки кластера во время его создания. Дополнительную информацию о действиях скриптов см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md). |
    | **Виртуальная сеть** | Выберите виртуальную сеть Azure и подсеть для размещения кластера в виртуальной сети. Сведения об использовании HDInsight в виртуальной сети, включая требования к конфигурации виртуальной сети, см. в статье [Расширение возможностей HDInsight с помощью виртуальной сети Azure](hdinsight-extend-hadoop-virtual-network.md). |

    Нажмите кнопку **Далее**.

8. Для **Сводка**, проверьте данные, введенные ранее и нажмите кнопку **создать**.

    ![Узел ценовым категориям](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-summary.png "укажите количество узлов кластера")
    
    > [!NOTE]
    > Обычно создание кластера занимает около 15 минут. Отслеживать процесс подготовки вы можете с помощью элемента на начальной панели или записи **Уведомления** в левой части страницы.
    > 
    > 
12. После завершения процесса создания, щелкните плитку для кластера с начальной панели. Окно кластера содержит следующие сведения.
    
    ![Интерфейс кластера](./media/hdinsight-hadoop-create-linux-cluster-portal/hdinsight-create-cluster-completed.png "свойства кластера")
    
    Следующие статьи для понимания значки в начале.
    
    * Вкладка **Обзор** содержит все важные сведения о кластере: имя, группа ресурсов, к которой он принадлежит, расположение, операционная система, URL-адрес панели мониторинга кластера и т. д.
    * Элемент **Панель мониторинга** перенаправит вас на портал Ambari, связанный с кластером.
    * **Secure Shell**— сведения, необходимые для доступа к кластеру по протоколу SSH.
    * Элемент **Изменить масштаб кластера** позволяет увеличить число рабочих узлов, связанных с кластером.
    * **Удалить**: удаление кластера HDInsight.
    

## <a name="customize-clusters"></a>Настройка кластеров
* Ознакомьтесь с разделом [Настройка кластеров HDInsight с помощью службы начальной загрузки](hdinsight-hadoop-customize-cluster-bootstrap.md).
* См. статью [Настройка кластеров HDInsight под управлением Windows с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).

## <a name="delete-the-cluster"></a>Удаление кластера
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

## <a name="troubleshoot"></a>Устранение неполадок

Если при создании кластеров HDInsight возникли проблемы, см. раздел [Создание кластеров](hdinsight-administer-use-portal-linux.md#create-clusters).

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вы успешно создали кластер HDInsight, обратитесь к следующим статьям, чтобы научиться работать с кластером:

### <a name="hadoop-clusters"></a>Кластеры Hadoop
* [Использование Hive с HDInsight](hadoop/hdinsight-use-hive.md)
* [Использование Pig с HDInsight](hadoop/hdinsight-use-pig.md)
* [Использование MapReduce с HDInsight](hadoop/hdinsight-use-mapreduce.md)

### <a name="hbase-clusters"></a>Кластеры HBase
* [Начало работы с HBase в HDInsight](hbase/apache-hbase-tutorial-get-started-linux.md)
* [Разработка приложений Java для HBase в HDInsight](hbase/apache-hbase-build-java-maven-linux.md)

### <a name="storm-clusters"></a>Кластеры Storm
* [Разработка приложений Java для Storm в HDInsight](storm/apache-storm-develop-java-topology.md)
* [Использование компонентов Python в Storm в HDInsight](storm/apache-storm-develop-python-topology.md)
* [Развертывание и мониторинг топологий с помощью Storm в HDInsight](storm/apache-storm-deploy-monitor-topology-linux.md)

### <a name="spark-clusters"></a>Кластеры Spark
* [Создание автономного приложения с использованием Scala](spark/apache-spark-create-standalone-application.md)
* [Удаленный запуск заданий с помощью Livy в кластере Spark](spark/apache-spark-livy-rest-interface.md)
* [Использование Spark со средствами бизнес-аналитики. Выполнение интерактивного анализа данных с использованием Spark в HDInsight с помощью средств бизнес-аналитики](spark/apache-spark-use-bi-tools.md)
* [Использование Spark с машинным обучением. Использование Spark в HDInsight для прогнозирования результатов контроля качества пищевых продуктов](spark/apache-spark-machine-learning-mllib-ipython.md)
* [Потоковая передача Spark. Использование Spark в HDInsight для сборки приложений потоковой передачи данных в режиме реального времени](spark/apache-spark-eventhub-streaming.md)

