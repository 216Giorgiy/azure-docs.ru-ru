---
title: Служба Azure. входной двери заголовки HTTP поддерживают | Документация Майкрософт
description: Эта статья поможет вам понять, какие протоколы HTTP-заголовков поддерживает Front Door.
services: frontdoor
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: 40bfdfc3837da12f62864433508482a65def291c
ms.sourcegitcommit: 280d9348b53b16e068cf8615a15b958fccad366a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2019
ms.locfileid: "58407323"
---
# <a name="azure-front-door-service---http-headers-support"></a>Служба Azure двери — поддержка заголовков HTTP
В этом документе описывается протокол, поддерживаемый службой Azure Front Door и различные фрагменты пути к вызовам, как показано на следующей схеме. В следующем разделе приводятся более подробные сведения об HTTP-заголовках, которые поддерживает Front Door.

![Служба Azure Front Door — протокол HTTP-заголовков][1]

>[!WARNING]
>Служба Azure Front Door не дает гарантий в отношении HTTP-заголовков, которые здесь не рассматриваются.

## <a name="1-client-to-front-door"></a>1. Клиент — Front Door
Front Door принимает большинство заголовков из входящего запроса (не изменяя их), однако существуют некоторые зарезервированные заголовки, которые будут удалены из входящего запроса. К ним относятся заголовки со следующими префиксами:
 - X - FD-*

## <a name="2-front-door-to-backend"></a>2. Front Door — серверная система

Front Door будет включать заголовки из входящего запроса, если только они не были удалены из-за ограничений, упомянутых выше. Front Door также добавит приведенные ниже заголовки.

| Заголовок  | Пример и описание |
| ------------- | ------------- |
| Via |  *С помощью: 1.1 azure* </br> Входной двери добавляет версию клиента HTTP, следуют «Azure» как значение с помощью заголовка. Оно добавляется для указания версии HTTP клиента и двери, Azure была получателю промежуточных для запроса между клиентом и серверной части.  |
| X-Azure-ClientIP | *X-Azure-ClientIP: 127.0.0.1* </br> Представляет IP-адресу «клиент», связанный с запросом, который обрабатывается. Например запрос, поступающие от прокси-сервера может добавлять заголовок X-Forwarded-For, чтобы указать IP-адрес исходного вызывающего. |
| X-Azure-SocketIP | *X-Azure-SocketIP: 127.0.0.1* </br> Представляет IP-адресу сокета, связанные с TCP-подключение, источником текущего запроса. Запроса с IP-адрес клиента может не равняться сокет IP-адрес так, как ее можно произвольно перезаписать конечным пользователем.|
| X-Azure-Ref | *X-Azure-Ref: 0zxV+XAAAAABKMMOjBv2NT4TY6SQVjC0zV1NURURHRTA2MTkANDM3YzgyY2QtMzYwYS00YTU0LTk0YzMtNWZmNzA3NjQ3Nzgz* </br> Это уникальная эталонная строка, которая идентифицирует запрос, обслуженный Front Door. Она крайне важна для устранения неполадок, так как используется для поиска в журналах доступа.|
| X-Azure-RequestChain |  *X-Azure-RequestChain: hops=1* </br> Это заголовок, который Front Door использует, чтобы обнаруживать циклы запросов, и пользователи не должны использовать его в качестве зависимостей. |
| X-Forwarded-For | *X-Forwarded-For: 127.0.0.1* </br> Поле заголовка X-Forwarded-For (XFF) HTTP является общим методом идентификации исходный IP-адрес клиента, подключающегося к серверу через прокси-сервер или load balancer HTTP. Если существующий заголовок XFF, то входной двери добавляет IP-адрес сокета клиента к нему еще добавляет заголовок XFF с IP-адрес сокета клиента. |
| X-Forwarded-Host | *X-Forwarded-Host: contoso.azurefd.net* </br> Поле заголовка HTTP X-Forwarded-Host является общим методом идентификации исходного узла, запрошенной клиентом в заголовке запроса HTTP узла, так как имя узла из входной двери может отличаться для внутреннего сервера, обрабатывающего запрос. |
| X-Forwarded-Proto | *X-Forwarded-Proto: http* </br> Поле заголовка HTTP X-Forwarded-Proto является общим методом идентификации исходного протокола HTTP-запроса, так как в зависимости от конфигурации двери могут взаимодействовать с серверной части, с помощью HTTPS, даже если запрос на обратный прокси-сервер HTTP. |

## <a name="3-front-door-to-client"></a>3. Front Door — клиент

Ниже перечислены заголовки, которые отправляются из Front Door клиентам. Все заголовки, отправляемые в службу Front Door из серверной части, также передаются клиенту.

| Заголовок  | Пример |
| ------------- | ------------- |
| X-Azure-Ref |  *X-Azure-Ref: 0zxV+XAAAAABKMMOjBv2NT4TY6SQVjC0zV1NURURHRTA2MTkANDM3YzgyY2QtMzYwYS00YTU0LTk0YzMtNWZmNzA3NjQ3Nzgz* </br> Это уникальная эталонная строка, которая идентифицирует запрос, обслуженный Front Door. Она крайне важна для устранения неполадок, так как используется для поиска в журналах доступа.|

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).

<!--Image references-->
[1]: ./media/front-door-http-headers-protocol/front-door-protocol-summary.png