---
title: 'Azure Front Door Service: мониторинг работоспособности серверной части | Документация Майкрософт'
description: Эта статья поможет вам понять, как Azure Front Door Service отслеживает работоспособность серверных частей.
services: frontdoor
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: 256d530590fadc9e2aeb1ea1efb7a52608014978
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "46988569"
---
# <a name="health-probes"></a>Пробы работоспособности.

Чтобы определить работоспособность серверных частей, каждая среда Front Door периодически отправляет искусственные HTTP/HTTPS-запросы в настроенные серверные части. Затем Front Door использует ответы этих проб, чтобы определить "лучшие" серверные части, на которые следует направлять реальные клиентские запросы.


## <a name="supported-protocols"></a>Поддерживаемые протоколы

Front Door поддерживает отправку проб по протоколу HTTP или HTTPS. Эти пробы отправляются через одни и те же TCP-порты, настроенные для маршрутизации клиентских запросов, и их невозможно переопределить.

## <a name="health-probe-responses"></a>Ответы проб работоспособности

| Ответы  | ОПИСАНИЕ | 
| ------------- | ------------- |
| Определение работоспособности  |  Код состояния "200 ОК" указывает, что серверная часть находится в работоспособном состоянии. Все остальные состояния будут считаться сбоем. Если по какой-либо причине (например, из-за сбоя сети) проба не получает допустимый ответом HTTP, это считается сбоем.|
| Измерение задержки  | Задержка — это физическое время, измеренное с момента отправки пробы до момента получения последнего байта ответа. Мы используем новое TCP-подключение для каждого запроса, поэтому измерение не искажается для серверных частей с существующими активными подключениями.  |

## <a name="how-front-door-determines-backend-health"></a>Как Front Door определяет работоспособность серверной части

Для определения работоспособности Azure Front Door Service использует представленный ниже процесс из трех шагов для всех алгоритмов.

1. Исключение отключенных серверных частей.

2. Исключение серверных частей с ошибками пробы работоспособности.
    * Этот можно сделать, просмотрев последние _n_ ответов проб работоспособности. Если по крайней мере _x_ указывают на работоспособное состояние, серверная часть считается работоспособной.

    * Значение _n_ настраивается путем изменения свойства SampleSize в параметрах балансировки нагрузки.

    * Значение _x_ настраивается путем изменения свойства SuccessfulSamplesRequired в параметрах балансировки нагрузки.

3. Помимо набора работоспособных серверных частей во внутреннем пуле, Front Door дополнительно измеряет и обеспечивает задержку (время кругового пути) для каждой серверной части.


## <a name="complete-health-probe-failure"></a>Полный сбой пробы работоспособности

При сбое пробы работоспособности для каждой серверной части во внутреннем пуле Front Door считает их работоспособными и направляет трафик методом циклического распределения между ними.

После возвращения в работоспособное состояние какой-либо серверной части Front Door возобновит обычный алгоритм балансировки нагрузки.

## <a name="next-steps"></a>Дополнительная информация

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).
