---
title: Модель данных Log Analytics для Azure Backup
description: В этой статье представлены сведения о модели данных Log Analytics для данных Azure Backup.
services: backup
author: adiganmsft
manager: shivamg
ms.service: backup
ms.topic: conceptual
ms.date: 07/24/2017
ms.author: adigan
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 32ce9cb456e302647e2e09db6ed549cd4795fed7
ms.sourcegitcommit: 86cb3855e1368e5a74f21fdd71684c78a1f907ac
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2018
ms.locfileid: "37448396"
---
# <a name="log-analytics-data-model-for-azure-backup-data"></a>Модель данных Log Analytics для данных Azure Backup
Для создания отчетов используйте модель данных Log Analytics. С помощью модели данных можно создавать пользовательские запросы и панели мониторинга или настраивать как удобно данные Azure Backup.

## <a name="using-azure-backup-data-model"></a>Использование модели данных Azure Backup
Вы можете использовать следующие поля, предоставляемые как часть модели данных, для создания визуальных элементов, пользовательских запросов и панели мониторинга в соответствии с вашими требованиями.

### <a name="alert"></a>Предупреждение
Эта таблица содержит сведения о полях, связанных с предупреждением.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| AlertUniqueId_s |текст |Уникальный идентификатор созданного предупреждения |
| AlertType_s |текст |Тип предупреждения, например "Резервная копия" |
| AlertStatus_s |текст |Состояние предупреждения, например активное |
| AlertOccurenceDateTime_s |Дата и время |Дата и время создания предупреждения |
| AlertSeverity_s |текст |Серьезность предупреждения, например критическая |
| EventName_s |текст |Имя события. Всегда AzureBackupCentralReport |
| BackupItemUniqueId_s |текст |Уникальный идентификатор архивируемого элемента, связанного с предупреждением |
| SchemaVersion_s |текст |Текущая версия схемы, например **V1** |
| State_s |текст |Текущее состояние объекта предупреждения, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для выполнения архивации, например IaaSVM, FileFolder, к которому относится это предупреждение |
| OperationName |текст |Имя текущей операции, например "Предупреждение" |
| Категория |текст |Категория диагностических данных, отправленных в Log Analytics. Всегда AzureBackupReport |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера, связанного с предупреждением |
| VaultUniqueId_s |текст |Уникальный идентификатор защищенного хранилища, связанного с предупреждением |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Уникальный идентификатор для ресурса, по которому собираются данные. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="backupitem"></a>BackupItem
Эта таблица содержит сведения о полях, связанных с архивируемым элементом.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Всегда AzureBackupCentralReport |  
| BackupItemUniqueId_s |текст |Уникальный идентификатор архивируемого элемента |
| BackupItemId_s |текст |Идентификатор архивируемого элемента |
| BackupItemName_s |текст |Имя архивируемого элемента |
| BackupItemFriendlyName_s |текст |Понятное имя архивируемого элемента |
| BackupItemType_s |текст |Тип архивируемого элемента, например виртуальная машина, папка с файлами |
| ProtectedServerName_s |текст |Имя защищенного сервера, к которому принадлежит архивируемый элемент |
| ProtectionState_s |текст |Текущее состояние защиты архивируемого элемента, например "Защищено" или "Защита остановлена" |
| SchemaVersion_s |текст |Версия схемы, например **V1** |
| State_s |текст |Состояние объекта архивируемого элемента, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для выполнения архивации, например IaaSVM, FileFolder, к которому принадлежит этот архивируемый элемент |
| OperationName |текст |Имя операции, например BackupItem |
| Категория |текст |Категория диагностических данных, отправленных в Log Analytics. Всегда AzureBackupReport |
| Ресурс |текст |Ресурс, для которого собираются данные, например имя хранилища служб восстановления |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных, например идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов для собираемых данных, например Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса для собираемых данных, например "Хранилище" |

### <a name="backupitemassociation"></a>BackupItemAssociation
Эта таблица содержит сведения об ассоциациях архивируемого элемента с различными сущностями.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |  
| BackupItemUniqueId_s |текст |Уникальный идентификатор архивируемого элемента |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние ассоциации архивируемого элемента, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (BackupItemAssociation) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| PolicyUniqueId_g |текст |Уникальный идентификатор политики, связанной с архивируемым элементом |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера, связанного с архивируемым элементом |
| VaultUniqueId_s |текст |Уникальный идентификатор хранилища, которое содержит архивируемый элемент |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов для собираемых данных, например Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса для данных, которые собираются, например "Хранилище" |

### <a name="job"></a>Задание
Эта таблица содержит сведения о полях, связанных с заданием.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Всегда AzureBackupCentralReport |
| BackupItemUniqueId_s |текст |Уникальный идентификатор архивируемого элемента |
| SchemaVersion_s |текст |Версия схемы, например **V1** |
| State_s |текст |Текущее состояние объекта задания, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (Job) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера, связанного с заданием |
| VaultUniqueId_s |текст |Уникальный идентификатор защищенного хранилища |
| JobOperation_s |текст |Операция, для которой запущено задание, например архивация, восстановление, настройка архивации |
| JobStatus_s |текст |Состояние завершенного задания, например "Завершено" или "Ошибка" |
| JobFailureCode_s |текст |Строка кода ошибки, из-за которой произошел сбой задания |
| JobStartDateTime_s |Дата и время |Дата и время начала выполнения задания |
| BackupStorageDestination_s |текст |Место назначения хранилища резервных копий, например облако или диск  |
| JobDurationInSecs_s | Number |Общая длительность задания в секундах |
| DataTransferredInMB_s | Number |Переданные данные (в МБ) для этого задания|
| JobUniqueId_g |текст |Уникальный идентификатор для задания |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления|
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="policy"></a>Политика
Эта таблица содержит сведения о полях, связанных с политикой.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта политики, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (Policy) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| PolicyUniqueId_g |текст |Уникальный идентификатор для политики |
| PolicyName_s |текст |Указанное имя политики |
| BackupFrequency_s |текст |Частота выполнения архивации, например ежедневно или еженедельно |
| BackupTimes_s |текст |Дата и время запланированной архивации |
| BackupDaysOfTheWeek_s |текст |Дни недели, на которые запланированы задания архивации |
| RetentionDuration_s |Целое число |Длительность хранения настроенных резервных копий |
| DailyRetentionDuration_s |Целое число |Общая длительность хранения (в днях) для настроенных резервных копий |
| DailyRetentionTimes_s |текст |Дата и время настройки ежедневного сохранения |
| WeeklyRetentionDuration_s |Десятичное число |Общая длительность еженедельного хранения в неделях для настроенных резервных копий |
| WeeklyRetentionTimes_s |текст |Дата и время настройки еженедельного хранения |
| WeeklyRetentionDaysOfTheWeek_s |текст |Дни недели, выбранные для еженедельного хранения |
| MonthlyRetentionDuration_s |Десятичное число |Общая длительность хранения (в месяцах) для настроенных резервных копий |
| MonthlyRetentionTimes_s |текст |Дата и время настройки ежемесячного хранения |
| MonthlyRetentionFormat_s |текст |Тип конфигурации для ежемесячного хранения, например ежедневно для хранения по дням, еженедельно для хранения по неделям |
| MonthlyRetentionDaysOfTheWeek_s |текст |Дни недели, выбранные для ежемесячного хранения |
| MonthlyRetentionWeeksOfTheMonth_s |текст |Недели месяца, настроенные для ежемесячного хранения, например первая, последняя и т. д. |
| YearlyRetentionDuration_s |Десятичное число |Общая длительность хранения (в годах) для настроенных резервных копий |
| YearlyRetentionTimes_s |текст |Дата и время настройки ежегодного хранения |
| YearlyRetentionMonthsOfTheYear_s |текст |Месяцы года, выбранные для ежегодного хранения |
| YearlyRetentionFormat_s |текст |Тип конфигурации для ежегодного хранения, например ежедневно для хранения по дням, еженедельно для хранения по неделям |
| YearlyRetentionDaysOfTheMonth_s |текст |Дни месяца, выбранные для ежегодного хранения |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="policyassociation"></a>PolicyAssociation
Эта таблица содержит сведения об ассоциациях политики с различными сущностями.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта политики, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (PolicyAssociation) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| PolicyUniqueId_g |текст |Уникальный идентификатор для политики |
| VaultUniqueId_s |текст |Уникальный идентификатор хранилища, к которому относится эта политика |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="protectedserver"></a>ProtectedServer
Эта таблица содержит сведения о полях, связанных с защищенным сервером.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| ProtectedServerName_s |текст |Имя защищенного сервера |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта защищенного сервера, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (ProtectedServer) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера |
| RegisteredContainerId_s |текст |Идентификатор контейнера, зарегистрированного для архивации |
| ProtectedServerType_s |текст |Тип защищенного сервера, например Windows |
| ProtectedServerFriendlyName_s |текст |Понятное имя защищенного сервера |
| AzureBackupAgentVersion_s |текст |Номер версии Azure Backup Agent |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="protectedserverassociation"></a>ProtectedServerAssociation
Эта таблица содержит сведения об ассоциациях защищенного сервера с другими сущностями.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта ассоциации защищенного сервера, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (ProtectedServerAssociation) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера |
| VaultUniqueId_s |текст |Уникальный идентификатор хранилища, к которому относится этот защищенный сервер |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="storage"></a>Служба хранилища
Эта таблица содержит сведения о полях, связанных с хранилищем.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| CloudStorageInBytes_s |Десятичное число |Объем облачного резервного хранилища, используемого для архивации, вычисляемый на основе последнего значения |
| ProtectedInstances_s |Десятичное число |Число защищенных экземпляров, используемое для вычисления стоимости использования внешнего хранилища для выставления счетов на основе последнего значения |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта хранилища, например "Активный" или "Удален" |
| BackupManagementType_s |текст |Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| OperationName |текст |Имя текущей операции (Storage) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| ProtectedServerUniqueId_s |текст |Уникальный идентификатор защищенного сервера, для которого вычисляется хранилище |
| VaultUniqueId_s |текст |Уникальный идентификатор хранилища, для которого вычисляется хранилище |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

### <a name="vault"></a>Хранилище
Эта таблица содержит сведения о полях, связанных с хранилищем.

| Поле | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| EventName_s |текст |Имя события. Это всегда AzureBackupCentralReport |
| SchemaVersion_s |текст |Текущая версия схемы (**V1**) |
| State_s |текст |Текущее состояние объекта хранилища, например "Активный" или "Удален" |
| OperationName |текст |Имя текущей операции (Vault) |
| Категория |текст |Категория данных диагностики, отправляемых в Log Analytics (AzureBackupReport) |
| Ресурс |текст |Ресурс, для которого собираются данные. Отображается имя хранилища служб восстановления |
| VaultUniqueId_s |текст |Уникальный идентификатор хранилища |
| VaultName_s |текст |Имя хранилища |
| AzureDataCenter_s |текст |Центр обработки данных, где находится хранилище |
| StorageReplicationType_s |текст |Тип репликации хранилища, например геоизбыточная |
| SourceSystem |текст |Исходная система текущих данных (Azure) |
| ResourceId |текст |Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| SubscriptionId |текст |Идентификатор подписки ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceGroup |текст |Группа ресурсов ресурса (напр., Хранилище служб восстановления), для которого собираются данные |
| ResourceProvider |текст |Поставщик ресурсов, для которого собираются данные. Например, Microsoft.RecoveryServices |
| ResourceType |текст |Тип ресурса, для которого собираются данные. Например, "Хранилище" |

## <a name="next-steps"></a>Дополнительная информация
После просмотра модели данных для создания отчетов Azure Backup вы можете приступить к [созданию панели мониторинга](../log-analytics/log-analytics-dashboards.md) в Log Analytics.
