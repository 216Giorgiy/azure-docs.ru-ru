---
title: Анализ производительности запросов в службе "База данных Azure для PostgreSQL"
description: В этой статье описан компонент "Анализ производительности запросов" в службе "База данных Azure для PostgreSQL".
author: rachel-msft
ms.author: raagyema
ms.service: postgresql
ms.topic: conceptual
ms.date: 09/26/2018
ms.openlocfilehash: 1a71fb81acc91036ce12ff15f6b2762b808c7473
ms.sourcegitcommit: 71ee622bdba6e24db4d7ce92107b1ef1a4fa2600
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/17/2018
ms.locfileid: "53541627"
---
# <a name="query-performance-insight"></a>анализ производительности запросов 

**Область применения** База данных Azure для PostgreSQL 9.6 и 10

> [!IMPORTANT]
> Компонент "Анализ производительности запросов" доступен в общедоступной предварительной версии. 

Этот компонент помогает быстро определить наиболее медленно выполняющиеся запросы, их изменение со временем и ожидания каких действий влияют на них.

## <a name="permissions"></a>Разрешения
Чтобы просматривать текст запросов в анализе производительности запросов, требуются разрешения **Владельца** или **Участника**. **Модуль чтения** может просматривать графики и таблицы, но не текст запросов.

## <a name="prerequisites"></a>Предварительные требования
Чтобы компонент "Анализ производительности запросов" работал, данные должны находиться в [хранилище запросов](concepts-query-store.md).

## <a name="viewing-performance-insights"></a>Просмотр анализа производительности
Представление [анализа производительности запросов](concepts-query-performance-insight.md) на портале Azure содержит визуализации ключевых данных из хранилища запросов. 

На странице портала сервера Базы данных Azure для PostgreSQL выберите **Анализ производительности запросов** в разделе **Поддержка и устранение неполадок** в строке меню.

![Анализ производительности медленно выполняющихся запросов](./media/concepts-query-performance-insight/query-performance-insight-landing-page.png)

На вкладке **Длительные запросы** отображаются 5 наиболее частых запросов, упорядоченных по средней продолжительности выполнения и объединенных в 15-минутные интервалы. Дополнительные запросы можно выбрать в раскрывающемся списке **Количество запросов**. При этом цвета, соответствующие тому или иному идентификатору запроса на графике, могут изменяться.

Чтобы уменьшить временной интервал графика, перетащите его границу. Кроме того, для просмотра более коротких или более длинных периодов используйте соответственно значки увеличения и уменьшения масштаба.

Дополнительные сведения о медленно выполняющихся запросах за выбранный временной интервал см. в таблице под графиком.

Откройте вкладку **Статистика ожидания**, чтобы посмотреть визуализации ожидания на сервере.

![Статистика ожидания в анализе производительности запросов](./media/concepts-query-performance-insight/query-performance-insight-wait-statistics.png)

## <a name="next-steps"></a>Дополнительная информация
- Дополнительные сведения о [мониторинге и настройке](concepts-monitoring.md) см. в базе данных Azure для PostgreSQL.


