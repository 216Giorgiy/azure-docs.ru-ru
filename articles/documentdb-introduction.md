<properties title="Introduction to Microsoft Azure DocumentDB" pageTitle="Introduction to Microsoft Azure DocumentDB | Azure" description="Learn about Azure DocumentDB and its value to cloud and mobile applications. Also, learn about how it manages data, and how you can use it in application development." metaKeywords="" services="documentdb" solutions="data-management"  authors="bradsev" manager="jhubbard" editor="cgronlun" videoId="" scriptId="" />

<tags ms.service="documentdb" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="08/20/2014" ms.author="bradsev" />

 # Введение в Microsoft Azure DocumentDB

Эта статья представляет собой введение в Microsoft Azure DocumentDB для разработчиков, ИТ-специалистов и руководителей компаний. Прочитав ее, вы узнаете:  

-	Что такое Azure DocumentDB и каково ее значение для облачных и мобильных приложений
-	Как осуществляется управление данными в Azure DocumentDB
-	Как получить доступ к данным и разрабатывать приложения с помощью Azure DocumentDB
-	Где находится информация, необходимая для создания своего первого приложения Azure DocumentDB  

## Что такое Azure DocumentDB?  

Современные приложения производят, потребляют и быстро реагируют на изменение очень больших объемов данных. Эти приложения развиваются очень быстро, и так же, как и относящиеся к ним схемы данных. Поэтому разработчики все чаще выбирают базы данных NoSQL, не имеющие схемы данных, как простые, быстрые, гибкие решения для хранения и обработки данных, сохраняя при этом способность быстро менять модели данных приложений и каналы неструктурированных данных. Тем не менее, многие базы данных без схемы не позволяют выполнять нетривиальные запросы и обработку транзакций, что делает усложняет управление данными. Microsoft разработала Azure DocumentDB, чтобы предоставить возможности управления данными без схемы.

Microsoft Azure DocumentDB — это документ-ориентированная служба баз данных NoSQL, предназначенная для современных мобильных и веб-приложений. DocumentDB обеспечивает согласованное и быстрое выполнение операций чтения и записи, гибкость схемы и возможность легко масштабировать базу данных по требованию. DocumentDB позволяет выполнять сложные специальные запросы, используя диалект SQL, поддерживает хорошо определенные уровни согласованности и интеграцию языка JavaScript, обработку транзакций для нескольких документов, используя известную модель программирования хранимых процедур, триггеров и пользовательских функций. 

Azure DocumentDB изначально поддерживает документы JSON, позволяющие упростить итерации схемы приложения. Она использует повсеместно распространенные форматы JSON и JavaScript, устраняя несоответствие между системами типов приложений и схемы базы данных. Глубокая интеграция JavaScript также позволяет разработчикам эффективно выполнять логику приложения непосредственно в ядре базы данных в транзакции базы данных.

Azure DocumentDB предлагает следующие основные возможности и преимущества:

-	**Нерегламентированные запросы с синтаксисом SQL:** Хранение гетерогенных документов JSON в DocumentDB и запрос этих документов через синтаксис SQL. DocumentDB использует безблокировочную технологию индексирования с высокой степенью параллелизма и структурированием журналов для автоматического индексирования всего содержимого документов. Это позволяет формировать функционально богатые запросы в режиме реального времени без необходимости указывать подсказки для схемы, вторичные индексы или представления.

-	**Выполнение JavaScript в базе данных**: Реализация логики приложения в форме хранимым процедур, триггеров и пользовательских функций (UDF), используя стандартный JavaScript. Это позволяет логике приложения оперировать данными JSON, не беспокоясь о потере соответствия между приложением и схемой базы данных. DocumentDB предоставляет полный транзакционное выполнение логики приложения JavaScript непосредственно внутри базы данных. Глубокая интеграция JavaScript позволяет выполнять операции INSERT, REPLACE, DELETE и SELECT из кода JavaScript в изолированной транзакции. 

-	**Настраиваемые уровни согласованности:** Выбор из четырех четко определенных уровней согласованности для достижения оптимального компромисса между последовательностью и производительности. Для запросов и операций чтения, DocumentDB предлагает четыре отдельных уровня согласованности - Strong (сильная), Bounded-Staleness (ограниченная), Session (уровень сессии) и Eventual (согласованное в конечном счете). Эти разделенные и четко определенные уровни согласованности позволяют принимать обоснованные компромиссы между показателями согласованности, доступности и задержки. 

-	**Полностью управляемая:** Устранение необходимости управления базой данных и вычислительными ресурсами. В полностью управляемой службе Microsoft Azure, вам не нужно заниматься управлением виртуальными машинами, развертыванием и настройками программного обеспечения, или иметь дело со сложными обновления на уровне данных. Каждая база данных автоматически сохраняется и защищается от региональных сбоев. Вы можете легко добавлять учетные записи и подготавливать необходимую емкость DocumentDB, что позволяет сосредоточиться на приложении, а не на вопросах эксплуатации и управления базой данных.

-	**Гибко масштабируемая пропускная способность и объем хранения:** DocumentDB легко масштабируется вверх или вниз для удовлетворения потребностей ваших приложений. Масштабирование производится с помощью точных единиц объемов хранилища на базе SSD и пропускной способности. Вы можете гибко масштабировать DocumentDB с предсказуемым уровнем производительности путем приобретения дополнительных единиц емкости, по мере роста вашего приложение. 

-	**Открытый дизайн:** Быстрое начало работы на основе имеющихся навыков и средств. Программирование DocumentDB является простым и доступным и не требует изучения новых средств или пользовательских расширений для JSON или JavaScript. Вы можете получить доступ ко всей функциональности базы данных, включая CRUD, запросы и обработку JavaScript через простой RESTful-интерфейс HTTP. DocumentDB охватывает существующие форматы, языки и стандарты, предлагая широкие возможности базы данных.

Вы можете использовать Azure DocumentDB для хранения гибких наборов данных, которые требуют запросы на извлечение и обработку транзакций. Сценарии применения могут включать пользовательские данные для интерактивных веб- и мобильных приложений, а также для хранения, поиска и обработки данных JSON для приложений. База данных может хранить любое количество документов JSON, например DocumentDB хорошо подходит для приложений, работающих в интернет-масштабе.

 ## Ресурсы Azure DocumentDB

Azure DocumentDB управляет данными с помощью четко определенных ресурсов базы данных. Эти ресурсы реплицируются для обеспечения высокой доступности и однозначно адресуются по их логическому URI. DocumentDB предлагает простую и открытую модель программирования RESTful поверх HTTP. 

Учетная запись базы данных DocumentDB — это уникальное пространство имен, предоставляющее доступ к хранилищу Azure DocumentDB. Прежде чем создавать учетную запись базы данных, необходимо оформить подписку Azure, которая представляет собой план, дающий доступ к различным службам Azure. 

Все ресурсы в Azure DocumentDB моделируются и хранится в виде документов JSON. Ресурсами управляются как элементы, которые представляют собой документы JSON, содержащие метаданные и как потоки, которые представляют собой коллекции элементов. Наборы элементов содержатся внутри соответствующих потоков.

На рисунке ниже показаны отношения между ресурсами Azure DocumentDB:

![][1] 

Учетная запись базы данных состоит из набора баз данных, каждая из которых содержит несколько коллекций, каждая из которых в свою очередь содержит хранимые процедуры, триггеры, определяемые пользователем функции, документы и соответствующие вложения. База данных также имеет связанных с ней пользователей, каждый из которых обладает набором разрешений для доступа к коллекциям, хранимым процедурам, триггерам, определяемым пользователем функциям, документам и вложениям. В то время как базы данных, пользователи, разрешения и коллекции являются определяемыми системой ресурсами с известными схемами, документы и вложения содержат произвольный, определяемый пользователем контент в формате JSON.

## 	Разработка для Azure DocumentDB

Azure DocumentDB предоставляет ресурсы через интерфейс API REST, который можно вызвать с помощью любого языка, позволяющего отправлять запросы HTTP или HTTPS. Кроме того, Azure DocumentDB предлагает библиотеки программирования для нескольких распространенных языков. Эти библиотеки упрощают многие аспекты работы с Azure DocumentDB, обрабатывая такие процессы, кэширование адресов, управление исключениями, автоматические повторы, и т. д. В настоящее время доступны библиотеки для следующих языков и платформ (другие находятся на стадии подготовки):

- [.NET](http://go.microsoft.com/fwlink/?LinkID=402989)  
-	[Node.js](http://go.microsoft.com/fwlink/?LinkID=402990)
-	[JavaScript](http://go.microsoft.com/fwlink/?LinkID=402991)
-	[Python](http://go.microsoft.com/fwlink/?LinkID=402992)

Помимо основных операций создания, чтения, обновления и удаления данных, Azure DocumentDB обеспечивает богатый интерфейс запросов SQL для извлечения документов JSON и поддержку транзакционного исполнения логики приложения JavaScript на стороне сервера. Интерфейсы выполнения запросов и сценарий доступны во всех библиотеках платформы, а также через интерфейс API REST.

### Запросы SQL

Azure DocumentDB поддерживает запрос документов, используя язык SQL, который уходит своими корнями в системе типов и выражений JavaScript с поддержкой развитых иерархических запросов. Язык запросов DocumentDB является простым, но мощным интерфейсом для запроса документов JSON. Язык поддерживает грамматику подмножества ANSI SQL и добавляет глубокую интеграцию объектов, массивов, создания объектов и вызова функций JavaScript. DocumentDB предоставляет свою модель запросов без явных схем или подсказок индексации от разработчика.

Пользовательские функции (UDF) могут быть зарегистрированы в Azure DocumentDB и ссылаться как часть SQL-запроса, тем самым расширяя грамматику для поддержки логики пользовательского приложения. Эти пользовательские функции записываются в виде программ JavaScript и выполняются в базе данных.

Для разработчиков .NET, Azure DocumentDB также предлагает поставщика запроса LINQ как часть пакета .NET SDK.

### Транзакции и выполнение JavaScript

Azure DocumentDB позволяет реализовывать логику приложения в виде программ, написанных полностью на JavaScript. Эти программы регистрируются в коллекции и поддерживают операции с документами базы данных в пределах данной коллекции. Приложение JavaScript может быть зарегистрировано для исполнения в качестве триггера, хранимой процедуры или пользовательской функции (UDF). Триггеры и хранимые процедуры могут создавать, читать, обновлять и удалять документы, в то время как пользовательские функции выполняются в рамках запроса без доступа на запись в коллекции.

Выполнение JavaScript в DocumentDB моделируется по принципам, поддерживаемым системами реляционных баз данных, с JavaScript в качестве современный замены T-SQL. Вся логика JavaScript выполняется в транзакции ACID с изоляцией моментального снимка. В ходе исполнения, если JavaScript генерирует исключение, то вся транзакция прерывается.

## Дальнейшие действия

Приступая к работе с Azure DocumentDB, изучите следующие ресурсы:
-	[Принципы DocumentDB](/documentation/articles/documentdb-resources/)
-	[Взаимодействие с DocumentDB](/documentation/articles/documentdb-interactions-with-resources/)
-	[Создание учетной записи базы данных](/documentation/articles/documentdb-create-account/)
-	[Начало работы с DocumentDB](/documentation/articles/documentdb-get-started/)

[1]: ./media/documentdb-introduction/intro.png
