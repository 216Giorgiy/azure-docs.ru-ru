<properties 
	pageTitle="Обзор гибридных подключений | Azure" 
	description="Сведения о гибридных подключениях, в том числе о безопасности, TCP-портах и поддерживаемых конфигурациях. MABS, WABS" 
	services="biztalk-services" 
	documentationCenter="" 
	authors="MandiOhlinger" 
	manager="dwrede" 
	editor="cgronlun"/>

<tags 
	ms.service="biztalk-services" 
	ms.workload="integration" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="02/17/2015" 
	ms.author="mandia"/>



# Обзор гибридных подключений
В данном разделе представлены гибридные подключения, список поддерживаемых конфигураций и список необходимых портов TCP. В частности:

- [Что такое гибридное подключение](#HCOverview)
- [Поддерживаемые конфигурации](#KnownIssues)
- [Безопасность и порты](#HCSecurity)

##<a name="HCOverview"></a>Что такое гибридное подключение

Гибридное подключение обеспечивает простой и удобный способ подключения веб-сайтов Azure и мобильных служб Azure к локальным ресурсам. Это подключение - компонент служб Azure BizTalk:

![Hybrid Connections][HCImage]

К преимуществам гибридных подключений относятся:

- веб-сайты и мобильные службы получают безопасный доступ к существующим локальным данным и службам;
- несколько веб-сайтов или мобильных служб могут одновременно использовать гибридное подключение для доступа к локальному ресурсу; 
- для доступа к сети требуется минимальное количество портов TCP.
- приложения, использующие гибридные подключения, имеют доступ только к определенным локальным ресурсам, опубликованным через гибридное подключение;
- вы можете подключиться к любому локальному ресурсу, который использует статический TCP-порт: например, SQL Server, MySQL, веб-интерфейсы API HTTP и большинство настраиваемых веб-служб.

> [WACOM.NOTE] Службы на базе протокола TCP, использующие динамические порты (такие как пассивным режим FTP или расширенный пассивный режим), в настоящее время не поддерживаются.

- можно использовать со всеми платформами, поддерживаемыми веб-сайтами Azure (.NET, PHP, Java, Python, Node.js) и мобильными службами Azure (Node.js, .NET);
- веб-сайты и мобильные службы могут осуществлять доступ к локальным ресурсам таким же образом, как если бы веб-сайт или мобильная служба находились в вашей локальной сети. Например, одна и та же строка подключения может использоваться как локально, так и в Azure.


Гибридные подключения также обеспечивают администраторам предприятия управление и видимость корпоративных ресурсов, к которым осуществляется доступ со стороны гибридных приложений, включая:

- Используя групповые политики, администраторы могут предоставлять доступ гибридным подключениям к сети и задавать ресурсы, которые будут доступны гибридным приложениям.
- Журналы события и аудита корпоративной сети обеспечивают видимость ресурсов, к которым осуществляется доступ гибридными подключениями.


##<a name="KnownIssues"></a>Поддерживаемые конфигурации

Гибридные подключения поддерживают следующие комбинации платформ и приложений:

- доступ из .NET к SQL Server;
- доступ из .NET к службам HTTP/HTTPS с веб-клиентом;
- доступ из PHP к SQL Server, MySQL;
- доступ из Java к SQL Server, MySQL и Oracle;
- доступ из Java к службам HTTP/HTTPS.

При использовании гибридных подключений для доступа к локальному SQL Server, учитывайте следующее:

- Именованные экземпляры SQL Express должны быть настроены для использования статических портов. По умолчанию именованные экземпляры SQL Express используют динамические порты.
- Экземпляр SQL Express по умолчанию использует статический порт, однако необходимо разрешить использование протокола TCP. По умолчанию протокол TCP отключен.
- При использовании кластеризации или групп доступности режим MultiSubnetFailover=true в настоящее время не поддерживается.
- ApplicationIntent=ReadOnly в настоящее время не поддерживается.
- Проверка подлинности SQL может понадобиться в том случае, если сквозная проверка подлинности поддерживается приложением Azure и локальным SQL server.


##<a name="HCSecurity"></a>Безопасность и порты

Гибридные подключения используют авторизацию с помощью подписанного URL-адреса (SAS), чтобы гарантировать безопасность подключений от приложений Azure и локального диспетчера гибридных подключений к гибридному подключению. Для приложения и локального диспетчера гибридных подключений создаются отдельные ключи подключения. Эти ключи можно выпускать и отзывать независимо друг от друга.

Гибридные подключения обеспечивают простое и безопасное распределение ключей приложениям и локальному диспетчеру гибридных подключений. 

Ознакомьтесь со статьей [Создание гибридных подключений и управление ими](http://azure.microsoft.com/documentation/articles/integration-hybrid-connection-create-manage). 

**Авторизация приложения осуществляется отдельно от гибридного подключения**. Можно использовать любой подходящий метод авторизации. Метод авторизации зависит от сочетания сквозных методов авторизации, поддерживаемых в облаке Azure и локальных компонентах. Например, приложение Azure осуществляет доступ к локальному SQL Server. В этом сценарии авторизация SQL может быть сквозным методом авторизации.

####Порты TCP
Гибридные подключения требуют только исходящее подключение по протоколу TCP или HTTP из частной сети. Вам не нужно открывать какие-либо порты брандмауэра или изменять параметры конфигурации сети, чтобы разрешить исходящее подключение к своей сети.

Гибридные подключения используют следующие TCP-порты:

<table border="1">
    <tr>
       <th><strong>Порт</strong></th>
        <th>Назначение</th>
    </tr>
    <tr>
        <td>80</td>
        <td>Порт HTTP; используется для проверки сертификата.</td>
    </tr>
    <tr>
        <td>443</td>
        <td>Порт HTTPS</td>
    </tr>
	<tr>
        <td>5671</td>
        <td>Используется для подключения к Azure. Если TCP-порт 5671 недоступен, то используется порт 443.</td>
	</tr>
	<tr>
        <td>9352</td>
        <td>Используется для передачи и извлечения данных. Если TCP-порт 9352 недоступен, то используется порт 443.</td>
	</tr>
</table>


## Далее

- [Создание гибридных подключений и управление ими](http://azure.microsoft.com/documentation/articles/integration-hybrid-connection-create-manage)
- [Подключение веб-сайта Azure к локальному ресурсу](http://go.microsoft.com/fwlink/p/?LinkId=397538)
- [Пошаговое создание гибридного подключения: подключение к локальному SQL Server с веб-сайта Azure](http://go.microsoft.com/fwlink/?LinkID=397979)
- [Мобильные службы Azure и гибридные подключения](http://azure.microsoft.com/documentation/articles/mobile-services-dotnet-backend-hybrid-connections-get-started)


## См. также

- [API-интерфейс REST для управления службами BizTalk в Windows Azure](http://msdn.microsoft.com/library/azure/dn232347.aspx)
- [Службы BizTalk: Диаграмма выпусков](http://go.microsoft.com/fwlink/p/?LinkID=302279)<br/>
- [Создание службы BizTalk с помощью портала управления Azure](http://go.microsoft.com/fwlink/p/?LinkID=302280)<br/>
- [Службы BizTalk: вкладки "Панель мониторинга", "Монитор" и "Масштаб"](http://go.microsoft.com/fwlink/p/?LinkID=302281)<br/>

[HCImage]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionImage.png
[HybridConnectionTab]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionTab.png
[HCOnPremSetup]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionOnPremSetup.png
[HCManageConnection]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionManageConn.png

<!--HONumber=46--> 
