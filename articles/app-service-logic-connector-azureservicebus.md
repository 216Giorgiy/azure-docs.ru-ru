<properties 
   pageTitle="Приложение API соединителя служебной шины Azure" 
   description="Использование соединителя служебной шины Azure" 
   services="app-service\logic" 
   documentationCenter=".net,nodejs,java" 
   authors="anuragdalmia" 
   manager="dwrede" 
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration" 
   ms.date="03/31/2015"
   ms.author="adgoda"/>


# Использование соединителя служебной шины Azure в приложении логики #

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока. 

Соединитель служебной шины Azure позволяет получать и отправлять сообщения в очередь/раздел/подписку.

## Создание соединителя служебной шины Azure для приложения логики ##
Чтобы использовать соединитель служебной шины Azure, необходимо предварительно создать экземпляр приложения API соединителя служебной шины Azure. Это можно сделать следующим образом.

1.	Откройте Azure Marketplace, нажав кнопку "+ СОЗДАТЬ" в нижнем левом углу портала Azure.
2.	Перейдите в раздел "Мобильные и веб-приложения > Приложения API" и выполните поиск элемента "Соединитель служебной шины Azure".
3.	Настройте соединитель служебной шины Azure следующим образом.
 
	![][1]
	- **Расположение** - выберите географическое расположение, где планируется развернуть соединитель.
	- **Подписка** - выберите подписку, в которой нужно создать соединитель.
	- **Группа ресурсов** - выберите или создайте группу ресурсов, в которой следует разместить соединитель.
	- **План веб-хостинга** - выберите или создайте план веб-хостинга.
	- **Ценовая категория** - выберите ценовую категорию для соединителя.
	- **Имя** - задайте имя для этого соединителя служебной шины Azure.
	- **Параметры пакета**
		- **Строка подключения** - строка подключения для служебной шины Azure. Пример: конечная точка=sb://[пространство имен].servicebus.windows.net;SharedAccessKeyName=[имя];SharedAccessKey=[ключ]
		- **Имя сущности** - имя очереди или раздела.
		- **Имя подписки** - имя для получения сообщений из подписки. 

4.	Нажмите кнопку "Создать". Будет создан новый соединитель служебной шины Azure.
5.	После создания экземпляра приложения API можно создать приложение логики в той же группе ресурсов для использования соединителя служебной шины Azure. 

## Использование соединителя служебной шины Azure в приложении логики ##
После создания приложения API можно использовать соединитель служебной шины Azure в качестве триггера или действия для своего приложения логики. Для этого необходимо выполнить следующие действия.

1.	Создайте новое приложение логики и выберите ту же группу ресурсов, которую имеет соединитель служебной шины Azure.
 
	![][2]
2.	Откройте раздел "Триггеры и действия", чтобы открыть конструктор приложений логики и настроить поток. 
 
	![][3]
3.	Соединитель служебной шины Azure должен отображаться в разделе "Приложения API в этой группе ресурсов" в коллекции с правой стороны.
 
	![][4]
4. Можно удалить приложение API соединителя служебной шины Azure в редакторе, выбрав "Соединитель служебной шины Azure".
 
5.	Теперь можно использовать соединитель служебной шины Azure в потоке. Теперь вы можете использовать сообщение, извлеченное из триггера служебной шины Azure ("Доступные сообщения"), в других действиях в потоке.
 
	![][5]
	![][6] 
6.	Также можно использовать действие "Отправить сообщение" служебной шины Azure для отправки сообщения

	![][7]
	![][8]


<!--Image references-->
[1]: ./media/app-service-logic-connector-azureservicebus/img1.PNG
[2]: ./media/app-service-logic-connector-azureservicebus/img2.PNG
[3]: ./media/app-service-logic-connector-azureservicebus/img3.png
[4]: ./media/app-service-logic-connector-azureservicebus/img4.PNG
[5]: ./media/app-service-logic-connector-azureservicebus/img5.PNG
[6]: ./media/app-service-logic-connector-azureservicebus/img6.PNG
[7]: ./media/app-service-logic-connector-azureservicebus/img7.PNG
[8]: ./media/app-service-logic-connector-azureservicebus/img8.PNG


<!--HONumber=52-->