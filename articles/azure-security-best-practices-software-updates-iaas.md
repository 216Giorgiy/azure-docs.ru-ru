<properties
   pageTitle="Рекомендации по обновлению программного обеспечения в Microsoft Azure IaaS | Microsoft Azure"
   description="Эта статья содержит рекомендации по обновлениям программного обеспечения в среде Microsoft Azure IaaS. Она предназначена для ИТ-специалистов и аналитиков по вопросам безопасности, ежедневно сталкивающихся с управлением изменениями, обновлением ПО и управлением ресурсами, в том числе для сотрудников, отвечающих за меры безопасности и соответствие требованиям в организации."
   services="virtual-machines, cloud-services, storage"
   documentationCenter="na"
   authors="YuriD"
   manager="swadhwa"
   editor=""
   tags="azure-service-management,azure-resource-manager"/>

<tags
   ms.service="azure-security"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="03/22/2016"
   ms.author="yurid"/>

#Рекомендации по обновлению программного обеспечения в Microsoft Azure IaaS

Прежде чем углубляться в обсуждение рекомендаций для среды Azure IaaS, давайте разберемся с ситуациями, в которых вы можете управлять обновлениями программного обеспечения. В этом вам поможет следующая схема.

![Облачные модели и сферы ответственности](./media/azure-security-best-practices-software-updates-iaas/sec-cloudstack.png)

В традиционной модели центра данных, где вся инфраструктура расположена в локальной среде, вы несете полную ответственность за обновление операционных систем, приложений, сетевых устройств (маршрутизаторы, коммутаторы и т. д.) и оборудования (встроенное ПО). В случае с инфраструктурой как услугой (IaaS) вам все так же нужно обновлять операционные системы и приложения. Однако всей инфраструктурой, лежащей в их основе, управляет Майкрософт. Во всех этих моделях пользователи по-прежнему владеют своими данными и продолжают нести ответственность за их защиту на уровне конечных точек.

В случае с платформой как услугой (PaaS) у вас будет меньше задач по обновлению программного обеспечения, так как обновлениями операционных систем занимается Майкрософт. Если программное обеспечение предоставляется как услуга (SaaS), вся ответственность за обновления программного обеспечения ложится на Майкрософт.

Эти же принципы сохраняются и в гибридных средах, когда компания использует виртуальные машины Azure IaaS, взаимодействующие с локальными ресурсами (см. рисунок ниже).

![Типичная гибридная среда, в которой используется Microsoft Azure](./media/azure-security-best-practices-software-updates-iaas/sec-azconnectonpre.png)

## Начальная оценка

Даже если в вашей компании уже используется система управления обновлениями и есть политика обновления программного обеспечения, вам необходимо регулярно пересматривать предыдущие оценки политик и обновлять их в соответствии со своими текущими требованиями. Это означает, что вам необходимо быть в курсе текущего состояния ресурсов в вашей компании. Для этого вам необходимо знать:

-   какие физические и виртуальные компьютеры есть на вашем предприятии;

-   какая операционная система (включая ее версию) установлена на каждом из этих физических и виртуальных компьютеров;

-   какие обновления программного обеспечения установлены на каждом компьютере (версии пакетов обновлений, обновления программного обеспечения и другие модификации);

-   какие функции выполняет каждый компьютер в вашей организации;

-   какие приложения и программы установлены на каждом компьютере;

-   кто владелец каждого компьютера и его контактные данные;

-   какие ресурсы есть в вашей среде и какова их относительная ценность (это помогает определить, какие области требуют максимального внимания и защиты);

-   какие известные проблемы безопасности существуют в вашей организации, а также какие процессы используются на вашем предприятии для определения новых проблем безопасности и необходимых изменений в защите;

-   какие меры противодействия приняты для защиты вашей среды.

Эти сведения должны регулярно обновляться и быть доступными для всех, кто участвует в управлении обновлениями программного обеспечения.

## Определение исходной конфигурации

Важной частью управления обновлениями программного обеспечения является создание первоначальных стандартных установочных пакетов для всех версий операционных систем, приложений и компьютерного оборудования на предприятии. Это называется определением исходной конфигурации. Исходная конфигурация — это конфигурация продукта или системы, установленная в определенный момент времени. К примеру, исходная конфигурация приложения или операционной системы предусматривает возможность восстановления компьютера или службы в определенном состоянии.

Исходные конфигурации служат основой для поиска и устранения потенциальных проблем и упрощают процесс управления обновлениями программного обеспечения. Исходные конфигурации уменьшают количество обновлений, которые необходимо развернуть на предприятии, и предоставляют вам больше возможностей для контроля соответствия требованиям.

Выполнив начальный аудит предприятия, используйте полученные сведения для определения исходных рабочих конфигураций ИТ-компонентов в рабочей среде. В зависимости от того, какие типы оборудования и программного обеспечения развернуты в рабочей среде, вам может потребоваться несколько исходных конфигураций.

Например, для некоторых серверов под управлением Windows Server 2012 требуется обновление программного обеспечения, которое предотвращает ситуации, когда компьютер при завершении работы перестает отвечать на запросы. Это обновление программного обеспечения должно входить в исходную конфигурацию таких серверов.

В больших организациях часто бывает полезно разделить компьютеры на категории ресурсов и поддерживать для каждой категории стандартную исходную конфигурацию, используя одни и те же версии программ и обновлений ПО. Затем эти категории можно использовать для определения очередности обновления программного обеспечения.

## Подписка на соответствующие службы уведомлений об обновлениях ПО

После проведения начального аудита программного обеспечения, используемого в вашей организации, вам нужно определить оптимальный метод получения уведомлений о новых обновлениях для каждого программного продукта и версии ПО. В зависимости от программного продукта это могут быть уведомления по электронной почте, веб-сайты или публикации на компьютерную тематику.

Например, центр Microsoft Security Response Center (MSRC) содержит ответы на все вопросы, связанные с безопасностью продуктов Майкрософт, и предоставляет бюллетень безопасности Microsoft — бесплатную электронную рассылку о недавно обнаруженных уязвимостях и обновлениях программного обеспечения, выпущенных для устранения этих уязвимостей. Вы можете подписаться на эту рассылку на странице http://www.microsoft.com/technet/security/bulletin/notify.mspx.

## Рекомендации по обновлению программного обеспечения

После проведения начального аудита программного обеспечения, используемого в вашей организации, вам нужно определить требования для настройки системы управления обновлениями ПО. Эти требования зависят от используемой системы управления обновлениями программного обеспечения. Если это службы WSUS, см. статью [Best Practices with Windows Server Update Services](https://technet.microsoft.com/library/Cc708536). Если это System Center, см. статью [Планирование обновления программного обеспечения в Configuration Manager](https://technet.microsoft.com/library/gg712696).

Однако существуют некоторые общие соображения и рекомендации, которые можно применять независимо от используемого решения. Речь об этом пойдет в следующих разделах.

### Настройка среды

Вот некоторые рекомендации, с помощью которых можно настроить среду для управления обновлениями программного обеспечения.

-   **Создайте коллекции обновлений рабочего программного обеспечения на основе постоянных критериев**. В целом создание коллекций для инвентаризации и распространения обновлений программного обеспечения с помощью постоянных критериев поможет упростить все этапы процесса управления обновлениями ПО. К постоянным критериям может относиться версия операционной системы и уровень пакета обновления, установленных на клиентском компьютере, а также системная роль или целевая организация.

-   **Создайте предварительные коллекции, в которые войдут компьютеры-образцы**. Предварительная коллекция должна включать репрезентативные конфигурации версий операционных систем, бизнес-приложений и другого программного обеспечения, работающего в вашей организации.

Следует также продумать, где будет размещаться сервер обновлений ПО — в облачной инфраструктуре Azure IaaS или в локальной среде. Это важное решение, так как вам нужно оценить объем трафика между локальными ресурсами и инфраструктурой Azure. Дополнительные сведения о подключении локальной инфраструктуры к Azure см. в статье [Подключение локальной сети к виртуальной сети Microsoft Azure](https://technet.microsoft.com/library/Dn786406.aspx).

Архитектура, определяющая расположение сервера обновлений, также будет зависеть от вашей текущей инфраструктуры и используемой системы обновления программного обеспечения. Если это службы WSUS, см. статью [Развертывание в организации служб Windows Server Update Services](https://technet.microsoft.com/library/hh852340.aspx). Если это System Center Configuration Manager, см. статью [Планирование сайтов и иерархий в Configuration Manager](https://technet.microsoft.com/library/Gg712681.aspx).

### Резервное копирование

Регулярное резервное копирование важно не только для самой платформы управления обновлениями, но и для серверов, которые будут обновляться. В организациях, где используется [процесс управления изменениями](https://technet.microsoft.com/library/cc543216.aspx), сотрудники ИТ-отдела должны указывать причины обновления сервера, примерное время простоя и возможные последствия. Обязательно имейте в наличии конфигурацию, к которой можно откатиться в случае сбоя обновления. Для этого регулярно создавайте резервные копии системы.

Вот некоторые варианты резервного копирования для Azure IaaS:

-   [Защита операций в Azure IaaS с помощью Data Protection Manager.](https://azure.microsoft.com/blog/2014/09/08/azure-iaas-workload-protection-using-data-protection-manager/)

-   [Резервное копирование виртуальных машин Azure](./backup/backup-azure-vms.md)

### Мониторинг

Вам следует создавать регулярные отчеты для отслеживания количества отсутствующих, установленных или незавершенных обновлений для каждого авторизованного обновления ПО. Аналогичным образом отчеты по еще не авторизованным обновлениям программного обеспечения могут упростить принятие решений о развертывании.

Также рекомендуем выполнять следующие задачи:

-   Проводите аудит применимых и установленных обновлений для системы безопасности на всех компьютерах в организации.

-   Авторизуйте и развертывайте обновления на соответствующих компьютерах.

-   Отслеживайте оборудование и обновляйте состояние и ход выполнения установки для всех компьютеров в организации.

В дополнение к общим рекомендациям, изложенным в этой статье, необходимо также учитывать рекомендации для каждого конкретного продукта. Например, при наличии виртуальной машины Azure с SQL Server, следуйте рекомендациям по обновлению программного обеспечения именно для этого продукта.

## Дальнейшие действия

Рекомендации, приведенные в этой статье, помогут вам определить оптимальные параметры обновлений программного обеспечения для виртуальных машин в Azure IaaS. Рекомендации по обновлениям программного обеспечения в традиционных центрах обработки данных и Azure IaaS во многом сходны, поэтому советуем оценить текущие политики обновлений программного обеспечения и добавить в них виртуальные машины Azure, а также включить применимые рекомендации из этой статьи в общий процесс обновления программного обеспечения.

<!---HONumber=AcomDC_0323_2016-->