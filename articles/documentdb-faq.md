<properties title="Frequently asked questions about DocumentDB" pageTitle="Frequently asked questions about DocumentDB | Azure" description="Answers to frequently asked questions about Azure DocumentDB databases. Learn about capacity and request units, and understand how to scale to your application needs." metaKeywords="NoSQL, DocumentDB,  database, document-orientated database, JSON, faq"   services="documentdb" solutions="data-management"   authors="bradsev" manager="paulettm" editor="cgronlun" videoId="" scriptId="" />

<tags ms.service="documentdb" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="08/20/2014" ms.author="bradsev"></tags>

# Вопросы и ответы по DocumentDB

## Содержание

-   [Основы Azure DocumentDB][Основы Azure DocumentDB]
-   [Установка Azure DocumentDB][Установка Azure DocumentDB]
-   [Разработка для Azure DocumentDB][Разработка для Azure DocumentDB]

## <span id="fundamentals"></span></a> Основы Azure DocumentDB

### Что такое Microsoft Azure DocumentDB?

Microsoft Azure DocumentDB — это база данных документов NoSQL с высоким уровнем масштабируемости, предоставляемая как услуга. DocumentDB предлагает функционально богатые запросы данных без схемы, помогает предоставлять настраиваемую и надежную производительность, а также позволяет быструю разработку — все это благодаря управляемой платформе, снабженной мощностью и широтой Microsoft Azure. DocumentDB представляет собой отличное решение для веб-приложений и мобильных приложений, ключевыми характеристиками которого являются предсказуемая пропускная способность, низкий уровень задержки и модель данных без схемы. DocumentDB обеспечивает гибкость схемы и обширные возможности индексирования посредством встроенной модели данных JSON и включает поддержку транзакций нескольких документов с интегрированным JavaScript.

Инструкции по развертыванию и использованию этой службы см. на [странице документации по DocumentDB][странице документации по DocumentDB].

### К какому виду принадлежит база данных DocumentDB?

DocumentDB — это база данных NoSQL, предназначенная для использования с документами, данные в которой хранятся в формате JSON. DocumentDB поддерживает вложенные структуры автономных данных, которые можно запрашивать с использованием многофункциональной грамматики запросов SQL DocumentDB. DocumentDB обеспечивает высокопроизводительную транзакционную обработку JavaScript на стороне сервера с помощью хранимых процедур, триггеров и пользовательских функций. Эта база данных также поддерживает настраиваемые разработчиками уровни согласованности со связанными уровнями производительности.

### Имеются ли в базах данных DocumentDB таблицы, как в реляционных СУБД?

Нет, в DocumentDB данные хранятся в коллекциях документов JSON. Дополнительные сведения о ресурсах DocumentDB см. в статье, посвященной модели ресурсов и основным понятиям DocumentDB.

### Поддерживают ли базы данных DocumentDB данные без схемы?

Да, DocumentDB позволяет приложениям хранить произвольные документы JSON без определения схемы и без указаний. Данные немедленно становятся доступными для запроса с помощью интерфейса запросов SQL DocumentDB.

### Поддерживает ли DocumentDB транзакции ACID?

Да, DocumentDB поддерживает транзакции между документами, выраженные в виде хранимых процедур и триггеров JavaScript. Транзакции объединяются в одну коллекцию и выполняются с помощью семантики ACID только полностью, изолированно от другого параллельно выполняемого кода и запросов пользователей. Если в результате выполнения на стороне сервера кода JavaScript приложения возникает исключение, выполняется откат всей транзакции.

### Каковы типичные примеры использования DocumentDB?

DocumentDB рекомендуется использовать для новых веб-приложений или мобильных приложений, в которых большое значение имеет масштабируемость, производительность и возможность запросов данных без схемы. DocumentDB хорошо подходит для быстрой разработки и поддержки непрерывной итерации моделей данных приложения. В качестве типичных примеров использования DocumentDB можно привести приложения, управляющие контентом и данными, которые создаются пользователями.

### Каковы ограничения масштабируемости и мощности?

Каждая учетная запись Azure DocumentDB поддерживает максимальное число единиц мощности, которое можно настроить на портале Azure. Если требуются дополнительные единицы мощности, обратитесь в службу поддержки, чтобы увеличить квоту учетной записи. Дополнительные сведения о квотах ресурсов см. в статье, посвященной ограничениями службы DocumentDB.

### Какова стоимость Microsoft Azure DocumentDB?

Подробные сведения см. в статье [DocumentDB. Сведения о ценах][DocumentDB. Сведения о ценах].

## <span id="setup"></span></a> Установка Azure DocumentDB

### Как зарегистрироваться для Microsoft Azure DocumentDB?

Microsoft Azure DocumentDB (предварительная версия) доступна на новом портале предварительной версии Azure. Сначала необходимо зарегистрироваться для получения подписки Microsoft Azure. После регистрации можно добавить учетную запись DocumentDB в подписку Azure с помощью коллекции.

### Что такое главный ключ?

Главный ключ — это токен безопасности для доступа ко всем ресурсам учетной записи. Пользователи с этим ключом имеют доступ на чтение и запись во всех ресурсах в учетной записи базы данных. Поэтому при распространении главных ключей необходимо соблюдать осторожность.

### Как создать базу данных?

Базы данных можно создавать с помощью одного из пакетов SDK DocumentDB или с помощью интерфейсов API REST. Сведения о разработке приложений см. в разделе "Разработка" на [странице документации по DocumentDB][странице документации по DocumentDB].

### Что такое коллекция?

Коллекция представляет собой контейнер документов JSON и связанную с ними логику в виде приложения JavaScript. Запросы и транзакции ограничены рамками коллекций. В одной коллекции можно хранить ряд разнородных документов JSON, причем все они индексируются автоматически.

### Существуют ли какие-либо ограничения в базах данных и коллекциях?

Каждая приобретенная единица мощности предоставляется с выделенным хранилищем базы данных и подготовленной пропускной способностью. Также предусмотрены квоты для каждого ресурса, управляемого этой службой. Дополнительные сведения см. в описании ограничений службы DocumentDB.

### Как настраивать пользователей и разрешения?

Пользователей и разрешения можно создавать с помощью одного из пакетов SDK DocumentDB или с помощью интерфейсов API REST. Подробные сведения о разработке приложений см. в разделе "Разработка" на [странице документации по DocumentDB][странице документации по DocumentDB]. .

## <span id="develop"></span></a>Разработка для Azure DocumentDB

### Как начать разработку для DocumentDB?

В предварительной версии предусмотрены пакеты SDK для .NET, Python, Node.js и JavaScript. Разработчики также могут использовать API HTTP RESTful для взаимодействия с ресурсами DocumentDB на множестве платформ и языков. Подробные сведения об использовании этих пакетов SDK см. в разделе "Разработка" на [странице документации по DocumentDB][странице документации по DocumentDB].

### Поддерживается ли SQL в DocumentDB?

Язык запросов SQL DocumentDB предоставляет функционально богатые иерархические операторы и операторы отношения, а также возможности расширения посредством JavaScript на основе пользовательских функций (UDF). Грамматика JSON позволяет моделирование документов JSON как деревьев с метками, как для узлов дерева — этот факт используется как методами автоматического индексирования DocumentDB, так и диалектом запросов SQL DocumentDB. Подробные сведения об использовании грамматики SQL см. в статье [Запросы с использованием SQL DocumentDB][Запросы с использованием SQL DocumentDB].

### Какие типы данных поддерживаются DocumentDB?

В DocumentDB поддерживаются те же простые типы данных, что и в JSON. JSON имеет систему простых типов, состоящую из типов данных String (строки), Number (числа IEEE754 с двойной точностью), Boolean (true и false) и Null (пустые значения). Более сложные типы данных, такие как DateTime, Guid, Int64 и Geometry, могут быть представлены в JSON и DocumentDB посредством создания вложенных объектов с помощью оператора { } и массивов с помощью оператора [ ].

### Каким образом DocumentDB обеспечивает согласованность?

DocumentDB поддерживает оптимистическое управление параллелизмом (OCC) посредством тегов объектов HTTP или тегов ETag. Каждый ресурс DocumentDB имеет ETag, и клиенты DocumentDB включают тег, указывающий последнюю прочитанную версию, в запросы записи. Если значение ETag актуально, изменение фиксируется. Если это значение изменялось извне, сервер отклоняет запрос записи с кодом ответа "HTTP 412 Precondition failure" (Необходимое условие не выполнено). Клиенты должны прочесть последнюю версию ресурса и повторить запрос.

### Как выполнять транзакции в DocumentDB?

DocumentDB поддерживает транзакции LINQ посредством хранимых процедур и триггеров JavaScript. Все операции базы данных в скриптах выполняются в изоляции моментального снимка в рамках коллекции. Моментальный снимок версий документов (ETag) выполняется в начале транзакции и фиксируется только в случае успешного выполнения скрипта. Если JavaScript выдает ошибку, выполняется откат транзакции.

### Как выполнять массовую вставку документов в DocumentDB?

Поддержка хранимых процедур в DocumentDB обеспечивает эффективные возможности массовых вставок. Массовые вставки можно выполнять, разработав простую хранимую процедуру JavaScript, которая принимает и вставляет документы. Этот способ имеет дополнительное преимущество, состоящее в том, что массовая вставка будет выполняться как транзакция, что гарантирует согласованное состояние коллекции. Подробные сведения о модели программирования см. в разделе "Разработка" на [странице документации по DocumentDB][странице документации по DocumentDB].

### Поддерживается ли в DocumentDB кэширование ссылок на ресурсы?

Да, поскольку DocumentDB — это служба RESTful, ссылки на ресурсы являются неизменяемыми и могут кэшироваться. Клиенты DocumentDB могут задавать заголовок "If-None-Match" для операций чтения в любом ресурсе, таком как документ или коллекция, и обновлять их локальные копии только при изменении версии сервера.

  [Основы Azure DocumentDB]: #fundamentals
  [Установка Azure DocumentDB]: #setup
  [Разработка для Azure DocumentDB]: #develop
  [странице документации по DocumentDB]: http://go.microsoft.com/fwlink/p/?LinkID=402319
  [DocumentDB. Сведения о ценах]: http://go.microsoft.com/fwlink/p/?LinkID=402317
  [Запросы с использованием SQL DocumentDB]: ../documentdb-sql-query/
