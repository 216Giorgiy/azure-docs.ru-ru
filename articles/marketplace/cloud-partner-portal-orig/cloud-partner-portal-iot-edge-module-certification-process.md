---
title: Сертификация модуля IoT Edge | Документация Майкрософт
description: Сертифицируйте модуль IoT Edge для Marketplace.
services: Azure, Marketplace, Cloud Partner Portal,
documentationcenter: ''
author: dan-wesley
manager: Patrick.Butler
editor: ''
ms.assetid: ''
ms.service: marketplace
ms.workload: ''
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: conceptual
ms.date: 09/19/2018
ms.author: pbutlerm
ms.openlocfilehash: c8056bd4912605a4cd3ee333b1be87d4f3a6d5ba
ms.sourcegitcommit: d4f728095cf52b109b3117be9059809c12b69e32
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2019
ms.locfileid: "54198054"
---
# <a name="the-iot-edge-module-certification-process"></a>Процесс сертификации модуля IoT Edge

В этой статье описаны шаги и требования для сертификации модуля IoT Edge для публикации в Azure Marketplace. 

>[!Note]
>Это временный документ. Marketplace для модуля IoT Edge строится в параллельном режиме, и эта статья будет заменена на общедоступную документацию.

## <a name="understanding-an-iot-edge-module"></a>Основные сведения о модуле IoT Edge

Терминология модуля.

-   **Образ модуля** — это пакет с программным обеспечением для модуля.

-   **Экземпляр модуля** — это единица вычислительных ресурсов, выполняющая образ модуля на устройстве IoT Edge. Экземпляр модуля запускается средой выполнения IoT Edge.

Модули могут также включать в себя пакет SDK для модуля Интернета вещей, в котором используется следующая терминология.

-   **Удостоверение модуля** — это сведения о модуле (включая учетные данные безопасности), которые хранятся в Центре Интернета вещей и относятся к конкретному экземпляру модуля.

-   **Двойник модуля** — это документ JSON, хранящийся в Центре Интернета вещей, который содержит данные о состоянии экземпляра модуля, в том числе метаданные, конфигурации и условия.

-   **Пакеты SDK** используются для разработки пользовательских модулей на нескольких языках, таких как C\#, C, Python, Java и Node.JS.

## <a name="the-onboarding-process-for-an-iot-edge-module"></a>Процесс подключения модуля IoT Edge

На следующем снимке экрана показан процесс, во время которого модуль IoT Edge становится общедоступным в Azure Marketplace.

![Процесс сертификации](./media/cloud-partner-portal-iot-edge-module-certification-process/onboarding-process.png)

### <a name="onboarding-step-details"></a>Пошаговые сведения о подключении

-   **Шаг 1**. Партнеры отправляют свои предложения с типом предложения **модуль IoT Edge** в средстве "Портал Cloud Partner" команде Azure Marketplace. Для доступа к средству "Портал Cloud Partner" необходимо быть официальным партнером MS. Дополнительные сведения см. в [руководстве по публикации](https://docs.microsoft.com/azure/marketplace/marketplace-publishers-guide).

-   **Шаг 2**. В Marketplace автоматически запускается проверка на наличие вирусов и вредоносных программ. На этом этапе команда разработчиков Интернета вещей может запускать пользовательские автоматизированные тесты приема.

-   **Шаг 3**. Модуль становится общедоступным. Он отображается в Marketplace, и контейнер можно извлечь из URL-адреса анонимно. Например, *marketplace.azurecr.io/module-identifier*.

## <a name="iot-edge-module-certification-criteria"></a>Условия сертификации модуля IoT Edge

Ниже приведены основные требования, которые должны быть выполнены для сертификации и публикации модуля IoT Edge в Azure Marketplace.

>[!Note]
>Эти требования могут меняться. Вы заранее будете уведомлены, и у вас будет время обновить контейнеры, чтобы они соответствовали обновленным требованиям.

### <a name="technical-requirements"></a>Технические требования

**Наличие модуля IoT Edge**

-   Сейчас в качестве модулей IoT Edge поддерживаются только совместимые с Docker контейнеры. Модуль должен быть запущен на [Moby](https://mobyproject.org/). 

    >[!Note]
    >Контейнеры Docker, скорее всего, будут работать на Moby, так как Moby является основным проектом с открытым исходным кодом для Docker.

-   Партнеру необходимо указать следующие параметры по умолчанию: 

    -   **tag** по умолчанию (не может быть пустым);

    -   **createOptions** по умолчанию (может быть пустым);

    -   **twin** по умолчанию при использовании пакета SDK для модуля Интернета вещей (может быть пустым);

    -   **routes** по умолчанию при использовании пакета SDK для модуля Интернета вещей (может быть пустым).

**Поддержка платформ**

-   Необходимо поддерживать только **общедоступные** платформы уровня 1 IoT Edge (как указано в [поддержке Azure IoT Edge](https://docs.microsoft.com/azure/iot-edge/support)). Например, сейчас это означает поддержку следующих сочетаний операционных систем и архитектуры.

    -   Сервер Ubuntu 18.04 для x64

    -   Сервер Ubuntu 16.04 для x64

    -   Raspbian-stretch для arm32 (armhf)

**Измерения устройств**

-   Устройством IoT Edge может быть любое устройство с размерами (ЦП/ОЗУ/хранилище/GPU и др.), эквивалентными Raspberry Pi или большими. Если модуль работает только в рамках конкретных ограничений измерения, эти ограничения необходимо указать в описании модуля.

**Параметры по умолчанию**

-   Модуль должен запускаться с готовыми параметрами по умолчанию для каждой поддерживаемой платформы (ОС + архитектура).

-   Параметры конфигурации должны быть четко описаны (теги, переменные среды, двойники, маршруты). В рамках листинга партнеры могут определить описание своего модуля, который поддерживает основную разметку HTML или указывает на внешнюю веб-страницу.

**Управление версиями**

-   Клиенты должны иметь возможность выбирать, нужно ли автоматически обновлять модули, поступающие из Marketplace, или использовать ту же версию, которую они протестировали. Модули Marketplace должны следовать тому же шаблону управления версиями, что и среда выполнения IoT Edge. Например: 

    -   Последовательные теги, такие как "1.0", можно обновлять.

    -   Теги дополнительного номера версии, например "1.3.24", обновлять нельзя.

**Телеметрия**

-   Модулям, использующим пакет SDK для модуля Интернета вещей, необходимо задать уникальный идентификатор модуля, назначенный в Marketplace для целей телеметрии. Он позволяет Azure Marketplace определить количество запущенных экземпляров модуля. Этот уникальный идентификатор — это имя контейнера, назначаемое Marketplace во время приема данных. Для задания этого идентификатора используйте методы следующих пакетов SDK.
    - [C\#](https://hub.docker.com/_/mysql/)
    - [C](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
    - [Python](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
    - [Java](https://docs.microsoft.com/java/api/com.microsoft.azure.sdk.iot.device.productinfo?view=azure-java-stable)

-   Для модулей, которые не используют пакет SDK для модуля Интернета вещей, через портал Cloud Partner доступна менее точная аналитика. Например, количество загрузок.

**Безопасность**

-   Контейнеры должны иметь наименее привилегированный доступ к узлу. "Привилегированные" контейнеры должны встречаться крайне редко.

-   Частью поддержки, предоставляемой партнерами, должно быть обеспечение безопасности модулей.

**Обновления**

-   Партнеры должны обеспечивать актуальность и функциональность своих модулей. Они будут уведомлены заранее при наличии любых критических изменений, запланированных для среды выполнения IoT Edge.

**Пакет SDK для модуля Интернета вещей**

-   Включение пакета SDK для модуля Интернета вещей не является необходимым условием для сертификации.
    Но добавление пакета SDK для модуля Интернета вещей может повысить удобство работы пользователей. Например, он помогает поддерживать маршрутизацию, отправку сообщений в облако и т. д. Пакет SDK для модуля Интернета вещей необходим для получения телеметрии о количестве запущенных экземпляров модуля.

**Субъективное требование**

-   Модуль должен соответствовать по крайней мере одному варианту реального использования IoT Edge. Например, не следует подключать контейнер WordPress, если клиент не собирается использовать его из IoT Edge.

**Юридические требования (из политики AMP)**

-   Модуль должен соответствовать требованиям соглашения и политик Microsoft Azure Marketplace. Дополнительные сведения см. в прикрепленном соглашении с издателем и [политиках участия в Microsoft Azure Marketplace](https://azure.microsoft.com/support/legal/marketplace/participation-policies/).

-   Помимо соглашений и политик Azure Marketplace могут существовать дополнительные юридические требования, относящиеся к типу предложения модуля IoT Edge. Сейчас этот вопрос находится на рассмотрении.

-   Модуль должен иметь *условия использования* и *политику конфиденциальности*.

-   Также, если модуль использует какие-либо сторонние службы, он должен содержать уведомление третьих лиц.

**Требования к поддержке (из политики AMP)**

-   Партнеры отвечают за поддержку своих модулей IoT Edge. Они должны обеспечивать доступность вариантов поддержки, заданных в описании модуля IoT Edge, и постоянную доступность по крайней мере одного из них. (Дополнительные сведения см. в разделе 4 соглашения с издателем AMP.)

**Классификация**

-   Все модули IoT Edge будут отображаться в категории **Интернет вещей \>Модуль IoT Edge**. Выбор наиболее подходящей подкатегории для своего продукта остается за партнером.
