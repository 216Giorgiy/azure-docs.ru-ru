---
title: Публикация управляемого приложения Azure в Azure Marketplace
description: Публикация управляемого приложения Azure в Azure Marketplace
services: Azure, Marketplace, Cloud Partner Portal,
documentationcenter: ''
author: qianw211
manager: pbutlerm
editor: ''
ms.assetid: ''
ms.service: marketplace
ms.workload: ''
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: conceptual
ms.date: 09/13/2018
ms.author: pbutlerm
ms.openlocfilehash: 6e5bcd6d9923b4051d44d51ff1a2534bc5e02f41
ms.sourcegitcommit: 9b6492fdcac18aa872ed771192a420d1d9551a33
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2019
ms.locfileid: "54445666"
---
<a name="publish-an-azure-managed-application-to-azure-marketplace"></a>Публикация управляемого приложения Azure в Azure Marketplace 
========================================================

В этой статье описываются различные этапы публикации предложения для управляемого приложения в Azure Marketplace.

<a name="pre-requisites-for-publishing-a-managed-application"></a>Предварительные требования для публикации управляемого приложения 
---------------------------------------------------

Необходимые условия для добавления в Azure Marketplace

1.  Технические требования

    -   [Шаблоны диспетчера ресурсов Azure](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates)

    -   Шаблоны быстрого запуска Azure:

        -   <https://azure.microsoft.com/documentation/templates/>

        -   <https://github.com/azure/azure-quickstart-templates>

    -   Создание определения пользовательского интерфейса

        -   [Создание файла определения пользовательского интерфейса](https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview)

2.  Требования нетехнического характера (бизнес-требования)

    -   Ваша компания (или ее филиал) должна находиться в стране, на территории которой могут осуществляться продажи в Azure Marketplace.

    -   Продукт должен иметь лицензию совместимости с моделями выставления счетов, которые поддерживает в Azure Marketplace.

    -   Вы несете ответственность за предоставление технической поддержки для клиентов. Поддержка может быть бесплатной, платной или обеспечиваться силами сообщества.

    -   Вы несете ответственность за лицензирование программного обеспечения, а также любых зависимостей от стороннего программного обеспечения.

    -   Вам нужно предоставить маркетинговые материалы, отвечающие критериям для вашего предложения, соблюдение которых требуется для добавления приложения в Azure Marketplace и на портал управления Azure.

    -   Вам нужно принять условия политик участия и соглашения для издателей Azure Marketplace.

    -   Вам нужно принять условия использования, заявление о конфиденциальности Майкрософт и соглашение по программе сертификации Microsoft Azure.

<a name="how-to-create-a-new-azure-application-offer"></a>Как создать новое предложение приложения Azure 
-------------------------------------------

Выполнив все предварительные требования, вы можете приступить к созданию предложения для управляемого приложения. Прежде чем начать, ознакомьтесь с кратким обзором предложения и SKU.

**ПРЕДЛОЖЕНИЕ**

Предложение приложения Azure соответствует классу предложения продукта от издателя. Если у вас есть новое решение или приложение, которое нужно опубликовать в Azure Marketplace, создайте для него предложение. Предложение — это коллекция SKU. Каждое предложение отображается в виде отдельной сущности в Azure Marketplace.

**SKU**

Номер SKU — это наименьшая единица предложения, доступная для приобретения. Хотя номера SKU относятся к одному классу продукта (предложение), они позволяют разделить разные поддерживаемые функции, типы предложения (управляемое или неуправляемое) и модели выставления счетов.

Добавьте несколько SKU, если нужна поддержка различных моделей выставления счетов, таких как с использованием собственной лицензии (BYOL), с оплатой по мере использования (PAYG) и т. д. 

Добавьте несколько номеров SKU, если они поддерживают разные наборы функций и имеют разную цену.

В Azure Marketplace номер SKU отображается внутри родительского предложения, а на сайте azure.com — в качестве отдельной сущности, доступной для приобретения.

1.  Войдите на [облачный портал для партнеров](http://cloudpartner.azure.com).

2.  В левой панели навигации щелкните \"+ New offer\" (Создать предложение) и выберите \"Azure Applications\" (Приложения Azure).

    ![Новое предложение](./media/cloud-partner-portal-publish-managed-app/newOffer.png)

3.  После того как откроется представление \"Редактор\" для нового предложения, можно приступить к его созданию.

4.  \"Формы\", которые нужно заполнить, отображаются в левой части представления \"Редактор\". Каждая \"форма\" состоит из набора полей, которые нужно заполнить. Обязательные для заполнения поля отмечены красной звездочкой (\*).

    > Существует 4 основных формы для создания управляемого приложения.

    -   Параметры предложения

    -   Номера SKU

    -   Marketplace

    -   Поддержка

<a name="how-to-fill-out-the-offer-settings-form"></a>Инструкции по заполнению формы параметров предложения 
---------------------------------------

Форма параметров предложения является базовой для указания параметров предложения.
Ниже описаны ее поля.

**Идентификатор предложения**

Уникальный идентификатор предложения в профиле издателя.
Он отображается в URL-адресах продукта, шаблонах Resource Manager и отчетах о выставлении счетов. Идентификатор может содержать только строчные буквы, цифры или дефисы (-). Он не может заканчиваться дефисом или содержать больше 50 символов. После активации предложения это поле блокируется.

**Идентификатор издателя**

Этот раскрывающийся список позволяет выбрать профиль издателя, используемый для публикации этого предложения. После активации предложения это поле блокируется.

**Имя**

Отображаемое имя для предложения. Это имя будет отображаться в Azure Marketplace и на портале Azure. Его длина не должна превышать 50 символов. Рекомендуется указать для вашего продукта легко узнаваемое название марки. Не включайте в него название своей организации, если только это не требуется для продвижения продукта. Если вы продвигаете продукт через свой веб-сайт, убедитесь, что данное имя полностью совпадает с используемым на сайте.

Нажмите кнопку \"Сохранить\", чтобы сохранить настройки. Следующим шагом является добавление номеров SKU для вашего предложения.

<a name="how-to-create-skus"></a>Создание SKU 
------------------

Щелкните форму \"Номера SKU\". Здесь отображается кнопка \"Add a SKU\" (Добавить номер SKU), позволяющая ввести \"идентификатор SKU\".

![Номера SKU нового предложения](./media/cloud-partner-portal-publish-managed-app/newOffer_skus.png)

\"SKU ID\" (Идентификатор SKU). Это уникальный идентификатор SKU в рамках предложения. Он будет отображаться в URL-адресах продукта, шаблонах ARM и отчетах о выставлении счетов. Идентификатор может содержать только строчные буквы, цифры или дефисы (-).
Он не может заканчиваться дефисом, а его длина не должна превышать 50 символов. После активации предложения это поле блокируется. В предложении можно использовать несколько SKU. Номер SKU нужен для каждого публикуемого образа.

После добавления номера SKU он появится в списке внутри формы \"Номера SKU\". Щелкните имя SKU для отображения сведений о нем. Ниже приведены сведения о некоторых полях.

Щелкните \"New SKU\" (Новый номер SKU), после чего необходимо заполнить следующую форму:

![Создание предложения — новый номер SKU](./media/cloud-partner-portal-publish-managed-app/newOffer_newsku.png)

### <a name="how-to-fill-sku-details-section"></a>Как заполнить раздел сведений о номере SKU 

**Title** (Название) — укажите название для номера SKU. Это то название будет отображаться в коллекции для этого элемента.

**Summary** (Сводка) — введите краткое описание номера SKU. Этот текст будет отображаться прямо под названием.

**Description** (Описание) — предоставьте подробное описание номера SKU.

**Sku Type** (Тип номера SKU). Допустимые значения — \"Managed Application\" (Управляемое приложение) и \"Solution Templates\" (Шаблоны решений). В этом случае выберите \"Managed Application\" (Управляемое приложение).

### <a name="how-to-fill-package-details-section"></a>Как заполнить раздел сведений о пакете 

Раздел пакета содержит следующие поля, которые необходимо заполнить.

![Создание предложения — новый пакет SKU](./media/cloud-partner-portal-publish-managed-app/newOffer_newsku_package.png)

**Current Version** (Текущая версия) — версия отправляемого пакета.
Ее необходимо указать в соответствующем формате.

**Package File** (Файл пакета) — содержит следующие файлы, которые будут сжаты в ZIP-файл.

applianceMainTemplate.json — файл шаблона развертывания, который используется для развертывания решения или приложения и создания ресурсов, определенных в этом файле. Дополнительные сведения о том, как создать файлы шаблона развертывания, см. здесь: <https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-create-first-template>.

appliancecreateUIDefinition.json — это файл, который используется порталом Azure (azure.com), чтобы создать пользовательский интерфейс для подготовки этого решения или приложения. Дополнительные сведения о создании этого файла см. здесь: <https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview>.

mainTemplate.json — это файл шаблона, который содержит только ресурс Microsoft.Solution/appliances. Ниже приведены ключевые свойства этого ресурса, которые следует учитывать.

-   \"kind\" — поле должно иметь значение \"Marketplace\", если управляемое приложение публикуется в Marketplace.
-   \"managedResourceGroupId\" — это группа ресурсов в подписке клиента, где будут развернуты все ресурсы, определенные в файле applianceMainTemplate.json.
-   \"PublisherPackageId\" — это строка, которая уникальным образом идентифицирует пакет. 

Это значение формируется представляет собой объединение значений \[publisherId\].\[OfferId\]-preview\[SKUID\].\[PackageVersion\].
Сведения о том, как получить каждое из этих значений, приводятся ниже.

Этот пакет должен содержать все другие вложенные шаблоны или скрипты, необходимые для успешной подготовки этого приложения. Файлы mainTemplate.json, applianceMainTemplate.json и applianceCreateUIDefinition.json должны находиться в корневом каталоге.

**Authorizations** — это свойство определяет, кто и на каком уровне получает доступ к ресурсам в подписках клиентов. Это позволяет издателю управлять приложением от имени клиента.

-   PrincipalId — идентификатор пользователя, группы пользователей или приложения в Azure Active Directory, которому предоставляются определенные разрешения (как описано в пункте определения роли) для ресурсов в подписках клиентов.

-   Role Definition (Определение роли) — список всех встроенных ролей RBAC, предоставляемых Azure AD. Можно выбрать наиболее подходящую роль, которая позволит управлять ресурсами от имени клиента.

Можно добавить несколько авторизаций. Но рекомендуется создать группу пользователей Active Directory и указать ее идентификатор в \"PrincipalId\..  Это позволит добавлять больше пользователей в группу без необходимости обновления SKU.

Дополнительные сведения о RBAC см. здесь: <https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is>.

<a name="marketplace-form"></a>Форма Marketplace
----------------

В полях формы Marketplace для приложения Azure нужно указать сведения, которые будут отображаться в [Azure Marketplace](https://azuremarketplace.microsoft.com) и на [портале Azure](https://portal.azure.com/). Ниже приведены сведения о некоторых полях.

#### <a name="preview-subscription-ids"></a>Идентификаторы подписок для предварительного просмотра

Укажите список идентификаторов подписок Azure, которые должны получить доступ к предложению после его публикации. Эти разрешенные подписки позволят протестировать предложение перед его активацией. Партнерский портал позволяет разрешить до 100 подписок.

#### <a name="suggested-categories"></a>Suggested Categories (Предлагаемые категории)

Выберите из предоставленного списка до пяти категорий, которые точнее всего описывают ваше предложение. Выбранные категории будут использоваться для сопоставления вашего предложения с категориями продуктов, доступными в [Azure Marketplace](https://azuremarketplace.microsoft.com) и на [портале Azure](https://portal.azure.com/).

Вот некоторые из мест, которые отображаются в данных, предоставляемых в этой форме.

##### <a name="azure-marketplace"></a>Azure Marketplace

![publishvm10](./media/cloud-partner-portal-publish-managed-app/publishvm10.png)

![publishvm11](./media/cloud-partner-portal-publish-managed-app/publishvm11.png)

![publishvm15](./media/cloud-partner-portal-publish-managed-app/publishvm15.png)

##### <a name="portal-at-azurecom"></a>Портал на сайте azure.com.

![publishvm12](./media/cloud-partner-portal-publish-managed-app/publishvm12.png)

![publishvm13](./media/cloud-partner-portal-publish-managed-app/publishvm13.png)

##### <a name="logo-guidelines"></a>Рекомендации по логотипам

Все логотипы, передаваемые на партнерский портал, должны соответствовать следующим рекомендациям:

-   Дизайн Azure отличается простой цветовой палитрой. Используйте в логотипах небольшое число основных и дополнительных цветов.

-   Цвета темы портала на сайте azure.com — белый и черный. Старайтесь не использовать эти цвета для фона своих логотипов. Используйте цвета, которые сделают ваши логотипы четко видимыми на портале azure.com.
    Мы рекомендуем простые основные цвета. **Если вы используете прозрачный фон, то логотип и текст не должны быть белого, черного или синего цвета.**

-   Не используйте в логотипе градиентный фон.

-   Не размещайте в логотипе текст, включая название вашей компании или торговую марку.
    Логотип должен быть \'плоским\'. Также избегайте градиентов.

-   Не растягивайте логотип.

##### <a name="hero-logo"></a>Имиджевый логотип

Имиджевый логотип использовать необязательно. Издатель может не загружать такой логотип. Однако после отправки имиджевого логотипа его уже невозможно удалить. В этом случае партнер также должен следовать рекомендациям для имиджевых логотипов Azure Marketplace.

###### <a name="guidelines-for-the-hero-logo-icon"></a>Рекомендации для значка имиджевого логотипа

-   Отображаемое имя издателя, название плана и развернутая сводка предложения отображаются в белом цвете. Не используйте светлые цвета в качестве фона имиджевого логотипа. Фон имиджевого логотипа не может быть черным, белым или прозрачным.

-   Как только предложение вносится в список, в имиджевый логотип программными средствами вставляется отображаемое имя издателя, название плана, развернутая сводка предложения и кнопка "Создать". Поэтому не нужно вводить текст при разработке имиджевого логотипа. Оставьте пустым пространство справа для отображаемого имени издателя, названия плана, развернутой сводки предложения и т. д. Они добавляются программными средствами.
    Для текста требуется пространство размером 415 x 100 пикселей в правой части (с отступом слева в 370 пикселей).

![publishvm14](./media/cloud-partner-portal-publish-managed-app/publishvm14.png)

<a name="support-form"></a>Форма службы поддержки
------------

Следующей заполняется форма службы поддержки. В этой форме нужно указать контактные данные службы поддержки компании.  Например, можно указать контактные данные сотрудников технического отдела или отдела поддержки клиентов.

<a name="how-to-publish-an-offer"></a>Публикация предложения
-----------------------

После создания черновика предложения вы можете приступить к его публикации в Azure Marketplace. Нажмите кнопку \"Опубликовать\", чтобы начать процесс активации предложения.
