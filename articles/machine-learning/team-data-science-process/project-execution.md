---
title: "Выполнение проектов по обработке и анализу данных — Azure | Документация Майкрософт"
description: "Вы узнаете, как выполнять проекты по обработке и анализу данных с отслеживанием, контролем версий и поддержкой совместной работы."
documentationcenter: 
author: bradsev
manager: cgronlun
editor: cgronlun
ms.assetid: 
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/04/2017
ms.author: bradsev;
ms.openlocfilehash: 8c318f87243d0c98b6a42bebcdffb433f9cc456e
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="execution-of-data-science-projects"></a>Выполнение проектов по обработке и анализу данных

Из этого документа вы узнаете, как с помощью [командного процесса обработки и анализа данных](overview.md) (TDSP) выполнять проекты по обработке и анализу данных с соблюдением системного подхода, контролем версий и поддержкой совместной работы. Платформа TDSP разработана корпорацией Майкрософт. Платформа поддерживает структурированную последовательность действий и позволяет эффективно работать с решениями для прогнозной аналитики в облаке. Роли и задачи сотрудников в области стандартизации обработки и анализа данных описаны в статье [Team Data Science Process roles and tasks](roles-tasks.md) (Роли и задачи в командном процессе обработки и анализа данных). 

Из этой статьи вы узнаете, как: 

1. Выполнить **планирование спринта** для рабочих элементов, задействованных в проекте.<br> Если вы не знакомы с концепцией планирования спринта, далее вы сможете узнать некоторые подробности, а общие сведения приводятся [здесь](https://en.wikipedia.org/wiki/Sprint_(software_development) "здесь"); 
2. **Добавить рабочие элементы** в спринты.
3. **Связать рабочие элементы с кодом** с отслеживанием в Git.
4. Выполнить **проверку кода**. 


>[AZURE.NOTE] Далее приведены инструкции по настройке среды TDSP для работы в команде с помощью Visual Studio Team Services (VSTS). Мы объясняем, как выполнить эти задачи с помощью VSTS, так как на базе именно этой платформы мы реализуем TDSP в Майкрософт. VSTS обеспечивает естественное выполнение процессов (3) и (4) в списке выше. Если ваша группа использует для размещения кода другую платформу, задачи руководителя команды все равно не меняются. Но способ выполнения этих задач будет отличаться. Например, процесс **связывания рабочего элемента с ветвью Git**, описанный в шестом разделе, может оказаться не таким простым, как при использовании VSTS.

На изображении ниже представлен стандартный пример рабочего процесса для планирования спринта, кодирования и управления версиями, который используется в проекте по обработке и анализу данных.

![1](./media/project-execution/project-execution-1-project-execute.png)


##  1. <a name='Terminology-1'></a>Терминология 

При планировании спринта на платформе TDSP выделяют четыре распространенных типа **рабочих элементов**: **возможность**, **пользовательская история**, **задача** и **ошибка**. Для каждого командного проекта поддерживается один список невыполненных работ для всех рабочих элементов. На уровне репозитория Git список невыполненных работ для командного проекта не предусмотрен. Ниже приведены определения рабочих элементов:

- **Возможность.** Компонент относится к взаимодействию в рамках проекта. Разные виды взаимодействия с клиентом считаются разными возможностями. Аналогичным образом, различные этапы взаимодействия с клиентом в рамках проекта лучше определять как разные возможностями. Если вы правильно выберете схему именования возможностей, например ***ClientName-EngagementName***, по этим именам будет легко определить контекст каждого проекта и взаимодействия.
- **История.** Это отдельный рабочий элемент, который необходим для полной реализации возможности (проекта). Примеры пользовательских историй:
    - получение данных; 
    - изучение данных; 
    - создание возможностей;
    - построение моделей;
    - ввод моделей в эксплуатацию; 
    - переобучение моделей.
- **Задача.** Это рабочий элемент кода или документации, который можно назначить конкретному сотруднику и который необходим для завершения определенной истории. Например, в историю *получения данных* могут входить следующие задачи:
    -  получение учетных данных SQL Server; 
    -  передача данных в хранилище данных SQL. 
- **Ошибка.** Обычно так называют исправления, которые нужно внести в код или документацию по завершении задачи. Статус ошибки может быть повышен до задачи или даже истории, если она вызвана отсутствием некоторых действий или этапов соответственно. 

>[AZURE.NOTE] Понятия возможностей, историй, задач и ошибок перенесены в концепцию обработки и анализа данных из теории управления программным кодом (SCM). Здесь они могут немного отличаться от традиционных определений SCM.

##  2. <a name='SprintPlanning-2'></a>Планирование спринта 

Планирование спринта полезно для определения приоритетов, планирования и выделения ресурсов по проекту. Многие специалисты по обработке и анализу данных одновременно участвуют в нескольких проектах. Работа с каждым может длиться несколько месяцев. Проекты могут выполняться с разной скоростью. На сервере VSTS вы без труда можете создавать рабочие элементы, отслеживать их и управлять ими в командном проекте, а также проводить планирование спринтов для выполнения работ с нужной скоростью. 

На странице [по этой ссылке](https://www.visualstudio.com/en-us/docs/work/scrum/sprint-planning) вы найдете пошаговые инструкции по планированию спринта в VSTS. 


##  3. <a name='AddFeature-3'></a>Добавление возможности  

После создания репозитория для командного проекта перейдите на страницу **Обзор** для команды разработчиков и щелкните **Управление работой**.

![2](./media/project-execution/project-execution-2-sprint-team-overview.png)

Чтобы включить возможность в список невыполненных работ, последовательно выберите **Невыполненные работы** --> **Возможности** --> **Создать**, введите значение в поле **Название** (обычно это имя проекта) и щелкните **Добавить**.

![3](./media/project-execution/project-execution-3-sprint-team-add-work.png)

Дважды щелкните созданную возможность. Заполните поле описания, назначьте членов команды и настройте параметры планирования для этой возможности. 

Также вы можете создать для нее связь с репозиторием проекта. Щелкните **Добавить ссылку** в разделе **Разработка**. Когда вы завершите изменение возможности, щелкните **Сохранить и закрыть** для выхода.


##  4. <a name='AddStoryunderfeature-4'></a>Добавление истории к возможности 

К возможности можно добавить истории для описания основных шагов, необходимых для реализации проекта (возможности). Чтобы добавить новую историю, щелкните значок **+** слева от возможности в представлении невыполненной работы.  

![4.](./media/project-execution/project-execution-4-sprint-add-story.png)

Во всплывающем окне вы можете изменить сведения для истории, например состояние, описание, комментарии, планы и приоритет.

![5](./media/project-execution/project-execution-5-sprint-edit-story.png)

Также историю можно связать с существующим репозиторием, щелкнув **+ Добавить ссылку** в разделе **Разработка**. 

![6](./media/project-execution/project-execution-6-sprint-link-existing-branch.png)


##  5. <a name='AddTaskunderstory-5'></a>Добавление задачи к истории 

Задачи содержат описание конкретных действий, которые нужно выполнить для завершения истории. Когда будут выполнены все задачи в истории, эта история должна завершиться. 

Чтобы добавить задачу к истории, нажмите значок **+** рядом с элементом истории, выберите **Задача** и введите подробные сведения о задаче во всплывающем окне.

![7](./media/project-execution/project-execution-7-sprint-add-task.png)

Сведения о состоянии для всех созданных функций, историй и задач можно просматривать в представлениях **Невыполненная работа** или **Доска задач**.

![8](./media/project-execution/project-execution-8-sprint-backlog-view.png)

![9](./media/project-execution/project-execution-9-link-to-a-new-branch.png)


##  6. <a name='Linkaworkitemwithagitbranch-6'></a>Связь рабочего элемента с ветвью Git 

VSTS предоставляет удобный способ подключить рабочий элемент (историю или задачу) к ветви Git. Это позволит вам связать историю или задачу с конкретным элементом кода. 

Чтобы связать рабочий элемент с новой ветвью, дважды щелкните его и во всплывающем окне выберите **Создать новую ветвь** в меню **+ Добавить ссылку**.  

![10](./media/project-execution/project-execution-10-sprint-board-view.png)

Введите информацию о новой ветви, например укажите имя ветви, базовый репозиторий Git и родительскую ветвь. Выбранный репозиторий Git должен относиться к тому же командному проекту, что и этот рабочий элемент. В качестве родительской можно выбрать главную ветвь или любую другую существующую ветвь.

![11](./media/project-execution/project-execution-11-create-a-branch.png)

Рекомендуем создать ветвь Git для каждого рабочего элемента истории. Затем в ней создается отдельная ветвь для каждого рабочего элемента задачи. Такая иерархия ветвей, структура которой соответствует взаимосвязям историй и задач, будет полезной для команды, члены которой одновременно работают над несколькими историями одного проекта или над несколькими задачами одной истории. Если каждый член команды работает в отдельной ветви или с разными элементами кода (либо другими артефактами) в пределах одной ветви, конфликты можно свести к минимуму. 

На изображении ниже представлена рекомендуемая стратегия ветвления для TDSP. Возможно, вам не потребуется так много ветвей, как на этой схеме, особенно если над проектом работает один-два человека или все задачи каждой истории назначены одному исполнителю. Но даже в этом случае мы рекомендуем отделять ветвь разработки от главной ветви. Это защитит ветвь выпуска от изменений, которые вносятся в процессе разработки. Полное описание модели ветвей Git можно найти в статье об[ эффективной модели ветвления Git](http://nvie.com/posts/a-successful-git-branching-model/).

![12](./media/project-execution/project-execution-12-git-branches.png)

Чтобы переключиться на ветвь, с которой вы намерены работать, выполните следующую команду в командной оболочке (Windows или Linux): 

    git checkout <branch name>

Если вместо *<branch name\>* указать **master**, выполняется возврат к **главной** ветви. Переключившись на рабочую ветвь, вы можете выполнять любые работы с артефактами соответствующего рабочего элемента, например писать код или документацию для реализации этого элемента. 

Также вы можете связать рабочий элемент с существующей ветвью. Для этого на странице **сведений** для рабочего элемента вместо элемента **Создать новую ветвь** щелкните **+ Добавить ссылку**. Затем выберите ветвь, с которой нужно связать рабочий элемент. 

![13.](./media/project-execution/project-execution-13-link-to-an-existing-branch.png)

Кроме того, можно создать ветвь с помощью команд Git в оболочке bash. Если родительская ветвь <base branch name\> отсутствует, в _главной ветви_ создается ветвь <new branch name\>. 
    
    git checkout -b <new branch name> <base branch name>


##  7. <a name='WorkonaBranchandCommittheChanges-7'></a>Работа в ветви и фиксация изменений 

Предположим, что вы уже внесли на локальном компьютере некоторые изменения в рабочие элементы ветви *data\_ingestion*, например добавили в эту ветвь новый файл R. Чтобы зафиксировать добавление файла R в ветвь этого рабочего элемента, перейдите в оболочке Git к соответствующей ветви и выполните следующие команды Git:

    git status
    git add .
    git commit -m"added a R scripts"
    git push origin data_ingestion

![14](./media/project-execution/project-execution-14-sprint-push-to-branch.png)

##  8. <a name='CreateapullrequestonVSTS-8'></a>Создание запроса на вытягивание в VSTS 

Когда после нескольких фиксаций и отправок все будет готово для слияния рабочей ветви с родительской, выполните **запрос на вытягивание** на сервере VSTS. 

Перейдите на главную страницу командного проекта и щелкните **КОД**. Выберите ветвь, для которой выполняется слияние, и имя репозитория Git, в который нужно передать эту ветвь. Щелкните **Запросы на вытягивание** и выберите **New pull request** (Новый запрос на вытягивание). Это позволит проверить изменения перед слиянием текущей ветви с родительской.

![15](./media/project-execution/project-execution-15-spring-create-pull-request.png)

Введите описание для запроса на вытягивание, добавьте рецензентов и отправьте запрос.

![16](./media/project-execution/project-execution-16-spring-send-pull-request.png)

##  9. <a name='ReviewandMerge-9'></a>Проверка и слияние 

При создании запроса все указанные рецензенты получат по электронной почте уведомления о необходимости проверить запрос на вытягивание. Рецензенты должны проверить, работают ли внесенные изменения, и при возможности протестировать их совместно с инициатором запроса. По результатам этой оценки рецензенты могут утвердить или отклонить запрос на вытягивание. 

![17](./media/project-execution/project-execution-17-add_comments.png)

![18](./media/project-execution/project-execution-18-spring-approve-pullrequest.png)

Когда проверка будет завершена, рабочая ветвь объединяется с родительской. Для этого нужно нажать кнопку **Завершить**. После слияния рабочую ветвь можно удалить. 

![19](./media/project-execution/project-execution-19-spring-complete-pullrequest.png)

Удостоверьтесь, что для запроса в верхнем левом углу отображается значение **COMPLETED** (Выполнено). 

![20](./media/project-execution/project-execution-20-spring-merge-pullrequest.png)

Теперь, вернувшись в репозиторий через элемент **КОД**, вы получите сообщение о переходе не главную ветвь.

![21](./media/project-execution/project-execution-21-spring-branch-deleted.png)

Для слияния рабочей ветви с родительской и последующего удаления рабочей ветви можно использовать следующие команды Git:

    git checkout master
    git merge data_ingestion
    git branch -d data_ingestion

![22](./media/project-execution/project-execution-22-spring-branch-deleted-commandline.png)


##  10. <a name='DataQualityReportUtility-10'></a>Служебная программа IDEAR для интерактивного исследования данных, анализа и создания отчетов

Эта служебная программа на основе разметки R является гибким и интерактивным инструментом для оценки и исследования наборов данных. Пользователи могут быстро создавать отчеты по набору данных без сложных процессов программирования. Достаточно нажать пару кнопок, чтобы экспортировать результаты исследования из интерактивного средства в окончательный отчет. Затем он передается клиентам или используется для принятия решений о том, какие переменные следует использовать на следующем этапе моделирования.

В настоящее время средство работает только с блоками данных в памяти. Для настройки параметров исследуемого набора данных используется YAML-файл. Дополнительные сведения см. [на странице IDEAR](https://github.com/Azure/Azure-TDSP-Utilities/tree/master/DataScienceUtilities/DataReport-Utils) в разделе служебных программ TDSP для обработки и анализа данных.


##  11. <a name='ModelingUtility-11'></a>Служебная программа для базового моделирования и создания отчетов

Это настраиваемое полуавтоматическое средство для создания моделей со сканированием гиперпараметров и сравнения точности этих моделей. 

Служебная программа для создания моделей — это файл с разметкой R, при выполнении которого создается автономный HTML-документ с оглавлением для удобной навигации по разделам. При запуске файла разметки выполняются три алгоритма: метод регуляризованной регрессии с использованием пакета glmnet, метод случайного леса с использованием пакета randomForest и метод увеличивающихся деревьев с использованием пакета xgboost. При помощи каждого из этих алгоритмов создается обученная модель. После этого сравнивается точность полученных моделей и возвращаются графики относительный важности компонентов. В настоящее время есть две программы: для задач двоичной классификации и для задач регрессии. Основные различия между ними заключаются в том, как определяются параметры управления и метрики точности. 

В YAML-файле указываются следующие данные:

- источник входных данных (хранилище SQL или файл данных R); 
- какая часть данных используется для обучения и для тестирования;
- какие алгоритмы будут выполняться; 
- параметры управления для оптимизации модели:
    - перекрестная проверка; 
    - начальная загрузка;
    - свертывания перекрестной проверки.
- набор гиперпараметров для каждого алгоритма. 

Также в YAML-файле можно быстро изменить число алгоритмов и свертываний для оптимизации, гиперпараметры, а также число их наборов для сканирования, что позволяет оперативно запускать модели. Например, можно выполнить модель с меньшим числом свертываний перекрестной проверки или с меньшим числом наборов параметров. Также можно повысить точность оценки, увеличив количество свертываний перекрестной проверки или количество наборов параметров, если их можно предоставить.

Дополнительные сведения см. на [странице служебной программы для автоматизированного моделирования и создания отчетов](https://github.com/Azure/Azure-TDSP-Utilities/tree/master/DataScienceUtilities/Modeling) в разделе служебных программ TDSP для обработки и анализа данных.


##  12. <a name='PowerBI-12'></a>Отслеживание хода выполнения проектов с помощью панелей мониторинга Power BI

Менеджеры групп обработки и анализа данных, руководители команд и проектов должны отслеживать ход выполнения своих проектов, в том числе контролировать, кто и какую работу выполнил и что осталось в списке задач. При помощи VSTS вы можете создавать панели мониторинга Power BI для отслеживания действий и рабочих элементов, связанных с репозиторием Git. Дополнительные сведения см. в [статье о подключении Power BI к Visual Studio Team Services](https://www.visualstudio.com/en-us/docs/report/powerbi/connect-vso-pbi-vs). 

Чтобы научиться создавать панели мониторинга и отчеты Powe BI для отслеживания действий с репозиторием Git и рабочими элементами после подключения данных VSTS к Power BI, изучите статью [Create Power BI dashboards and reports](https://www.visualstudio.com/en-us/docs/report/powerbi/report-on-vso-with-power-bi-vs) (Создание панелей мониторинга и отчетов Power BI). 

Ниже приведены два примера простых панелей мониторинга, которые мы создали для отслеживания действий с Git и рабочими элементами. На первой перечислены фиксации, выполненные разными пользователями, в разное время и в разных репозиториях Git. Здесь можно без труда применять продольные и поперечные срезы для фильтрации нужных данных.

![23](./media/project-execution/project-execution-23-powerbi-git.png)

На второй панели мониторинга представлены рабочие элементы (истории и задачи) в разных итерациях. Они группируются по исполнителям и уровням приоритета, а цвет указывает на состояние.

![24](./media/project-execution/project-execution-24-powerbi-workitem.png)

 
## <a name="next-steps"></a>Дальнейшие действия

Также предоставляются полные пошаговые руководства, которые демонстрируют все этапы процесса для **конкретных сценариев** . Эти этапы с иллюстрациями и краткими описаниями перечислены в [примерах пошаговых руководств](walkthroughs.md). В них показано, как объединить облачные и локальные средства и службы в единый рабочий процесс или конвейер, чтобы создать интеллектуальное приложение. 

Примеры выполнения шагов командного процесса обработки и анализа данных, в которых задействуется студия машинного обучения Azure, см. в [схеме обучения с использованием службы "Машинное обучение Azure"](http://aka.ms/datascienceprocess).