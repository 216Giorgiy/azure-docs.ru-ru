<properties
   pageTitle="Развертывание новой веб-службы"
   description="Рабочий процесс развертывания веб-службы на основе ARM"
   services="machine-learning"
   documentationCenter=""
   authors="vDonGlover"
   manager="raymondl"
   editor=""/>

<tags
   	ms.service="machine-learning"
   	ms.workload="data-services"
   	ms.tgt_pltfrm="na"
   	ms.devlang="na"
   	ms.topic="article"
   	ms.date="07/06/2016"
   	ms.author="v-donglo"/>

# Развертывание новой веб-службы

Теперь Машинное обучение Microsoft Azure предоставляет веб-службы на основе [Azure Resource Manager](../azure-portal/resource-group-overview.md). Это позволяет предложить новые варианты планов выставления счетов и возможности развертывания веб-службы в нескольких регионах.

Ниже приведен общий рабочий процесс развертывания веб-службы с помощью веб-служб Машинного обучения Microsoft Azure:

* создание прогнозного эксперимента;
* его развертывание;
* настройка имени этого эксперимента;
* Тарифный план
* его тестирование;
* и использование.

Этот рабочий процесс иллюстрируется на рисунке ниже.

![Рабочий процесс развертывания веб-службы][1]
 
## Развертывание веб-службы из Студии 

Чтобы развернуть эксперимент в качестве новой веб-службы, выполните следующее. Войдите в Студию машинного обучения и создайте новую прогнозную веб-службу.

**Примечание**. Если вы уже развернули эксперимента как классическую веб-службу, то будет невозможно развернуть его как новую веб-службу.
 
Щелкните **Run** (Выполнить) в нижней части холста эксперимента, затем щелкните **Deploy Web Service** (Развернуть веб-службу) и **Deploy Web Service [New]** (Развернуть веб-службу [новую]). Откроется страница развертывания диспетчера веб-службы машинного обучения.

## Страница развертывания эксперимента в диспетчере веб-службы машинного обучения
На странице "Deploy Experiment" (Развертывание эксперимента) введите имя веб-службы. Выберите ценовой план. Если у вас уже имеется ценовой план, то можно выбрать его. В противном случае необходимо создать ценовой план для службы.

1.	Из раскрывающегося списка **Price Plan** (Ценовой план) выберите существующий план или параметр **Select new plan** (Выбрать новый план).
2.	В поле **Имя плана** введите имя для идентификации плана в счете.
3.	Выберите один из вариантов **Monthly Plan Tier** (Уровень ежемесячного плана). Обратите внимание, что по умолчанию указаны уровни плана для вашего региона по умолчанию, и веб-служба развертывается в этом регионе.

Щелкните **Deploy** (Развернуть). Откроется страница "Quickstart" (Быстрый запуск) для веб-службы.

## Страница "Quickstart" (Быстрый запуск)
Страница быстрого запуска веб-службы предоставляет доступ и рекомендации к наиболее распространенным задачам, выполняемым после создания новой веб-службы. С нее легко перейти на страницу **Test** (Тестирование) и **Consume** (Использование).

## Тестирование веб-службы

На странице "Quickstart" (Быстрый запуск) щелкните "Test web service" (Тестировать веб-службу) в разделе общих задач.

Чтобы протестировать веб-службу как службу RRS (запрос-ответ), выполните следующее.

* Щелкните **Test** (Тестировать) в строке меню.
* Щелкните **Request-Response** (Запрос-ответ).
* Введите соответствующие значения для входных столбцов эксперимента.
* Щелкните **Test Request-Response** (Тестировать "запрос-ответ").

Результаты будут показаны в правой части страницы.

Чтобы протестировать веб-службу как службу пакетного выполнения (BES), мы используем CSV-файл.

* Щелкните **Test** (Тестировать) в строке меню.
* Щелкните **Batch** (Пакет).
* В разделе входных данных нажмите кнопку "Browse" (Обзор) и перейдите к примеру файла данных.
* Нажмите **Проверить**.

Состояние теста отображается в разделе **Test Batch Jobs** (Тестирование пакетных заданий).

## Использование веб-службы

При публикации в качестве веб-службы эксперименты машинного обучения Azure предоставляют REST API, который может использоваться самыми различными устройствами и платформами. Это происходит благодаря тому, что простой REST API принимает сообщения в формате JSON и отвечает на них в таком же формате. Портал машинного обучения Azure предоставляет код, который может использоваться для вызова веб-службы на языках R, C# и Python.
 
На странице "Consuming" (Использование) можно найти:

* ключ API и универсальные коды ресурса (URI) для использования веб-службы в приложениях;
* шаблоны Excel и шаблоны веб-приложений, позволяющие быстро начать процесс использования;
* пример кода на C#, Python и R, с помощью которого можно приступить к работе.

Дополнительные сведения об использовании веб-служб см. в статье [Как использовать веб-службу машинного обучения Azure, развернутую из эксперимента машинного обучения](machine-learning-consume-web-services.md).


<!--Image references-->
[1]: ./media/machine-learning-webservice-deploy-a-web-service/armdeploymentworkflow.png


<!--links-->

<!---HONumber=AcomDC_0720_2016-->