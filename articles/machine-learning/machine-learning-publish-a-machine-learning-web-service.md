<properties 
	pageTitle="Публикация веб-службы машинного обучения | Microsoft Azure" 
	description="Как преобразовать эксперимент по обучению в эксперимент по оценке, подготовить его к публикации, а затем опубликовать как веб-службу машинного обучения Azure." 
	services="machine-learning" 
	documentationCenter="" 
	authors="garyericson" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="05/27/2015" 
	ms.author="garye"/>

#Публикация веб-службы машинного обучения Azure

Машинное обучение Azure позволяет создавать, тестировать и развертывать решения для прогнозной аналитики.

Этот процесс можно обобщить до трех этапов:

- **[Создание эксперимента обучения]** — Студия машинного обучения Azure Studio представляет собой среду совместной визуальной разработки, используемую для обучения и проверки модели прогнозирования с помощью обучающих данных, предоставляемых вами.
- **[Преобразование в эксперимент по оценке]** — когда модель обучена с помощью существующих данных и готова для оценки новых данных, вы подготавливаете и оптимизируете свой эксперимент для оценки.
- **[Публикация в качестве веб-службы]** — всего одним щелчком вы можете опубликовать свой эксперимент по оценке как веб-службу Azure. Пользователи могут отправлять данные в вашу модель и получать ее прогнозы.

[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

После публикации веб-службы можно сделать следующее:

- **[обращаться]** к ней через API веб-службы;
- **[управлять]** ей с помощью портала управления Azure;
- **[обновлять]** ее при изменении модели.

[Создание эксперимента обучения]: #create-a-training-experiment
[Преобразование в эксперимент по оценке]: #convert-the-training-experiment-to-a-scoring-experiment
[Публикация в качестве веб-службы]: #publish-the-scoring-experiment-as-a-web-service
[обращаться]: #access-the-web-service
[управлять]: #manage-the-web-service-in-the-azure-management-portal
[обновлять]: #update-the-web-service


##Создание эксперимента по обучению

Чтобы обучить модель прогнозирующей аналитики использовании, с помощью Студии машинного обучения Azure вы создаете эксперимент по обучению с различными модулями для загрузки обучающих данных, необходимой подготовки данных, применения алгоритмов машинного обучения и оценки результатов. Вы можете выполнять итерации эксперимента и испытывать разные алгоритмы машинного обучения, чтобы сравнить и оценить результаты.

Процесс создания экспериментов по обучению и управления ими рассматривается более подробно в других материалах. Дополнительную информацию и примеры см. в этих статьях:

- [Создание простого эксперимента в Студии машинного обучения Azure](machine-learning-create-experiment.md)
- [Разработка прогнозирующего решения с помощью машинного обучения Azure](machine-learning-walkthrough-develop-predictive-solution.md)
- [Импорт обучающих данных в Студию машинного обучения Azure](machine-learning-import-data.md)
- [Управление итерациями экспериментов в Студии машинного обучения Azure](machine-learning-manage-experiment-iterations.md)

##Преобразование эксперимента по обучению в эксперимент по оценке

После обучения модели вы можете использовать ее для оценки новых данных. Для этого эксперимент по обучению преобразовывается эксперимент по оценке. Выполнив преобразование в эксперимент по оценке, вы получите обученную модель, готовую к публикации в качестве веб-службы для оценки. Пользователи веб-службы будут отправлять входные данные модели, которая, в свою очередь, будет отправлять обратно результаты прогнозов. Поэтому при преобразовании в эксперимент по оценке следует учитывать предполагаемое использование модели другими пользователями.

![Преобразование в эксперимент по оценке](./media/machine-learning-publish-a-machine-learning-web-service/figure-1.png)

Дополнительную информацию о том, как сделать это преобразование, см. в разделе [Преобразование эксперимента по обучению в машинном обучении в эксперимент по оценке](machine-learning-convert-training-experiment-to-scoring-experiment.md).


##Публикация эксперимента по оценке в качестве веб-службы

Теперь, когда эксперимент по оценке подготовлен в достаточной мере, его можно опубликовать в качестве веб-службы Azure. С помощью веб-службы пользователи могут отправлять данные модели, которая, в свою очередь, будет возвращать свои прогнозы.

Чтобы опубликовать свой эксперимент по оценке, щелкните **Выполнить** в нижней части холста эксперимента, затем щелкните **ОПУБЛИКОВАТЬ ВЕБ-СЛУЖБУ**. Веб-служба будет настроена, затем отобразится ее панель мониторинга.

![Публикация веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-2.png)

Чтобы протестировать веб-службу, щелкните ссылку **Проверить** на вкладке **ПАНЕЛЬ МОНИТОРИНГА**. Появится диалоговое окно, предлагающее ввести входные данные для службы. Это столбцы, ожидаемые экспериментом по оценке. Введите набор данных и нажмите кнопку **ОК**. Результаты, созданные веб-службой, отображаются внизу панели мониторинга.

![Тестирование веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-3.png)

На вкладке **КОНФИГУРАЦИЯ** можно изменить отображаемое имя службы и добавить ее описание. Имя и описание отображаются на портале управления Azure, где осуществляется управление веб-службами. Можно также включить ведение журнала для диагностики сбоев, которые отображаются при выполнении веб-службы. Дополнительную информацию см. в разделе [Включение функции ведения журналов для веб-служб машинного обучения](machine-learning-web-services-logging.md).

![Настройка веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-4.png)

Можно также предоставить описание входных данных, выходных данных и параметров веб-службы, введя строку для каждого столбца в разделах **СХЕМА ВХОДНЫХ ДАННЫХ**, **СХЕМА ВЫХОДНЫХ ДАННЫХ** и **ПАРАМЕТР ВЕБ-СЛУЖБЫ**. Эти описания используются в документации по примерам кода для веб-службы.

##Доступ к веб-службе

После публикации веб-службы из Студии машинного обучения в эту службу можно отправлять данные и программным способом получать ответы.

Панель мониторинга предоставляет всю информацию, необходимую для доступа к веб-службе. Например, предоставляемый ключ API обеспечивает авторизованный доступ к службе, а страницы справки по API помогут вам приступить к созданию кода.

Дополнительную информацию о доступе к веб-службе машинного обучения см. в разделе [Как использовать опубликованную веб-службу машинного обучения Azure](machine-learning-consume-web-services.md).


##Управление веб-службой на портале управления Azure

На портале управления Azure можно управлять веб-службами. Для этого можно щелкнуть службу **машинного обучения**, открыть рабочую область машинного обучения, а затем открыть веб-службу на вкладке **Веб-службы**. На этой странице можно наблюдать за веб-службой, а также обновить или удалить ее. Можно также добавить вторую конечную точку для веб-службы в дополнение к конечной точке по умолчанию, которая создается при публикации.

Дополнительную информацию см. в разделе [Управление рабочей областью машинного обучения Azure](machine-learning-manage-workspace.md).
<!-- When this article gets published, fix the link and uncomment
For more information on how to manage Azure Machine Learning web service endpoints using the REST API, see **Azure machine learning web service endpoints**. 
-->


##Обновление веб-службы

Вы можете внести изменения в веб-службу, например, обновить модель дополнительными обучающими данными, и опубликовать ее снова, перезаписав исходную веб-службу.

Чтобы обновить веб-службу, откройте исходный эксперимент по оценке, использованный для публикации исходной веб-службы, и создайте редактируемую копию, щелкнув **СОХРАНИТЬ КАК**. Внесите изменения и нажмите щелкните **ОПУБЛИКОВАТЬ ВЕБ-СЛУЖБУ**. Так как этот эксперимент уже был опубликован, Студия машинного обучения спросит, следует ли перезаписать существующую службу. Если щелкнуть **Да**, существующая веб-служба будет остановлена, и вместо нее будет опубликован новый эксперимент по оценке.

> [AZURE.NOTE]Если вы внесли изменения в конфигурацию исходной веб-службы, например, введя новое отображаемое имя или описание, необходимо будет снова ввести эти значения.

Один из вариантов обновления веб-службы — переобучить модель программно. Дополнительные сведения см. в статье [Программное переобучение моделей машинного обучения](machine-learning-retrain-models-programmatically.md).

<!----HONumber=July15_HO4-->