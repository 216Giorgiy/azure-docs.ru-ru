---
title: "Углубленного обучения для превентивного обслуживания реальные сценарии - Azure | Документы Microsoft"
description: "Дополнительные сведения о репликации учебник по углубленного обучения для превентивного обслуживания с Workbench обучения машины Azure."
services: machine-learning
author: FrancescaLazzeri
ms.author: Lazzeri
manager: ireiter
ms.reviewer: garyericson, jasonwhowell, mldocs
ms.service: machine-learning
ms.workload: data-services
ms.custom: 
ms.devlang: 
ms.topic: article
ms.date: 11/22/2017
ms.openlocfilehash: 6019437763f82fa14b8677b6c7ec7f0c6938fda7
ms.sourcegitcommit: f46cbcff710f590aebe437c6dd459452ddf0af09
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2017
---
# <a name="deep-learning-for-predictive-maintenance-real-world-scenarios"></a>Углубленного обучения для превентивного обслуживания реальных сценариев

Углубленного обучения является одним из наиболее популярных тенденции в машинном обучении. Углубленного обучения используется в множество полей и приложений, включая бездисковых автомобилей, распознавание речи и изображения, robotics и процент. Углубленного обучения является набор алгоритмов, обусловлены, в форме мозг (биологических нейронной сети) и машинного обучения. Специалисты по анализу когнитивных обычно ссылаются углубленного обучения как искусственный нейронных сетей (ANNs).

Также популярен превентивного обслуживания. В диагностическое обслуживание множество различных способов предназначены для определения того, что оборудование, а также прогнозирования период обслуживания. Наиболее часто для превентивного обслуживания используется предсказания ошибок, диагностика сбоя (анализ основной причины), обнаружение сбоев, классификацию типа сбоя и рекомендации по устранению рисков или обслуживания действий после сбоя.

В сценариях превентивного обслуживания сбора данных со времени осуществлять мониторинг состояния оборудования. Предназначена для поиска шаблонов, которые могут помочь прогнозирования и в конечном счете предотвратить сбои. С помощью [длинные короткий термин памяти (LSTM)](http://colah.github.io/posts/2015-08-Understanding-LSTMs/) сети является глубокая обучения метод, который является особенно удобно превентивного обслуживания. LSTM сети — это эффективное обучения на основе последовательности. Данные временных рядов могут использоваться для взглянуть на продолжительный период времени, чтобы выявить закономерности сбоя.

В этом учебнике мы создаем LSTM сети для набора данных и сценарии, описанном в [превентивного обслуживания](https://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Template-3). Мы используем сети для прогнозирования оставшегося срока самолет ядер. Шаблон использует значения датчика имитацию самолет для прогнозирования, когда обработчик самолет завершится ошибкой в будущем. С помощью этого прогноза, обслуживания можно планировать заранее, чтобы предотвратить сбой.

В этом учебнике используется [Keras](https://keras.io/) глубокого изучения библиотеки и Когнитивных набор средств Microsoft [CNTK](https://docs.microsoft.com/en-us/cognitive-toolkit/Using-CNTK-with-Keras) качестве серверной части.

Открытые репозитории GitHub, где образцы для этого учебника находится в [https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance](https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance).

## <a name="use-case-overview"></a>Обзор варианта использования

Для демонстрации превентивного обслуживания, процесс моделирования в этом учебнике используется пример события выполнения ошибка имитации самолет ядра. 

Неявно предполагается использование моделирования данных, описанные здесь, имеет актива защищенном снижение шаблон. Шаблон отражается в измерениях датчик актива. С помощью проверки значения датчика актива со временем, алгоритм машинного обучения можно узнать связь между значения датчика, изменения в значения датчика и журнала ошибок. Эта связь используется для прогнозирования ошибок в будущем. 

Рекомендуется проверить формат данных и выполнить все три шага шаблона перед тем как заменять образец данных собственного даты.

## <a name="prerequisites"></a>Технические условия

- [Учетная запись Azure](https://azure.microsoft.com/free/) (доступны бесплатные пробные версии).
- Azure машины обучения рабочей среды, с создания рабочей области.
- Для ввода в эксплуатацию модели: Azure Machine Learning ввода в эксплуатацию, в среде локального развертывания, настройки и [учетная запись Azure машины обучения модели управления](https://docs.microsoft.com/en-us/azure/machine-learning/preview/model-management-overview).

## <a name="create-a-new-workbench-project"></a>Создание проекта в Workbench

Создайте проект, используя в качестве шаблона следующий пример:

1. Откройте Machine Learning Workbench.
2. На **проекты** выберите  **+** , а затем выберите **новый проект**.
3. В **Создание нового проекта** области, введите данные для нового проекта.
4. В **поиск шаблонов проектов** поле поиска, введите **превентивного обслуживания**, а затем выберите шаблон.
5. Нажмите кнопку **Создать**.

## <a name="prepare-the-notebook-server-computation-target"></a>Подготовка целевого объекта вычислений для сервера записных книжек

На локальном компьютере, на рабочую среду обучения машины **файл** меню, выберите либо **откройте командную строку** или **откройте PowerShell**. В окне командной строки выбранного варианта выполните следующие команды:

`az ml experiment prepare --target docker --run-configuration docker`

Мы советуем использовать сервер записной книжки стандартной DS4_V2 [виртуальной машины обработки и анализа данных (DSVM) для Linux (Ubuntu)](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft-ads.linux-data-science-vm-ubuntu). После DSVM настройки, выполните следующие команды для подготовки образов Docker:

`az ml computetarget attach remotedocker --name [connection_name] --address [VM_IP_address] --username [VM_username] --password [VM_password]`

`az ml experiment prepare --target [connection_name] --run-configuration [connection_name]`

С помощью Docker образы, подготовленные откройте блокнота jupyter. Открыть блокнота jupyter, либо перейдите к рабочей среды обучения машины **записных книжек** вкладке или запустить сервер на основе браузера:`az ml notebook start`

Портативные компьютеры, хранятся в каталоге кода в среде Jupyter. Выполните эти записные книжки последовательно, как нумерованные, начиная с Code\1_data_ingestion_and_preparation.ipynb.

Выбор ядра соответствует вашей _отправить [имя_проекта] [имя_подключения], а затем выберите **задать ядра**.

## <a name="data-description"></a>Описание данных

Шаблон использует три набора данных в качестве входных данных в файлах PM_train.txt, PM_test.txt и PM_truth.txt.

-  **Обучение данных**: самолет ядра данные выполнения для ошибки. Обучение данных (PM_train.txt) состоит из нескольких, Множественная линейная временных рядов, с *цикл* как единицу измерения времени. Он включает 21 показания датчика для каждого цикла. 

    Каждого временного ряда можно предположить, что созданы из другой обработчик того же типа. Предполагается, что каждое ядро начинаться с различные степени начальной Износ и производства вариантов. Эти сведения неизвестно пользователю. 

    В этом смоделированные данные ядро предполагается нормальной работе в начале каждого временного ряда. Он начинает снижаться в определенный момент во время последовательности работы циклов. Снижения производительности продвижения и увеличения размера по величине. 

    При достижении стандартного порогового значения обработчик считается небезопасных для дальнейшей работы. В каждом ряду времени последнего цикла может рассматриваться как точка сбоя соответствующего обработчика.

-   **Данные теста**: самолет ядра рабочих данных без регистрируемых событий сбоя. Данные теста (PM_test.txt) имеет ту же схему данных, как обучающих данных. Единственное отличие заключается в том, что данные не указывает при возникновении сбоя (за последний период *не* представляют точка сбоя). Неизвестно, сколько больше циклов этот модуль может длиться до сбоя.

- **Экспериментальными данными**: сведения true оставшихся циклов для каждого ядра проверочных данных. Экспериментальными данными предоставляет количество оставшихся циклов рабочий обработчиков проверочных данных.

## <a name="scenario-structure"></a>Структура сценария

Доступно содержимое сценария в [репозитории GitHub] (https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance). 

В репозитории файл [сведений] (https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance/blob/master/README.md) описывается процесс подготовки данных, для построения и ввод в эксплуатацию модели. Три блокнота Jupyter доступны в папке [код] (https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance/tree/master/Code) в репозитории. 

Далее мы опишем пошаговые сценарии рабочего процесса.

### <a name="task-1-data-ingestion-and-preparation"></a>Задача 1: Приема данных и подготовка

Книжке Jupyter приема данных в Code/1_data_ingestion_and_preparation.ipnyb загружает три входных наборов данных в формате Pandas кадр данных. Затем она подготавливает данные для моделирования и некоторые предварительные данные визуализации. Затем данные преобразуются в формат PySpark и хранятся в контейнер службы хранилища больших двоичных объектов Azure в подписке Azure для использования в следующей задаче моделирования.

### <a name="task-2-model-building-and-evaluation"></a>Задача 2: Построение модели и вычисления

Книжке Jupyter построение модели в операции чтения Code/2_model_building_and_evaluation.ipnyb PySpark обучения и проверочный набор данных из хранилища больших двоичных объектов. Затем в сети LSTM строится с наборов обучающих данных. Модель производительности измеряется в тестовом наборе. Результирующая модель сериализуется и сохраняется в локальном контексте для использования в задаче ввода в эксплуатацию.

### <a name="task-3-operationalization"></a>Задача 3: ввода в эксплуатацию

Ввода в эксплуатацию книжке Jupyter в Code/3_operationalization.ipnyb использует хранимые модель для создания функции и схемы, которые необходимы для вызова модели в Azure размещенных в веб-службе. Записной книжки проверяет функции, а затем моментально (сжатие) ресурсов ввода в эксплуатацию в .zip-файле.

Сжатый ZIP-файл содержит следующие файлы:

- **modellstm.JSON**: файл определения схемы для развертывания. 
- **lstmscore.py**: **init()** и **run()** функций, которые необходимы Azure веб-службой.
- **lstm.model**: каталог определения модели.

Записной книжки проверяет функции с помощью определения модели, прежде чем он упаковывает ввода в эксплуатацию основных средств для развертывания. В конце записной книжки добавляются инструкции по развертыванию.


## <a name="conclusion"></a>Заключение

В этом учебнике используется простой сценарий, при котором данные только один источник (значения датчика) используется для составления прогнозов. В более сложных сценариях превентивного обслуживания, таких как [прогнозной обслуживания моделирования руководство по R записной книжки](https://gallery.cortanaintelligence.com/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1), могут использоваться многие источники данных. Другие источники данных могут содержать записи журнала обслуживания, журналы ошибок и возможности компьютера и оператора. Дополнительные источники данных могут потребоваться различные виды лечение для использования в сетях углубленного обучения. Также важно для настройки модели для нужные параметры, такие как для размера окна. 

Можно изменить соответствующих частей этого сценария и повторите сценарии различных проблем, например тех, которые описано в [прогнозной руководство по моделированию обслуживания](https://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Modelling-Guide-1), который включает в себя несколько источников данных.


## <a name="references"></a>Ссылки

- [Сборник тренировочных заданий для шаблона решения Cortana Intelligence для прогнозируемого обслуживания в аэрокосмических и других компаниях](https://docs.microsoft.com/en-us/azure/machine-learning/team-data-science-process/cortana-analytics-playbook-predictive-maintenance)
- [Predictive Maintenance Modelling Guide](https://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Modelling-Guide-1) (Руководство по моделированию прогнозного обслуживания)
- [Predictive Maintenance Modelling Guide Python Notebook](https://gallery.cortanaintelligence.com/Notebook/Predictive-Maintenance-Modelling-Guide-Python-Notebook-1) (Руководство по моделированию прогнозного обслуживания с помощью записной книжки Python)
- [Predictive Maintenance using PySpark](https://gallery.cortanaintelligence.com/Tutorial/Predictive-Maintenance-using-PySpark) (Прогнозное обслуживание с помощью PySpark)

