---
title: "Поддерживаемые преобразования для подготовки данных в службе \"Машинное обучение Microsoft Azure\" | Документация Майкрософт"
description: "В этом документе приводится полный список преобразований, доступных в службе \"Машинное обучение Microsoft Azure\" для подготовки данных"
services: machine-learning
author: euangMS
ms.author: euang
manager: lanceo
ms.reviewer: 
ms.service: machine-learning
ms.workload: data-services
ms.custom: 
ms.devlang: 
ms.topic: article
ms.date: 09/07/2017
ms.translationtype: HT
ms.sourcegitcommit: c3a2462b4ce4e1410a670624bcbcec26fd51b811
ms.openlocfilehash: fd3f8157e27847b99e59465063111a6d6c8c713d
ms.contentlocale: ru-ru
ms.lasthandoff: 09/25/2017

---
# <a name="supported-transforms-for-this-release"></a>Поддерживаемые преобразования для текущего выпуска
Далее приводится список и краткое описание доступных преобразований для этого выпуска. 

Ниже описаны преобразования, поддерживаемые в этом выпуске.

## <a name="column-selection"></a>Выбор столбцов 
Многие из перечисленных ниже преобразований могут работать с одним или несколькими столбцами. Чтобы выбрать несколько столбцов, щелкните каждый из них, удерживая клавишу CTRL, или щелкните последний столбец непрерывного диапазона, удерживая клавишу SHIFT.

## <a name="transforms-from-main-menu-andor-grid-header"></a>Преобразования из главного меню и (или) сетки заголовка 
Преобразования можно вызвать с помощью элемента "Преобразования" в главном меню. Также вы можете выбрать их, щелкнув правой кнопкой мыши имя столбца в сетке данных. Если выбрано несколько столбцов, меню преобразований будет открываться при щелчке любого из них правой кнопкой мыши.

В меню, которое открывается по щелчку правой кнопкой мыши, доступны только те преобразования, которые являются допустимыми для выбранного типа данных. В главном меню отображаются все существующие преобразования. Но те, которые не относятся к выбранным столбцам, отмечены серым и недоступны для выбора.

Кроме того, вы можете вызвать небольшой набор контекстных преобразований, щелкнув ячейку правой кнопкой мыши. Сюда входят преобразования копирования, замены и фильтрации. При этих преобразованиях учитывается тип данных. Поэтому доступные варианты для числовых и текстовых столбцов будут разными.

## <a name="derive-column-by-example"></a>Получение столбца по образцу
Это преобразование позволяет создать столбец, производный от одного или нескольких существующих столбцов. Во время преобразования автоматически определяется требуемый формат вывода. При этом оцениваются входные (выбранные) столбцы и предлагаемый образец выходных данных. 

Чтобы использовать это преобразование, выберите один или несколько столбцов. Добавьте новый (пустой) производный столбец для образца. Введите в него образец результатов, которые нужно получить в производном столбце (если он будет производным от других столбцов), и технология "По образцу" заполнит все остальные ячейки в этом столбце. 

В сложных случаях может потребоваться несколько образцов. Просто выберите другую ячейку и введите еще один образец результата.

Технология "По образцу" использует для анализа значений все выбранные столбцы. Если при вызове этого преобразования не выбран ни один столбец, используются все ячейки текущей строки. Если вы выберете только нужные столбцы, результат будет более точным.

Вы можете выбрать столбцы перед вызовом преобразования. Когда откроется редактор преобразования, все выбранные в качестве входных данных столбцы будут отмечены флажками в верхней части. Убирая или добавляя эти флажки в заголовках столбцов, вы можете изменить набор выбранных столбцов.

Более подробное описание преобразования **Получение столбца по образцу** и дополнительные примеры см. в статье [Derive column by example transformation](data-prep-derive-column-by-example.md) (Преобразование "Получение столбца по образцу").  

## <a name="split-column-by-example"></a>Разделение столбца по образцу
При этом преобразовании выполняется попытка разделить существующий столбец на указанное количество столбцов с помощью механизма "По образцу". Вы можете выполнить автоматическое разделение для создаваемых столбцов.

Более подробное описание преобразования **Разделение столбцов по образцу** и дополнительные примеры см. в статье [Split column by example transformation](data-prep-split-column-by-example.md) (Преобразование "Разделение столбца по образцу").

## <a name="expand-json"></a>Развертывание JSON

Преобразование **Развертывание JSON** позволяет добавить несколько столбцов, развернув столбец с допустимым текстом JSON.

Более подробное описание преобразования **Развертывание JSON**и дополнительные примеры см. в статье [Expand JSON transformation](data-prep-expand-json.md) (Преобразование "Развертывание JSON").


## <a name="combine-columns-by-example"></a>Объединение столбцов по образцу

Позволяет добавить новый столбец, объединив значения из нескольких столбцов. 

Более подробное описание преобразования **Объединение столбцов по образцу** и дополнительные примеры см. в статье [Combine columns by example transformation](data-prep-combine-columns-by-example.md) (Преобразование "Объединение столбцов по образцу").


## <a name="duplicate-column"></a>Дублирование столбца
При этом преобразовании создается точная копия одного или нескольких столбцов и новым столбцам присваиваются имена, производные от имен исходных. Это преобразование поддерживает один или несколько столбцов.

## <a name="text-clustering"></a>Кластеризация текста 
Преобразование позволяет сгруппировать несогласованные значения, которые должны совпадать.  

При этом выполняется анализ на сходство значений в одном столбце. Затем такие значения группируются в кластеры. Для каждого кластера определяется каноническое значение, которое подставляется вместо всех экземпляров и значений в этом кластере. Вы можете удалять полученные кластеры или изменять канонические значения. Также можно удалить из кластера отдельные экземпляры. Кроме того, вы можете изменить фильтр порогового значения для показателя сходства, который используется при группировании экземпляров в кластер.

По умолчанию во время этого преобразования создается столбец, в котором все значения экземпляров кластера заменяются каноническим значением, выбранным для этого кластера. Также можно добавить отдельный столбец (с настраиваемым именем), который содержит показатель сходства для каждого экземпляра, чтобы использовать эти данные для последующего анализа.

## <a name="replace-values"></a>Замена значений
Это преобразование позволяет заменить одну строку другой. Исходная строка может представлять подстроку или полный текст ячейки. Это преобразование можно применять к одному или нескольким столбцам. В строке поиска можно использовать специальные и обычные символы. 

## <a name="replace-na-values"></a>Замена недопустимых значений
Позволяет заменить разные формы недоступных или недопустимых значений (Н/Д, НД, NULL, не число и т. п.) и пустые строки одним согласованным значением. Это преобразование поддерживает один или несколько столбцов. Это преобразование предлагается, только если столбец выбран. Оно отсутствует в главном меню преобразований, если столбцы не выбраны.

## <a name="replace-missing-values"></a>Замена отсутствующих значений
Позволяет заменить отсутствующие данные одним согласованным значением. Это преобразование поддерживает один или несколько столбцов. Это преобразование предлагается, только если столбец выбран. Оно отсутствует в главном меню преобразований, если столбцы не выбраны.

## <a name="replace-error-values"></a>Замена ошибочных значений
Позволяет заменить ошибочные значения одним согласованным значением. Это преобразование поддерживает один или несколько столбцов. Это преобразование предлагается, только если столбец выбран. Оно отсутствует в главном меню преобразований, если столбцы не выбраны.

## <a name="trim-string"></a>Обрезка строк
Позволяет удалить начальные и конечные пробелы (в том числе символы табуляции и т. п.) из одного или нескольких столбцов.

## <a name="adjust-precision"></a>Изменение точности
Позволяет указать требуемое число десятичных разрядов для числового столбца.

## <a name="rename-column"></a>Переименование столбца
Позволяет изменить имя столбца. Это преобразование можно вызвать через контекстное меню, которое открывается при щелчке имени столбца.

## <a name="remove-column"></a>Удаление столбца
Позволяет удалить выбранные столбцы. Это преобразование работает с одним или несколькими столбцами. 

## <a name="keep-column"></a>Сохранение столбца
Позволяет удалить все столбцы, кроме выбранных. Это преобразование работает с одним или несколькими столбцами.

## <a name="handle-path-column"></a>Обработка столбца пути
При импорте файла мастер автоматически добавляет в набор данных столбец пути. Этот столбец содержит полное имя файла, которое считается путем к набору данных. Преобразование позволяет удалить этот дополнительный столбец из набора данных или добавить его.

## <a name="convert-field-type-to-numeric"></a>Преобразование поля в числовой тип
Позволяет изменить тип столбца на числовой. Если поле содержат не только целые числа, нужно указать десятичный разделитель. По умолчанию для этого преобразования разделитель не запрашивается. Чтобы задать его, вызовите редактор при помощи пункта меню **Изменить**. Это преобразование работает с одним или несколькими столбцами.

## <a name="convert-field-type-to-date"></a>Преобразование типа поля в поле даты
Позволяет изменить тип столбца на столбец даты. Используется установленный по умолчанию формат даты и времени, который вы можете переопределить с помощью директив `strftime`. Также есть возможность добавить к значениям времени фиксированную дату.

По умолчанию для этого преобразования формат не запрашивается. Чтобы задать его, на завершающем этапе вызовите редактор при помощи пункта меню **Изменить**. Это преобразование работает с одним или несколькими столбцами.

В тип даты можно преобразовать только даты в диапазоне от 22.09.1677 до 11.04.2262.

## <a name="convert-field-type-to-boolean"></a>Преобразование поля в логический тип
Позволяет изменить тип столбца на логический (true или false). Это преобразование поддерживает сопоставление нескольких значений со значениями true и false. Вы можете изменить эти сопоставления. Также поддерживается константа для сопоставления значений, которые не указаны в таблице сопоставления с true и false. Это преобразование работает с одним или несколькими столбцами.

## <a name="convert-field-type-to-string"></a>Преобразование поля в строку
Позволяет изменить тип столбца на строковый. Это преобразование работает с одним или несколькими столбцами.

## <a name="convert-unix-timestamp-to-datetime"></a>Преобразование метки времени Unix в дату и время
При этом преобразовании распознается формат метки времени Unix, даже если он представлен в наборе данных в строковом виде, и правильно преобразуется в тип даты.

## <a name="filter"></a>Фильтр
Преобразование фильтра поддерживает фильтрацию строк по значениям в одном или нескольких столбцах. В условиях фильтра учитывается тип данных каждого столбца. Поэтому строковые столбцы можно фильтровать по условиям "содержит" или "не содержит", но нельзя фильтровать по числовым значениям. Аналогично, условия "больше, чем" и "меньше, чем" применимы только для числовых столбцов, но не для строковых.

Вызвав преобразование фильтра из главного меню или щелкнув правой кнопкой мыши заголовок столбца, вы можете передать несоответствующие столбцы в другой поток данных. Если вы примените эту возможность, основной поток данных продолжает работать со строками, которые **соответствуют** фильтру, а для тех, которые ему **не соответствуют**, создается новый поток данных.

## <a name="use-first-row-as-headers"></a>Использование первой строки в качестве заголовков
При этом преобразовании значения из первой строки набора данных подставляются в качестве имен столбцов. Для столбцов, которые не содержат данных в первой строке, имя создается автоматически. Это преобразование используется, когда импорт данных начинается как минимум со второй строки. Импорт можно начинать и с последующих набора данных, используя параметр Skip Rows (Пропуск строк). Это преобразование удобно использовать для удаления рекламы или для автоматического создания имен всех столбцов.

## <a name="join"></a>Объединение
Это преобразование позволяет объединить два потока данных. Вы можете выбрать, что следует включать в выходные данные: все успешно объединенные строки, строки "слева" без соответствия или строки "справа" без соответствия.

Мастер объединения запускается из одного потока данных, который автоматически становится одной из сторон объединения, и предлагает пользователю выбрать другой поток данных в качестве второй стороны. Когда оба потока выбраны, мастер предлагает выбрать для каждой из сторон один столбец в качестве объединителя. Если объединение нужно выполнять по нескольким столбцам, перед запуском мастера объединения следует создать производный столбец, сцепив в нем нужные данные специально для целей объединения. Мастер может предложить ключ для объединения или даже автоматически создать производный ключевой столбец.

Когда объединение завершается, мастер выводит для него представление схемы Sankey. В этой схеме относительная толщина линий обозначает количество строк, проходящих по определенной части потока объединения. Панель в правой части позволяет выбрать успешно объединенные строки, строки "слева" без соответствия или строки "справа" без соответствия либо одну любую ветвь объединения.

## <a name="append-rows"></a>Добавление строк
Это преобразование позволяет добавлять данные из другого потока данных в конец текущего потока, сопоставляя столбцы по их взаимному расположению.

## <a name="append-columns"></a>Добавление столбцов
Это преобразование позволяет добавлять столбцы из другого потока данных в текущий поток. Столбцы добавляются в крайнем правом положении без попыток сопоставления данных в строках.

## <a name="summarize"></a>Суммирование
При этом преобразовании выбираются столбцы и вычисляются статистические функции по выбранной комбинации уникальных значений.

Поддерживаются следующие функции: COUNT (количество), SUM (сумма), MIN (наименьшее), MAX (наибольшее), MEAN (среднее), VARIANCE (дисперсия), STANDARD DEVIATION (стандартное отклонение). Из списка статистических функций предлагаются только те, которые применимы к типу данных в выбранном столбце. Неприменимые статистические функции отмечены серым и недоступны для выбора. Например, для строкового столбца нет возможности вычислить среднее значение, но можно выбрать максимальное или минимальное значение.

Аналог GROUP BY в ANSI-SQL

Открыв редактор, перетащите заголовок столбца на панель в верхнем углу слева. На этой панели отображаются столбцы, по которым выполняются статистические вычисления. Она является иерархической, то есть позволяет выполнять вложенные статистические вычисления. Панель редактора в верхнем углу справа позволяет выбрать статистическое выражение для конкретного столбца. Для любого столбца можно применить одно или несколько статистических вычислений. Когда вы выберете хотя бы одно вычисление, в сетке внизу справа будут представлены примеры результатов вычисления для предварительного просмотра. 

## <a name="remove-duplicates"></a>Удаление дубликатов
Это преобразование позволяет удалить всю строку, в которой обнаружены повторяющиеся значения. Повторы определяются по одному или нескольким столбцам, которые вы можете выбрать перед вызовом преобразования или с помощью редактора. Если не выбран ни один столбец, будут удаляться только полностью совпадающие строки.

## <a name="sort"></a>Сортировать
При этом преобразовании данные сортируются по значениям одного или нескольких столбцов. В редакторе для каждого столбца можно отдельно выбрать сортировку по возрастанию (используется по умолчанию) или по убыванию.

Аналог ORDER BY в ANSI-SQL

## <a name="output-transforms"></a>Преобразования выходных данных
Преобразования из следующей группы применяются к выходным данным. Вы можете создать несколько блоков записи в одном потоке данных, чтобы сохранять данные из разных расположений потока.

### <a name="write-to-csv"></a>Запись в CSV-файл
При этом преобразовании данные из текущего расположения в потоке записываются в формате CSV.  Преобразование позволяет выбрать расположение файла (локальное или удаленное) и его различные настройки.

### <a name="write-to-parquet"></a>Запись в Parquet
При этом преобразовании данные из текущего расположения в потоке записываются в формате Parquet. Преобразование позволяет выбрать расположение файла (локальное или удаленное) и его различные настройки.

## <a name="script-based-transforms"></a>Преобразования на основе скриптов
Для преобразований из следующей группы используются скрипты на языке Python, что позволяет реализовать возможности, отсутствующие в основном продукте. 
[Прежде чем использовать любое из этих преобразований, изучите следующие документы по расширяемости](data-prep-python-extensibility-overview.md):

### <a name="add-column-script"></a>Добавление столбцов (скрипт)
Позволяет добавить столбец в набор данных, используя выражения Python. [Дополнительные сведения см. в Приложении 10](data-prep-appendix10-sample-custom-column-transforms-python.md).

### <a name="advanced-filter-script"></a>Расширенный фильтр (скрипт)
Позволяет создать на Python фильтр уровня строк. [Дополнительные сведения см. в Приложении 6](data-prep-appendix6-sample-filter-expressions-python.md).

### <a name="transform-dataflow-script"></a>Преобразование потока данных (скрипт)
Позволяет применить код Python ко всему набору данных.

[Дополнительные сведения см. в Приложении 7](data-prep-appendix7-sample-transform-data-flow-python.md).

### <a name="transform-dataflow-script"></a>Преобразование потока данных (скрипт)
Позволяет применить код Python ко всему разделу данных.

[Дополнительные сведения см. в Приложении 7](data-prep-appendix7-sample-transform-data-flow-python.md).

### <a name="write-dataflow-script"></a>Запись потока данных (скрипт)
Позволяет применить Python к процессу записи и всему набору данных. [Дополнительные сведения см. в Приложении 10](data-prep-appendix9-sample-destination-connections-python.md).




