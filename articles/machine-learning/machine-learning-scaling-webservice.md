<properties
   pageTitle="Масштабирование веб-службы | Microsoft Azure"
   description="Узнайте, как масштабировать веб-службу, расширяя параллелизм и добавляя новые конечные точки."
   services="machine-learning"
   documentationCenter=""
   authors="neerajkh"
   manager="srikants"
   editor="cgronlun"
   keywords="машинное обучение azure, веб-службы, операционализация, масштабирование, конечная точка, параллелизм"
   />
<tags
   ms.service="machine-learning"
   ms.devlang="NA"
   ms.workload="data-services"
   ms.tgt_pltfrm="na"
   ms.topic="article"
   ms.date="07/06/2016"
   ms.author="neerajkh"/>

# Масштабирование веб-службы

>[AZURE.NOTE] В этом разделе описаны методы, применимые к классической веб-службе.

По умолчанию каждая опубликованная веб-служба настраивается для поддержки 20 параллельных запросов, а максимальное число параллельных запросов может доходить до 200. Это значение можно задать на классическом портале Azure, однако Машинное обучение Azure автоматически оптимизирует этот параметр, обеспечивая максимальную производительность веб-службы, при этом значение, указанное на портале, игнорируется.

Если планируется вызывать API с большей нагрузкой, чем это поддерживается при установке 200 максимальных одновременных вызовов, то потребуется создать несколько конечных точек для одной веб-службы и случайным образом распределить нагрузку между ними.

## Добавление новых конечных точек для той же веб-службы

Масштабирование веб-службы является распространенной задачей, решить которую нужно либо для обработки более 200 параллельных запросов, либо для повышения доступности благодаря наличию нескольких конечных точек, либо для предоставления отдельных конечных точек для разных потребителей веб-службы. Масштаб можно увеличить, добавив дополнительные конечные точки для той же веб-службы, используя [классический портал Azure](https://manage.windowsazure.com/), как показано на рисунке ниже.

Помните, что использование высоких значений количества одновременных событий может быть неблагоприятно, если API не вызывается с соответствующей этому высокой нагрузкой. При создании достаточно низкой нагрузки на API, настроенный на высокую нагрузку, периодически случайно могут возникать периоды ожидания или резкое повышение значений задержки.

Синхронные API обычно используются в ситуациях, когда требуется низкий уровень задержки. Под задержкой здесь подразумевается время, необходимое для того, чтобы API завершил один запрос, и в ней не учитывается время сетевой задержки. Предположим, что имеется API с задержкой в 50 мс. Чтобы полностью задействовать доступный объем с использованием высокого уровня ускорения и максимальным количеством одновременных вызовов = 20, необходимо вызывать этот API 20 * 1000 / 50 = 400 раз в секунду. Далее, при максимальном количестве одновременных вызовов = 200 можно вызывать API 4000 раз в секунду при задержке в 50 мс.

Перейдите на [классический портал Azure](https://manage.windowsazure.com/), щелкните значок «Машинное обучение» слева, выберите рабочее пространство, используемое для публикации веб-службы, щелкните нужную веб-службу, нажмите **ДОБАВИТЬ КОНЕЧНУЮ ТОЧКУ** на нижней панели, а затем укажите имя, описание и желаемое значение параллелизма для новой конечной точки.

Сведения о добавлении новых конечных точек см. в разделе [Создание конечных точек](machine-learning-create-endpoint.md).

<!--Image references-->
[1]: ./media/machine-learning-scaling-webservice/machlearn-1.png
[2]: ./media/machine-learning-scaling-webservice/machlearn-2.png

<!---HONumber=AcomDC_0720_2016-->