<properties 
	pageTitle="Отладка модели в Машинном обучении Azure | Microsoft Azure" 
	description="В этой статье объясняется, как отладить машинное обучение модели в Azure." 
	services="machine-learning"
	documentationCenter="" 
	authors="garyericson" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="04/29/2015" 
	ms.author="bradsev;garye" />

# Отладка машинного обучения модели в Azure

В этой статье объясняется, как отладить машинное обучение модели в Microsoft Azure. При этом внимание преимущественно уделяется потенциальным причинам, по которым при запуске модели могут возникнуть два сценария сбоя:

* модуль [Модель обучения][train-model] выдает ошибку; 
* работа модуля [Модель подсчета][score-model] приводит к недопустимым результатам. 

[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## Модуль обучения модели выдает ошибку

![рисунок 1](./media/machine-learning-debug-models/train_model-1.png)

Вот какие два вида данных нужно ввести в модуль [Модель обучения][train-model]\:

1. Тип модели классификации или регрессии из коллекции моделей, предоставленных службой машинного обучения Azure.
2. Данные для обучения со столбцом метки. В столбце метки указывается переменная, которую нужно спрогнозировать. Остальные столбцы считаются признаками.

Модуль выдает ошибку в таких случаях:

1. Столбец метки указан неверно, так как в качестве метки выбрано более одного столбца или выбран недопустимый индекс столбца. Пример второго случая: указан индекс столбца 30, тогда как входной набор данных содержит только 25 столбцов.

2. Набор данных не содержит столбцов с признаками. Например, если входной набор данных содержит только один столбец, выбранный в качестве метки, для построения модели не будет ни одного признака. В таком случае модуль [Модель обучения][train-model] выдаст ошибку.

3. Во входном наборе данных (признаки или метка) в качестве значения указана бесконечность.


## Работа модуля «Модель подсчета» приводит к недопустимым результатам

![рисунок 2](./media/machine-learning-debug-models/train_test-2.png)

На типичном обучающем или тестовом графе для контролируемого обучения модуль [разделения][split] разбивает исходный набор данных на две части: в одной модель обучается, а во второй модель оценивается на предмет того, насколько хорошо она работает с данными, отличными от обучающих. Затем обученная модель оценивает тестовые данные, после чего оцениваются результаты и определяется точность ее работы.

Для модуля [Модель подсчета][score-model] требуется два вида входных данных:

1. выходные данные обученной модели из модуля [Модель обучения][train-model];
2. набор оцениваемых данных, отличный от того, на котором обучалась модель.

Даже если эксперимент завершится успехом, модуль [Модель подсчета][score-model] может выдать неправильные результаты. Вот в каких случаях это может произойти:

1. Если указанная метка является категориальной и модель регрессии обучается с помощью данных, модуль [Модель подсчета][score-model] может выдать неправильные результаты. Это обусловлено тем, что для регрессии требуется непрерывная переменная ответа. В этом случае лучше использовать модель классификации. 
2. Аналогичным образом, если модель классификации обучается с помощью данных, которые содержат числа с плавающей запятой в столбце метки, модель может выдать недопустимые результаты. Это обусловлено тем, что для классификации требуется дискретная переменная отклика, с которой можно использовать только значения, соответствующие конечному и обычно несколько малому набору классов.
3. Если набор оцениваемых данных не содержит все признаки, используемые для обучения модели, работа модуля [Модель подсчета][score-model] завершится ошибкой.
4. Модуль [Модель подсчета][score-model] не выдает выходные данные, соответствующие строке в наборе оцениваемых данных, в котором для какого-либо признака отсутствует значение или указано бесконечное значение.
5. Модуль [Модель подсчета][score-model] может выдать одинаковые выходные данные для всех строк набора оцениваемых данных. Это может случиться, например, при классификации с помощью лесов принятия решений, когда минимальное количество образцов на листовой узел превышает количество доступных обучающих примеров.


<!-- Module References -->
[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/
[train-model]: https://msdn.microsoft.com/library/azure/5cc7053e-aa30-450d-96c0-dae4be720977/
 

<!---HONumber=August15_HO6-->