---
title: Подготовка данных с помощью пакета SDK для подготовки данных машинного обучения Azure (Python)°— Azure
description: Узнайте, как использовать пакет SDK для подготовки данных машинного обучения Azure для Python, чтобы загружать данные в различных форматах, преобразовывать их для удобства использования и записывать эти данные в расположения, где они будут доступны вашим моделям.
services: machine-learning
ms.service: machine-learning
ms.component: core
ms.topic: conceptual
ms.author: cforbe
author: cforbe
manager: cgronlun
ms.reviewer: jmartens
ms.date: 11/27/2018
ms.openlocfilehash: 91d0f3565db484504a67a3b6ae0989b9291cd24f
ms.sourcegitcommit: 5aed7f6c948abcce87884d62f3ba098245245196
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2018
ms.locfileid: "52446438"
---
# <a name="prepare-data-for-modeling-with-azure-machine-learning"></a>Подготовка данных для моделирования с помощью службы "Машинное обучение Azure"

В этой статье вы изучите варианты использования и некоторые уникальные возможности пакета SDK службы "Машинное обучение Azure" для подготовки данных. Подготовка данных является важнейшей частью рабочего процесса машинного обучения. Данные в реальной жизни часто бывают поврежденными, несогласованными или непригодными для использования в качестве данных для обучения без значительных усилий по очистке и преобразованию. Чтобы повысить точность модели, следует исправить ошибки и аномалии в необработанных данных и создать новые функции для решаемой проблемы. Пакет SDK разрабатывался так, чтобы он был легко понятен пользователям других распространенных библиотек для подготовки данных, предоставлял важные преимущества для основных сценариев и поддерживал совместимость с этими библиотеками.

Вы можете подготовить данные в Python, используя [пакет SDK для подготовки данных службы "Машинное обучение Azure"](https://aka.ms/data-prep-sdk).

## <a name="azure-machine-learning-data-prep-sdk"></a>Пакет SDK службы "Машинное обучение Azure" для подготовки данных

[Пакет SDK службы "Машинное обучение Azure" для подготовки данных](https://aka.ms/data-prep-sdk) реализован в виде библиотеки Python и предоставляет следующие возможности.

* Интеллектуальные преобразования, которые позволяют сэкономить время, например "Нечеткое группирование", "Производный столбец по образцу", "Автоматическое разбиение", "Интеллектуальное чтение файла" и "Обработка схем с неровным правым краем".
* Единый API, который одинаково работает в локальной среде для небольших объемов данных и в облаке для больших объемов данных, **без или почти без изменений кода**.
* Возможность более эффективного масштабирования на одном компьютере благодаря применению для обработки данных потоковой передачи вместо полной загрузки в память.

### <a name="install-the-sdk"></a>Установка пакета SDK

Установите пакет SDK в среде Python, используя следующую команду.

```shell
pip install azureml-dataprep
```

Используйте следующий фрагмент кода для импорта пакета.

```python
import azureml.dataprep as dprep
```

### <a name="examples-and-reference"></a>Примеры и справка

Дополнительные сведения о модулях и функциях этого пакета SDK см. в [справочной документации по пакету SDK для подготовки данных](https://aka.ms/data-prep-sdk).

Следующие примеры иллюстрируют ряд уникальных возможностей этого пакета SDK, например:

* автоматическое определение типа файла;
* интеллектуальные преобразования;
* сводные статистические данные;
* возможность работы в разных средах.


#### <a name="automatic-file-type-detection"></a>Автоматическое определение типа файла

Функция `smart_read_file()` позволяет загружать данные без указания типа файла. Она автоматически распознает тип файла и выполняет соответствующий синтаксический анализ.

```python
dataflow = dprep.smart_read_file(path="<your-file-path>")
```

#### <a name="intelligent-transforms"></a>Интеллектуальные преобразования

Пакет SDK позволяет автоматизировать проектирование признаков, разбивая столбцы и создавая производные столбцы по образцам и по анализу зависимостей. Для примера предположим, что в объекте потока данных есть поле `datetime` со значением `2018-09-15 14:30:00`.

Чтобы автоматически разделять поле `datetime`, вызовите следующую функцию.

```python
new_dataflow = dataflow.split_column_by_example(source_column="datetime")
```

Так как вы не указали пример параметра, функция автоматически разделит поле `datetime` на два новых поля — `datetime_1` и `datetime_2`. Они получат значения `2018-09-15` и `14:30:00` соответственно. Также вы можете предоставить образец разбиения, на основе которого пакет SDK спрогнозирует нужный формат и выполнит преобразование. На основе того же объекта `datetime` следующий код создаст новый столбец `datetime_weekday` для дня недели, как в предоставленном примере.

```python
new_dataflow = dataflow.derive_column_by_example(
        source_columns="datetime", 
        new_column_name="datetime_weekday", 
        example_data=[("2009-01-04 10:12:00", "Sunday"), ("2013-08-22 17:00:00", "Thursday")]
    )
```

#### <a name="summary-statistics"></a>Сводные статистические данные

Вы можете всего одной строкой кода быстро создать сводные статистические данные для потока данных. Этот метод очень удобен для понимания данных и их распределения.

```python
dataflow.get_profile()
```

Вызвав эту функцию для объекта потока данных, вы получите примерно такой результат, как в следующей таблице.

![Результат создания сводных статистических данных](./media/concept-data-preparation/output-example.png)

## <a name="multiple-environment-compatibilities"></a>Совместимость с несколькими средами

Помимо прочего, пакет SDK позволяет сериализовать и открывать объекты потока данных в *любой* среде Python. Можно даже открывать объект в среде, отличной от среды его создания. Такая возможность позволяет легко переносить данные между средами Python и быстро настраивать интеграцию с моделями Машинного обучения Azure.

Используйте следующий код, чтобы сохранить объекты потока данных.

```python
package = dprep.Package([dataflow_1, dataflow_2])
package.save("<your-local-path>")
```

Используйте следующий код, чтобы повторно открыть пакет в любой среде и получить список объектов потока данных.

```python
package = dprep.Package.open("<your-local-path>")
dataflow_list = package.dataflows
```

## <a name="data-preparation-pipeline"></a>Конвейер подготовки данных

Подробные примеры и код для каждого шага подготовки вы найдете в следующих практических руководствах.

1. [Загрузка данных](how-to-load-data.md), которые могут иметь различные форматы.
2. [Преобразование](how-to-transform-data.md) данных в более удобную структуру.
3. [Запись](how-to-write-data.md) данных в доступное для моделей расположение.

![Процесс подготовки данных](./media/concept-data-preparation/data-prep-process.png)

## <a name="next-steps"></a>Дополнительная информация

Просмотрите [примерный журнал](https://github.com/Microsoft/AMLDataPrepDocs/tree/master/tutorials/getting-started/getting-started.ipynb) подготовки данных с помощью пакета SDK для подготовки данных машинного обучения Azure.

[Справочная документация](https://docs.microsoft.com/python/api/overview/azure/dataprep/intro?view=azure-dataprep-py) по пакету SDK службы "Машинное обучение Azure" для подготовки данных
