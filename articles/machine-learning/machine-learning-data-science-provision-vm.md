<properties 
	pageTitle="Подготовка виртуальной машины Майкрософт для обработки и анализа данных | Microsoft Azure" 
	description="Настройка и создание виртуальной машины в Azure для обработки и анализа данных и машинного обучения." 
	services="machine-learning" 
	documentationCenter="" 
	authors="bradsev" 
	manager="paulettm" 
	editor="cgronlun" />

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="06/24/2016" 
	ms.author="bradsev" />


# Подготовка виртуальной машины Майкрософт для обработки и анализа данных

Виртуальная машина Майкрософт для обработки и анализа данных — это образ виртуальной машины (VM) Azure, в котором предварительно установлен и настроен ряд распространенных средств, обычно необходимых для анализа данных и машинного обучения. К этим средствам относятся:

- Microsoft R Server Developer Edition
- дистрибутив Anaconda Python;
- выпуск Visual Studio Community;
- Power BI Desktop;
- выпуск SQL Server Express.
- Пакет SDK Azure


Обработка и анализ данных включают в себя повторяющееся выполнение последовательности задач: поиска, загрузки и предварительной обработки данных, построения и тестирования моделей, а также развертывания моделей для использования в интеллектуальных приложениях. Для выполнения этих задач специалисты по обработке и анализу данных часто используют широкий набор средств. Поиск правильной версии программного обеспечения и его последующая загрузка и установка могут занимать довольно много времени. Виртуальная машина Майкрософт для обработки и анализа данных может существенно упростить выполнение этих задач.

Виртуальная машина Майкрософт для обработки и анализа данных придает значительный импульс вашему аналитическому проекту. Она позволяет работать над задачами в различных языках, включая R, Python, SQL и C#. Visual Studio использует удобный интерфейс IDE для разработки и тестирования кода. Пакет SDK Azure в виртуальной машине позволяет создавать приложения с помощью различных служб на облачной платформе Майкрософт.

Плата за программное обеспечение для этого образа виртуальной машины для обработки и анализа данных не взимается. Вы платите только за использование Azure. Сумма зависит от размера виртуальной машины, которая будет подготовлена с помощью этого образа виртуальной машины. Дополнительные сведения об оплате вычислительных ресурсов см. [здесь](https://azure.microsoft.com/marketplace/partners/microsoft-ads/standard-data-science-vm/).


## Предварительные требования

Прежде чем создавать виртуальную машину Майкрософт для обработки и анализа данных, необходимо убедиться в наличии следующих компонентов.

- **Подписка на Azure** — сведения о ее получении см. в разделе [Получение бесплатной пробной версии Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).

*   **Учетная запись хранения Azure** — сведения о ее создании см. в разделе [Создание учетной записи хранения Azure](storage-create-storage-account.md#create-a-storage-account). Кроме того, если вы не хотите использовать существующую учетную запись хранения, ее можно создать при установке виртуальной машины.


## Создание виртуальной машины Майкрософт для обработки и анализа данных

Ниже приведены шаги по созданию экземпляра виртуальной машины Майкрософт для обработки и анализа данных.

1.	Перейдите к списку виртуальных машин на [портале Azure](https://portal.azure.com/#create/microsoft-ads.standard-data-science-vmstandard-data-science-vm).
2.	 В нижней части страницы нажмите кнопку **Создать**. Откроется мастер.![configure-data-science-vm](./media/machine-learning-data-science-provision-vm/configure-data-science-virtual-machine.png)
3.	 Мастеру, который используется для создания виртуальной машины Майкрософт для обработки и анализа данных, требуются **входные данные** для всех **5 шагов**, перечисленных в правой части этого рисунка. Ниже приведено описание входных данных, необходимых для настройки на каждом из шагов.

     **а. Основные сведения**.

   - **Имя** — имя создаваемого сервера для обработки и анализа данных.
   - **Имя пользователя** — идентификатор учетной записи администратора.
   - **Пароль** — пароль учетной записи администратора.
   - **Подписка** — при наличии нескольких подписок выберите ту, в которой будет создана виртуальная машина и для которой будет взиматься плата.
   - **Группа ресурсов** — вы можете создать новую группу или использовать существующую.
   - **Расположение** — выберите наиболее подходящий центр обработки данных. Обычно это центр обработки данных, в котором размещена большая часть ваших данных, или ближайший к вашему физическому расположению центр для наиболее быстрого доступа к сети.

     **б. Размер**.

   - Выберите один из типов серверов, который соответствует вашим функциональным требованиям и финансовым ограничениям. Дополнительные варианты размера виртуальной машины можно увидеть, щелкнув элемент «Просмотреть все».

     **в. Параметры**.

   - **Тип диска** — выберите "Премиум", если требуется твердотельный накопитель (SSD), в противном случае выберите "Стандартный".
   - **Учетная запись хранения** — вы можете создать учетную запись хранения Azure в подписке или использовать существующую учетную запись в *расположении*, которое было выбрано на этапе работы мастера «Основные сведения».
   - **Другие параметры** — в большинстве случаев используются значения по умолчанию. Если нужно использовать значения, отличные от значений по умолчанию, вы можете навести указатель мыши на информационную ссылку, чтобы получить справку по конкретному полю.

     **г. Сводка**.

   - Проверьте, все ли сведения введены правильно.

     **д. Купить**.

   - Чтобы начать подготовку, щелкните **Купить**. Отобразится ссылка на условия транзакции. За использование виртуальной машины не взимается дополнительная плата, кроме платы за размер сервера, выбранный на шаге **Размер**.


Подготовка занимает 10–20 минут. Состояние подготовки отображается на портале Azure.

## Доступ к виртуальной машине Майкрософт для обработки и анализа данных

После создания виртуальной машины вы можете выполнить вход в нее с помощью удаленного рабочего стола, используя учетную запись администратора, созданную в разделе "Основные сведения" этапа 4.

После создания и подготовки виртуальной машины вы можете начать использовать установленные и настроенные на ней средства. Для многих средств предусмотрены значки на рабочем столе и элементы в меню "Пуск".

## Создание надежного пароля на сервере записной книжки Jupyter 

Выполните следующую команду из командной строки на виртуальной машине для обработки и анализа данных, чтобы создать надежный пароль для сервера записной книжки Jupyter, установленного на виртуальной машине.

	c:\anaconda\python.exe -c "import IPython;print IPython.lib.passwd()"

При появлении запроса укажите надежный пароль.

В выходных данных вы увидите хэш пароля в формате "sha1:xxxxxx" в выходных данных. Скопируйте этот хэш пароля и замените существующий хэш, который находится в файле конфигурации записной книжки **C:\\ProgramData\\jupyter\\jupyter\_notebook\_config.py** в параметре ***c.NotebookApp.password***.

Необходимо заменить только значение хэша, которое заключено в кавычки. Сами кавычки и префикс ***sha1:*** в значении параметра необходимо сохранить.

Наконец, необходимо остановить и перезапустить сервер Ipython, работающий на виртуальной машине в качестве запланированной задачи Windows с именем Start\_IPython\_Notebook. Если после перезапуска этой задачи новый пароль не принят, попробуйте перезапустить виртуальную машину.

## Средства, установленные на виртуальной машине Майкрософт для обработки и анализа данных

### Microsoft R Server Developer Edition
Если вы хотите использовать R для аналитики, на виртуальной машине установлен Microsoft Developer edition. Microsoft R Server — это широко развертываемая платформа аналитики корпоративного класса на основе R, которая поддерживается, масштабируется и является безопасной. С поддержкой разнообразной статистики для данных большого размера, прогнозирующего моделирования и машинного обучения, R Server поддерживает весь диапазон аналитических операций — просмотр, анализ, визуализацию и моделирование. Используя и расширяя R с открытым исходным кодом, Microsoft R Server полностью совместим с R-сценариями, функциями и пакетами CRAN для анализа данных в масштабе предприятия. Он также устраняет ограничения памяти R с открытым исходным кодом путем добавления параллельной и фрагментарной обработки данных на сервере R, позволяя пользователям выполнять анализ данных, размер которых намного превышает объем основной памяти. В виртуальную машину также включена интегрированная среда разработки для R, для доступа к которой нужно щелкнуть значок "Revolution R Enterprise 8.0" в меню "Пуск" или на рабочем столе. Кроме того, вы можете скачать и использовать другие интегрированные среды разработки, например [RStudio](http://www.rstudio.com).

### Python
Для разработки на языке Python установлен дистрибутив Anaconda Python версий 2.7 и 3.5. Этот дистрибутив содержит базовую версию Python, а также примерно 300 наиболее популярных математических и инженерных пакетов и пакетов для обработки и анализа данных. Можно использовать средства Python для Visual Studio (PTVS), установленные в выпуске Visual Studio 2015 Community, или одну из сред IDE, объединенную с Anaconda, например IDLE или Spyder. Их можно запустить, выполнив поиск на панели поиска (сочетание клавиш **WINDOWS**+**S**). **Примечание**. Чтобы воспользоваться средствами Python для Visual Studio с Anaconda Python версий 2.7 и 3.5, необходимо создать пользовательские среды для каждой версии, а затем выбрать "Сервис" -> Python Tools (Инструменты Python) -> Python Environments (Среды Python), нажать кнопку + Custom (+ Пользовательские) в Visual Studio 2015 Community Edition и указать пути к средам. Anaconda Python 2.7 устанавливается в папку C:\\Anaconda, а Anaconda Python 3.5 — в папку С:\\Anaconda\\envs\\py35. Подробное описание шагов см. в [документации по PTVS](https://github.com/Microsoft/PTVS/wiki/Selecting-and-Installing-Python-Interpreters#hey-i-already-have-an-interpreter-on-my-machine-but-ptvs-doesnt-seem-to-know-about-it).

### Портативный компьютер Jupyter
Дистрибутив Anaconda также содержит записную книжку Jupyter, которая является средой для совместного использования кода и выполнения анализа. Сервер записной книжки Jupyter предварительно настроен для Python 2, Python 3 и ядер R. На рабочем столе есть значок "Записная книжка Jupyter", с помощью которого можно запустить браузер для доступа к серверу записной книжки. Если для доступа к виртуальной машине вы используете удаленный рабочий стол, для доступа к серверу записной книжки Jupyter можно перейти по ссылке [https://localhost:9999/](https://localhost:9999/). (Примечание. При появлении предупреждения о сертификате выберите "Продолжить".) Мы также включили примеры записных книжек для Python и R. Ссылки на примеры можно найти на домашней странице записной книжки, войдя в записную книжку Jupyter с помощью пароля, созданного на предыдущем шаге.

### Выпуск Visual Studio Community 2015
На виртуальной машине установлен выпуск Visual Studio Community. Это бесплатная версия популярного интерфейса IDE от Майкрософт, которую можно использовать для ознакомления, а также для небольших групп. Условия лицензионного соглашения вы можете просмотреть [здесь](https://www.visualstudio.com/support/legal/mt171547). Откройте Visual Studio, дважды щелкнув значок на рабочем столе или выбрав соответствующий пункт в меню **Пуск**. Кроме того, вы можете выполнить поиск программ следующим образом: нажмите клавиши **WINDOWS** + **S** и введите запрос "Visual Studio". Выполнив вход, вы сможете создавать проекты, используя такие языки, как C# и Python. Вы также найдете установленные подключаемые модули, которые облегчают работу со службами Azure, такими как каталог данных Azure, Azure HDInsight (Hadoop, Spark) и озеро данных Azure.

Примечание. Может появиться сообщение о том, что период ознакомления истек. Чтобы получить доступ к нужному выпуску Visual Studio Community, вы можете ввести учетные данные существующей учетной записи Майкрософт или сначала создать учетную запись, а затем ввести учетные данные.

### SQL Server Express
В выпуск Visual Studio Community входит также ограниченная версия SQL Server. Для доступа к серверу SQL Server запустите **SQL Server Management Studio**. Имя виртуальной машины будет использовано в качестве имени сервера. При входе от имени администратора в ОС Windows используйте проверку подлинности Windows. Выполнив вход в SQL Server Management Studio, вы можете создавать других пользователей и базы данных, импортировать данные и выполнять запросы SQL.

### Таблицы Azure 
На виртуальной машине установлено несколько инструментов Azure.
- Имеется ярлык на рабочем столе для доступа к документации по пакету SDK для Azure.
- **AzCopy** используется для переноса данных в учетную запись хранения Microsoft Azure и из нее.
- **Обозреватель хранилищ Azure** используется для просмотра объектов, которые были сохранены в вашей учетной записи хранения Azure.
- **Microsoft Azure PowerShell** — инструмент, используемый для управления ресурсами Azure на языке сценариев PowerShell, также установлен на вашей виртуальной машине.

###Power BI

Для создания панелей мониторинга и реализации широких возможностей визуализации установлено средство **Power BI Desktop**. Используйте это средство для извлечения данных из различных источников, создания панелей мониторинга и отчетов и их публикации в облаке. Дополнительные сведения см. на сайте [Power BI](http://powerbi.microsoft.com).

Примечание. Для доступа к Power BI необходима учетная запись Office 365.

## Дополнительные средства разработки Майкрософт
Для поиска и скачивания других инструментов разработки Майкрософт можно использовать [**установщик веб-платформы Майкрософт**](https://www.microsoft.com/web/downloads/platform.aspx). Ярлык этого средства также находится на рабочем столе виртуальной машины Майкрософт для обработки и анализа данных.

## Дальнейшие действия
Ниже приведены некоторые дальнейшие действия для продолжения обучения.

* Просмотреть различные средства обработки и анализа данных на виртуальной машине для анализа данных можно, щелкнув меню "Пуск" и проверив установленные средства в меню.
* Перейдите к каталогу **C:\\Program Files\\Microsoft\\MRO-for-RRE\\8.0\\R-3.2.2\\library\\RevoScaleR\\demoScripts**, в котором можно найти примеры использования библиотеки RevoScaleR в R, поддерживающей анализ данных на корпоративном уровне.
* См. статью [10 задач, которые можно выполнить в виртуальной машине для обработки и анализа данных](http://aka.ms/dsvmtenthings).
* Узнайте, как систематически создавать комплексные аналитические решения с помощью [процесса обработки и анализа данных группы](https://azure.microsoft.com/documentation/learning-paths/data-science-process/).
* Посетите страницу [коллекции Cortana Intelligence](http://gallery.cortanaintelligence.com), чтобы найти примеры машинного обучения и анализа данных с использованием Cortana Intelligence Suite. Мы также добавили значок на рабочий стол и элемент в меню "Пуск" на виртуальной машине для быстрого доступа.

<!---HONumber=AcomDC_0629_2016-->