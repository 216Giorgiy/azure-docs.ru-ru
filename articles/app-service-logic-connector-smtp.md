<properties 
   pageTitle="Приложение API соединителя SMTP" 
   description="Использование соединителя SMTP" 
   services="app-service\logic" 
   documentationCenter=".net,nodejs,java" 
   authors="anuragdalmia" 
   manager="dwrede" 
   editor=""/>

<tags
   ms.service="app-service-logic"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration" 
   ms.date="03/31/2015"
   ms.author="adgoda"/>


# Использование соединителя SMTP в приложении логики #

Приложения логики могут запускаться на основе разных источников данных и предлагать соединители для получения и обработки данных в рамках потока. 

Соединитель SMTP позволяет подключиться к серверу SMTP и выполняет действие для отправки сообщений электронной почты с вложениями.

- Действие "Отправить электронное письмо" соединителя SMTP позволяет отправить сообщение электронной почты по указанным адресам. 

## Создание соединителя SMTP для приложения логики ##
Чтобы использовать соединитель SMTP, сначала нужно создать экземпляр приложения API соединителя SMTP. Это можно сделать следующим образом.

1.	Откройте Azure Marketplace, нажав кнопку "+ СОЗДАТЬ" в нижнем левом углу портала Azure.
2.	Перейдите в раздел "Мобильные и веб-приложения > Приложения API" и выполните поиск элемента "Соединитель SMTP".
3.	Настройте соединитель SMTP следующим образом.
 
	![][1]
	- **Расположение** - выберите географическое расположение, где планируется развернуть соединитель.
	- **Подписка** - выберите подписку, в которой нужно создать соединитель.
	- **Группа ресурсов** - выберите или создайте группу ресурсов, в которой следует разместить соединитель.
	- **План веб-хостинга** - выберите или создайте план веб-хостинга.
	- **Ценовая категория** - выберите ценовую категорию для соединителя.
	- **Имя** - задайте имя для этого соединителя SMTP.
	- **Параметры пакета**
		- **Имя пользователя** - укажите имя пользователя для подключения к серверу SMTP.
		- **Пароль** - укажите пароль для подключения к серверу SMTP.
		- **Адрес сервера** - укажите имя или IP-адрес сервера SMTP.
		- **Порт сервера** - укажите номер порта сервера SMTP.
		- **Включение SSL** - укажите значение true для использование SMTP через защищенный канал SSL/TLS.
4.	Нажмите кнопку "Создать". Будет создан новый соединитель SMTP.
5.	После создания экземпляра приложения API можно создать приложение логики в той же группе ресурсов для использования соединителя SMTP. 

## Использование соединителя SMTP в приложении логики ##
После создания приложения API можно использовать соединитель SMTP как действие для приложения логики. Для этого необходимо выполнить следующие действия.

1.	Создайте новое приложение логики и выберите ту же группу ресурсов, которую имеет соединитель SMTP.
 
	![][2]
2.	Откройте раздел "Триггеры и действия", чтобы открыть конструктор приложений логики и настроить поток. 
 
	![][3]
3.	Соединитель SMTP отображается в разделе "Приложения API в этой группе ресурсов" в коллекции с правой стороны. Выберите его.
 
	![][4]
4.	Приложение API соединителя SMTP можно удалить в редакторе, щелкнув "Соединитель SMTP". 
	
7.	Теперь можно использовать соединитель SMTP в потоке. Выберите действие "Отправить электронное письмо" и настройте входные свойства следующим образом.
	- **Получатель** - Это адрес электронной почты получателей. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например: recipient1@domain.com;recipient2@domain.com.
	- **Копия** - Это адрес электронной почты получателей скрытой копии. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например: recipient1@domain.com;recipient2@domain.com.
	- **Тема** - Это тема сообщения электронной почты.
	- **Текст** - Это текст сообщения электронной почты.
	- **HTML-код** - Если это свойство имеет значение true, содержимое письма будет отправляться как HTML-код.
	- **Скрытая копия** - Это адрес электронной почты получателей скрытой копии. Разделите несколько адресов электронной почты, используя точку с запятой (;). Например: recipient1@domain.com;recipient2@domain.com.
	- **Важность** - Это важность сообщения электронной почты. Возможные варианты: обычная, низкая, высокая.
	- **Вложения** - Вложения для отправки вместе с сообщением электронной почты. Здесь содержатся следующие поля:
		- Содержимое (строка)
		- Кодировка (Enum) передачи содержимого ("нет"|"base64")
		- Тип содержимого (строка)
		- Идентификатор содержимого (строка)
		- Имя файла (строка)
	 
	
	![][5] 
	![][6]


<!--Image references-->
[1]: ./media/app-service-logic-connector-smtp/img1.PNG
[2]: ./media/app-service-logic-connector-smtp/img2.PNG
[3]: ./media/app-service-logic-connector-smtp/img3.png
[4]: ./media/app-service-logic-connector-smtp/img4.PNG
[5]: ./media/app-service-logic-connector-smtp/img5.PNG
[6]: ./media/app-service-logic-connector-smtp/img6.PNG


<!--HONumber=52-->