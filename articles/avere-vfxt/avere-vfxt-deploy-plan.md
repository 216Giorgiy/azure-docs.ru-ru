---
title: Планирование системы Avere vFXT — Azure
description: Здесь описывается планирование, которое нужно выполнить перед развертыванием системы Avere vFXT для Azure
author: ekpgh
ms.service: avere-vfxt
ms.topic: conceptual
ms.date: 10/31/2018
ms.author: v-erkell
ms.openlocfilehash: f0e5523565dc561ed457dbc340835ad1889cb876
ms.sourcegitcommit: 6135cd9a0dae9755c5ec33b8201ba3e0d5f7b5a1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50669871"
---
# <a name="plan-your-avere-vfxt-system"></a>Планирование системы Avere vFXT

В этой статье описывается, как спланировать новую систему Avere vFXT для кластера Azure, чтобы расположение и размер создаваемого кластера соответствовали вашим требованиям. 

Прежде чем перейти в Azure Marketplace или к созданию виртуальных машин, подумайте, как кластер будет взаимодействовать с другими элементами в Azure. Спланируйте, где в частной сети и подсети будут находиться ресурсы кластера, а также решите, где будет ваше серверное хранилище. Создаваемые узлы кластера должны обладать достаточной производительностью для поддержки рабочих процессов. 

Ознакомьтесь с дополнительными сведениями, чтобы узнать больше.

## <a name="resource-group-and-network-infrastructure"></a>Группа ресурсов и инфраструктура сети

Определите, где будут находиться элементы развертывания Avere vFXT для Azure. На схеме ниже показано возможное упорядочение компонентов Avere vFXT для Azure:

![На схема отображается контроллер кластера и виртуальные машины кластера в одной подсети. Вокруг периметра подсети находится периметр виртуальной сети. Внутри виртуальной сети есть шестиугольник, представляющий конечную точку службы хранилища. Он связан с хранилищем BLOB-объектов за пределами виртуальной сети с помощью пунктирной стрелки.](media/avere-vfxt-components-option.png)

При планировании сетевой инфраструктуры системы Avere vFXT нужно следовать таким рекомендациям:

* Управление всеми элементами должно осуществляться с помощью новой подписки, созданной для развертывания Avere vFXT. Эта стратегия упрощает отслеживание затрат и очистку, а также помогает секционировать квоты ресурсов. Так как Avere vFXT используется с большим числом клиентов, изоляция клиентов и кластера в одной подписке защищает другие важные рабочие нагрузки от возможного регулирования ресурсов во время подготовки клиента.

* Разместите клиентские системы вычисления близко к кластеру vFXT. Серверное хранилище может находиться на более дальнем расстоянии.  

* Для упрощения разместите кластер vFXT и виртуальную машину контроллера кластера в той же виртуальной сети и в той же группе ресурсов. Они также должны использовать одну учетную запись хранения. 

* Кластер должен быть расположен в собственной подсети, чтобы избежать конфликтов IP-адресов с клиентскими или вычислительными ресурсами. 

## <a name="ip-address-requirements"></a>Требования к IP-адресам 

Убедитесь, что у кластера подсети есть достаточно большой диапазон IP-адресов для поддержки кластера. 

Кластер Avere vFXT использует следующие IP-адреса:

* IP-адрес для управления одним кластером. Этот адрес можно перемещать между узлами в кластере, но он всегда доступен, что позволяет подключаться к средству настройки на панели управления Avere.
* Для каждого узла кластера требуется:
  * По крайней мере один IP-адрес, ориентированный на клиента. (Все адреса, ориентированные на клиента, управляются кластером *vserver*, который при необходимости может перемещать их между узлами.)
  * Один IP-адрес для взаимодействия с кластером.
  * Один IP-адрес экземпляра (назначенный виртуальной машине).

Если вы используете хранилище BLOB-объектов Azure, также могут потребоваться IP-адреса из виртуальной сети кластера.  

* Учетной записи хранилища BLOB-объектов Azure нужно по крайней мере пять IP-адресов. Помните об этом требовании, если хранилище BLOB-объектов находится в той же виртуальной сети, что и кластер.
* Если для кластера вы используете хранилище BLOB-объектов Azure, которое находится за пределами виртуальной сети, необходимо создать конечную точку службы хранилища внутри виртуальной сети. Эта конечная точка не использует IP-адрес.

У вас есть возможность найти сетевые ресурсы и хранилище BLOB-объектов (если используется) в разных группах ресурсов кластера.

## <a name="vfxt-node-sizes"></a>Размеры узлов vFXT 

Виртуальные машины, выступающие в качестве узлов кластера, определяют пропускную способность запросов и емкость хранилища кэша. Вы можете выбрать из двух типов экземпляров с разной памятью, числом процессоров и характеристиками локального хранилища. 

Каждый узел vFXT будет идентичен. То есть если вы создаете кластер с тремя узлами, вы получите три виртуальные машины одинакового типа и размера. 

| Тип экземпляра | Число виртуальных ЦП | Память  | Локальное хранилище на SSD-накопителях  | Максимальное число дисков данных | Пропускная способность диска без кэширования | Сетевая карта (количество) |
| --- | --- | --- | --- | --- | --- | --- |
| Standard_D16s_v3 | 16  | 64 Гиб  | 128 ГБ  | 32 | 25 600 операций ввода-вывода в секунду <br/> 384 Мбит/с | 8000 Мбит/с (8) |
| Standard_E32s_v3 | 32  | 256 Гиб | 512 ГБ  | 32 | 51 200 операций ввода-вывода в секунду <br/> 768 Мбит/с | 16 000 Мбит/с (8)  |

Кэш диска на каждый узел настраивается и может быть размером от 1000 до 8000 ГБ. 1 ТБ на узел — это рекомендуемый размер кэша для узлов Standard_D16s_v3, а 4 ТБ на узел — для узлов Standard_E32s_v3.

Дополнительные сведения об этих виртуальных машинах см. в следующих статьях Microsoft Azure:

* [Размеры виртуальных машин общего назначения](https://docs.microsoft.com/azure/virtual-machines/windows/sizes-general)
* [Размеры виртуальных машин, оптимизированных для операций в памяти](https://docs.microsoft.com/azure/virtual-machines/windows/sizes-memory)

## <a name="account-quota"></a>Квота учетной записи

Убедитесь, что в вашей подписке достаточно ресурсов для запуска кластера Avere vFXT, а также используемых вычислительных или клиентских систем. Дополнительные сведения см. в разделе [Quota for the vFXT cluster](avere-vfxt-prereqs.md#quota-for-the-vfxt-cluster) (Квота для кластера vFXT).

## <a name="back-end-data-storage"></a>Серверное хранилище данных

Если рабочий набор находится не в кэше, он будет сохраняться в новый контейнер больших двоичных объектов или в существующую облачную или аппаратную систему хранения?

Если вы хотите использовать хранилище BLOB-объектов Azure для серверной части, в процессе разработки кластера vFXT следует создать контейнер. Используйте сценарий развертывания ``create-cloud-backed-container`` и укажите учетную запись хранения для нового контейнера больших двоичных объектов. Этот сценарий создает и настраивает новый контейнер так, что его можно использовать сразу после создания. Дополнительные сведения см. в разделе [Create nodes and configure the cluster](avere-vfxt-deploy.md#create-nodes-and-configure-the-cluster) (Создание узлов и настройка кластера).

> [!NOTE]
> Только пустые контейнеры хранилища BLOB-объектов можно использовать в качестве основных файловых хранилищ для системы Avere vFXT. В vFXT должна быть возможность управления хранилищем объектов без необходимости сохранения существующих данных. 
>
> Чтобы узнать, как эффективно копировать данные в новый контейнер кластера с использованием клиентских компьютеров и кэша vFXT Avere, обратитесь к статье [Moving data to the vFXT cluster - Parallel data ingest](avere-vfxt-data-ingest.md) (Перемещение данных в кластер vFXT. Прием параллельных данных).

Если вы хотите использовать существующую локальную систему хранения, ее необходимо добавить в кластер vFXT после его создания. Сценарий развертывания ``create-minimal-cluster`` создает кластер vFXT без серверной системы хранения. Подробные инструкции о том, как добавить существующую систему хранения в кластер vFXT Avere, см. в разделе [Configure storage](avere-vfxt-add-storage.md) (Настройка контейнера). 

## <a name="next-step-understand-the-deployment-process"></a>Следующий шаг: ознакомление с процессом развертывания

В статье с [общими сведениями о развертывании](avere-vfxt-deploy-overview.md) дается общее представление всех шагов, необходимых для создания системы Avere vFXT для Azure и ее подготовки для обработки данных.  