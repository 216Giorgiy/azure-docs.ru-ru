---
title: Необходимые условия для Avere vFXT — Azure
description: Необходимые условия для Avere vFXT для Azure
author: ekpgh
ms.service: avere-vfxt
ms.topic: conceptual
ms.date: 10/31/2018
ms.author: v-erkell
ms.openlocfilehash: 823bf50a54ff43fa95f7136c137e3d8f3303c3e0
ms.sourcegitcommit: 6135cd9a0dae9755c5ec33b8201ba3e0d5f7b5a1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50669531"
---
# <a name="prepare-to-create-the-avere-vfxt"></a>Подготовка к созданию Avere vFXT

В этой статье объясняются предварительные задачи для создания кластера Avere vFXT.

## <a name="create-a-new-subscription"></a>Создание подписки

Начните с создания подписки Azure. Используйте отдельную подписку для каждого проекта Avere vFXT, что позволит легко отслеживать все ресурсы проекта и расходы, защитить другие проекты от возможного регулирования во время подготовки и упростить очистку.  

Чтобы создать подписку Azure на портале Azure:

* Перейдите в колонку [Подписки](https://ms.portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade).
* Нажмите кнопку **+ Добавить** вверху.
* Войдите при появлении соответствующего запроса.
* Выберите предложение и выполните действия, чтобы создать подписку.

## <a name="configure-subscription-owner-permissions"></a>Настройка разрешений владельца подписки

Кластер vFXT должен создать пользователь с разрешениями владельца подписки. Эти разрешения требуются для выполнения таких действий, как:

* принятие условий для программного обеспечения Avere vFXT;
* создание роли доступа к узлу кластера;
* предоставление узлу контроллера кластера разрешений на управление группами ресурсов и виртуальными сетями; 
* предоставление контроллеру кластера разрешений на создание и изменение узлов кластера. 

Если вы не хотите предоставить доступ владельца пользователям, которые создают vFXT, есть два обходных решения.

* Владелец группы ресурсов может создать кластер, если выполняются такие условия:

  * Владелец подписки должен [принять условия соглашения программного обеспечения Avere vFXT](#accept-software-terms-in-advance) и [создать роль доступа к узлу кластера](avere-vfxt-deploy.md#create-the-cluster-node-access-role).
  * Все ресурсы Avere vFXT должны быть развернуты в группе ресурсов, включая:
    * контроллер кластера;
    * Узлы кластера
    * Хранилище BLOB-объектов
    * элементы сети.
 
* Пользователь без прав владельца может создавать кластеры vFXT, если для него заранее создана и назначена дополнительная роль доступа. Тем не менее эта роль предоставляет ему значимые разрешения. [В этой статье](avere-vfxt-non-owner.md) объясняется, как предоставить пользователям без прав владельца возможность создавать кластеры.

## <a name="quota-for-the-vfxt-cluster"></a>Квота для кластера vFXT

Для следующих компонентов Azure необходимо иметь достаточную квоту. При необходимости [подайте запрос на увеличение квоты](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request).

> [!NOTE]
> Виртуальные машины и компоненты SSD, перечисленные здесь, предназначены для самого кластера vFXT. Вам потребуется дополнительная квота для виртуальных машин и SSD, которые будут использоваться для вычислительной фермы.  Убедитесь, что квота включена для региона, где планируется запустить рабочий процесс.

|Компонент Azure|Quota|
|----------|-----------|
|Виртуальные машины|3 (или больше) D16s_v3 или E32s_v3|
|Хранилище SSD (цен. категория "Премиум")|200 ГБ пространства ОС плюс от 1 до 4 ТБ объема кэша на узел |
|Учетная запись хранения (необязательно) |версия 2|
|Серверное хранилище данных (необязательно) |Один новый контейнер больших двоичных объектов в LRS |

## <a name="accept-software-terms-in-advance"></a>Принятие условий программного обеспечения заранее

> [!NOTE] 
> Этот шаг не является обязательным, если владелец подписки создает кластер Avere vFXT.

Перед созданием кластера необходимо принять условия предоставления услуг для программного обеспечения Avere vFXT. Если вы не являетесь владельцем подписки, он должен принять условия заранее. Этот шаг достаточно выполнить один раз для каждой подписки.

Чтобы принять условия программного обеспечения заранее: 

1. Откройте Cloud Shell на портале Azure или перейдите по адресу <https://shell.azure.com>. Войдите с помощью идентификатора своей подписки.

   ```azurecli
    az login
    az account set --subscription abc123de-f456-abc7-89de-f01234567890
   ```

1. Выполните эту команду, чтобы принять условия предоставления услуг и включить программный доступ для Avere vFXT для образов программного обеспечения в Azure: 

   ```azurecli
   az vm image accept-terms --urn microsoft-avere:vfxt:avere-vfxt-controller:latest
   az vm image accept-terms --urn microsoft-avere:vfxt:avere-vfxt-node:latest
   ```

## <a name="next-step-create-the-vfxt-cluster"></a>Следующий шаг: создание кластера vFXT

После выполнения этих предварительных требований можно переходить к созданию кластера. Инструкции см. в статье [Развертывание кластера vFXT](avere-vfxt-deploy.md).