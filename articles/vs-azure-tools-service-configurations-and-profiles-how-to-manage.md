---
title: Как управлять конфигурациями и профилями службы | Microsoft Docs
description: Узнайте, как работать с файлами конфигурации службы и файлами профилей, в которых хранятся параметры для сред развертывания и параметры публикации для облачных служб.
services: visual-studio-online
documentationcenter: na
author: TomArcher
manager: douge
editor: ''

ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 08/15/2016
ms.author: tarcher

---
# Управление конфигурациями и профилями службы
## Обзор
При публикации облачной службы Visual Studio сохраняет сведения о конфигурации в файлах конфигурации двух видов: конфигурациях службы и профилях. Конфигурации службы (CSCFG-файлы) содержат параметры для сред развертывания облачной службы Azure. Azure использует эти файлы конфигурации при управлении облачными службами. В свою очередь, профили (файлы AZUREPUBXML) содержат параметры публикации для облачных служб. Эти параметры являются отражением конфигурации, выбранной при использовании мастера публикации, и используются локально в Visual Studio. В этой статье объясняется, как работать с файлами конфигурации обоих типов.

## Конфигурации службы
Вы можете создать несколько конфигураций службы для каждой из своих сред развертывания. Например, вы можете создать одну конфигурацию службы для локальной среды, в которой запускаете и тестируете приложения Azure, а другую — для рабочей среды.

Вы можете добавлять, удалять, переименовывать и изменять конфигурации служб по своему усмотрению. Конфигурациями служб можно управлять из Visual Studio, как показано на следующем рисунке.

![Управление конфигурациями службы](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-service-config.png)

Также вы можете открыть диалоговое окно **Управление конфигурациями** со страниц свойств роли. Чтобы открыть окно свойств роли в проекте Azure, откройте контекстное меню для этой роли и выберите пункт **Свойства**. На вкладке **Параметры** разверните список **Конфигурация службы**, а затем выберите **Управление**, чтобы открыть диалоговое окно **Управление конфигурациями**.

### Добавление конфигурации службы
1. В обозревателе решений откройте контекстное меню проекта Azure и выберите пункт **Управление конфигурациями**.
   
    Откроется диалоговое окно **Управление конфигурациями службы**.
2. Чтобы добавить новую конфигурацию службы, создайте копию существующей конфигурации. Для этого выберите в списке "Имя" конфигурацию, которую хотите скопировать, и нажмите кнопку **Создать копию**.
3. Чтобы изменить имя конфигурации службы, выберите в списке "Имя" новую конфигурацию службы и нажмите кнопку **Переименовать**. Этот шаг можно пропустить. В текстовом поле **Имя** введите имя для этой конфигурации службы и нажмите кнопку **ОК**.
   
    В проект Azure в обозревателе решений добавится новый CSCFG-файл с именем ServiceConfiguration.[Новое имя].cscfg.

### Удаление конфигурации службы
1. В обозревателе решений откройте контекстное меню проекта Azure и выберите пункт **Управление конфигурациями**.
   
    Откроется диалоговое окно **Управление конфигурациями службы**.
2. Чтобы удалить конфигурацию службы, выберите из списка **Имя** конфигурацию, которую нужно удалить, и нажмите кнопку **Удалить**. Появится диалоговое окно, в котором следует подтвердить удаление конфигурации.
3. Нажмите кнопку **Удалить**.
   
     Файл конфигурации службы будет удален из проекта Azure в обозревателе решений.

### Переименование конфигурации службы
1. В обозревателе решений откройте контекстное меню проекта Azure и выберите пункт **Управление конфигурациями**.
   
    Откроется диалоговое окно **Управление конфигурациями службы**.
2. Чтобы переименовать конфигурацию службы, выберите из списка **Имя** новую конфигурацию службы и нажмите кнопку **Переименовать**. В текстовом поле **Имя** введите имя для этой конфигурации службы и нажмите кнопку **ОК**.
   
    Имя файла конфигурации службы изменится в проекте Azure в обозревателе решений.

### Изменение конфигурации службы
* Если вы хотите изменить конфигурацию службы, откройте контекстное меню для роли в проекте Azure, которую нужно изменить, и выберите пункт **Свойства**. Дополнительные сведения см. в статье [Инструкции. Настройка ролей для облачной службы Azure в среде Visual Studio](https://msdn.microsoft.com/library/azure/hh369931.aspx).

## Создание различных комбинаций параметров с помощью профилей
С помощью профилей вы можете автоматически добавлять в **мастер публикации** комбинации параметров для различных целей. Например, вы можете создать один профиль для отладки, а другой — для сборок выпуска. В таком случае в профиле **Отладка** будет включен параметр **IntelliTrace** и выбрана конфигурация **Отладка**, а в профиле **Выпуск** будет отключен параметр **IntelliTrace** и выбрана конфигурация **Выпуск**. Также вы можете использовать различные профили для развертывания службы с помощью разных учетных записей хранения.

При первом запуске мастера публикации создается профиль по умолчанию. Visual Studio создает файл профиля с расширением AZUREPUBXML и сохраняет его в папку **Профили** вашего проекта Azure. Если при следующем запуске мастера вы вручную укажете другие параметры, этот файл автоматически обновится. Перед выполнением следующей процедуры следует хотя бы один раз опубликовать облачную службу.

### Добавление профиля
1. Откройте контекстное меню проекта Azure и выберите пункт **Опубликовать**.
2. Нажмите кнопку **Сохранить профиль**, расположенную рядом со списком **Целевой профиль**, как показано на следующем рисунке. Будет создан новый профиль.
   
    ![Создание нового профиля](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/create-new-profile.png)
3. Создав профиль, щелкните **<Управление>** в списке **Целевой профиль**.
   
    Появится диалоговое окно **Управление профилями**, как показано на следующем рисунке.
   
    ![Диалоговое окно «Управление профилями»](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-profiles.png)
4. В списке **Имя** выберите профиль и нажмите кнопку **Создать копию**.
5. Щелкните кнопку **Закрыть**.
   
    Новый профиль появится в списке «Целевой профиль».
6. Выберите этот профиль в списке **Целевой профиль**. Значения из выбранного профиля будут заданы для параметров мастера публикации.
7. Просмотрите страницы мастера публикации, нажимая кнопки **Назад** и **Далее**, и настройте параметры для этого профиля. Дополнительные сведения см. в статье [Мастер публикации приложений Azure](http://go.microsoft.com/fwlink/p/?LinkID=623085).
8. Когда вы настроите все параметры, нажмите кнопку **Далее**, чтобы вернуться на страницу параметров. Профиль будет сохранен, если вы опубликуете службу с помощью этих параметров или нажмете кнопку **Сохранить** рядом со списком профилей.

### Переименование или удаление профиля
1. Откройте контекстное меню проекта Azure и выберите пункт **Опубликовать**.
2. В списке **Целевой профиль** выберите пункт **Управление**.
3. В диалоговом окне **Управление профилями** выберите профиль, который нужно удалить, и нажмите кнопку **Удалить**.
4. В появившемся диалоговом окне подтвердите удаление, нажав кнопку **ОК**.
5. Нажмите кнопку **Закрыть**.

### Изменение профиля
1. Откройте контекстное меню проекта Azure и выберите пункт **Опубликовать**.
2. В списке **Целевой профиль** выберите профиль, который нужно изменить.
3. Просмотрите страницы мастера публикации, нажимая кнопки **Назад** и **Далее**, и настройте необходимые параметры. Дополнительные сведения см. в статье [Мастер публикации приложений Azure](http://go.microsoft.com/fwlink/p/?LinkID=623085).
4. Когда вы настроите все параметры, нажмите кнопку **Далее**, чтобы вернуться на страницу **Параметры**.
5. Нажмите кнопку **Опубликовать**, чтобы опубликовать облачную службу с новыми параметрами. Этот шаг можно пропустить. Если вы не опубликуете облачную службу и закроете мастер публикации, в Visual Studio появится запрос на сохранение изменений в профиле.

## Дальнейшие действия
Дополнительные сведения о настройке других частей проекта Azure в Visual Studio см. в статье [Настройка проекта Azure](http://go.microsoft.com/fwlink/p/?LinkID=623075).

<!---HONumber=AcomDC_0817_2016-->