<properties linkid="develop-net-tutorials-multi-tier-web-site-2-download-and-run" urlDisplayName="Шаг 2: загрузка и запуск" pageTitle="Учебник по многоуровневому веб-приложению ASP.NET вместе с Azure - Шаг 2. Загрузка и запуск" metaKeywords="Учебник по Azure, развертывание приложения службы электронной почты, публикация службы электронной почты" description="Второй учебник серии, в котором объясняется, как настроить компьютер для разработки и развертывания приложения службы электронной почты в Azure" metaCanonical="" services="cloud-services,storage" documentationCenter=".NET" title="Настройка и развертывание приложения службы электронной почты Azure - 2 из 5" authors="riande,tdykstra" solutions="" manager="wpickett" editor="mollybos" />

#Настройка и развертывание приложения службы электронной почты Azure — 2 из 5

Это второй из пяти учебников в серии. В нем показано, как построить и развернуть образец приложения службы электронной почты Azure.  Сведения о приложении и самой серии учебников см. в [первом учебнике серии][firsttutorial].

В этом учебнике показано, как настроить компьютер для разработки в Azure и развернуть приложение службы электронной почты Windows Azure в облачной службе Windows Azure, используя любой из следующих продуктов:

* Visual Studio 2012
* Visual Studio 2012 Express для Web
* Visual Studio 2010
* Visual Web Developer Express 2010.

>[WACOM.NOTE] После написания этого учебника была выпущена среда Visual Studio 2013 и обновлены портал управления Azure и пакет SDK. Примечания, аналогичные этим, были добавлены в тех местах, где следует предпринимать несколько иные действия при использовании Visual Studio 2013 и последней версии пакета SDK. Эти примечания были составлены в марте 2014 г., а измененные процедуры были протестированы с использованием пакета SDK версии 2.3.

Можно бесплатно создать учетную запись Azure, а если у вас еще нет Visual Studio 2013, пакет SDK автоматически установит Visual Studio 2013 for Web Express. Благодаря этому вы можете приступить к разработке приложений для Azure совершенно бесплатно.

В этом учебнике вы узнаете следующее:

*  Как настроить компьютер для разработки в Azure с помощью пакета Azure SDK.
*  Как настроить и протестировать приложение службы электронной почты Azure на локальном компьютере.
* Как опубликовать приложение в Azure.
* Как просмотреть и изменить таблицы, очереди и BLOB-объекты Azure с помощью Visual Studio или обозревателя хранилища Azure.
* Как настроить трассировку и просматривать данные трассировки.
* Как масштабировать приложение, увеличивая число экземпляров рабочих ролей.

<div class="dev-callout"><strong>Примечание.</strong>
<p>Для работы с этим учебником требуется учетная запись Azure. Можно создать <a href="/ru-ru/pricing/free-trial/" target="_blank">бесплатную пробную учетную запись</a> или <a href="/ru-ru/pricing/member-offers/msdn-benefits/" target="_blank">активировать преимущества подписчика MSDN</a>.</p>
</div>
<br />

###Сегменты учебника

- [Настройка среды разработки][]
- [Настройка бесплатной учетной записи Azure][]
- [Создание учетной записи хранения Azure][]
- [Установка обозревателя хранилищ Azure][]
- [Создание облачной службы][]
- [Загрузка и запуск готового решения][]
- [Просмотр хранилища разработки в Visual Studio][]
- [Настройка приложения для доступа к хранилищу Azure][]
- [Развертывание приложения в Azure][]
- [Продвижение приложения из промежуточной среды в рабочую][]
- [Настройка приложения для использования SendGrid][]
- [Настройка трассировки и просмотр данных трассировки][]
- [Добавление еще одного экземпляра рабочей роли для обработки повышенной нагрузки][]


>[WACOM.NOTE] В следующем разделе, посвященном установке SDK, правильной ссылкой при использовании Visual Studio 2013 является [http://go.microsoft.com/fwlink/?LinkID=324322](http://go.microsoft.com/fwlink/?LinkID=324322). 


[WACOM.INCLUDE [install-sdk-2012-only](../includes/install-sdk-2012-only.md)]



<h2><a name="createWASA"></a><span class="short-header">Создание учетной записи хранения</span>Создание учетной записи хранения Azure</h2>

При выполнении примера приложения в Visual Studio можно получить доступ к таблицам, очередям и BLOB-объектам в хранилище разработки Azure или в учетной записи хранения Azure в облаке. Хранилище разработки использует базу данных SQL Server Express LocalDB для эмуляции работы хранилища Azure в облаке.  Вы начнете знакомство с этим учебником с использования хранилища разработки, а затем вы узнаете, как настроить приложение на использование облачной учетной записи хранения при запуске в Visual Studio. Этот раздел учебника посвящен созданию учетной записи хранения Azure, которую вы настроите для дальнейшего использования Visual Studio в данном учебнике.    

1. Откройте в браузере [Портал управления Azure][NewPortal].

2. На [портале управления Azure][NewPortal] щелкните элемент **Хранилище** и нажмите кнопку **Создать**.

   ![Новое хранилище][mtas-portal-new-storage]

3. Щелкните **Быстро создать**.
   
   ![Быстрое создание][mtas-storage-quick]

4. В поле ввода URL-адреса введите префикс URL-адреса. 

	Этот префикс в сочетании с текстом, который отображается под полем, будет уникальным URL-адресом для вашей учетной записи хранения. Если введенный префикс уже используется другим пользователем, вы увидите над полем сообщение &quot;Имя хранилища уже используется&quot;, и вам придется выбрать другой префикс.

5. Задайте область, в которой требуется развернуть приложение.

6. В раскрывающемся списке **Репликация** выберите значение **Локально избыточное**. 

	При включении георепликации для учетной записи хранения хранящиеся данные реплицируются в дополнительное расположение для обеспечения возможности отработки отказа в это расположение в случае крупной аварии в основном расположении. Георепликация может потребовать дополнительных затрат. Для учетных записей тестирования и разработки оплачивать георепликацию обычно не требуется. Дополнительные сведения см. в разделе [Управление учетными записями хранения][managestorage].

5.   Щелкните **Создать учетную запись хранения**. 

	На следующем рисунке показано создание учетной записи хранения с URL-адресом `aestest3.core.windows.net`.

	![Создание хранилища с префиксом URL-адреса][mtas-create-storage-url-test]

	Выполнение этого шага может занять несколько минут. Во время ожидания вы можете повторить эти шаги и создать рабочую учетную запись хранения. Часто удобно иметь тестовую учетную запись хранения для локальной разработки, еще одну учетную запись хранения для тестирования в Azure, а также рабочую учетную запись хранения.

5. Выберите тестовую учетную запись, созданную на предыдущем шаге, а затем щелкните значок **Управления ключами**.

	![Управление ключами][mtas-manage-keys]<br/>

	![Ключи GUID][mtas-guid-keys]<br/>

	Ключ доступа **Первичный ключ доступа** или **Вторичный ключ доступа** потребуется вам на протяжении всей работы с учебником. В строке подключения хранилища можно использовать один из этих ключей. 

	Существует два ключа, чтобы можно было периодически изменять используемый ключ без перерывов в обслуживании для реального приложения. Вы повторно создаете ключ, который не используете, а затем можете изменить строку подключения в приложении, чтобы использовать повторно созданный ключ. В случае наличия всего одного ключа при повторном создании ключа приложения потеряет подключение к учетной записи хранения. Приведенные на изображении ключи недействительны, поскольку они были созданы повторно после записи изображения.

6. Скопируйте один из этих ключей в буфер обмена для использования в следующем разделе.





<h2><a name="installASE"></a><span class="short-header">Установка ASE</span>Установка обозревателя хранилищ Azure</h2>

**Обозреватель хранилищ Azure** (ASE) — это средство, которое можно использовать для запроса и обновления таблиц, очередей и BLOB-объектов хранилища Azure. Вы будете использовать его во время работы с этими учебниками, чтобы проверить правильность обновления данных и создать тестовые данные.

1. Установите [обозреватель хранилищ Azure](http://azurestorageexplorer.codeplex.com/ ).

	На снимках экрана показано ASE 4, однако по предпочтению можно установить ASE 5.

2. Запустите **Обозреватель хранилищ Azure** и нажмите кнопку **Добавить учетную запись**.

	![Добавление учетной записи ASE][mtas-ase-add]

3. Введите имя тестовой учетной записи хранения и вставьте скопированный ранее ключ.

4. Щелкните элемент **Добавить учетную запись хранения**.

	![Добавление учетной записи ASE][mtas-ase-add2]

Доступны также и другие средства, работающие с хранилищем Azure. Дополнительные сведения см. в разделе [Обучающие ресурсы для хранилищ Windows Azure (2014)](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/03/11/windows-azure-storage-explorers-2014.aspx).




<h2><a name="createcloudsvc"></a><span class="short-header">Создание облачной службы</span>Создание облачной службы</h2>

1. Откройте в браузере [Портал управления Azure][NewPortal].

2. Щелкните элемент **Облачные службы** и значок **Создать**.

	![Быстрое создание облака][mtas-new-cloud]

3. Щелкните **Быстро создать**.

4. В поле ввода URL-адреса введите префикс URL-адреса. 

	Как и URL-адрес хранилища, этот URL-адрес должен быть уникальным, и вы получите сообщение об ошибке, если выбранный префикс уже используется другим пользователем.

5. Задайте область, в которой требуется развернуть приложение.

	Облачную службу следует создавать в той же области, где вы создали учетную запись хранения. Когда облачная служба и учетная запись хранения находятся в разных центрах обработки данных (различных областях), увеличивается задержка и вам потребуется оплачивать пропускную способность за пределами центра обработки данных. Пропускная способность в рамках центра обработки данных предоставляется бесплатно.

	Территориальные группы Azure обеспечивают механизм для минимизации расстояния между ресурсами в центре обработки данных, что позволяет уменьшить задержку. В этом учебнике территориальные группы не используются. Дополнительные сведения см. в разделе [Создание территориальной группы в Azure](http://msdn.microsoft.com/ru-ru/library/jj156209.aspx).

6. Щелкните **Создать облачную службу**. 

	На следующем рисунке облачная служба создается с использованием URL-адреса aescloud.cloudapp.net.

	![Создание хранилища с префиксом URL-адреса][mtas-create-cloud]

	Вы можете перейти к следующему шагу, не дожидаясь завершения текущего.





<h2><a name="downloadcnfg"></a><span class="short-header">Загрузка и запуск</span>Загрузка и запуск готового решения</h2>

1. Загрузите и распакуйте [готовое решение](http://code.msdn.microsoft.com/Windows-Azure-Multi-Tier-eadceb36).

2. Запустите Visual Studio с повышенным уровнем разрешений.

	Эмулятор вычислений, позволяющий Visual Studio локально выполнять проект Windows Azure, требует разрешений более высокого уровня.

	>[WACOM.NOTE] Начиная с пакета SDK версии 2.3 и выше, эмулятор среды выполнения приложений Azure не требует повышенных разрешений, однако этот проект все еще настроен для использования исходного эмулятора среды выполнения приложений, поэтому повышенные разрешения необходимы.
	
3. Восстановите пакеты NuGet.

	Чтобы обеспечить небольшой размер загружаемого файла, готовое решение предоставляется без сборок и другого содержимого для установленных пакетов NuGet. При открытии и построении решения пакет NuGet автоматически получает все содержимое пакета. Чтобы все это работало, необходимо включить параметр восстановления пакета NuGet в Visual Studio. Если вы еще не включили восстановление пакета NuGet, выполните следующие действия.

	>[WACOM.NOTE] В Visual Studio 2013 настройкой по умолчанию является автоматическое восстановление пакета, однако, так как вы открываете проект Visual Studio 2012, восстановление не будет выполняться автоматически.  Откройте решение, затем откройте диалоговое окно **Управление пакетами NuGet** в соответствии с инструкциями ниже. В правом верхнем углу появится кнопка **Восстановить**. Нажмите эту кнопку, чтобы восстановить пакеты. 

		1. В меню **Сервис** выберите **Диспетчер пакетов библиотеки** и затем **Управление пакетами NuGet для решения**. 

		2. В левом нижнем углу диалогового окна **Управление пакетами NuGet** щелкните пункт **Параметры**.

		3. На левой панели диалогового окна **Параметры** выберите **Общие** в области **Диспетчер пакетов**.

		4. Выберите **Разрешить NuGet загружать отсутствующие пакеты во время построения**.

	![Включение восстановления пакета NuGet](./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/NuGetPkgRestore.png)

3. В меню **Файл** выберите **Открыть проект**, перейдите к папке, куда вы загрузили решение, а затем откройте файл решения.

3. В **обозревателе решений** убедитесь, что в качестве запускаемого проекта выбран **AzureEmailService**.

1. Нажмите сочетание клавиш CTRL+F5 для запуска приложения.

	>[WACOM.NOTE] Чтобы разрешить сборку решения, необходимо добавить ссылку в существующие сборки SDK. В обозревателе решений щелкните правой кнопкой мыши проект MvcWebRole, затем щелкните **Добавить** -- **Ссылка**. В разделе **Сборки** нажмите кнопку **Расширения**. Выберите *Microsoft.WindowsAzure.Diagnostics* и *Microsoft.WindowsAzure.ServiceRuntime* и нажмите кнопку **ОК**. Сделайте то же самое для проектов WorkerRoleA и WorkerRoleB.

	Домашняя страница приложения открывается в браузере.

	![Запустите приложение.][mtas-mailinglist1]

2. Щелкните **Создать**.

2. Введите некоторые тестовые данные и нажмите кнопку **Создать**.

	![Запустите приложение.][mtas-create1]

3. Создайте еще пару элементов списка рассылки.

	![Страница индексов списков рассылки][mtas-mailing-list-index-page]

4. Щелкните **Подписчики** и добавьте нескольких подписчиков. Установите для параметра **Проверено** значение `true`.

	![Страница индексов подписчиков][mtas-subscribers-index-page]

4. Подготовьтесь к добавлению сообщений путем создания файла *TXT*, который содержит текст отправляемого сообщения электронной почты. Затем создайте файл *HTM*, который содержит тот же текст, но с некоторым количеством HTML-кода (например, выделите одно из слов в сообщении полужирным шрифтом или курсивом). Эти файлы потребуются вам на следующем шаге.

4. Нажмите кнопку **Сообщения**, а затем добавьте несколько сообщений. Выберите файлы, созданные на предыдущем шаге. Не изменяйте запланированную дату, которая по умолчанию перенесена на одну неделю в будущее. Приложение не может отправлять сообщения, пока не настроен компонент SendGrid.

   ![Страница создания сообщения][mtas-message-create-page]
	<br/><br/>
   ![Страница индексов сообщений][mtas-message-index-page]

Вводимые и просматриваемые вами данные хранятся в хранилище разработки Azure. Хранилище разработки использует базу данных SQL Server Express LocalDB для эмуляции работы хранилища Azure в облаке.  В приложении используется хранилище разработки, поскольку именно так был настроен проект во время его загрузки. Этот параметр хранится в файлах *CSCFG* проекта **AzureEmailService**.  Файл *ServiceConfiguration.Local.cscfg* определяет, что именно используется при локальном запуске приложения в Visual Studio, а файл *ServiceConfiguration.Cloud.cscfg* определяет, что используется при развертывании приложения в облаке. Позже вы узнаете, как настроить приложение на использование созданной ранее учетной записи хранения Azure.





<h2><a name="StorageExpVS"></a><span class="short-header">Хранилище разработки</span>Просмотр хранилища разработки в Visual Studio</h2>

Обозреватель **Хранилище Azure** в **обозревателе серверов** обеспечивает удобный просмотр ресурсов хранилища Azure в режиме только для чтения.

1. В меню **Вид** Visual Studio выберите элемент **Обозреватель серверов**.

2. Разверните узел **(Разработка)** в узле **Хранилище Azure**.

	>[WACOM.NOTE] В текущем SDK откройте **Windows Azure** / **Хранилище** / **(Разработка)**.

3. Разверните узел **Таблицы** для просмотра таблиц, созданных на предыдущих шагах.

	![Обозреватель серверов][mtas-serverExplorer]

3. Дважды щелкните таблицу **MailingList**.

   ![Обозреватель хранилищ VS][mtas-wasVSdata]

	Обратите внимание, как окно показывает разные схемы в таблице. Сущности `MailingList` имеют свойство `Описание` и `FromEmailAddress`, а сущности `Subscriber` имеют свойство `Проверено` (а также свойство `SubscriberGUID`, которое не отображается, поскольку изображение недостаточно широко). Таблица содержит столбцы для всех свойств, и если конкретная строка таблицы предназначена для сущности, не имеющей заданного свойства, эта ячейка будет пуста.

В Visual Studio нельзя использовать обозреватель хранилища для обновления или удаления ресурсов хранилища Azure. Вы можете использовать [обозреватель хранилищ Azure](http://azurestorageexplorer.codeplex.com/ ) для обновления или удаления ресурсов хранилища разработки. (Чтобы настроить обозреватель хранилищ Azure на использование хранилища разработки, установите флажок **Хранилище разработки** в диалоговом окне **Добавление учетной записи хранения**.)

>[WACOM.NOTE] C помощью последнего SDK можно обновить хранилище разработки в **Обозревателе сервера**. 



<h2><a name="conf4azureStorage"></a><span class="short-header">Использование учетной записи хранения</span>Настройка приложения на использование учетной записи хранения Azure</h2>

Далее вы узнаете, как настроить приложение таким образом, чтобы при запуске в Visual Studio оно использовало вашу учетную запись хранения Azure, а не хранилище разработки. В Visual Studio доступен новый способ выполнения данной задачи, который был представлен в версии 1.8 пакета SDK, и старый способ, который включает в себя копирование и вставку параметров на портале управления Azure. Дальнейшие действия иллюстрируют новый способ настройки параметров учетной записи хранения.

4. В **обозревателе решений** щелкните правой кнопкой мыши элемент **MvcWebRole** в области **Роли** облачного проекта **AzureEmailService**, а затем выберите пункт **Свойства**.

	![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-rt-prop]<br/>

5. Выберите вкладку **Параметры**. В раскрывающемся списке **Конфигурация службы** и выберите значение **Локально**.

6. Выберите запись **StorageConnectionString**, и вы увидите кнопку с многоточием (**...**) в правом конце строки. Нажмите эту кнопку с многоточием, чтобы открыть диалоговое окно **Строка подключения учетной записи хранения**.

	![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-elip]<br/>

7. В диалоговом окне **Создание строки подключения хранилища** щелкните элемент **Ваша подписка** и элемент **Загрузить параметры публикации**.

	>[WACOM.NOTE] При использовании последней версии пакета SDK это диалоговое окно позволяет выполнить вход в Azure и без труда выполнить вход в нужную учетную запись хранения. 

	![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-enter]<br/>

	Visual Studio запускает новый экземпляр браузера по умолчанию с URL-адресом страницы портала Azure, на которой можно загрузить параметры публикации. Если вы не выполнили вход на портал, будет отображен соответствующий запрос. После выполнения входа браузер предложит сохранить параметры публикации. Запомните место сохранения параметров.

   ![Параметры публикации][mtas-3]

1. В диалоговом окне **Создание строки подключения хранилища** щелкните элемент **Импорт** и затем перейдите к файлу параметров публикации, созданному на предыдущем шаге.

1. Выберите нужную подписку и учетную запись хранения и нажмите кнопку **ОК**.

	![Выберите учетную запись хранения][mtas-5]

1. Для задания строки подключения `Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString` выполните ту же саму процедуру, которая использовалась для строки подключения `StorageConnectionString`.

	Загружать файл параметров публикации повторно не требуется. При нажатии кнопки с многоточием для строки подключения `Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString` вы обнаружите, что диалоговое окно **Создание строки подключения хранилища** запоминает сведения о вашей подписке. При щелчке переключателя **Ваша подписка** нужно просто выбрать те же значения **Подписка** и **Имя учетной записи**, которые вы выбрали ранее, и нажать кнопку **ОК**. 

2. Выполните ту же процедуру, которую использовали для двух строк подключения, для роли MvcWebRole, чтобы задать строки подключения для ролей WorkerRoleA и workerRoleB.

### Ручной метод настройки учетных данных учетной записи хранения

Следующая процедура описывает ручной способ настройки параметров учетной записи хранения. Если вы использовали автоматический метод, описанный в предыдущей процедуре, можно пропустить эту процедуру либо ознакомиться с ней, чтобы узнать принцип работы автоматического метода.

1. Откройте в браузере [Портал управления Azure][NewPortal].

2. Откройте вкладку **Хранилище**, выберите тестовую учетную запись, созданную на предыдущем шаге, а затем щелкните значок **Управления ключами**.

   ![Управление ключами][mtas-manage-keys]<br/>

   ![Ключи GUID][mtas-guid-keys]<br/>

3. Скопируйте первичный или вторичный ключ доступа.


4. В **обозревателе решений** щелкните правой кнопкой мыши элемент **MvcWebRole** в области **Роли** облачного проекта **AzureEmailService**, а затем выберите пункт **Свойства**.

   ![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-rt-prop]<br/>

5. Выберите вкладку **Параметры**. В раскрывающемся списке **Конфигурация службы** выберите значение **Локально**.

6. Выберите запись **StorageConnectionString**, и вы увидите кнопку с многоточием (**...**) в правом конце строки. Нажмите эту кнопку с многоточием, чтобы открыть диалоговое окно **Строка подключения учетной записи хранения**.

   ![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-elip]<br/>

7. В диалоговом окне **Создание строки подключения хранилища** выберите переключатель **Учетные данные, введенные вручную**. Введите имя вашей учетной записи хранения и первичный или вторичный ключ доступа, скопированный из портала. 

7.  Нажмите кнопку **ОК**.

Можно использовать аналогичную процедуру для настройки параметров рабочих ролей либо распространить параметры веб-ролей в рабочие роли путем изменения файла конфигурации. Ниже объясняется, как изменить файл конфигурации. (Это по-прежнему является частью ручного способа задания учетных данных хранилища, которую не нужно выполнять, если вы уже распространили параметры в рабочие роли с помощью автоматического метода.)

8. Откройте файл **ServiceConfiguration.Local.cscfg**, расположенный в проекте **AzureEmailService**.

	В элементе `Роль` для `MvcWebRole` появится элемент `ConfigurationSettings` с параметрами, обновленными с помощью пользовательского интерфейса Visual Studio.

		  <Role name="MvcWebRole">
		    <Instances count="1" />
		    <ConfigurationSettings>
		      <Setting name="Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString" value="DefaultEndpointsProtocol=https;AccountName=[name];AccountKey=[Key]" />
		      <Setting name="StorageConnectionString" value="DefaultEndpointsProtocol=https;AccountName=aestest;AccountKey=[Key]" />
		    </ConfigurationSettings>
		  </Role>
		
	В элементах `Роль` для двух рабочих ролей отображаются две одинаковых строки подключения.

9. Удалите элементы `Параметр` для этих двух строк подключения из элементов `WorkerRoleA` и `WorkerRoleB`, затем скопируйте и вставьте вместо них элементы `Параметр` из элемента `MvcWebRole`.

Дополнительные сведения о файлах конфигурации см. в разделе [Настройка проекта Azure](http://msdn.microsoft.com/ru-ru/library/windowsazure/ee405486.aspx).

### Тестирование приложения, настроенного на использование вашей учетной записи хранения

9. Нажмите сочетание клавиш CTRL+F5 для запуска приложения. Введите некоторые данные, выбрав ссылки **Списки рассылки**, **Подписчики** и **Сообщения**, как уже делали ранее.

Теперь вы можете использовать либо **Обозреватель хранилищ Azure**, либо **Обозреватель серверов** для просмотра данных, внесенных приложением в таблицы Azure.

### Использование обозревателя хранилищ Azure для просмотра данных, введенных в вашей учетной записи хранения

10. Откройте **обозреватель хранилищ Azure**.

11. Выберите учетную запись хранения, для которой ранее указали учетные данные.

12. В разделе **Тип хранилища** выберите элемент **Таблицы**.

12. Выберите таблицу `MailingList`, щелкните элемент **Запрос** для просмотра данных, введенных на страницах **Список рассылки** и **Подписчик** приложения.

   ![ASE][mtas-ase1]<br/>

### Использование обозревателя серверов для просмотра данных, введенных в вашей учетной записи хранения

11. В **обозревателе серверов** (или **обозревателе баз данных**) щелкните правой кнопкой мыши элемент **Хранилище Azure**, затем щелкните **Добавить новую учетную запись хранения**.

12. Следуйте процедуре, аналогичной выполненной ранее, для задания учетных данных учетной записи хранения.

13. Разверните новый узел под заголовком **Хранилище Azure** для просмотра данных, сохраненных в вашей учетной записи хранения Azure.

	![ASE][mtas-se3]<br/>

### Дополнительные действия по отключению автоматического запуска эмулятора хранения Azure 

Если эмулятор хранения не используется, можно уменьшить время запуска проекта и использовать меньше локальных ресурсов за счет отключения автоматического запуска эмулятора хранения Azure.

11. В **обозревателе решений** щелкните правой кнопкой мыши облачный проект **AzureEmailService**, а затем выберите пункт **Свойства**.

	![Выбор свойств облачного проекта][mtas-aesp]<br/>

11. Перейдите на вкладку **Разработка**.

12. Задайте значение **False** для параметра **Запустить эмулятор хранилища Azure**.

	![Отключение автоматического запуска эмулятора хранения][mtas-1]<br/>

	**Примечание**. Задавайте значение false для данного параметра только в том случае, если не собираетесь использовать эмулятор хранения. 

	В этом окне также можно изменить файл **конфигурации службы**, который используется при локальном запуске приложения из среды **Локально** в **Облако** (с *ServiceConfiguration.Local.cscfg* на *ServiceConfiguration.Cloud.cscfg*).

13. На панели задач Windows щелкните правой кнопкой мыши значок эмулятора вычислений и выберите пункт **Завершить работу эмулятора хранилища**.

	![ASE][mtas-se4]<br/>





<h2><a name="sendGrid"></a><span class="short-header">SendGrid</span>Настройка приложения для использования SendGrid</h2>

Пример приложения использует SendGrid для отправки сообщений электронной почты.  Для отправки сообщений электронной почты с помощью SendGrid необходимо настроить учетную запись SendGrid, а затем обновить файл конфигурации с учетными данными SendGrid.

<div class="note"><p><strong>Примечание.</strong> Если вы не хотите или не можете использовать SendGrid, этот компонент можно легко заменить на собственную службу электронной почты. Код, использующий SendGrid, изолирован в двух методах рабочей роли B. В [учебнике 5][tut5] поясняется, что именно нужно изменить, чтобы реализовать другой метод отправки сообщений электронной почты. Если вы хотите сделать это, можете пропустить данную процедуру и продолжить работу с этим учебником; все остальное в приложении (веб-страницы, электронная почта, планирование и т. д.) будет работать, за исключением фактической отправки сообщений электронной почты.</p></div>

### Создание учетной записи SendGrid
 
1. Выполните инструкции, приведенные в разделе [Отправка электронной почты с помощью SendGrid в Azure](http://www.windowsazure.com/ru-ru/develop/net/how-to-guides/sendgrid-email-service/ "SendGrid"), чтобы зарегистрировать бесплатную учетную запись.

### Обновление учетных данных SendGrid в свойствах рабочей роли
 
Когда вы задавали учетные данные учетной записи хранения для веб-роли и двух рабочих ролей, можно было заметить, что рабочая роль B имела три параметра, отсутствовавшие в веб-роли и рабочей роли A. Теперь данным пользовательским интерфейсом можно воспользоваться для настройки этих трех параметров (выберите значение **Облако** в раскрывающемся списке **Конфигурация службы**).

Дальнейшие действия показывают альтернативный метод задания свойств путем изменения файла конфигурации.

2. Измените файл *ServiceConfiguration.Cloud.cscfg* в проекте `AzureEmailService` и введите значения имени пользователя и пароля SendGrid, полученные на предыдущем шаге, в элемент `WorkerRoleB`, который имеет данные параметры. В следующем коде показан элемент WorkerRoleB.

	![SendGridSettings][mtas-sg]<br/>

3. Также присутствует параметр AzureMailServiceURL. Это значение URL-адреса, выбранного при создании облачной службы Azure, например, &quot;http://aescloud.cloudapp.net&quot;.

Путем обновления файла конфигурации облака вы настраиваете параметры, которые будут использоваться при выполнении приложения в облаке. Если вы хотите, чтобы приложение отправляло сообщения электронной почты во время локального выполнения, необходимо также обновить файл *ServiceConfiguration.Local.cscfg*.




<h2><a name="deployAz"></a><span class="short-header">Развертывание в Azure</span>Развертывание приложения в Azure</h2>

Для развертывания приложения можно создать пакет в Visual Studio и загрузить его с помощью портала управления Azure либо опубликовать непосредственно из Visual Studio. В этом учебнике будет использоваться метод публикации.

Сначала вы публикуете приложение в промежуточной среде, а затем это промежуточное развертывание переносится в рабочую среду.

### Реализации ограничений по IP-адресам

При развертывании в промежуточной среде приложение будет доступно для всех тех, кто знает его URL-адрес. Таким образом, первым шагом является реализация ограничений по IP-адресам, предотвращающая несанкционированный доступ. В реальном приложении необходимо реализовать механизм проверки подлинности и авторизации, такой как система членства ASP.NET, но эти функции исключены из примера приложения для упрощения настройки, развертывания и тестирования.

1. Откройте файл *Web.Release.config*, который находится в корневой папке проекта `MvcWebRole`, и замените значение 127.0.0.1 атрибута **ipAddress** на свой IP-адрес. (Чтобы открыть файл **Web.Release.config** в **обозревателе решений**, необходимо развернуть файл *Web.config*.) 

	Ваш IP-адрес можно найти путем поиска строки &quot;Найти мой IP&quot; в [Bing](http://www.bing.com/search?q=find+my+IP&qs=n&form=QBLH&pq=find+my+ip&sc=8-10&sp=-1&sk= "find my IP") или другой поисковой системе. 

	При публикации приложения применяются указанные в файле *Web.release.config* преобразования, а в файле *web.config*, который развертывается в облаке, обновляются элементы ограничений по IP-адресам. Преобразованный файл *web.config* можно просмотреть в папке *AzureEmailService\MvcWebRole\obj\Release\TransformWebConfig\transformed* после создания пакета.

### Настройка приложения для использования вашей учетной записи хранения при запуске в облаке

Учетные данные учетной записи хранения для веб-роли и двух рабочих ролей, которые вы задавали ранее в рамках этого учебника, использовались при локальном запуске приложения. Теперь необходимо задать учетные данные учетной записи хранения, используемые при запуске приложения в облаке.

Для данного тестового запуска вы будете использовать те же учетные данные для облака, которые используются для локального запуска. При развертывании рабочего приложения обычно используется учетная запись для рабочей среды, отличная от тестовой учетной записи. Кроме того, в рабочей среде рекомендуется использовать разные учетные записи для диагностики connectionString и для строки подключения к хранилищу, но для данного тестового запуска будет использоваться одна и та же учетная запись.

Можно использовать тот же пользовательский интерфейс для настройки строк подключения (просто убедитесь, что в раскрывающемся списке **Конфигурация службы** выбрано значение **Облако**). В качестве альтернативы можно изменить файл конфигурации, как описано в следующих шагах.

1. Откройте файл *ServiceConfiguration.Local.cscfg* проекта **AzureEmailService** и скопируйте элементы `Параметр` для `StorageConnectionString` и `Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString`.  

2. Отройте файл *ServiceConfiguration.Cloud.cscfg* проекта **AzureEmailService** и вставьте скопированные элементы в элемент `Параметры конфигурации` для `MvcWebRole`, `WorkerRoleA` и `WorkerRoleB`, заменяя элементы `Параметр`, которые уже там присутствуют.

2. Убедитесь, что для веб-роли и элементов двух рабочих ролей заданы одинаковые строки подключения.

###Публикация приложения

2. Если программа Visual Studio еще не открыта, запустите ее с правами администратора и откройте решение **AzureEmailService**.

3.	Щелкните правой кнопкой мыши облачный проект **AzureEmailService** и выберите **Опубликовать**.

	![Пакет][mtas-6]

	Появляется диалоговое окно **Опубликовать приложение Azure**. 

	![Облачный пакет][mtas-16]

4. Если ранее вы воспользовались автоматическим методом импорта учетных данных учетной записи хранения, ваша подписка Azure находится в раскрывающемся списке, где можно выбрать ее и нажать кнопку **Далее**. В противном случае щелкните элемент **Вход для загрузки учетных данных** и следуйте инструкциям, приведенным в разделе [Настройка приложения для хранилища Azure][Настройка приложения для доступа к хранилищу Azure], чтобы загрузить и импортировать свои параметры публикации.

1. На вкладке **Общие параметры** проверьте значение в раскрывающемся списке **Облачная служба**.

2. В раскрывающемся списке **Среда** измените значение **Рабочая среда** на **Промежуточная среда**.

	![Панель мониторинга][mtas-7]

3. Оставьте значение по умолчанию **Выпуск** для параметра **Конфигурация сборки** и значение **Облако** для параметра **Конфигурация службы**.

	Заданные на вкладке **Дополнительно** значения по умолчанию подходят для работы с этим учебником. На вкладке **Дополнительно** доступно несколько параметров, которые могут быть полезны при разработке и тестировании. Дополнительные сведения о вкладке &quot;Дополнительно&quot; см. в разделе [Мастер публикации приложения Azure](http://msdn.microsoft.com/library/windowsazure/hh535756.aspx "pub wiz").
   
1. Щелкните **Далее**.

1. В действии **Сводка** мастера щелкните значок **сохранения** (значок дискеты, расположенный справа от раскрывающегося списка &quot;Целевой профиль&quot;) для сохранения параметров публикации. 

	В следующий раз при публикации приложения будут использоваться сохраненные параметры, поэтому вам не придется повторно применять мастер публикации. 

1. Просмотрите параметры, а затем щелкните элемент **Опубликовать**.

	![Публикация][mtas-8]

   В Visual Studio открывается окно **Журнал действий Azure**. 

2. Щелкните значок со стрелкой вправо, чтобы развернуть сведения о развертывании.

	![Публикация][mtas-11]
	<br/><br/>
	![Публикация][mtas-9]

	Развертывание может занять около 5 минут и более.

1. После завершения развертывания щелкните элемент **URL-адрес веб-сайта** для запуска приложения.

	![Панель мониторинга][mtas-c55]

9. Введите некоторые данные на веб-страницах **Список рассылки**, **Подписчик** и **Сообщение** для тестирования приложения.

	**Примечание**. Удалите приложение после завершения тестирования, чтобы не платить за неиспользуемые ресурсы. При использовании [бесплатной пробной учетной записи Azure](http://www.windowsazure.com/ru-ru/pricing/free-trial/ "free-trial account") три развернутых роли выработают месячный лимит за пару недель. 	Чтобы удалить развертывание с помощью портала управления Azure, выберите облачную службу и щелкните элемент**УДАЛИТЬ** в нижней части страницы, а затем выберите развертывание в рабочей или промежуточной среде.

	![Публикация][mtas-19]

1. В журнале действий Azure в Visual Studio выберите **Открыть в обозревателе серверов**.

	Развертывание можно отслеживать в области **Среда выполнения приложений Azure** **обозревателя серверов**. Если в мастере **публикации приложения Azure** выбран параметр **Включить удаленный рабочий стол для всех ролей**, можно щелкнуть правой кнопкой мыши экземпляр роли и выбрать пункт **Подключение с помощью удаленного рабочего стола**. 

	![Публикация][mtas-12]


<h2><a name="swap"></a><span class="short-header">Рабочая среда</span>Продвижение приложения из промежуточной среды в рабочую</h2>

1. В левой области [портала управления Azure][NewPortal] щелкните значок **Облачные службы**, а затем выберите облачную службу.

2. Щелкните **Переключить**.

2. Нажмите кнопку **Да** для переключения виртуального IP-адреса (VIP). Выполнение этого шага может занять несколько минут.

	![Панель мониторинга][mtas-c6]

3. После завершения переключения щелкните значок **Облачные службы**, а затем выберите облачную службу.

4. На вкладке **Панель мониторинга** для развертывания **Рабочая среда** выполните прокрутку вниз до раздела **Сводка**, находящегося в правом нижнем углу страницы. Обратите внимание, что значение **URL-адрес сайта** изменилось с префикса GUID на имя вашей облачной службы. 

	![Панель мониторинга][mtas-c7]

5. Щелкните ссылку в разделе **URL-адрес сайта** или скопируйте и вставьте ее браузер для тестирования приложения в рабочей среде. 

	Если вы не изменяли параметры учетной записи хранения, при запуске приложения в облаке отображаются данные, введенные во время тестирования промежуточной версии приложения.




<h2><a name="trace"></a><span class="short-header">Трассировка</span>Настройка трассировки и просмотр данных трассировки</h2>

Трассировка является крайне полезным средством для отладки облачного приложения. В этом разделе учебника вы узнаете, как просмотреть данные трассировки.

1. Убедитесь, что строка подключения диагностики настроена на использование учетной записи хранения Azure, а не хранилища разработки. 

	Если вы следовали инструкциям, приведенным ранее в этом учебнике, они будут одинаковыми. В их совпадении можно убедиться, воспользовавшись пользовательским интерфейсом Visual Studio (вкладка **Параметры** в окне **Свойства** для роли) или просмотрев файлы *ServiceConfiguration.\*.cscfg*.
 
   **Примечание.** Для трассировки данных рекомендуется использовать учетную запись хранения, отличную от учетной записи хранения, применяемой для данных в рабочей среде, но в целях упрощения процесса в этом учебнике для трассировки настраивается та же учетная запись.

1. Откройте в Visual Studio файл *WorkerRoleA.cs* проекта **WorkerRoleA**, выполните поиск `ConfigureDiagnostics` и просмотрите метод `ConfigureDiagnostics`. 

        private void ConfigureDiagnostics()         {             DiagnosticMonitorConfiguration config = DiagnosticMonitor.GetDefaultInitialConfiguration();             config.ConfigurationChangePollInterval = TimeSpan.FromMinutes(1d);             config.Logs.BufferQuotaInMB = 500;             config.Logs.ScheduledTransferLogLevelFilter = LogLevel.Verbose;             config.Logs.ScheduledTransferPeriod = TimeSpan.FromMinutes(1d);

            DiagnosticMonitor.Start(                 "Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString",                 config);         }

	В этом коде `DiagnosticMonitor` настроен для хранения до 500 МБ данных трассировки (свыше 500 МБ выполняется перезапись наиболее старых данных) и всех сообщений трассировки (LogLevel.Verbose). `ScheduledTransferPeriod` передает данные трассировки в хранилище каждую минуту. Необходимо задать `ScheduledTransferPeriod` для сохранения данных трассировки. 

	Метод `ConfigureDiagnostics` в каждой из рабочих ролей и веб-ролей настраивает прослушиватель трассировки для записи данных при вызове API трассировки. Дополнительные сведения см. в разделе [Использование трассировки в облачных приложениях Windows Azure](http://blogs.msdn.com/b/windowsazure/archive/2012/10/24/using-trace-in-windows-azure-cloud-applications-1.aspx "Using Trace in Windows Azure").

1. В **обозревателе сервера** дважды щелкните **WADLogsTable** (раскройте **Хранилище** / **имя_вашей_учетной_записи_хранения** / **Таблицы**) для учетной записи хранения, которая была добавлена ранее. Можно ввести [фильтр служб данных WCF](http://msdn.microsoft.com/ru-ru/library/windowsazure/ff683669.aspx "WCF filter") для ограничения числа отображаемых сущностей. На следующем рисунке отображаются только предупреждения и сообщения об ошибках.

	![Панель мониторинга][mtas-trc]





<h2><a name="addRole"></a><span class="short-header">Добавление экземпляра роли</span>Добавление еще одного экземпляра рабочей роли для обработки повышенной нагрузки</h2>

Существует два подхода к масштабированию вычислительных ресурсов в ролях Azure — посредством задания [размера виртуальной машины](http://msdn.microsoft.com/ru-ru/library/windowsazure/ee814754.aspx "VM sizes") или задания числа экземпляров запущенных виртуальных машин. 

Размер виртуальной машины (ВМ) указывается в атрибуте `vmsize` элемента `WebRole` или `WorkerRole` в файле *ServiceDefinition.csdef*. По умолчанию используется значение `Small`, предоставляющее одно ядро и 1,75 ГБ ОЗУ. Для многопоточных приложений, которые используют большой объем памяти, места на диске и пропускной способности, можно увеличить размер виртуальной машины для повышения производительности. Например, виртуальная машина размера `Очень крупный` имеет 8 ядер ЦП и 14 ГБ ОЗУ. Увеличение объема памяти, числа ядер ЦП, размера диска и пропускной способности на одном компьютере называется *вертикальным масштабированием*. В число подходящих кандидатов для вертикального масштабирования входят веб-приложения ASP.NET, использующие [асинхронные методы](http://www.asp.net/mvc/tutorials/mvc-4/using-asynchronous-methods-in-aspnet-mvc-4 "Async MVC"). Описание ресурсов, предоставляемых для каждого из размеров виртуальных машин, см. в разделе [Размеры виртуальных машин](http://msdn.microsoft.com/ru-ru/library/windowsazure/ee814754.aspx "VM sizes").

Рабочая роль B в этом приложении выступает в качестве ограничивающего фактора при высокой нагрузке, так как она выполняет работу по отправке сообщений электронной почты. (Рабочая роль A просто создает сообщения очередь, что не требует большого объема ресурсов). Поскольку рабочая роль B не является многопоточной и не имеет большого объема памяти, она не слишком хорошо подходит для вертикального масштабирования. Рабочая роль B допускает линейное масштабирование (то есть может почти вдвое увеличивать производительности при удвоении числа экземпляров) за счет увеличения числа экземпляров. Увеличение количества вычислительных операций называется *горизонтальным масштабированием*. Каждый экземпляр сопряжен с определенными затратами, поэтому горизонтальное масштабирование следует осуществлять только в том случае, когда того требует приложение. 

Можно производить горизонтальное масштабирование веб-роли или рабочей роли, обновляя значение параметра в пользовательском интерфейсе Visual Studio или напрямую изменяя файлы *ServiceConfiguration.\*.cscfg*. Число экземпляров указано на вкладке **Конфигурация** в окне **Свойства** роли, а также в элементе `Экземпляры` в файлах *CSCFG*. При обновлении параметра необходимо развернуть обновленный файл конфигурации, чтобы изменения вступили в силу. Кроме того, в случае временных повышений нагрузки можно изменить количество экземпляров роли на портале управления Azure. Можно также настроить количество экземпляров с помощью API управления Azure. Наконец, можно использовать [блок приложений автоматического масштабирования][autoscalingappblock] для реализации автоматического горизонтального масштабирования в соответствии с повышенной нагрузкой. Дополнительные сведения об автоматическом масштабировании см. по ссылкам, приведенным в конце [последнего учебника данной серии][tut5].

В этом разделе учебника вы будете осуществлять горизонтальное масштабирование рабочей роли B с помощью портала управления, но сначала вы узнаете, как это реализуется в Visual Studio.

Чтобы сделать это в Visual Studio, щелкните правой кнопкой мыши роль в области **Роли** облачного проекта и выберите пункт **Свойства**.

   ![Щелкните элемент &quot;Свойства&quot; правой кнопкой мыши][mtas-rt-prop]
 
Затем откройте расположенную слева вкладку **Конфигурация** и выберите **Облако** в раскрывающемся списке **Конфигурация службы**. 

  ![Число экземпляров][mtas-instanceCnt]

Обратите внимание, что на этой вкладке также можно настроить размер виртуальной машины.

Ниже объясняется, как выполнять горизонтальное масштабирование с помощью портала управления Azure.

1.  На портале управления выберите облачную службу, а затем щелкните элемент **Масштабирование**.

1. Увеличьте число экземпляров для рабочей роли B и нажмите кнопку **Сохранить**.

	![Увеличение числа экземпляров][mtas-in3]

	Для подготовки новых виртуальных машин к работе может потребоваться несколько минут.

1. Выберите вкладку **Экземпляры**, чтобы просмотреть каждый экземпляр роли в приложении.

	![Просмотр экземпляров][mtas-in2]




<h2><a name="nextsteps"></a><span class="short-header">Дальнейшие действия</span>Дальнейшие действия</h2>

Теперь вы знаете, как настроить, развернуть и масштабировать готовое приложение. В следующих учебниках описано построение приложения с нуля. В [следующем учебнике][tut3] вы построите веб-роль.

Ссылки на дополнительные ресурсы по работе с таблицами, очередями и BLOB-объектами хранилища Azure приведены в конце [последнего учебника данной серии][tut5].



<div><a href="/ru-ru/develop/net/tutorials/multi-tier-web-site/3-web-role/" class="site-arrowboxcta download-cta">Учебник 3</a></div>

[Настройка среды разработки]: #setupdevenv
[Настройка бесплатной учетной записи Azure]: #setupwindowsazure
[Создание учетной записи хранения Azure]: #createWASA
[Установка обозревателя хранилищ Azure]: #installASE
[Создание облачной службы]: #createcloudsvc
[Загрузка и запуск готового решения]: #downloadcnfg
[Просмотр хранилища разработки в Visual Studio]: #StorageExpVS
[Настройка приложения для доступа к хранилищу Azure]: #conf4azureStorage
[Развертывание приложения в Azure]: #deployAz
[Продвижение приложения из промежуточной среды в рабочую]: #swap
[Настройка приложения для использования SendGrid]: #sendGrid
[Настройка трассировки и просмотр данных трассировки]: #trace
[Добавление еще одного экземпляра рабочей роли для обработки повышенной нагрузки]: #addRole

[firsttutorial]: /ru-ru/develop/net/tutorials/multi-tier-web-site/1-overview/

[tut3]: /ru-ru/develop/net/tutorials/multi-tier-web-site/3-web-role/
[tut5]: /ru-ru/develop/net/tutorials/multi-tier-web-site/5-worker-role-b/ [NewPortal]: http://manage.windowsazure.com [managestorage]: /ru-ru/manage/services/storage/how-to-manage-a-storage-account/
[autoscalingappblock]: /ru-ru/develop/net/how-to-guides/autoscaling/


[mtas-portal-new-storage]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-portal-new-storage.png [mtas-storage-quick]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-storage-quick.png [mtas-create-storage-url-test]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-create-storage-url-test.png [mtas-manage-keys]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-manage-keys.png [mtas-guid-keys]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-guid-keys.PNG [mtas-new-cloud]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-new-cloud.png [mtas-create-cloud]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-create-cloud.png [mtas-ase-add]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-ase-add.png [mtas-ase-add2]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-ase-add2.png

[mtas-rt-prop]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-rt-prop.png [mtas-mailinglist1]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-mailinglist1.png [mtas-create1]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-create1.png [mtas-mailing-list-index-page]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-mailing-list-index-page.png [mtas-subscribers-index-page]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-subscribers-index-page.png [mtas-message-create-page]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-message-create-page.png [mtas-message-index-page]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-message-index-page.png [mtas-serverExplorer]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-serverExplorer.png [mtas-wasVSdata]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-wasVSdata.png [mtas-elip]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-elip.png [mtas-enter]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-enter.png [mtas-ase1]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-ase1.png


[mtas-se3]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-se3.png [mtas-aesp]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-aesp.png [mtas-1]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-1.png [mtas-se4]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-se4.png









[mtas-c6]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-c6.png [mtas-c7]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-c7.png

[mtas-sg]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-sg.png [mtas-trc]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-trc.png [mtas-instanceCnt]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-instanceCnt.png

[mtas-in3]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-in3.png [mtas-in2]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-in2.png [mtas-3]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-3.png [mtas-5]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-5.png [mtas-6]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-6.png [mtas-16]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-16.png [mtas-7]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-7.png [mtas-8]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-8.png [mtas-9]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-9.png [mtas-11]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-11.png [mtas-12]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-12.png [mtas-c55]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-c55.png

[mtas-19]: ./media/cloud-services-dotnet-multi-tier-app-storage-1-download-run/mtas-19.png














