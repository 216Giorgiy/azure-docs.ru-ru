<properties 
	pageTitle="Ограничения предварительной версии Stream Analytics | Azure" 
	description="Узнайте об ограничениях заданий в общедоступной предварительной версии анализа потоков Azure" 
	services="stream-analytics" 
	documentationCenter="" 
	authors="mumian" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="stream-analytics" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.tgt_pltfrm="na" 
	ms.workload="data-services" 
	ms.date="03/05/2015"
	ms.author="jgao"/>

# Ограничения предварительной версии Azure Stream Analytics Preview и известные проблемы

В этом документе описываются ограничения и известные проблемы [Azure Stream Analytics][stream.analytics.documentation] в версии для предварительного ознакомления. В большинстве случаев эти ограничения вводятся для быстрого получения от вас отзывов или в соответствии с действующими ограничениями объемов хранилища. 
<!--Table of contents for topic, the words in brackets must match the heading wording exactly-->


## Ограничения

### Доступ по регионам
Задания Stream Analytics в предварительной версии можно подготавливать к работе только в регионах "Центр США" и "Западная Европа".

### Масштаб 
**Квота единиц потоковой передачи**

В связи с существующими ограничениями принудительно задается квота в 12 единиц потоковой передачи на регион на подписку. Дополнительные сведения см. в [статье о масштабировании заданий в службе Azure Stream Analytics][stream.analytics.scale.jobs]. Если вам потребуется увеличить указанные пределы, обратитесь в [службу технической поддержки Майкрософт][microsoft.support]. Мы сделаем все от нас зависящее в рамках ограничений публичной оферты.

**Применение единиц потоковой передачи**

В этой предварительной версии число предоставляемых заданию единиц потоковой передачи может быть выше, чем выбранное или оплаченное. Кроме того, единицы потоковой передачи не будут сокращаться. Это значит, что наблюдаемая производительность может быть выше, чем обещанная гарантиями. Это зависит от вычислительных ресурсов.

**Ключ секции**

При масштабировании запроса директивой **Partition By** для секционирования необходимо использовать поле **PartitionId**. Разделение на другие пользовательские поля будет включено в более поздних версиях. Подробные сведения о масштабировании задания см. в [статье о масштабировании заданий Azure Stream Analytics][stream.analytics.scale.jobs].

### Входные данные



**Символьная кодировка**

Для вводных источников CSV и JSON единственной поддерживаемой символьной кодировкой является UTF-8.


### Сложные запросы
Максимальное число поддерживаемых агрегатных функций в определении запроса задания Stream Analytics — 7.

### Количество запросов
Максимальное количество поддерживаемых запросов для источника входных данных — 5.


### Управление жизненным циклом

**Обновление задания**

В настоящее время Stream Analytics не поддерживает изменение определений и конфигураций текущего задания в реальном времени. Для изменения ввода, вывода, запроса, масштаба или конфигурации текущего задания следует выполнение этого задания остановить.

**Остановка и перезапуск задания**

При остановке задания его состояние не сохраняется. Это значит, что возможности перезапустить задание с точки его остановки нет. Проблема этого ограничения будет решена в следующей версии. Рекомендации по запуску и остановке задания приведены [руководстве разработчика Azure Stream Analytics][stream.analytics.developer.guide].

### Мониторинг
Некоторые показатели, связанные с выполнением и производительностью при выполнении задания, например задержки, в предварительной версии недоступны. Предварительная версия также обрабатывает задание по количеству событий, а не размеру.

## Заметки о выпуске и известные проблемы

Этот раздел содержит список известных проблем в Azure Stream Analytics. Этот раздел со временем будет изменяться по ходу удаления позиций из списка, обнаружения новых проблем или новых подробностей об уже известных.


### Требуется повышенный уровень доступа к концентратору событий
На данный момент служба Stream Analytics требует уровня доступа по правилу общего доступа с управляемым доступом к источникам входных данных и назначениям выходных данных концентратора событий.

### Задержка в конфигурации учетной записи хранилища Azure
При первом запуске задания в Stream Analytics вам будет предложено создать учетную запись хранения или ввести данные уже существующей учетной записи для отслеживания заданий в Stream Analytics в соответствующем регионе. Из-за задержек в настройке отслеживания при создании еще одного задания Stream Analytics в том же регионе в пределах 30 минут будет предложено ввести данных другой учетной записи хранения, а не показывать уже сконфигурированную в раскрывающемся меню **отслеживания учетных записей хранения**. Чтобы не создавать ненужные учетные записи хранения, подождите 30 минут после создания предыдущего задания в том или ином регионе и только после этого запускайте новое задание в том же регионе.

### Каждое задание должно использовать собственную группу получателей концентратора событий
Каждый вход задания Stream Analytics нужно настроить так, чтобы у него была собственная группа получателей концентратора событий. Если задание включает самосоединение или несколько выходов, некоторые входные данные могут считываться несколькими модулями чтения, в результате чего общее число модулей чтения в одной группе получателей превышает предельное значение для концентратора событий (5 модулей чтения на группу получателей). В этом случае запрос нужно будет разбить на несколько запросов, а промежуточные результаты направлять через дополнительные концентраторы событий. Обратите внимание, что у каждого концентратора событий должно быть не более 20 групп получателей. Подробные сведения см. в [руководстве по программированию концентраторов событий][azure.event.hubs.developer.guide].

### Добавление ввода и вывода — концентратор событий 
На третьей странице диалоговых окон **Добавление ввода** и **Добавление вывода** для источников концентратора событий есть раскрывающееся меню **Концентратор событий**, которое содержит список пространства имен служебной шины в текущей подписке и вариант подключения к концентратору событий другой подписки. Если вы хотите подключиться к концентратору событий той же подписки, здесь следует выбрать ее пространство имен служебной шины. Если вы хотите подключиться к концентратору событий вне этой подписки, выберите пункт **Использовать концентратор событий из другой подписки**.


### Не может ссылаться на один и тот же этап выполнения запроса несколько раз
В этой предварительной версии на каждый этап выполнения вложенного запроса, определенного ключевым словом **WITH**, можно ссылаться лишь один раз. В общих сценариях это может вызвать самосоединение по псевдонимам того же этапа. Чтобы обойти такой вариант, создайте два отдельных этапа в одном вложенном запросе под разными именами.

### Получение значений NULL при преобразованиях неподдерживаемых типов
Любые события по преобразованию типа не поддерживаются в разделе "Типы данных" [справочника по языку запросов Azure Stream Analytics][stream.analytics.query.language.reference], и на выходе их значение будет NULL. В этой предварительной версии журнал учета ошибок для исключений такого преобразования не ведется.

### Проблема нехватки памяти
Задание Streaming Analytics с большим допуском для событий отключений и/или сложных запросов с большим числом состояний может привести к нехватке памяти для этого задания, из-за чего оно перезапустится. Операции запуска и остановки будут записаны в операционном журнале задания. Чтобы избежать такого варианта, следует масштабировать запрос по нескольким разделам. В новой версии это ограничение будет снято за счет снижения производительности при выполнении задания, а не путем его перезапуска.

### Пустой сегмент концентратора событий в секционированном запросе приводит к отсутствию вывода
Если одна из секций концентратора событий на вводе оказывается пустой, секционированный запрос с несекционированным вложенным запросом в качестве второго этапа не выдаст никаких результатов. Запись об ошибке при таком развитии событий будет внесена в операционный журнал этого задания. Убедитесь, что все секции концентратора событий включают входящие события, чтобы избежать возникновения такой проблемы.

### Ограничение по объему событий базы данных SQL
Если в качестве места назначения выходных данных используется база данных SQL, большой объем выходных данных может привести к тому, что будет превышено время ожидания задания Stream Analytics. Чтобы решить эту проблему, следует либо снизить объем выходных данных с помощью статистических выражений или операторов соединения, либо выбрать хранилище больших двоичных объектов Azure или концентратор событий в качестве целевого объекта выходных данных.

### Ввод больших BLOB-данных не поддерживается
Извлечение больших файлов из хранилища BLOB-объектов может привести к сбою задания Stream Analytics. Чтобы избежать этой проблемы, не превышайте предельный размер большого двоичного объекта в 10 МБ.

### Наличие пробелов в заголовках столбцов приводит к получению выходных записей со значением NULL
В службе Stream Analytics пробелы в заголовках столбцов не усекаются. Если в начале или в конце имени столбца есть пробел, выходные данные задания будут включать записи со значением NULL.


## Получение поддержки
За дополнительной поддержкой обращайтесь на [форум Azure Stream Analytics](stream-analytics-forum.md).


## Дальнейшие действия

- [Введение в Azure Stream Analytics](stream-analytics-introduction.md)
- [Приступая к работе с Azure Stream Analytics](stream-analytics-get-started.md)
- [Масштабирование заданий в службе Azure Stream Analytics](stream-analytics-scale-jobs.md)
- [Справочник по языку запросов Azure Stream Analytics](stream-analytics-query-language-reference.md)
- [Справочник по API-интерфейсу REST управления Stream Analytics](stream-analytics-rest-api-reference.md) 

<!--Anchors-->
[Limitations]: #Limitations
[Release notes and known issues]: #Release-notes-and-known-issues
[Next steps]: #next-steps

<!--Image references-->
[5]: ./media/markdown-template-for-new-articles/octocats.png
[6]: ./media/markdown-template-for-new-articles/pretty49.png
[7]: ./media/markdown-template-for-new-articles/channel-9.png


<!--Link references-->

[stream.analytics.documentation]: http://go.microsoft.com/fwlink/?LinkId=512093
[stream.analytics.scale.jobs]: stream-analytics-scale-jobs.md
[stream.analytics.developer.guide]: stream-analytics-developer-guide.md
[stream.analytics.introduction]: stream-analytics-introduction.md
[stream.analytics.get.started]: stream-analytics-get-started.md
[stream.analytics.limitations]: stream-analytics-limitations.md


[stream.analytics.query.language.reference]: http://go.microsoft.com/fwlink/?LinkID=513299
[stream.analytics.rest.api.reference]: http://go.microsoft.com/fwlink/?LinkId=517301


[microsoft.support]: http://support.microsoft.com/
[azure.event.hubs.developer.guide]: http://msdn.microsoft.com/library/azure/dn789972.aspx

[Link 1 to another azure.microsoft.com documentation topic]: virtual-machines-windows-tutorial.md
[Link 2 to another azure.microsoft.com documentation topic]: web-sites-custom-domain-name.md
[Link 3 to another azure.microsoft.com documentation topic]: storage-whatis-account.md

<!--HONumber=54-->