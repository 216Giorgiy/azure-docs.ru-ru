<properties
   pageTitle="Пакетные и HPC решения в облаке | Microsoft Azure"
   description="Описывает сценарии пакетных и HPC вычислений (Больших вычислений) и варианты решений в Azure"
   services="batch, virtual-machines, cloud-services"
   documentationCenter=""
   authors="dlepow"
   manager="timlt"
   editor=""/>

<tags
   ms.service="batch"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="big-compute"
   ms.date="07/01/2015"
   ms.author="danlep"/>

# Пакетные и HPC решения

В этой статье рассматриваются решения Azure для пакетной обработки и высокопроизводительных вычислений (HPC), которые также называют *Большими вычислениями*. Несмотря на то что статья предназначена главным образом для технических специалистов, ИТ-менеджеров и независимых поставщиков программного обеспечения, она поможет познакомиться с этими решениями и другим ИТ-специалистам и разработчикам.

Сегодня перед организациями стоят сложные крупномасштабные вычислительные задачи, включающие техническое проектирование и анализ, отрисовка изображений, сложное моделирование, симуляции методом Монте-Карло и вычисление финансовых рисков. Для помощи в решении этих задач и выбора необходимых ресурсов, масштабирования и планирования задач Azure предлагает масштабируемые вычислительные ресурсы и службы по требованию. С помощью Azure организации могут:

* создавать гибридные решения, расширяющие локальный вычислительный кластер HPC для передачи пиковых нагрузок в облако;

* запускать рабочие нагрузки вычислительного кластера HPC полностью в Azure с помощью существующих наборов инструментов и приложений;

* использовать управляемую и масштабируемую службу Azure, такую как [Пакетная служба Azure](http://azure.microsoft.com/documentation/services/batch/), для запуска ресурсоемких рабочих нагрузок без необходимости развертывания и управления вычислительной инфраструктурой.

Azure также предлагает средства для разработки утилит и служб, с помощью которых организации и поставщики программного обеспечения смогут создавать пользовательские решения полного цикла для Больших вычислений.


## Общая информация: пакетные и HPC вычисления

В отличие от веб- и многих бизнес-приложений пакетные и HPC приложения имеют определенные моменты запуска и завершения и могут выполняться по расписанию или по требованию, иногда в течение нескольких часов или дольше. Большинство из них подразделяются на две основные категории: *параллельные по сути*(иногда они называются «неудобно параллельными», поскольку из-за специфики решаемых задач они обязаны выполняться параллельно на нескольких компьютерах или процессорах) и *тесно связанные*. В следующей таблице приведены дополнительные сведения об этих типах приложений. Некоторые решения Azure лучше подходят для одного или другого типа приложений.

>[AZURE.NOTE]В пакетных и HPC решениях запущенный экземпляр приложения обычно называется *заданием* и каждое задание может подразделяться на *задачи*. А кластеризованные вычислительные ресурсы приложения часто называются *вычислительными узлами*.

Тип | Характеристики | Примеры
------------- | ----------- | ---------------
**Параллельные по сути**<br/><br/>![Параллельные по сути][parallel] |• Логика приложения выполняется на отдельных вычислительных узлах, которые работают независимо друг от друга<br/><br/>• При добавлении вычислительных узлов приложение можно масштабировать и сократить время вычисления<br/><br/>• Приложение состоит из отдельных исполняемых файлов или разделено на несколько служб, вызываемых клиентом (приложение сервис-ориентированной архитектуры) |• Моделирование финансовых рисков<br/><br/>• Отрисовка и обработка изображений<br/><br/>• Кодирование и перекодирование мультимедиа<br/><br/>• Симуляции методом Монте-Карло<br/><br/>• Тестирование программного обеспечения
**Тесно связанные**<br/><br/>![Тесно связанные][coupled] |• Приложениям для взаимодействия и обмена промежуточными результатами необходимы вычислительные узлы<br/><br/>• Вычислительные узлы могут обмениваться данными с помощью интерфейса передачи сообщений (MPI), популярного коммуникационного протокола для параллельных вычислений<br/><br/>• Приложение чувствительно к сетевой задержке и пропускной способности сети<br/><br/>• Производительность приложения может быть улучшена с помощью вычислительной инфраструктуры, которая поддерживает технологии высокоскоростной сети, такие как InfiniBand и удаленный прямой доступ к памяти (RDMA) |• Моделирование нефтяных и газовых резервуаров<br/><br/>• Техническое проектирование и анализ, например вычислительная гидродинамика<br/><br/>• Физические симуляции, например симуляции автокатастроф и ядерных реакций<br/><br/>• Прогнозирование погоды

### Рекомендации по запуску пакетных и HPC приложений в облаке

В Azure или в гибридную среду (разделяемую несколькими организациями) можно легко перенести многие приложения, предназначенные для запуска на локальных вычислительных кластерах HPC. Однако при этом следует учитывать некоторые ограничения или соображения, включающие


* **Непрерывную доступность облачных ресурсов** — в зависимости от типа облачных вычислительных ресурсов, выбранных для решения, эти ресурсы могут быть недоступными в течение какого-то времени в процессе выполнения задания. Для обработки возможных ошибок неустойчивых отказов обычно используются сохранение состояния и контроль выполнения. Эти технологии еще более необходимы при использовании облачных ресурсов.


* **Доступ к данным** — технологии доступа к данным, которые обычно доступны в корпоративных сетевых кластерах, например NFS, в облаке могут потребовать специальной конфигурации или необходимости принять другие практики и шаблоны доступа к данным.

* **Перемещение данных** — для приложений, обрабатывающих большие объемы данных, необходимы стратегии перемещения данных в хранилище облака и стратегии использования вычислительных ресурсов. Для решения этой задачи можете обратить внимание на высокоскоростные распределенные сети, такие как [Azure ExpressRoute](http://azure.microsoft.com/services/expressroute/). Также учитывать законодательные, юридические ограничения на хранение и доступ к этим данным, а также ограничения политик.


* **Лицензирование** — проконсультируйтесь с поставщиками всех коммерческих приложений о лицензировании или иных ограничениях на запуск приложений в облаке. Не все поставщики предлагают лицензирование с оплатой по мере использования. Для вашего решения может потребоваться сервер лицензий в облаке или локальный сервер лицензий.


### Большие вычисления или Большие данные?

Линия раздела между приложениями Больших вычислений и Больших данных не всегда очевидна, и некоторые приложения могут иметь характеристики и того, и другого. В обоих случаях используются крупномасштабные вычисления, обычно на кластерах компьютеров, работающих локально, в облаке или и локально, и в облаке. Но подходы к решениям и используемые средства могут различаться.

•**Большие вычисления**, как правило, включают приложения, использующие вычислительные ресурсы процессора и память. К ним относятся, например, техническое моделирование, моделирование финансовых рисков и цифровая отрисовка. Кластеры, обрабатывающие решения Больших вычислений, могут включать компьютеры со специализированными многоядерными процессорами для выполнения «сырых» вычислений и специализированное высокоскоростное сетевое оборудование для соединения компьютеров.

•**Большие данные** решают задачи анализа больших объемов данных, которые не под силу одному компьютеру или СУБД, например анализ содержимого лог-файлов или других данных бизнес-аналитики. Большие данные опираются скорее на объем диска и на производительность операций ввода-вывода, чем на процессорную мощность, и в решениях для Больших данных часто используются специализированные средства для управления кластером и секционирования данных, такие как Apache Hadoop. (Сведения об Azure HDInsight и других решениях Azure Hadoop приведены в статье [Hadoop](http://azure.microsoft.com/solutions/hadoop/).)

## Управление ресурсами и планирование заданий

Выполнение пакетных и HPC приложений обычно включает*диспетчер кластеров*и*планировщик заданий*для управления кластеризованными вычислительными ресурсами и их выделения приложениям, которые запускают задания. Эти функции могут выполняться отдельными инструментами или одним общим инструментом.

* **Диспетчер кластеров** — развертывает, освобождает вычислительные ресурсы (или вычислительные узлы) и управляет ими. В зависимости от используемого средства диспетчер кластеров может автоматизировать установку образов операционных систем и приложений на вычислительных узлах, масштабировать вычислительные ресурсы по требованию и наблюдать за производительностью узлов.

* **Планировщик заданий** — определяет ресурсы (например, ресурсы процессора или оперативной памяти), которые необходимы приложению, и условия запуска приложения. Планировщик заданий поддерживает очередь заданий и распределяет ресурсы на основании назначенных приоритетов и других характеристик.

Средства кластеризации и планирования заданий для кластеров Windows и Linux или средства независимых разработчиков хорошо мигрируют в Azure. Например, [пакет вычислений HPC Microsoft](https://technet.microsoft.com/library/cc514029) — бесплатное решение для вычислительного кластера для компьютеров под управлением Windows и Windows Server. Чтобы снизить потребность в выделенных локальных вычислительных ресурсах, можно расширить кластер HPC Pack для использования вычислительных узлов Azure по требованию или полностью развернуть кластер в виртуальных машинах Azure.

### Рабочие процессы Больших вычислений

Средства управления кластером и планирования заданий помогают выполнить рабочий процесс Больших вычислений с предсказуемыми шагами. В зависимости от решения некоторые шаги в следующем списке можно пропустить или воспользоваться дополнительными пользовательскими средствами. Рабочие процессы с большим объемом данных могут включать дополнительные шаги по предварительной обработке данных и постобработке данных (в списке не указаны).

1. **Развертывание** — подготовка вычислительной среды с необходимой инфраструктурой, вычислительными ресурсами и хранилищем для запуска приложений

2. **Фаза выполнения** — перемещение входных данных и приложений в вычислительную среду

3. **Расписание** — настройка заданий и задач и выделение им ресурсов, когда ресурсы доступны

4. **Мониторинг** — получение сведений о ходе выполнения заданий и задач; обработка ошибок и исключений

5. **Окончание** — возвращение результатов и при необходимости постобработка выходных данных

## Службы Azure для Больших вычислений

Azure предлагает ряд вычислительных, сетевых служб, служб для обработки данных и сопутствующих служб, которые можно использовать в своих рабочих процессах и решениях для Больших вычислений. Подробное руководство по каждой из этих службы приведено в документации по службам Azure. Некоторые общие подходы построения сетевых и HPC приложений описаны в разделе [Сценарии решений](#solution-scenarios) в этой статье.

>[AZURE.NOTE]На платформе Azure регулярно появляются новые службы, которые могут быть полезны для вашего сценария. Предварительным просмотром служб рекомендуется пользоваться только для тестирования или проверки концепции развертывания, а не для рабочих нагрузок. Если у вас есть вопросы, свяжитесь с [партнером Azure](https://pinpoint.microsoft.com/en-US/search?keyword=azure) или отправьте свой вопрос по электронной почте*bigcompute@microsoft.com*.

### Службы вычислений

В основе решений Больших вычислений Azure лежат службы вычислений. Службы вычислений, приведенные в следующей таблице, используются часто и обладают преимуществами для различных сценариев. На базовом уровне эти службы предлагают различные режимы запуска приложений на виртуальных вычислительных экземплярах Azure с использованием технологии Windows Server Hyper-V. В зависимости от службы эти экземпляры могут запускать разнообразные стандартные и пользовательские версии операционных систем и утилит Linux и Windows. Azure предоставляет[диапазон размеров экземпляров](../virtual-machines/virtual-machines-sizes-specs.md)с различными конфигурациями количества ядер процессора, размера оперативной памяти, емкости диска и другими характеристиками. В зависимости от своих потребностей можно увеличить размеры системы до нескольких тысяч ядер и уменьшить его, когда вам нужно меньше ресурсов.

>[AZURE.NOTE]Для повышения производительности ресурсоемких рабочих нагрузок, включая параллельные приложения MPI, которым требуются малая задержка и высокая пропускная способность сети, можно воспользоваться преимуществами вычислительных экземпляров A8-A11. См. раздел [Сведения об экземплярах A8, A9, A10 и A11 с большим объемом вычислений](../virtual-machines/virtual-machines-a8-a9-a10-a11-specs.md).

служба | Описание
------------- | -----------
**[Облачные службы](http://azure.microsoft.com/documentation/services/cloud-services)**<br/><br/> |• Могут запускать приложения Больших вычислений в экземплярах рабочей роли, которые представляют собой виртуальные машины под управлением Windows Server и полностью управляются Azure<br/><br/>• Позволяют запускать масштабируемые, надежные приложения с низкими административными издержками по модели «Платформа как сервис» (PaaS)<br/><br/>• Могут потребовать дополнительных средств или их разработки для интеграции с локальными кластерами HPC
**[Виртуальные машины](http://azure.microsoft.com/documentation/services/virtual-machines)**<br/><br/> |• Предоставляют вычислительную инфраструктуру как сервис (IaaS) с использованием технологии Microsoft Hyper-V<br/><br/>• Позволяют гибко разворачивать компьютеры из стандартных образов Windows Server или Linux или образов и дисков данных, предоставленных вами или приобретенных в [Azure Marketplace](https://azure.microsoft.com/marketplace/), на постоянном облаке и управлять ими<br/><br/>• Запускать средства и приложения локального вычислительного кластера полностью в облаке
**[Пакетная служба](http://azure.microsoft.com/documentation/services/batch)**<br/><br/> |• Запускает крупномасштабные параллельные и пакетные рабочие нагрузки, такие как отрисовка изображений и кодирование и перекодирование мультимедиа в полностью управляемой службе<br/><br/>• Предоставляет средства планирования заданий и автоматического масштабирования управляемого пула виртуальных машин<br/><br/>• Позволяет разработчикам разрабатывать и запускать приложения в качестве службы или адаптировать для облака существующие приложения<br/>

### Службы хранилища

Решение Больших вычислений обычно получает набор входных данных и формирует набор результатов. Некоторые службы хранилища Azure, используемые во многих решений Больших вычислений, включают следующее.

* [Хранилище больших двоичных объектов, таблиц и очередей](http://azure.microsoft.com/documentation/services/storage) — управление большими объемами неструктурированных данных, данных NoSQL и сообщений рабочих процессов и коммуникационных сообщений соответственно. Например, в хранилище больших двоичных объектов можно хранить большие наборы технических данных или входные изображения или файлы мультимедиа ваших процессов. Очереди можно использовать для асинхронного обмена данными в решении. В разделе [Введение в службу хранилища Microsoft Azure](../storage/storage-introduction.md) приведены дополнительные сведения об этих хранилищах данных.

* [Файл хранилища Azure](http://azure.microsoft.com/services/storage/files/) — организует общий доступ к файлам и данным в Azure с использованием стандартного протокола SMB, который необходим для некоторых решений вычислительных кластеров HPC.

### Анализ данных и служб

Некоторые сценарии Больших вычислений включают большие потоки данных или генерируют данные для последующей обработки или анализа. Для этого Azure предоставляет ряд служб для обработки и анализа данных, к которым относятся следующие.

* [Фабрика данных](http://azure.microsoft.com/documentation/services/data-factory) — создает управляемые данными рабочие процессы (конвейеры), которые комбинируют, статистически обрабатывают и преобразуют данные, полученные из локальных, облачных и интернет-хранилищ.

* [База данных SQL](http://azure.microsoft.com/documentation/services/sql-database) — обеспечивает ключевые возможности системы управления реляционными базами данных Microsoft SQL Server на управляемой службе платформы.

* [HDInsight](http://azure.microsoft.com/documentation/services/hdinsight) — развертывает и подготавливает кластеры на основе Windows Server или Linux Apache Hadoop в облаке для управления, анализа и формирования отчетов о больших данных с высокой надежностью и доступностью.

* [Машинное обучение](http://azure.microsoft.com/documentation/services/machine-learning) — помогает создавать, тестировать решения для прогнозной аналитики, а также работать с ними и управлять ими в полностью управляемой службе платформы.

### Дополнительные службы

Ваше решение Больших вычислений может потребовать включения другой инфраструктуры Azure и служб платформы для подключения к ресурсам в локальной или в других средах. Примеры приведены ниже.

* [Виртуальная сеть](http://azure.microsoft.com/documentation/services/virtual-network) — создает логически изолированный раздел в Azure для подключения ресурсов Azure к локальному центру обработки данных или одиночному клиентскому компьютеру с помощью IPSec; позволяет приложениям Больших вычислений обращаться к локальным данным, службам Active Directory и серверам лицензирования.

* [ExpressRoute](http://azure.microsoft.com/documentation/services/expressroute) — создает частное подключение между центрами обработки данных Microsoft и инфраструктурой, которая является локальной или расположена в среде совместного размещения. Это подключение отличается более высоким уровнем защиты, надежностью, более высокой скоростью и более низкими задержками по сравнению с обычными подключениями через Интернет.

* [Служебная шина](http://azure.microsoft.com/documentation/services/service-bus) — предоставляет несколько механизмов коммуникации или обмена данными для приложений, независимо от того, расположены ли они в Azure, на другой облачной платформе или в центре обработки данных.

## Сценарии решений

Ниже приведены типичные сценарии для запуска рабочих нагрузок Больших вычислений в Azure с использованием существующих решений вычислительных кластеров HPC, служб Azure и сочетания и того, и другого.

>[AZURE.NOTE]Для организаций с интенсивными вычислительными рабочими нагрузками, которые не подходят для стандартных средств вычислительного кластера HPC или которые нельзя непосредственно перенести в службы Azure, Azure предоставляет разработчикам и партнерам полный набор вычислительных возможностей, служб, вариантов архитектуры и средств разработки. Azure может поддерживать рабочие процессы Больших вычислений, масштабируемые до нескольких тысяч вычислительных ядер.

### Сценарий 1. Расширение локального вычислительного кластера HPC в Azure

**Когда это может понадобиться?** — У вас уже есть вычислительный кластер HPC, но для выполнения высокоинтенсивных рабочих нагрузок ему необходимы дополнительные вычислительные ресурсы в периоды максимальной загрузки, например период сдачи отчетов в конце месяца или специальные проекты. Вместо приобретения, развертывания и необходимости управлять дополнительным оборудованием и программным обеспечением, которые будут простаивать большую часть времени, вы можете добавить к существующему кластеру вычислительную мощность по требованию с помощью Azure.

Например, если существующий локальный вычислительный кластер HPC был развернут с помощью [Пакета Microsoft HPC](https://technet.microsoft.com/library/cc514029), можно добавить дополнительные вычислительные ресурсы в виде экземпляров рабочих ролей Azure в облачной службе. См. следующий рисунок. Дополнительные сведения и пошаговые инструкции см. в разделе [Расширение кластера в Azure с помощью пакета Microsoft HPC](https://technet.microsoft.com/library/gg481749.aspx).

![Расширение кластера][burst_cluster]

>[AZURE.NOTE]Если требуется уменьшить загрузку кластера, развернутого с помощью пакета Microsoft HPC, можно ограничить кластер только головным узлом пакета HPC. К этому узлу затем добавляются все вычислительные ресурсы по требованию Azure. Руководство по этому сценарию см. в статье [Настройка гибридного вычислительного кластера с помощью пакета Microsoft HPC](../cloud-services/cloud-services-setup-hybrid-hpcpack-cluster.md).

Это гибридное решение позволяет масштабировать фиксированную локальную инфраструктуру для типичных (не пиковых) рабочих нагрузок, не вкладывая в нее дополнительных финансовых средств. Если необходимо получить доступ к локальному серверу лицензий или хранилищу данных, можно настроить виртуальную сеть Azure для подключения локального кластера к Azure.

### Сценарий 2. Создание кластера HPC полностью в Azure

**Когда это может понадобиться?** — Вы уже вложили существенные средства в локальный вычислительный кластер HPC под управлением Windows или Linux, включая средства управления и планирования и пользовательские приложения. Вам нужна дополнительная емкость кластера для запуска существующих наборов средств и приложений, но вы не хотите вкладывать средства в дополнительную локальную инфраструктуру или вносить изменения в приложения. Или вам нужно создать новый кластер на короткий или длинный период времени, но вы не хотите платить за приобретение, поддержку и эксплуатацию кластера или выделять пространство для его установки и развертывания.

Необходимую кластерную емкость можно создать с помощью средств автоматизации Azure на виртуальных машинах Azure. В зависимости от развертываемых виртуальных машин вы можете запускать разнообразные HPC и параллельные рабочие нагрузки, включая тесно связанные приложения MPI.

>[AZURE.NOTE]Получите у поставщика локального кластерного решения и приложений дополнительные рекомендации и информацию об общепринятых практиках по запуску в общедоступном облаке по схеме «Инфраструктура как сервис» (IaaS).

Например, можно создать высокопроизводительный вычислительный кластер под управлением Windows Server на основе [пакета Microsoft HPC](https://technet.microsoft.com/library/cc514029) в инфраструктурных виртуальных машинах (IaaS) Azure, как упрощенно показано на следующем рисунке. Пользователь кластера может безопасно отправлять задание в облачный кластер с помощью стандартных средств отправки заданий пакета HPC, запускаемых на клиентском компьютере. Подробная информация и варианты развертывания описаны в статье [Пакет Microsoft HPC на виртуальных машинах Azure](https://msdn.microsoft.com/library/azure/dn518135.aspx).

![Кластер в IaaS][iaas_cluster]

**Автоматизированное развертывание** — для развертывания большого количества виртуальных машин Windows Server или Linux можно использовать стандартные или пользовательские образы виртуальных машин и средства автоматизации Azure, таких как[интерфейс командной строки Azure](../xplat-cli.md)или[Azure PowerShell](../powershell-install-configure.md). Примеры приведены ниже.

* Для развертывания кластера на основе пакета HPC в службах инфраструктуры Azure можно запустить на клиентском компьютере гибкий [скрипт Azure PowerShell](https://msdn.microsoft.com/library/azure/dn864734.aspx); в скрипте используется образ виртуальной машины Windows Server с предустановленным пакетом HPC. Также можно использовать [шаблон быстрого запуска](https://azure.microsoft.com/documentation/templates/create-hpc-cluster/) Azure с Azure PowerShell или интерфейсом командной строки Azure для развертывания кластера на основе пакета HPC.

* С помощью [шаблона быстрого запуска](https://azure.microsoft.com/documentation/templates/slurm/) Azure в Azure PowerShell или интерфейсе командной строки Azure можно развернуть кластер под управлением Linux с диспетчером рабочих нагрузок с открытым исходным кодом [SLURM](https://computing.llnl.gov/linux/slurm/).

Расположение всего кластера в облаке может иметь явные преимущества.

* Организация сможет запускать вычислительные задания HPC без необходимости приобретать и обслуживать дополнительное оборудование и управлять размером кластера для эффективного использования вычислительных ресурсов.

* Многие приложения локальных кластеров можно запускать в облачном кластере без изменений или с небольшими изменениями.

* По сравнению с гибридным решением, в котором локальный кластер расширяется в облако, запуск приложения полностью в облаке может упростить доступ к данным. Вместо того чтобы разделять данные между облаком и локальными экземплярами или делать так, чтобы какая-то часть приложения обращалась к данным удаленно, все данные приложений можно хранить в облаке.

* Некоторые поставщики программного обеспечения оптимизируют свои приложения для запуска в облачных кластерах. Например, при развертывании [Распределенного вычислительного сервера MATLAB](http://www.mathworks.com/products/distriben/) от MathWorks в кластере на основе пакета HPC на виртуальных машинах Azure можно запускать параллельные задания MATLAB полностью на облачных вычислительных ресурсах.

### Сценарий 3. Развертывание параллельного приложения в Azure

**Когда это может понадобиться?** — Вы можете запускать ресурсоемкое приложение, например симуляцию методом Монте-Карло, отрисовку анимации или перекодирование мультимедиа на локальных рабочих станциях или в небольшом кластере. Вы не хотите управлять вычислительными ресурсами или планировщиком заданий; вместо этого вы хотите сосредоточиться на эффективной работе с приложением для решения бизнес-задач. Или вы хотите выгрузить свое ресурсоемкое приложение, чтобы оно полностью работало как служба в облаке.

В зависимости от рабочей нагрузки вы можете воспользоваться преимуществами существующей службы Больших вычислений Azure, управляемой Microsoft или другим поставщиком служб, чтобы упростить управление инфраструктурой и приложениями для вашего решения. Некоторые службы содержат специализированные приложения для клиентов конкретных сферах деятельности. Некоторые службы подключаются к локальным приложениям, обеспечивая гибридное решение. Другие, такие как [Службы мультимедиа Azure](http://azure.microsoft.com/documentation/services/media-services), являются специализированными службами платформы.

[Пакетная служба](http://azure.microsoft.com/documentation/services/batch) позволит легко сделать приложение доступным для облака и развернуть ваше приложение посредством API для планирования заданий и управления вычислительными ресурсами в службе. Пакетная служба управляет развертыванием и автоматическим масштабированием виртуальных машин, планированием заданий, восстановлением в случае отказа, перемещением данных, разрешением зависимостей, развертыванием приложений и всем остальным, что необходимо для выполнения заданий в облаке. На данный момент пакетная служба идеально подходит для параллельных по сути приложений таких как отрисовка изображений, моделирование финансовых рисков и симуляции методом Монте-Карло, работающих на вычислительных ресурсах Windows Server.

Типичный рабочий процесс, который разработчик может создать с помощью пакетной службы, показан на следующем рисунке.

![Пакетная служба Azure][batch_proc]

1. Загрузите входные файлы (например, исходные данные или изображения, необходимое приложение .exe или файлы скриптов и их зависимости) в хранилище Azure.

2. Создайте пакетную службу, которая выполнит следующие действия.

    а. Развернет пул одинаковых виртуальных машин Azure для запуска приложения по аналогии с вычислительными узлами в вычислительном кластере HPC. Разработчик указывает их размер, операционную систему и другие свойства, например возможность автоматического масштабирования пула. При запуске задачи ей автоматически назначается виртуальная машина из этого пула.

    b. Создание задания для запуска приложения. Разработчик может указать расписание и приоритет для задания или запускать задания по требованию.

    c. Разбиение задания на задачи. Каждая задача, по существу, является командой, которая запускается на одной из виртуальных машин в пуле для обработки сведений из одного из файлов данных, загруженных в хранилище.

3. Запустите службу и отслеживайте результаты.


## Дальнейшие действия

* Технические указания для вашего решения приведены в статье [Технические ресурсы для пакетных и HPC вычислений](big-compute-resources.md).

* Последние объявления см. в [блоге группы Microsoft HPC и Пакетной службы](http://blogs.technet.com/b/windowshpc/), а также в [блоге Azure](http://azure.microsoft.com/blog/tag/hpc/).

<!--Image references-->
[parallel]: ./media/batch-hpc-solutions/parallel.png
[coupled]: ./media/batch-hpc-solutions/coupled.png
[iaas_cluster]: ./media/batch-hpc-solutions/iaas_cluster.png
[burst_cluster]: ./media/batch-hpc-solutions/burst_cluster.png
[batch_proc]: ./media/batch-hpc-solutions/batch_proc.png

<!---HONumber=July15_HO5-->