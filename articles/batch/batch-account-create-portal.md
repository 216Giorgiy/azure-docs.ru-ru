---
title: "Создание учетной записи пакетной службы Azure на портале Azure | Документация Майкрософт"
description: "Узнайте, как создать учетную запись пакетной службы Azure на портале Azure для обработки крупных параллельных рабочих нагрузок в облаке."
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: 3fbae545-245f-4c66-aee2-e25d7d5d36db
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.translationtype: Human Translation
ms.sourcegitcommit: 4f68f90c3aea337d7b61b43e637bcfda3c98f3ea
ms.openlocfilehash: 053e2ae7f382bc55a6638ccd612289ab2ba64e52
ms.contentlocale: ru-ru
ms.lasthandoff: 06/20/2017


---
# <a name="create-a-batch-account-with-the-azure-portal"></a>Создание учетной записи пакетной службы на портале Azure

> [!div class="op_single_selector"]
> * [Портал Azure](batch-account-create-portal.md)
> * [Библиотека .NET для управления пакетной службой](batch-management-dotnet.md)
>
>

Узнайте, как создать учетную запись пакетной службы на [портале Azure][azure_portal] и выбрать свойства учетной записи, соответствующие сценарию вычислений. Сведения о поиске важных свойств учетной записи, например ключей доступа и URL-адресов учетной записи.

Дополнительные сведения об учетных записях пакетной службы см. в [обзоре функций](batch-api-basics.md).



## <a name="create-a-batch-account"></a>Создание учетной записи Пакетной службы

Используя портал, можно создать учетную запись пакетной службы в одном из двух *режимов распределения пула*: режиме **пакетной службы** или более новом режиме **пользовательской подписки**, для которого требуется больше настроек. Сведения об этих двух режимах см. в [обзоре функций](batch-api-basics.md#account). Сведения о функциях режима пользовательской подписки см. в этой [записи блога](https://blogs.technet.microsoft.com/windowshpc/2017/03/17/azure-batch-vnet-and-custom-image-support-for-virtual-machine-pools/).

## <a name="batch-service-mode"></a>Режим пакетной службы



1. Войдите на [портал Azure][azure_portal].
2. Щелкните **Создать** > **Вычисление** > **Пакетная служба**.

    ![Пакетная служба в Marketplace][marketplace_portal]
3. Отобразится колонка **Новая учетная запись пакетной службы** . Ниже описан каждый элемент колонки.

    ![Создание учетной записи Пакетной службы][account_portal]

    а. **Имя учетной записи** — имя учетной записи пакетной службы должно быть уникальным в пределах региона Azure, где будет создана учетная запись (описание параметра **Расположение** см. ниже). Имя может содержать только строчные буквы и цифры в количестве 3–24 символов.

    b. **Подписка** — подписка, в которой будет создана учетная запись пакетной службы. Если у вас только одна подписка, она будет выбрана по умолчанию.

    c. **Режим распределения пула**: выберите параметр **Пакетная служба**.

    c. **Группа ресурсов** — существующая группа ресурсов для новой учетной записи пакетной службы (при необходимости можно создать другую группу).

    d. **Расположение** — регион Azure, в котором будет создана учетная запись пакетной службы. Будут отображаться только те регионы, которые поддерживаются для вашей подписки и группы ресурсов.

    д. **Учетная запись хранения** (необязательно) — учетная запись хранения Azure общего назначения, которая будет связана с учетной записью пакетной службы. Мы рекомендуем использовать ее для большинства учетных записей пакетной службы. Дополнительные сведения см. в разделе [Связанная учетная запись хранения Azure](#linked-azure-storage-account) этой статьи.

4. Щелкните **Создать** , чтобы создать учетную запись.

   На портале отображается ход развертывания. По завершении в разделе **уведомлений** появляется уведомление об **успешном развертывании**.

## <a name="user-subscription-mode"></a>Режим пользовательской подписки

### <a name="allow-azure-batch-to-access-the-subscription-one-time-operation"></a>Предоставление пакетной службе Azure доступа к подписке (одноразовая операция)
При первом создании учетной записи пакетной службы в режиме пользовательской подписки выполните следующие действия, чтобы зарегистрировать подписку в пакетной службе. (Если вы уже сделали это, перейдите к следующему разделу.)

1. Войдите на [портал Azure][azure_portal].

2. Выберите последовательно пункты **Другие службы** > **Подписки** и щелкните подписку, которую вы хотите использовать для учетной записи пакетной службы.

3. В колонке **Подписка** выберите **Управление доступом (IAM)** > **Добавить**.

    ![Управление доступом к подписке][subscription_access]

4. В колонке **Добавление разрешений** выберите роль **Участник** и выполните поиск API пакетной службы. Продолжайте поиск для каждой из этих строк, пока не найдете API:
    1. **MicrosoftAzureBatch**;
    2. **Microsoft Azure Batch**. Более новые клиенты Azure AD могут использовать это имя.
    3. **ddbf3205-c6bd-46ae-8127-60eb93363864** — это идентификатор API пакетной службы. 

5. Найдя API пакетной службы, выберите его и нажмите кнопку **Сохранить**.

    ![Добавление разрешений для пакетной службы][add_permission]

### <a name="create-a-key-vault"></a>Создайте хранилище ключей.
При использовании режима пользовательской подписки требуется хранилище ключей Azure, относящееся к той же группе ресурсов, в которой будет создана учетная запись пакетной службы. Убедитесь, что группа ресурсов находится в регионе, в котором [доступна](https://azure.microsoft.com/regions/services/) пакетная служба и который поддерживает ваша подписка.

1. На [портале Azure][azure_portal] щелкните **Создать** > **Безопасность + идентификация** > **Хранилище ключей**.

2. В колонке **Создать хранилище ключей** введите имя для хранилища ключей и создайте группу ресурсов в регионе для вашей учетной записи пакетной службы. Для остальных параметров оставьте значения по умолчанию, а затем нажмите кнопку **Создать**.

### <a name="create-a-batch-account"></a>Создание учетной записи Пакетной службы

1. На [портале Azure][azure_portal] щелкните последовательно **Создать** > **Вычисления** > **Пакетная служба**.

    ![Пакетная служба в Marketplace][marketplace_portal]
3. Отобразится колонка **Новая учетная запись пакетной службы** . Ниже описан каждый элемент колонки.

    ![Создание учетной записи Пакетной службы][account_portal_byos]

    а. **Имя учетной записи** — имя учетной записи пакетной службы должно быть уникальным в пределах региона Azure, где будет создана учетная запись (описание параметра **Расположение** см. ниже). Имя может содержать только строчные буквы и цифры в количестве 3–24 символов.

    b. **Подписка** — при наличии нескольких подписок выберите ту, которую вы хотите зарегистрировать в пакетной службе.

    c. **Режим распределения пула** — выберите **Пользовательская подписка** .

    d. **Хранилище ключей** — выберите хранилище ключей, созданное для вашей учетной записи пакетной службы в предыдущем разделе. Или создайте новое хранилище ключей. После выбора хранилища установите флажок, чтобы предоставить пакетной службы Azure доступ к хранилищу ключей.

    c. **Группа ресурсов** — выберите группу ресурсов, в которой вы создали хранилище ключей.

    d. **Расположение** — регион Azure, в котором вы создали хранилище ключей для учетной записи пакетной службы.

    д. **Учетная запись хранения** (необязательно) — учетная запись хранения Azure общего назначения, которая будет связана с учетной записью пакетной службы. Мы рекомендуем использовать ее для большинства учетных записей пакетной службы. Дополнительные сведения см. в разделе [Связанная учетная запись хранения Azure](#linked-azure-storage-account) ниже.

4. Щелкните **Создать** , чтобы создать учетную запись.

   На портале отображается ход развертывания. По завершении в разделе **уведомлений** появляется уведомление об **успешном развертывании**.



## <a name="view-batch-account-properties"></a>Просмотр свойств учетной записи пакетной службы
После создания учетной записи можно открыть колонку **Учетная запись пакетной службы** для доступа к параметрам и свойствам учетной записи. Все параметры и свойства учетной записи можно просмотреть с помощью меню слева в колонке учетной записи пакетной службы.

![Колонка учетной записи пакетной службы на портале Azure][account_blade]

* **URL-адрес учетной записи** — при разработке приложения с использованием [API-интерфейсов пакетной](batch-apis-tools.md#azure-accounts-for-batch-development) вам понадобится URL-адрес учетной записи для доступа к ресурсам пакетной службы. Вот формат URL-адреса учетной записи пакетной службы:

    `https://<account_name>.<region>.batch.azure.com`

![URL-адрес учетной записи пакетной службы на портале][account_url]

* **Ключи доступа** (режим пакетной службы) — для аутентификации при доступе к учетной записи пакетной службы в приложении вам понадобится ключ доступа учетной записи. Этот параметр недоступен в режиме пользовательской подписки, в котором используется аутентификация Active Directory.

    Чтобы просмотреть или повторно создать ключи доступа к учетной записи пакетной службы, введите `keys` в меню **поиска** слева в колонке учетной записи пакетной службы, а затем выберите **Ключи**.

    ![Ключи учетной записи пакетной службы на портале Azure][account_keys]

[!INCLUDE [batch-pricing-include](../../includes/batch-pricing-include.md)]

## <a name="linked-azure-storage-account"></a>Связанная учетная запись хранения Azure

При необходимости вы можете связать учетную запись службы хранилища Azure общего назначения с учетной записью пакетной службы. Функция [пакетов приложений](batch-application-packages.md) в пакетной службе (как и библиотека [Batch File Conventions для .NET](batch-task-output.md)) использует хранилище BLOB-объектов Azure. Эти дополнительные функции помогают развертывать приложения, которые запускаются с помощью задач пакетной службы, а также сохранять создаваемые данные.

Рекомендуем создать учетную запись хранения, которая будет использоваться исключительно с учетной записью пакетной службы.

![Создание учетной записи хранения общего назначения][storage_account]

> [!NOTE]
> Сейчас пакетная служба Azure поддерживает только учетные записи хранения общего назначения. Этот тип учетной записи описан на шаге 5 [Создайте учетную запись хранения] (../storage/storage-create-storage-account.md#create-a-storage-account) в статье [Об учетных записях хранения Azure](../storage/storage-create-storage-account.md).
>
>

> [!WARNING]
> Будьте внимательны при повторном создании ключей доступа к связанной учетной записи хранения. Вам нужно повторно создать только один ключ учетной записи хранения. Затем щелкните **Синхронизировать ключи** в колонке связанной учетной записи хранения. Подождите пять минут, чтобы ключи распространились на вычислительные узлы в пулах, а затем при необходимости повторно создайте и синхронизируйте другие ключи. При попытке повторного создания двух ключей одновременно вычислительные узлы не смогут синхронизировать ни один из ключей, и в результате будет утерян доступ к учетной записи хранения.
>
>

![Повторное создание ключей учетной записи хранения][4]

## <a name="batch-service-quotas-and-limits"></a>Квоты и ограничения пакетной службы
Учтите, что, как и в случае с подпиской Azure и другими службами Azure, к учетным записями пакетной службы применяются определенные [квоты и ограничения](batch-quota-limit.md) . Текущие квоты для учетной записи пакетной службы отображаются на портале в **свойствах**учетной записи.

![Квоты учетной записи пакетной службы на портале Azure][quotas]



Кроме того, многие из этих квот можно увеличить, просто отправив запрос на поддержку бесплатного продукта на портале Azure. Дополнительные сведения о запросах на увеличение квот см. в статье [Квоты и ограничения пакетной службы Azure](batch-quota-limit.md).

## <a name="other-batch-account-management-options"></a>Другие параметры управления учетной записью пакетной службы
Помимо портала Azure, создавать учетные записи пакетной службы и управлять ими можно с помощью следующих средств:

* [командлеты PowerShell для пакетной службы;](batch-powershell-cmdlets-get-started.md)
* [Интерфейс командной строки Azure](batch-cli-get-started.md)
* [Библиотека .NET для управления пакетной службой](batch-management-dotnet.md)

## <a name="next-steps"></a>Дальнейшие действия
* Дополнительные сведения об основных понятиях и функциях пакетной службы см. в статье [Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы](batch-api-basics.md). В этой статье рассматриваются основные ресурсы пакетной службы, такие как пулы, вычислительные узлы, задания и задачи, а также приведены общие сведения о функциях этой службы, которые позволяют выполнять объемные вычислительные рабочие нагрузки.
* Здесь приведены основные сведения о разработке приложений с поддержкой пакетной службы с помощью [клиентской библиотеки .NET для пакетной службы](batch-dotnet-get-started.md) или [Python](batch-python-tutorial.md). В этой вводной статье рассматривается рабочее приложение, которое использует пакетную службу для выполнения рабочей нагрузки на нескольких вычислительных узлах и службу хранилища Azure для промежуточного хранения и извлечения файла рабочей нагрузки.

[api_net]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[api_rest]: https://msdn.microsoft.com/library/azure/Dn820158.aspx

[azure_portal]: https://portal.azure.com
[batch_pricing]: https://azure.microsoft.com/pricing/details/batch/

[4]: ./media/batch-account-create-portal/batch_acct_04.png "Повторное создание ключей учетной записи хранения"
[marketplace_portal]: ./media/batch-account-create-portal/marketplace_batch.PNG
[account_blade]: ./media/batch-account-create-portal/batch_blade.png
[account_portal]: ./media/batch-account-create-portal/batch_acct_portal.png
[account_keys]: ./media/batch-account-create-portal/account_keys.PNG
[account_url]: ./media/batch-account-create-portal/account_url.png
[storage_account]: ./media/batch-account-create-portal/storage_account.png
[quotas]: ./media/batch-account-create-portal/quotas.png
[subscription_access]: ./media/batch-account-create-portal/subscription_iam.png
[add_permission]: ./media/batch-account-create-portal/add_permission.png
[account_portal_byos]: ./media/batch-account-create-portal/batch_acct_portal_byos.png

