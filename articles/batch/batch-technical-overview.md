---
title: "Основные сведения о пакетной службе Azure | Документация Майкрософт"
description: "Узнайте об использовании пакетной службы Azure для крупномасштабных параллельных рабочих нагрузок и рабочих нагрузок HPC."
services: batch
documentationcenter: 
author: mmacy
manager: timlt
editor: 
ms.assetid: 93e37d44-7585-495e-8491-312ed584ab79
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 08/22/2016
ms.author: marsma
translationtype: Human Translation
ms.sourcegitcommit: 2ea002938d69ad34aff421fa0eb753e449724a8f
ms.openlocfilehash: 2559aae752f319805c2c9f87a2e2a81d9b37e4b2


---
# <a name="basics-of-azure-batch"></a>Основные сведения о пакетной службе Azure
Пакетная служба Azure позволяет эффективно запускать приложения, выполняющие крупномасштабные параллельные вычислительные задания с высокой производительностью, в облаке. Это служба платформы, которая планирует запуск ресурсоемких вычислительных задач в управляемой коллекции виртуальных машин и автоматически масштабирует вычислительные ресурсы в соответствии с требованиями задания.

С помощью пакетной службы вы можете определять вычислительные ресурсы Azure, необходимые для выполнения приложений в параллельном режиме и в нужном масштабе. Вы можете выполнять задания по запросу или по расписанию. При этом вам не нужно вручную создавать и настраивать кластер высокопроизводительных вычислений (HPC), отдельные виртуальные машины, виртуальные сети или сложную инфраструктуру планировщика задач и заданий, а также управлять всеми этими ресурсами.

## <a name="use-cases-for-batch"></a>Варианты использования пакетной службы
Пакетная служба — это управляемая служба Azure, которая используется для *пакетной обработки* и *пакетных вычислений*. Она выполняет большое количество схожих задач, чтобы получить нужный результат. Пакетная обработка данных чаще всего используется в организациях для обработки, преобразования и анализа больших объемов данных.

Пакетная служба хорошо работает с параллельными приложениями и рабочими нагрузками, которые выполняют задачи одновременно на нескольких компьютерах.

![Параллельные задачи][1]<br/>

Примеры рабочих нагрузок, которые обрабатываются по этому методу:

* Моделирование финансовых рисков.
* анализ климатических и гидрологических данных;
* отрисовка, обработка и анализ изображений;
* Кодирование и перекодировка мультимедиа.
* Анализ генетических последовательностей.
* анализ расчетного напряжения;
* Тестирование программного обеспечения.

Пакетная служба также может выполнять параллельные вычисления с уменьшением шага в конце и более сложные рабочие нагрузки HPC, такие как приложения, использующие [интерфейс передачи сообщений](batch-mpi.md) .

Сравнение пакетной службы с другими решениями HPC в Azure см. в статье [Пакетные решения и решения HPC в облаке Azure](batch-hpc-solutions.md).

## <a name="developing-with-batch"></a>Разработка с использованием пакетной службы
Обычно обработка параллельных рабочих нагрузок, использующих пакетную службу, выполняется программным способом с помощью [API-интерфейсов пакетной службы](#batch-development-apis). Эти интерфейсы позволяют создавать пулы вычислительных узлов (виртуальных машин) и управлять ими, а также планировать задания и задачи, которые на них выполняются. Клиентское приложение или служба, которые вы создадите, будут использовать API-интерфейсы пакетной службы для взаимодействия с пакетной службой.

Вы можете эффективно обрабатывать крупномасштабные рабочие нагрузки в своей организации или предоставлять внешние интерфейсы служб клиентам, чтобы они могли выполнять задания и задачи (по требованию или по расписанию) на одном, сотнях или тысячах узлов. Кроме того, пакетную службу можно использовать как часть более крупного рабочего процесса под управлением таких средств, как [фабрика данных Azure](../data-factory/data-factory-data-processing-using-batch.md).

> [!TIP]
> Дополнительные сведения о возможностях, которые предоставляет API пакетной службы, см. в статье [Обзор функций пакетной службы Azure](batch-api-basics.md).
> 
> 

### <a name="azure-accounts-youll-need"></a>Учетные записи Azure, которые вам понадобятся
При разработке решений с использованием пакетной службы требуются следующие учетные записи в Microsoft Azure.

* **Учетная запись и подписка Azure**. Если у вас еще нет подписки Azure, вы можете активировать [преимущества для подписчиков MSDN][msdn_benefits] или зарегистрироваться для получения [бесплатной учетной записи Azure][free_account]. При создании учетной записи автоматически создается подписка по умолчанию.
* **Учетная запись пакетной службы**. Когда приложения взаимодействуют с пакетной службой, в качестве учетных данных используются имя и URL-адрес учетной записи, а также ключ доступа. Все ресурсы пакетной службы, такие как пулы, вычислительные узлы, задания и задачи, связаны с учетной записью пакетной службы. Вы можете создать [учетную запись пакетной службы](batch-account-create-portal.md) на портале Azure.
* **Учетная запись хранения**. В пакетную службу встроена поддержка работы с файлами в [службе хранилища Azure][azure_storage]. В большинстве сценариев пакетной службы служба хранилища Azure используется не только для промежуточного хранения файлов программ, которые запускают задачи, и данных, которые они обрабатывают, но и для хранения выходных данных, которые создаются в результате выполнения задач. Чтобы создать учетную запись хранения, см. инструкции в статье [Об учетных записях хранения Azure](../storage/storage-create-storage-account.md).

### <a name="batch-development-apis"></a>API-интерфейсы для разработки в пакетной службе
Приложения и службы могут отправлять прямые вызовы REST API с помощью одной или нескольких представленных ниже клиентских библиотек или их комбинаций. Таким образом они управляют вычислительными ресурсами и выполняют параллельные рабочие нагрузки в требуемом масштабе с помощью пакетной службы.

| API | Справочник по API | Загрузить | Примеры кода |
| --- | --- | --- | --- |
| **Пакетная служба (REST)** |[MSDN][batch_rest] |Недоступно |[MSDN][batch_rest] |
| **Пакетная служба (.NET)** |[MSDN][api_net] |[NuGet ][api_net_nuget] |[GitHub][api_sample_net] |
| **Пакетная служба Python** |[readthedocs.IO][api_python] |[PyPI][api_python_pypi] |[GitHub][api_sample_python] |
| **Node.js для пакетной службы** |[github.IO][api_nodejs] |[npm][api_nodejs_npm] |- |
| **Java для пакетной службы** (предварительная версия) |[github.IO][api_java] |[Maven][api_java_jar] |[GitHub][api_sample_java] |

### <a name="batch-resource-management"></a>Управление ресурсами пакетной службы
Помимо клиентских API, для управления ресурсами в своей учетной записи пакетной службы вы также можете использовать следующие средства.

* [Командлеты PowerShell для пакетной службы][batch_ps]. Командлеты пакетной службы Azure в модуле [Azure PowerShell](../powershell-install-configure.md) позволяют управлять ресурсами пакетной службы с помощью PowerShell.
* [Azure CLI](../xplat-cli-install.md). Интерфейс командной строки Azure (Azure CLI) — это кроссплатформенный набор средств, который обеспечивает взаимодействие с разными службами Azure, включая пакетную службу, с помощью команд оболочки.
* Клиентская библиотека [.NET для управления пакетной службой](batch-management-dotnet.md). Эта библиотека используется для программного управления учетными записями, квотами и пакетами приложений пакетной службы. Она также доступна на сайте [NuGet][api_net_mgmt_nuget]. Ссылки на библиотеку управления см. на сайте [MSDN][api_net_mgmt].

### <a name="batch-tools"></a>Средства пакетной службы
Хотя решения не обязательно создавать с помощью пакетной службы, приведенные ниже средства полезны при создании и отладке приложений и служб пакетной службы.

* [Портал Azure][portal]. В колонках пакетной службы на портале Azure можно создавать, отслеживать и удалять пулы, задания и задачи пакетной службы. Во время выполнения заданий можно просмотреть сведения о состоянии этих и других ресурсов и даже скачать файлы из вычислительных узлов в пулах (например, скачать файл `stderr.txt` задачи, завершившейся сбоем, при устранении неполадок). Кроме того, можно скачать файлы удаленного рабочего стола, которые можно использовать для входа на вычислительные узлы.
* [Обозреватель пакетной службы Azure][batch_explorer]. Обозреватель пакетной службы предоставляет такие же функции управления ресурсами пакетной службы, что и портал Azure, но в отдельном клиентском приложении Windows Presentation Foundation. Один из примеров приложений .NET пакетной службы, доступных на [GitHub][github_samples], можно создать с помощью Visual Studio 2015 или более поздней версии. Его можно использовать для просмотра ресурсов и управления ими в вашей учетной записи пакетной службы во время разработки и отладки соответствующих решений. Просматривайте сведения о заданиях, пулах и задачах, скачивайте файлы из вычислительных узлов и удаленно подключайтесь к узлам с помощью файлов удаленного рабочего стола, которые можно скачать с помощью обозревателя пакетной службы.
* [Обозреватель хранилищ Microsoft Azure][storage_explorer]. Строго говоря, этот обозреватель не является средством пакетной службы Azure, но это полезный инструмент для разработки и отладки соответствующих решений.

## <a name="scenario-scale-out-a-parallel-workload"></a>Сценарий: развертывание параллельной рабочей нагрузки
Распространенное решение с использованием API пакетной службы для взаимодействия с пакетной службой включает в себя масштабирование принципиально параллельных рабочих нагрузок, таких как отрисовка изображений для 3D-формата, в пуле вычислительных узлов. Этот пул вычислительных узлов может быть своего рода фермой отрисовки, которая предоставляет десятки, сотни или даже тысячи ядер для заданий отрисовки.

На следующей схеме показан общий рабочий процесс, в котором используется клиентское приложение или размещенная служба для запуска параллельной рабочей нагрузки с помощью пакетной службы.

![Рабочий процесс решения с использованием пакетной службы][2]

В этом распространенном сценарии для обработки вычислительной рабочей нагрузки приложением или службой в пакетной службе Azure необходимо выполнить следующие действия:

1. Передайте **входные файлы** и **приложение**, которое будет обрабатывать эти файлы, в учетную запись службы хранилища Azure. Входными файлами могут быть любые данные, которые будет обрабатывать приложение, например данные финансового моделирования или видеофайлы, которые необходимо перекодировать. В качестве приложения можно использовать любое приложение для обработки данных, например приложение отрисовки 3D-данных или медиатранскодер.
2. Создайте в учетной записи пакетной службы **пул** пакетной службы, состоящий из вычислительных узлов, т. е. виртуальных машин, которые будут выполнять задачи. Чтобы установить приложение (отправленное на шаге 1) при присоединении узлов к пулу, укажите такие свойства, как [размер узла](../cloud-services/cloud-services-sizes-specs.md), используемая операционная система и расположение в службе хранилища Azure. Кроме того, вы можете настроить [автоматическое масштабирование](batch-automatic-scaling.md) пула (динамическое изменение количества вычислительных узлов в пуле) в соответствии с рабочей нагрузкой, создаваемой вашими задачами.
3. Создайте **задание** пакетной службы для выполнения рабочей нагрузки в пуле вычислительных узлов. При создании задание связывается с пулом пакетной службы.
4. Добавьте **задачи** в задание. При добавлении задач в задание пакетная служба автоматически планирует их выполнение в вычислительных узлах пула. Каждая задача использует приложение, переданное для обработки входных файлов.
   
   * 4а. Перед выполнением задачи данные (входные файлы), которые нужно обработать, могут быть скачаны в назначенный задаче вычислительный узел. Если приложение еще не установлено на узле (см. шаг 2), оно будет скачано на данном этапе. По завершении скачивания задачи будут выполняться в соответствующих назначенных узлах.
5. При выполнении задач можно отправить запрос к пакетной службе, чтобы отслеживать ход выполнения задания и задач. Клиентское приложение или служба взаимодействует с пакетной службой по протоколу HTTPS. Так как вы можете отслеживать состояние тысяч задач, выполняющихся на тысячах вычислительных узлов, [отправляйте к пакетной службе только эффективные запросы](batch-efficient-list-queries.md).
6. Выполненные задачи отправляют выходные данные в службу хранилища Azure. Можно также извлечь файлы непосредственно из вычислительных узлов.
7. Если при мониторинге обнаруживается, что задачи в задании выполнены, выходные данные могут быть скачаны для дальнейшей обработки или оценки через клиентское приложение или службу.

Это всего лишь один из способов использования пакетной службы, и в этом сценарии описывается только небольшая часть доступных функций. Например, можно выполнять [несколько задач параллельно](batch-parallel-node-tasks.md) на каждом вычислительном узле. Кроме того, можно использовать [задачи подготовки и завершения задания](batch-job-prep-release.md), чтобы подготовить узлы к запуску заданий, а затем выполнить очистку.

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вы ознакомились с пакетной службой, пора узнать, как ее можно использовать для обработки параллельных рабочих нагрузок с ресурсоемкими вычислениями.

* Информация, необходимая для тех, кто готовится использовать пакетную службу, доступна в статье [Обзор функций пакетной службы для разработчиков](batch-api-basics.md). Эта статья содержит дополнительные подробные сведения о таких ресурсах пакетной службы, как пулы, узлы, задания, задачи и многие функции API, которые можно использовать при создании приложения пакетной службы.
* Сведения об использовании C# и библиотеки .NET для пакетной службы при обработке простой рабочей нагрузки с помощью стандартного рабочего процесса пакетной службы см. в статье [Начало работы с библиотекой пакетной службы Azure для .NET](batch-dotnet-get-started.md). Это один из основных ресурсов, с которым нужно ознакомиться, приступая к работе с пакетной службой. Есть также версия руководства для [Python](batch-python-tutorial.md).
* Скачайте [примеры кода с GitHub][github_samples], чтобы увидеть, как C# и Python взаимодействуют с пакетной службой для планирования и обработки примеров рабочих нагрузок.
* Список ресурсов для работы с пакетной службой см. на схеме обучения [Пакетная служба][learning_path].

[azure_storage]: https://azure.microsoft.com/services/storage/
[api_java]: http://azure.github.io/azure-sdk-for-java/
[api_java_jar]: http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22azure-batch%22
[api_net]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[api_net_nuget]: https://www.nuget.org/packages/Azure.Batch/
[api_net_mgmt]: https://msdn.microsoft.com/library/azure/mt463120.aspx
[api_net_mgmt_nuget]: https://www.nuget.org/packages/Microsoft.Azure.Management.Batch/
[api_nodejs]: http://azure.github.io/azure-sdk-for-node/azure-batch/latest/
[api_nodejs]: https://www.npmjs.com/package/azure-batch
[api_python]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.html
[api_python_pypi]: https://pypi.python.org/pypi/azure-batch
[api_sample_net]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp
[api_sample_python]: https://github.com/Azure/azure-batch-samples/tree/master/Python/Batch
[api_sample_java]: https://github.com/Azure/azure-batch-samples/tree/master/Java/
[batch_ps]: https://msdn.microsoft.com/library/azure/mt125957.aspx
[batch_rest]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[free_account]: https://azure.microsoft.com/free/
[github_samples]: https://github.com/Azure/azure-batch-samples
[learning_path]: https://azure.microsoft.com/documentation/learning-paths/batch/
[msdn_benefits]: https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/
[batch_explorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[storage_explorer]: http://storageexplorer.com/
[portal]: https://portal.azure.com

[1]: ./media/batch-technical-overview/tech_overview_01.png
[2]: ./media/batch-technical-overview/tech_overview_02.png



<!--HONumber=Nov16_HO2-->


