---
title: Заметки к выпуску Пакета средств разработки Azure Stack | Документация Майкрософт
description: Улучшения, исправления и известные проблемы Пакета средств разработки Azure Stack.
services: azure-stack
documentationcenter: ''
author: brenduns
manager: femila
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/20/2018
ms.author: brenduns
ms.reviewer: misainat
ms.openlocfilehash: bbd9bb0d56dd61fd0a32531ac425a1dbc1aa8923
ms.sourcegitcommit: 1438b7549c2d9bc2ace6a0a3e460ad4206bad423
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2018
ms.locfileid: "36295417"
---
# <a name="azure-stack-development-kit-release-notes"></a>Заметки к выпуску Пакета средств разработки Azure Stack  
В этой статье содержатся сведения об улучшениях, исправлениях и известных проблемах Пакета средств разработки Azure Stack. Если вы не знаете, какая версия используется, проверьте ее [с помощью портала](.\.\azure-stack-updates.md#determine-the-current-version).

> Будьте в курсе новых возможностей ASDK, подписавшись на этот [![RSS](./media/asdk-release-notes/feed-icon-14x14.png)](https://docs.microsoft.com/api/search/rss?search=Azure+Stack+Development+Kit+release+notes&locale=en-us#) [веб-канал](https://docs.microsoft.com/api/search/rss?search=Azure+Stack+Development+Kit+release+notes&locale=en-us#).

## <a name="build-11805147"></a>Сборка 1.1805.1.47

> [!TIP]  
> На основе отзывов клиентов обновлена схема версии, используемая в Microsoft Azure Stack. Начиная с этого обновления, 1805, новая схема лучше представляет текущую версию облака.  
> 
> Теперь схема версии — *Version.YearYearMonthMonth.MinorVersion.BuildNumber*, в которой второй и третий набор представляют собой версию и выпуск. Например, 1805.1 представляет собой *окончательную первоначальную версию* (RTM) 1805.  


### <a name="new-features"></a>новые функции; 
Эта сборка включает в себя следующие улучшения и исправления для Azure Stack.  

- <!-- 2297790 - IS, ASDK --> **Теперь Azure Stack включает клиент *Syslog*** в качестве *предварительной версии функции*. Этот клиент позволяет переадресовывать журналы аудита и безопасности, связанные с инфраструктурой Azure Stack, на сервер Syslog или в программное обеспечение управления информационной безопасностью и событиями безопасности (SIEM), внешнее по отношению к Azure Stack. В настоящее время клиент Syslog поддерживает только подключения без проверки подлинности по протоколу UDP через порт 514 по умолчанию. Полезные данные каждого сообщения Syslog представлены в общем формате событий (CEF). 

  Чтобы настроить клиент Syslog, воспользуйтесь командлетом **Set-SyslogServer**, представленным в привилегированной конечной точке. 

  В этой предварительной версии можно увидеть следующие три предупреждения. При представлении в Azure Stack эти предупреждения включают *описания* и руководство по *исправлению*. 
  - Заголовок. Целостность кода отключена  
  - Заголовок.Целостность кода в режиме аудита 
  - Заголовок. Создана учетная запись пользователя

  Пока эта функция находится в режиме предварительной версии, не стоит использовать ее в рабочих средах.   


### <a name="fixed-issues"></a>Исправленные проблемы
- Мы исправили проблему, не позволяющую [открыть новый запрос в службу поддержки из раскрывающегося списка](.\.\azure-stack-manage-portals.md#quick-access-to-help-and-support) на портале администрирования. Сейчас этот параметр работает должным образом. 

- **Различные исправления** производительности, стабильности, безопасности и операционной системы, которую использует служба Azure Stack.


<!-- ### Changes  --> 


<!--   ### Additional releases timed with this update  -->


### <a name="known-issues"></a>Известные проблемы
 
#### <a name="portal"></a>Microsoft Azure
- <!-- 2551834 - IS, ASDK --> При выборе **обзора** учетной записи на порталах администратора или пользователя, сведения панели *Основные компоненты* не отображаются.  В области "Основные компоненты" отображаются сведения об учетной записи, такие как ее *группа ресурсов*, *расположение* и *идентификатор подписки*.  Кроме того, доступны другие параметры обзора, например *Службы* и *Мониторинг*, а также *Открыть в обозревателе* или *Удаление учетной записи хранения*.  

  Чтобы просмотреть недоступные сведения, используйте командлет [Get-azureRMstorageaccount](https://docs.microsoft.com/powershell/module/azurerm.storage/get-azurermstorageaccount?view=azurermps-6.2.0) PowerShell. 

- <!-- 2551834 - IS, ASDK --> При выборе **тегов** учетной записи на порталах администратора или пользователя не удается скачать сведения и они не отображаются.  

  Чтобы просмотреть недоступные сведения, используйте командлет [Get-AzureRmTag](https://docs.microsoft.com/powershell/module/azurerm.tags/get-azurermtag?view=azurermps-6.2.0) PowerShell.

- <!-- TBD - IS ASDK --> Не используйте новые типы административных подписок: *подписка для учета* и *подписка для контроля потребления*. Эти новые типы подписки появились в версии 1804, но они еще не готовы для использования. Продолжайте использовать тип подписки *Поставщик по умолчанию*.  

- <!-- 2403291 - IS ASDK --> Возможно, вы не используете горизонтальную полосу прокрутки в нижней части административного и пользовательских порталов. Если не удается получить доступ к горизонтальной полосе прокрутки, с помощью строки навигации перейдите в предыдущую колонку портала, выбрав имя колонки, которую нужно просмотреть, в списке навигации в верхней левой части портала.
  ![Элемент навигации](media/asdk-release-notes/breadcrumb.png)

- <!-- TBD -  IS ASDK --> Удаление подписки пользователя приводит к появлению потерянных ресурсов. Чтобы избежать этого, следует сначала удалить ресурсы пользователя или всю группу ресурсов и лишь затем удалять подписки пользователя.

- <!-- TBD -  IS ASDK --> Вы не можете просматривать разрешения для подписки на порталах Azure Stack. Используйте PowerShell, чтобы проверить разрешения.


#### <a name="health-and-monitoring"></a>Работоспособность и мониторинг
- <!-- 1264761 - IS ASDK --> Вы можете просмотреть предупреждения компонента *Контроллер работоспособности* со следующими сведениями:  

   Предупреждение № 1:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера пульса недоступен. Это может повлиять на отчеты о работоспособности и метрики.  

  Предупреждение №2:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера ошибок недоступен. Это может повлиять на отчеты о работоспособности и метрики.

  Оба предупреждения можно спокойно проигнорировать, они автоматически закрываются через время.  

- <!-- 2392907 – ASDK --> При **низком объеме памяти** может появиться *критическое* предупреждение. Это предупреждение имеет следующее описание: *Регион потребляет более 95,00 % доступной памяти. Создание виртуальных машин с большими объемами памяти может завершиться с ошибкой.*

  Это предупреждение может быть создано, когда Azure Stack неправильно учитывает использование памяти в комплекте разработчика Azure Stack.  

  Это предупреждение можно игнорировать, проблема не оказывает влияния на размещение виртуальных машин. 

- <!-- 2368581 - IS. ASDK --> Если оператор Azure Stack получает предупреждение о недостатке памяти, а при развертывании виртуальных машин клиента происходит сбой с *ошибкой создания виртуальной машины Fabric*, вероятно, для метки Azure Stack недостаточно памяти. Используйте [планировщик ресурсов Azure Stack](https://gallery.technet.microsoft.com/Azure-Stack-Capacity-24ccd822), чтобы разобраться с емкостью, доступной для рабочих нагрузок. 


#### <a name="compute"></a>Службы вычислений
- <!-- TBD - IS, ASDK --> При выборе размера виртуальной машины для развертывания некоторые размеры виртуальных машин серии F не отображаются в селекторе размера во время создания. Следующие размеры виртуальных машин не отображаются в селекторе: *F8s_v2*, *F16s_v2*, *F32s_v2* и *F64s_v2*.  
  Чтобы обойти эту проблему, используйте один из следующих методов для развертывания виртуальной машины. В каждом методе необходимо указать размер виртуальной машины, который вы хотите использовать.

  - **Шаблон Azure Resource Manager.** При использовании шаблона задайте в нем значение *vmSize*, равное требуемому размеру виртуальной машины. Например, приведенная ниже запись используется для развертывания виртуальной машины размера *F32s_v2*:  

    ```
        "properties": {
        "hardwareProfile": {
                "vmSize": "Standard_F32s_v2"
        },
    ```  
  - **Azure CLI:** можно использовать команду [az vm create](https://docs.microsoft.com/cli/azure/vm?view=azure-cli-latest#az-vm-create) и указать размер виртуальной машины в качестве параметра. Пример: `--size "Standard_F32s_v2"`.

  - **PowerShell:** в PowerShell можно использовать командлет [New-AzureRMVMConfig](https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvmconfig?view=azurermps-6.0.0) с параметром, который указывает размер виртуальной машины. Пример: `-VMSize "Standard_F32s_v2"`.


- <!-- TBD -  IS ASDK --> Параметры масштабирования для масштабируемых наборов виртуальной машины на портале недоступны. В качестве обходного решения используйте [Azure PowerShell](https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-manage-powershell#change-the-capacity-of-a-scale-set). Из-за различий между версиями PowerShell используйте параметр `-Name` вместо параметра `-VMScaleSetName`.

- <!-- TBD -  IS ASDK --> При создании виртуальных машин на пользовательском портале Azure Stack отображается неверное число дисков данных, которые можно подключить к виртуальной машине серии D. Ко всем поддерживаемым виртуальным машинам серии D можно подключить такое же количество дисков данных, которое доступно в конфигурации Azure.

- <!-- TBD -  IS ASDK --> При сбое создания образа виртуальной машины неисправный элемент, который вы не смогли удалить, может быть добавлен в колонку вычислений образов виртуальной машины.

  В качестве обходного пути создайте образ виртуальной машины с пустым VHD. Его можно создать с помощью Hyper-V (New-VHD -Path C:\dummy.vhd -Fixed -SizeBytes 1 GB). Этот процесс должен устранить проблему, которая не дает удалить неисправный элемент. Затем через 15 минут после создания фиктивного образа вы сможете удалить его.

  После этого вы можете попытаться повторно загрузить образ виртуальной машины, который ранее загрузить не удалось.

- <!-- TBD -  IS ASDK --> Если подготовка расширения для развертывания виртуальной машины занимает слишком много времени, следует дождаться истечения времени ожидания, а не пытаться остановить процесс освобождения или удаления виртуальной машины.  

- <!-- 1662991 - IS ASDK --> Диагностика виртуальных машин Linux не поддерживается в Azure Stack. При развертывании виртуальной машины Linux с включенной диагностикой оно завершается со сбоем. Развертывание также не выполняется, если базовые метрики виртуальной машины Linux включены через параметры диагностики. 

#### <a name="networking"></a>Сеть
- <!-- TBD - IS ASDK --> Вы не можете создать определяемые пользователем маршруты на административном или пользовательском портале. В качестве обходного решения используйте [Azure PowerShell](https://docs.microsoft.com/azure/virtual-network/tutorial-create-route-table-powershell).

- <!-- 1766332 - IS, ASDK --> Если в разделе **Сеть** выбрать **Create VPN Gateway** (Создание VPN-шлюза) для настройки VPN-подключения, то в качестве типа VPN будет указан параметр **Policy Based** (На основе политики). Не выбирайте это подключение. В Azure Stack поддерживается только параметр **Route Based** (На основе маршрутов).

- <!-- 2388980 -  IS ASDK --> После создания виртуальной машины и ее связывания с общедоступным IP-адресом вы не можете отменить эту связь. Будет выглядеть так, будто вам удалось его отменить, но ранее присвоенный общедоступный IP-адрес останется связанным с исходной виртуальной машиной.

  Сейчас для создания виртуальной машины необходимо использовать только новые общедоступные IP-адреса.

  Это происходит, даже если присвоить этот IP-адрес новой виртуальной машине (это часто называют *переключением виртуального IP-адреса*). Все последующие попытки подключиться через этот IP-адрес к новой виртуальной машине приведут к подключению к исходной виртуальной машине.


- <!-- 2292271 - IS ASDK --> Если повысить квоту для ресурсов сети, которые являются частью предложения и плана, связанного с подпиской клиента, то новое ограничение не применяется к этой подписке. Тем не менее оно распространяется на новые подписки, созданные после увеличения квоты. 

  Чтобы обойти эту проблему, используйте план надстройки для повышения квоты сети, если план уже связан с подпиской. Чтобы получить дополнительные сведения, узнайте, как [сделать доступным план надстройки](.\.\azure-stack-subscribe-plan-provision-vm.md#to-make-an-add-on-plan-available).

- <!-- 2304134 IS ASDK --> Невозможно удалить подписку, с которой связаны ресурсы зоны DNS или таблицы маршрутов. Чтобы успешно удалить подписку, необходимо сначала удалить из подписки клиента ресурсы зоны DNS и таблицы маршрутов. 


- <!-- 1902460 -  IS ASDK --> Azure Stack поддерживает один *локальный сетевой шлюз* на IP-адрес. Это относится ко всем подпискам клиентов. После создания первого подключения к локальному сетевому шлюзу последующие попытки создать ресурс локального сетевого шлюза с тем же IP-адресом блокируются.

- <!-- 16309153 -  IS ASDK --> В виртуальной сети, созданной с помощью параметра DNS-сервера *Автоматический*, попытка изменить на пользовательский DNS-сервер завершается с ошибкой. Обновленные параметры не передаются на виртуальные машины в этой виртуальной сети.
 
- <!-- TBD -  IS ASDK --> Azure Stack не поддерживает добавление дополнительных сетевых интерфейсов к экземпляру виртуальной машины после ее развертывания. Если для виртуальной машины требуется несколько сетевых интерфейсов, их нужно определить во время развертывания.


#### <a name="sql-and-mysql"></a>SQL и MySQL 
- <!-- TBD - ASDK --> Необходимо определить серверы размещения баз данных, чтобы их могли использовать поставщик ресурсов и пользовательские рабочие нагрузки. Нельзя использовать экземпляр, который используется любым другим объектом-получателем, включая службы приложений.

- <!-- IS, ASDK --> При создании номера SKU для поставщиков ресурсов SQL и MySQL в именах **семейства** не поддерживаются специальные знаки, включая пробелы и точки. 

#### <a name="app-service"></a>Служба приложений Azure
- <!-- 2352906 - IS ASDK --> Прежде чем создавать первую функцию Azure в подписке, пользователь должен зарегистрировать поставщик ресурсов хранилища.

- <!-- TBD - IS ASDK --> Чтобы масштабировать инфраструктуру (рабочие роли, роли управления, внешние роли), используйте PowerShell, как описано в заметках о выпуске служб вычислений.  

- <!-- TBD - IS ASDK --> Сейчас службу приложений можно развернуть только в *подписке поставщика по умолчанию*. В будущем обновлении служба приложений будет развернута в новой *подписке для учета*, представленной в Azure Stack 1804. Если будет реализована поддержка учета, все имеющиеся развертывания будут перенесены в этот новый тип подписки.

#### <a name="usage"></a>Использование  
- <!-- TBD -  IS ASDK --> Вместо метки *TimeDate*, которая показывает время создания записи, в данных инструмента для отслеживания использования общедоступного IP-адреса отображается одно значение *EventDateTime* для каждой записи. В настоящее время эти данные непригодны для выполнения точного расчета и получения данных об использовании общедоступного IP-адреса.

<!-- #### Identity -->



## <a name="build-201805131"></a>Сборка 20180513.1

### <a name="new-features"></a>новые функции; 
Эта сборка включает в себя следующие улучшения и исправления для Azure Stack.  

- <!-- 1759172 - IS, ASDK --> **Новые административные подписки**. Начиная с версии 1804, на портале доступны два новых типа подписки. Эти новые типы подписки доступны в дополнение к подписке поставщика по умолчанию и видимы в новых установках Azure Stack, начиная с версии 1804. *Не используйте эти новые типы подписки с данной версией Azure Stack*. Мы сообщим о доступности этих типов подписки с будущим обновлением. 

  Эти новые типы подписки видимы, но являются частью большего изменения, предназначенного, чтобы защитить подписку поставщика по умолчанию и упростить развертывание общих ресурсов (например, серверов размещения SQL). 

  Сейчас доступно три типа подписок:  
  - Подписка поставщика по умолчанию. Продолжайте использовать этот тип подписки. 
  - Подписка для учета. *Не используйте этот тип подписки.*
  - Подписка для контроля потребления. *Не используйте этот тип подписки.*

### <a name="fixed-issues"></a>Исправленные проблемы
- <!-- IS, ASDK --> На портале администрирования больше не нужно обновлять плитку обновления до того, как она отобразит информацию. 

- <!-- 2050709 - IS, ASDK --> Теперь можно использовать портал администрирования для изменения метрик хранилища службы BLOB-объектов, службы таблиц и службы очередей.

- <!-- IS, ASDK --> В разделе **Сети** при нажатии кнопки **Подключение** для настройки VPN-подключение **Сеть — сеть (IPsec)** — единственный доступный вариант. 

- **Различные исправления** производительности, стабильности, безопасности и операционной системы, которую использует служба Azure Stack.

<!-- ### Changes  --> 
### <a name="additional-releases-timed-with-this-update"></a>Дополнительные выпуски, приуроченные к этому обновлению  
Ниже приведены компоненты, которые теперь доступны, но не требуют установки обновления 1804 для Azure Stack.
- **Обновление для пакета мониторинга System Center Operations Manager для Microsoft Azure Stack**. Новая версия (1.0.3.0) пакета мониторинга System Center Operations Manager для Microsoft Azure Stack доступна для [скачивания](https://www.microsoft.com/download/details.aspx?id=55184). С этой версией можно использовать субъекты-службы при добавлении подключенного к сети развертывания Azure Stack. Эта версия также включает в себя функции управления обновлениями, которые дают возможность выполнять действия по исправлению непосредственно из Operations Manager. В нее добавлены новые панели мониторинга, отображающие поставщики ресурсов, единицы масштабирования и узлы единиц масштабирования.

- **Новая версия модуля PowerShell для ресурсов администратора Azure Stack (1.3.0)**.  Модуль PowerShell для Azure Stack версии 1.3.0 теперь доступен для установки. Эта версия включает в себя команды для всех поставщиков ресурсов администратора, предназначенных для управления Azure Stack.  В этом выпуске будет считаться устаревшим некоторое содержимое [репозитория](https://github.com/Azure/AzureStack-Tools) инструментов GitHub для Azure Stack. 

   Сведения об установке приведены в [указаниях](.\.\azure-stack-powershell-install.md) или [справке](https://docs.microsoft.com/powershell/azure/azure-stack/overview?view=azurestackps-1.3.0) для модуля Azure Stack 1.3.0. 

- **Первоначальный выпуск справочника по REST API Azure Stack**. Опубликован [справочник по API для всех поставщиков ресурсов администратора Azure Stack](https://docs.microsoft.com/rest/api/azure-stack/). 

### <a name="known-issues"></a>Известные проблемы
 
#### <a name="portal"></a>Microsoft Azure
- <!-- TBD - IS ASDK --> Возможность [открыть новый запрос на поддержку из раскрывающегося списка](.\.\azure-stack-manage-portals.md#quick-access-to-help-and-support) на портале администрирования недоступна. Вместо этого перейдите по следующей ссылке:     
    - Для Пакета средств разработки используйте ссылку https://aka.ms/azurestackforum.    

- <!-- 2403291 - IS ASDK --> Возможно, вы не используете горизонтальную полосу прокрутки в нижней части административного и пользовательских порталов. Если не удается получить доступ к горизонтальной полосе прокрутки, с помощью строки навигации перейдите в предыдущую колонку портала, выбрав имя колонки, которую нужно просмотреть, в списке навигации в верхней левой части портала.
  ![Элемент навигации](media/asdk-release-notes/breadcrumb.png)

- <!-- TBD -  IS ASDK --> Удаление подписки пользователя приводит к появлению потерянных ресурсов. Чтобы избежать этого, следует сначала удалить ресурсы пользователя или всю группу ресурсов и лишь затем удалять подписки пользователя.

- <!-- TBD -  IS ASDK --> Вы не можете просматривать разрешения для подписки на порталах Azure Stack. Используйте PowerShell, чтобы проверить разрешения.

-   <!-- TBD -  IS ASDK --> На портале администрирования может появиться критическое оповещение о компоненте Microsoft.Update.Admin. В полях "Имя оповещения", "Описание" и "Исправление" отображается следующее сообщение:  
    - *ERROR - Template for FaultType ResourceProviderTimeout is missing.* (Ошибка. Отсутствует шаблон FaultType ResourceProviderTimeout).

    Это оповещение можно проигнорировать. 

#### <a name="health-and-monitoring"></a>Работоспособность и мониторинг
- <!-- 1264761 - IS ASDK --> Вы можете просмотреть предупреждения компонента *Контроллер работоспособности* со следующими сведениями:  

   Предупреждение № 1:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера пульса недоступен. Это может повлиять на отчеты о работоспособности и метрики.  

  Предупреждение №2:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера ошибок недоступен. Это может повлиять на отчеты о работоспособности и метрики.

  Оба эти предупреждения можно проигнорировать. Они автоматически исчезнут через некоторое время.  

#### <a name="marketplace"></a>Marketplace
- Пользователи могут просматривать весь Marketplace без подписки и видеть некоторые административные элементы, такие как планы и предложения. Эти элементы бесполезны для пользователей.
 
#### <a name="compute"></a>Службы вычислений
- <!-- TBD -  IS ASDK --> Параметры масштабирования для масштабируемых наборов виртуальной машины на портале недоступны. В качестве обходного решения используйте [Azure PowerShell](https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-manage-powershell#change-the-capacity-of-a-scale-set). Из-за различий между версиями PowerShell используйте параметр `-Name` вместо параметра `-VMScaleSetName`.

- <!-- TBD -  IS ASDK --> При создании виртуальных машин на пользовательском портале Azure Stack отображается неверное число дисков данных, которые можно подключить к виртуальной машине серии DS. К виртуальным машинам серии DS можно подключить такое же количество дисков данных, которое доступно в конфигурации Azure.

- <!-- TBD -  IS ASDK --> При сбое создания образа виртуальной машины неисправный элемент, который вы не смогли удалить, может быть добавлен в колонку вычислений образов виртуальной машины.

  В качестве обходного пути создайте образ виртуальной машины с пустым VHD. Его можно создать с помощью Hyper-V (New-VHD -Path C:\dummy.vhd -Fixed -SizeBytes 1 GB). Этот процесс должен устранить проблему, которая не дает удалить неисправный элемент. Затем через 15 минут после создания фиктивного образа вы сможете удалить его.

  После этого вы можете попытаться повторно загрузить образ виртуальной машины, который ранее загрузить не удалось.

- <!-- TBD -  IS ASDK --> Если подготовка расширения для развертывания виртуальной машины занимает слишком много времени, следует дождаться истечения времени ожидания, а не пытаться остановить процесс освобождения или удаления виртуальной машины.  

- <!-- 1662991 - IS ASDK --> Диагностика виртуальных машин Linux не поддерживается в Azure Stack. При развертывании виртуальной машины Linux с включенной диагностикой оно завершается со сбоем. Развертывание также не выполняется, если базовые метрики виртуальной машины Linux включены через параметры диагностики. 

#### <a name="networking"></a>Сеть
- <!-- 1766332 - IS, ASDK --> Если в разделе **Сеть** выбрать **Create VPN Gateway** (Создание VPN-шлюза) для настройки VPN-подключения, то в качестве типа VPN будет указан параметр **Policy Based** (На основе политики). Не выбирайте это подключение. В Azure Stack поддерживается только параметр **Route Based** (На основе маршрутов).

- <!-- 2388980 -  IS ASDK --> После создания виртуальной машины и ее связывания с общедоступным IP-адресом вы не можете отменить эту связь. Будет выглядеть так, будто вам удалось его отменить, но ранее присвоенный общедоступный IP-адрес останется связанным с исходной виртуальной машиной.

  Сейчас для создания виртуальной машины необходимо использовать только новые общедоступные IP-адреса.

  Это происходит, даже если присвоить этот IP-адрес новой виртуальной машине (это часто называют *переключением виртуального IP-адреса*). Все последующие попытки подключиться через этот IP-адрес к новой виртуальной машине приведут к подключению к исходной виртуальной машине.

- <!-- 2292271 - IS ASDK --> Если повысить квоту для ресурсов сети, которые являются частью предложения и плана, связанного с подпиской клиента, то новое ограничение не применяется к этой подписке. Тем не менее оно распространяется на новые подписки, созданные после увеличения квоты. 

  Чтобы обойти эту проблему, используйте план надстройки для повышения квоты сети, если план уже связан с подпиской. Чтобы получить дополнительные сведения, узнайте, как [сделать доступным план надстройки](.\.\azure-stack-subscribe-plan-provision-vm.md#to-make-an-add-on-plan-available).

- <!-- 2304134 IS ASDK --> Невозможно удалить подписку, с которой связаны ресурсы зоны DNS или таблицы маршрутов. Чтобы успешно удалить подписку, необходимо сначала удалить из подписки клиента ресурсы зоны DNS и таблицы маршрутов. 


- <!-- 1902460 -  IS ASDK --> Azure Stack поддерживает один *локальный сетевой шлюз* на IP-адрес. Это относится ко всем подпискам клиентов. После создания первого подключения к локальному сетевому шлюзу последующие попытки создать ресурс локального сетевого шлюза с тем же IP-адресом блокируются.

- <!-- 16309153 -  IS ASDK --> В виртуальной сети, созданной с помощью параметра DNS-сервера *Автоматический*, попытка изменить на пользовательский DNS-сервер завершается с ошибкой. Обновленные параметры не передаются на виртуальные машины в этой виртуальной сети.
 
- <!-- TBD -  IS ASDK --> Azure Stack не поддерживает добавление дополнительных сетевых интерфейсов к экземпляру виртуальной машины после ее развертывания. Если для виртуальной машины требуется несколько сетевых интерфейсов, их нужно определить во время развертывания.


#### <a name="sql-and-mysql"></a>SQL и MySQL 
- <!-- TBD - ASDK --> Необходимо определить серверы размещения баз данных, чтобы их могли использовать поставщик ресурсов и пользовательские рабочие нагрузки. Нельзя использовать экземпляр, который используется любым другим объектом-получателем, включая службы приложений.

- <!-- IS, ASDK --> При создании номера SKU для поставщиков ресурсов SQL и MySQL в именах **семейства** не поддерживаются специальные знаки, включая пробелы и точки. 

#### <a name="app-service"></a>Служба приложений Azure
- <!-- TBD -  IS ASDK --> Прежде чем создавать первую функцию Azure в подписке, пользователь должен зарегистрировать поставщик ресурсов хранилища.

- <!-- TBD -  IS ASDK --> Чтобы масштабировать инфраструктуру (рабочие роли, роли управления, внешние роли), используйте PowerShell, как описано в заметках о выпуске служб вычислений.
 
#### <a name="usage"></a>Использование  
- <!-- TBD -  IS ASDK --> Вместо метки *TimeDate*, которая показывает время создания записи, в данных инструмента для отслеживания использования общедоступного IP-адреса отображается одно значение *EventDateTime* для каждой записи. В настоящее время эти данные непригодны для выполнения точного расчета и получения данных об использовании общедоступного IP-адреса.

<!--
#### Identity
-->



#### <a name="downloading-azure-stack-tools-from-github"></a>Загрузка средств Azure Stack с сайта GitHub
- При использовании командлета PowerShell *invoke-webrequest* для загрузки средств Azure Stack с Github вы получите следующее сообщение об ошибке:     
    -  *invoke-webrequest : The request was aborted: Could not create SSL/TLS secure channel.* (invoke-webrequest. Запрос был прерван. Не удалось создать защищенный канал SSL/TLS).     

  Эта ошибка возникает из-за недавнего прекращения поддержки стандартов шифрования Tlsv1 и Tlsv1.1 в GitHub (по умолчанию для PowerShell). Дополнительные сведения см. в разделе [Weak cryptographic standards removal notice](https://githubengineering.com/crypto-removal-notice/) (Уведомление об удалении слабых стандартов шифрования).

<!-- #### Identity -->



## <a name="build-201803021"></a>Сборка 20180302.1

### <a name="new-features-and-fixes"></a>Новые функции и исправления
Новые возможности и исправления для интегрированных систем Azure Stack версии 1803 применяются к Пакету средств разработки Azure Stack. Ознакомьтесь с разделами [Новые функции](.\.\azure-stack-update-1803.md#new-features) и [Исправленные проблемы](.\.\azure-stack-update-1803.md#fixed-issues), в которых содержатся заметки о выпуске обновлений 1803 Azure Stack.  
> [!IMPORTANT]    
> Некоторые из элементов, перечисленные в разделах **Новые функции** и **Исправленные проблемы**, применимы только к интегрированным системам Azure Stack.

### <a name="changes"></a>изменения
- Изменился способ изменения состояния созданного предложения с *частного* на *общедоступное* или *резервное*. Дополнительные сведения см. в статье [Создание предложения в Azure Stack](.\.\azure-stack-create-offer.md). 


### <a name="known-issues"></a>Известные проблемы
 
#### <a name="portal"></a>Microsoft Azure
- Возможность [открыть новый запрос на поддержку из раскрывающегося списка](.\.\azure-stack-manage-portals.md#quick-access-to-help-and-support) на портале администрирования недоступна. Вместо этого перейдите по следующей ссылке:     
    - Для Пакета средств разработки используйте ссылку https://aka.ms/azurestackforum.    

- <!-- 2050709 --> На портале администрирования невозможно изменить метрики хранилища службы BLOB-объектов, службы таблиц или службы очередей. Перейдите к службе хранилища, а затем выберите плитку службы большого двоичного объекта, таблицы или очереди. Откроется новая колонка с диаграммой метрик для этой службы. При выборе элемента "Правка" в верхней части плитки диаграммы метрик откроется колонка "Изменение диаграммы", но параметры редактирования метрик не будут отображаться.  

- Вы увидите предупреждение **Требуется активация**. Это значит, что вам необходимо зарегистрировать Пакет средств разработки Azure Stack. Это ожидаемое поведение.

- Удаление подписки пользователя приводит к появлению потерянных ресурсов. Чтобы избежать этого, следует сначала удалить ресурсы пользователя или всю группу ресурсов и лишь затем удалять подписки пользователя.

- Вы не можете просматривать разрешения для подписки на порталах Azure Stack. Используйте PowerShell, чтобы проверить разрешения.

- На панели мониторинга на портале администрирования плитка "Обновление" не отображает информацию об обновлениях. Для устранения этой проблемы щелкните плитку, чтобы обновить ее.

-   На портале администрирования может появиться критическое оповещение о компоненте Microsoft.Update.Admin. В полях "Имя оповещения", "Описание" и "Исправление" отображается следующее сообщение:  
    - *ERROR - Template for FaultType ResourceProviderTimeout is missing.* (Ошибка. Отсутствует шаблон FaultType ResourceProviderTimeout).

    Это оповещение можно проигнорировать. 

- Если на портале администрирования и пользовательском портале выбрать колонку "Обзор" для учетных записей хранения, созданных в более ранней версии API (например, 2015-06-15), колонка не загрузится. 

  Чтобы избежать этой проблемы, выполните в PowerShell скрипт **Start-ResourceSynchronization.ps1**. Это позволит восстановить доступ к сведениям об учетной записи хранения. [Скрипт можно найти в GitHub]( https://github.com/Azure/AzureStack-Tools/tree/master/Support/scripts). Если вы используете ASDK, этот скрипт нужно выполнить с учетными данными администратора на узле комплекта разработки.  

- Не удается загрузить колонку **Работоспособность службы**. При открытии колонки "Работоспособность службы" на портале администрирования или пользовательском портале в Azure Stack отображается ошибка и не загружается информация. Это ожидаемое поведение. Хотя вы можете выбрать и открыть колонку "Работоспособность службы", эта функция еще недоступна. Она будет реализована в будущей версии Azure Stack.


#### <a name="health-and-monitoring"></a>Работоспособность и мониторинг
- <!-- 1264761 - IS ASDK --> Вы можете просмотреть предупреждения компонента *Контроллер работоспособности* со следующими сведениями:  

   Предупреждение № 1:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера пульса недоступен. Это может повлиять на отчеты о работоспособности и метрики.  

  Предупреждение №2:
   - НАЗВАНИЕ. Роль инфраструктуры неработоспособна.
   - СЕРЬЕЗНОСТЬ. Предупреждение.
   - КОМПОНЕНТ. Контроллер работоспособности.
   - ОПИСАНИЕ. Контроллер работоспособности сканера ошибок недоступен. Это может повлиять на отчеты о работоспособности и метрики.

  Оба эти предупреждения можно проигнорировать. Они автоматически исчезнут через некоторое время.  

- На портале администрирования Azure Stack может появиться критическое оповещение **Pending external certificate expiration** (Ожидание истечения срока действия внешнего сертификата).  Это предупреждение можно проигнорировать — оно никак не влияет на работу пакета средств разработки Azure Stack. 


#### <a name="marketplace"></a>Marketplace
- Пользователи могут просматривать весь Marketplace без подписки и видеть некоторые административные элементы, такие как планы и предложения. Эти элементы бесполезны для пользователей.
 
#### <a name="compute"></a>Службы вычислений
- Параметры масштабирования для масштабируемых наборов виртуальной машины на портале недоступны. В качестве обходного решения используйте [Azure PowerShell](https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-manage-powershell#change-the-capacity-of-a-scale-set). Из-за различий между версиями PowerShell используйте параметр `-Name` вместо параметра `-VMScaleSetName`.

- При создании виртуальных машин на пользовательском портале Azure Stack отображается неверное число дисков данных, которые можно подключить к виртуальной машине серии DS. К виртуальным машинам серии DS можно подключить такое же количество дисков данных, которое доступно в конфигурации Azure.

- При сбое создания образа виртуальной машины неисправный элемент, который вы не смогли удалить, может быть добавлен в колонку вычислений образов виртуальной машины.

  В качестве обходного пути создайте образ виртуальной машины с пустым VHD. Его можно создать с помощью Hyper-V (New-VHD -Path C:\dummy.vhd -Fixed -SizeBytes 1 GB). Этот процесс должен устранить проблему, которая не дает удалить неисправный элемент. Затем через 15 минут после создания фиктивного образа вы сможете удалить его.

  После этого вы можете попытаться повторно загрузить образ виртуальной машины, который ранее загрузить не удалось.

-  Если подготовка расширения для развертывания виртуальной машины занимает слишком много времени, следует дождаться истечения времени ожидания, а не пытаться остановить процесс освобождения или удаления виртуальной машины.  

- <!-- 1662991 --> Диагностика виртуальных машин Linux не поддерживается в Azure Stack. При развертывании виртуальной машины Linux с включенной диагностикой оно завершается со сбоем. Развертывание также не выполняется, если базовые метрики виртуальной машины Linux включены через параметры диагностики. 


#### <a name="networking"></a>Сеть
- Если в разделе **Сеть** вы щелкнете **Подключение** для настройки подключения VPN, в списке возможных подключений появится **Виртуальная сеть — виртуальная сеть**. Не выбирайте это подключение. В настоящее время поддерживается только подключение **Сеть — сеть (IPsec)**.

- После создания виртуальной машины и ее связывания с общедоступным IP-адресом вы не можете отменить эту связь. Будет выглядеть так, будто вам удалось его отменить, но ранее присвоенный общедоступный IP-адрес останется связанным с исходной виртуальной машиной.

  Сейчас для создания виртуальной машины необходимо использовать только новые общедоступные IP-адреса.

  Это происходит, даже если присвоить этот IP-адрес новой виртуальной машине (это часто называют *переключением виртуального IP-адреса*). Все последующие попытки подключиться через этот IP-адрес к новой виртуальной машине приведут к подключению к исходной виртуальной машине.



- Azure Stack поддерживает один *локальный сетевой шлюз* на IP-адрес. Это относится ко всем подпискам клиентов. После создания первого подключения к локальному сетевому шлюзу последующие попытки создать ресурс локального сетевого шлюза с тем же IP-адресом блокируются.

- В виртуальной сети, созданной с параметром DNS-сервера *Автоматический*, попытка изменить на пользовательский DNS-сервер завершается ошибкой. Обновленные параметры не передаются на виртуальные машины в этой виртуальной сети.
 
- Azure Stack не поддерживает добавление дополнительных сетевых интерфейсов к экземпляру виртуальной машины после ее развертывания. Если для виртуальной машины требуется несколько сетевых интерфейсов, их нужно определить во время развертывания.



#### <a name="sql-and-mysql"></a>SQL и MySQL 
- После создания новых номеров SKU для SQL или MySQL может пройти до одного часа, прежде чем пользователи смогут создавать в них базы данных.

- Необходимо определить серверы размещения баз данных, чтобы их могли использовать поставщик ресурсов и пользовательские рабочие нагрузки. Нельзя использовать экземпляр, который используется любым другим объектом-получателем, включая службы приложений.

- <!-- IS, ASDK --> При создании номера SKU для поставщиков ресурсов SQL и MySQL в именах **семейства** и **уровня** не поддерживаются специальные знаки, включая пробелы и точки.

#### <a name="app-service"></a>Служба приложений Azure
- Прежде чем создавать первую функцию Azure в подписке, пользователь должен зарегистрировать поставщик ресурсов хранилища.

- Чтобы масштабировать инфраструктуру (рабочие роли, роли управления, внешние роли), используйте PowerShell, как описано в заметках о выпуске служб вычислений.
 
#### <a name="usage"></a>Использование  
- Вместо метки *TimeDate*, которая показывает время создания записи, в данных инструмента для отслеживания использования общедоступного IP-адреса отображается одно значение *EventDateTime* для каждой записи. В настоящее время эти данные непригодны для выполнения точного расчета и получения данных об использовании общедоступного IP-адреса.
<!--
#### Identity
-->

#### <a name="downloading-azure-stack-tools-from-github"></a>Загрузка средств Azure Stack с сайта GitHub
- При использовании командлета PowerShell *invoke-webrequest* для загрузки средств Azure Stack с Github вы получите следующее сообщение об ошибке:     
    -  *invoke-webrequest : The request was aborted: Could not create SSL/TLS secure channel.* (invoke-webrequest. Запрос был прерван. Не удалось создать защищенный канал SSL/TLS).     

  Эта ошибка возникает из-за недавнего прекращения поддержки стандартов шифрования Tlsv1 и Tlsv1.1 в GitHub (по умолчанию для PowerShell). Дополнительные сведения см. в разделе [Weak cryptographic standards removal notice](https://githubengineering.com/crypto-removal-notice/) (Уведомление об удалении слабых стандартов шифрования).

  Чтобы устранить эту проблему, добавьте `[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12` в начало скрипта, чтобы заставить консоль PowerShell использовать TLSv1.2 при загрузке из репозиториев GitHub.





