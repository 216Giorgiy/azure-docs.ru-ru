---
title: Тестовые параметры для Azure Stack модели "проверка как услуга" | Документация Майкрософт
description: Раздел справки о файле конфигурации и параметрах тестового прохода для Azure Stack модели "проверка как услуга".
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/24/2018
ms.author: mabrigg
ms.reviewer: johnhas
ms.openlocfilehash: 65cae4d10a4683207474008a18bac39751ce8e96
ms.sourcegitcommit: 3f8f973f095f6f878aa3e2383db0d296365a4b18
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2018
ms.locfileid: "40234591"
---
# <a name="test-parameters-for-validation-as-a-service-azure-stack"></a>Тестовые параметры для Azure Stack модели "проверка как услуга"

[!INCLUDE[Azure_Stack_Partner](./includes/azure-stack-partner-appliesto.md)]

Перед выполнением любого набора тестов "проверки как услуги" (VaaS) выберите решение и создайте тестовый проход.

- Войдите, используя свои зарегистрированные учетные данные клиента VaaS.
- Создайте новое решение (выбрав **Добавить решение**) или выберите имеющееся.
- Нажмите кнопку **Запуск** на плитке рабочих процессов **Test Passes** (Тестовые проходы).

> [!Note]  
> Создайте новую запись решения для каждого уникального набора компьютеров или конфигурации оборудования, которые вы проверяете, и новый тестовый проход для каждого развертывания сборки в этом наборе компьютеров.

Необходимо ввести параметры, требуемые для выполнения тестов, на странице **Test Pass Information** (Сведения о тестовом проходе). Укажите эти параметры при запуске нового тестового или проверочного прохода. Большинство параметров имеют те же значения, что были указаны при развертывании Azure Stack.

Вы можете вручную ввести перечисленные значения в [таблицу тестовых параметров](#test-parameters) или отправить файл конфигурации развертывания, содержащий полную информацию о метке Azure Stack. Когда файл будет отправлен, портал загрузит значения из него.

> [!Note]  
> Чтобы выполнять поиск тестовых параметров и вводить их значения, нужно найти и загрузить файл конфигурации на портал.

## <a name="export-the-test-parameters-using-powershell"></a>Экспорт параметров тестирования с помощью PowerShell

1. Войдите на компьютер для разработки или любой компьютер, который имеет доступ к среде Azure Stack.
2. Откройте окно PowerShell с повышенными привилегиями и выполните:

    ````PowerShell  
        $params = Invoke-RestMethod -Method Get -Uri 'https://ASAppGateway:4443/ServiceTypeId/4dde37cc-6ee0-4d75-9444-7061e156507f/CloudDefinition/GetStampInformation'
        ConvertTo-Json $params > stampinfoproperties.json
    ````

3. Отправьте файл **stampinfoproperties.json** на портал VaaS.

## <a name="find-the-test-parameters-in-the-configuration-file"></a>Поиск тестовых параметров в файле конфигурации

Тестовые параметры также можно найти, открыв **файл конфигурации** ECE. Файл можно найти на компьютере разработки по следующему пути:  
`C:\EceStore\403314e1-d945-9558-fad2-42ba21985248\80e0921f-56b5-17d3-29f5-cd41bf862787`

## <a name="test-parameters"></a>Параметры тестирования 

| Параметр    | ОПИСАНИЕ |
|-------------|-----------------|
| Сборка Azure Stack                      | Номер развернутой сборки или версии Azure Stack, например 1.0.170330.0. | 
| Tenant ID                              | Клиент Azure Active Directory, указанный во время развертывания Azure Stack. Найдите **AADTenant** в файле конфигурации и выберите значение **GUID** в теге `Id`. | 
| Регион                                 | Регион развертывания Azure Stack. Найдите **регион** в файле конфигурации. | 
| Resource Manager для клиента                | Конечная точка Azure Resource Manager клиента, например `https://management.<ExternalFqdn>`. | 
| Resource Manager для администратора                 | Конечная точка Azure Resource Manager администратора. Например: `https://adminmanagement.<ExternalFqdn>` | 
| Внешнее полное доменное имя                          | Внешнее полное доменное имя среды. Найдите **ExternalFqdn** в файле конфигурации. | 
| Пользователь клиента                            | Администратор клиента Azure Active Directory, который либо уже был подготовлен, либо должен быть подготовлен администратором службы в Azure AD Directory. Дополнительные сведения о подготовке учетной записи клиента см. в статье [Добавление новой учетной записи клиента Azure Stack в Azure Active Directory](https://docs.microsoft.com/azure/azure-stack/azure-stack-add-new-user-aad). Это значение используется в тесте для выполнения операций на уровне клиента, таких как развертывание шаблонов для подготовки ресурсов (виртуальных машин, учетных записей хранения и т. д.) и выполнения рабочих нагрузок. | 
| Администратор служб             | Администратор клиента Azure Active Directory, указанный во время развертывания Azure Stack. Найдите **AADTenant** в файле конфигурации и выберите значение в теге `UniqueName`. | 

## <a name="checks-before-starting-the-tests"></a>Проверки перед запуском тестов

Тесты выполняют удаленные операции. Компьютеру, на котором выполняются тесты, необходим доступ к конечным точкам Azure Stack. В противном случае тест не будет работать. При использовании VaaS на локальном агенте нужен компьютер, на котором будет выполняться агент. Чтобы убедиться, что компьютер имеет доступ к точкам Azure Stack, выполните следующие проверки.

1. Проверьте, что базовый URI доступен. Откройте командную строку CMD или оболочку bash и выполните следующую команду:

    ```bash  
    nslookup adminmanagement.<EXTERNALFQDN>
    ```

2. Откройте веб-браузер и перейдите к `https://adminportal.<EXTERNALFQDN>`, чтобы убедиться, что портал MAS доступен.

3. Войдите, используя значения имени и пароля администратора служб Azure AD, предоставленные при создании тестового прохода.

## <a name="next-steps"></a>Дополнительная информация

- Дополнительные сведения о проверке как услуге Azure Stack см. в [этой статье](https://docs.microsoft.com/azure/azure-stack/partner).
