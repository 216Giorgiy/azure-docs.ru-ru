---
title: Использование баз данных, предоставленных поставщиком ресурсов адаптера SQL в Azure Stack | Microsoft Docs
description: Создание баз данных SQL, подготовленных с помощью поставщика ресурсов адаптера SQL, и управление ими
services: azure-stack
documentationCenter: ''
author: jeffgilb
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2018
ms.author: jeffgilb
ms.reviewer: jeffgo
ms.openlocfilehash: 2808847642639069e60102b195ac97957c8593f0
ms.sourcegitcommit: c47ef7899572bf6441627f76eb4c4ac15e487aec
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33203465"
---
# <a name="create-sql-databases"></a>Создание баз данных SQL
Базы данных с самообслуживанием предоставляются через пользовательский портал. Пользователю требуется подписка с предложением, в котором содержится служба базы данных.

1. Войдите на пользовательский портал [Azure Stack](azure-stack-poc.md) (администраторы служб могут также использовать портал администрирования).

2. Нажмите кнопку **+ Создать** &gt;**Данные + хранилище** &gt; **База данных SQL Server** &gt; **Добавить**.

3. Введите в форму сведения о базе данных, включая **имя базы данных** и **максимальный размер**, а также при необходимости измените другие параметры. Вам будет предложено выбрать номер SKU для базы данных. По мере добавления серверов размещения им назначаются номера SKU. Базы данных создаются в том пуле серверов размещения, который составляет соответствующий номер SKU.

  ![Новая база данных](./media/azure-stack-sql-rp-deploy/newsqldb.png)

  >[!NOTE]
  > Размер базы данных должен быть не менее 64 МБ. С помощью настроек его можно увеличить.

4. Заполните параметры входа: **имя для входа в базу данных** и **пароль**. Эти параметры представляют собой учетные данные проверки подлинности SQL, которые создаются для вашего доступа только к этой базе данных. Имя входа должно быть глобально уникальным. Создайте новый параметр имени входа или выберите существующий. Параметры входа можно использовать повторно для других баз данных, использующих тот же номер SKU.

    ![Создание нового имени для входа в базу данных](./media/azure-stack-sql-rp-deploy/create-new-login.png)


5. Отправьте форму и дождитесь завершения развертывания.

    В полученной колонке обратите внимание на поле "Строка подключения". Эту строку можно использовать в Azure Stack в любом приложении, которому требуется доступ к SQL Server (например, в веб-приложении).

    ![Получение строки подключения](./media/azure-stack-sql-rp-deploy/sql-db-settings.png)

## <a name="delete-sql-alwayson-databases"></a>Удаление баз данных SQL AlwaysOn
При удалении базы данных SQL AlwaysOn из поставщика ресурсов она успешно удаляется из основной группы доступности и группы доступности AlwaysOn. Однако по замыслу разработчиков группа доступности SQL переводит базу данных в состояние восстановления в каждой реплике и не удаляет базу данных, пока не активируется соответствующий триггер. Если база данных не удалена, вторичные реплики переходят в состояние "Не синхронизируется". Повторное добавление новой базы данных в группу доступности с тем же поставщиком ресурсов по-прежнему работает.

## <a name="verify-sql-alwayson-databases"></a>Проверка баз данных SQL AlwaysOn
Базы данных AlwaysOn должны отображаться как синхронизированные и быть доступны во всех экземплярах и в группе доступности. После отработки отказа база данных должна подключаться без проблем. Для проверки состояния синхронизации базы данных можно использовать среду SQL Server Management Studio:

![Проверка AlwaysOn](./media/azure-stack-sql-rp-deploy/verifyalwayson.png)


## <a name="next-steps"></a>Дополнительная информация

[Поддержка поставщика ресурсов SQL Server](azure-stack-sql-resource-provider-maintain.md)
