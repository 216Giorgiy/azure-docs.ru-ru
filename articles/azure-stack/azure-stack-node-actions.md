---
title: Действия с узлами единицы масштабирования в Azure Stack | Документация Майкрософт
description: Узнайте, как просмотреть состояние узла и выполнить действия включения и отключения питания, остановки и возобновления в интегрированной системе Azure Stack.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/05/2018
ms.author: mabrigg
ms.reviewer: ppacent
ms.openlocfilehash: 3ecc8885a30a11472fe93bbda60c39131c6b3bd7
ms.sourcegitcommit: b7290b2cede85db346bb88fe3a5b3b316620808d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34801421"
---
# <a name="scale-unit-node-actions-in-azure-stack"></a>Действия с узлами единицы масштабирования в Azure Stack

*Область применения: интегрированные системы Azure Stack*

В этой статье описывается, как просмотреть состояние единицы масштабирования и связанных с ней узлов, а также как выполнить доступные действия с узлами. Для узлов доступны такие действия, как включение и выключение питания, остановка, возобновление и восстановление. Обычно эти действия с узлами выполняются при оперативной замене компонентов или восстановлении работоспособности узла.

> [!Important]  
> Все действия узла, описанные в этой статье, следует применять только к одному целевому узлу в один момент времени.


## <a name="view-the-status-of-a-scale-unit-and-its-nodes"></a>Просмотр состояния для единицы масштабирования и ее узлов

На портале администратора вы можете просматривать состояние для единицы масштабирования и связанных с ней узлов.

Чтобы просмотреть состояние единицы масштабирования и ее узлов, сделайте следующее:

1. На плитке **Управление регионами** выберите нужный регион.
2. В левой части экрана в разделе **Ресурсы инфраструктуры** выберите **Единицы масштабирования**.
3. В списке результатов выберите нужную единицу масштабирования.
 
Здесь вы найдете следующую информацию:

- Имя региона. Имя региона указывается атрибутом **-Location** в модуле PowerShell.
- тип системы;
- общее число логических ядер;
- общий объем памяти;
- список отдельных узлов и их состояний — **Работает** или **Остановлено**.

![Плитка единицы масштабирования со списком узлов и статусом "Работает" для каждого из них](media/azure-stack-node-actions/ScaleUnitStatus.PNG)

## <a name="view-information-about-a-scale-unit-node"></a>Просмотр сведений об узле единицы масштабирования

Выбрав отдельный узел, вы можете просмотреть следующие сведения о нем:

- имя региона;
- модель сервера;
- IP-адрес контроллера управления основной платой (BMC);
- рабочее состояние;
- общее число ядер;
- общий объем памяти.
 
![Плитка единицы масштабирования со списком узлов и статусом "Работает" для каждого из них](media/azure-stack-node-actions/NodeActions.PNG)

Также отсюда вы можете выполнять действия с узлом единицы масштабирования.

## <a name="scale-unit-node-actions"></a>Действия для узла единицы масштабирования

Просматривая сведения об узле единицы масштабирования, вы также можете выполнять некоторые действия, например:

- включение и выключение питания;
- остановка и возобновление;
- восстановление.

Доступные действия зависят от текущего рабочего состояния узла.

### <a name="power-off"></a>Выключение питания

Действие **Выключение питания** приводит к отключению узла. Результат аналогичен нажатию на кнопку питания. Это действие **не** отправляет операционной системе сигнал завершения работы. Если вы выполняете плановое отключение питания, сначала обязательно остановите узел единицы масштабирования.

Это действие обычно используется для узлов в зависшем состоянии, которые не отвечают на запросы.

> [!Important] 
> Эта функция доступна только с использованием PowerShell. Она будет снова доступна на портале администратора Azure Stack позднее.


Вызов действия выключения питания с помощью PowerShell:

````PowerShell
  Stop-AzsScaleUnitNode -Location <RegionName> -Name <NodeName>
```` 

В редких случаях, когда не работает действие выключения питания, следует использовать веб-интерфейс контроллера BMC.

### <a name="power-on"></a>Включение

Действие **Включение питания** приводит к включению узла. Результат аналогичен нажатию на кнопку питания. 

> [!Important] 
> Эта функция доступна только с использованием PowerShell. Она будет снова доступна на портале администратора Azure Stack позднее.

Вызов действия включения питания с помощью PowerShell:

````PowerShell
  Start-AzsScaleUnitNode -Location <RegionName> -Name <NodeName>
````

В редких случаях, когда не работает действие включения питания, следует использовать веб-интерфейс контроллера BMC.

### <a name="drain"></a>Остановка

Действие **Остановка** перемещает все активные рабочие нагрузки, распределяя их между остальными узлами в той же единице масштабирования.

Обычно это действие используется во время оперативной замены компонентов, например при замене целого узла.

> [!IMPORTANT]  
> Останавливайте узел только в период планового технического обслуживания, предварительно уведомив пользователей. В некоторых ситуациях остановка может привести к перебоям в работе активных рабочих нагрузок.

Вызов действия остановки с помощью PowerShell:

  ````PowerShell
  Disable-AzsScaleUnitNode -Location <RegionName> -Name <NodeName>
  ````

### <a name="resume"></a>Продолжить

Действие **Возобновление** приводит к включению остановленного узла и устанавливает для него статус готовности к размещению рабочих нагрузок. Для рабочих нагрузок, которые работали на узле до его остановки, восстановление размещения не выполняется. (Если вы остановите узел и отключите его питание, при последующем включении узел не будет отмечен как активный для размещения рабочих нагрузок. Следует использовать действие возобновления, чтобы отметить узел как активный, когда вы будете к этому готовы.)

Вызов действия возобновления с помощью PowerShell:

  ````PowerShell
  Enable-AzsScaleUnitNode -Location <RegionName> -Name <NodeName>
  ````

### <a name="repair"></a>Восстановление

Действие **Восстановление** восстанавливает узел. Его следует применять только в следующих сценариях:

- При полной замене узла (с заменой дисков данных или без нее).
- После сбоя и последующей замены компонента оборудования (если такая рекомендация есть в документации по этому оборудованию — легкозаменяемой детали).

> [!IMPORTANT]  
> Конкретные действия, которые нужно выполнять при замене узла или отдельных компонентов оборудования, вы найдете в соответствующей документации, предоставляемой поставщиком оборудования OEM. В этой документации указывается, нужно ли выполнять восстановление после замены аппаратных компонентов.  

В ходе восстановления необходимо указать IP-адрес контроллера BMC. 

Вызов действия возобновления с помощью PowerShell:

  ````PowerShell
  Repair-AzsScaleUnitNode -Location <RegionName> -Name <NodeName> -BMCIPAddress <BMCIPAddress>
  ````

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о модуле для администраторов Fabric в Azure Stack см. [здесь](https://docs.microsoft.com/powershell/module/azs.fabric.admin/?view=azurestackps-1.3.0).