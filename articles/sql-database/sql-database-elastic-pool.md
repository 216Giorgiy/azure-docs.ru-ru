<properties
	pageTitle="Пул эластичных баз данных для баз данных SQL | Microsoft Azure"
	description="Управление сотнями и тысячами баз данных с помощью пула. Одна цена за набор единиц производительности может распространяться на весь пул. Включение баз данных в пул и их исключение оттуда по желанию."
	keywords="эластичная база данных; базы данных SQL"
	services="sql-database"
	documentationCenter=""
	authors="sidneyh"
	manager="jhubbard"
	editor="cgronlun"/>

<tags
	ms.service="sql-database"
	ms.devlang="NA"
	ms.date="04/04/2016"
	ms.author="sidneyh"
	ms.workload="data-management"
	ms.topic="article"
	ms.tgt_pltfrm="NA"/>


# Что такое пул эластичных баз данных Azure

Разработчикам SaaS приходится создавать десятки, сотни или даже тысячи баз данных SQL для управления. Пул эластичных баз данных упрощает создание и обслуживание нескольких баз данных, а также управление их производительностью. При необходимости базы данных можно добавлять в пул или удалять их из пула. См. статьи, посвященные [созданию масштабируемого пула эластичных баз данных SQL с использованием портала Azure](sql-database-elastic-pool-create-portal.md), [PowerShell](sql-database-elastic-pool-create-powershell.md) или [C\#](sql-database-elastic-pool-csharp.md).

Дополнительные сведения об интерфейсе API и об ошибках см. в [справочнике по пулу эластичных баз данных](sql-database-elastic-pool-reference.md).

## Принцип работы

В рамках распространенной модели SaaS каждому отдельному клиенту предоставляется своя база данных. И каждый такой клиент \(база данных\) характеризуется непредсказуемым потреблением ресурсов памяти, ввода-вывода и ЦП. Так как же распределить ресурсы, зная о колебаниях потребности в них? Обычно используется два подхода: 1\) подготовка избыточного количества ресурсов, соответствующего пиковой нагрузке \(ведет к повышению затрат\); 2\) подготовка недостаточного количества ресурсов для экономии \(ведет к снижению производительности и удовлетворенности клиентов во время пиковой нагрузки\). Эту проблему можно устранить благодаря пулам эластичных баз данных, в которых базы данных получают нужные ресурсы в нужное время. Кроме того, это решение предоставляет простой механизм выделения ресурсов с предсказуемыми расходами.

> [AZURE.VIDEO elastic-databases-helps-saas-developers-tame-explosive-growth]

В базе данных SQL относительная мера способности базы данных удовлетворять потребности в ресурсах выражается в единицах транзакций базы данных \(DTU\) для отдельных баз данных и эластичных DTU \(eDTU\) для пулов эластичных баз данных. Дополнительные сведения о DTU и eDTU см. в разделе [Основные сведения о базе данных SQL](sql-database-technical-overview.md#understand-dtus).

Пулу предоставляется заданное количество единиц eDTU по фиксированной цене. Отдельным базам данных в пуле предоставляется возможность гибкого автоматического масштабирования в рамках заданных параметров. В условиях интенсивной нагрузки базы данных могут использовать дополнительные единицы eDTU для удовлетворения потребности в ресурсах. При небольших нагрузках базы данных используют меньше ресурсов \(eDTU\), а при отсутствии нагрузок не используют их вовсе. Подготовка ресурсов для всего пула, а не для отдельной базы данных упрощает задачи управления. Кроме того, используя пул, вы можете спрогнозировать расходы.

Добавить дополнительные единицы eDTU в существующий пул можно без простоя баз данных или снижения их производительности. Точно так же, если eDTU больше не нужны, они могут быть удалены из существующего пула в любой момент времени.

Вы также можете добавлять базы данных в пул или удалять их из него. Если у базы данных прогнозируемо низкие показатели использования ресурсов, ее можно удалить.

## Какие базы данных можно включить в пул?

![Базы данных SQL, совместно использующие eDTU в пуле эластичных баз данных.][1]

Для пула эластичных баз данных лучше всего подходят базы, у которых чередуются периоды активности и простоя. На приведенном выше примере показана активность отдельной базы данных, четырех баз данных и пула эластичных баз данных с 20 базами данных. Базы данных, у которых периоды активности разнесены во времени, отлично подходят для включения в пулы эластичных баз данных. Так как в одно и то же время активны не все базы данных пула, они могут совместно использовать eDTU. Не все базы данных укладываются в эту схему. Для баз данных с более стабильной потребностью в ресурсах, лучше подходят уровни обслуживания "Базовый", "Стандартный" и "Премиум", в рамках которых ресурсы назначаются по отдельности.

[Вопросы цены и производительности для пула эластичных баз данных](sql-database-elastic-pool-guidance.md).


> [AZURE.NOTE] Сейчас пулы эластичных баз данных предоставляются в виде предварительной версии, которая доступна только с серверами Базы данных SQL версии 12.

## Свойства эластичного пула баз данных
Ограничения для пулов эластичных баз данных и эластичных баз данных

| Свойство | Описание |
| :-- | :-- |
| Уровень служб | Basic, Standard или Premium. Уровень служб определяет настраиваемые границы ограничений производительности и хранения, а также возможности управления непрерывностью бизнес-процессов. Каждая база данных в пуле имеет тот же уровень служб, что и пул. Уровень служб также называется "выпуском".|
| Количество eDtu на пул | Максимальное количество eDTU, которое может использоваться базами данных в пуле. Общее количество eDTU, используемое базами данных в пуле, не может превышать это ограничение в один момент времени. |
| Размер хранилища на пул | Максимальный размер хранилища, который может использоваться базами данных в пуле. Общий размер хранилища, используемый базами данных в пуле, не может превышать это ограничение. Это ограничение определяется количеством eDTU на каждый пул. Если это ограничение превышено, все базы данных становятся доступными только для чтения. |
| Максимальное количество eDTU на базу данных | Максимальное количество eDTU, которое может использовать любая база данных в пуле; применяется ко всем базам данных в пуле. Это значение не гарантирует предоставление ресурсов. |
| Минимальное количество eDTU на базу данных | Минимальное количество eDTU, которое гарантировано может использовать любая база данных в пуле; применяется ко всем базам данных в пуле. Это значение может быть равно 0. Обратите внимание, что произведение количества баз данных в пуле и минимального количества eDTU на базу данных не может превышать количество eDTU на пул. |


## eDTU и размеры хранилища для эластичных баз данных и пулов эластичных баз данных


[AZURE.INCLUDE [Таблица уровней службы базы данных SQL для эластичных баз данных](../../includes/sql-database-service-tiers-table-elastic-db-pools.md)]

## Задания обработки эластичных баз данных

Управлять пулом гораздо проще, выполняя сценарии в **[заданиях обработки эластичных баз данных](sql-database-elastic-jobs-overview.md)**. Задания обработки эластичных баз позволяют сократить объем трудоемких операций, связанных с управлением большим количеством баз данных. Чтобы приступить к работе, см. статью [Начало работы с заданиями обработки эластичных баз данных](sql-database-elastic-jobs-getting-started.md).

Дополнительную информацию о других средствах см. на схеме [База данных SQL — использование функций и средств эластичной базы данных](https://azure.microsoft.com/documentation/learning-paths/sql-database-elastic-scale/).

## Возможности обеспечения непрерывности бизнеса для баз данных в пуле

В настоящее время эластичные базы данных доступны в виде предварительной версии и поддерживают большинство [функций обеспечения непрерывности бизнес-процессов](sql-database-business-continuity.md), доступных для отдельных баз данных на серверах версии 12.

### Восстановление до точки во времени

Резервное копирование пула эластичных баз данных выполняется системой автоматически. Политика хранения резервных копий соответствует той, что действует на заданном уровне обслуживания для отдельных баз данных. Таким образом, на каждом уровне базы данных могут быть восстановлены в рамках определенного периода времени.

* **Пул уровня "Базовый"**: возможность восстановления до любой точки, созданной за последние 7 дней.
* **Пул уровня "Стандартный"**: возможность восстановления до любой точки, созданной за последние 14 дней.
* **Пул уровня "Премиум"**: возможность восстановления до любой точки, созданной за последние 35 дней.

Во время ознакомительного использования базы данных в пуле будут восстановлены до новой базы данных в том же пуле. Удаленные базы данных всегда будут восстанавливаться как отдельные базы данных вне пула с самым низким уровнем производительности для этого уровня обслуживания. Например, эластичная база данных в пуле Standard, для которой выполнено удаление, будет восстановлена как база данных S0. Операции восстановления баз данных можно выполнять через портал Azure или программным путем с помощью интерфейса REST API. Вскоре ожидается поддержка командлетов PowerShell.

### Геовосстановление

Функция геовосстановления позволяет восстановить базу данных из пула на сервере, расположенном в другом регионе. В предварительной версии для восстановления базы данных из пула на другом сервере целевому серверу требуется наличие пула с таким же именем, как и у исходного. При необходимости создайте новый пул на целевом сервере и присвойте ему такое же имя, прежде чем восстанавливать базу данных. Операция геовосстановления завершится ошибкой, если на целевом сервере нет пула с таким же именем. Дополнительные сведения см. в разделе [Восстановление с использованием геовосстановления](sql-database-disaster-recovery.md#recover-using-geo-restore).


### Георепликация

Георепликация доступна для любой базы данных в пуле эластичных баз данных Standard или Premium. Если уровни обслуживания совпадают, одна или все базы данных в связи георепликации могут входить в пул эластичных баз данных. Георепликацию для пулов эластичных баз данных можно настроить с помощью [портала Azure](sql-database-geo-replication-portal.md), [PowerShell](sql-database-geo-replication-powershell.md) или [Transact-SQL](sql-database-geo-replication-transact-sql.md).

### Импорт и экспорт

Поддерживается экспорт базы данных из пула. В настоящее время импорт базы данных напрямую в пул не поддерживается, однако можно импортировать ее в отдельную базу данных, а потом переместить ее в пул.


<!--Image references-->
[1]: ./media/sql-database-elastic-pool/databases.png

<!---HONumber=AcomDC_0413_2016-->