---
title: Краткое руководство по Управляемому экземпляру Базы данных SQL Azure | Документация Майкрософт
description: Узнайте, как быстро приступить к работе с Управляемым экземпляром Базы данных SQL Azure
services: sql-database
ms.service: sql-database
ms.subservice: ''
ms.custom: ''
ms.devlang: ''
ms.topic: quickstart
author: jovanpop-msft
ms.author: jovanpop
ms.reviewer: carlr
manager: craigg
ms.date: 01/25/2019
ms.openlocfilehash: 77deed43c106a451d3de768989233c749e1280e1
ms.sourcegitcommit: 698a3d3c7e0cc48f784a7e8f081928888712f34b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2019
ms.locfileid: "55468178"
---
# <a name="getting-started-with-azure-sql-database-managed-instance"></a>Начало работы с Управляемым экземпляром Базы данных SQL Azure

[Управляемый экземпляр Базы данных SQL Azure](sql-database-managed-instance-index.yml) — это полностью управляемая версия SQL Server в виде базы данных как услуги (PaaS), размещенная в облаке Azure и находящаяся в вашей виртуальной сети с частным IP-адресом. В этом разделе вы узнаете, как быстро настроить и создать Управляемый экземпляр, а также как переносить базы данных.

## <a name="quickstart-overview"></a>Общие сведения о кратком руководстве

В этом разделе приведен обзор доступных статей, которые помогут вам быстро начать работу с Управляемыми экземплярами. Самый простой способ создать свой первый Управляемый экземпляр — воспользоваться [порталом Azure](sql-database-managed-instance-get-started.md), где вы можете настроить необходимые параметры (имя пользователя, пароль, число ядер, максимальный объем хранилища) и автоматически создать сетевую среду Azure без знаний деталей сети и требований инфраструктуры. Просто убедитесь, что у вас есть [тип подписки](sql-database-managed-instance-resource-limits.md#supported-subscription-types), который позволяет создать экземпляр.

Если вы хотите настроить сеть или использовать собственную сеть, узнайте, как [настроить сетевую среду](#configure-network-environment) для Управляемого экземпляра.

Когда вы создаете Управляемый экземпляр, вам необходимо подключиться к экземпляру, используя один из следующих подходов.

* Создайте [виртуальную машину Azure](sql-database-managed-instance-configure-vm.md) с установленным SQL Server Management Studio и другими приложениями, с помощью которых можно получить доступ к Управляемому экземпляру в подсети в той же виртуальной сети, в которой находится этот экземпляр. Виртуальная машина не может находиться в одной подсети с Управляемыми экземплярами.
* Установите [подключение "точка — сеть"](sql-database-managed-instance-configure-p2s.md) на вашем компьютере. Это позволит подключить компьютер к виртуальной сети, в которой находится Управляемый экземпляр, а также использовать такой экземпляр как любой другой SQL Server в сети.

В качестве альтернативы вы можете использовать ExpressRoute или подключение типа "сеть — сеть" из локальной сети, но эти подходы выходят за рамки этих кратких руководств.

Создав Управляемый экземпляр и настроив доступ, вы можете начать переносить базы данных, размещенные на локальном SQL Server или виртуальных машинах Azure. Обратите внимание, что перенос завершится ошибкой, в исходной перемещаемой базе данных есть неподдерживаемые функции. Чтобы избежать сбоев и проверить совместимость, вы можете установить [Помощник по миграции данных (DMA)](https://www.microsoft.com/download/details.aspx?id=53595), который проанализирует ваши базы данных SQL Server и обнаружит любые проблемы, блокирующие перемещение в Управляемый экземпляр, например наличие файлового потока или нескольких файлов журнала. Если вы решите эти проблемы, ваши базы данных будут готовы к переносу в Управляемый экземпляр. [Database Experimentation Assistant](https://blogs.msdn.microsoft.com/datamigration/2018/08/06/release-database-experimentation-assistant-dea-v2-6/) — еще один полезный инструмент, который может записывать рабочую нагрузку на SQL Server и воспроизводить ее в Управляемом экземпляре. Таким образом он позволяет определить, не возникнут ли какие-либо проблемы с производительностью в случае перемещения в Управляемый экземпляр.

Убедившись в возможности переноса базы данных в Управляемый экземпляр, вы можете использовать функцию [исходного восстановления](sql-database-managed-instance-get-started-restore.md), которая позволяет создать резервную копию базы данных, загрузить ее в хранилище BLOB-объектов Azure и восстановить ее из этого хранилища с помощью команды Transact-SQL.

Эти краткие руководства помогут вам быстро настраивать, создавать и размещать базы данных в Управляемых экземплярах. В некоторых сценариях вам потребуется настроить или автоматизировать развертывание Управляемого экземпляра и необходимой сетевой среды. Эти сценарии описаны ниже.

## <a name="customizing-network-environment"></a>Настройка сетевой среды

Хотя виртуальная сеть и подсеть могут быть автоматически настроены при создании экземпляра с помощью [портала Azure](sql-database-managed-instance-get-started.md), было бы целесообразно настроить их до начала создания Управляемых экземпляров, ведь так можно настроить параметры и виртуальной сети, и подсети. Самый простой способ создать и настроить сетевую среду — использовать шаблон [развертывания ресурса Azure](sql-database-managed-instance-create-vnet-subnet.md), который создаст и настроит сеть и подсеть, где будет размещен экземпляр. Для этого просто нужно нажать кнопку развертывания Azure Resource Manager и заполнить форму параметрами. В качестве альтернативы для автоматизации создания сети можно использовать [скрипт PowerShell](https://www.powershellmagazine.com/2018/07/23/configuring-azure-environment-to-set-up-azure-sql-database-managed-instance-preview/).

Если у вас уже есть виртуальная сеть и подсеть, в которой вы хотите развернуть Управляемый экземпляр, нужно убедиться, что они соответствуют [требованиям к сети](sql-database-managed-instance-connectivity-architecture.md#network-requirements). Чтобы убедиться, что подсеть настроена должным образом, необходимо использовать этот [скрипт PowerShell](sql-database-managed-instance-configure-vnet-subnet.md). Скрипт не только позволяет проверить вашу сеть и уведомить о проблемах, вы также узнаете, что следует изменить, и получите предложения по вносу необходимых изменений в виртуальную сеть или подсеть. Запустите этот скрипт, если вы не хотите настраивать свою виртуальную сеть или подсеть вручную. Его также следует запускать после любой существенной перенастройки сетевой инфраструктуры. Если вы хотите создать и настроить собственную сеть, ознакомьтесь с [документацией по Управляемому экземпляру](sql-database-managed-instance-connectivity-architecture.md) и с [этим руководством](https://medium.com/azure-sqldb-managed-instance/the-ultimate-guide-for-creating-and-configuring-azure-sql-managed-instance-environment-91ff58c0be01).

## <a name="automating-creation-of-managed-instance"></a>Автоматическое создание Управляемого экземпляра

 Если вы не создали сетевую среду, как описано на предыдущем шаге, портал Azure может сделать это за вас. Единственным недостатком является то, что он настроит сетевую среду с некоторыми параметрами по умолчанию, которые невозможно изменить позже. В качестве альтернативы можно использовать [PowerShell](https://blogs.msdn.microsoft.com/sqlserverstorageengine/2018/06/27/quick-start-script-create-azure-sql-managed-instance-using-powershell/), [PowerShell с шаблоном Resource Manager](scripts/sql-managed-instance-create-powershell-azure-resource-manager-template.md) или [Azure CLI](https://blogs.msdn.microsoft.com/sqlserverstorageengine/2018/11/14/create-azure-sql-managed-instance-using-azure-cli/).

## <a name="migrating-to-managed-instance-with-minimal-downtime"></a>Перенос в Управляемый экземпляр с минимальным временем простоя

Статьи в этих кратких руководствах позволяют быстро настроить Управляемый экземпляр и переместить базы данных. Однако при исходном восстановлении вам нужно будет дождаться окончания восстановления баз данных, что приведет к некоторому простою приложения, особенно если база данных большая. Если вы перемещаете свою рабочую базу данных, вам, вероятно, понадобится лучший способ переноса, который обеспечивает минимальный простой. [Служба переноса данных](https://docs.microsoft.com/azure/dms/tutorial-sql-server-to-managed-instance?toc=/azure/sql-database/toc.json) — это служба миграции, которая позволяет перемещать базы данных с минимальным временем простоя, постепенно отправляя изменения, сделанные в исходной базе данных, в базу данных, восстанавливаемую в Управляемом экземпляре. С ее помощью вы можете быстро перевести приложение с исходной базы данных на целевую с минимальным временем простоя.

## <a name="next-steps"></a>Дополнительная информация

* Ознакомьтесь с [кратким списком поддерживаемых функций Управляемого экземпляра](sql-database-features.md), а также [подробностями и известными проблемами](sql-database-managed-instance-transact-sql-information.md). 
* Дополнительные сведения о [технических характеристиках Управляемого экземпляра](sql-database-managed-instance-resource-limits.md#instance-level-resource-limits). 
* Ознакомьтесь с дополнительными руководствами в [этом разделе](sql-database-howto-managed-instance.md). 
