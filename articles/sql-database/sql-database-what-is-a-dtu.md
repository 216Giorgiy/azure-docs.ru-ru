---
title: 'База данных SQL: что такое единица DTU | Microsoft Docs'
description: Из этой статьи вы узнаете, что такое единица передачи данных в базе данных SQL Azure.
keywords: параметры базы данных, производительность базы данных
services: sql-database
documentationcenter: ''
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler

ms.service: sql-database
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 09/06/2016
ms.author: carlrab

---
# Общие сведения об обычных единицах передачи данных (DTU) и единицах передачи данных в эластичной базе данных (eDTU)
Эта статья содержит информацию об обычных единицах передачи данных (DTU) и единицах передачи данных в эластичной базе данных (eDTU), а также о том, что происходит, когда достигается их максимальное количество.

## Что такое единицы передачи данных (DTU)
DTU — это единица измерения ресурсов, которые гарантированно доступны любой автономной базе данных SQL Azure с определенным уровнем производительности в рамках [отдельного уровня службы баз данных](sql-database-service-tiers.md#standalone-database-service-tiers-and-performance-levels). Единица измерения DTU совмещает в себе показатели ЦП, памяти, ввода-вывода данных и ввода-вывода в журнале транзакций (в соотношении, которое определяется тестовой рабочей нагрузкой OLTP, которая отражает стандартные фактические рабочие нагрузки OLTP). Повысить производительность базы данных (через удвоение DTU) означает удвоить количество ресурсов, доступных для этой базы данных. Например, база данных P11 уровня "Премиум" с 1750 единицами DTU обеспечивает в 350 раз больше вычислительной мощи, чем база данных уровня "Базовый" с 5 единицами DTU. Чтобы понять методологию, лежащую в основе тестовой рабочей нагрузки OLTP, которая определяет наполнение единиц DTU, см. статью [Общие сведения об измерении производительности базы данных SQL Azure](sql-database-benchmark-overview.md).

![Общие сведения о базе данных SQL: единицы DTU отдельных баз данных по категориям и уровням](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

Вы можете [изменять уровни службы](sql-database-scale-up.md) в любое время. Это приведет лишь к минимальному простою приложения (обычно в среднем не более четырех секунд). Для многих организаций и приложений достаточно иметь возможность создавать и уменьшать или увеличивать производительность отдельной базы данных по запросу, особенно если закономерности использования базы данных относительно хорошо прогнозируются. Но если закономерности использования непредсказуемы, это может усложнить управление расходами и бизнес-моделью. В этом сценарии мы используем пул эластичных БД с определенным количеством единиц eDTU.

## Что такое единицы передачи данных в эластичной базе данных (eDTU)
eDTU — это единица измерения набора ресурсов (DTU), который совместно используют несколько баз данных на сервере SQL Azure. Эти базы данных вместе называются [пулом эластичных БД](sql-database-elastic-pool.png). Пулы эластичных БД обеспечивают простое и экономически выгодное решение для управления целевыми показателями производительности для нескольких баз данных с совершенно разными и непредсказуемыми моделями функционирования. Дополнительные сведения см. в разделе, посвященном [пулам эластичных БД и уровням службы](sql-database-service-tiers.md#elastic-pool-service-tiers-and-performance-in-edtus).

![Общие сведения о базе данных SQL: единицы eDTU по категориям и уровням](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

Пулу предоставляется заданное количество единиц eDTU по фиксированной цене. Отдельным базам данных в пуле предоставляется возможность гибкого автоматического масштабирования в рамках заданных параметров. В условиях интенсивной нагрузки база данных может использовать дополнительные единицы eDTU для удовлетворения потребности в ресурсах. При небольших нагрузках базы данных используют меньше ресурсов (eDTU), а при отсутствии нагрузок не используют их вовсе. Подготовка ресурсов для всего пула, а не для отдельной базы данных упрощает задачи управления. Кроме того, используя пул, вы можете спрогнозировать расходы.

Добавить дополнительные единицы eDTU в существующий пул можно без простоя баз данных в пуле эластичных БД или снижения их производительности. Точно так же, если eDTU больше не нужны, они могут быть удалены из существующего пула в любой момент времени. Вы можете добавлять базы данных в пул или удалять их из него. Если у базы данных прогнозируемо низкие показатели использования ресурсов, ее можно удалить.

## Как определить, сколько единиц DTU нужно для моей рабочей нагрузки
Если нужно перенести существующую локальную рабочую нагрузку или нагрузку виртуальной машины SQL Server в базу данных SQL Azure, вы можете приблизительно вычислить нужное количество единиц DTU с помощью [калькулятора DTU](http://dtucalculator.azurewebsites.net/). Чтобы узнать, как используются ресурсы (DTU) в существующей рабочей нагрузке базы данных SQL Azure, и понять, как оптимизировать эту нагрузку, вы можете использовать [анализ производительности запросов в базе данных SQL](sql-database-query-performance.md). Кроме того, с помощью динамического административного представления [sys.dm\_db\_ resource\_stats](https://msdn.microsoft.com/library/dn800981.aspx) вы можете получить сведения об использовании ресурсов за последний час. Также можно отправить запрос к представлению каталога [sys.resource\_stats](http://msdn.microsoft.com/library/dn269979.aspx), чтобы получить эти же сведения, но только за последние 14 дней, причем с менее точными средними значениями за пять минут.

## Как понять, что мне нужен пул эластичных БД?
Пулы подходят для большого числа баз данных с конкретными закономерностями использования. Для заданной базы данных эта закономерность характеризуется низким средним использованием с относительно редкими пиками использования. База данных SQL автоматически оценивает историю использования ресурсов баз данных на существующем сервере баз данных SQL и рекомендует подходящую конфигурацию пула в портале Azure. Дополнительные сведения см. в статье [Когда следует использовать пул эластичных баз данных?](sql-database-elastic-pool-guidance.md)

## Что происходит, когда количество единиц DTU становится максимальным
Уровни производительности определяются и регулируются, чтобы обеспечить необходимые ресурсы для работы базы данных в условиях максимальной нагрузки, предусмотренной вашим уровнем служб или производительности. Если ваша нагрузка достигнет предела по одному из показателей (ЦП, ввод-вывод данных, ввод-вывод журнала), вы продолжите получать ресурсы на максимально допустимом уровне, но может увеличиться задержка обработки ваших запросов. Превышение одного из этих ограничений ведет не к возникновению ошибок, а к замедлению работы (за исключением случаев, когда работа идет настолько медленно, что время ожидания запросов начинает истекать). Когда количество параллельных пользовательских сеансов или запросов (рабочих потоков) достигает максимально допустимого уровня, отображаются явные ошибки. Информацию об ограничениях на использование ресурсов, отличных от ЦП, памяти, ввода-вывода данных и ввода-вывода журнала см. в статье [Ограничения ресурсов базы данных SQL Azure](sql-database-resource-limits.md).

## Дальнейшие действия
* В статье [Параметры базы данных SQL и производительность: возможности разных уровней служб](sql-database-service-tiers.md) см. сведения о единицах DTU и eDTU, доступных для отдельных баз данных и для пулов эластичных БД.
* Информацию об ограничениях на использование ресурсов, отличных от ЦП, памяти, ввода-вывода данных и ввода-вывода журнала см. в статье [Ограничения ресурсов базы данных SQL Azure](sql-database-resource-limits.md).
* Чтобы понять, как используются единицы DTU в вашей среде, см. статью [Анализ производительности запросов базы данных Azure SQL](sql-database-query-performance.md).
* Чтобы понять методологию, лежащую в основе тестовой рабочей нагрузки OLTP, которая определяет наполнение единиц DTU, см. статью [Общие сведения об измерении производительности базы данных SQL Azure](sql-database-benchmark-overview.md).

<!---HONumber=AcomDC_0914_2016-->