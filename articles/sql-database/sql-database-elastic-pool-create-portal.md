<properties
	pageTitle="Создание масштабируемых пулов эластичных баз данных | Microsoft Azure"
	description="Добавление масштабируемого пула эластичных баз данных в конфигурацию баз данных SQL для упрощения администрирования и распределения ресурсов между несколькими базами данных."
	keywords="эластичная база данных, конфигурация базы данных"
	services="sql-database"
	documentationCenter=""
	authors="jeffgoll"
	manager="jeffreyg"
	editor=""/>

<tags
	ms.service="sql-database"
	ms.devlang="NA"
	ms.date="03/24/2016"
	ms.author="jeffreyg"
	ms.workload="data-management"
	ms.topic="get-started-article"
	ms.tgt_pltfrm="NA"/>


# Создание масштабируемого пула эластичных баз данных SQL с помощью портала Azure

> [AZURE.SELECTOR]
- [Портал Azure](sql-database-elastic-pool-create-portal.md)
- [PowerShell](sql-database-elastic-pool-create-powershell.md)
- [C#](sql-database-elastic-pool-create-csharp.md)

В этой статье описано создание масштабируемого [пула эластичных баз данных](sql-database-elastic-pool.md) с помощью [портала Azure](https://portal.azure.com/). Пул можно создать двумя способами. Если вы знаете требуемые настройки пула, вы можете создать его с нуля, или же можно следовать рекомендациям службы. База данных SQL автоматически предоставляет интеллектуальные рекомендации по настройке пула, если это экономически выгодно для вас с учетом последних данных телеметрии об использовании базы данных.

На сервер можно добавить несколько пулов, но в один и тот же пул нельзя добавлять базы данных с разных серверов. Чтобы создать пул, требуется по крайней мере одна база данных на сервере версии 12. Если ее нет, см. статью [о создании первой базы данных SQL Azure](sql-database-get-started.md). Вы можете создать пул с одной базой данных, но экономически выгодными являются только пулы с несколькими базами данных. См. статью [Вопросы цены и производительности для пула эластичных баз данных](sql-database-elastic-pool-guidance.md).

> [AZURE.NOTE] Пулы доступны только с серверами базы данных SQL версии 12. При наличии баз данных на сервере версии 11 вы можете [использовать скрипт PowerShell для их идентификации в качестве кандидатов для пула](sql-database-elastic-pool-database-assessment-powershell.md) на сервере версии 12, а затем [использовать PowerShell для обновления до версии 12 и создания пула](sql-database-upgrade-server-powershell.md) за один шаг.

##Создание пула
1. На [портале Azure](http://portal.azure.com/) откройте раздел **Серверы SQL Server** и выберите сервер с базами данных, которые нужно добавить в пул.
2. Щелкните **Создать пул**.

    ![Добавление пула на сервер](./media/sql-database-elastic-pool-create-portal/new-pool.png)

    **-ИЛИ-**

    Щелкните сообщение, чтобы просмотреть рекомендуемые пулы в зависимости от телеметрии использования базы данных за прошедший период, и выберите уровень, чтобы увидеть подробности и настроить пул. В разделе [Общие сведения о рекомендациях для пула](#understand-pool-recommendations) далее в этой статье объясняется, как создаются рекомендации.

    ![рекомендуемый пул](./media/sql-database-elastic-pool-create-portal/recommended-pool.png)

    Появится колонка **Пул эластичной базы данных**, в которой можно настроить пул. Если вы выбрали элемент **Создать пул** на предыдущем шаге, портал выберет **стандартный пул** в разделе **Ценовая категория**, а также уникальное **имя** и стандартную конфигурацию для пула. Если вы выберете рекомендуемый пул, рекомендуемый уровень и конфигурация пула также будут выбраны, но вы сможете их изменить.

    ![Настройка эластичного пула](./media/sql-database-elastic-pool-create-portal/configure-elastic-pool.png)

3. Чтобы изменить ценовую категорию для пула, щелкните **Ценовая категория**, укажите нужную категорию и нажмите кнопку **Выбрать**.

    > [AZURE.IMPORTANT] Если вы выбрали ценовую категорию и подтвердили изменения нажатием кнопки **ОК** на последнем шаге, изменить ценовую категорию пула будет невозможно.

4. Щелкните **Настроить пул**, чтобы добавить базы данных и выбрать параметры ресурсов для пула.
5. Чтобы добавить базы данных, нажмите кнопку **Добавить базу данных**, выберите базы данных, которые требуется добавить, и нажмите кнопку **Выбрать**.

    ![Добавление баз данных](./media/sql-database-elastic-pool-create-portal/add-databases.png)

    Если базы данных, с которыми вы работаете, содержат достаточно данных телеметрии использования за прошедший период, график **Примерный объем использования eDTU и ГБ** и линейчатая диаграмма **Фактический объем использования eDTU** будут обновляться, помогая вам принимать решения относительно конфигурации. Кроме того, служба может предоставить вам рекомендации, которые помогут выбрать правильный размер пула. См. раздел [Общие сведения о рекомендациях для пула](#understand-pool-recommendations).

    ![динамические рекомендации](./media/sql-database-elastic-pool-create-portal/dynamic-recommendation.png)

6. Используя элементы управления на странице **Настройка пула**, изучите параметры и настройте пул согласно следующим рекомендациям.

    ![Настройка эластичного пула](./media/sql-database-elastic-pool-create-portal/configure-performance.png)

    | Параметр производительности | Описание |
    | :--- | :--- |
    | **eDTU пула** и **ГБ пула** (параметр для каждого пула)| Максимальное количество eDTU, доступное для совместного использования всеми базами данных в пуле. Максимальное количество eDTU в пуле зависит от ценовой категории (уровня службы). **eDTU пула** соответствует размеру хранилища, доступному для пула. Для каждой единицы eDTU, выделенной для пула, вы получаете фиксированный размер хранилища базы данных, и наоборот. |
    | **Мин. eDTU** (параметр для каждой базы данных)| Минимальное количество eDTU в пуле, которое гарантируется отдельной базе данных в любой момент. Как правило, для параметра **Мин. eDTU** задается значение в диапазоне от 0 до среднего количества eDTU на одну базу данных за прошедший период. Это глобальный параметр, который применяется ко всем базам данных в пуле. |
    | **Макс. eDTU** (параметр для каждой базы данных) | Максимальное количество eDTU, которое может использовать отдельная база данных в пуле. Это ограничение можно увеличить вплоть до значения параметра **eDTU пула**. Значение параметра **Макс. eDTU** для базы данных должно быть достаточно большим, чтобы можно было обрабатывать максимальное количество запросов во время пиковой нагрузки. Значение параметра для группы рекомендуется немного увеличить, так как использование пула предполагает обращение к более и менее активным базам данных в условиях, когда не все базы одновременно обрабатывают пиковое количество запросов. **Пример.** Предположим, что пиковая нагрузка одной базы данных равна 50 DTU и только 20 % из 100 баз данных в группе одновременно работают с такой нагрузкой. Если в качестве максимального количества eDTU для каждой базы данных задано значение 50, для пула целесообразно увеличить количество eDTU в 5 раз и задать для параметра **eDTU пула** значение 1000. Значение параметра **Макс. eDTU** не следует рассматривать как гарантированное количество ресурсов для базы данных. Это всего лишь значение, которое может быть достигнуто при наличии свободных ресурсов. Это глобальный параметр, который применяется ко всем базам данных в пуле. |

    Дополнительные сведения об ограничениях для каждого уровня обслуживания см. в статье [Справочник по пулу эластичных баз данных](sql-database-elastic-pool-reference.md#edtu-and-storage-limits-for-elastic-pools-and-elastic-databases). Подробные рекомендации по выбору правильного размера пула см. в статье [Вопросы цен и производительности для пулов эластичных баз данных](sql-database-elastic-pool-guidance.md).

7. По завершении щелкните **Выбрать** и нажмите кнопку **ОК**, чтобы создать пул.

##Общие сведения о рекомендациях для пула
Служба базы данных SQL оценивает историю использования и рекомендует один или несколько пулов, если этот вариант экономичнее, чем отдельные базы данных. Для предоставления каждой рекомендации используется уникальное подмножество баз данных на сервере, которое лучше всего подходит для формирования пула. Рекомендация для пула включает следующие аспекты:

- ценовая категория для пула ("Базовый", "Стандартный" или "Премиум");
- соответствующее количество **единиц eDTU пула** (также называемое максимальным количеством единиц eDTU для одного пула);
- **максимальное** и **минимальное количество единиц eDTU** для каждой базы данных;
- список рекомендуемых баз данных для пула.

При составлении рекомендаций для пула служба учитывает данные телеметрии за последние 30 дней. Чтобы база данных рассматривалась для включения в пул эластичных баз данных, она должна существовать не менее 7 дней. Базы данных, которые уже находятся в пуле эластичных баз данных, не рассматриваются в качестве кандидатов для рекомендуемого добавления в пул.

Служба оценивает потребность в ресурсах и экономичность перемещения каждой отдельной базы данных на каждом уровне службы в пулы того же уровня. Например, все базы данных Standard на сервере оцениваются на предмет возможности их добавления в пул эластичных баз данных уровня Standard. Это означает, что служба не предоставляет кросс-уровневые рекомендации, такие как перемещение базы данных Standard в пул Premium.

## Дополнительные ресурсы

- [Monitor, manage, and size an elastic database pool with the Azure portal (Мониторинг и изменение размера пула эластичных баз данных и управление им с помощью портала Azure)](sql-database-elastic-pool-manage-portal.md)
- [Monitor and manage an elastic database pool (PowerShell) (Мониторинг пула эластичных баз данных и управление им с помощью PowerShell)](sql-database-elastic-pool-manage-powershell.md)
- [Создание базы данных SQL и управление ею с помощью C#](sql-database-client-library.md)
- [Справка по эластичным базам данных](sql-database-elastic-pool-reference.md)

<!---HONumber=AcomDC_0330_2016-->