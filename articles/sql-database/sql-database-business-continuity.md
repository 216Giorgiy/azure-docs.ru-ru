<properties
   pageTitle="Непрерывность облачных бизнес-процессов — восстановление базы данных | Microsoft Azure"
   description="Узнайте, как базы данных SQL Azure поддерживают непрерывное выполнение облачных бизнес-процессов и восстановление баз данных, а также помогают обеспечить выполнение важных облачных приложений."
   keywords="непрерывность бизнес-процессов, непрерывность облачных бизнес-процессов, аварийное восстановление базы данных, восстановление базы данных"
   services="sql-database"
   documentationCenter=""
   authors="elfisher"
   manager="jhubbard"
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-management"
   ms.date="05/10/2016"
   ms.author="elfish"/>

# Обзор. Непрерывность облачных бизнес-процессов и аварийное восстановление баз данных с базой данных SQL

Непрерывность бизнес-процессов в первую очередь подразумевает разработку, развертывание и запуск приложения таким образом, чтобы в случае запланированных перерывов или незапланированных аварийных событий не возникало временных или постоянных нарушений выполняемых им функций. К незапланированным событиям относятся как ошибки, связанные с человеческим фактором, так и временные или постоянные сбои и природные катаклизмы, которые приводят к масштабным разрушениям помещений или оборудования Azure в каком-либо регионе. Запланированные события включают вторичное развертывание приложения в другом регионе и его обновление. Цель обеспечения непрерывности бизнес-процессов заключается в том, чтобы приложение продолжало работать во время таких событий практически без уменьшения объема предоставляемых функций.

Прежде чем переходить к обзору решений для обеспечения непрерывности облачных бизнес-процессов, необходимо ознакомиться с несколькими понятиями.

* **Аварийное восстановление (DR)** — это процесс восстановления нормального режима работы приложения.

* **Предполагаемое время восстановления (ERT)** — расчетная продолжительность восстановления 100%-ной доступности базы данных после получения запроса на восстановление или на отработку отказа.

* **Целевое время восстановления (RTO)** — максимальный приемлемый срок до полного восстановления приложения после аварийного события. RTO указывает максимально допустимую потерю доступности во время сбоев.

* **Целевая точка восстановления (RPO)** — максимальный срок, за который приложение может потерять данные к моменту, когда оно будет полностью восстановлено после аварийного события. RTO указывает максимально допустимую потерю данных во время сбоев.


## Сценарии обеспечения непрерывности облачных бизнес-процессов

Ниже перечислены основные сценарии, которые необходимо учесть при планировании непрерывного выполнения бизнес-процессов и восстановления базы данных.

###Проектирование приложений для непрерывного выполнения бизнес-процессов

Приложение, над которым я работаю, является критически важным для моего бизнеса. Я хочу разработать и настроить его так, чтобы в случае масштабной аварии в регионе, где предоставляется служба, оно могло продолжать работать. Я знаю требования к показателям RPO и RTO для моего приложения и выберу конфигурацию, которая будет им соответствовать.

###Восстановление после ошибки, связанной с человеческим фактором

У меня есть права администратора и доступ к рабочей версии приложения. Во время планового обслуживания я ошибся и удалил некоторые критически важные данные в рабочей среде. Мне необходимо быстро восстановить их, чтобы сгладить последствия ошибки.

###Восстановление после сбоя

Мое приложение выполняется в рабочей среде, и я получаю сообщение о том, что в регионе, где оно развернуто, произошел серьезный сбой. Я хочу инициировать процесс восстановления и развернуть приложение в другом регионе, чтобы уменьшить влияние сбоя на бизнес.

###Отработка аварийного восстановления

Так как при восстановлении после сбоя слой данных переносится в другой регион, я хочу время от времени тестировать процесс восстановления и оценивать возможные последствия для работы приложения, чтобы быть готовым к неожиданностям.

###Обновление приложений без простоев

Я планирую выпустить новую версию своего приложения. Она включает изменение схемы базы данных, добавление новых хранимых процедур и т. д. Для обновления необходимо временно закрыть доступ пользователей к базе данных. В то же время я хочу убедиться, что оно не приведет к длительному прерыванию бизнес-операций.

##Функции обеспечения непрерывности бизнес-процессов

В следующей таблице сравниваются функции обеспечения непрерывности облачных бизнес-процессов, доступные для разных уровней служб.

| Функция | Уровень Basic | Уровень Standard |Уровень Premium
| --- |--- | --- | ---
| Восстановление на момент времени | Все точки восстановления в течение 7 дней | Все точки восстановления в течение 14 дней | Все точки восстановления в течение 35 дней
| Геовосстановление | ERT < 12 ч, RPO < 1 ч | ERT < 12 ч, RPO < 1 ч | ERT < 12 ч, RPO < 1 ч
| Активная георепликация | ERT < 30 с, RPO < 5 с | ERT < 30 с, RPO < 5 с | ERT < 30 с, RPO < 5 с

Эти функции используются в описанных выше сценариях. Рекомендации по выбору отдельных компонентов см. в статье [Разработка с учетом требований непрерывности бизнес-процессов](sql-database-business-continuity-design.md).

> [AZURE.NOTE] Значения ERT и RPO отображают инженерные цели и используются только для справки. Они не входят в [соглашение об уровне обслуживания для базы данных SQL](https://azure.microsoft.com/support/legal/sla/sql-database/v1_0/)


###Восстановление до точки во времени

Функция [восстановления до точки во времени](sql-database-point-in-time-restore.md) позволяет восстановить более раннее состояние базы данных. Она использует резервные копии базы данных, включая добавочные, и архивы журналов транзакций, которые служба автоматически ведет для каждой пользовательской базы данных. Восстановление на момент времени доступно для всех уровней служб. Уровень Basic позволяет вернуться на 7, Standard — на 14 и Premium — на 35 дней назад. Подробные сведения об использовании восстановления на момент времени см. в статье [Восстановление после ошибки, связанной с человеческим фактором](sql-database-user-error-recovery.md).

###Геовосстановление

Функция [геовосстановления](sql-database-geo-restore.md) также доступна для баз данных уровней "Базовый", "Стандартный" и "Премиум". Она используется по умолчанию, когда база данных недоступна из-за происшествия в регионе, где она размещена. Как и функция восстановления на момент времени, геовосстановление использует резервные копии базы данных из геоизбыточного хранилища Azure. Восстановление выполняется на основе резервной копии из удаленного хранилища, что позволяет защитить базу данных от сбоев в регионе развертывания основной базы. Подробные сведения об использовании геовосстановления см. в статье [Восстановление после сбоя](sql-database-disaster-recovery.md).

###Активная георепликация

[Активная георепликация](sql-database-geo-replication-overview.md) доступна для всех уровней баз данных. Она рассчитана на приложения, которые предъявляют более высокие требования к восстановлению по сравнению с теми, которые может обеспечить обычное геовосстановление. Активная георепликация позволяет создавать до четырех доступных для чтения реплик баз данных на серверах в разных регионах. Отработку отказа можно выполнить на любую из баз данных-получателей. Кроме того, активная георепликация применяется при обновлении приложений и их перемещении, а также для балансировки нагрузки (распределения операций чтения). Дополнительные сведения о [настройке георепликации](sql-database-geo-replication-portal.md) и [переходе на базу данных-получателя при отказе](sql-database-geo-replication-failover-portal.md) см. в статье [Разработка с учетом требований непрерывности бизнес-процессов](sql-database-business-continuity-design.md). Дополнительные сведения о развертывании обновления приложения без перерывов в работе см. в статье [Обновление приложений без простоев](sql-database-business-continuity-application-upgrade.md).

<!---HONumber=AcomDC_0511_2016-->