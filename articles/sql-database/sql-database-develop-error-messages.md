<properties 
	pageTitle="Сообщения об ошибках для клиентских программ базы данных SQL"
	description="Для каждой ошибки приводится числовой идентификатор и текстовое сообщение. При желании используйте в сообщениях об ошибках собственный, более понятный текст."
	services="sql-database"
	documentationCenter=""
	authors="MightyPen"
	manager="jeffreyg"
	editor=""/>


<tags 
	ms.service="sql-database"
	ms.workload="data-management"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="08/21/2015"
	ms.author="genemi"/>


# Сообщения об ошибках для клиентских программ базы данных SQL


<!--
Old Title on MSDN:  Error Messages (Azure SQL Database)
ShortId on MSDN:  ff394106.aspx
Dx 4cff491e-9359-4454-bd7c-fb72c4c452ca
-->


В этом разделе перечислены некоторые категории сообщений об ошибках. Большинство категорий относятся к базам данных SQL Azure и не применяются к Microsoft SQL Server.


Ваша клиентская программа позволяет указать другой текст демонстрируемого пользователю сообщения для любой ошибки.


**Совет.** Обратите особое внимание на раздел *временных сбоев*. В случае возникновения таких ошибок ваша клиентская программа должна запускать логику *повторных попыток*, которая предусматривает повтор операции.


<a id="bkmk_connection_errors" name="bkmk_connection_errors">&nbsp;</a>


## Временные сбои, потеря подключения и другие временные ошибки

В приведенной ниже таблице представлены ошибки потери подключения и другие временные ошибки, которые могут возникать при работе с базой данных SQL Azure через Интернет.

Временные ошибки также называют временными сбоями. Зафиксировав `SqlException`, программа может проверить, указано ли значение `sqlException.Number` в данном разделе временных сбоев. Если значение `Number` указывает на временный сбой, программа может попытаться восстановить подключение, а затем отправить запрос еще раз, используя установленное подключение. Примеры кода с логикой повторных попыток см. в следующих статьях:


- [Разработка клиентских приложений и быстрый запуск примеров кода в базе данных SQL](sql-database-develop-quick-start-client-code-samples.md)

- [Практическое руководство. Надежное подключение к базе данных Azure SQL](http://msdn.microsoft.com/library/azure/dn864744.aspx)


| Номер ошибки | Уровень серьезности | Описание |
| ---: | ---: | :--- |
| 4060 | 16 | Невозможно открыть базу данных %.&#x2a;ls, запрашиваемую именем входа. Вход в систему не выполнен. |
|10928|20|Идентификатор ресурса: %d. Предел %s для базы данных составляет %d, и он достигнут. Дополнительные сведения см. в статье [http://go.microsoft.com/fwlink/?LinkId=267637](http://go.microsoft.com/fwlink/?LinkId=267637).<br/><br/>Идентификатор ресурса указывает на ресурс, предел которого был достигнут. Для рабочих потоков идентификатор ресурса = 1. Для сеансов идентификатор ресурса = 2.<br/><br/>*Примечание.* Дополнительные сведения об этой ошибке и способах ее устранения см. в статье:<br/>•[Управление ресурсами в базе данных SQL Azure](http://msdn.microsoft.com/library/azure/dn338078.aspx). |
|10929|20|Идентификатор ресурса: %d. Минимальная гарантия %s составляет %d, максимальное значение равно %d, а текущее использование для базы данных — %d. Тем не менее, в настоящее время сервер слишком занят, чтобы обработать более чем %d запросов для этой базы данных. Дополнительные сведения см. в статье [http://go.microsoft.com/fwlink/?LinkId=267637](http://go.microsoft.com/fwlink/?LinkId=267637). В противном случае повторите попытку позже.<br/><br/>Идентификатор ресурса указывает на ресурс, предел которого был достигнут. Для рабочих потоков идентификатор ресурса = 1. Для сеансов идентификатор ресурса = 2.<br/><br/>*Примечание.* Дополнительные сведения об этой ошибке и способах ее устранения см. в статье:<br/>•[Управление ресурсами в базе данных SQL Azure](http://msdn.microsoft.com/library/azure/dn338078.aspx).|
|40197|17|При обработке вашего запроса служба обнаружила ошибку. Повторите попытку позже. Код ошибки: %d.<br/><br/>Эта ошибка возникает, если служба не работает по причине обновления программного или аппаратного обеспечения, аппаратных ошибок или проблем при переходе на другой ресурс при сбое. Код ошибки (%d), указанный в сообщении об ошибке 40197, содержит дополнительные сведения о характере сбоя или отработки отказа. В сообщении об ошибке 40197 может быть указан код ошибки 40020, 40143, 40166 или 40540.<br/><br/>При повторном подключении к базе данных SQL сервер автоматически подключается к рабочей копии базы данных. Приложение должно зафиксировать ошибку 40197, зарегистрировать указанный в сообщении код ошибки (%d) для устранения неполадок и повторять попытки подключения к базе данных SQL, пока не появится доступ к ресурсам, а подключение не будет восстановлено.|
|40501|20|Служба в настоящий момент занята. Повторите запрос через 10 секунд. Идентификатор инцидента: %ls. Код: %d.<br/><br/>*Примечание.* Дополнительные сведения об этой ошибке и способах ее устранения см. в статье:<br/>•[Регулирование базы данных SQL Azure](http://msdn.microsoft.com/library/azure/dn338079.aspx).
|40613|17|База данных %.&#x2a;ls на сервере %.&#x2a;ls в данный момент недоступна. Повторите попытку подключения позже. Если проблема повторится, обратитесь в службу поддержки пользователей и сообщите идентификатор трассировки сеанса %.&#x2a;ls.|
|49918|16|Не удается обработать запрос. Недостаточно ресурсов для обработки запроса.<br/><br/>Служба занята. Повторите запрос позже. |
|49919|16|Невозможно обработать запрос на создание или обновление. Для подписки "%ld" выполняется слишком много операций создания или обновления.<br/><br/>Служба занята обработкой нескольких запросов на создание или обновление для вашей подписки или сервера. В данный момент запросы блокируются для оптимизации ресурсов. Выполните запрос [sys.dm\_operation\_stats](https://msdn.microsoft.com/library/dn270022.aspx) для ожидающих операций. Подождите, пока выполнятся ожидающие запросы на создание или обновление, либо удалите один из ожидающих запросов и повторите свой запрос позже. |
|49920|16|Не удается обработать запрос. Для подписки "%ld" выполняется слишком много операций.<br/><br/>Служба занята обработкой нескольких запросов для этой подписки. В данный момент запросы блокируются для оптимизации ресурсов. Выполните запрос [sys.dm\_operation\_stats](https://msdn.microsoft.com/library/dn270022.aspx) для операций статистики. Подождите, пока выполнятся ожидающие запросы, либо удалите один из ожидающих запросов и повторите свой запрос позже. |

**Примечание.** Попробуйте включить в логику повторной попытки ошибки федераций 10053 и 10054.


## Ошибки копирования базы данных


В приведенной ниже таблице представлены различные ошибки, которые могут возникнуть при копировании базы данных в базе данных SQL Azure. Дополнительную информацию см. в разделе [Копирование баз данных в базу данных SQL Azure](http://msdn.microsoft.com/library/azure/ff951624.aspx).


|Номер ошибки|Уровень серьезности|Описание|
|---:|---:|:---|
|40635|16|Клиент с IP-адресом %.&#x2a;ls временно отключен.|
|40637|16|Возможность создания копии базы данных в настоящее время отключена.|
|40561|16|Не удалось скопировать базу данных. Исходная или целевая база данных не существует.|
|40562|16|Не удалось скопировать базу данных. Исходная база данных удалена.|
|40563|16|Не удалось скопировать базу данных. Целевая база данных удалена.|
|40564|16|Произошел сбой при копировании базы данных из-за внутренней ошибки. Удалите целевую базу данных и повторите попытку.|
|40565|16|Не удалось скопировать базу данных. Допускается не более одной одновременной операции копирования базы данных из одного источника. Удалите целевую базу данных и повторите попытку позднее.|
|40566|16|Произошел сбой при копировании базы данных из-за внутренней ошибки. Удалите целевую базу данных и повторите попытку.|
|40567|16|Произошел сбой при копировании базы данных из-за внутренней ошибки. Удалите целевую базу данных и повторите попытку.|
|40568|16|Не удалось скопировать базу данных. Исходная база данных стала недоступна. Удалите целевую базу данных и повторите попытку.|
|40569|16|Не удалось скопировать базу данных. Целевая база данных стала недоступна. Удалите целевую базу данных и повторите попытку.|
|40570|16|Произошел сбой при копировании базы данных из-за внутренней ошибки. Удалите целевую базу данных и повторите попытку позднее.|
|40571|16|Произошел сбой при копировании базы данных из-за внутренней ошибки. Удалите целевую базу данных и повторите попытку позднее.|


## Ошибки управления ресурсами


В приведенной ниже таблице представлены ошибки, возникающие при чрезмерном использовании ресурсов при работе с базой данных SQL Azure. Например:


- если транзакция остается открытой слишком долго;
- если транзакция содержит слишком много блокировок;
- если приложение потребляет слишком много памяти;
- если приложение занимает слишком много места в `TempDb`.


**Совет.** Дополнительную информацию о большинстве описанных в этом разделе ошибок можно найти по следующей ссылке:


- [Ограничения ресурсов Базы данных SQL Azure](http://msdn.microsoft.com/library/azure/dn338081.aspx).


|Номер ошибки|Уровень серьезности|Описание|
|---:|---:|:---|
|40544|20|База данных достигла предельного размера. Секционируйте или удалите данные, удалите индексы или попробуйте найти возможное решение в документации.|
|40549|16|Сеанс остановлен из-за наличия транзакции с длительным временем выполнения. Попробуйте сократить время выполнения транзакции.|
|40550|16|Сеанс остановлен, поскольку он использует слишком много блокировок. Попробуйте сократить количество читаемых или изменяемых строк в одной транзакции.|
|40551|16|Сеанс остановлен из-за чрезмерного использования `TEMPDB`. Попробуйте изменить запрос, чтобы сократить использование временного табличного пространства.<br/><br/>*Совет.* Если вы используете временные объекты, для экономии места в базе данных `TEMPDB` удаляйте их сразу после того, как они перестанут быть нужными для сеанса.|
|40552|16|Сеанс остановлен из-за чрезмерного использования места для журналов транзакций. Попробуйте сократить количество изменяемых строк в одной транзакции.<br/><br/>*Совет.* В случае выполнения массовых вставок с использованием утилиты `bcp.exe` или класса `System.Data.SqlClient.SqlBulkCopy` попробуйте ограничить количество строк, копируемых на сервер при каждой транзакции, с помощью параметра `-b batchsize` или `BatchSize`. В случае перестройки индекса с помощью оператора `ALTER INDEX` попробуйте использовать параметр `REBUILD WITH ONLINE = ON`.|
|40553|16|Сеанс остановлен из-за чрезмерного потребления памяти. Попробуйте изменить запрос и задать обработку меньшего числа строк.<br/><br/>*Совет.* Сокращение количества операций `ORDER BY` и `GROUP BY` в коде Transact-SQL позволяет уменьшить потребление памяти при выполнении запроса.|


Дополнительное обсуждение управления ресурсами и связанных с ним ошибок см. здесь:


- [Управление ресурсами в Базе данных SQL Azure](http://msdn.microsoft.com/library/azure/dn338078.aspx).


## Ошибки федераций


В приведенной ниже таблице представлены ошибки, которые могут возникнуть при работе с федерациями. Дополнительные сведения можно найти в разделе [Управление федерациями баз данных (База данных SQL Azure)](http://msdn.microsoft.com/library/azure/hh597455.aspx).


> [AZURE.IMPORTANT]Текущая реализация федераций станет устаревшей вместе с уровнями обслуживания Web и Business. Версия V12 базы данных SQL Azure не поддерживает уровни служб Web и Business.
> 
> Легко создавать приложения сегментирования позволяет функция эластичного масштабирования.
> 
> Дополнительные сведения об эластичном масштабировании можно найти в [разделах об эластичном масштабировании Базы данных SQL Azure](sql-database-elastic-scale-documentation-map.md). Внедрение настраиваемых решений сегментирования позволяет повысить масштабируемость, гибкость и производительность. Дополнительные сведения о настраиваемом сегментировании можно найти в статье [Масштабирование Баз данных SQL Azure](http://msdn.microsoft.com/library/azure/dn495641.aspx).


|Номер ошибки|Уровень серьезности|Описание|Устранение|
|---:|---:|:---|:---|
|266|16|Оператор <statement> нельзя использовать в транзакции из нескольких операций.|Перед применением данного оператора убедитесь, что `@@trancount` имеет значение 0 при подключении.|
|2072|16|База данных %.&#x2a;ls не существует.|Перед выполнением оператора `USE FEDERATION` проверьте `sys.databases` на предмет состояния базы данных.|
|2209|16|%s Синтаксическая ошибка рядом с %ls|`FEDERATED ON` можно использовать только при создании таблиц в членах федерации.|
|2714|16|В базе данных уже имеется объект с именем %.&#x2a;ls.|Имя федерации уже существует.|
|10054, 10053|20|Ошибка на транспортном уровне при получении результатов с сервера. Установленное подключение было разорвано программным обеспечением узла.|Реализуйте в приложении логику повторных попыток.|
|40530|15|Оператор <statement> должен быть единственным в пакете.|Убедитесь в том, что в пакете нет других операторов.|
|40604|16|Не удалось выполнить `CREATE DATABASE`, поскольку это приведет к превышению квоты сервера.|Увеличьте допустимое количество баз данных на сервере.|
|45000|16|Операция <statement> завершилась ошибкой. Задано недопустимое имя федерации <federation_name>.|Имя федерации не соответствует правилам именования федераций или не является допустимым идентификатором.|
|45001|16|Операция <statement> завершилась ошибкой. Заданное имя федерации не существует.|Имя федерации не существует.|
|45002|16|Операция <statement> завершилась ошибкой. Задано недопустимое имя ключа федерации <distribution_name>.|Несуществующий или недопустимый ключ федерации.|
|45004|16|Операция <statement> завершилась ошибкой. Указано недопустимое значение для ключа федерации <distribution_name> и федерации <federation_name>.|`USE FEDERATION`: используйте граничное значение, соответствующее типу данных ключа федерации или не равное NULL.<br/><br/>`ALTER FEDERATION SPLIT`: используйте допустимое значение ключа федерации, который еще не является точкой разделения<br/><br/>`ALTER FEDERATION DROP`: используйте допустимое значение ключа федерации, который уже является точкой разделения.|
|45005|16|<statement> не может запускаться, пока выполняется другая операция в федерации <federation_name> и элементе с идентификатором <member_id>.|Дождитесь завершения параллельной операции.|
|45006|16|Операции <statement> завершились ошибкой. Отношения внешних ключей в таблицах ссылок, которые ссылаются на федеративные таблицы, в членах федерации использовать нельзя.|Не поддерживается.|
|45007|16|Операция <statement> завершилась ошибкой. Отношения внешних ключей между федеративными таблицами должны включать столбец (столбцы) ключей федерации.|Не поддерживается|
|45008|16|Операция <statement> завершилась ошибкой. Тип данных ключа федерации не соответствует типу данных столбца.|Не поддерживается.|
|45009|16|Операция <statement> завершилась ошибкой. Операция не поддерживается для соединений с фильтрацией.|Не поддерживается.|
|45010|16|Операция <statement> завершилась ошибкой. Не удается обновить ключ федерации.|Не поддерживается.|
|45011|16|Операция <statement> завершилась ошибкой. Не удается обновить схему ключей федерации.|Не поддерживается.|
|45012|16|Задано недопустимое значение ключа федерации.|Значение должно быть в диапазоне, к которому обращается подключение.<br/><br/>Если используется фильтр, проверьте указанное значение ключа федерации.<br/><br/>Если фильтр не используется, проверьте охватываемый членом федерации диапазон.|
|45013|16|Идентификатор SID уже существует под другим именем пользователя.|Идентификатор SID для пользователя в члене федерации копируется из SID той же учетной записи пользователя в корне федерации. В определенных ситуациях SID может быть уже занят.|
|45014|16|%ls не поддерживается в %ls.|Неподдерживаемая операция.|
|45022|16|Операция <statement> завершилась ошибкой. Указанное граничное значение уже существует для ключа федерации <distribution_name> и федерации <federation_name>.|Укажите значение, которое уже является граничным значением.|
|45023|16|Операция <statement> завершилась ошибкой. Указанное граничное значение не существует для ключа федерации <distribution_name> и федерации <federation_name>.|Укажите значение, которое еще не является граничным значением.|


## Общие ошибки


В приведенной ниже таблице представлены общие ошибки, которые не входят ни в одну из предыдущих категорий.


|Номер ошибки|Уровень серьезности|Описание|
|---:|---:|:---|
|15006|16|<AdministratorLogin> не является допустимым именем, так как оно содержит недопустимые символы.|
|18452|14\.|Вход в систему не выполнен. Имя входа принадлежит недоверенному домену и не может использоваться в проверке подлинности Windows.%.&#x2a;ls (имена входа Windows не поддерживаются в данной версии SQL Server).|
|18456|14\.|Пользователю %.&#x2a;ls не удалось войти в систему.%.&#x2a;ls%.&#x2a;ls (пользователю %.&#x2a;ls не удалось войти в систему). Не удалось изменить пароль. Изменение пароля во время входа в систему не поддерживается в этой версии SQL Server.)|
|18470|14\.|Пользователю %.&#x2a;ls не удалось войти в систему. Причина: учетная запись отключена.%.&#x2a;ls|
|40014|16|Использовать в одной и той же транзакции несколько баз данных нельзя.|
|40054|16|Таблицы без кластеризованного индекса не поддерживаются в данной версии SQL Server. Создайте кластеризованный индекс и повторите попытку.|
|40133|15|Эта операция не поддерживается в данной версии SQL Server.|
|40506|16|Указанный идентификатор SID является недопустимым для данной версии SQL Server.|
|40507|16|В этой версии SQL Server %.&#x2a;ls не может быть вызван с параметрами.|
|40508|16|Использование инструкции USE для переключения между базами данных не поддерживается. Для соединения с другой базой данных следует использовать новое подключение.|
|40510|16|Оператор %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40511|16|Встроенная функция %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40512|16|Устаревшая функция %ls не поддерживается в данной версии SQL Server.|
|40513|16|Серверная переменная %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40514|16|%ls не поддерживается в данной версии SQL Server.|
|40515|16|Ссылка на имя базы данных или сервера в %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40516|16|Глобальные временные объекты не поддерживаются в данной версии SQL Server.|
|40517|16|Ключевое слово или параметр оператора %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40518|16|Команда DBCC %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40520|16|Класс защищаемого объекта %S\_MSG не поддерживается в данной версии SQL Server.|
|40521|16|Класс защищаемого объекта %S\_MSG не поддерживается в области сервера в данной версии SQL Server.|
|40522|16|Тип участника базы данных %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40523|16|Создание неявного пользователя %.&#x2a;ls не поддерживается в данной версии SQL Server. Перед использованием пользователя следует создать явно.|
|40524|16|Тип данных %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40525|16|WITH %ls не поддерживается в данной версии SQL Server.|
|40526|16|Поставщик наборов строк %.&#x2a;ls не поддерживается в данной версии SQL Server.|
|40527|16|Связанные серверы не поддерживаются в данной версии SQL Server.|
|40528|16|Пользователи не могут быть сопоставлены с сертификатами, асимметричными ключами или именами входа Windows в данной версии SQL Server.|
|40529|16|Встроенная функция %.&#x2a;ls в контексте олицетворения не поддерживается в этой версии SQL Server.|
|40532|11|Невозможно открыть сервер %.&#x2a;ls, запрашиваемый именем входа. Вход в систему не выполнен.|
|40553|16|Сеанс остановлен из-за чрезмерного потребления памяти. Попробуйте изменить запрос для обработки меньшего числа строк.<br/><br/>*Примечание.* Сокращение количества операций `ORDER BY` и `GROUP BY` в коде Transact-SQL помогает уменьшить потребление памяти при выполнении запроса.|
|40604|16|Не удалось создать или изменить базу данных, поскольку это приведет к превышению квоты сервера.|
|40606|16|Прикрепление баз данных не поддерживается в данной версии SQL Server.|
|40607|16|Имена входа Windows не поддерживаются в данной версии SQL Server.|
|40611|16|На серверах может быть задано не более 128 правил брандмауэра.|
|40614|16|Начальный IP-адрес правила брандмауэра не может превышать конечный IP-адрес этого правила.|
|40615|16|Не удается открыть сервер ’{0}’, запрашиваемый именем входа. Для клиента с IP-адресом '{1}' доступ к серверу не разрешен. Разрешите доступ с помощью программы SQL Azure Portal или выполните хранимую процедуру sp\_set\_firewall\_rule в базе данных master, чтобы создать правило брандмауэра для этого IP-адреса или диапазона адресов. Может потребоваться до пяти минут, чтобы это изменение вступило в силу.|
|40617|16|Имя правила брандмауэра, начинающееся с символов <rule name>, слишком длинное. Максимальная длина — 128 символов.|
|40618|16|Имя правила брандмауэра не может быть пустым.|
|40620|16|Пользователю %.&#x2a;ls не удалось войти в систему. Не удалось изменить пароль. Изменение пароля во время входа в систему не поддерживается в этой версии SQL Server.|
|40627|20|Выполняется операция на сервере '{0}' и в базе данных '{1}'. Подождите несколько минут и повторите попытку.|
|40630|16|Ошибка проверки пароля. Пароль не соответствует требованиям политики, так как он слишком короткий.|
|40631|16|Указан слишком длинный пароль. Пароль должен содержать не более 128 символов.|
|40632|16|Ошибка проверки пароля. Пароль не соответствует требованиям политики, так как он недостаточно сложен.|
|40636|16|Нельзя использовать зарезервированное имя базы данных %.&#x2a;ls в этой операции.|
|40638|16|Недопустимый идентификатор подписки <subscription-id>. Подписка не существует.|
|40639|16|Запрос не соответствует схеме: <schema error>.|
|40640|20|Сервер обнаружил непредвиденное исключение.|
|40641|16|Указано недопустимое расположение.|
|40642|17|Сервер в данный момент занят. Повторите попытку позже.|
|40643|16|Указано недопустимое значение заголовка x-ms-version.|
|40644|14\.|Не удалось авторизовать доступ к указанной подписки.|
|40645|16|Имя сервера <servername> не может быть пустым или иметь значение NULL. Оно может состоять из букв нижнего регистра от a до z, чисел от 0 до 9 и дефисов. Дефис не может находиться в начале или в конце имени.|
|40646|16|Идентификатор подписки не может быть пустым.|
|40647|16|Подписка <идентификатор подписки> не содержит имя сервера.|
|40648|17|Выполнено слишком много запросов. Повторите попытку позже.|
|40649|16|Указан недопустимый тип содержимого. Поддерживается только тип application/xml.|
|40650|16|Подписки <subscription-id> не существует, или она не готова к работе.|
|40651|16|Не удалось создать сервер, так как подписка <subscription-id> отключена.|
|40652|16|Не удается переместить или создать сервер. Подписка <subscription-id> превысит квоту сервера.|
|40671|17|Сбой связи между шлюзом и службой управления. Повторите попытку позже.|
|45168|16|Система SQL Azure испытывает нагрузку, в связи с чем ограничивает максимальное количество параллельных операций CRUD с базами данных на одном сервере (например, создание базы данных). Сервер, указанный в сообщении об ошибке, превысил максимальное количество одновременных подключений. Повторите попытку позже.|
|45169|16|Система SQL Azure испытывает нагрузку, в связи с чем ограничивает максимальное количество параллельных операций CRUD с серверами в пределах одной подписки (например, создание сервера). Подписка, указанная в сообщении об ошибке, превысила максимальное количество одновременных подключений, и запрос был отклонен. Повторите попытку позже.|


## Связанные ссылки

- [Общие рекомендации и ограничения для базы данных SQL Azure](http://msdn.microsoft.com/library/azure/ee336245.aspx)
- [Управление ресурсами](http://msdn.microsoft.com/library/azure/dn338083.aspx)

<!---HONumber=August15_HO9-->