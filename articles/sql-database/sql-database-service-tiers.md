<properties
   pageTitle="Уровни служб Базы данных SQL"
   description="Сравните производительность и функции обеспечения непрерывности бизнес-процессов разных уровней служб Базы данных SQL Azure, чтобы найти верное соотношение стоимости и возможностей по мере масштабирования системы при необходимости без простоя."
   services="sql-database"
   documentationCenter=""
   authors="shontnew"
   manager="jeffreyg"
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="data-management"
   ms.date="09/11/2015"
   ms.author="shkurhek"/>

# Уровни служб Базы данных SQL

## Обзор
[Базы данных SQL Azure](sql-database-technical-overview.md) предоставляют несколько уровней службы для обработки различных типов рабочих нагрузок. Вы можете создать отдельную базу данных с заданными характеристиками и расценками. Вы также можете создать несколько баз данных в пуле эластичных баз данных. В обоих случаях уровни службы включают **Базовый**, **Стандартный** и **Премиум**. Но характеристики этих уровней зависят от того, создаете ли вы отдельную базу данных или базу данных в пуле эластичных баз данных. В этой статье приведен обзор уровней службы в обоих контекстах.

## Уровни службы
По условиям SLA, все уровни службы Базовый, Стандартный и Премиум гарантируют бесперебойную работу в течение 99,99 % времени и обеспечивают прогнозируемую производительность, гибкие возможности обеспечения непрерывности бизнес-процессов, функции безопасности и почасовую тарификацию. В следующей таблице приведены примеры уровней службы, которые лучше всего подходят для рабочих нагрузок различных приложений.

| Уровень служб | Целевые рабочие нагрузки |
|---|---|
| **базовая;** | Лучше всего подходит для базы данных небольшого размера, которая обычно выполняет одну активную операцию в определенный момент времени. В качестве примера можно привести базы данных, используемые для разработки или тестирования, или небольшие редко используемые приложения. |
| **Стандартный** | Идеально подходит для большинства облачных приложений, поддерживающих параллельное выполнение нескольких запросов. В качестве примера можно привести рабочую группу или веб-приложения. |
| **Премиальный** | Предназначен для большого объема транзакций, которые поддерживают большое количество параллельно работающих пользователей и требуют максимального уровня непрерывности бизнес-процессов. В качестве примера можно привести базы данных для поддержки критически важных приложений. |

>[AZURE.NOTE]Выпуски Web и Business станут недоступны. Узнайте, как [обновить выпуски Web и Business](sql-database-upgrade-new-service-tiers.md). Если вы собираетесь продолжать использовать выпуски Web и Business, ознакомьтесь с разделом [Вопросы и ответы по остановке версий Web и Business](http://azure.microsoft.com/pricing/details/sql-database/web-business/).

### Уровни службы для отдельных баз данных
Для отдельных баз данных каждый уровень службы включает несколько уровней производительности, что позволяет вам выбрать уровень, наиболее соответствующий вашим рабочим нагрузкам. При необходимости увеличения или уменьшения масштаба вы легко можете изменить уровни базы данных на портале Azure с нулевым временем простоя приложения. Подробнее см. в разделе [Изменение уровней служб и уровней производительности базы данных](sql-database-scale-up.md).

Приведенные здесь характеристики производительности относятся к базам данных, созданным с помощью [баз данных SQL версии 12](sql-database-v12-whats-new.md).

[AZURE.INCLUDE [Таблица уровней служб базы данных SQL](../../includes/sql-database-service-tiers-table.md)]

### Уровни службы для пулов эластичных баз данных
Помимо создания и масштабирования отдельных баз данных у вас также есть возможность управления несколькими базами данных в [пуле эластичных баз данных](sql-database-elastic-pool.md). Все базы данных в пуле эластичных баз данных совместно используют общий набор ресурсов. Производительность баз данных измеряется в *единицах транзакций эластичных баз данных* (eDTUs). Как и для отдельных баз данных, для пулов эластичных баз данных доступны три уровня производительности: **Базовый**, **Стандартный** и **Премиум**. Для эластичных баз данных эти три уровня службы также определяют общие ограничения производительности и некоторые функции.

Пулы эластичных баз данных позволяют базам данных в составе пула совместно разделять и использовать ресурсы DTU без необходимости назначать уровень производительности для отдельных баз данных в пуле. Например, отдельная база данных в пуле уровня Стандартный может использовать от 0 до максимального количества eDTU (100 eDTU, определенные уровнем службы, или другое количество eDTU, которое вы задали в настройках). Это позволяет нескольким базам данных с меняющейся рабочей нагрузкой эффективно использовать ресурсы eDTU, доступные всему пулу.

В следующей таблице описаны характеристики уровней службы для пула эластичных баз данных.

[AZURE.INCLUDE [Таблица уровней службы базы данных SQL для эластичных баз данных](../../includes/sql-database-service-tiers-table-elastic-db-pools.md)]

>[AZURE.NOTE]Каждая база данных в пуле также соответствует характеристикам отдельной базы данных для этого пула. Например, для пулов уровня Базовый установлено предельное количество сеансов в размере 2400 – 28800 на пул, но для отдельных баз данных в этом пуле установлено ограничение в 300 сеансов на базу данных (ограничение для отдельной базы данных уровня Базовый, как описано в предыдущем разделе).

## Общие сведения о DTU

[AZURE.INCLUDE [Описание DTU баз данных SQL](../../includes/sql-database-understanding-dtus.md)]

## Мониторинг производительности
Мониторинг производительности базы данных SQL начинается с мониторинга использования ресурсов в соответствии с уровнем производительности, который был выбран для базы данных. Соответствующие данные предоставляются следующими способами:

1.	На портале управления Microsoft Azure.

2.	С помощью динамических административных представлений в пользовательской базе данных и в главной базе данных сервера, содержащей пользовательскую базу данных.

В [портале предварительной версии Azure](https://portal.azure.com/) можно отслеживать использование одной базы данных, выбрав базу данных и щелкнув по диаграмме **Мониторинг**. Появится окно **Метрика**, которое можно изменить, щелкнув кнопку **Изменить диаграмму**. Добавьте следующие метрики:

- Процент использования ЦП
- Процент использования DTU
- Процент операций ввода/вывода данных
- Процент использования хранилища

После добавления этих метрик можно продолжить наблюдение за ними на диаграмме **Мониторинг** с более подробными сведениями в окне **Метрика**. Все четыре метрики показывают средний процент использования в соответствии с **DTU** для вашей базы данных.

![мониторинг уровня службы](./media/sql-database-service-tiers/sqldb_service_tier_monitoring.png)

Также можно настроить оповещения для метрик производительности. Щелкните кнопку **Добавить предупреждение** в окне **Метрика**. Следуйте инструкциям мастера для настройки оповещения. Можно настроить предупреждение при превышении показателями определенного порога или при падении показателей ниже определенного порога.

Например, если предполагается, что рабочая нагрузка базы данных будет расти, можно настроить отправку оповещения по электронной почте каждый раз, когда любой из показателей производительности для вашей базы данных достигнет 80%. Это оповещение можно использовать как предварительное предупреждение о том, что необходимо перейти на следующий, более высокий уровень производительности.

Метрики производительности также помогут определить, можете ли вы перейти на более низкий уровень производительности. Предположим, вы используете базу данных размера S2 уровня Стандартный, и все метрики производительности показывают, что база данных никогда не используется более чем на 10%. Вполне вероятно, что эта база данных будет хорошо работать с размером S1 уровня Стандартный. Однако перед переходом на более низкий уровень производительности следует учитывать скачки и колебания рабочих нагрузок.

Те же показатели, которые отображаются в портале, также доступны в системных представлениях: [sys.resource\_stats](https://msdn.microsoft.com/library/dn269979.aspx) в логической главной базе данных вашего сервера и [sys.dm\_db\_resource\_stats](https://msdn.microsoft.com/library/dn800981.aspx) в пользовательской базе данных (представление **sys.dm\_db\_resource\_stats** создается в каждой пользовательской базе данных уровней Базовый, Стандартный и Премиум. Для баз данных уровней Web и Business будет возвращен пустой набор результатов). Используйте **sys.resource\_stats**, если необходимо отслеживать менее детализированные данные для длительного периода времени. Используйте **sys.dm\_db\_resource\_stats**, если необходимо отслеживать более детализированные данные для менее длительного периода времени. Дополнительные сведения см. в статье [Руководство по производительности базы данных SQL Azure](https://msdn.microsoft.com/library/azure/dn369873.aspx).

Для пулов эластичных баз данных можно отслеживать отдельные базы данных в пуле с помощью способов, описанных в этом разделе. Но также можно отслеживать и пул в целом. Дополнительные сведения см. в статье [Мониторинг пула эластичных баз данных и управление им](sql-database-elastic-pool-portal.md#monitor-and-manage-an-elastic-database-pool).

## Дальнейшие действия
Дополнительные сведения о ценах на эти уровни служб см. в разделе [База данных SQL Цены](http://azure.microsoft.com/pricing/details/sql-database/).

Если вы хотите управлять несколькими базами данных как группой, обратите внимание на [пулы эластичных баз данных](sql-database-elastic-pool-guidance.md), а также на [вопросы цены и производительности для пулов эластичных баз данных](sql-database-elastic-pool-guidance.md).

Вы узнали об уровнях служб Базы данных SQL. Теперь воспользуйтесь [бесплатной пробной версией](http://azure.microsoft.com/pricing/free-trial/) и узнайте о том, [как создать первую базу данных SQL](sql-database-get-started.md)!
 

<!---HONumber=Oct15_HO1-->