---
title: Масштабирование ресурсов эластичного пула — база данных SQL Azure | Документы Майкрософт
description: На этой странице описано масштабирование ресурсов для эластичных пулов в базе данных SQL Azure.
services: sql-database
author: CarlRabeler
manager: craigg
ms.service: sql-database
ms.custom: DBs & servers
ms.topic: conceptual
ms.date: 06/20/2018
ms.author: carlrab
ms.openlocfilehash: 0d15382f413485ccc287bac945b3c88eb748a9f6
ms.sourcegitcommit: 638599eb548e41f341c54e14b29480ab02655db1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/21/2018
ms.locfileid: "36311338"
---
# <a name="scale-elastic-pool-resources-in-azure-sql-database"></a>Масштабирование ресурсов эластичного пула в базе данных SQL Azure

В этой статье описано масштабирование вычислительных ресурсов и ресурсов хранилища для эластичных пулов и баз данных в пулах в базе данных SQL Azure. 

## <a name="vcore-based-purchasing-model-change-elastic-pool-storage-size"></a>Модель приобретения на основе виртуальных ядер: изменение размера хранилища эластичного пула

- Объем подготавливаемого хранилища не может превышать максимального допустимого размера. 
 - Для хранилища уровня "Стандартный" можно увеличить или уменьшить размер с шагом приращения в 10 ГБ.
 - Для хранилища уровня "Премиум" можно увеличить или уменьшить размер с шагом приращения в 250 ГБ.
- Для подготовки хранилища эластичного пула можно увеличить или уменьшить его максимальный размер.
- Стоимость хранилища для эластичного пула равна его объему, умноженному на цену единицы хранения этого хранилища для уровня служб. Сведения о цене на дополнительное хранилище см. на [странице цен на Базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/).

## <a name="vcore-based-purchasing-model-change-elastic-pool-compute-resources-vcores"></a>Модель приобретения на основе виртуальных ядер: изменение вычислительных ресурсов эластичного пула (виртуальных ядер)

Можно увеличить или уменьшить уровень производительности, доступный для эластичного пула, исходя из потребностей в ресурсах, с помощью[портала Azure](sql-database-elastic-pool-manage.md#azure-portal-manage-elastic-pools-and-pooled-databases), [PowerShell](/powershell/module/azurerm.sql/set-azurermsqlelasticpool), [Azure CLI](/cli/azure/sql/elastic-pool#az_sql_elastic_pool_update) или [REST API](/rest/api/sql/elasticpools/update).

- При изменении числа виртуальных ядер в пуле подключение к базе данных на короткое время прерывается. То же самое происходит при масштабировании DTU для отдельной базы данных (не в пуле). Дополнительные сведения о длительности и влиянии разрыва подключений к базе данных во время операций масштабирования см. в разделе [Ограничения ресурсов базы данных SQL Azure](#single-database-change-storage-size). 
- Время, необходимое для изменения числа виртуальных ядер в пуле, зависит от общего объема пространства, используемого всеми базами данных в пуле. Как правило, задержка при изменении масштаба в среднем составляет не более 90 минут на 100 ГБ. Например, если общее пространство, используемое всеми базами данных в пуле, равно 200 ГБ, то ожидаемая задержка при изменении масштаба пула составит до 3 часов. В некоторых случаях в рамках уровней "Стандартный" и "Базовый" задержка при изменении масштаба может составлять меньше пяти минут, вне зависимости от объема используемого пространства.
- Как правило, изменение минимального или максимального числа виртуальных ядер для базы данных обычно занимает пять минут или менее.
- При уменьшении числа виртуальных ядер на пул используемое им пространство не должно превышать максимальное допустимое число виртуальных ядер для целевых уровня служб и уровня производительности.

## <a name="dtu-based-purchasing-model-change-elastic-pool-storage-size"></a>Модель приобретения на основе единиц DTU: изменение размера хранилища эластичного пула

- Цена DTU для эластичного пула включает в себя определенный объем хранилища, не требующий дополнительной платы. Дополнительный объем хранилища, сверх включенного, можно подготовить за дополнительную плату в пределах максимального допустимого размера с шагом в 250 ГБ при объеме хранилища до 1 ТБ и с шагом в 256 ГБ — при объеме более 1 ТБ. Сведения о включенном объеме хранилища и ограничениях максимального размера см. в разделе [Эластичный пул: размеры хранилища и уровни производительности](#elastic-pool-storage-sizes-and-performance-levels).
- Дополнительное хранилище для эластичного пула можно подготовить, увеличив его максимальный размер с помощью [портала Azure](sql-database-elastic-pool-scale.md#azure-portal-manage-elastic-pools-and-pooled-databases), [PowerShell](/powershell/module/azurerm.sql/set-azurermsqlelasticpool), [Azure CLI](/cli/azure/sql/elastic-pool#az_sql_elastic_pool_update) или [REST API](/rest/api/sql/elasticpools/update).
- Стоимость дополнительного хранилища для эластичного пула равна его объему, умноженному на цену единицы хранения этого хранилища для уровня служб. Сведения о цене на дополнительное хранилище см. на [странице цен на Базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/).

## <a name="dtu-based-purchasing-model-change-elastic-pool-compute-resources-edtus"></a>Модель приобретения на основе единиц DTU: изменение вычислительных ресурсов эластичного пула (единиц DTU)

Можно увеличить или сократить ресурсы, доступные для эластичного пула, на основе потребностей в ресурсах, с помощью[портала Azure](sql-database-elastic-pool-scale.md#azure-portal-manage-elastic-pools-and-pooled-databases), [PowerShell](/powershell/module/azurerm.sql/set-azurermsqlelasticpool), [Azure CLI](/cli/azure/sql/elastic-pool#az_sql_elastic_pool_update) или [REST API](/rest/api/sql/elasticpools/update).

- При масштабировании eDTU пула подключения к базе данных на короткое время разрываются. То же самое происходит при масштабировании DTU для отдельной базы данных (не в пуле). Дополнительные сведения о длительности и влиянии разрыва подключений к базе данных во время операций масштабирования см. в разделе [Ограничения ресурсов базы данных SQL Azure](#single-database-change-storage-size). 
- Время, необходимое для масштабирования eDTU пула, может зависеть от общего объема пространства, используемого всеми базами данных в пуле. Как правило, задержка при изменении масштаба в среднем составляет не более 90 минут на 100 ГБ. Например, если общее пространство, используемое всеми базами данных в пуле, равно 200 ГБ, то ожидаемая задержка при изменении масштаба пула составит до 3 часов. В некоторых случаях в рамках уровней "Стандартный" и "Базовый" задержка при изменении масштаба может составлять меньше пяти минут, вне зависимости от объема используемого пространства.
- Как правило, изменение минимального или максимального числа eDTU для базы данных обычно завершается за пять минут или быстрее.
- При уменьшении числа eDTU пула используемое им пространство не должно превышать максимальное допустимое число eDTU для целевых уровня служб и уровня производительности.
- При изменении масштаба eDTU пула взимается дополнительная плата за хранилище, если максимальный размер хранилища пула поддерживается целевым пулом и превышает включенный объем хранилища целевого пула. Например, если пул категории "Стандартный" с максимальным размером в 100 ГБ, содержащий 100 eDTU, уменьшается до пула категории "Стандартный" с максимальным размером в 100 ГБ, содержащего 50 eDTU, то взимается плата за дополнительное хранилище, так как целевой пул поддерживает максимальный размер в 100 ГБ, а его включенный объем хранилища составляет только 50 ГБ. Поэтому дополнительный объем хранилища равен 100 – 50 = 50 ГБ. Чтобы узнать о ценах на дополнительное хранилище, ознакомьтесь с [ценами на Базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/). Если фактический объем пространства, которое используется, меньше, чем включенный объем хранилища, то этих дополнительных затрат можно избежать, уменьшив максимальный размер базы данных до включенного объема. 

## <a name="next-steps"></a>Дополнительная информация

Сведения об общих ограничениях ресурсов см. в статьях [Ограничения ресурсов базы данных SQL в модели приобретения на основе виртуальных ядер — эластичные пулы](sql-database-vcore-resource-limits-elastic-pools.md) и [Ограничения ресурсов базы данных SQL в модели приобретения на основе единиц DTU — эластичные пулы](sql-database-dtu-resource-limits-elastic-pools.md).
