<properties 
   pageTitle="Часто задаваемые вопросы о базе данных SQL Azure" 
   description="Ответы на распространенные вопросы, задаваемые клиентами об облачных базах данных и базе данных SQL Azure, системе управления реляционной базой данных (реляционной СУБД) Майкрософт и базе данных как услуге в облаке." 
   services="sql-database" 
   documentationCenter="" 
   authors="jeffgoll" 
   manager="jeffreyg" 
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-management" 
   ms.date="02/25/2016"
   ms.author="sashan"/>

# Часто задаваемые вопросы о базе данных SQL

## Как плата за использование базы данных SQL отражается в счете? 
Счета за использование базы данных SQL выставляются с учетом часовой ставки в зависимости от уровня службы и уровня производительности для отдельных баз данных или количества единиц eDTU для одного пула эластичных баз данных. Фактическое использование вычисляется и распределяется пропорционально по часам, поэтому в счете могут отображаться части часа. Например, если база данных просуществует в течение 12 часов за месяц, в счете будет показано использование базы данных в течение половины дня. Кроме того, уровни служб, уровень производительности и единицы eDTU для пула разбиваются в счете на отдельные позиции. Это упрощает вычисление количества дней использования базы данных в месяц.

## Что делать, если отдельная база данных активна менее часа или использует более высокий уровень службы менее часа?
Плата взимается за каждый час существования базы данных с учетом самого высокого уровня служб и уровня производительности, которые использовались в течение этого часа, даже если база данных использовалась или была активна менее часа. Например, если вы создадите отдельную базу данных и через 5 минут удалите ее, вам будет выставлен счет за 1 час использования базы данных.

Примеры
	
- Если вы создадите базу данных категории «Базовый», а затем сразу обновите ее до категории «Стандартный» S1, то плата за первый час будет взиматься по ставке «Стандартный» S1.

- Если вы начинаете обновлять базу данных категории «Базовый» до категории «Премиум» в 22:00 и обновление завершается в 01:35 следующего дня, плата взимается по ставке «Премиум» начиная с 01:00.

- Если понижение категории базы данных с «Премиум» до «Базовый» начинается в 11:00 и завершается в 14:15, то плата за базу данных будет взиматься по ставке «Премиум» до 15:00, а после этого — по ставке «Базовый».

## Как в счете отображается использование пула эластичных баз данных и что произойдет, если изменить количество единиц eDTU для пула?
Плата за пул эластичных баз данных отображается в счете как единицы eDTU, увеличиваясь пошагово, как показано в столбце eDTUs per Pool на [странице цен](https://azure.microsoft.com/pricing/details/sql-database/). Плата за пул эластичных баз данных не зависит от количества баз данных. Вы платите за каждый час существования пула с максимальным количеством единиц eDTU. Использование или активность пула менее одного часа оплачивается как один час.

Примеры

- Если вы создадите пул эластичных баз данных категории «Стандартный» с 200 единицами eDTU в 11:18 и добавите в пул пять баз данных, плата будет взиматься за 200 единиц eDTU почасово, начиная с 11:00 и до конца дня.
- На второй день в 05:05 база данных 1 начинает потреблять 50 единиц eDTU, и такой уровень потребления сохраняется весь день. Потребление ресурсов базами данных 2–5 колеблется от 0 до 80 единиц eDTU. В течение дня вы добавляете еще пять баз данных, которые используют изменяющееся количество единиц eDTU. Счет выставляется за полный второй день за 200 единиц eDTU. 
- На третий день в 05:00 вы добавляете еще 15 баз данных. Использование баз данных увеличивается в течение дня, и вы принимаете решение увеличить количество единиц eDTU пула с 200 до 400 в 20:05. Оплата на уровне 200 единиц eDTU действует до 20:00, а за оставшиеся 4 часа взимается плата за 400 единиц eDTU. 

## Как использование георепликации в пуле эластичных баз данных отображается в счете?
В отличие от отдельной базы данных, использование GEO-DR с эластичными базами данных не имеет прямого влияния на выставление счетов. Плата взимается только за единицы eDTU, выделенные для каждого пула (основного и вторичного).

## Как использование функции аудита влияет на мой счет? 
Функция аудита встроена в службу базы данных SQL и доступна для баз данных категорий «Базовый», «Стандартный» и «Премиум». Дополнительная плата за эту функцию не взимается. Однако для хранения журналов аудита эта функция использует учетную запись хранения Azure, поэтому с вас взимается плата с учетом ставок для таблиц и очередей в хранилище Azure в зависимости от размера журнала аудита.

## Как определить правильный уровень службы и уровень производительности для отдельной базы данных и пула эластичных баз данных? 
Доступно несколько средств.

- Для локальных баз данных используйте [помощник по определению размера DTU](http://dtucalculator.azurewebsites.net/), который предложит необходимое количество баз данных и DTU, а также оценит количество баз данных для пулов эластичных баз данных.
- Если отдельную базу данных имеет смысл разместить в пуле, интеллектуальный модуль Azure порекомендует использование пула эластичных баз данных при обнаружении существующей схемы использования, подтверждающей это. Чтобы узнать о работе этой функции, см. раздел [Рекомендуемые пулы эластичных баз данных](sql-database-elastic-pool-portal.md#recommended-elastic-database-pools). Сведения о том, как самостоятельно выполнить расчеты, см. в статье [Вопросы цены и производительности для пула эластичных баз данных](sql-database-elastic-pool-guidance.md).
- Чтобы узнать, нужно ли вам увеличить или уменьшить уровень отдельной базы данных, см. [руководство по производительности для отдельных баз данных](sql-database-performance-guidance.md).

## Как часто можно менять уровень служб или уровень производительности для отдельной базы данных? 
Для баз данных версии 12 уровень служб («Базовый», «Стандартный» или «Премиум») или уровень производительности в пределах уровня служб (например, S1 на S2) можно изменять так часто, как требуется. Для более ранних версий баз данных уровень служб или уровень производительности можно изменить всего четыре раза в течение 24 часов.

##Как часто можно изменять количество eDTU для пула? 
Так часто, как требуется.

## Сколько времени необходимо для изменения уровня службы или уровня производительности отдельной базы данных или для перемещения базы данных в пул эластичных баз данных или из него? 
Для изменения уровня службы базы данных и перемещения ее в пул (или из него) необходимо выполнить копирование базы данных на платформе в фоновом режиме. Эта операция может занять от нескольких минут до нескольких часов в зависимости от размера базы данных. В обоих случаях при перемещении базы данных доступны и остаются в сети. Дополнительные сведения об изменении отдельной базы данных см. в разделе [Изменение уровня службы базы данных](sql-database-scale-up.md). Сведения об эластичных базах данных см. в [справочнике по пулу эластичных баз данных](sql-database-elastic-pool-reference.md#latency-of-elastic-pool-operations).

##Когда нужно использовать отдельную базу данных вместо эластичных баз данных? 
Пулы эластичных баз данных предназначены для типичных схем приложений SaaS (программное обеспечение как услуга), в которых предусмотрена одна база данных на заказчика или клиента. Приобретение отдельных баз данных и избыточное выделение ресурсов, необходимых для переменных и пиковых нагрузок для каждой базы данных, часто неэффективно с экономической точки зрения. При использовании пулов вы управляете общей производительностью пула, а масштаб базы данных увеличивается или уменьшается автоматически.

Интеллектуальный модуль Azure может рекомендовать использование пула для баз данных при обнаружении соответствующей схемы использования. Дополнительные сведения см. в статье [Рекомендуемые пулы эластичных баз данных](sql-database-elastic-pool-portal.md#recommended-elastic-database-pools). Подробные инструкции о выборе отдельной или эластичной базы данных см. в статье [Вопросы цены и производительности для пула эластичных баз данных](sql-database-elastic-pool-guidance.md).

## Что означает получить 200 % максимального подготовленного хранилища базы данных для хранилища службы архивации? 
Хранилище службы архивации связано с автоматическими резервными копиями баз данных, которые используются для восстановления до точки во времени и геовосстановления. База данных SQL Microsoft Azure предоставляет до 200 % бесплатного максимального подготовленного хранилища базы данных для хранилища службы архивации. Например, если у вас есть экземпляр базы данных категории «Стандартный» с подготовленным размером базы данных 250 ГБ, вам предоставят бесплатное хранилище службы архивации объемом 500 ГБ. Если размер базы данных превышает предоставленный объем хранилища службы архивации, можно уменьшить период хранения. Для этого вам необходимо обратиться в службу поддержки Azure или оплатить дополнительный объем хранилища службы архивации по стандартному тарифу для геоизбыточного хранилища с доступом на чтение (RA-GRS). Дополнительную информацию о выставлении счетов за RA-GRS см. в сведениях о ценах на хранилище.

## Я планирую перейти с уровня Web (Business) на новый уровень службы. На что мне нужно обратить внимание?
Использование баз данных SQL Azure Web и Business Edition прекращено. Эта выпуски заменяются уровнями Базовый, Стандартный, Премиум и Эластичный. У нас есть дополнительный раздел с часто задаваемыми вопросами, который поможет вам в течение переходного периода. [Часто задаваемые вопросы по прекращению использования Web и Business Edition](sql-database-web-business-sunset-faq.md)

## Что такое ожидаемая задержка репликации при георепликации базы данных между двумя регионами в пределах одной географической области Azure?  
В настоящее время поддерживается целевая точка восстановления в 5 секунд, и задержка репликации еще меньше этого значения, так как получатель геореплицируемых данных размещается в рекомендованном парном регионе Azure и имеет тот же уровень обслуживания.

## Что такое ожидаемая задержка репликации при создании получателя геореплицируемых данных в том же регионе, что и база данных-источник?  
Согласно эмпирическим данным задержки при репликации внутри регионов и между ними отличаются не слишком сильно, если используется рекомендованный парный регион Azure.

## Как работает логика повтора в случае сбоя сети между двумя регионами, если настроена георепликация?  
В случае отключения сети каждые 10 секунд выполняется попытка установить подключение.

## Что можно сделать, чтобы обеспечить репликацию критически важных изменений в базе данных-источнике?
Получатель геореплицируемых данных — асинхронная реплика, и мы не пытаемся обеспечить ее полную синхронизацию с источником. Но мы предоставляем метод для принудительной синхронизации. Он разработан, чтобы обеспечить репликацию критически важных изменений (например, при обновлении пароля). Он отразится на производительности, так как будет блокировать вызывающий поток, пока все зафиксированные транзакции не будут реплицированы. Дополнительные сведения см. в разделе [sp\_wait\_for\_database\_copy\_sync](https://msdn.microsoft.com/library/dn467644.aspx).

## Какие инструменты доступны для отслеживания задержки репликации между базой данных-источником и получателем геореплицируемых данных?
Задержка репликации между базой данных-источником и получателем геореплицируемых данных в реальном времени отображается в динамическом административном представлении. Дополнительные сведения см. в разделе [sys.dm\_geo\_replication\_link\_status](https://msdn.microsoft.com/library/mt575504.aspx).

<!---HONumber=AcomDC_0302_2016-->