<properties
    pageTitle="База данных SQL Azure — средства работы с эластичными базами данных"
    description="Разработчики программного обеспечения как услуги (SaaS) могут с легкостью создавать эластичные и масштабируемые базы данных в облаке, используя следующие средства"
    services="sql-database"
    documentationCenter=""
    manager="jeffreyg"
    authors="ddove"
    editor=""/>

<tags
    ms.service="sql-database"
    ms.workload="sql-database"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="08/27/2015"
    ms.author="sidneyh"/>

# Общие сведения о возможностях эластичных баз данных

Возможности **эластичных баз данных** позволяют использовать практически неограниченные ресурсы **баз данных SQL Azure** для создания решений для транзакционных рабочих нагрузок и, в частности, приложений SaaS (программное обеспечение как услуга). Возможности эластичных баз данных включают следующее.

* Инструменты эластичных баз данных: эти два инструмента упрощают разработку и управление решениями сегментированных баз данных. К ним относятся [клиентская библиотека эластичных баз данных](sql-database-elastic-database-client-library.md) и [инструмент разбиения и слияния эластичных баз данных](sql-database-elastic-scale-overview-split-and-merge.md). 
* [Пулы эластичных баз данных](sql-database-elastic-pool-guidance.md) (предварительная версия): пул — это набор баз данных, к которому в любое время можно добавить или удалить базы данных. Базы данных в пуле совместно используют фиксированный объем ресурсов (известный как единицы пропускной способности базы данных, или DTU). Оплата ресурсов осуществляется по фиксированной цене, что позволяет легко рассчитать затраты при управлении производительностью. 
* [Задания обработки эластичных баз данных](sql-database-elastic-jobs-overview.md) (предварительная версия): используйте задания для управления большим количеством баз данных Azure SQL. Легко выполняйте административные операции, такие как изменения схемы, управление учетными данными, обновления ссылочных данных, сбор данных о производительности или сбор данных телеметрии клиента (заказчика) с помощью заданий.
* [Запрос к эластичной базе данных](sql-database-elastic-query-overview.md) (предварительная версия): позволяет выполнять запросы Transact-SQL, охватывающие несколько баз данных. Это позволяет подключить средства создания отчетов, например Excel, PowerBI, Tableau и т. д.

На иллюстрации ниже показана архитектура, которая включает **возможности эластичных баз данных** по отношению к коллекции баз данных.

![Инструменты эластичных баз данных][1]

Версия этого рисунка для печати см. в статье [Загрузка обзора эластичной базы данных](http://aka.ms/axmybc).

Цвета баз данных на этой иллюстрации представляют схемы. Базы данных одного цвета используют одинаковые схемы.

1. Набор **баз данных Azure SQL** размещается в Azure с использованием архитектуры сегментирования. 
2. **Клиентская библиотека эластичных баз данных** используется для управления набором сегментов.
3. Подмножество баз данных помещается в **пул эластичных баз данных**. (См. статью [Смягчение всплесков потребления ресурсов с помощью эластичных баз данных](sql-database-elastic-pool.md).) 
4. **Задание обработки эластичных баз данных** запускает сценарии T-SQL для всех баз данных.
5. **Служба разбиения на части и объединения** используется для перемещения данных из одного сегмента в другой.
6. **Запрос к эластичной базе данных** позволяет создать запрос, который охватывает все базы данных в наборе сегментов.
  
## Перспективы и трудности

Для вычислений и хранения больших двоичных объектов эластичность и масштабирование легко реализуются путем простого добавления или удаления вычислительных единиц. Однако для обработки данных в реляционных базах данных с отслеживанием состояния их реализация по-прежнему представляет сложности. Мы выяснили, что эти проблемы наиболее ярко проявляются в двух следующих случаях.

* Увеличение и уменьшение производительности реляционной базы данных как части рабочей нагрузки решения.
* Управление хот-спотами при влиянии на конкретное подмножество данных, например особенно загруженный конечный пользователь (клиент).

В большинстве случаев такие сценарии решаются путем приобретения дополнительных серверов баз данных для поддержки приложения. Тем не менее реализация этого варианта ограничена облаком, в котором вся обработка выполняется на предустановленном стандартном оборудовании. Использование вместо этого распределения и обработки данных в нескольких идентично структурированных базах данных (метод масштабирования, известный как сегментирование) является убедительной альтернативой традиционным подходам к масштабированию с точки зрения затрат и гибкости.

## Горизонтальное и вертикальное масштабирование

На рисунке ниже показаны горизонтальные и вертикальные измерения масштабирования, которые представляют собой базовые способы масштабирования эластичных баз данных.

![Горизонтальное и вертикальное масштабирование][2]

Горизонтальное масштабирование означает добавление или удаление баз данных для настройки емкости или общей производительности. Оно также называется "расширением". Сегментирование, в которым данные разделяются по набору идентично структурированных баз данных, является наиболее распространенным методом горизонтального масштабирования.

Вертикальное масштабирование означает увеличение или уменьшение уровня производительности отдельной базы данных. Оно также называется "увеличением масштаба".

В большей части баз данных облачных приложений для масштабирования будет использоваться сочетание этих двух стратегий. Например, приложение "программное обеспечение как сервис" может использовать горизонтальное масштабирование для подготовки новых конечных пользователей и вертикальное масштабирование для увеличения или уменьшения ресурсов базы данных каждого конечного клиента, согласно требованиям рабочей нагрузки.

* Для управления горизонтальным масштабированием используется [клиентская библиотека эластичных баз данных](sql-database-elastic-client-overview.md).

* Вертикальное масштабирование осуществляется с помощью командлетов Azure PowerShell для изменения уровня обслуживания или путем помещения баз данных в пул эластичных баз данных.

## Однопользовательский и многопользовательский шаблоны

*Сегментирование* — это методика распределения больших объемов данных с одинаковой структурой по множеству независимых баз данных. Она пользуется особенной популярностью среди разработчиков облачных технологий при создании для конечных пользователей и предприятий SAAS-решений. Эти конечные пользователи часто называются "клиентами". Сегментирование может потребоваться по ряду причин:

* общий объем данных слишком велик для размещения в пределах отдельной базы данных;
* пропускная способность транзакций общей рабочей нагрузки превышает возможности отдельной базы данных;
* клиентам может потребоваться физическая изоляция друг от друга, для чего требуются отдельные базы данных для каждого клиента;
* разные части базы данных могут размещаться в разных регионах по соображениям соответствия требованиям законодательства, производительности или по геополитическим причинам.

В других сценариях, например в приеме данных из распределенных устройств, сегментирование может использоваться для заполнения набора баз данных по временному признаку. Например, отдельная база данных может выделяться под каждый день или неделю. В этом случае ключом сегментирования может быть целое число, представляющее дату (присутствующую во всех строках сегментированных таблиц), а запросы получения информации о диапазоне дат должны передаваться приложением в подмножество баз данных, которые покрывают рассматриваемый диапазон.

Сегментирование лучше всего работает, когда каждая транзакция в приложении может ограничиваться одним значением ключа сегментирования. Это гарантирует, что все транзакции будут осуществляться в пределах отдельной базы данных.

Некоторые приложения используют простой способ создания отдельной базы данных для каждого клиента. Это **шаблон сегментирования для одного клиента**, который предоставляет возможность изолирования, архивации и восстановления, а также масштабирования ресурсов согласно детализации клиента. Благодаря сегментированию для одного клиента каждая база данных привязывается к отдельному идентификатору клиента (или значению ключа клиента), но этот ключ не должен постоянно присутствовать в самих данных. За направление каждого запроса к соответствующей базе данных отвечает само приложение, а клиентская библиотека эластичных баз данных может упростить этот процесс.

![Сравнение многопользовательских версий одного клиента][4]

Другие сценарии объединяют несколько клиентов вместе в базах данных вместо изолирования их в отдельных базах данных. Это типовой **шаблон сегментирования для нескольких клиентов**; он может использоваться при обработке приложением большого числа очень маленьких клиентов. При сегментировании на несколько клиентов строки таблиц базы данных спроектированы для хранения ключа, идентифицирующего пользователя, или ключа сегментирования. Кроме того, уровень приложения отвечает за направление запроса клиента к соответствующей базе данных, что поддерживается клиентской библиотекой эластичной базы данных. Кроме того, для ограничения строк, доступных для каждого клиента, можно воспользоваться безопасностью на уровне строк — дополнительную информацию см. в разделе [Мультитенантные приложения со средствами эластичных баз данных и безопасностью на уровне строк](sql-database-elastic-tools-multi-tenant-row-level-security.md). Перераспределение данных между базами данных может потребоваться при использовании шаблона многопользовательского сегментирования и обеспечивается службой разбиения и объединения эластичной базы данных.

### Перемещение данных из многопользовательских баз данных в однопользовательскую базу данных
При создании приложения SaaS потенциальным клиентам обычно предлагается пробная версия программного обеспечения. В этом случае для хранения данных экономически выгодно использовать многопользовательскую базу данных. Однако, когда потенциальный клиент становится реальным, предпочтительнее однопользовательская база данных, так как она обеспечивает лучшую производительность. Если клиент создал данные в течение пробного периода, используйте [службу разбиения на части и объединения](sql-database-elastic-scale-overview-split-and-merge) для перемещения данных из базы данных с несколькими клиентами в новую базу данных с одним клиентом.

## Дальнейшие действия

Образец приложения, демонстрирующий клиентскую библиотеку, приведен в разделе [Приступая к работе с инструментами эластичных баз данных](sql-database-elastic-scale-get-started.md).

Для использования инструмента разбиения и объединения необходимо [настроить параметры безопасности](sql-database-elastic-scale-split-merge-security-configuration,md).

Сведения об особенностях пула эластичных баз данных см. в статье [Вопросы цены и производительности для пула эластичных баз данных](sql-database-elastic-pool-guidance.md) или воспользуйтесь [руководством](sql-database-elastic-pool-portal.md) по созданию нового пула.

[AZURE.INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

### Отправьте нам свои отзывы.
Что, по вашему мнению, мы можем улучшить? Понятно ли вам описание функции, предоставленное в этом разделе? Или какая-то его часть приводит вас в замешательство? Мы стремимся с каждым днем становиться лучше. Пожалуйста, оцените нас с помощью кнопок голосования и укажите на наши недостатки (или достоинства). Если вы хотите, чтобы мы связались с вами, укажите в отзыве свой адрес электронной почты.


<!--Anchors-->
<!--Image references-->
[1]: ./media/sql-database-elastic-scale-introduction/tools.png
[2]: ./media/sql-database-elastic-scale-introduction/h_versus_vert.png
[3]: ./media/sql-database-elastic-scale-introduction/overview.png
[4]: ./media/sql-database-elastic-scale-introduction/single_v_multi_tenant.png

<!---HONumber=Sept15_HO2-->