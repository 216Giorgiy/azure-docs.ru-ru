<properties
    pageTitle="Мониторинг пула эластичных баз данных и управление им на портале Azure | Microsoft Azure"
    description="Узнайте, как использовать портал Azure и встроенную аналитику базу данных SQL для управления, отслеживания и выбора нужного размера для масштабируемого пула эластичных баз данных с целью оптимизации производительности базы данных и управления расходами."
    keywords=""
    services="sql-database"
    documentationCenter=""
    authors="ninarn"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="sql-database"
    ms.devlang="NA"
    ms.date="09/22/2016"
    ms.author="ninarn"
    ms.workload="data-management"
    ms.topic="article"
    ms.tgt_pltfrm="NA"/>



# <a name="monitor-and-manage-an-elastic-database-pool-with-the-azure-portal"></a>Мониторинг пула эластичных баз данных и управление им на портале Azure

> [AZURE.SELECTOR]
- [Портал Azure](sql-database-elastic-pool-manage-portal.md)
- [PowerShell](sql-database-elastic-pool-manage-powershell.md)
- [C#](sql-database-elastic-pool-manage-csharp.md)
- [T-SQL](sql-database-elastic-pool-manage-tsql.md)


Портал Azure можно использовать для мониторинга пула эластичных баз данных и баз данных в пуле, а также управления ими. На портале можно отслеживать использование эластичного пула и баз данных в этом пуле. Можно также внести ряд изменений в эластичный пул и отправить все изменения одновременно. К таким изменениям относятся добавление или удаление баз данных, изменение параметров эластичного пула и изменение параметров базы данных.

Ниже показан пример эластичного пула. Представление включает в себя следующие компоненты.

*  Диаграммы для мониторинга использования ресурсов эластичного пула и содержащихся в нем баз данных.
*  Кнопка пула **Настроить** для внесения изменений в эластичный пул.
*  Кнопка **Создать базу данных** , которая создает базу данных и добавляет ее в текущий эластичный пул.
*  Задания обработки эластичных БД, которые помогают управлять большим количеством баз данных, запуская скрипты Transact SQL для всех баз данных в списке.

![Представление пула][2]

Для выполнения действий, описанных в данной статье, потребуется сервер SQL в Azure с как минимум одной базой данных и эластичным пулом. Если у вас нет пула эластичных БД, см. статью о [создании пула](sql-database-elastic-pool-create-portal.md); если у вас нет базы данных, см. [Руководство по базам данных SQL](sql-database-get-started.md).

## <a name="elastic-pool-monitoring"></a>Мониторинг эластичного пула

Можно перейти к определенному пулу, чтобы просмотреть использование его ресурсов. По умолчанию для пула настроено отображение использования хранилища и eDTU за последний час. Диаграмму можно настроить для отображения разных показателей за разные периоды времени.

1. Выберите пул для работы.
2. В разделе **Мониторинг пула эластичных БД** есть диаграмма **Использование ресурсов**. Щелкните эту диаграмму.

    ![Мониторинг эластичного пула][3]

    Откроется колонка **Метрика** , в которой отображается подробное представление указанных метрик в течение указанного периода времени.   

    ![Выноска "Метрика"][9]

### <a name="to-customize-the-chart-display"></a>Настройка внешнего вида диаграммы

Можно отредактировать диаграмму и колонку метрики для отображения других метрик, включая процент использования ЦП, процент операций ввода-вывода данных и операций ввода-вывода журнала.

2. В колонке метрики щелкните **Изменить**.

    ![Щелкните "Изменить".][6]

- В колонке **Изменение диаграммы** выберите новый диапазон времени (последний час, текущий день или прошлую неделю) или нажмите кнопку **Пользовательский**, чтобы выбрать любой диапазон времени в пределах прошедших двух недель. Выберите тип диаграммы (линейчатая или график), а затем выберите ресурсы для мониторинга.

> Примечание. Диаграмма может одновременно показывать несколько метрик с одинаковыми единицами измерения. Например, если вы выберете "Процент eDTU", дополнительно можно будет выбрать только те метрики, которые измеряются в процентах.

    ![Click edit](./media/sql-database-elastic-pool-manage-portal/edit-chart.png)

- Нажмите кнопку **ОК**.


## <a name="elastic-database-monitoring"></a>Мониторинг эластичных баз данных

Отдельные базы данных также можно отслеживать на наличие потенциальных проблем.

1. В разделе **Мониторинг эластичных баз данных**есть диаграмма, на которой отображаются метрики для пяти баз данных. По умолчанию на диаграмме отображаются пять основных баз данных в пуле по среднему использованию eDTU за последний час. Щелкните эту диаграмму.

    ![Мониторинг эластичного пула][4]

2. Появится колонка **Использование ресурсов базы данных**. В ней отображается подробное представление использования баз данных в пуле. Сетка в нижней части колонки позволяет выбрать одну или несколько любых баз данных в пуле, чтобы отобразить их использование на диаграмме (до пяти баз данных). Вы можете также настроить метрики и окно времени, отображаемые на диаграмме. Для этого щелкните **Изменить диаграмму**.

    ![Колонка "Использование ресурсов баз данных"][8]

### <a name="to-customize-the-view"></a>Настройка представления

1. В колонке **Использование ресурсов базы данных** щелкните **Изменить диаграмму**.

    ![Элемент управления "Изменение диаграммы"](./media/sql-database-elastic-pool-manage-portal/db-utilization-blade.png)

2. В колонке **Изменение диаграммы** выберите новый диапазон времени (последний час или последние сутки) или нажмите кнопку **Пользовательский**, чтобы выбрать другой день в пределах последних двух недель.

    ![Элемент управления "Пользовательский"](./media/sql-database-elastic-pool-manage-portal/editchart-date-time.png)

3. Щелкните раскрывающийся список **Сравнить базы данных по** , чтобы выбрать другую метрику для использования при сравнении баз данных.

    ![Изменение диаграммы](./media/sql-database-elastic-pool-manage-portal/edit-comparison-metric.png)

### <a name="to-select-databases-to-monitor"></a>Выбор баз данных для мониторинга

В списке баз данных в колонке **Использование ресурсов баз данных** можно найти определенные БД, просматривая страницы списка или вводя имя базы данных. Установите флажок, чтобы выбрать нужную базу данных.

![Поиск баз данных для мониторинга][7]


## <a name="add-an-alert-to-a-pool-resource"></a>Добавление оповещения в пул ресурсов

В ресурсы можно добавить правила для отправки сообщений электронной почты конкретным людям или строк оповещений в конечные точки URL-адресов, когда ресурс достигает заданного порогового значения использования.

> [AZURE.IMPORTANT]В данных мониторинга использования ресурсов в пулах эластичных БД присутствует задержка порядка 20 минут. Настройка периода менее 30 минут для оповещений о пулах эластичных БД в данный момент не поддерживается. Какие-либо оповещения, заданные для пулов эластичных БД, с периодом (параметр -WindowSize в API PowerShell) менее 30 минут, могут быть не активированы. Убедитесь, что все оповещения, определяемые для пулов эластичных БД, используют период (WindowSize) не менее 30 минут.

**Добавление оповещения в ресурс.**

1. Щелкните диаграмму **Использование ресурсов**, чтобы открыть колонку **Метрика**, нажмите кнопку **Добавить оповещение**, а затем введите сведения в колонке **Добавление правила оповещения** (в качестве **Ресурса** автоматически устанавливается используемый пул).
2. Введите **имя** и **описание** оповещения для вас и получателей.
3. Из списка выберите **метрику** для оповещения.

    На диаграмме динамически отображается использование ресурсов для этой метрики, на основе которых вы можете выбрать пороговое значение.

4. Выберите **Условие** (больше, меньше и т. д.) и **Пороговое значение**.
5. Нажмите кнопку **ОК**.



## <a name="move-a-database-into-an-elastic-pool"></a>Перемещение базы данных в пул эластичных БД

Вы можете добавить или удалить базы данных из существующего пула. Базы данных могут находиться в других пулах. Однако добавлять можно только базы данных, которые находятся на одном логическом сервере.

1. В колонке пула в разделе **Эластичные базы данных** щелкните **Настроить пул**.

    ![Щелкните "Настроить пул".][1]

2. В колонке **Настройка пула** щелкните **Добавить пул**.

    ![Щелкните "Добавить в пул".](./media/sql-database-elastic-pool-manage-portal/add-to-pool.png)


3. В колонке **Добавление базы данных** выберите базы данных для добавления в пул. Затем щелкните **Выбрать**.

    ![Выберите добавляемые базы данных.](./media/sql-database-elastic-pool-manage-portal/add-databases-pool.png)

    Теперь в колонке **Настройка пула** отображается только что выбранная для добавления база данных с состоянием **Ожидание**.

    ![Добавление в пул в состоянии ожидания.](./media/sql-database-elastic-pool-manage-portal/pending-additions.png)

3. В колонке **Настройка пула** щелкните **Сохранить**.

    ![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

## <a name="move-a-database-out-of-an-elastic-pool"></a>Перемещение базы данных из пула эластичных БД

1. В колонке **Настройка пула** выберите базы данных для удаления.

    ![список баз данных](./media/sql-database-elastic-pool-manage-portal/select-pools-removal.png)

2. Щелкните **Удалить из пула**.

    ![список баз данных](./media/sql-database-elastic-pool-manage-portal/click-remove.png)

    Теперь в колонке **Настройка пула** отображается только что выбранная для удаления база данных с состоянием **Ожидание**.

    ![Просмотр результата добавления и удаления базы данных](./media/sql-database-elastic-pool-manage-portal/pending-removal.png)

3. В колонке **Настройка пула** щелкните **Сохранить**.

    ![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

## <a name="change-performance-settings-of-a-pool"></a>Изменение параметров производительности пула

По мере отслеживания использования ресурсов пула может оказаться, что требуются дополнительные корректировки. Возможно, для пула потребуется изменить ограничения на производительность или хранение. Может возникнуть необходимость изменить параметры баз данных в пуле. Чтобы добиться оптимального баланса производительности и стоимости, настройку пула можно изменить в любое время. Дополнительные сведения см. в статье [Когда следует использовать пул эластичных баз данных?](sql-database-elastic-pool-guidance.md)

**Изменение числа eDTU или ограничений хранения на пул, а также числа eDTU на базу данных**

1. Откройте колонку **Настройка пула** .

    В разделе **Параметры эластичного пула баз данных**с помощью любого ползунка измените параметры пула.

    ![Использование ресурсов пула эластичных БД](./media/sql-database-elastic-pool-manage-portal/resize-pool.png)

2. При изменении параметров на экране отобразятся предполагаемые ежемесячные расходы на изменение.

    ![Обновление пула и новые ежемесячные затраты](./media/sql-database-elastic-pool-manage-portal/pool-change-edtu.png)


## <a name="create-and-manage-elastic-jobs"></a>Создание эластичных заданий и управление ими

Эластичные задания позволяют выполнять скрипты Transact-SQL в любом количестве баз данных в пуле. Вы можете создавать новые задания или управлять существующими заданиями с помощью портала.

![Создание эластичных заданий и управление ими][5]


Прежде чем использовать задания, установите компоненты эластичных заданий и укажите свои учетные данные. Дополнительные сведения можно узнать в статье [Обзор службы заданий эластичной базы данных](sql-database-elastic-jobs-overview.md).

Ознакомьтесь с разделом [Масштабирование базы данных SQL Azure](sql-database-elastic-scale-introduction.md). В нем описывается использование инструментов эластичной базы данных для масштабирования, перемещения данных, выполнения запросов и создания транзакций.



## <a name="additional-resources"></a>Дополнительные ресурсы

- [Эластичный пул баз данных SQL](sql-database-elastic-pool.md)
- [Создание пула эластичных баз данных на портале](sql-database-elastic-pool-create-csharp.md)
- [Создание пула эластичных баз данных с помощью PowerShell](sql-database-elastic-pool-create-powershell.md)
- [Создание пула эластичных баз данных с помощью C#](sql-database-elastic-pool-create-csharp.md)
- [Вопросы цен и производительности для пулов эластичных баз данных](sql-database-elastic-pool-guidance.md)


<!--Image references-->
[1]: ./media/sql-database-elastic-pool-manage-portal/configure-pool.png
[2]: ./media/sql-database-elastic-pool-manage-portal/basic.png
[3]: ./media/sql-database-elastic-pool-manage-portal/basic-2.png
[4]: ./media/sql-database-elastic-pool-manage-portal/basic-3.png
[5]: ./media/sql-database-elastic-pool-manage-portal/elastic-jobs.png
[6]: ./media/sql-database-elastic-pool-manage-portal/edit-metric.png
[7]: ./media/sql-database-elastic-pool-manage-portal/select-dbs.png
[8]: ./media/sql-database-elastic-pool-manage-portal/db-utilization.png
[9]: ./media/sql-database-elastic-pool-manage-portal/metric.png



<!--HONumber=Oct16_HO2-->


