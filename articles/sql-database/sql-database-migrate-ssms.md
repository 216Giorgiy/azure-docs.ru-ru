<properties
   pageTitle="Миграция в Базу данных SQL с помощью среды SSMS"
   description="База данных SQL Microsoft Azure, перенос базы данных sql, перенос с помощью среды ssms"
   services="sql-database"
   documentationCenter=""
   authors="pehteh"
   manager="jeffreyg"
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-management"
   ms.date="04/14/2015"
   ms.author="pehteh"/>

#Миграция совместимой базы данных с помощью среды SSMS 

![замещающий текст](./media/sql-database-migrate-ssms/01SSMSDiagram.png)

Если схема базы данных уже совместима с Базой данных SQL Azure, то выполнить миграцию не составит труда. Поскольку преобразование не требуется, для миграции базы данных достаточно лишь импортировать ее в Azure. Это можно сделать за один шаг с помощью среды SSMS путем "развертывания" базы данных в Базе данных SQL Azure либо в два этапа — сначала экспортировать BACPAC, а затем импортировать его на сервер Базы данных SQL Azure для создания новой базы данных.

Экспортированный BACPAC можно отправить в хранилище Azure и импортировать его на портале. Импорт через облако позволяет уменьшить задержку на этапе импорта, а также улучшить эффективность и надежность миграции больших баз данных.

При развертывании непосредственно из среды SSMS всегда выполняется развертывание и схемы, и данных, тогда как при экспорте и импорте всегда развертывается схема и предлагается возможность развернуть данные из всех таблиц или только из подмножества таблиц. Как при развертывании с помощью SSMS, так и при экспорте с последующим импортом из SSMS (или в дальнейшем на портал) используется одна и та же технология DAC, поэтому итоговый результат в обоих случаях будет одинаковым.

Этот вариант также используется в качестве последнего этапа в третьем варианте переноса баз данных после обновления для обеспечения совместимости с Базой данных SQL Azure.

##Развертывание в Базе данных SQL Azure с помощью SSMS
1.	Подготовьте сервер на портале Azure, как описано в статье, посвященной созданию целевого сервера для перенесенной базы данных.
2. Найдите базу данных-источник в обозревателе объектов SSMS и выполните задачу **Развернуть базу данных в Базу данных SQL Microsoft Azure**.

	![замещающий текст](./media/sql-database-migrate-ssms/02MigrateusingSSMS.png)

3.	В мастере развертывания настройте подключение к целевому серверу Базы данных SQL Azure, который был указан на этапе подготовки.
4.	Укажите **имя** базы данных, а также **выпуск** (уровень служб) и **цель обслуживания** (уровень производительности). Дополнительные сведения о настройке этих параметров см. в статье "Выбор уровня производительности или ценовой категории базы данных". 

	![замещающий текст](./media/sql-database-migrate-ssms/03MigrateusingSSMS.png)

5.	Выполните все действия в мастере, чтобы завершить перенос базы данных. В зависимости от размера и сложности базы данных процесс развертывания может занять от нескольких минут до нескольких часов. При возникновении ошибок, которые указывают на несовместимость схемы базы данных с Базой данных SQL, воспользуйтесь другим вариантом.
##Экспорт BACPAC и его последующий импорт в Базу данных SQL с помощью среды SSMS
Процесс развертывания можно разделить на два этапа: экспорт и импорт. На первом этапе создается файл BACPAC, который в последствии используется в качестве входных данных на втором этапе.

1.	Подготовьте сервер с помощью последнего обновления Базы данных SQL, как описано в статье, посвященной созданию целевого сервера для перенесенной базы данных.
2.	Найдите базу данных-источник в обозревателе объектов SSMS и выберите задачу **Развернуть базу данных в Базу данных SQL Microsoft Azure**.

	![замещающий текст](./media/sql-database-migrate-ssms/04MigrateusingSSMS.png)

3. В мастере экспорта укажите сохранение файла BACPAC на локальном компьютере. Экспортированный файл BACPAC всегда содержит полную схему базы данных и по умолчанию данные из всех таблиц. Воспользуйтесь вкладкой "Дополнительно", если необходимо исключить данные из некоторых или всех таблиц. Например, можно экспортировать только данные для ссылочных таблиц.
	>[AZURE.NOTE]Примечание: поскольку портал управления Azure теперь поддерживает импорт, который выполняется в Azure, экспортированный файл BACPAC можно сохранить в хранилище Azure и выполнить импорт в облаке.

	![замещающий текст](./media/sql-database-migrate-ssms/05MigrateusingSSMS.png)

4.	После создания файла BACPAC подключитесь к серверу, созданному на этапе 1, щелкните правой кнопкой мыши папку "Базы данных" и выберите команду "Импорт приложения уровня данных".

	![замещающий текст](./media/sql-database-migrate-ssms/06MigrateusingSSMS.png)

5.	В мастере импорта выберите файл BACPAC-файл, который вы экспортировали, для создания новой базы данных в Базе данных SQL Azure.

	![замещающий текст](./media/sql-database-migrate-ssms/07MigrateusingSSMS.png)

6.	Укажите имя базы данных, а также выпуск (уровень служб) и цель обслуживания (уровень производительности).
	 
7.	Следуйте указаниям мастера для импорта файла BACPAC и создания базы данных в Базе данных SQL Azure.

	![замещающий текст](./media/sql-database-migrate-ssms/08MigrateusingSSMS.png)
 
##Альтернативные варианты
Для развертывания базы данных или экспорта и импорта BACPAC также можно воспользоваться служебной программой командной строки sqlpackage.exe. Sqlpackage.exe использует ту же технологию DAC, что и среда SSMS, поэтому результат будет одинаковым. Дополнительную информацию см. [здесь](https://msdn.microsoft.com/library/hh550080.aspx).

<!---HONumber=58--> 