---
title: "Восстановление отдельной таблицы в резервной копии базы данных SQL Azure | Документация Майкрософт"
description: "Инструкции по восстановлению отдельной таблицы в резервной копии базы данных SQL Azure."
services: sql-database
documentationcenter: 
author: dalechen
manager: felixwu
editor: 
ms.assetid: 340b41bd-9df8-47fb-adfc-03216de38a5e
ms.service: sql-database
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/31/2016
ms.author: daleche
translationtype: Human Translation
ms.sourcegitcommit: 219dcbfdca145bedb570eb9ef747ee00cc0342eb
ms.openlocfilehash: f792ad3da0037c55a41e50710cedcbcdf8ef0d74


---
# <a name="how-to-restore-a-single-table-from-an-azure-sql-database-backup"></a>Как восстановить отдельную таблицу из резервной копии базы данных SQL Azure
Бывает, что пользователь случайно изменил данные в базе данных SQL и хочет восстановить отдельную таблицу, в которой произошли изменения. В этой статье описывается, как восстановить отдельную таблицу в базе данных из одной из [создаваемых автоматически резервных копий](sql-database-automated-backups.md)Базы данных SQL.

## <a name="preparation-steps-rename-the-table-and-restore-a-copy-of-the-database"></a>Подготовка: переименование таблицы и восстановление копии базы данных
1. Найдите в базе данных SQL Azure таблицу, которую нужно заменить на восстановленную. Переименуйте таблицу с помощью Microsoft SQL Management Studio. Например, присвойте ей имя вида &lt;имя_таблицы&gt;_old.
   
    **Примечание.** Чтобы избежать блокировки, убедитесь, что в переименовываемой таблице не выполняются никакие действия. Если возникают какие-либо проблемы, выполняйте это действие в период обслуживания.
2. Восстановите резервную копию базы данных на желаемый момент времени, выполнив инструкции по [восстановлению до точки во времени](sql-database-recovery-using-backups.md#point-in-time-restore).
   
    **Примечания**
   
   * Имя восстановленной базы данных будет иметь формат "Имя_базы_данных+метка_времени", например **Adventureworks2012_2016-01-01T22-12Z**. При этом имя базы данных на сервере на перезаписывается. Эта мера безопасности предназначена для того, чтобы пользователь мог проверить восстановленную базу данных, прежде чем он удалит текущую и переименует восстановленную базу данных для использования в рабочей среде.
   * Служба автоматически создает резервные копии на всех уровнях обслуживания, от Basic до Premium. Отличаются только параметры хранения резервных копий.

| Восстановление базы данных | Уровень Basic | Уровень Standard | Уровень Premium |
|:--- |:--- |:--- |:--- |
| Восстановление на момент времени |Все точки восстановления в течение 7 дней |Все точки восстановления в течение 35 дней |Все точки восстановления в течение 35 дней |

## <a name="copying-the-table-from-the-restored-database-by-using-the-sql-database-migration-tool"></a>Копирование таблицы из восстановленной базы данных с помощью средства миграции баз данных SQL
1. Скачайте и установите [мастер миграции баз данных SQL](https://sqlazuremw.codeplex.com).
2. Откройте мастер миграции базы данных SQL. На странице **Выбор процесса** выберите **Database under Analyze/Migrate** (База данных для анализа или миграции) и нажмите кнопку **Далее**.
   ![Мастер миграции баз данных SQL — выбор процесса](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/1.png)
3. В диалоговом окне **Подключение к серверу** введите следующие параметры.
   * **Имя сервера**: ваш экземпляр SQL Azure.
   * **проверка подлинности:** **проверка подлинности SQL Server**; Введите свои учетные данные.
   * **база данных:** **база данных master (список всех баз данных)**.
   * **Примечание.** По умолчанию мастер сохраняет учетные данные. Если этого не нужно делать, установите флажок **Forget Login Information** (Не запоминать учетные данные).
     ![Мастер миграции баз данных SQL — выбор источника, шаг 1](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/2.png)
4. В диалоговом окне **Выбор источника** выберите имя восстанавливаемой базы данных в разделе **Preparation steps** (Подготовка) и нажмите кнопку **Далее**.
   
    ![Мастер миграции баз данных SQL — выбор источника, шаг 2](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/3.png)
5. В диалоговом окне **Выбор объектов** выберите параметр **Выбрать отдельные объекты базы данных**, а затем таблицы, которые нужно перенести на целевой сервер.
   ![Мастер миграции баз данных SQL — выбор объектов](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/4.png)
6. На странице **Сводка мастера скриптов** нажмите кнопку **Да** в запросе о том, готовы ли вы создать сценарий SQL. Сценарий TSQL можно также сохранить для последующего использования.
   ![Мастер миграции баз данных SQL — сводка мастера сценариев](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/5.png)
7. На странице **Results Summary** (Сводка по результатам) нажмите кнопку **Далее**.
   ![Мастер миграции баз данных SQL — сводка результатов](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/6.png)
8. На странице **Setup Target Server Connection** (Настройка подключения к целевому серверу) щелкните **Соединение с сервером** и введите следующие данные:
   
   * **Имя сервера**: экземпляр целевого сервера.
   * **проверка подлинности:** **проверка подлинности SQL Server**. Введите свои учетные данные.
   * **база данных:** **база данных master (список всех баз данных)**. Этот параметр выводит список всех баз данных на целевом сервере.
     
     ![Мастер миграции баз данных SQL — настройка подключения к целевому серверу](./media/sql-database-cloud-migrate-restore-single-table-azure-backup/7.png)
9. Нажмите кнопку **Подключиться**, выберите базу данных, в которую нужно перенести таблицу, и нажмите кнопку **Далее**. Выполнение созданного ранее сценария будет завершено, а перенесенная таблица появится в целевой базе данных.

## <a name="verification-step"></a>Проверка
1. Запросите и протестируйте скопированную таблицу и убедитесь в том, что данные не пострадали. После этого удалите переименованную таблицу из раздела **Preparation steps** (Подготовка). (Например, &lt;имя таблицы&gt;_old.)

## <a name="next-steps"></a>Дальнейшие действия
[Общие сведения об автоматическом резервном копировании базы данных SQL](sql-database-automated-backups.md)




<!--HONumber=Nov16_HO3-->


