---
title: 'Портал Azure: создание правила брандмауэра для Базы данных SQL | Документация Майкрософт'
description: Создание правила брандмауэра на уровне сервера для Базы данных SQL
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: quickstart
author: sachinpMSFT
ms.author: sachinp
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 01/25/2019
ms.openlocfilehash: 589d3fa8c0ee8c8f374cd4f34f17401caa46d265
ms.sourcegitcommit: 698a3d3c7e0cc48f784a7e8f081928888712f34b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2019
ms.locfileid: "55462262"
---
# <a name="quickstart-create-a-server-level-firewall-rule-for-your-sql-database-using-the-azure-portal"></a>Краткое руководство. Создание правила брандмауэра на уровне сервера для базы данных SQL с помощью портала Azure

В этом кратком руководстве описано создание правила брандмауэра на уровне сервера для базы данных SQL Azure, чтобы получить возможность подключаться к ней с локального ресурса.

## <a name="prerequisites"></a>Предварительные требования

В этом кратком руководстве в качестве начальной точки используются ресурсы, созданные в [этой статье](sql-database-get-started-portal.md).

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Войдите на [портале Azure](https://portal.azure.com/).

## <a name="create-a-server-level-firewall-rule"></a>создадим правило брандмауэра на уровне сервера;

Служба База данных SQL создает брандмауэр на уровне сервера. Если вы не создадите правило брандмауэра для открытия брандмауэра, этот брандмауэр не позволит приложениям и инструментам подключится к серверу или любым базам данных сервера. Для подключения с IP-адреса за пределами Azure создайте правило брандмауэра для конкретного IP-адреса или диапазона адресов. Дополнительные сведения о правилах брандмауэра см. в статье [Правила брандмауэра службы "База данных SQL Azure" и "Хранилище данных SQL"](sql-database-firewall-configure.md).

> [!NOTE]
> База данных SQL обменивается данными через порт 1433. Если вы пытаетесь подключиться из корпоративной сети, то сетевой брандмауэр может запретить исходящий трафик через порт 1433. В таком случае вы не сможете подключиться к серверу Базы данных SQL Azure, пока ваш ИТ-отдел не откроет порт 1433.
>

Выполните следующие действия, чтобы создать правило брандмауэра уровня сервера Базы данных SQL для IP-адреса вашего клиента и разрешить внешнее подключение через брандмауэр Базы данных SQL только с вашего IP-адреса.

1. По завершении развертывания [Предварительных требований к базе данных SQL Azure](#prerequisites) в меню слева щелкните раздел **Базы данных SQL**, а затем выберите **mySampleDatabase** на странице **Базы данных SQL**. После этого откроется страница обзора базы данных, где будет указано полное имя сервера (например, **mynewserver-20170824.database.windows.net**) и предоставлены параметры для дальнейшей настройки.

2. Скопируйте полное имя сервера, которое понадобится вам при роботе с последующими руководствами для подключения к серверу и связанным базам данных.

   ![Имя сервера](./media/sql-database-get-started-portal/server-name.png)

3. На панели инструментов щелкните **Настройка брандмауэра для сервера**. Откроется страница **параметров брандмауэра** для сервера базы данных SQL.

   ![правило брандмауэра для сервера](./media/sql-database-get-started-portal/server-firewall-rule.png)

4. На панели инструментов выберите **Добавить IP-адрес клиента**, чтобы добавить текущий IP-адрес в новое правило брандмауэра. С использованием правила брандмауэра можно открыть порт 1433 для одного IP-адреса или диапазона IP-адресов.

   > [!IMPORTANT]
   > По умолчанию доступ через брандмауэр базы данных SQL включен для всех служб Azure. На этой странице щелкните **ВЫКЛ**, чтобы отключить доступ для всех служб Azure.
   >

5. Щелкните **Сохранить**. Для текущего IP-адреса будет создано правило брандмауэра на уровне сервера, с помощью которого можно открыть порт 1433 сервера Базы данных SQL.

6. Закройте страницу **Параметры брандмауэра**.

Теперь можно подключиться с этого IP-адреса к серверу Базы данных SQL и его базам данных с помощью SQL Server Management Studio или другого средства по своему усмотрению, используя учетную запись администратора сервера, созданную ранее.

## <a name="clean-up-resources"></a>Очистка ресурсов

Сохраните эти ресурсы, если вы планируете перейти к [дальнейшим действиям](#next-steps) и узнать о различных методах подключения к базе данных и отправки запросов к ней. Если вы все-таки решите удалить ресурсы, созданные в этом кратком руководстве, выполните следующие действия.

1. На портале Azure в меню слева щелкните **Группы ресурсов**, а затем выберите **myResourceGroup**.
2. На странице группы ресурсов щелкните **Удалить**, в текстовом поле введите **myResourceGroup** и выберите **Удалить**.

## <a name="next-steps"></a>Дополнительная информация

- Теперь, когда у вас есть база данных, вы можете [подключиться и создать запрос](sql-database-connect-query.md), используя одно из привычных средств или языков, в том числе
  - [подключиться и создать запрос с помощью SQL Server Management Studio](sql-database-connect-query-ssms.md);
  - [подключиться и создать запрос с помощью Azure Data Studio](https://docs.microsoft.com/sql/azure-data-studio/quickstart-sql-database?toc=/azure/sql-database/toc.json).
- Научитесь разрабатывать базы данных, создавать таблицы и вставлять данные при помощи одного из следующих руководств:
  - [Разработка первой базы данных SQL Azure с использованием SSMS](sql-database-design-first-database.md)
  - [Проектирование базы данных SQL Azure и подключение к ней с помощью C# и ADO.NET](sql-database-design-first-database-csharp.md)
