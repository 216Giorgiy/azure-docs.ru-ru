<properties
   pageTitle="Сведения об инструкциях Transact-SQL Базы данных SQL Azure | Microsoft Azure"
   description="Инструкции Transact-SQL в Базе данных SQL Azure"
   services="sql-database"
   documentationCenter=""
   authors="BYHAM"
   manager="jeffreyg"
   editor=""
   tags=""/>

<tags
   ms.service="sql-database"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="data-management"
   ms.date="11/09/2015"
   ms.author="rick.byham@microsoft.com"/>

# Сведения об инструкциях Transact-SQL Базы данных SQL Azure

Большинство инструкций SQL Server 2016 Transact-SQL полностью поддерживаются в Базе данных Microsoft SQL Azure. Сюда входят типы данных SQL Server, операторы, а также строковые, арифметические, логические функции, функции работы с курсором и другие элементы языка Transact-SQL, на которые полагается большинство приложений. Частично поддерживаемые или неподдерживаемые функции обычно связаны с различиями в том, как база данных SQL управляет базой данных (например, функции работы с файлами, функции обеспечения высокого уровня доступности и средства обеспечения безопасности), или со специальными функциями, такими как компонент Service Broker. Поскольку База данных SQL изолирует многие возможности от зависимостей в базе данных master, многие действия уровня сервера не поддерживаются или являются несоответствующими. Обычно функции, устаревшие в SQL Server, не поддерживаются в Базе данных SQL.

## Обновление Базы данных SQL до версии 12

В этом разделе рассматриваются функции, которые становятся доступными в Базе данных SQL после ее обновления до бесплатной версии 12. Дополнительные сведения о версии 12 см. в разделе [Новые возможности версии 12 Базы данных SQL](sql-database-v12-whats-new.md). В версии 12 Базы данных SQL реализованы улучшения производительности и управляемости, а также поддержка дополнительных функций. Ниже перечислены добавленные функции. Они разделены на полностью поддерживаемые функции и функции, которые поддерживаются частично.

## Функции, которые частично поддерживаются в версии 12 Базы данных SQL

База данных SQL версии 12 поддерживает некоторые, но не все аргументы, которые существуют в соответствующих инструкциях SQL Server 2016 Transact-SQL. Например, инструкция CREATE PROCEDURE доступна, однако параметр WITH ENCRYPTION инструкции CREATE PROCEDURE недоступен. Подробные сведения о поддерживаемых параметрах каждой инструкции см. в разделах, посвященных синтаксису, на которые указаны ссылки.

- Базы данных: [CREATE](https://msdn.microsoft.com/library/dn268335.aspx)/[ALTER](https://msdn.microsoft.com/library/ms174269.aspx)
- Для имеющихся функций обычно доступны динамические административные представления
- Функции: [CREATE](https://msdn.microsoft.com/library/ms186755.aspx)/[ALTER FUNCTION](https://msdn.microsoft.com/library/ms186967.aspx)
- [KILL](https://msdn.microsoft.com/library/ms173730.aspx) 
- Входы: [CREATE](https://msdn.microsoft.com/library/ms189751.aspx)/[ALTER LOGIN](https://msdn.microsoft.com/library/ms189828.aspx)
- Хранимые процедуры: [CREATE](https://msdn.microsoft.com/library/ms187926.aspx)/[ALTER PROCEDURE](https://msdn.microsoft.com/library/ms189762.aspx)
- Таблицы: [CREATE](https://msdn.microsoft.com/library/dn305849.aspx)/[ALTER](https://msdn.microsoft.com/library/ms190273.aspx)
- Типы (пользовательские): [CREATE TYPE](https://msdn.microsoft.com/library/ms175007.aspx)
- Пользователи: [CREATE](https://msdn.microsoft.com/library/ms173463.aspx)/[ALTER USER](https://msdn.microsoft.com/library/ms176060.aspx)
- Представления: [CREATE](https://msdn.microsoft.com/library/ms187956.aspx)/[ALTER VIEW](https://msdn.microsoft.com/library/ms173846.aspx)

## Функции, которые не поддерживаются в версии 12 Базы данных SQL

- Параметры сортировки системных объектов
- Связанные с подключением: инструкции ENDPOINT, ORIGINAL\_DB\_NAME. Проверка подлинности Windows недоступна для имен входа или пользователей автономных баз данных.
- Перекрестные запросы к базе данных, межбазовые цепочки владения, параметр TRUSTWORTHY
- Сборщик данных
- Диаграммы базы данных
- Компонент Database Mail
- DATABASEPROPERTY (вместо него следует использовать DATABASEPROPERTYEX)
- Распределенные транзакции
- Входы EXECUTE AS
- Шифрование: расширенное управление ключами
- Отправка событий: события, уведомления о событиях, уведомления о запросах
- Функции, связанные с размещением файла базы данных, его размером и файлы базы данных, которые автоматически управляются Microsoft Azure.
- Функции, связанные с обеспечением высокой доступности, для управления которыми используется учетная запись Microsoft Azure: резервное копирование, восстановление, AlwaysOn, зеркальное отображение базы данных, доставка журналов, режимы восстановления. Дополнительные сведения см. в статье "Резервное копирование и восстановление Базы данных SQL Azure".
- Функции, которые зависят от чтения журнала: репликация, запись изменения данных.
- Функции, которые зависят от агента SQL Server или базы данных MSDB: задания, предупреждения, операторы, управление на основе политик, компонент database mail, центральные серверы управления.
- FILESTREAM
- Функции: fn\_get\_sql, fn\_virtualfilestats, fn\_virtualservernodes
- Глобальные временные таблицы
- Параметры сервера, связанные с оборудованием: память, рабочие потоки, фиксирование потоков на ЦП, флаги трассировки, и т. д. Вместо них используйте уровни обслуживания.
- HAS\_DBACCESS
- KILL STATS JOB
- Связанные серверы, инструкции OPENQUERY, OPENROWSET, OPENDATASOURCE, BULK INSERT, комбинированные имена (из трех и четырех частей)
- Главный и целевые серверы
- Регулятор ресурсов
- Семантический поиск
- Учетные данные сервера
- Элементы уровня сервера: роли сервера, IS\_SRVROLEMEMBER, sys.login\_token. Разрешения уровня сервера недоступны, хотя некоторые заменяются разрешениями уровня базы данных. Некоторые динамические административные представления уровня сервера недоступны, хотя некоторые заменяются динамическими административными представлениями уровня базы данных.
- Независимый express: localdb пользовательские экземпляры
- Компонент Service broker
- SET REMOTE\_PROC\_TRANSACTIONS
- SHUTDOWN
- sp\_addmessage
- Параметры sp\_configure и инструкция RECONFIGURE
- sp\_helpuser
- sp\_migrate\_user\_to\_contained
- Подсистема аудита SQL Server (вместо нее следует использовать аудит Базы данных SQL)
- SQL Server Profiler
- Трассировка SQL Server
- Флаги трассировки
- Отладка Transact-SQL
- Триггеры: уровня сервера или триггеры входа
- Инструкция USE

## Полный справочник по Transact-SQL

Дополнительные сведения о грамматике языка Transact-SQL, его использовании и примеры см. в разделе [Справочник по Transact-SQL (ядро СУБД)](https://msdn.microsoft.com/library/bb510741.aspx) в электронной документации по SQL Server.

### Сведения о тегах "Относится к"

В справочнике по Transact-SQL имеются разделы, связанные с SQL Server 2008, SQL Server 2008 R2, SQL Server 2012, SQL Server 2014 и Базой данных SQL Microsoft Azure. В верхней части каждого из них приведены сведения о том, какие продукты поддерживают функцию, которой посвящен раздел. Если продукт не указан, то функция, описанная в разделе, недоступна в этом продукте. Например, группы доступности появились в SQL Server 2012. В разделе **CREATE AVAILABILTY GROUP** указано, что сведения в нем относятся к **SQL Server (начиная с SQL Server 2012 и до текущей версии)**, поскольку этот раздел не применим к SQL Server 2008, SQL Server 2008 R2 или Базе данных SQL Microsoft Azure.

В некоторых случаях функция, рассматриваемая в разделе, может использоваться в продукте, однако поддерживаются не все аргументы. Например, пользователи автономной базы данных впервые были представлены в SQL Server 2012. Инструкцию **CREATE USER** можно использовать в любой версии SQL Server, однако синтаксис **WITH PASSWORD** не поддерживается в более ранних версиях. В этом случае в описания соответствующих аргументов в разделе вставляются примечания **Относится к**.

<!---HONumber=Nov15_HO3-->