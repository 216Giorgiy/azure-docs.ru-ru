<properties
   pageTitle="Отсутствие поддержки в SQL T-SQL базы данных Azure | Microsoft Azure"
   description="Инструкции Transact-SQL, которые не полностью поддерживаются в базе данных SQL Azure"
   services="sql-database"
   documentationCenter=""
   authors="BYHAM"
   manager="jhubbard"
   editor=""
   tags=""/>

<tags
   ms.service="sql-database"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="data-management"
   ms.date="05/12/2016"
   ms.author="rick.byham@microsoft.com"/>

# Отличия Transact-SQL базы данных SQL Azure


Большинство функций Transact-SQL, используемых приложениями, поддерживаются как в Microsoft SQL Server, так и в базе данных SQL Azure. Ниже приведен неполный список поддерживаемых функций для приложений:

- Типы данных.
- Операторы.
- Строковые, арифметические, логические функции и функции работы с курсорами.

Однако база данных SQL Azure позволяет изолировать функции от любых зависимостей от базы данных **master**. Поэтому многие действия на уровне сервера не подходят для базы данных SQL и не поддерживаются. В данном разделе описаны функции, которые не полностью поддерживаются в базе данных SQL.

Кроме того, обычно функции, устаревшие в SQL Server, не поддерживаются в базе данных SQL.

## Обновление Базы данных SQL до версии 12

В этом разделе рассматриваются функции, которые становятся доступными в Базе данных SQL после ее обновления до бесплатной версии 12. Дополнительные сведения о версии 12 см. в разделе [Новые возможности версии 12 базы данных SQL](sql-database-v12-whats-new.md). В версии 12 Базы данных SQL реализованы улучшения производительности и управляемости, а также поддержка дополнительных функций. Ниже перечислены добавленные функции. Они разделены на полностью поддерживаемые функции и функции, которые поддерживаются частично.

## Функции, которые частично поддерживаются в версии 12 базы данных SQL

База данных SQL версии 12 поддерживает некоторые, но не все аргументы, которые существуют в соответствующих инструкциях SQL Server 2016 Transact-SQL. Например, инструкция CREATE PROCEDURE доступна, однако параметр WITH ENCRYPTION инструкции CREATE PROCEDURE недоступен. Подробные сведения о поддерживаемых параметрах каждой инструкции см. в разделах, посвященных синтаксису, на которые указаны ссылки.

- Базы данных: [CREATE](https://msdn.microsoft.com/library/dn268335.aspx)/[ALTER](https://msdn.microsoft.com/library/ms174269.aspx)
- Для имеющихся функций обычно доступны динамические административные представления
- Функции: [CREATE](https://msdn.microsoft.com/library/ms186755.aspx)/[ALTER FUNCTION](https://msdn.microsoft.com/library/ms186967.aspx)
- [KILL](https://msdn.microsoft.com/library/ms173730.aspx) 
- Входы: [CREATE](https://msdn.microsoft.com/library/ms189751.aspx)/[ALTER LOGIN](https://msdn.microsoft.com/library/ms189828.aspx)
- Хранимые процедуры: [CREATE](https://msdn.microsoft.com/library/ms187926.aspx)/[ALTER PROCEDURE](https://msdn.microsoft.com/library/ms189762.aspx)
- Таблицы: [CREATE](https://msdn.microsoft.com/library/dn305849.aspx)/[ALTER](https://msdn.microsoft.com/library/ms190273.aspx)
- Типы (пользовательские): [CREATE TYPE](https://msdn.microsoft.com/library/ms175007.aspx)
- Пользователи: [CREATE](https://msdn.microsoft.com/library/ms173463.aspx)/[ALTER USER](https://msdn.microsoft.com/library/ms176060.aspx)
- Представления: [CREATE](https://msdn.microsoft.com/library/ms187956.aspx)/[ALTER VIEW](https://msdn.microsoft.com/library/ms173846.aspx)

## Функции, которые не поддерживаются в базе данных SQL

- Параметры сортировки системных объектов
- Связанные с подключением: инструкции ENDPOINT, ORIGINAL\_DB\_NAME. Проверка подлинности Windows недоступна для имен входа или пользователей автономных баз данных.
- Межбазовые запросы с помощью имен из трех или четырех частей. (Межбазовые запросы только для чтения поддерживаются с помощью [запроса к эластичной базе данных](sql-database-elastic-query-overview.md)).
- Межбазовые цепочки владения, параметр TRUSTWORTHY
- Сборщик данных
- Диаграммы базы данных
- Компонент Database Mail
- DATABASEPROPERTY (вместо него следует использовать DATABASEPROPERTYEX)
- Входы EXECUTE AS
- Шифрование: расширенное управление ключами
- Отправка событий: события, уведомления о событиях, уведомления о запросах
- Функции, связанные с размещением файла базы данных, его размером и файлы базы данных, которые автоматически управляются Microsoft Azure.
- Функции, связанные с обеспечением высокой доступности, для управления которыми используется учетная запись Microsoft Azure: резервное копирование, восстановление, AlwaysOn, зеркальное отображение базы данных, доставка журналов, режимы восстановления. Дополнительные сведения см. в статье "Резервное копирование и восстановление Базы данных SQL Azure".
- Функции, которые зависят от чтения журнала: репликация, запись изменения данных.
- Функции, которые зависят от агента SQL Server или базы данных MSDB: задания, предупреждения, операторы, управление на основе политик, компонент database mail, центральные серверы управления.
- FILESTREAM
- Функции: fn\_get\_sql, fn\_virtualfilestats, fn\_virtualservernodes
- Глобальные временные таблицы
- Параметры сервера, связанные с оборудованием: память, рабочие потоки, фиксирование потоков на ЦП, флаги трассировки, и т. д. Вместо них используйте уровни обслуживания.
- HAS\_DBACCESS
- KILL STATS JOB
- Связанные серверы, инструкции OPENQUERY, OPENROWSET, OPENDATASOURCE, BULK INSERT, комбинированные имена (из трех и четырех частей)
- Главный и целевые серверы
- [Интеграция SQL Server со средой CLR](http://msdn.microsoft.com/library/ms254963.aspx) в .NET Framework
- Регулятор ресурсов
- Семантический поиск
- Учетные данные сервера
- Элементы уровня сервера: роли сервера, IS\_SRVROLEMEMBER, sys.login\_token. Разрешения уровня сервера недоступны, хотя некоторые заменяются разрешениями уровня базы данных. Некоторые динамические административные представления уровня сервера недоступны, хотя некоторые заменяются динамическими административными представлениями уровня базы данных.
- Независимый express: localdb пользовательские экземпляры
- Компонент Service broker
- SET REMOTE\_PROC\_TRANSACTIONS
- SHUTDOWN
- sp\_addmessage
- Параметры sp\_configure и инструкция RECONFIGURE
- sp\_helpuser
- sp\_migrate\_user\_to\_contained
- Подсистема аудита SQL Server (вместо нее следует использовать аудит Базы данных SQL)
- SQL Server Profiler
- Трассировка SQL Server
- Флаги трассировки
- Отладка Transact-SQL
- Триггеры: уровня сервера или триггеры входа
- Инструкция USE: для изменения контекста базы данных на другую базу данных необходимо создать подключение к новой базе данных.


## Полный справочник по Transact-SQL

Дополнительные сведения о грамматике языка Transact-SQL, его использовании и примеры см. в разделе [Справочник по Transact-SQL (ядро СУБД)](https://msdn.microsoft.com/library/bb510741.aspx) в электронной документации по SQL Server.

### Сведения о тегах "Относится к"

Справочник по Transact-SQL включает в себя разделы, относящиеся к версиям SQL Server с 2008 по текущую. Под заголовком раздела обычно находится строка "Область применения", в которой перечислены версии SQL Server и, возможно, названия других продуктов. Часто в тех же самых тегах "Область применения" указана и база данных SQL Azure. Если база данных SQL Azure отсутствует в списке "Область применения", значит, содержимое этого раздела к базе данных SQL Azure не применяется. Иногда в строке "Область применения" может быть приведено несколько продуктов, для каждого из которых имеется небольшой значок, указывающий, применяется ли раздел к соответствующему продукту.

 Например, группы доступности появились в SQL Server 2012. В разделе **CREATE AVAILABILTY GROUP** (Создание группы доступности) указано, что сведения в нем относятся к **SQL Server (начиная с SQL Server 2012 и до текущей версии)**, поскольку этот раздел не применим к SQL Server 2008, SQL Server 2008 R2 или базе данных SQL Azure.

В некоторых случаях функция, рассматриваемая в разделе, может использоваться в продукте, однако по-разному поддерживаться в разных продуктах. Эти различия отмечаются по мере изложения материала.

<!---HONumber=AcomDC_0518_2016-->