---
title: Обзор ограничений ресурсов базы данных SQL Azure | Документы Майкрософт
description: На этой странице описаны некоторые общие ограничения ресурсов на основе единицы передачи данных для отдельной базы данных в базе данных SQL Azure.
services: sql-database
author: CarlRabeler
manager: craigg
ms.service: sql-database
ms.custom: DBs & servers
ms.topic: conceptual
ms.date: 07/02/2018
ms.author: carlrab
ms.openlocfilehash: 403490f47ac171d4a302d2b68af65375bbdc26cd
ms.sourcegitcommit: 756f866be058a8223332d91c86139eb7edea80cc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2018
ms.locfileid: "37345725"
---
# <a name="overview-azure-sql-database-resource-limits"></a>Обзор ограничений ресурсов базы данных SQL Azure 

В этой статье приводится обзор ограничений ресурсов в базе данных SQL Azure и описывается, что происходит при достижении или превышении этих ограничений.

## <a name="what-is-the-maximum-number-of-servers-and-databases"></a>Каково максимальное число серверов и баз данных?

| Максимальная | Значение |
| :--- | :--- |
| Баз данных на сервер | 5000 |
| Количество серверов по умолчанию на одну подписку в любом регионе | 20 |
| Максимальное количество серверов на одну подписку в любом регионе | 200 |
| Квота DTU или eDTU на сервер | 54 000 |
|||

> [!NOTE]
> Чтобы увеличить квоту DTU или eDTU либо число серверов по умолчанию, отправьте запрос в службу поддержки на портале Azure для подписки, выбрав тип проблемы "Квота". Квота DTU или eDTU и предельное число баз данных на сервер ограничивают количество эластичных пулов на сервер. 

> [!IMPORTANT]
> По мере приближения количества баз данных к пороговому значению для сервера может произойти следующее:
> - Увеличение задержки при выполнении запросов к базе данных master.  Сюда входят представления статистических данных использования ресурсов, такие как sys.resource_stats.
> - Увеличение задержки при управлении и отображении для точек наблюдения портала, включая перечисление баз данных на сервере.

## <a name="what-happens-when-database-resource-limits-are-reached"></a>Что происходит при достижении ограничения ресурсов базы данных?

### <a name="compute-dtus-and-edtus--vcores"></a>Вычислительные ресурсы (DTU и eDTU/виртуальные ядра)

Когда использование вычислительных ресурсов базы данных (измеряемое в DTU и eDTU или виртуальных ядрах) значительно возрастает, увеличиваются задержки и даже может истечь время ожидания. В этих условиях служба может ставить запросы в очередь и предоставлять ресурсы для их выполнения по мере освобождения этих ресурсов.
При интенсивном использовании вычислительных ресурсов возможны следующие варианты предотвращения последствий:

- Увеличение уровня производительности базы данных или эластичного пула для предоставления базе данных дополнительных вычислительных ресурсов. См. разделы [Масштабирование ресурсов отдельной базы данных](sql-database-single-database-scale.md) и [Масштабирование ресурсов эластичного пула](sql-database-elastic-pool-scale.md).
- Оптимизация запросов для уменьшения использования ресурсов каждым запросом. Дополнительные сведения см. в разделе [Настройка запросов и указания на них](sql-database-performance-guidance.md#query-tuning-and-hinting).

### <a name="storage"></a>Служба хранилища

Когда используемое пространство базы данных достигает максимального размера, операции вставки и обновления, увеличивающие размер данных, завершаются сбоем и клиенты получают [сообщение об ошибке](sql-database-develop-error-messages.md). Операции SELECT и DELETE с базой данных продолжают успешно выполняться.

При интенсивном использовании пространства возможны следующие варианты предотвращения последствий:

- Увеличение максимального размера базы данных или эластичного пула или увеличение объема хранилища. См. разделы [Масштабирование ресурсов отдельной базы данных](sql-database-single-database-scale.md) и [Масштабирование ресурсов эластичного пула](sql-database-elastic-pool-scale.md).
- Если база данных находится в эластичном пуле, то в качестве альтернативы ее можно переместить за пределы пула, чтобы ее дисковое пространство не использовалось совместно с другими базами данных.

### <a name="sessions-and-workers-requests"></a>Сеансы и рабочие роли (запросы) 

Максимальное количество сеансов и рабочих ролей определяется уровнем служб и уровнем производительности (DTU и eDTU). При достижении ограничения числа сеансов или рабочих ролей новые запросы отклоняются, а клиенты получают сообщение об ошибке. Хотя приложение может управлять числом доступных подключений, число параллельных рабочих ролей зачастую существенно труднее оценивать и контролировать. Это особенно сильно проявляется в периоды пиковой нагрузки, когда достигаются ограничения ресурсов базы данных и рабочие роли накапливаются из-за увеличенной длительности выполнения запросов. 

При интенсивном использовании сеансов и рабочих ролей возможны следующие варианты предотвращения последствий:
- Повышение уровня служб или уровня производительности базы данных или эластичного пула. См. разделы [Масштабирование ресурсов отдельной базы данных](sql-database-single-database-scale.md) и [Масштабирование ресурсов эластичного пула](sql-database-elastic-pool-scale.md).
- Оптимизация запросов для сокращения использования ресурсов, необходимых каждому запросу, если причиной повышенного использования рабочих ролей является состязание за вычислительные ресурсы. Дополнительные сведения см. в разделе [Настройка запросов и указания на них](sql-database-performance-guidance.md#query-tuning-and-hinting).

При интенсивном использовании сеансов и рабочих ролей возможны следующие варианты предотвращения последствий:
- Повышение уровня служб или уровня производительности базы данных. См. разделы [Масштабирование ресурсов отдельной базы данных](sql-database-single-database-scale.md) и [Масштабирование ресурсов эластичного пула](sql-database-elastic-pool-scale.md).
- Оптимизация запросов для сокращения использования ресурсов, необходимых каждому запросу, если причиной повышенного использования рабочих ролей является состязание за вычислительные ресурсы. Дополнительные сведения см. в разделе [Настройка запросов и указания на них](sql-database-performance-guidance.md#query-tuning-and-hinting).

## <a name="next-steps"></a>Дополнительная информация

- См. [часто задаваемые вопросы о службе "База данных SQL"](sql-database-faq.md).
- Сведения об общих ограничениях Azure см. в разделе [Подписка Azure, границы, квоты и ограничения службы](../azure-subscription-service-limits.md).
- Сведения о DTU и eDTU см. в разделе [Общие сведения об обычных единицах передачи данных (DTU) и единицах передачи данных в эластичной базе данных (eDTU)](sql-database-service-tiers.md#what-are-database-transaction-units-dtus).
- Сведения об ограничениях на размер базы данных tempdb см. здесь: https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database#tempdb-database-in-sql-database.
