<properties
	pageTitle="Пределы ресурсов Базы данных SQL Azure"
	description="На этой странице описываются некоторые общие ограничения ресурсов для Базы данных SQL Azure."
	services="sql-database"
	documentationCenter="na"
	authors="rothja"
	manager="jeffreyg"
	editor="monicar" />


<tags
	ms.service="sql-database"
	ms.devlang="na"
	ms.topic="article"
	ms.tgt_pltfrm="na"
	ms.workload="data-management"
	ms.date="11/03/2015"
	ms.author="jroth" />


# Ограничения ресурсов базы данных SQL Azure

## Обзор

База данных SQL Azure управляет ресурсами, доступными для базы данных, с использованием двух различных механизмов: **управления ресурсами** и **принудительного применения ограничений**. В этом разделе объясняются эти два основных элемента управления ресурсами.

## управление ресурсами;
Одна из целей проектирования уровней обслуживания Basic, Standard и Premium — обеспечить такое поведение базы данных SQL Azure, как если бы она работала на отдельном компьютере в полной изоляции от других баз данных. Управление ресурсами эмулирует такое поведение. Если в совокупности ресурсы, назначенные базе данных и связанные с ЦП, объемом памяти, вводом-выводом журнала и вводом-выводом данных, используются по максимуму, то механизм управления ресурсами будет ставить запросы в очередь на выполнение и назначать им ресурсы по мере их высвобождения.

Как и на выделенном компьютере, использование всех доступных ресурсов приведет к задержке выполнения текущих выполняемых запросов, что может вызвать превышение времени ожидания команд на клиенте. Приложения с агрессивной логикой повтора попыток и приложения, которые выполняют запросы к базе данных с высокой частотой, могут получать сообщения об ошибках при попытке выполнения новых запросов, если достигнут лимит одновременных запросов.

### Рекомендации
При приближении к максимальной загруженности базы данных отслеживайте нагрузку на ресурсы, а также среднее время отклика на запросы. При обнаружении увеличенных задержек выполнения запросов обычно есть три варианта:

1.	Уменьшить объем входящих запросов к базе данных, чтобы предотвратить превышение времени ожидания и накопление запросов.

2.	Назначить базе данных более высокий уровень производительности.

3.	Оптимизировать запросы для уменьшения использования ресурсов каждым из них. Для получения дополнительных сведений см. раздел "Настройка запросов и подсказки" в статье "Руководство по производительности базы данных SQL Azure".

## принудительные ограничения;
При достижении лимита для ресурсов, отличных от ЦП, памяти, ввода-вывода журнала и ввода-вывода данных, новые запросы принудительно запрещаются. Клиенты получат [сообщение об ошибке](sql-database-develop-error-messages.md) в зависимости от того, какой лимит был достигнут.

Например, ограничено количество подключений к базе данных SQL и количество одновременных запросов, которые могут быть обработаны. Для поддержки пулов соединений база данных SQL разрешает большее количество подключений к базе данных, чем количество одновременных запросов. Хотя количество доступных подключений может легко регулироваться приложением, объем параллельных запросов зачастую существенно труднее оценить и контролировать. Возникновение ошибок особенно вероятно во время пиковых нагрузок, когда либо приложение отправляет слишком много запросов, либо база данных достигает лимита ресурсов и начинает накапливать рабочие потоки из-за все дольше выполняемых запросов.

## Уровни служб и уровни производительности

Ограничения для одной базы данных определяются уровнем служб и уровнем производительности базы данных. В следующей таблице описываются характеристики баз данных Basic, Standard и Premium на различных уровнях производительности.

[AZURE.INCLUDE [Таблица уровней служб базы данных SQL](../../includes/sql-database-service-tiers-table.md)]

[Пул эластичных баз данных](sql-database-elastic-pool.md) совместно использует ресурсы между базами данных в пуле. В следующей таблице описываются характеристики пулов эластичных баз данных Basic, Standard и Premium.

[AZURE.INCLUDE [Таблица уровней службы базы данных SQL для эластичных баз данных](../../includes/sql-database-service-tiers-table-elastic-db-pools.md)]

Расширенное определение каждого ресурса, указанного в предыдущих таблицах, см. в описаниях в разделе [Возможности и ограничения уровней служб](sql-database-performance-guidance.md#service-tier-capabilities-and-limits). Общие сведения об уровнях служб см. в статье [Уровни служб и уровни производительности базы данных SQL Azure](sql-database-service-tiers.md).

## Квота DTU для каждого сервера

Сейчас для базы данных SQL Azure установлена квота DTU на один логический сервер в размере 15 000 DTU. Эта квота представляет собой количество DTU, которые могут быть размещены на логическом сервере, в зависимости от суммы DTU на уровне производительности каждой базы данных на сервере. Например, сервер с 5 базами данных Basic (максимум 5 × 5 DTU), 2 базами данных Standard S1 (максимум 2 × 20 DTU) и 3 базами данных Premium P1 (максимум 3 × 100 DTU) использовал 365 DTU из своей квоты в 15 000 DTU.

>[AZURE.NOTE] Можно [обратиться в службу поддержки](https://azure.microsoft.com/blog/2014/06/04/azure-limits-quotas-increase-requests/) с просьбой увеличить квоту.

## Другие ограничения базы данных SQL

| Область | Ограничение | Описание |
|---|---|---|
| Баз данных, использующие автоматический экспорт для каждой подписки | 10 | Автоматический экспорт позволяет создать настраиваемое расписание резервного копирования баз данных SQL. Дополнительные сведения см. в разделе [Базы данных SQL ― поддержка автоматического экспорта баз данных SQL](http://weblogs.asp.net/scottgu/windows-azure-july-updates-sql-database-traffic-manager-autoscale-virtual-machines).|

## Ресурсы

[Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-subscription-service-limits.md)

[Уровни служб и уровни производительности в базе данных SQL Azure](sql-database-service-tiers.md)

[Сообщения об ошибках для клиентских программ базы данных SQL](sql-database-develop-error-messages.md)

<!---HONumber=AcomDC_0128_2016-->