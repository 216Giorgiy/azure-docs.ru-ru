<properties
    pageTitle="База данных Azure SQL — клиентская библиотека"
    description="Создание масштабируемых приложений баз данных .NET"
    services="sql-database"
    documentationCenter=""
    manager="jeffreyg"
    authors="sidneyh"
    editor=""/>

<tags
    ms.service="sql-database"
    ms.workload="sql-database"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="07/29/2015"
    ms.author="sidneyh"/>

# Обзор клиентской библиотеки эластичной базы данных

**Клиентская библиотека эластичной базы данных** позволяет легко создавать общие приложения с сотнями — или даже тысячами — Баз данных SQL Azure, размещенных в Microsoft Azure. Такие структуры обычно используются в приложениях программного обеспечения как услуги (SaaS), которые обычно имеют однопользовательскую архитектуру, в которой каждому клиенту предоставляется база данных. Для создания таких приложений и управления ими и предназначена библиотека. Клиентская библиотека представляет собой библиотеку .NET Framework, которую можно установить в любой проект приложения с помощью [Visual Studio](sql-database-elastic-scale-add-references-visual-studio.md) и [Nuget](http://go.microsoft.com/?linkid=9862605). Клиентская библиотека входит в состав инструментов эластичных баз данных и является [компонентом эластичных баз данных](sql-database-elastic-scale-introduction.md).

## Возможности клиента

Разработка, масштабирование и управление масштабируемыми приложениями с использованием *сегментирования* (обсуждается далее) представляет собой непростую задачу как для разработчика, так и для администратора. Клиентская библиотека упрощает работу как для первого, так и для последнего. На рисунке ниже показаны основные возможности, предоставляемые клиентской библиотекой эластичной базы данных. На рисунке показана среда с несколькими базами данных, где каждая база данных соответствует сегменту. В этом примере многие клиенты находятся в одной базе данных, использующей карту диапазонов, но это применимо, даже если у каждого клиента есть отдельная база данных. Средства упрощают разработку приложений на основе сегментированных баз данных SQL Azure, обеспечивая следующие возможности:

Определения используемых терминов см. в [глоссарии инструментов эластичных баз данных](sql-database-elastic-scale-glossary.md).

![Возможности эластичного масштабирования][1]

1.  **Управление картой сегментов**: для управления коллекцией сегментов создается специальная база данных, которая называется «менеджером карты сегментов». Управление сопоставлениями сегментов — это возможность приложения управлять различными метаданными о своих сегментах. Разработчики могут использовать этот функционал для регистрации баз данных в качестве сегментов, описания сопоставлений отдельных ключей сегментирования или диапазонов этих баз данных. Функции библиотеки задействуются и для обновления метаданных по мере изменения числа и композиций баз данных для отражения вносимых в систему баз данных изменений. Без клиентской библиотеки эластичной базы данных вам потребовалось бы потратить много времени на написание кода управления при реализации сегментирования. Дополнительные сведения см. в статье [Управление картой сегментов](sql-database-elastic-scale-shard-map-management.md).

* **Маршрутизация на основе данных**: представим, что в приложение приходит запрос. На основании значения ключа сегментирования из запроса приложение должно определить соответствующую базу данных, содержащую данные для этого ключа, а затем открыть подключение, чтобы выполнить запрос. Маршрутизация на основе данных позволяет открыть соединение, сделав один простой вызов в диспетчер сопоставлений сегментов приложения. Маршрутизация на основе данных — еще один уровень кода для поддержки инфраструктуры сегментирования, который теперь решается за счет клиентской библиотеки эластичной базы данных. Дополнительные сведения см. в статье [Маршрутизация на основе данных](sql-database-elastic-scale-data-dependent-routing.md).

* **Многосегментное формирование запросов (MSQ)**: многосегментное формирование запросов применяется в том случае, когда запрос относится к некоторым (или всем) сегментам. Многосегментный запрос выполняет одинаковый код T-SQL во всех сегментах или наборе сегментов. Результаты из задействованных сегментов объединяются в общий набор результатов с помощью семантики UNION ALL. Предоставляемая клиентской библиотекой функциональная возможность решает множество задач, в том числе управление подключениями, управление потоками, обработка сбоев и обработка промежуточных результатов. MSQ может посылать запросы к сотням сегментов. Дополнительные сведения см. в статье [Многосегментные запросы](sql-database-elastic-scale-multishard-querying.md).

Как правило, клиенты, использующие средства работы с эластичными базами данных, могут получить полную функциональности T-SQL при отправке операций в пределах одного сегмента в отличие от операций между сегментами, для которых применяется собственная семантика.

## Дальнейшие действия

Оцените [пример приложения](sql-database-elastic-scale-get-started.md), где демонстрируются функции клиента.

Чтобы установить библиотеку, перейдите к разделу [Клиентская библиотека эластичной базы данных](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/).

Инструкции по использованию инструмента разбиения/слияния см. в разделе [Обзор инструмента разбиения/слияния](sql-database-elastic-scale-overview-split-and-merge.md).

[Теперь исходный код клиентской библиотеки эластичной базы данных является открытым!](http://azure.microsoft.com/blog/elastic-database-client-library-is-now-open-sourced/)


[AZURE.INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Anchors-->
<!--Image references-->
[1]: ./media/sql-database-elastic-database-client-library/glossary.png

<!---HONumber=Oct15_HO1-->