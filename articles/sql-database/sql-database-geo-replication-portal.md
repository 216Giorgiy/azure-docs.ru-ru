<properties 
    pageTitle="Настройка георепликации для базы данных SQL Azure с помощью портала Azure | Microsoft Azure" 
    description="Настройка георепликации для базы данных SQL Azure с помощью портала Azure" 
    services="sql-database" 
    documentationCenter="" 
    authors="stevestein" 
    manager="jhubbard" 
    editor=""/>

<tags
    ms.service="sql-database"
    ms.devlang="NA"
    ms.topic="article"
    ms.tgt_pltfrm="NA"
    ms.workload="data-management" 
    ms.date="04/27/2016"
    ms.author="sstein"/>

# Настройка георепликации для базы данных SQL Azure с помощью портала Azure


> [AZURE.SELECTOR]
- [Портал Azure](sql-database-geo-replication-portal.md)
- [PowerShell](sql-database-geo-replication-powershell.md)
- [Transact-SQL](sql-database-geo-replication-transact-sql.md)


В этой статье объясняется, как настроить георепликацию для базы данных SQL Azure с помощью [портала Azure](http://portal.azure.com).

Чтобы инициировать отработку отказа, обратитесь к статье [Запуск плановой или незапланированной отработки отказа для базы данных SQL Azure](sql-database-geo-replication-failover-portal.md).

>[AZURE.NOTE] Активная георепликация (с доступными для чтения базами данных-получателями) теперь доступна для всех баз данных и всех уровней обслуживания. В апреле 2017 г. недоступные для чтения базы данных-получатели будут удалены, и существующие недоступные для чтения базы данных-получатели будут автоматически преобразованы в доступные для чтения.

Вы можете настроить до 4 доступных для чтения баз данных-получателей в одном и том же или в разных расположениях (регионах) центров обработки данных. Базы данных-получатели могут создаваться при сбое центра обработки данных или невозможности подключения к базе данных-источнику.

Для настройки георепликации необходимо следующее:

- Подписка Azure. Если вам требуется подписка Azure, нажмите в верхней части этой страницы кнопку **БЕСПЛАТНАЯ ПРОБНАЯ ВЕРСИЯ**. Оформив подписку, вернитесь к этой статье.
- База данных SQL Azure — база данных-источник, которую необходимо реплицировать в другом географическом регионе.



## Добавление базы данных-получателя

Следующие действия позволяют создать новую базу данных-получателя в связи георепликации.

Добавить базу-данных-получатель может только владелец или совладелец подписки.

Базе данных-получатель присваивается такое же имя, как у базы данных-источника, и по умолчанию тот же уровень обслуживания. База данных-получатель может быть доступной или недоступной для чтения, отдельной или эластичной. Дополнительные сведения см. в статье [Уровни обслуживания](sql-database-service-tiers.md). После создания и заполнения базы данных-получателя начинается репликация данных из базы данных-источника в новую базу-данных-получателя.

> [AZURE.NOTE] Если партнерская база данных уже создана (например, в результате прекращения предыдущей связи георепликации), команда завершится неудачей.




### Добавление получателя

1. На [портале Azure](http://portal.azure.com) перейдите к базе данных, для которой нужно настроить георепликацию.
2. В колонке «База данных SQL» выберите **Все параметры** > **Георепликация**.
3. Выберите регион для создания базы данных-получателя.


    ![Добавление получателя][1]


4. Выберите **Тип базы данных-получателя** (**Доступно для чтения** или **Недоступно для чтения**).
5. Выберите или настройте сервер для базы данных-получателя.

    ![Создать получателя][3]

5. По желанию добавьте базу данных-получателя в пул эластичных баз данных:

       - Щелкните **Пул эластичных баз данных** и выберите на целевом сервере пул, в котором будет создана база-данных получатель. Пул должен уже существовать на целевом сервере, так как этот рабочий процесс не создает новый пул.

6. Щелкните **Создать**, чтобы добавить базу данных-получатель.
 
6. После создания базы данных-получателя начнется процесс заполнения.
 
    ![заполнение][6]

7. Как только процесс заполнения будет закончен, база данных-получатель сменит статус на «Не доступно для чтения».

    ![получатель готов][9]



## Удаление базы данных-получателя

Данная операция безвозвратно отменяет репликацию в базу данных-получателя и превращает ее в обычную базу данных для чтения и записи. Если подключение к базе данных-получателю прервется, команда будет выполнена, но после восстановления связи база данных-получатель не станет доступной для чтения и записи.

1. На [портале Azure](http://portal.azure.com) перейдите к базе данных-источнику в связи георепликации.
2. В колонке «База данных SQL» выберите **Все параметры** > **Георепликация**.
3. В списке **Базы данных-получатели** выберите базу данных, которую нужно удалить из связи георепликации.
4. Щелкните **Остановить репликацию**.

    ![удалить получателя][7]


5. В открывшемся после выбора параметра **Отменить репликацию** окне подтверждения нажмите кнопку **Да**, чтобы удалить базу данных из связи георепликации (и сделать ее доступной для чтения и записи, не используемой в репликации).


    ![подтвердите удаление][8]



   

## Дальнейшие действия

- [Запуск плановой или незапланированной отработки отказа для базы данных SQL Azure](sql-database-geo-replication-failover-portal.md)
- [Разработка облачных приложений для непрерывности бизнес-процессов с использованием георепликации](sql-database-designing-cloud-solutions-for-disaster-recovery.md)
- [Отработка аварийного восстановления](sql-database-disaster-recovery-drills.md)


## Дополнительные ресурсы

- [Настройки безопасности для георепликации](sql-database-geo-replication-security-config.md)
- [Новые возможности георепликации](https://azure.microsoft.com/blog/spotlight-on-new-capabilities-of-azure-sql-database-geo-replication/)
- [Часто задаваемые вопросы о непрерывности бизнес-процессов и аварийном восстановлении в базах данных SQL](sql-database-bcdr-faq.md)
- [Общие сведения о непрерывности бизнес-процессов](sql-database-business-continuity.md)
- [Активная георепликация](sql-database-geo-replication-overview.md)
- [Проектирование приложений для аварийного восстановления в облаке](sql-database-designing-cloud-solutions-for-disaster-recovery.md)
- [Финализация восстановленной Базы данных SQL Azure](sql-database-recovered-finalize.md)


<!--Image references-->
[1]: ./media/sql-database-geo-replication-portal/configure-geo-replication.png
[2]: ./media/sql-database-geo-replication-portal/add-secondary.png
[3]: ./media/sql-database-geo-replication-portal/create-secondary.png
[4]: ./media/sql-database-geo-replication-portal/secondary-type.png
[5]: ./media/sql-database-geo-replication-portal/create.png
[6]: ./media/sql-database-geo-replication-portal/seeding0.png
[7]: ./media/sql-database-geo-replication-portal/remove-secondary.png
[8]: ./media/sql-database-geo-replication-portal/stop-confirm.png
[9]: ./media/sql-database-geo-replication-portal/seeding-complete.png
[10]: ./media/sql-database-geo-replication-portal/failover.png

<!---HONumber=AcomDC_0504_2016-->