<properties urlDisplayName="AzCopy" pageTitle="Использование AzCopy со службой хранилища Microsoft Azure Storage" metaKeywords="Get started Azure AzCopy   Azure unstructured data   Azure unstructured storage   Azure blob   Azure blob storage   Azure file   Azure file storage   Azure file share   AzCopy" description="Вы узнаете, как использовать AzCopyс для передачи, загрузки и копирования BLOB-объектов и содержания файлов. " metaCanonical="" disqusComments="1" umbracoNaviHide="1" services="storage" documentationCenter="" title="Использование AzCopy со службой хранилища Microsoft Azure Storage" authors="tamram" manager="adinah" editor="cgronlun" />

<tags ms.service="storage" ms.workload="storage" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/17/2014" ms.author="tamram" />

# Приступая к работе со служебной программой командной строки AzCopy

AzCopy — это служебная программа командной строки, разработанная для быстрой отправки, загрузки и копирования данных из хранилища BLOB-объектов Azure, хранилищ файлов и таблиц. В настоящем руководстве приводится обзор использования AzCopy.

> [WACOM.NOTE] Это руководство предполагает установку AzCopy 3.0.0 или более поздней версии. AzCopy 3.x теперь находится в общем доступе.
>  В этом руководстве вы также найдете информацию об использовании AzCopy 4.0.0 — предварительной версии AzCopy. Во всем руководстве функции из предварительной версии обозначены как *предварительные* .
> Обратите внимание, что для версии AzCopy 4.x командная строка и ее функциональные возможности могут быть изменены в будущих версиях программы.

## Оглавление

-   [Загрузка и установка AzCopy][Загрузка и установка AzCopy]
-   [Сведения о синтаксисе командной строки AzCopy][Сведения о синтаксисе командной строки AzCopy]
-   [Ограничение одновременных операций записи при копировании данных][Ограничение одновременных операций записи при копировании данных]
-   [Копирование BLOB-объектов Azure с помощью AzCopy][Копирование BLOB-объектов Azure с помощью AzCopy]
-   [Копирование файлов в общую папку Azure с помощью AzCopy (только для предварительной версии)][Копирование файлов в общую папку Azure с помощью AzCopy (только для предварительной версии)]
-   [Копирование массивов таблиц Azure с помощью AzCopy (только для предварительной версии)][Копирование массивов таблиц Azure с помощью AzCopy (только для предварительной версии)]
-   [Версии AzCopy][Версии AzCopy]
-   [Дальнейшие действия][Дальнейшие действия]

## <span id="install"></span></a> Загрузка и установка AzCopy

1.  Загрузка [последней версии AzCopy][последней версии AzCopy]или [самой последней предварительной версии][самой последней предварительной версии].
2.  Запустите установку. По умолчанию при установке AzCopy создается папка с именем `AzCopy` в `%ProgramFiles(x86)%\Microsoft SDKs\Azure\` (на компьютере под управлением 64-разрядной версии Windows) или `%ProgramFiles%\Microsoft SDKs\Azure\` (на компьютере под управлением 32-разрядной версии Windows). Однако путь установки можно изменить в мастере установки.
3.  При необходимости можно добавить место установки AzCopy к системному пути.

## <span id="syntax"></span></a> Сведения о синтаксисе командной строки AzCopy

Далее откройте командное окон и перейдите к каталогу установки AzCopy на компьютере, где располагается исполняемый файл `AzCopy.exe`. В командах AzCopy используется следующий базовый синтаксис:

    AzCopy /Source:<source> /Dest:<destination> /Pattern:<filepattern> [Options]

> [WACOM.NOTE] В самом начале работы с AzCopy версии 3.0.0 вам необходимо задать каждый параметр в командной строке, включая имя самого параметра, так как этого требует синтаксис командной строки. *Например*: `/ParameterName:ParameterValue`.

Параметры для AzCopy описаны в таблице ниже. Вы можете использовать одну из следующих команд для получения справки во время работы с AzCopy:

-   Для получения подробных сведений о командной строке AzCopy: `AzCopy /?`
-   Для получения подробных сведений о параметрах AzCopy: `AzCopy /?:SourceKey`
-   Для примеров команд в командной строке: `AzCopy /?:Samples`

| Имя параметра                                                           | Описание                                                                                                                                                                                                                                                                                                                                                                                                           | Применяется к хранилищу BLOB-объектов (да/нет) | Применяется к хранилищу файлов (да/нет) (только для предварительной версии) | Применяется к хранилищу таблиц (да/нет) (только для предварительной версии) |
|-------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|-----------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| **/Source:\<source\>**                                                  | Параметр определяет исходные данные для копирования. Источником может быть каталог файловой системы, контейнер BLOB-объектов, виртуальный каталог BLOB-объектов, общая папка файлового хранилища, каталог файлового хранилища или таблица Azure.                                                                                                                                                                   | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/Dest:\<destination\>**                                               | Параметр определяет целевую директорию копирования. Целевой директорией может быть каталог файловой системы, контейнер BLOB-объектов, виртуальный каталог BLOB-объектов, общая папка файлового хранилища, каталог файлового хранилища и таблица Azure.                                                                                                                                                             | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/Pattern:\<file-pattern\>**                                           | Параметр определяет шаблон файла, который указывает, какие именно файлы нужно копировать. Поведение дополнительного параметра "/Pattern" определяется местоположением исходных данных, а также наличием параметра «рекурсивный режим». Рекурсивный режим задается с помощью параметра "/S.".                                                                                                                       
                                                                            Если определенный источник представляет собой каталог в файловой системе, то используются стандартные подстановочные знаки, и предоставленный шаблон файла сравнивается с файлами в каталоге. При задании параметра "/S." AzCopy также выполняет сравнение определенного шаблона со всеми файлами в любых подпапках каталога.                                                                                      
                                                                            Если определенный источник представляет собой контейнер BLOB-объектов или виртуальный каталог, то подстановочные знаки не используются. Если задан параметр "/S.", то AzCopy интерпретирует заданный шаблон файла как префикс BLOB-объекта. Если параметр "/S." не задан, то AzCopy выполняет сопоставление шаблона файла с точными именами BLOB-объектов.                                                         
                                                                            Если исходный файл для копирования находится в общей папке Azure, то вам необходимо либо уточнить имя файла (например abc.txt), либо задать в "/S" параметр рекурсивного копирования всего содержания общей папки. Попытка одновременно задать шаблон файла и параметр "/S" приведет к ошибке.                                                                                                                     
                                                                            Если не удается задать шаблон файла, то по умолчанию используется шаблон файла \*.\* для расположения файловой системы или пустой префикс для ресурсов хранилища файлов Azure. Задание нескольких шаблонов не поддерживается.                                                                                                                                                                                      | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/DestKey:\<storage-key\>**                                            | Задает ключ учетной записи хранения для ресурса в месте назначения.                                                                                                                                                                                                                                                                                                                                                | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/DestSAS:\<sas-token\>**                                              | Задает подпись общего доступа (SAS) для контейнера назначения (если применяется). Поместите SAS в двойные кавычки, так как подпись может содержать специальные символы командной строки.                                                                                                                                                                                                                           
                                                                            Если ресурс места назначения — это контейнер BLOB-объекта или таблица, можно либо указать эту опцию перед маркером SAS, либо указать SAS как часть пути к BLOB-объекту места назначения, не указывая этой опции.                                                                                                                                                                                                   
                                                                            Если исходное место копирования и место назначения копирования являются BLOB-объектами, то BLOB-объект места назначения должен находиться в той же учетной записи хранилища, что и BLOB-объект исходного места копирования.                                                                                                                                                                                        | Да                                             | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/SourceKey:\<storage-key\>**                                          | Задает ключ учетной записи хранения для исходного ресурса.                                                                                                                                                                                                                                                                                                                                                         | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/SourceSAS:\<sas-token\>**                                            | Задает подпись общего доступа (SAS) для исходного контейнера (если применяется). Поместите SAS в двойные кавычки, так как подпись может содержать специальные символы командной строки.                                                                                                                                                                                                                            
                                                                            Если исходный ресурс для копирования является BLOB-объектом и не предоставляется ни ключ, ни SAS, то контейнер будет считываться через анонимный доступ.                                                                                                                                                                                                                                                           
                                                                            Если исходный ресурс для копирования является таблицей, то необходимо предоставить ключ или SAS.                                                                                                                                                                                                                                                                                                                   | Да                                             | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/S**                                                                  | Задает рекурсивный режим для операций копирования. В рекурсивном режиме AzCopy копирует все BLOB-объекты или файлы, соответствующие определенному шаблону файла, в том числе файлы из подпапок.                                                                                                                                                                                                                    | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/BlobType:\<block | page\>**                                          | Определяет, является ли место назначения блочным или страничным BLOB-объектом. Этот параметр применяется только в случае передачи BLOB-объекта. В противном случае создается сообщение об ошибке. Если в качестве места назначения выступает BLOB-объект и этот параметр не задается, то по умолчанию AzCopy создает блочный BLOB-объект.                                                                          | Да                                             | Нет                                                                         | Нет                                                                         |
| **/CheckMD5**                                                           | Вычисляет хэш MD5 для загруженных данных и проверяет соответствие хэша MD5, сохраненного в BLOB-объекте, или свойства Content-MD5 файла вычисленному хэшу. Проверка MD5 выключена по умолчанию. Чтобы выполнить проверку MD5 при загрузке данных, необходимо задать этот параметр.                                                                                                                                 
                                                                            Обратите внимание, что хранилище Azure не гарантирует актуальность хэша MD5, сохраненного для BLOB-объекта или файла. Клиент несет ответственность за обновление MD5 при каждом изменении BLOB-объекта или файла.                                                                                                                                                                                                  
                                                                            AzCopy всегда задает свойство Content-MD5 для BLOB-объекта или файла Azure после отправки его в службу.                                                                                                                                                                                                                                                                                                            | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/Snapshot**                                                           | Указывает, передаются ли моментальные снимки. Это параметр действителен только, если в качестве источника используется BLOB-объект.                                                                                                                                                                                                                                                                                
                                                                            Переданные моментальные снимки BLOB-объекта переименовываются в следующем формате: [blob-name] (snapshot-time)[extension].                                                                                                                                                                                                                                                                                         
                                                                            По умолчанию моментальные снимки не копируются.                                                                                                                                                                                                                                                                                                                                                                    | Да                                             | Нет                                                                         | Нет                                                                         |
| **/V:[verbose log-file]**                                               | Выводит сообщения с подробным состоянием в файл журнала. По умолчанию файл журнала с подробными данными именуется как `AzCopyVerbose.log` в `%LocalAppData%\Microsoft\Azure\AzCopy`. При задании существующего местоположения файла для этого параметра журнал с подробными данными будет добавляться к этому файлу.                                                                                               | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/Z:[journal-file-folder]**                                            | Задает папку файла журнала для возобновления операции.                                                                                                                                                                                                                                                                                                                                                             
                                                                            AzCopy всегда поддерживает возобновление, если операция была прервана.                                                                                                                                                                                                                                                                                                                                             
                                                                            Если этот параметр не задается или задается без пути папки, AzCopy создаст файл журнала в следующем местоположении по умолчанию: `%LocalAppData%\Microsoft\Azure\AzCopy`.                                                                                                                                                                                                                                          
                                                                            При каждом вводе команды для AzCopy выполняется проверка на наличие файла журнала в папке по умолчанию или в папке, которая была задана с помощью данного параметра. Если в обоих местах файл журнала отсутствует, AzCopy воспринимает операцию как новую и создает новый файл журнала.                                                                                                                            
                                                                            Если файл журнала не существует, AzCopy проверяет, соответствует ли введенная командная строка командной строке в файле журнала. Если две командные строки совпадают, AzCopy возобновляет незавершенную операцию. Если они не совпадают, вам будет предложено либо переписать файл журнала, чтобы начать новую операцию, либо отменить текущую операцию.                                                           
                                                                            После успешного завершения операции файл журнала удаляется.                                                                                                                                                                                                                                                                                                                                                        
                                                                            Обратите внимание, что возобновление операции из файла журнала, созданного предыдущей версией AzCopy, не поддерживается.                                                                                                                                                                                                                                                                                           | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/@:parameter-file**                                                   | Задает файл, который содержит параметры. AzCopy обрабатывает параметры в файле, как если бы они были заданы в командной строке.                                                                                                                                                                                                                                                                                    
                                                                            В файле ответа можно либо задать несколько параметров в одной строке, либо задать каждый параметр в отдельной строке. Обратите внимание, что отдельный параметр не может занимать несколько строк.                                                                                                                                                                                                                 
                                                                            Файлы ответов могут содержать строки комментариев, которые начинаются с символов `#`.                                                                                                                                                                                                                                                                                                                              
                                                                            Можно задать несколько файлов ответов. Однако, следует иметь в виду, что AzCopy не поддерживает вложенных фалов ответов.                                                                                                                                                                                                                                                                                           | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/Y**                                                                  | Скрывает все запросы на подтверждение AzCopy.                                                                                                                                                                                                                                                                                                                                                                      | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/L**                                                                  | Задает только операцию перечисления, данные не копируются.                                                                                                                                                                                                                                                                                                                                                         | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/MT**                                                                 | Задает такое же время последнего изменения загруженного файла, как в исходном BLOB-объекте или файле.                                                                                                                                                                                                                                                                                                              | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/XN**                                                                 | Исключает более новый исходный ресурс. Ресурс не будет копироваться, если источник новее, чем место назначения.                                                                                                                                                                                                                                                                                                    | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/XO**                                                                 | Исключает более старый исходный ресурс. Ресурс не будет копироваться, если источник старее, чем место назначения.                                                                                                                                                                                                                                                                                                  | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/A**                                                                  | Отправляет только файлы с установленным атрибутом «Архивный».                                                                                                                                                                                                                                                                                                                                                      | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/IA:[RASHCNETOI]**                                                    | Отправляет только файлы с любым из следующих установленных атрибутов.                                                                                                                                                                                                                                                                                                                                              
                                                                            Доступные атрибуты:                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            R   файлы только для чтения                                                                                                                                                                                                                                                                                                                                                                                        
                                                                            A   файлы, готовые к архивированию                                                                                                                                                                                                                                                                                                                                                                                 
                                                                            S   системные файлы                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            H   скрытые файлы                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                            C   сжатые файлы                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                            N   обычные файлы                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                            E   зашифрованные файлы                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            T   временные файлы                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            O   автономные файлы                                                                                                                                                                                                                                                                                                                                                                                               
                                                                            I   неиндексированные файлы                                                                                                                                                                                                                                                                                                                                                                                        | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/XA:[RASHCNETOI]**                                                    | Исключает файлы с любым из следующих установленных атрибутов.                                                                                                                                                                                                                                                                                                                                                      
                                                                            Доступные атрибуты:                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            R   файлы только для чтения                                                                                                                                                                                                                                                                                                                                                                                        
                                                                            A   файлы, готовые к архивированию                                                                                                                                                                                                                                                                                                                                                                                 
                                                                            S   системные файлы                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            H   скрытые файлы                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                            C   сжатые файлы                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                            N   обычные файлы                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                            E   зашифрованные файлы                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            T   временные файлы                                                                                                                                                                                                                                                                                                                                                                                                
                                                                            O   автономные файлы                                                                                                                                                                                                                                                                                                                                                                                               
                                                                            I   неиндексированные файлы                                                                                                                                                                                                                                                                                                                                                                                        | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/Delimiter:\<delimiter\>**                                            | Указывает разделитель, используемый для разделения виртуальных каталогов в имени BLOB-объекта.                                                                                                                                                                                                                                                                                                                     
                                                                            По умолчанию AzCopy использует / как разделитель. Однако, AzCopy поддерживает любой общий символ (например, @, \# или %) в качестве разделителя. Если необходимо ввести любой из этих специальных символов в командную строку следует заключить имя файла в двойные кавычки.                                                                                                                                       
                                                                            Этот параметр применяется только для загрузки BLOB-объектов.                                                                                                                                                                                                                                                                                                                                                       | Да                                             | Нет                                                                         | Нет                                                                         |
| **/NC:\<number-of-concurrents\>**                                       | Задает количество одновременных операций.                                                                                                                                                                                                                                                                                                                                                                          
                                                                            По умолчанию AzCopy запускает несколько одновременных операций для увеличения скорости передачи данных. Обратите внимание, что большое количество одновременных операций в среде с низкой пропускной способностью может переполнить сетевое подключение и помешать полному завершению операций. Регулируйте количество одновременных операций в зависимости от фактической доступной пропускной способности сети.  
                                                                            Верхний лимит количества одновременно выполняемых операций составляет 512.                                                                                                                                                                                                                                                                                                                                         | Да                                             | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (только для предварительной версии)                                         | Нет                                                                         |
| **/SourceType:Blob|Table**                                              | Определяет, что ресурс `source` представляет собой BLOB-объект, доступный в локальной среде разработки, в которой запущен эмулятор хранилища.                                                                                                                                                                                                                                                                      | Да                                             | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/DestType:Blob|Table**                                                | Определяет, что ресурс `destination` представляет собой BLOB-объект, доступный в локальной среде разработки, в которой запущен эмулятор хранилища.                                                                                                                                                                                                                                                                 | Да                                             | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/PKRS:\<"key1\#key2\#key3\#..."\>**                                   | Разбивает диапазоны ключей секций для обеспечения параллельной передачи данных с целью увеличения скорости экспорта данных.                                                                                                                                                                                                                                                                                        
                                                                            Если параметр не задан, то AzCopy будет использовать одиночный поток для экспорта данных таблицы. Например, если пользователем задан параметр /PKRS:"aa\#bb", то AzCopy начинает три одновременных операции передачи.                                                                                                                                                                                              
                                                                            Каждая операция экспортирует один из диапазонов ключей секций, как это показано на примере ниже:                                                                                                                                                                                                                                                                                                                   
                                                                            [\<first partition key\>, aa)                                                                                                                                                                                                                                                                                                                                                                                      
                                                                            [aa, bb)                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                            [bb, \<last partition key\>]                                                                                                                                                                                                                                                                                                                                                                                       | Нет                                            | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/SplitSize:**<file-size>**\<file-size\>**                             | Задает размер разбитых экспортированных файлов в МБ.                                                                                                                                                                                                                                                                                                                                                               
                                                                            Если данный параметр не задан, то AzCopy поместит все экспортированные данные в один файл.                                                                                                                                                                                                                                                                                                                         
                                                                            Если данные таблицы экспортируются в BLOB-объект и размер экспортированного файла достигает 200 ГБ для BLOB-объекта, то AzCopy разделяет экспортированный файл, даже если данный параметр не задан.                                                                                                                                                                                                                | Нет                                            | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/EntityOperation:\<InsertOrSkip | InsertOrMerge | InsertOrReplace\>** | Задает поведение импортированных данных таблиц.                                                                                                                                                                                                                                                                                                                                                                    
                                                                            InsertOrSkip — Пропускает существующий объект или вставляет новый, если объект не существует в таблице.                                                                                                                                                                                                                                                                                                            
                                                                            InsertOrMerg — Объединяет существующий объект или вставляет новый, если объект не существует в таблице.                                                                                                                                                                                                                                                                                                            
                                                                            InsertOrReplace — Заменяет существующий объект или вставляет новый, если объект не существует в таблице.                                                                                                                                                                                                                                                                                                           | Нет                                            | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |
| **/Manifest:\<manifest-file\>**                                         | Задает файл описания для операции импорта данных.                                                                                                                                                                                                                                                                                                                                                                  
                                                                            Файл описания создается на стадии экспорта данных.                                                                                                                                                                                                                                                                                                                                                                 | Нет                                            | Нет                                                                         | Да                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (только для предварительной версии)                                         |

## <span id="limit-writes"></span></a> Ограничение одновременных операций записи при копировании данных

При копировании BLOB-объектов или файлов с помощью AzCopy следует иметь в виду, что другое приложение может изменять данные в то время, когда они копируются. Если это возможно, обеспечьте, чтобы во время операции копирования не происходило изменение копируемых данных. Например, при копировании VHD, связанного с виртуальной машиной Azure, убедитесь в том, что никакое другое приложение в это время не записывает данные на VHD. В качестве альтернативы можно сначала создать моментальный снимок VHD, а затем скопировать его.

Если не удается предотвратить запись в BLOB-объекты или файлы во время их копирования со стороны других приложений, следует иметь в виду, что к моменту завершения задания скопированные ресурсы могут больше не иметь полного соответствия с исходными ресурсами.

## <span id="copy-blobs"></span></a> Копирование BLOB-объектов Azure с помощью AzCopy

В приведенных ниже примерах рассматриваются различные сценарии копирования BLOB-объектов с помощью AzCopy.

### Копирование одного BLOB-объекта

**Отправка файла из файловой системы в хранилище BLOB-объектов:**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /Pattern:abc.txt

**Загрузка BLOB-объекта из хранилища BLOB-объектов в файловую систему:**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /Pattern:abc.txt

### Копирование BLOB-объекта через копирование на стороне сервера

При копировании BLOB-объекта в пределах учетной записи хранения или между разными учетными записями хранения выполняется операция копирования на стороне сервера. Для получения дополнительной информации об операциях копирования на стороне сервера см. [Сведения об асинхронных операциях копирования BLOB-объектов между различными учетными записями][Сведения об асинхронных операциях копирования BLOB-объектов между различными учетными записями].

**Копирование BLOB-объекта в пределах учетной записи хранения:**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer/mycontainer1 /Dest:https://myaccount.blob.core.windows.net/mycontainer2 /SourceKey:key /DestKey:key /Pattern:abc.txt 

**Копирование BLOB-объектов между различными учетными записями хранения:**

    AzCopy /Source:https://sourceaccount.blob.core.windows.net/mycontainer/mycontainer1 /Dest:https://destaccount.blob.core.windows.net/mycontainer2 /SourceKey:key1 /DestKey:key2 /Pattern:abc.txt

### Копирование BLOB-объекта из вторичного региона

Если учетная запись хранения имеет включенное геоизбыточное хранилище для доступа с правом чтения, можно копировать данные из вторичного региона.

**Копирование BLOB-объекта из первичной учетной записи во вторичную:**

    AzCopy /Source:https://myaccount1-secondary.blob.core.windows.net/mynewcontainer1 /Dest:https://myaccount2.blob.core.windows.net/mynewcontainer2 /SourceKey:key1 /DestKey:key2 /Pattern:abc.txt

**Загрузка BLOB-объекта во вторичной учетной записи в файл в файловой системе:**

    AzCopy /Source:https://myaccount-secondary.blob.core.windows.net/mynewcontainer /Dest:C:\myfolder /SourceKey:key /Pattern:abc.txt

### Отправка файла в новый контейнер BLOB-объектов или виртуальный каталог

**Отправка файла в новый контейнер BLOB-объектов**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mynewcontainer /DestKey:key /Pattern:abc.txt

Обратите внимание, что если указанный контейнер назначения не существует, AzCopy создаст его и загрузит в него файл.

**Отправка файла в новый виртуальный каталог BLOB-объектов**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer/vd /DestKey:key /Pattern:abc.txt

Обратите внимание, что если указанный виртуальный каталог не существует, AzCopy отправит файл, чтобы включить его в виртуальный каталог от своего имени (*например,*, `vd/abc.txt` в указанном выше примере).

### Загрузка BLOB-объекта в новую папку

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /Pattern:abc.txt

Если папка `C:\myfolder` еще не существует, AzCopy создаст ее в файловой системе и загрузит `abc.txt` в новую папку.

### Рекурсивная отправка файлов и подпапок каталога в контейнер

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /S

При задании параметра `/S` происходит копирование контента определенного каталога в хранилище BLOB-объектов рекурсивно, что означает также копирование всех подпапок и их файлов. Например, предположим, что следующие файлы размещены в папке `C:\myfolder`:

    C:\myfolder\abc.txt
    C:\myfolder\abc1.txt
    C:\myfolder\abc2.txt
    C:\myfolder\subfolder\a.txt
    C:\myfolder\subfolder\abcd.txt

После операции копирования в контейнер будут помещены следующие файлы:

    abc.txt
    abc1.txt
    abc2.txt
    subfolder\a.txt
    subfolder\abcd.txt

### Нерекурсивная отправка файлов из каталога в контейнер

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key

Если параметр `/S` не задается в командной строке, AzCopy не будет выполнять рекурсивное копирование. Копируются только файлы в указанном каталоге. Никакие подпапки и их файлы НЕ копируются. Например, предположим, что следующие файлы размещены в папке `C:\myfolder`:

    C:\myfolder\abc.txt
    C:\myfolder\abc1.txt
    C:\myfolder\abc2.txt
    C:\myfolder\subfolder\a.txt
    C:\myfolder\subfolder\abcd.txt

После операции копирования в контейнер будут помещены следующие файлы:

    abc.txt
    abc1.txt
    abc2.txt

### Рекурсивная загрузка всех BLOB-объектов контейнера в каталог файловой системы

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /S

Предположим, что в указанном контейнере находятся следующие BLOB-объекты:

    abc.txt
    abc1.txt
    abc2.txt
    vd1\a.txt
    vd1\abcd.txt

После операции копирования в каталог `C:\myfolder` будут помещены следующие файлы:

    C:\myfolder\abc.txt
    C:\myfolder\abc1.txt
    C:\myfolder\abc2.txt
    C:\myfolder\vd1\a.txt
    C:\myfolder\vd1\abcd.txt

### Рекурсивная загрузка всех BLOB-объектов виртуального каталога BLOB-объектов в файловую систему

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer/vd1/ /Dest:C:\myfolder /SourceKey:key /S

Предположим, что в указанном контейнере находятся следующие BLOB-объекты:

    abc.txt
    abc1.txt
    abc2.txt
    vd1\a.txt
    vd1\abcd.txt

После операции копирования в каталог `C:\myfolder` будут помещены следующие файлы: Обратите внимание, что копируются только BLOB-объекты в виртуальном каталоге:

    C:\myfolder\a.txt
    C:\myfolder\abcd.txt

### Рекурсивная отправка файлов, соответствующих определенному шаблону файла, в контейнер

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /Pattern:a* /S

Предположим, что следующие файлы размещены в папке `C:\myfolder`:

    C:\myfolder\abc.txt
    C:\myfolder\abc1.txt
    C:\myfolder\abc2.txt
    C:\myfolder\xyz.txt
    C:\myfolder\subfolder\a.txt
    C:\myfolder\subfolder\abcd.txt

После операции копирования в контейнер будут помещены следующие файлы:

    abc.txt
    abc1.txt
    abc2.txt
    subfolder\a.txt
    subfolder\abcd.txt

### Рекурсивная загрузка BLOB-объектов с заданным префиксом в файловую систему

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /Pattern:a /S

Предположим, что в указанном контейнере находятся следующие BLOB-объекты: Все BLOB-объекты, начинающиеся с префикса `a`, будут копированы:

    abc.txt
    abc1.txt
    abc2.txt
    xyz.txt
    vd1\a.txt
    vd1\abcd.txt

После операции копирования в папку `C:\myfolder` будут помещены следующие файлы:

    C:\myfolder\abc.txt
    C:\myfolder\abc1.txt
    C:\myfolder\abc2.txt

Обратите внимание, что префикс применяется к виртуальному каталогу, который формирует первую часть имени BLOB-объекта. В указанном выше примере виртуальный каталог не соответствует заданному префиксу и не копируется.

### Копирование BLOB-объекта и его моментальных снимков на другую учетную запись хранения

    AzCopy /Source:https://sourceaccount.blob.core.windows.net/mycontainer/mycontainer1 /Dest:https://destaccount.blob.core.windows.net/mycontainer2 /SourceKey:key1 /DestKey:key2 /Pattern:abc.txt /Snapshot

После выполнения копирования целевой контейнер будет содержать BLOB-объект и его моментальные снимки. Предположим, что в BLOB-объект в приведенном выше примере имеет два моментальных снимка, тогда контейнер будет содержать следующий BLOB-объект и моментальные снимки:

    abc.txt
    abc (2013-02-25 080757).txt
    abc (2014-02-21 150331).txt

### Использование файла ответа для задания параметров командной строки

    AzCopy /@:"C:\myfolder\abc.txt"

В файл ответа можно включить параметры командной строки AzCopy. AzCopy обрабатывает параметры в файле, как если бы он были заданы в командной строке, выполняя прямую замену содержимого файла.

**Задание одного или нескольких однострочных файлов ответа**

Предположим, что у нас имеется файл ответа с именем `source.txt`, который указывает исходный контейнер:

    /Source:http://myaccount.blob.core.windows.net/mycontainer

И файл ответа с именем `dest.txt`, который указывает папку назначения в файловой системе:

    /Dest:C:\myfolder

В также файл ответа с именем `options.txt`, определяющий параметры для AzCopy:

    /S /Y

Чтобы вызвать AzCopy с этими файлами ответов, размещенными в каталоге `C:\responsefiles`, используйте команду:

    AzCopy /@:"C:\responsefiles\source.txt" /@:"C:\responsefiles\dest.txt" /SourceKey:<sourcekey> /@:"C:\responsefiles\options.txt"   

AzCopy обрабатывает эту команду, как если бы все индивидуальные параметры были включены в командную строку:

    AzCopy /Source:http://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:<sourcekey> /S /Y

**Задание многострочного файла ответа**

Предположим у нас имеется файл ответа с именем `copyoperation.txt`, содержащий следующие строки: Каждый параметр AzCopy задается на своей собственной строке:

    /Source:http://myaccount.blob.core.windows.net/mycontainer
    /Dest:C:\myfolder
    /SourceKey:<sourcekey>
    /S 
    /Y

Чтобы вызвать AzCopy с этими файлами ответов, используйте команду:

    AzCopy /@:"C:\responsefiles\copyoperation.txt"

AzCopy обрабатывает эту команду, как если бы все индивидуальные параметры были включены в командную строку:

    AzCopy /Source:http://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:<sourcekey> /S /Y

Обратите внимание, что каждый параметр AzCopy должен быть полностью задан на одной строке. Например, при выполнении AzCopy возникнет ошибка, если разделить параметр на две строки, как показано здесь для параметра `/sourcekey`:

    http://myaccount.blob.core.windows.net/mycontainer
    C:\myfolder
    /sourcekey:
    [sourcekey]
    /S 
    /Y

### Указание подписи общего доступа (SAS)

**Указание SAS для исходного контейнера с помощью параметра /sourceSAS**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer1 /DestC:\myfolder /SourceSAS:SAS /S

**Указание SAS для исходного контейнера в URI исходного контейнера**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer1/?SourceSASToken /Dest:C:\myfolder /S

**Указание SAS для контейнера назначения с помощью параметра /destSAS**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer1 /DestSAS:SAS /Pattern:abc.txt

**Указание SAS для исходного контейнера и контейнера назначения**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer1 /Dest:https://myaccount.blob.core.windows.net/mycontainer2 /SourceSAS:SAS1 /DestSAS:SAS2 /Pattern:abc.txt

### Указание папки файла журнала

При каждом вводе команды для AzCopy выполняется проверка на наличие файла журнала в папке по умолчанию или в папке, которая была задана с помощью данного параметра. Если в обоих местах файл журнала отсутствует, AzCopy воспринимает операцию как новую и создает новый файл журнала.

Если файл журнала не существует, AzCopy проверяет, соответствует ли введенная командная строка командной строке в файле журнала. Если две командные строки совпадают, AzCopy возобновляет незавершенную операцию. Если они не совпадают, вам будет предложено либо переписать файл журнала, чтобы начать новую операцию, либо отменить текущую операцию.

**Использование местоположения по умолчанию для файла журнала**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /Z

Если опустить параметр `/Z` или задать параметр `/Z` без пути папки, как указано выше, AzCopy создает файл журнала в местоположении по умолчанию: `%SystemDrive%\Users\%username%\AppData\Local\Microsoft\Azure\AzCopy`. Если файл журнала уже существует, то AzCopy возобновляет операцию на основе файла журнала.

**Задание настраиваемого местоположения для файла журнала**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /Z:C:\journalfolder\

В этом примере создается файл журнала, если он еще не существует. Если такой файл существует, то AzCopy возобновляет операцию на основе файла журнала.

**Возобновление операции AzCopy**

    AzCopy /Z:C:\journalfolder\

В этом примере возобновляется последняя операция, при завершении которой произошел сбой.

### Создание файла журнала

**Запись в файл журнала с подробными данными в местоположении по умолчанию**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /V

Если задать параметр `/V` без указания пути файла в журнал с подробными данными, AzCopy создает файл журнала в местоположении по умолчанию: `%SystemDrive%\Users\%username%\AppData\Local\Microsoft\Azure\AzCopy`.

**Запись в файл журнала с подробными данными в настраиваемом местоположении**

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.blob.core.windows.net/mycontainer /DestKey:key /V:C:\myfolder\azcopy1.log

Обратите внимание, что если задать относительный путь после параметра `/V`, например, `/V:test/azcopy1.log`, то журнал с подробными данными создается в текущем рабочем каталоге в подпапке с именем `test`.

### Установка такого же времени последнего изменения загруженных файлов, как в исходных BLOB-объектах

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /MT

### Исключение BLOB-объектов из операции копирования на основании времени их последнего изменения

Задайте параметр `/MT`, чтобы сравнить время последнего изменения исходного BLOB-объекта и файла назначения.

**Исключение более новых BLOB-объектов, чем файл назначения**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /MT /XN

**Исключение более старых BLOB-объектов, чем файл назначения**

    AzCopy /Source:https://myaccount.blob.core.windows.net/mycontainer /Dest:C:\myfolder /SourceKey:key /MT /XO

### Задание количества одновременных операций для запуска

Параметр `/NC` задает количество одновременных операций копирования. По умолчанию AzCopy начинает одновременные операции в количестве, в восемь раз превышающем имеющееся количество ядер процессоров. При выполнении AzCopy в сети с низкой пропускной способностью можно задать меньшее количество для этого параметра, чтобы избежать сбоев, вызванных конкуренцией за ресурсы.

### Запуск AzCopy с использованием ресурсов BLOB-объектов в эмуляторе хранилища

    AzCopy /Source:https://127.0.0.1:10004/myaccount/myfileshare/ /Dest:C:\myfolder /SourceKey:key /SourceType:Blob /S

## <span id="copy-files"></span></a> Копирование файлов в файловое хранилище Azure с помощью AzCopy (только для предварительной версии)

В приведенных ниже примерах рассматриваются различные сценарии копирования файлов Azure с помощью AzCopy.

### Загрузка файла из общей папки Azure в файловую систему

    AzCopy /Source:https://myaccount.file.core.windows.net/myfileshare/myfolder1/ /Dest:C:\myfolder /SourceKey:key /Pattern:abc.txt

В случае, когда указанным источником является общая папка Azure, необходимо либо задать точное имя файла (*например,* `abc.txt`), чтобы копировать единичный файл, либо задать параметр `/S` для копирования всех файлов в общей папке рекурсивно. Попытка одновременно задать шаблон файла и параметр `/S` приведет к ошибке.

### Рекурсивная загрузка файлов и папок общей папки Azure в файловую систему

    AzCopy /Source:https://myaccount.file.core.windows.net/myfileshare/ /Dest:C:\myfolder /SourceKey:key /S

Обратите внимание, что пустые папки не копируются.

### Рекурсивная отправка файлов и папок из файловой системы в общую папку Azure

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.file.core.windows.net/myfileshare/ /DestKey:key /S

Обратите внимание, что пустые папки не копируются.

### Рекурсивная отправка файлов, соответствующих определенному шаблону файла, в общую папку Azure

    AzCopy /Source:C:\myfolder /Dest:https://myaccount.file.core.windows.net/myfileshare/ /DestKey:key /Pattern:ab* /S

## <span id="copy-entities"></span></a> Копирование сущностей в таблицу Azure с помощью AzCopy (только для предварительной версии)

В приведенных ниже примерах рассматриваются различные сценарии копирования данных таблиц Azure с помощью AzCopy.

### Экспорт данных в локальную файловую систему

    AzCopy /Source:https://myaccount.table.core.windows.net/myTable/ /Dest:D:\test\ /SourceKey:key

### Экспорт данных в BLOB-объект Azure

    AzCopy /Source:https://myaccount.table.core.windows.net/myTable/ /Dest:https://myaccount.blob.core.windows.net/mycontainer/ /SourceKey:key1 /Destkey:key2

AzCopy создает файл данных JSON в локальной папке или контейнере BLOB-объектов в соответствии с соглашением об именовании:

    <account name>_<table name>_<timestamp>_<volume index>_<CRC>.json

Созданный JSON-файл следует формату полезных метаданных. За более подробной информацией о формате полезных данных обратитесь к разделу [Формат полезных данных для служб работы с таблицами][Формат полезных данных для служб работы с таблицами].

### Разделение экспортируемых файлов

    AzCopy /Source:https://myaccount.file.core.windows.net/myfileshare/ /Dest:C:\myfolder /SourceKey:key /S /SplitSize:100

AzCopy использует *индекс тома* в именах разделенных файлов для того, чтобы отличить один файл от другого. Индекс тома состоит из двух частей: *индекс диапазонов ключей секций* и *индекс разделенного файла*. Оба индекса отсчитываются, начиная с нуля.

Индекс диапазонов ключей секций будет равен 0, если пользователем не задан параметр `/PKRS` (более подробно об этом в следующем разделе).

Предположим, например, что AzCopy создает два файла данных после того, как пользователь задал значение параметра `/SplitSize`. В таком случае конечные имена файлов могут выглядеть следующим образом:

    myaccount_mytable_20140903T051850.8128447Z_0_0_C3040FE8.json
    myaccount_mytable_20140903T051850.8128447Z_0_1_0AB9AC20.json

Обратите внимание, что минимально возможное значение для `/SplitSize` составляет 32 МБ. Если конечным назначением является хранилище BLOB­объектов, то AzCopy разделит файл, как только размер файла достигнет точки ограничения (200 ГБ), вне зависимости от того, задан ли параметр `/SplitSize` пользователем или нет.

### Экспорт данных в несколько потоков

    AzCopy /Source:https://myaccount.table.core.windows.net/myTable/ /Dest:D:\test\ /SourceKey:key /PKRS:"aa#bb"

AzCopy начнет экспортировать данные в несколько потоков, если пользователем задан параметр `/PKRS`. Каждая операция экспортирует объем данных равный значению объема, указанного в индексе диапазонов ключей секций.

Обратите внимание на то, что количество одновременных операций также контролируется параметром `/NC`. При копировании данных таблиц AzCopy использует информацию о количестве основных процессоров в качестве значения по умолчанию для параметра `/NC`, даже если параметр `/NC` не был задан пользователем. Когда параметр `/PKRS`задан пользователем, AzCopy использует меньшее из двух значений (индекса диапазонов ключей секций и явно или не явно заданный параметр количества одновременных операций) для того, чтобы определить сколько одновременных операций разрешены для запуска процесса. Для получения более подробной информации введите `AzCopy /?:NC` в командную строку.

### Импорт данных в несколько потоков

    AzCopy /Source:D:\test\ /Dest:https://myaccount.table.core.windows.net/mytable1/ /DestKey:key /Manifest:"myaccount_mytable_20140103T112020.manifest" /EntityOperation:InsertOrReplace 

При экспорте данных таблиц AzCopy создает файл описания в конечной папке копирования или BLOB-объекте. Файл описания используется процессом для нахождения нужных файлов и проверки корректности данных в файлах во время импорта. Файл описания использует следующее соглашение о наименовании:

    <account name>_<table name>_<timestamp>.manifest

Параметр `/EntityOperation` определяет способ размещения данных в таблице. Возможные значения:

-   `InsertOrSkip`: пропускает существующую сущность или вставляет новую, если сущности нет в таблице.
-   `InsertOrMerge`: объединяет существующую сущность или вставляет новую, если сущности нет в таблице.
-   `InsertOrReplace`: Заменяет существующую сущность или вставляет новую, если сущности нет в таблице.

Обратите внимание на то, что вы не можете задать значение параметра `/PKRS` в сценарии импорта данных. В отличие от сценария экспорта данных, в котором вам необходимо было задавать параметр `/PKRS` для начала многопотоковой передачи данных, при экспорте данных AzCopy по умолчанию задает параметр передачи в несколько потоков. Количество потоков по умолчанию соответствует количеству основных процессоров. Однако, вы можете задать свое значение через параметр `/NC`. Для получения более подробной информации введите `AzCopy /?:NC` в командную строку.

## <span id="versions"></span></a> Версии AzCopy

| Версия           | Новые возможности                                                                                                                                                                                                                                                                              |
|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Версия 4.0.0** | **Текущая предварительная версия. Включает в себя весь набор функциональных возможностей версии 3.0.0. Версия поддерживает возможность копирования файлов в хранилище файлов Azure и импорт файлов из него, а также копирование данных в хранилище таблиц Azure и извлечение данных из него.** |
| **Версия 3.0.0** | **Текущая версия выпуска. Изменен синтаксис командной строки AzCopy: теперь необходимо указывать имя параметра. Изменен внешний вид справки по командной строке. Данная версия поддерживает только копирование данных в BLOB-объекты Azure и из них.**                                         |
| Версия 2.5.1     | Текущая версия. Повышена производительность при использовании /xo и /xn. Исправлены ошибки, возникающие при наличии в имени исходного файла специальных символов, а также появление ошибок в файле журнала из-за неправильного введения команд пользователем в командной строке.               |
| V2.5.0           | Улучшена производительность при крупномасштабных сценариях копирования, а также реализовано несколько важных улучшений для повышения удобства использования.                                                                                                                                   |
| V2.4.1           | Поддерживает указание папки назначения в мастере установки.                                                                                                                                                                                                                                    |
| V2.4.0           | Поддерживает отправку и загрузку файлов для хранилища файлов Azure.                                                                                                                                                                                                                            |
| V2.3.0           | Поддерживает геоизбыточные учетные записи хранения для доступа с правом чтения.                                                                                                                                                                                                                |
| V2.2.2           | Обновлена для использования библиотеки клиента хранилища Azure версии 3.0.3.                                                                                                                                                                                                                   |
| V2.2.1           | Устранение проблем с производительностью при копировании большого количества файлов в пределах одной учетной записи хранения.                                                                                                                                                                  |
| V2.2             | Поддерживает задание разделителя виртуального каталога для имен BLOB-объектов. Поддерживает задание пути файла журнала.                                                                                                                                                                        |
| V2.1             | Предоставляет более 20 параметров для выполнения эффективных операций отправки, загрузки и копирования BLOB-объектов.                                                                                                                                                                          |

## <span id="next-steps"></span></a>Дальнейшие действия

Для получения дополнительной информации о хранилище Azure и AzCopy см. следующие ресурсы.

### Документация по хранилищу Azure:

-   [Введение в хранилище Azure][Введение в хранилище Azure]
-   [Хранение файлов в хранилище BLOB-объектов][Хранение файлов в хранилище BLOB-объектов]
-   [Создание общей папки SMB в Azure с помощью хранилища файлов][Создание общей папки SMB в Azure с помощью хранилища файлов]

### Записи блога по хранилищу Azure:

-   [Введение в службы файлов Microsoft Azure][Введение в службы файлов Microsoft Azure]
-   [AzCopy 2.5: оптимизированные сценарии для крупномасштабного копирования][AzCopy 2.5: оптимизированные сценарии для крупномасштабного копирования]
-   [AzCopy: поддержка геоизбыточного хранилища для доступа с правом чтения][AzCopy: поддержка геоизбыточного хранилища для доступа с правом чтения]
-   [AzCopy: передача данных с использованием перезапускаемого режима и маркера SAS][AzCopy: передача данных с использованием перезапускаемого режима и маркера SAS]
-   [AzCopy: использование копирования BLOB-объектов между разными учетными записями][AzCopy: использование копирования BLOB-объектов между разными учетными записями]
-   [AzCopy: отправка/ загрузка файлов для BLOB-объектов Windows Azure][AzCopy: отправка/ загрузка файлов для BLOB-объектов Windows Azure]

  [Загрузка и установка AzCopy]: #install
  [Сведения о синтаксисе командной строки AzCopy]: #syntax
  [Ограничение одновременных операций записи при копировании данных]: #limit-writes
  [Копирование BLOB-объектов Azure с помощью AzCopy]: #copy-blobs
  [Копирование файлов в общую папку Azure с помощью AzCopy (только для предварительной версии)]: #copy-files
  [Копирование массивов таблиц Azure с помощью AzCopy (только для предварительной версии)]: #copy-entities
  [Версии AzCopy]: #versions
  [Дальнейшие действия]: #next-steps
  [последней версии AzCopy]: http://aka.ms/downloadazcopy
  [самой последней предварительной версии]: http://aka.ms/downloadazcopypr
  [Сведения об асинхронных операциях копирования BLOB-объектов между различными учетными записями]: http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx
  [Формат полезных данных для служб работы с таблицами]: http://msdn.microsoft.com/library/azure/dn535600.aspx
  [Введение в хранилище Azure]: http://azure.microsoft.com/ru-ru/documentation/articles/storage-introduction/
  [Хранение файлов в хранилище BLOB-объектов]: http://azure.microsoft.com/ru-ru/documentation/articles/storage-dotnet-how-to-use-blobs/
  [Создание общей папки SMB в Azure с помощью хранилища файлов]: http://azure.microsoft.com/ru-ru/documentation/articles/storage-dotnet-how-to-use-files/
  [Введение в службы файлов Microsoft Azure]: http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx
  [AzCopy 2.5: оптимизированные сценарии для крупномасштабного копирования]: http://go.microsoft.com/fwlink/?LinkId=507682
  [AzCopy: поддержка геоизбыточного хранилища для доступа с правом чтения]: http://blogs.msdn.com/b/windowsazurestorage/archive/2014/04/07/azcopy-support-for-read-access-geo-redundant-account.aspx
  [AzCopy: передача данных с использованием перезапускаемого режима и маркера SAS]: http://blogs.msdn.com/b/windowsazurestorage/archive/2013/09/07/azcopy-transfer-data-with-re-startable-mode-and-sas-token.aspx
  [AzCopy: использование копирования BLOB-объектов между разными учетными записями]: http://blogs.msdn.com/b/windowsazurestorage/archive/2013/04/01/azcopy-using-cross-account-copy-blob.aspx
  [AzCopy: отправка/ загрузка файлов для BLOB-объектов Windows Azure]: http://blogs.msdn.com/b/windowsazurestorage/archive/2012/12/03/azcopy-uploading-downloading-files-for-windows-azure-blobs.aspx
