---
title: "Руководство по реестру контейнеров Azure. Развертывание веб-приложения из реестра контейнеров Azure"
description: "Развертывание веб-приложения на основе Linux с помощью образа контейнера из геореплицируемого реестра контейнеров Azure. Вторая часть руководства из трех частей."
services: container-registry
documentationcenter: 
author: mmacy
manager: timlt
editor: neilpeterson
tags: acr, azure-container-registry, geo-replication
keywords: "Docker, контейнеры, реестр, Azure"
ms.service: container-registry
ms.devlang: 
ms.topic: tutorial
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/24/2017
ms.author: marsma
ms.custom: 
ms.openlocfilehash: 90d4b51dfaad409298f72887480dfaf827aef9f0
ms.sourcegitcommit: f8437edf5de144b40aed00af5c52a20e35d10ba1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2017
---
# <a name="deploy-web-app-from-azure-container-registry"></a>Развертывание веб-приложения из реестра контейнеров Azure

Это вторая часть руководства, состоящего из трех частей. В [первой части](container-registry-tutorial-prepare-registry.md) создавался закрытый геореплицированный реестр контейнеров, а образ контейнера создавался из источника и отправлялся в реестр. В этой статье контейнер развертывается в два экземпляра веб-приложений в двух разных регионах Azure, чтобы воспользоваться преимуществами аспекта сети геореплицированного регистра.

В этом руководстве, второй части серии:

> [!div class="checklist"]
> * образ контейнера развертывается в два экземпляра *веб-приложения для контейнеров*;
> * проверяется развернутое приложение.

Если геореплицированный реестр еще не создан и образ контейнерного примера приложения не отправлен в него, вернитесь к предыдущему руководству и серии: [Подготовка геореплицированного реестра контейнеров Azure](container-registry-tutorial-prepare-registry.md).

В следующей части серии будет выполнено обновление приложения и отправка нового образа контейнера в реестр. Наконец перейдите к каждому выполняющемуся экземпляру веб-приложения, чтобы просмотреть изменения, автоматически отображаемые в них, показывая георепликацию и веб-перехватчики реестра контейнеров Azure в действии.

## <a name="automatic-deployment-to-web-apps-for-containers"></a>Автоматическое развертывание в службе "Веб-приложение для контейнеров"

Реестр контейнеров Azure предоставляет поддержку для развертывания контейнерных приложений напрямую в [веб-приложения для контейнеров](../app-service/containers/index.yml). В этом руководстве портал Azure используется для развертывания образа контейнера, созданного в предыдущих руководствах в два плана веб-приложений, расположенных в разных регионах Azure.

Если при развертывании веб-приложения из образа контейнера в реестр у вас есть геореплицированный реестр в том же регионе, реестр контейнеров Azure создаст [веб-перехватчик](container-registry-webhook.md) образа развертывания для вас. При отправке нового образа в репозиторий контейнера, веб-перехватчик примет изменения и автоматически развернет новый образ контейнера в веб-приложении.

## <a name="deploy-a-web-app-for-containers-instance"></a>Развертывание экземпляра веб-приложения для контейнеров

На этом этапе создается экземпляр веб-приложения для контейнеров в регионе *западная часть США*.

Войдите на [портал Azure](https://portal.azure.com) и перейдите к реестру, созданному в предыдущем руководстве.

Выберите **Репозитории** > **acr-helloworld**, щелкните правой кнопкой мыши тег **v1** в разделе **Теги** и выберите **Deploy to web app** (Развернуть в веб-приложении).

![Развертывание в службу приложений на портале Azure][deploy-app-portal-01]

В отобразившемся разделе **Веб-приложение для контейнеров** укажите приведенные ниже значения параметров.

| Настройка | Значение |
|---|---|
| **Имя сайта** | Глобально уникальное имя для веб-приложения. В этом примере используется формат `<acrName>-westus`, чтобы легко определить реестр и регион из которого развернуто веб-приложение. |
| **Группа ресурсов** | **Используйте имеющиеся** > `myResourceGroup` |
| **Расположение или план службы приложений** | Создайте новый план с именем `plan-westus` в регионе **западная часть США**. |
| **Образ —** | `acr-helloworld:v1`

Выберите **Создать**, чтобы подготовить веб-приложение в регионе *западная часть США*.

![Веб-приложение в конфигурации Linux на портале Azure][deploy-app-portal-02]

## <a name="view-the-deployed-web-app"></a>Просмотр развернутого веб-приложения

После завершения развертывания можно просмотреть выполняющееся приложение, перейдя по URL-адресу в браузере.

На портале выберите **Службы приложений**, а затем — веб-приложение, которое было подготовлено на предыдущем шаге. В этом примере веб-приложение называется *uniqueregistryname westus*.

Выберите ссылку URL-адреса веб-приложения в правой верхней части раздела **Служба приложений** для просмотра выполняющегося приложения в браузере.

![Веб-приложение в конфигурации Linux на портале Azure][deploy-app-portal-04]

После развертывания образа Docker из геореплицированного реестра контейнеров сайт отобразит образ, представляющий регион Azure, в котором размещен реестр контейнеров.

![Просмотр развернутого веб-приложения в браузере][deployed-app-westus]

## <a name="deploy-second-web-app-for-containers-instance"></a>Развертывание второго экземпляра веб-приложения для контейнеров

Используйте процедуру, описанную в предыдущем разделе для развертывания второго веб-приложения в регионе *восточная часть США*. В разделе **Веб-приложение для контейнеров** укажите следующие значения.

| Настройка | Значение |
|---|---|
| **Имя сайта** | Глобально уникальное имя для веб-приложения. В этом примере используется формат `<acrName>-eastus`, чтобы легко определить реестр и регион из которого развернуто веб-приложение. |
| **Группа ресурсов** | **Используйте имеющиеся** > `myResourceGroup` |
| **Расположение или план службы приложений** | Создайте новый план с именем `plan-eastus` в регионе **восточная часть США**. |
| **Образ —** | `acr-helloworld:v1`

Выберите **Создать**, чтобы подготовить веб-приложение в регионе *восточная часть США*.

![Веб-приложение в конфигурации Linux на портале Azure][deploy-app-portal-06]

## <a name="view-the-deployed-web-app"></a>Просмотр развернутого веб-приложения

Как и ранее можно просмотреть выполняющееся приложение, перейдя по URL-адресу в браузере.

На портале выберите **Службы приложений**, а затем — веб-приложение, которое было подготовлено на предыдущем шаге. В этом примере веб-приложение с именем *uniqueregistryname-eastus*.

Выберите ссылку URL-адреса веб-приложения в правой верхней части раздела **Обзор службы приложений** для просмотра выполняющегося приложения в браузере.

![Веб-приложение в конфигурации Linux на портале Azure][deploy-app-portal-07]

После развертывания образа Docker из геореплицированного реестра контейнеров сайт отобразит образ, представляющий регион Azure, в котором размещен реестр контейнеров.

![Просмотр развернутого веб-приложения в браузере][deployed-app-eastus]

## <a name="next-steps"></a>Дальнейшие действия

В этом руководстве было выполнено развертывание двух экземпляров веб-приложения для контейнеров из геореплицированного реестра контейнеров Azure. Следуя шагам в этом руководстве, вы:

> [!div class="checklist"]
> * развернули образ контейнера на двух экземплярах *веб-приложения для контейнеров*;
> * проверили развертывание приложения.

Перейдите к следующему руководству, чтобы развернуть новый образ контейнера в реестре контейнеров, а затем убедитесь, что веб-приложения, выполняемые в обоих регионах были автоматически обновлены.

> [!div class="nextstepaction"]
> [Отправка обновленного образа в региональные развертывания](./container-registry-tutorial-deploy-update.md)

<!-- IMAGES -->
[deploy-app-portal-01]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-01.png
[deploy-app-portal-02]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-02.png
[deploy-app-portal-03]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-03.png
[deploy-app-portal-04]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-04.png
[deploy-app-portal-05]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-05.png
[deploy-app-portal-06]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-06.png
[deploy-app-portal-07]: ./media/container-registry-tutorial-deploy-app/deploy-app-portal-07.png
[deployed-app-westus]: ./media/container-registry-tutorial-deploy-app/deployed-app-westus.png
[deployed-app-eastus]: ./media/container-registry-tutorial-deploy-app/deployed-app-eastus.png