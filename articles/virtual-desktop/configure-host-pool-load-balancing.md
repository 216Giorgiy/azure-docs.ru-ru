---
title: Настроить виртуальный рабочий стол Windows-метод балансировки нагрузки (Предварительная версия) — Azure
description: Сведения о настройке метода балансировки нагрузки в среде виртуального рабочего стола Windows.
services: virtual-desktop
author: Heidilohr
ms.service: virtual-desktop
ms.topic: conceptual
ms.date: 03/21/2019
ms.author: helohr
ms.openlocfilehash: 10a1066b85b16749fe95e373e696d486b0e7bafa
ms.sourcegitcommit: 90dcc3d427af1264d6ac2b9bde6cdad364ceefcc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2019
ms.locfileid: "58318349"
---
# <a name="configure-the-windows-virtual-desktop-load-balancing-method"></a>Настройка метода балансировки нагрузки виртуальный рабочий стол Windows

Настройке метода балансировки нагрузки для пула узлов позволяет настраивать среде виртуального рабочего стола Windows (Предварительная версия) для большего соответствия вашим потребностям.

>[!NOTE]
> Это относится к пулу постоянные узла рабочего стола, так как у пользователей всегда есть взаимно-однозначного сопоставления для узла сеансов в пуле узлов.

## <a name="configure-breadth-first-load-balancing"></a>Настройка балансировки нагрузки по ширине

Балансировка нагрузки по ширине является конфигурацией по умолчанию для новых пулов непостоянный узла. По ширине балансировки нагрузки распределяет новых пользовательских сеансов для всех узлов в пуле узлов, доступных сеансов. При настройке балансировки нагрузки по ширине, вы может ограничить максимальное число сеансов для каждого узла сеанса в пуле узлов.

Во-первых, [Загрузите и импортируйте модуль PowerShell для виртуальных рабочих столов Windows](https://docs.microsoft.com/powershell/windows-virtual-desktop/overview) для использования в сеансе PowerShell, если у вас еще нет.

Чтобы настроить пул узлов для выполнения преимущественно балансировку нагрузки без настройки ограничивает продолжительность сеанса, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -BreadthFirstLoadBalancer
```

Чтобы настроить пул узлов для выполнения балансировки нагрузки по ширине и использовать новый сеанс максимальное ограничение, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -BreadthFirstLoadBalancer -MaxSessionLimit ###
```

## <a name="configure-depth-first-load-balancing"></a>Настройка балансировки нагрузки преимущественно в глубину

Балансировка нагрузки преимущественно в глубину распределяет новых пользовательских сеансов, в основном доступных сеансов с наибольшим номером подключений, но не достигнут порог его максимальное число сеансов. При настройке балансировки нагрузки преимущественно в глубину, вы **необходимо** ограничить максимальное число сеансов для каждого сеанса узла в пуле узлов.

Чтобы настроить пул для выполнения балансировки нагрузки преимущественно в глубину узла, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -DepthFirstLoadBalancer -MaxSessionLimit ###
```
