---
title: "Краткое руководство. Создание базы данных Azure для сервера MySQL с помощью портала Azure | Документация Майкрософт"
description: "В этой статье описывается быстрое (в пределах пяти минут) создание примера базы данных Azure для сервера MySQL с помощью портала Azure."
services: mysql
author: v-chenyh
ms.author: v-chenyh
manager: jhubbard
editor: jasonwhowell
ms.service: mysql-database
ms.custom: mvc
ms.topic: hero-article
ms.date: 08/15/2017
ms.translationtype: HT
ms.sourcegitcommit: 1e6fb68d239ee3a66899f520a91702419461c02b
ms.openlocfilehash: 829c7e73cbf22d866bbd6fd54edc7a954ad7174c
ms.contentlocale: ru-ru
ms.lasthandoff: 08/16/2017

---

# <a name="create-an-azure-database-for-mysql-server-using-azure-portal"></a>Создание базы данных Azure для сервера MySQL с помощью портала Azure
База данных Azure для MySQL — это управляемая служба, которая позволяет вам запускать, администрировать и масштабировать высокодоступные базы данных MySQL в облаке. В этом кратком руководстве описывается, как быстро создать базу данных Azure для сервера MySQL с помощью портала Azure. 

Если у вас еще нет подписки Azure, создайте [бесплатную](https://azure.microsoft.com/free/) учетную запись Azure, прежде чем начинать работу.

## <a name="log-in-to-azure"></a>Вход в Azure
Откройте свой веб-браузер и перейдите на [портал Microsoft Azure](https://portal.azure.com/). Введите свои учетные данные для входа на портал. Панель мониторинга службы является представлением по умолчанию.

## <a name="create-azure-database-for-mysql-server"></a>Создание базы данных Azure для сервера MySQL
Сервер базы данных Azure для MySQL создается с определенным набором [вычислительных ресурсов и ресурсов хранения](./concepts-compute-unit-and-storage.md). Он создается в [группе ресурсов Azure](../azure-resource-manager/resource-group-overview.md).

Чтобы создать базу данных Azure для сервера MySQL, сделайте следующее:

1. Щелкните **Создать** (+) в верхнем левом углу портала Azure.

2. Выберите **Базы данных** на странице **Создание** и щелкните **База данных Azure для MySQL** на странице **Базы данных**. Чтобы найти службу на странице создания, можно также ввести в поле поиска **MySQL**.
![Портал Azure. Новая база данных. MySQL](./media/quickstart-create-mysql-server-database-using-azure-portal/2_navigate-to-mysql.png)

3. Заполните форму сведений о новом сервере, указав следующую информацию, как показано на предыдущем рисунке.

    **Параметр** | **Рекомендуемое значение** | **Описание поля** 
    ---|---|---
    имя сервера; | myserver4demo | Выберите уникальное имя, идентифицирующее базу данных Azure для сервера MySQL. Имя домена *mysql.database.azure.com* добавляется к указанному вами имени сервера, к которому должны подключаться приложения. В имени сервера можно использовать только строчные буквы, цифры и знак дефиса (-). Длина имени должна составлять от 3 до 63 символов.
    Подписки | Ваша подписка | Подписка Azure, которую вы хотите использовать для сервера. Если вы используете несколько подписок, выберите ту, в которой за ресурс взимается плата.
    Группа ресурсов | myresourcegroup | Можно создать новую группу ресурсов или использовать существующую группу из подписки.
    учетные данные администратора сервера для входа; | myadmin | Создайте собственную учетную запись для входа при подключении к серверу. Не используйте для имени учетной записи администратора такие варианты: azure_superuser, admin, administrator, root, guest или public.
    Пароль | *По своему выбору* | Создайте пароль учетной записи администратора сервера. Пароль должен содержать от 8 до 128 символов. Пароль должен содержать символы трех из следующих категорий: прописные латинские буквы, строчные латинские буквы, цифры (0–9) и другие символы (!, $, #, % и т. д.).
    Подтверждение пароля. | *По своему выбору*| Подтвердите пароль учетной записи администратора.
    Расположение | *Ближайший к пользователям регион*| Выберите расположение наиболее близкое к пользователям или другим приложениям Azure.
    Version (версия) | *Выберите последнюю версию*| Если нет особых требований, выберите последнюю версию.
    Ценовая категория | **Базовый**, **50 единиц вычислений**,  **50 ГБ** | Щелкните **Ценовая категория**, чтобы указать уровень производительности и уровень служб для новой базы данных. На вкладке вверху выберите **уровень "Базовый"**. Щелкните ползунок **Единицы вычислений** слева, чтобы для начала выбрать наименьшее доступное значение. Нажмите кнопку **ОК**, чтобы сохранить ценовую категорию. Экран должен выглядеть следующим образом.
    Закрепление на панели мониторинга | Проверка | Установите флажок **Закрепить на панели мониторинга**, чтобы отслеживать работу сервера на странице передней панели мониторинга портала Azure.

    > [!IMPORTANT]
    > Указанные здесь учетные данные и пароль администратора сервера понадобятся позже в этом руководстве, чтобы войти на сервер и в его базу данных. Запомните или запишите эту информацию для последующего использования.
    > 

    ![Портал Azure — создание MySQL с помощью указания требуемых входных данных для формы](./media/quickstart-create-mysql-server-database-using-azure-portal/3_create-server.png)

4.  Нажмите кнопку **Создать**, чтобы подготовить сервер. Подготовка занимает максимум 20 минут.
   
5.  На панели инструментов щелкните **Уведомления** (значок колокольчика), чтобы отслеживать процесс развертывания.

## <a name="configure-a-server-level-firewall-rule"></a>Настройка правила брандмауэра на уровне сервера

База данных Azure для службы MySQL создает брандмауэр на уровне сервера. Он не позволяет внешним приложениям и средствам подключаться к серверу и к любой базе данных на сервере, если не создано правило брандмауэра, открывающее брандмауэр для определенных IP-адресов. 

1.  Найдите сервер после завершения развертывания. При необходимости можно выполнить поиск. Например, щелкните **Все ресурсы** в меню слева и введите имя сервера (например, *myserver4demo*), чтобы найти созданный сервер. Щелкните имя сервера в результатах поиска. После этого откроется страница **обзора** сервера с параметрами для дальнейшей конфигурации.

2. На странице сервера выберите **Безопасность подключения**.

3.  В разделе **Правила брандмауэра** щелкните пустое текстовое поле в столбце **Имя правила**, чтобы создать правило брандмауэра. 

    В этом кратком руководстве мы разрешим трафик на сервер со всех IP-адресов. Для этого введите следующие значения в текстовое поле в каждом столбце:

    Имя правила | Начальный IP-адрес | Конечный IP-адрес 
    ---|---|---
    AllowAllIps |  0.0.0.0 | 255.255.255.255

4. На верхней панели инструментов страницы **Безопасность подключения** щелкните **Сохранить**. Перед продолжением подождите несколько секунд и дождитесь уведомлениям о том, что обновление безопасности подключения завершилось успешно.

    > [!NOTE]
    > Подключитесь к базе данных Azure для MySQL через порт 3306. Если вы пытаетесь подключиться из корпоративной сети, исходящий трафик через порт 3306 может быть запрещен сетевым брандмауэром. В таком случае вы не сможете подключиться к серверу. Для этого ваш ИТ-отдел должен открыть порт 3306.
    > 

## <a name="get-the-connection-information"></a>Получение сведений о подключении
Для подключения к серверу базы данных вам потребуются учетные данные администратора для входа и полное имя сервера. Скорее всего, вы записали эти значения на предыдущем этапе этого руководства. Если вы этого не сделали, вы можете легко найти данные для входа на странице **Обзор** сервера или на странице **Свойства** на портале Azure.

1. Откройте страницу сервера **Обзор**. Запишите значения **имени сервера** и **имени для входа администратора сервера**. 
    Наведите указатель на каждое поле. Справа от текста отобразится значок копирования. Щелкните значок копирования, чтобы скопировать нужные значения.

    В этом примере серверу присвоено имя *myserver4demo.mysql.database.azure.com*, а имя для входа администратора сервера имеет значение *myadmin@myserver4demo*.

## <a name="connect-to-mysql-using-mysql-command-line-tool"></a>Подключение к MySQL с помощью программы командной строки
К базе данных Azure для сервера MySQL можно подключиться с помощью нескольких приложений. Сначала воспользуемся программой командной строки [mysql](https://dev.mysql.com/doc/refman/5.7/en/mysql.html) для подключения к серверу.  Веб-браузер и Azure Cloud Shell можно использовать, как описано здесь, без установки дополнительного программного обеспечения. Если на вашем компьютере установлена служебная программа mysql, вы можете подключиться с него.

1. Запустите Azure Cloud Shell с помощью значка терминала ( >_ ) в верхней правой части страницы портала Azure.

2. В браузере откроется служба Azure Cloud Shell, которая позволяет выполнять команды оболочки Bash.

    ![Командная строка — пример командной строки MySQL](./media/quickstart-create-mysql-server-database-using-azure-portal/7_connect-to-server.png)

3. Подключитесь к базе данных Azure для сервера MySQL, введя команду mysql в зеленой командной строке Cloud Shell.

    Используйте следующий формат, чтобы подключиться к серверу базы данных Azure для MySQL с помощью служебной программы mysql:
    ```bash
    mysql --host <yourserver> --user <server admin login> --password
    ```

    Например, следующая команда позволяет подключиться к нашему серверу, используемому для примера:
    ```azurecli-interactive
    mysql --host myserver4demo.mysql.database.azure.com --user myadmin@myserver4demo --password
    ```

    параметр mysql |Рекомендуемое значение|Описание
    ---|---|---
    --host | *имя сервера* | Укажите значение имени сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. В нашем примере используется такое имя сервера: myserver4demo.mysql.database.azure.com. Используйте полное доменное имя (\*.mysql.database.azure.com), как показано в примере. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя своего сервера. 
    --user | *имя для входа администратора сервера* |Введите имя администратора сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя пользователя.  Используйте формат *username@servername*.
    --password | *дождитесь появления запроса* | После ввода команды вам будет предложено ввести пароль. При появлении запроса введите тот же пароль, который вы указали при создании сервера.  Обратите внимание, что символы введенного пароля не будут отображаться в строке Bash при их вводе. После ввода всех символов нажмите клавишу ВВОД для проверки подлинности и подключения.

   После подключения в служебной программе mysql появится командная строка `mysql>` для введения команд. 

    Пример выходных данных mysql:
    ```bash
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 65505
    Server version: 5.6.26.0 MySQL Community Server (GPL)
    
    Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
    
    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.

    Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
    
    mysql>
    ```
    > [!TIP]
    > Если брандмауэр не настроен на разрешение IP-адресов Azure Cloud Shell, возникает следующая ошибка:
    >
    > ОШИБКА 2003 (28000): для клиента с IP-адресом 123.456.789.0 доступ к серверу не разрешен.
    >
    > Чтобы устранить эту ошибку, убедитесь, что конфигурация сервера соответствует инструкциям в разделе *Настройка правила брандмауэра уровня сервера* статьи.

4. Просмотрите данные состояния сервера, чтобы проверить, установлено ли подключение. После подключения введите в строке mysql> команду `status`.
    ```sql
    status
    ```

   > [!TIP]
   > Дополнительные команды см. в [разделе 4.5.1 справочного руководства по MySQL 5.7](https://dev.mysql.com/doc/refman/5.7/en/mysql.html).

5.  Создайте пустую базу данных. Для этого в командной строке mysql введите следующую команду:
    ```sql
    CREATE DATABASE quickstartdb;
    ```
    Выполнение команды может занять несколько секунд. 

    На сервере базы данных Azure для MySQL можно создать одну или несколько баз данных. Можно создать по одной базе данных на каждом сервере, чтобы использовать все ресурсы, или несколько баз данных, чтобы предоставить общий доступ к ресурсам. Количество создаваемых баз данных не ограничено, однако все они совместно используют одни и те же ресурсы сервера. 

6. Выведите список баз данных в командной строке mysql, введя следующую команду:

    ```sql
    SHOW DATABASES;
    ```

7.  Введите `\q` и нажмите клавишу ВВОД, чтобы выйти из средства mysql. После выполнения Azure Cloud Shell можно закрыть.

Итак, вы подключились к базе данных Azure для MySQL и создали пустую пользовательскую базу данных. Перейдите к следующему разделу, чтобы повторить аналогичное упражнение и подключиться к тому же серверу с помощью другого популярного средства — MySQL Workbench.

## <a name="connect-to-the-server-using-the-mysql-workbench-gui-tool"></a>Подключение к серверу с помощью инструмента графического пользовательского интерфейса MySQL Workbench
Чтобы подключиться к серверу MySQL Azure с помощью инструмента графического интерфейса MySQL Workbench:

1.  Запустите приложение MySQL Workbench на клиентском компьютере. Скачать и установить MySQL Workbench вы можете [здесь](https://dev.mysql.com/downloads/workbench/).

2.  В диалоговом окне **настройки нового подключения** на вкладке **Параметры** введите следующие сведения:

    ![Настройка нового подключения](./media/quickstart-create-mysql-server-database-using-azure-portal/setup-new-connection.png)

    | **Параметр** | **Рекомендуемое значение** | **Описание поля** |
    |---|---|---|
    |   Имя подключения | Пример подключения | Укажите метку для этого подключения. |
    | Способ подключения | Стандартный способ (по протоколу TCP/IP) | Стандартный способ (по протоколу TCP/IP) соответствует требованиям. |
    | имя узла; | *имя сервера* | Укажите значение имени сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. В нашем примере используется такое имя сервера: myserver4demo.mysql.database.azure.com. Используйте полное доменное имя (\*.mysql.database.azure.com), как показано в примере. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя своего сервера.  |
    | Порт | 3306 | Всегда используйте порт 3306 при подключении к базе данных Azure для MySQL. |
    | Имя пользователя |  *имя для входа администратора сервера* | Введите имя администратора сервера, которое вы использовали ранее при создании базы данных Azure для MySQL. Пример нашего имени пользователя — myadmin@myserver4demo. Выполните действия из предыдущего раздела, чтобы найти сведения для подключения, если вы не помните имя пользователя. Используйте формат *username@servername*.
    | Пароль | Ваш пароль. | Нажмите кнопку "Store in Vault..." (Сохранить в хранилище), чтобы сохранить пароль. |

    Щелкните **Проверить подключение**, чтобы проверить, все ли параметры верно настроены. Нажмите кнопку "ОК", чтобы сохранить подключение. 

    > [!NOTE]
    > На сервере по умолчанию применяется протокол SSL. Для успешного подключения его нужно дополнительно настроить. Ознакомьтесь со статьей [Configure SSL connectivity in your application to securely connect to Azure Database for MySQL](./howto-configure-ssl.md) (Настройка SSL-соединений в приложении для безопасного подключения к базе данных Azure для MySQL).  Чтобы не задействовать протокол SSL в рамках этого краткого руководства, на портале Azure перейдите на страницу "Безопасность подключения" и отключите параметр "Принудительно использовать SSL-соединение".

## <a name="clean-up-resources"></a>Очистка ресурсов
Очистите ресурсы, созданные в рамках работы с этим руководством, удалив [группу ресурсов Azure](../azure-resource-manager/resource-group-overview.md), которая включает все ресурсы в группе ресурсов, или удалив один ресурс сервера, если необходимо сохранить остальные ресурсы без изменений.

> [!TIP]
> Другие краткие руководства в этой коллекции созданы на основе этого документа. Если вы планируете продолжать работу с этими краткими руководствами, не удаляйте созданные ресурсы. Если вы не планируете продолжать работу, удалите все созданные ресурсы, выполнив на портале Azure следующие действия.
>

Чтобы удалить группу ресурсов, включая только что созданный сервер, сделайте следующее:
1.  Найдите группу ресурсов на портале Azure. В меню слева на портале Azure щелкните **Группы ресурсов**, а затем выберите имя группы ресурсов, такое как наш пример **myresourcegroup**.
2.  На странице группы ресурсов щелкните **Удалить**. Затем введите имя своей группы ресурсов, например, из нашего примера — **myresourcegroup**, в текстовое поле, чтобы подтвердить удаление, и щелкните **Удалить**.

Или наоборот, чтобы удалить только что созданный сервер:
1.  Найдите сервер на портале Azure, если он у вас не открыт. В меню слева на портале Azure щелкните **Все ресурсы** и найдите созданный сервер.
2.  На странице **Обзор** нажмите кнопку **Удалить** в верхней части области.
![Имя базы данных Azure для MySQL: удаление сервера](./media/quickstart-create-mysql-server-database-using-azure-portal/delete-server.png)
3.  Подтвердите имя сервера, которое нужно удалить, чтобы появилась нужная база данных. Введите имя сервера в текстовое поле, в нашем примере это **myserver4demo**, и щелкните **Удалить**.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Проектирование первой базы данных Azure для MySQL](./tutorial-design-database-using-portal.md)


