<properties linkid="manage-services-what-is-a-cloud-service" urlDisplayName="Что такое облачная служба" pageTitle="Что такое облачная служба – управление службой Azure" metaKeywords="Введение в облачные службы Azure, обзор облачных служб, базовые сведения об облачных службах" description="Введение в облачные службы Azure." metaCanonical="" services="cloud-services" documentationCenter="" title="Что такое облачная служба?" authors="ryanwi" solutions="" manager="" editor="" />




#Что такое облачная служба?
При создании приложения и запуске его в Azure совокупность кода и конфигурации называется *облачной службой* Azure (в более ранних выпусках Azure это сочетание называлось размещенной службой).

После создания облачной службы можно развернуть в Azure многоуровневое приложение, определяя несколько ролей для распределенной обработки, а также обеспечить гибкое масштабирование своего приложения. Облачная служба состоит из одной или нескольких веб-ролей и рабочих ролей, каждая из которых имеет собственные файлы и конфигурацию приложения.

Обеспечивая работу облачной службы, Azure поддерживает инфраструктуру, выполняет периодическое обслуживание, исправляет операционные системы и восстанавливает службу после аппаратных и программных сбоев. Если определить хотя бы по два экземпляра каждой роли, большинство действий по обновлению, а также пользовательские обновления службы могут выполняться без перерывов в предоставлении службы. Облачная служба должна иметь хотя бы два экземпляра каждой роли, чтобы соответствовать соглашению об уровне обслуживания Azure, которое гарантирует внешнее подключение к ролям, доступным из Интернета, не менее 99,95 процентов времени. 

Каждая облачная служба имеет две среды, в которых можно развернуть пакет и конфигурацию службы. Можно развернуть облачную службу в промежуточной среде, чтобы проверить ее работу перед переносом в производственную среду. Повышение уровня облачной службы в промежуточной среде до производственного представляет собой простую замену виртуальных IP-адресов, связанных с двумя этими средами. 


## Основные понятия ##


- **Роль облачной службы.** Роль облачной службы состоит из файлов приложения и конфигурации. Облачная служба может содержать два типа ролей:
 
>- **Веб-роль.** Веб-роль предоставляет выделенный веб-сервер служб IIS, используемый для размещения веб-приложений переднего плана.

>- **Рабочая роль.** Приложения, размещенные внутри рабочих ролей, могут выполнять асинхронные, долгосрочные или постоянные задачи независимо от участия пользователя.

- **Экземпляр роли.** Экземпляр роли — это виртуальная машина, на которой выполняется код приложения и конфигурация роли. Роль может содержать несколько экземпляров, определенных в файле конфигурации службы.

- **Гостевая операционная система.** Гостевая операционная система в облачной службе — это операционная система, установленная на экземплярах ролей (виртуальные машины), где выполняется код приложения.

- **Компоненты облачных служб.** Для развертывания приложения в качестве облачной службы в Azure необходимы три компонента:

>- **Файл определения службы.** Файл с расширением CSDEF, в котором определяется модель службы, включая число ролей.

>- **Файл конфигурации службы.** Файл с расширением CSCFG, в котором задаются значения для любых параметров конфигурации облачной службы и отдельных ролей, включая число экземпляров ролей.

>- **Пакет службы.** Файл с расширением CSPKG, в котором содержатся код приложения и файл определения службы.

- **Развертывание облачной службы.** Развертывание облачной службы — это экземпляр облачной службы, развернутой в промежуточной или производственной среде Azure. Развертывания можно поддерживать как в промежуточной, так и в производственной средах.

- **Среды развертывания.** Azure предоставляет две среды развертывания для облачных служб: *промежуточную среду*, в котором можно тестировать свое развертывание до продвижения его в *производственную среду*. Две среды различаются исключительно виртуальными IP-адресами, которые используются для доступа к облачной службе. В промежуточной среде глобальный уникальный идентификатор GUID облачной службы определяет ее в URL-адресах (*GUID*.cloudapp.net). В производственной среде URL-адрес основан на более понятном DNS-префиксе, назначенном облачной службе, например *myservice*.cloudapp.net.

- **Переключение развертываний.** Чтобы переместить развертывание из промежуточной среды Azure в производственную среду, можно "переключить" развертывания, поменяв между ними виртуальные IP-адреса доступа к двум развертываниям. После развертывания DNS-имя облачной службы указывает на развертывания в промежуточной среде. 

- **Минимальный и подробный уровень мониторинга.** *Минимальный уровень мониторинга* настраивается для облачной службы по умолчанию и использует счетчики производительности операционных систем хостов для экземпляров ролей (виртуальные машины). *В рамках подробного мониторинга* для более тщательного анализа проблем обработки приложений отслеживаются дополнительные метрики в экземплярах ролей. Дополнительные сведения см. в разделе [Мониторинг облачных служб][HTMonitorCloudServices].

- **Диагностика Azure.** Диагностика Azure представляет собой интерфейс API, который позволяет собирать данные диагностики от приложений, работающих в Azure. Чтобы включить подробный мониторинг, необходимо предварительно включить диагностику Azure. 

- **Привязка ресурса.** Чтобы показать зависимости облачной службы от других ресурсов, таких как экземпляр базы данных SQL Azure, можно привязать ресурс к облачной службе. На портале управления предварительной версии можно просматривать **связанные ресурсы** на одноименной странице, просматривать их состояние на панели мониторинга и масштабировать связанный экземпляр базы данных SQL вместе с ролями служб на странице **Масштаб**. В этом смысле привязка ресурса не служит для подключения ресурса к приложению; необходимо настроить подключения в коде приложения.

- **Масштабирование облачной службы.** Облачная служба масштабируется путем увеличения числа развернутых экземпляров (виртуальных машин) роли. Облачная служба масштабируется путем уменьшения количества экземпляров роли. На портале управления предварительной версии при масштабировании ролей службы можно также масштабировать привязанный экземпляр базы данных SQL путем изменения выпуска базы данных SQL и максимального размера базы данных.

- **Соглашение об уровне обслуживания Azure (SLA).** Соглашение об уровне обслуживания вычислительных мощностей Azure гарантирует, что при развертывании двух и более экземпляров каждой роли доступ к облачной службе будет поддерживаться не менее 99,95 процентов времени. Кроме того, обнаружение и устранение неисправностей будут запускаться в 99,9 процентах случаев во время отсутствия активности экземпляра роли. Дополнительные сведения см. в разделе [Соглашения об уровне обслуживания] [SLA].

[HTMonitorCloudServices]:https://www.windowsazure.com/ru-ru/manage/services/cloud-services/how-to-monitor-a-cloud-service/
[SLA]: https://www.windowsazure.com/ru-ru/support/legal/sla/

