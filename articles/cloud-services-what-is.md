<properties 
	pageTitle="Что такое облачная служба - управление службами в Azure" 
	description="Введение в облачные службы Azure." 
	services="cloud-services" 
	documentationCenter="" 
	authors="Thraka" 
	manager="timlt" 
	editor=""/>

<tags 
	ms.service="cloud-services" 
	ms.workload="tbd" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="10/23/2014" 
	ms.author="adegeo"/>




#Что такое облачная служба?
При создании приложения и запуске его в Azure совокупность кода и конфигурации называется облачной службой Azure (в более ранних выпусках Azure это сочетание называлось  *hosted service*).

После создания облачной службы можно развернуть в Azure многоуровневое веб-приложение, определяя несколько ролей для распределенной обработки, а также обеспечить гибкое масштабирование своего приложения. Облачная служба состоит из одной или нескольких веб-ролей и рабочих ролей, каждая из которых имеет собственные файлы и конфигурацию приложения. Веб-сайты Azure и виртуальные машины также позволяют использовать веб-приложения в Azure.  Главным преимуществом облачных служб является возможность поддержки более сложных многоуровневых архитектур. Детальное сравнение см. в разделе [Сравнение веб-сайтов Azure, облачных служб и виртуальных машин][Comparison].

Обеспечивая работу облачной службы, Azure поддерживает инфраструктуру, выполняет периодическое обслуживание, исправляет операционные системы и восстанавливает службу после аппаратных и программных сбоев. Если определить хотя бы по два экземпляра каждой роли, большинство действий по обновлению, а также пользовательские обновления службы могут выполняться без перерывов в предоставлении службы. Облачная служба должна иметь хотя бы два экземпляра каждой роли, чтобы соответствовать соглашению об уровне обслуживания Azure, которое гарантирует внешнее подключение к ролям, доступным из Интернета, не менее 99,95 процентов времени. 

Каждая облачная служба имеет две среды, в которых можно развернуть пакет и конфигурацию службы. Можно развернуть облачную службу в промежуточной среде, чтобы проверить ее работу перед переносом в производственную среду. Повышение уровня облачной службы в промежуточной среде до производственного представляет собой простую замену виртуальных IP-адресов, связанных с двумя этими средами. 


## Основные понятия ##


- **Роль облачной службы.** Роль облачной службы основывается на файлах приложения и конфигурации. Существует два типа ролей облачной службы:
 
>- **Веб-роль.** Веб-роль предоставляет выделенный веб-сервер служб IIS, используемый для размещения веб-приложений переднего плана.

>- **Рабочая роль.**  Приложения, размещенные внутри рабочих ролей, могут выполнять асинхронные, долгосрочные или постоянные задачи независимо от участия пользователя.

- **Экземпляр роли** - это виртуальная машина, в которой выполняется код приложения и конфигурация роли. У роли может быть несколько экземпляров, определенных в файле конфигурации службы.

- **Гостевая операционная система.** Гостевая операционная система в облачной службе - это операционная система, установленная на экземплярах ролей (виртуальные машины), где выполняется код приложения.

- **Компоненты облачных служб.** Для развертывания приложения в качестве облачной службы в Azure необходимы три компонента:

>- **Файл определения службы.** Файл с расширением CSDEF, в котором определяется модель службы, включая число ролей.

>- **Файл конфигурации службы.** Файл с расширением CSCFG, в котором задаются значения для любых параметров конфигурации облачной службы и отдельных ролей, включая число экземпляров ролей.

>- **Пакет службы.** Файл с расширением (.cspkg), в котором содержатся код приложения и файл определения службы.

- **Развертывание облачной службы.** Развертывание облачной службы - это экземпляр облачной службы, развернутой в промежуточной или производственной среде Windows Azure. Вы можете сохранить развертывание и в промежуточной среде и в рабочей.

- **Среды развертывания.** Azure предоставляет две среды развертывания облачных служб:  *staging environment*, в которой можно тестировать развертывание перед его переносом в  *production environment*. Эти среды различаются исключительно виртуальными IP-адресами, которые используются для доступа к облачной службе. В промежуточной среде глобальный уникальный идентификатор (GUID) облачной службы определяет этот адрес в URL-адресах (*GUID*.cloudapp.net). В рабочей среде URL-адрес основан на более понятном префиксе DNS, назначенном облачной службе (например,  *myservice*.cloudapp.net).

- **Переключение развертываний.** Чтобы переместить развертывание из промежуточной среды Azure в рабочую среду, можно "переключить" развертывания, поменяв между ними виртуальные IP-адреса доступа. После развертывания DNS-имя облачной службы указывает на развертывание в промежуточной среде. 

- **Минимальный и подробный уровень мониторинга.** *Minimal monitoring* по умолчанию настраивается для облачной службы и реализуется на основе счетчиков производительности ведущих операционных систем для экземпляров ролей (виртуальные машины). В рамках  *Verbose monitoring* для более тщательного анализа проблем обработки приложений собираются дополнительные метрики на основе данных о производительности в экземплярах ролей. Дополнительную информацию см. в разделе [Мониторинг облачных служб][HTMonitorCloudServices].

- **Система диагностики Azure** представляет собой API, который позволяет собирать данные диагностики из приложений, работающих в Azure. Чтобы включить подробный мониторинг, необходимо предварительно включить систему диагностики Azure для ролей облачных служб. Дополнительную информацию см. в статье [Включение диагностики в облачных службах и виртуальных машинах Azure][CloudServicesDiagnostics].

- **Привязка ресурса.** Чтобы показать зависимости облачной службы от других ресурсов, таких как экземпляр базы данных SQL Azure, можно привязать ресурс к облачной службе. На портале управления предварительной версии можно просматривать **связанные ресурсы** на одноименной странице, просматривать их состояние на панели мониторинга, а также масштабировать связанный экземпляр базы данных SQL вместе с ролями служб на странице **Масштаб**. В этом смысле при привязке ресурса не выполняется его подключение к приложению. Необходимо настроить подключения в коде приложения.

- **Масштабирование облачной службы.** Масштаб облачной службы увеличивается путем увеличения количества развернутых экземпляров (виртуальных машин) роли и уменьшается путем сокращения количества экземпляров роли. На портале управления предварительной версии при масштабировании ролей службы можно также масштабировать связанный экземпляр базы данных SQL путем изменения ее версии и максимального размера.

- **Соглашение об уровне обслуживания Azure (SLA).** Соглашение об уровне обслуживания среды выполнения приложений Azure гарантирует, что при развертывании двух и более экземпляров каждой роли доступ к облачной службе будет поддерживаться не менее 99,95 процентов времени. Кроме того, обнаружение и устранение неисправностей будут запускаться в 99,9 процентах случаев во время отсутствия активности экземпляра роли. Дополнительную информацию см. в разделе [Соглашения об уровне обслуживания][SLA].

[HTMonitorCloudServices]:http://azure.microsoft.com/ manage/services/cloud-services/how-to-monitor-a-cloud-service/
[SLA]: http://azure.microsoft.com/ support/legal/sla/
[CloudServicesDiagnostics]: http://azure.microsoft.com/documentation/articles/cloud-services-dotnet-diagnostics/
[Comparison]: http://azure.microsoft.com/documentation/articles/choose-web-site-cloud-service-vm/

<!--HONumber=45--> 
