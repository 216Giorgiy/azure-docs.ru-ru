---
title: Передача данных с помощью Azure Data Box Edge | Документация Майкрософт
description: Узнайте, как добавлять общие папки на устройстве Data Box Edge и подключаться к ним.
services: databox-edge-gateway
documentationcenter: NA
author: alkohli
manager: twooley
editor: ''
ms.assetid: ''
ms.service: databox-edge-gateway
ms.devlang: NA
ms.topic: tutorial
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 10/08/2018
ms.author: alkohli
ms.custom: ''
Customer intent: As an IT admin, I need to understand how to add and connect to shares on Data Box Edge so I can use it to transfer data to Azure.
ms.openlocfilehash: b5c63a255547bae03acbec771593eac97d474003
ms.sourcegitcommit: 26cc9a1feb03a00d92da6f022d34940192ef2c42
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2018
ms.locfileid: "48833102"
---
# <a name="tutorial-transfer-data-with-azure-data-box-edge-preview"></a>Руководство по передаче данных с помощью Azure Data Box Edge (предварительная версия)

В этой статье описывается, как добавить общие папки в Data Box Edge и подключиться к ним. После добавления общих папок устройство Data Box Edge может выполнять передачу данных в Azure.

Эта процедура может занять около 10 минут. 

Из этого руководства вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * Добавление общей папки
> * Подключение к общей папке.

> [!IMPORTANT]
> В данный момент решение Data Box Edge находится в состоянии предварительной версии. Изучите [Дополнительные условия использования Предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/), прежде чем заказывать и развертывать это решение. 
 
## <a name="prerequisites"></a>Предварительные требования

Прежде чем добавлять общие папки в службу Data Box Edge, убедитесь, что:

* Вы установили физическое устройство, как описано в статье, посвященной [установке Azure Data Box Edge (предварительная версия)](data-box-edge-deploy-install.md). 

    Физическое устройство активировано, как описано в статье [Tutorial: Connect, set up, activate Azure Data Box Edge (Preview)](data-box-edge-deploy-connect-setup-activate.md) (Руководство. Подключение, настройка и активация Azure Data Box Edge(предварительная версия)). Устройство готово для создания общих ресурсов и передачи данных.


## <a name="add-a-share"></a>Добавление общей папки

Чтобы создать общую папку, выполните следующие действия на [портале Azure](https://portal.azure.com/).

1. Вернитесь на портал Azure. Перейдите к разделу **Все ресурсы** и выполните поиск ресурса Data Box Edge.
    
2. В отфильтрованном списке ресурсов выберите ресурс Data Box Edge и перейдите к разделу **Обзор**. На панели команд для устройства щелкните **+ Add share** (+ Добавление общего файлового ресурса).
   
   ![Добавление общей папки](./media/data-box-edge-deploy-add-shares/click-add-share.png)

3. В разделе **Добавление общего файлового ресурса** укажите параметры общей папки. Укажите уникальное имя для общей папки. 

   Имена общих папок могут содержать только цифры, строчные буквы и дефисы. Имя общей папки может содержать от 3 до 63 знаков и начинаться с буквы или цифры. Перед каждым дефисом должен быть знак без дефиса.
    
    1. Выберите **тип** для общей папки. Вы можете выбрать тип SMB или NFS (тип SMB задан по умолчанию). SMB является стандартным для клиентов Windows, а NFS используется для клиентов Linux. 

    2. В зависимости от того, выбраны ли общие папки типа SMB или NFS, предложенные варианты могут немного отличаться. 

    3. Необходимо предоставить учетную запись хранения, где будет храниться общая папка. При отсутствии контейнера он создается в учетной записи хранения с именем общей папки. Если контейнер уже существует, используется имеющийся контейнер. 
    
    4. В блочном BLOB-объекте, страничном BLOB-объекте или файлах выберите **Служба хранилища**. Тип выбранной службы зависит от того, в каком формате необходимо хранить данные в Azure. Так, в этом примере необходимо, чтобы данные хранились как блочные BLOB-объекты в Azure, поэтому мы выбираем блочный BLOB-объект. При выборе страничного BLOB-объекта необходимо убедиться, что данные выровнены по размеру 512 байт. Например, VHDX всегда выравнивается по размеру 512 байт.
   
    5. Этот шаг зависит от того, создается ли общая папка типа SMB или NFS. 
     
        - **При создании общей папки SMB** в поле "Все привилегированные локальные пользователи" выберите **Создать** или **Use existing** (Использовать имеющийся). При создании локального пользователя укажите **имя пользователя**, **пароль**, а затем **подтвердите пароль**. Таким образом вы предоставите разрешения локальному пользователю. Назначив разрешения здесь, вы сможете изменять их в проводнике.

            Если **разрешить только операции чтения** для данных этой общей папки, появится параметр, позволяющий указать пользователей с правами только для чтения.

            ![Добавление общей папки SMB](./media/data-box-edge-deploy-add-shares/add-share-smb-1.png)
   
        - **При создании общей папки типа NFS** необходимо предоставить IP-адреса разрешенных клиентов, которые могут получать доступ к ресурсу.

            ![Добавление общей папки типа NFS](./media/data-box-edge-deploy-add-shares/add-share-nfs-1.png)
   
4. Щелкните **Создать**, чтобы создать общую папку. 
    
    Вы получите уведомление о том, что общая папка создается. После создания общей папки с указанными параметрами колонка **Общие папки** обновится, и в ней появится новая общая папка. 
    
    ![Обновленный список общих папок](./media/data-box-edge-deploy-add-shares/updated-list-of-shares.png) 

## <a name="connect-to-the-share"></a>Подключение к общей папке

Теперь можно подключиться к общим папкам, созданным на предыдущем этапе. В зависимости от типа общей папки (SMB или NFS) действия могут отличаться. 

### <a name="connect-to-an-smb-share"></a>Подключение к общей папке типа SMB

Выполните эти действия на клиентском компьютере Windows Server, подключенном к Data Box Edge, чтобы подключиться к общим папкам.


1. Откройте командное окно. В командной строке выполните следующую команду:

    `net use \\<IP address of the device>\<share name>  /u:<user name for the share>`

    При отображении соответствующего запроса введите пароль для общей папки. Здесь приведен пример выходных данных этой команды.

    ```powershell
    Microsoft Windows [Version 10.0.16299.192) 
    (c) 2017 microsoft Corporation. All rights reserved . 
    
    C: \Users\DataBoxEdgeUser>net use \\10.10.10.60\newtestuser /u:Tota11yNewUser 
    Enter the password for 'TotallyNewUser' to connect to '10.10.10.60': 
    The command completed successfully. 
    
    C: \Users\DataBoxEdgeUser>
    ```   


2. Нажмите клавиши WINDOWS+R. В окне **Выполнить** введите `\\<device IP address>`. Последовательно выберите **ОК**. Откроется проводник. и вы сможете увидеть общие папки. Для просмотра содержимого выберите и дважды щелкните общую папку.
 
    ![Подключение к общей папке типа SMB](./media/data-box-edge-deploy-add-shares/connect-to-share2.png)

    Данные записываются в эти общие папки по мере их создания, а устройство отправляет эти данные в облако.

### <a name="connect-to-an-nfs-share"></a>Подключение к общей папке типа NFS

Выполните эти действия на клиентском компьютере Linux, подключенном к Data Box Edge.

1. Убедитесь, что на этом клиенте установлен клиент NFSv4. Используйте следующую команду для установки NFS-клиента:

   `sudo apt-get install nfs-common`

    Дополнительные сведения см. в разделе об [установке клиента NFSv4](https://help.ubuntu.com/community/SettingUpNFSHowTo#NFSv4_client).

2. После установки NFS-клиента используйте следующую команду, чтобы подключить общую папку типа NFS, созданную на устройстве Data Box Edge:

   `sudo mount <device IP>:/<NFS share on device> /home/username/<Folder on local Linux computer>`

    Прежде чем подключать общие папки, создайте каталоги, которые будут действовать как точки подключения на локальном компьютере. Эти каталоги не должны содержать никаких файлов или подпапок.

    В следующем примере показано, как выполнить подключение к папке на устройстве Data Box Edge через NFS. `10.10.10.60` — IP-адрес устройства. Общая папка `mylinuxshare2` подключена на виртуальной машине ubuntuVM. `/home/databoxubuntuhost/edge` представляет собой точку подключения общей папки.

    `sudo mount -t nfs 10.10.10.60:/mylinuxshare2 /home/databoxubuntuhost/Edge`

> [!NOTE] 
> В предварительной версии действуют следующие факторы:
> - После создания файла в общих папках его невозможно переименовать. 
> - Удаление файла из общей папки не приводит к удалению записи в учетной записи хранения.

## <a name="next-steps"></a>Дополнительная информация

В этом руководстве вы изучили такие темы о Data Box Edge:

> [!div class="checklist"]
> * Добавление общей папки
> * Подключение к общей папке.


Перейдите к следующему руководству, чтобы узнать о преобразовании данных с помощью Data Box Edge.

> [!div class="nextstepaction"]
> [Руководство по преобразованию данных с помощью Azure Data Box Edge (предварительная версия)](./data-box-edge-deploy-configure-compute.md)


