---
title: Передача данных с помощью Azure Data Box Edge | Документация Майкрософт
description: Узнайте, как добавлять общие папки на устройстве Data Box Edge и подключаться к ним.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: tutorial
ms.date: 10/08/2018
ms.author: alkohli
Customer intent: As an IT admin, I need to understand how to add and connect to shares on Data Box Edge so I can use it to transfer data to Azure.
ms.openlocfilehash: 6c6553ace250aa9cbc06dfdfea77fc5e1637cd41
ms.sourcegitcommit: 85d94b423518ee7ec7f071f4f256f84c64039a9d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2018
ms.locfileid: "53384825"
---
# <a name="tutorial-transfer-data-with-azure-data-box-edge-preview"></a>Руководство. Передача данных с помощью Azure Data Box Edge (предварительная версия)

В этой статье описывается, как добавить общие папки в устройство Data Box Edge и подключиться к ним. После добавления общих папок устройство Data Box Edge может выполнять передачу данных в Azure.

Эта процедура может занять около 10 минут. 

Из этого руководства вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * Добавление общей папки
> * Подключение к общей папке

> [!IMPORTANT]
> В данный момент решение Data Box Edge находится в состоянии предварительной версии. Изучите статью [Дополнительные условия использования Предварительных версий Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/), прежде чем заказывать и развертывать это решение. 
 
## <a name="prerequisites"></a>Предварительные требования

Прежде чем добавлять общие папки в службу Data Box Edge, убедитесь, что:
* Установлено физическое устройство, как описано в статье [Руководство по установке Azure Data Box Edge (предварительная версия)](data-box-edge-deploy-install.md). 

* Физическое устройство активировано, как описано в статье [Руководство. Подключение, настройка, активация Azure Data Box Edge (предварительная версия)](data-box-edge-deploy-connect-setup-activate.md). 

* Устройство готово для создания общих ресурсов и передачи данных.


## <a name="add-a-share"></a>Добавление общей папки

Чтобы создать общие папки, выполните следующие действия.

1. На [портале Azure](https://portal.azure.com/) перейдите к разделу **Все ресурсы** и выполните поиск ресурса Data Box Edge.
    
1. В отфильтрованном списке ресурсов выберите ресурс Data Box Edge.

1. В левой панели выберите **Общие сведения**, а затем — **Добавление общего файлового ресурса**.
   
   ![Добавление общей папки](./media/data-box-edge-deploy-add-shares/click-add-share.png)

1. На панели **Добавление общего файлового ресурса** выполните следующие действия.

    a. В поле **Имя** укажите уникальное имя для общей папки.  
    Имя общего ресурса может состоять только из цифр, дефисов и строчных букв. Оно должно быть размером от 3 до 63 символов и начинаться с буквы или цифры. До и после дефиса нужно указать цифру или букву.
    
    b. Выберите **тип** для общей папки.  
    Вы можете выбрать тип **SMB** или **NFS** (тип SMB задан по умолчанию). SMB является стандартным для клиентов Windows, а NFS используется для клиентов Linux.  
    В зависимости от выбранного типа предоставления общего доступа (SMB или NFS) остальные параметры могут немного отличаться. 

    c. Предоставьте учетную запись хранения, где будет храниться общая папка.  
    В случает отсутствия контейнера он создается в учетной записи хранения с уже только что созданным именем общей папки. Если контейнер уже существует, то будет использоваться он. 
    
    d. В раскрывающемся списке **службы хранилища** выберите **Блочный BLOB-объект**, **Страничный BLOB-объект** или **Файлы**.  
    Тип выбранной службы зависит от формата данных, который вы хотите использовать в Azure. Так как мы хотим хранить данные в блочных BLOB-объектах, то выбрали **Блочный BLOB-объект**. При выборе страничного BLOB-объекта необходимо убедиться, что данные выровнены по размеру 512 байт. Например, VHDX всегда выравнивается по размеру 512 байт.
   
    д. В зависимости от типа предоставления общего доступа (SMB или NFS) выполните один из следующих шагов. 
     
    - **Общий ресурс SMB**. В разделе **Все привилегированные локальные пользователи** выберите **Создать** или **Использовать существующий**. При создании локального пользователя введите имя пользователя и пароль, а затем подтвердите пароль. Таким образом вы предоставите разрешения локальному пользователю. После начального назначения разрешений вы сможете изменять их в проводнике.

        Если установить флажок **Разрешить только операции чтения** для данных этой общей папки, то можно указывать пользователей с правами только для чтения.

        ![Добавление общей папки SMB](./media/data-box-edge-deploy-add-shares/add-share-smb-1.png)
   
    - **Общий ресурс NFS**. Введите IP-адреса клиентов, которым разрешен доступ к общей папке.

        ![Добавление общей папки типа NFS](./media/data-box-edge-deploy-add-shares/add-share-nfs-1.png)
   
1. Щелкните **Создать**, чтобы создать общую папку. 
    
    Вы получите уведомление о том, что общая папка создается. После создания общей папки с указанными параметрами раздел **Общие папки** обновится и в нем появится новая информация об общей папке. 
    
    ![Обновленный список общих папок](./media/data-box-edge-deploy-add-shares/updated-list-of-shares.png) 

## <a name="connect-to-the-share"></a>Подключение к общей папке

Теперь можно подключиться к общим папкам, созданным на предыдущем шаге. В зависимости от выбранного типа общей папки (SMB или NFS) шаги могут отличаться. 

### <a name="connect-to-an-smb-share"></a>Подключение к общей папке типа SMB

В клиенте Windows Server, подключенном к устройству Data Box Edge, подключитесь к общей папке SMB, введя следующие команды:


1. В командной строке введите следующую команду:

    `net use \\<IP address of the device>\<share name>  /u:<user name for the share>`

1. Введите пароль общей папки, когда он будет запрошен.  
   Здесь приведен пример выходных данных этой команды.

    ```powershell
    Microsoft Windows [Version 10.0.16299.192) 
    (c) 2017 Microsoft Corporation. All rights reserved. 
    
    C: \Users\DataBoxEdgeUser>net use \\10.10.10.60\newtestuser /u:Tota11yNewUser 
    Enter the password for 'TotallyNewUser' to connect to '10.10.10.60': 
    The command completed successfully. 
    
    C: \Users\DataBoxEdgeUser>
    ```   


1. На клавиатуре одновременно нажмите клавиши Windows + R. 

1. В окне **выполнения** введите `\\<device IP address>`, а затем нажмите кнопку **ОК**.  
   Откроется проводник, и вы увидите общие папки. В проводнике для просмотра содержимого дважды щелкните общую папку.
 
    ![Подключение к общей папке типа SMB](./media/data-box-edge-deploy-add-shares/connect-to-share2.png)

    Данные записываются в эти общие папки по мере их создания, а устройство отправляет эти данные в облако.

### <a name="connect-to-an-nfs-share"></a>Подключение к общей папке типа NFS

Выполните эти действия на клиентском компьютере Linux, подключенном к Data Box Edge.

1. Убедитесь, что на этом клиенте установлен клиент NFSv4. Используйте следующую команду для установки NFS-клиента:

   `sudo apt-get install nfs-common`

    Дополнительные сведения см. в разделе об [установке клиента NFSv4](https://help.ubuntu.com/community/SettingUpNFSHowTo#NFSv4_client).

1. После установки NFS-клиента используйте следующую команду, чтобы подключить общую папку типа NFS, созданную на устройстве Data Box Edge:

   `sudo mount <device IP>:/<NFS share on device> /home/username/<Folder on local Linux computer>`

    > [!IMPORTANT]
    > Прежде чем подключать общие папки, создайте каталоги, которые будут действовать как точки подключения на локальном компьютере. Эти каталоги не должны содержать никаких файлов или вложенных папок.

    В следующем примере показано, как выполнить подключение к папке на устройстве Data Box Edge через NFS. `10.10.10.60` — IP-адрес устройства. Общая папка `mylinuxshare2` подключена на виртуальной машине ubuntuVM. `/home/databoxubuntuhost/edge` представляет собой точку подключения общей папки.

    `sudo mount -t nfs 10.10.10.60:/mylinuxshare2 /home/databoxubuntuhost/Edge`

> [!NOTE] 
> В предварительной версии действуют следующие факторы:
> - Не поддерживается переименование файлов, созданных в общих папках. 
> - Удаление файлов из общих папок не приводит к удалению записи в учетной записи хранения.

## <a name="next-steps"></a>Дополнительная информация

В этом руководстве вы изучили такие темы о Data Box Edge:

> [!div class="checklist"]
> * Добавление общей папки
> * Подключение к общей папке.

Чтобы узнать о преобразовании данных с помощью Data Box Edge, перейдите к следующему руководству.

> [!div class="nextstepaction"]
> [Руководство по преобразованию данных с помощью Azure Data Box Edge (предварительная версия)](./data-box-edge-deploy-configure-compute.md)


