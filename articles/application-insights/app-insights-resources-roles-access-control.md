<properties 
	pageTitle="Ресурсы, роли и контроль доступа в Application Insights" 
	description="Владельцы, участники и читатели Insights вашей организации." 
	services="application-insights" 
    documentationCenter=""
	authors="alancameronwills" 
	manager="ronmart"/>

<tags 
	ms.service="application-insights" 
	ms.workload="tbd" 
	ms.tgt_pltfrm="ibiza" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="04/21/2015" 
	ms.author="awills"/>
 
# Ресурсы, роли и контроль доступа в Application Insights

Вы можете выполнять чтение и обновление прав доступа к данным, а также управлять ими в Visual Studio [Application Insights][start], используя [Управление доступом на основе ролей в Microsoft Azure](../role-based-access-control-configure.md).

> [AZURE.IMPORTANT]Вы также можете предоставлять доступ пользователям в **группе ресурсов или подписке**, к которым относится ресурс приложения, а не в самом ресурсе. Назначьте им роль **участника компонента Application Insights**. Это обеспечит универсальный контроль доступа к веб-тестам и оповещениям с помощью ресурса приложения. [Подробнее](#access).


## Ресурсы, группы и подписки

Сначала рассмотрим некоторые определения:

* **Ресурс** — это экземпляр службы Microsoft Azure. Ресурс Application Insights собирает, анализирует и отображает данные телеметрии, отправленные приложением. Другие типы ресурсов Azure включают в себя веб-приложения, базы данных и виртуальные машины. 

    Чтобы просмотреть все свои ресурсы, перейдите на [портал Azure][portal], войдите и щелкните «Обзор».

    ![Щелкните «Обзор», а затем — «Все» или «Отфильтровать по Application Insights»](./media/app-insights-resources-roles-access-control/10-browse.png)

<a name="resource-group"></a>

* [**Группа ресурсов**][group] — каждый ресурс принадлежит одной группе. Создание группы — это удобный способ управления связанными ресурсами, особенно для контроля доступа. Например, в одну группу ресурсов можно поместить веб-приложение и ресурс Application Insights для мониторинга приложения, а также ресурс хранилища для хранения экспортированных данных.

    
    ![Выберите «Обзор», «Группы ресурсов», а затем выберите группу](./media/app-insights-resources-roles-access-control/11-group.png)


* [**Подписка**](https://manage.windowsazure.com) — чтобы использовать Application Insights или другие ресурсы Azure, следует войти в подписку Azure. Каждая группа ресурсов относится к одной подписке Azure, где вы выбираете пакет по цене и, при использовании подписки для организации, выбираете участников и права доступа для них.
* [**Учетная запись Майкрософт**][account] — предусматривает имя пользователя и пароль, используемые для входа в подписки Microsoft Azure, XBox Live, Outlook.com и другие службы Майкрософт.


## <a name="access"></a>Контроль доступа в группе ресурсов

Важно понимать, что кроме ресурса, созданного для приложения, существуют также отдельные скрытые ресурсы для оповещений и веб-тестов. Они вложены в ту же [группу ресурсов](#resource-group), что и ваше приложение. В нее также можно поместить другие службы Azure, такие как веб-сайты или службы хранилища.

![Ресурсы в Application Insights](./media/app-insights-resources-roles-access-control/00-resources.png)

Поэтому для контроля доступа к этим ресурсам рекомендуем:

* осуществлять контроль доступа на уровне **группы ресурсов или подписки**;
* назначать пользователям роль **участника компонента Application Insights**. Это позволяет изменять веб-тесты, оповещения и ресурсы Application Insights, не предоставляя доступ к другим службам в группе. 

## Предоставление доступа другому пользователю

Для этого у вас должны быть права владельца подписки или группы ресурсов.

У пользователя должна быть [учетная запись Майкрософт][account]. Вы можете предоставлять доступ отдельным пользователям и группам пользователей, определенным в Azure Active Directory.

#### Переход к группе ресурсов

Добавьте в нее пользователя.

![В колонке ресурсов приложения откройте «Основные компоненты», откройте группу ресурсов и выберите параметры или пользователей. Нажмите Добавить.](./media/app-insights-resources-roles-access-control/01-add-user.png)

Вы также можете перейти на уровень выше и добавить пользователя в подписку.

#### Выбор роли

![Выберите роль для нового пользователя](./media/app-insights-resources-roles-access-control/03-role.png)

Роль | В группе ресурсов
---|---
Владелец | Можно менять любые параметры, в том числе права доступа пользователей
Участник | Можно изменять любое содержимое, в том числе любые ресурсы
Участник компонента Application Insights | Можно изменять ресурсы, веб-тесты и оповещения Application Insights
Читатель | Можно просматривать содержимое, но нельзя ничего изменять

«Изменение» включает в себя создание, удаление и обновление:

* Ресурсы
* Веб-тесты
* Оповещения
* непрерывный экспорт.

#### Выбор пользователя


![Введите адрес электронной почты нового пользователя. Выбор пользователя](./media/app-insights-resources-roles-access-control/04-user.png)

Если в каталоге нет необходимого пользователя, вы можете пригласить любого пользователя с учетной записью Майкрософт (если он использует такие службы, как Outlook.com, OneDrive, Windows Phone или XBox Live, значит, у него есть учетная запись Майкрософт).



## Пользователи и роли

* [Управление доступом на основе ролей в Azure](../role-based-access-control-configure.md)



<!--Link references-->

[account]: https://account.microsoft.com
[group]: ../azure-preview-portal-using-resource-groups.md
[portal]: http://portal.azure.com/
[start]: app-insights-get-started.md

<!---HONumber=58--> 