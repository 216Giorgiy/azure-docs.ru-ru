---
title: "Анализ удержания пользователей веб-приложений с помощью Azure Application Insights | Документы Майкрософт"
description: "Сколько пользователей вернулось к использованию вашего приложения?"
services: application-insights
documentationcenter: 
author: botatoes
manager: carmonm
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 05/03/2017
ms.author: cfreeman
ms.translationtype: HT
ms.sourcegitcommit: 0aae2acfbf30a77f57ddfbaabdb17f51b6938fd6
ms.openlocfilehash: 75abfb977a47ccef45bcc2124b31fbd06ea7d68e
ms.contentlocale: ru-ru
ms.lasthandoff: 08/09/2017

---

# <a name="user-retention-analysis-for-web-applications-with-application-insights"></a>Анализ удержания пользователей веб-приложений с помощью Application Insights

Колонка "Хранение" в [Azure Application Insights](app-insights-overview.md) помогает анализировать, сколько пользователей вернулось в ваше приложение и как часто они выполняют определенные задачи или достигают цели. Например, если вы разместили игровой сайт, то можете сравнить число пользователей, которые вернулись на сайт после проигрыша, и число пользователей, которые вернулись после победы в игре. Эти сведения помогут улучшить взаимодействие с пользователем и свою бизнес-стратегию.

## <a name="get-started"></a>Начало работы

Если вы еще не видите данных в колонке "Хранение" на портале Application Insights, [узнайте, как приступить к работе с инструментами для данных об использовании](app-insights-usage-overview.md).

## <a name="the-retention-tool"></a>Инструмент "Удержание"

![Инструмент "Хранение"](./media/app-insights-usage-retention/retention.png)

1. Эта панель инструментов позволяет пользователям создавать новые отчеты и открывать существующие отчеты об удержании, а также дает возможность сохранить (или сохранить как) текущий отчет об удержании, отменить все изменения, внесенные в сохраненные отчеты, обновить данные в отчете, предоставить отчет по электронной почте или посредством прямой ссылки и перейти на страницу документации. 
2. По умолчанию инструмент "Удержание" отображает всех пользователей, которые выполнили какие-либо операции, а затем вернулись и выполнили дополнительные операции в течение определенного периода. Можно выбирать разное сочетание событий, чтобы сводить отображаемые сведения к определенным действиям пользователя.
3. Добавьте один или несколько фильтров по свойствам. Например, можно сосредоточиться на пользователях в определенной стране или регионе. Щелкните **Обновить** после настройки фильтров. 
4. Общая диаграмма удержания содержит сводку по удержанию пользователей за выбранный период времени. 
5. Сетка отображает количество удержанных пользователей согласно настройкам конструктора запросов (см. пункт 2). Каждая строка представляет когорту пользователей, выполнивших какое-либо действие в указанный период. В каждой ячейке в строке показано, сколько пользователей из этой когорты впоследствии вернулось хотя бы один раз. Некоторые пользователи могут возвращаться в нескольких периодах. 
6. На картах аналитики отображаются 5 инициирующих событий и 5 возвращенных событий, чтобы отчет об удержании был понятнее пользователям. 


## <a name="use-business-events-to-track-retention"></a>Использование бизнес-событий для отслеживания периода удержания

Чтобы получить наиболее полезный анализ удержания, измеряйте события, представляющие значительные коммерческие действия. 

Например, многие пользователи могут открывать страницу в приложении, не играя в игру на ней. Следовательно, просто отслеживание просмотров страницы обеспечит неточную оценку того, сколько людей возвращается к игре, получив от нее удовольствие ранее. Чтобы получить четкое представление о возвращающихся игроках, приложение должно отправлять пользовательское событие всякий раз, когда пользователь действительно играет.  

Рекомендуется для запрограммировать пользовательские события, представляющих ключевые коммерческие действия, и использовать их для анализа удержания. Для записи результатов игры необходимо написать строку кода, отправляющую пользовательские события в Application Insights. В коде веб-страницы или в Node.js она выглядит следующим образом.

```JavaScript
    appinsights.trackEvent("won game");
```

Можно так же использовать код сервера ASP.NET, как показано ниже.

```C#
   telemetry.TrackEvent("won game");
```

[Узнайте больше о создании пользовательских событий](app-insights-api-custom-events-metrics.md#trackevent).


## <a name="next-steps"></a>Дальнейшие действия
- Чтобы обеспечить оптимальное использование, начните отправлять [пользовательские события](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-api-custom-events-metrics#trackevent) или [сведения о просмотрах страниц](https://docs.microsoft.com/azure/application-insights/app-insights-api-custom-events-metrics#page-views).
- Если вы уже сделали это, изучите инструменты использования, чтобы узнать, как пользователи используют службу.
    - [Пользователи, сеансы, события](app-insights-usage-segmentation.md)
    - [Воронки](usage-funnels.md)
    - [Книги](app-insights-usage-workbooks.md)
    - [Добавление контекста пользователей](app-insights-usage-send-user-context.md)

