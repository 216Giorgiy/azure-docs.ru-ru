---
title: "Анализ удержания пользователей веб-приложений с помощью Azure Application Insights | Документы Майкрософт"
description: "Сколько пользователей вернулось к использованию вашего приложения?"
services: application-insights
documentationcenter: 
author: botatoes
manager: carmonm
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 05/03/2017
ms.author: cfreeman
ms.translationtype: Human Translation
ms.sourcegitcommit: 71fea4a41b2e3a60f2f610609a14372e678b7ec4
ms.openlocfilehash: 17f6062537714fbef7c8509261ac4875f8a44b6e
ms.contentlocale: ru-ru
ms.lasthandoff: 05/10/2017

---

# <a name="user-retention-analysis-for-web-applications-with-application-insights"></a>Анализ удержания пользователей веб-приложений с помощью Application Insights

Колонка "Хранение" в [Azure Application Insights](app-insights-overview.md) помогает анализировать, сколько пользователей вернулось в ваше приложение и как часто они выполняют определенные задачи или достигают цели. Например, если вы разместили игровой сайт, то можете сравнить число пользователей, которые вернулись на сайт после проигрыша, и число пользователей, которые вернулись после победы в игре. Эти сведения помогут улучшить взаимодействие с пользователем и свою бизнес-стратегию.

## <a name="get-started"></a>Начало работы

Если вы еще не видите данных в колонке "Хранение" на портале Application Insights, [узнайте, как приступить к работе с инструментами для данных об использовании](app-insights-usage-overview.md).

## <a name="the-retention-tool"></a>Инструмент "Хранение"

![Инструмент "Хранение"](./media/app-insights-usage-retention/retention.png)

а. Страница "Обзор" отображается постоянно. Кроме того, можно сохранить именованные отчеты с различными параметрами. Сохраните отчет как общий, чтобы он был видимым для других пользователей, имеющих доступ к ресурсу.

b. По умолчанию на диаграмме подсчитываются все пользователи, которые участвовали в каком-либо из пользовательских событий, или просмотры страниц, полученные из приложения. Выберите один или подмножество параметров, чтобы сосредоточиться на действиях конкретного пользователя. 

c. Добавьте один или несколько фильтров по свойствам. Например, можно сосредоточиться на пользователях в определенной стране или регионе. Щелкните **Обновить** после настройки фильтров.

г) Кнопка **Восстановить значения по умолчанию** всегда очищает пользовательский фильтр и фильтры событий.

д. На сводной диаграмме отображаются итоговые данные для выбранного периода времени.

f. На сетке отображается количество пользователей, которые вернулись повторить выбранные действия в течение определенного периода. Каждая строка представляет когорту пользователей, выполнивших одно из выбранных действий в указанный период. В каждой ячейке в строке показано, сколько пользователей из этой когорты впоследствии вернулось хотя бы один раз. Некоторые пользователи могут возвращаться в нескольких периодах.

Все, кто использовал приложение в диапазоне времени, заданном для диаграммы, представлены только одной строкой диаграммы. Каждый пользователь учитывается в периоде, когда он впервые выполнил выбранное действие в диапазоне времени, заданном для диаграммы. Поэтому обычно в первой строке указывается большее число.


## <a name="use-business-events-to-track-retention"></a>Использование бизнес-событий для отслеживания периода удержания

Чтобы получить наиболее полезный анализ удержания, измеряйте события, представляющие значительные коммерческие действия. 

Например, многие пользователи могут открывать страницу в приложении, не играя в игру на ней. Следовательно, просто отслеживание просмотров страницы обеспечит неточную оценку того, сколько людей возвращается к игре, получив от нее удовольствие ранее. Чтобы получить четкое представление о возвращающихся игроках, приложение должно отправлять пользовательское событие всякий раз, когда пользователь действительно играет.  

Рекомендуется для запрограммировать пользовательские события, представляющих ключевые коммерческие действия, и использовать их для анализа удержания. Для записи результатов игры необходимо написать строку кода, отправляющую пользовательские события в Application Insights. В коде веб-страницы или в Node.js она выглядит следующим образом.

```JavaScript
    appinsights.trackEvent("won game");
```

Можно так же использовать код сервера ASP.NET, как показано ниже.

```C#
   telemetry.TrackEvent("won game");
```

[Узнайте больше о создании пользовательских событий](app-insights-api-custom-events-metrics.md#trackevent).


## <a name="next-steps"></a>Дальнейшие действия

* [Общие сведения об использовании](app-insights-usage-overview.md)
* [Пользователи и сеансы](app-insights-usage-segmentation.md)
* [Программирование пользовательских событий](app-insights-api-custom-events-metrics.md)


