<properties 
	pageTitle="Устранение неполадок Application Insights в веб-проекте Java" 
	description="Руководство по устранению неполадок, а также вопросы и ответы." 
	services="application-insights" 
    documentationCenter=""
	authors="alancameronwills" 
	manager="keboyd"/>

<tags 
	ms.service="application-insights" 
	ms.workload="tbd" 
	ms.tgt_pltfrm="ibiza" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="03/24/2015" 
	ms.author="awills"/>
 
# Устранение неполадок и вопросы и ответы по Application Insights для Java

Возникают вопросы или проблемы в связи с использованием [Visual Studio Application Insights в Java][java]? Ниже приведен ряд советов.


## Ошибки сборки

*При добавлении пакета Application Insights SDK посредством Maven или Gradle в Eclipse возникают ошибки сборки или проверки контрольной суммы.*

* Если в элементе зависимости <version> используется шаблон с подстановочными знаками (например, <version>[0.9,)</version>), попробуйте указать конкретную версию, например <version>0.9.1</version>.

## Нет данных 

*После успешного добавления Application Insights и запуска приложения данные на портале не появляются.*

* Подождите минуту и нажмите "Обновить". В настоящее время обновление не происходит автоматически.
* Проверьте, есть ли у вас ключ инструментирования, указанный в файле ApplicationInsights.xml (в папке ресурсов проекта).
* Убедитесь в том, что в XML-файле нет узла `<DisableTelemetry>true</DisableTelemetry>`.
* В вашем брандмауэре вам может потребоваться открыть TCP-порты 80 и 443 для исходящего трафика, идущего на сайты dc.services.visualstudio.com и f5.services.visualstudio.com.
* На начальном экране Microsoft Azure посмотрите на карту состояния службы. Если есть какие-либо предупреждения, дождитесь возвращения всех модулей в состояние ОК, затем закройте и заново откройте модуль приложения Application Insights.
* Включите ведение журнала в окне консоли интегрированной среды разработки, добавив элемент <SDKLogger /> в корневой узел в файле ApplicationInsights.xml (в папке ресурсов проекта), и проверьте наличие записей, начинающихся с [Error].


## Нет данных по использованию

*Приводятся данные по запросам и времени ответа, но нет данных по просмотру страниц, использованию браузеров и пользователям.*

Вы успешно настроили приложение для отправки данных телеметрии с сервера. Теперь вам нужно [настроить веб-страницы для отправки данных телеметрии из веб-браузера][usage].

Если клиент является приложением на [телефоне или другом устройстве][platforms], из него также можно отправлять данные. 

Для настройки телеметрии в клиенте и на сервере используйте один и тот же ключ инструментирования. Данные будут приводиться в одном и том же ресурсе Application Insights, и вы сможете сопоставлять события, полученные от клиента и с сервера.



## Отключение телеметрии

*Как отключить сбор данных телеметрии?*

В коде:

    TelemetryConfiguration config = TelemetryConfiguration.getActive();
    config.setTrackingIsDisabled(true);


**Или** 

Измените файл ApplicationInsights.xml (в папке ресурсов проекта). Добавьте следующий элемент в корневой узел:

    <DisableTelemetry>true</DisableTelemetry>

При изменении значения в файле XML необходимо перезапустить приложение.

## Изменение целевого ресурса

*Как изменить ресурс Azure, в который проект отправляет данные?*

* [Получите ключ инструментирования нового ресурса.][java]
* Если вы добавили Application Insights в проект с помощью набора средств Azure для Eclipse, щелкните веб-проект правой кнопкой мыши, выберите **Azure**, затем выберите **Настроить Application Insights** и измените ключ.
* В противном случае измените ключ в файле ApplicationInsights.xml в папке ресурсов проекта.


## Начальный экран Azure

*Сообщает ли карта на [портале Azure](http://portal.azure.com) что-либо о моем приложении?*

Нет, она показывает работоспособность серверов Azure по всему миру.

*Как найти данные по своему приложению с начального экрана Azure?*

Если вы [настроили Application Insights для приложения][java], нажмите кнопку "Обзор", выберите пункт Application Insights, а затем выберите ресурс приложения, созданный для приложения. Чтобы упростить эту операцию в будущем, можно закрепить приложение на начальном экране.

## Серверы в интрасети

*Можно ли наблюдать за сервером в интрасети?*

Да, если ваш сервер может отправлять данные телеметрии на портал Application Insights через общедоступную сеть Интернет. 

В вашем брандмауэре вам может потребоваться открыть TCP-порты 80 и 443 для исходящего трафика, идущего на сайты dc.services.visualstudio.com и f5.services.visualstudio.com.

## Хранение данных 

*Как долго данные хранятся на портале? Защищены ли они?*

См. раздел [Хранение данных и конфиденциальность][data].

## Дальнейшие действия

*Служба Application Insights настроена для серверного приложения Java. Что еще можно сделать?*

* [Отслеживание доступности веб-страниц][availability]
* [Отслеживание использования веб-страниц][usage]
* [Отслеживание использования и диагностика проблем в приложениях для устройств][platforms]
* [Написание кода для отслеживания использования приложения][track]
* [Запись журналов диагностики][javalogs]


## Справка

* [Переполнение стека](http://stackoverflow.com/questions/tagged/ms-application-insights)

[AZURE.INCLUDE [app-insights-learn-more](../../includes/app-insights-learn-more.md)]





<!--HONumber=49--> 