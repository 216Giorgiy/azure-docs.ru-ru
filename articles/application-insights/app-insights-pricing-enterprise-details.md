---
title: Сведения об устаревшем тарифном плане "Корпоративный" для Azure Application Insights | Документация Майкрософт
description: Управление объемом данных телеметрии и контроль расходов в Application Insights.
services: application-insights
documentationcenter: ''
author: mrbullwinkle
manager: carmonm
ms.assetid: ebd0d843-4780-4ff3-bc68-932aa44185f6
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 04/02/2018
ms.author: mbullwin
ms.openlocfilehash: 6e7591ccf0f21099474a08dda088422c377135f6
ms.sourcegitcommit: 20d103fb8658b29b48115782fe01f76239b240aa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2018
---
# <a name="enterprise-plan-details"></a>Сведения о плане "Корпоративный"

В Application Insights имеются два тарифных плана. План по умолчанию называется [Базовый](app-insights-pricing.md). Он включает в себя все функции плана "Корпоративный" без дополнительных затрат и позволяет оплачивать главным образом объем получаемых данных. При использовании Operations Management Suite следует выбрать план "Корпоративный", обеспечивающий оплату за каждый узел и ежедневные квоты данных. В этом случае плата будет взиматься за данные, получаемые свыше предоставленной квоты.

Текущие цены в валюте вашей страны для выбранного региона вы можете узнать на [странице цен на Application Insights](http://azure.microsoft.com/pricing/details/application-insights/).

## <a name="heres-how-the-enterprise-plan-works"></a>Вот как работает план "Корпоративный"

* Используя план "Корпоративный", вы платите только за количество узлов, с которых данные телеметрии отправляются в приложения.
 * *Узел* — это любой физический компьютер, виртуальная машина или экземпляр роли платформы как услуги, на котором размещено ваше приложение.
 * В число узлов не включаются компьютеры для разработки, клиентские браузеры и мобильные устройства.
 * Если приложение содержит несколько компонентов, отправляющих данные телеметрии, например веб-службу и рабочую роль сервера, такие компоненты учитываются отдельно.
 * Данные [Live Metrics Stream](app-insights-live-stream.md) не учитываются при расчете стоимости.* Сумма оплаты за подписку зависит от количества узлов, а не от количества приложений. Если вы используете пять узлов, которые отправляют телеметрию для 12 приложений, то оплата взимается за пять узлов.
* Несмотря на то что суммы в тарифах указаны за целый месяц, плата взимается только за те часы, в течение которых узел отправлял данные телеметрии из приложения. Сумма почасовой оплаты вычисляется как указанная в тарифе ежемесячная плата, разделенная на 744 (то есть на количество часов в месяце длительностью 31 день).
* Для каждого обнаруженного узла на день выделяются данные объемом 200 МБ (с детализацией по часам). Выделенные, но не использованные объемы данных не переносятся на следующий день.
 * Если вы используете тарифный план "Корпоративный", для каждой подписки ежедневно будет выделяться определенная квота на объем данных в зависимости от количества узлов, отправляющих телеметрию в ресурсы Application Insights в рамках соответствующей подписки. Например, если вы используете 5 узлов, которые круглые сутки отправляют данные, вы получите совокупную квоту в 1 ГБ на все ресурсы Application Insights в этой подписке. Неважно, какие узлы передают какой объем информации, так как включенные данные распределяются на все узлы. Если в определенный день на ресурсы Application Insights будут переданы данные в объеме, превышающем дневную квоту для этой подписки, будет взиматься плата за каждый гигабайт избыточных данных. 
 * Ежедневная квота на объем передаваемых данных вычисляется в зависимости от количества часов за соответствующий день (в формате UTC), на протяжении которых каждый узел отправлял данные телеметрии. Это количество часов делится на 24 и умножается на 200 МБ. Например, если четыре узла отправляли данные телеметрии в течение 15 часов из 24, объем включенных данных за этот день составит ((4 x 15) / 24) x 200 = 500 МБ. Если за этот день узлы отправят 1 ГБ данных, то, исходя из цены в 2,30 доллара США за каждый гигабайт данных сверх квоты, плата за этот день составит 1,15 доллара США.
 * Ежедневная квота по плану "Корпоративный" не распространяется на те приложения, для которых выбран план "Базовый", а неиспользованная квота не переносится на следующие дни. 

## <a name="here-are-some-examples-of-determining-distinct-node-count"></a>Ниже приведены некоторые примеры расчетов для вычисления количества узлов.

| Сценарий                               | Общее количество узлов за день |
|:---------------------------------------|:----------------:|
| 1 приложение использует 3 экземпляра службы приложений Azure и 1 виртуальный сервер. | 4. |
| 3 приложения работают на 2 виртуальных машинах, ресурсы Application Insights для этих приложений находятся в одной подписке, и для них выбран план "Корпоративный". | 2 | 
| Есть 4 приложения, ресурсы Application Insights для которых находятся в одной подписке. Для каждого приложения выполняется по 2 экземпляра в течение 16 часов с низкой нагрузкой и по 4 экземпляра в течение 8 часов максимальной нагрузки. | 13,33 | 
| Облачные службы, у которых есть по 1 рабочей роли и 1 веб-роли, каждая их которых выполняется в 2 экземплярах. | 4. | 
| В кластере Service Fabric с 5 узлами работают 50 микрослужб, для каждой из которых запущено по 3 экземпляра. | 5|

* Точные правила подсчета количества узлов зависят от того, какой пакет SDK для Application Insights использует ваше приложение. 
  * В пакете SDK версии 2.2 и более новых версий пакеты [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) и [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) Application Insights будут считать узлами каждый узел приложения, например каждое имя компьютера для физического сервера или виртуальной машины и каждое имя экземпляра для облачных служб.  Единственным исключением будут приложения, использующие только [.NET Core](https://dotnet.github.io/) и пакет Core SDK Application Insights. В этом случае всех компьютеры считаются как один узел, так как имена узлов не используются. 
  * В более ранних версиях пакета SDK [веб-пакет SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) ведет себя так же, как и в новых версиях, но пакет [SDK для Core](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) учитывает только один узел, независимо от количества узлов приложения. 
  * Если приложение с помощью пакета SDK задает пользовательское значение для параметра roleInstance (Количество экземпляров роли), то по умолчанию это же значение будет использоваться и для определения количества узлов. 
  * Если вы используете новую версию пакета SDK для приложения, которое запускается на клиентских компьютерах или мобильных устройствах, может возвращаться очень большое количество узлов (из-за большого числа клиентских компьютеров или мобильных устройств). 
