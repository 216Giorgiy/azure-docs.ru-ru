---
title: Сведения об устаревшем тарифном плане "Корпоративный" для Azure Application Insights | Документация Майкрософт
description: Управление объемом данных телеметрии и контроль расходов в Application Insights.
services: application-insights
documentationcenter: ''
author: mrbullwinkle
manager: carmonm
ms.assetid: ebd0d843-4780-4ff3-bc68-932aa44185f6
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 04/02/2018
ms.author: mbullwin
ms.openlocfilehash: 6df013506e4541fee7850850776d26e5c69a799d
ms.sourcegitcommit: 9cdd83256b82e664bd36991d78f87ea1e56827cd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="enterprise-plan-details"></a>Сведения о плане "Корпоративный"

Для службы Azure Application Insights доступны два тарифных плана — "Базовый" и "Корпоративный". По умолчанию используется тарифный план [Базовый](app-insights-pricing.md). Он включает в себя все возможности плана "Корпоративный", не требуя дополнительных затрат. В плане "Базовый" плата в основном взимается за объем принимаемых данных. 

В плане "Корпоративный" оплачивается каждый узел, и каждому узлу выделяется ежедневная квота данных. При использовании тарифного плана "Корпоративный" плата взимается за данные, полученные свыше предоставленной квоты. Если вы используете Operations Management Suite, следует выбрать план "Корпоративный". 

Текущие цены в валюте вашей страны для выбранного региона вы можете узнать на [странице цен на Application Insights](http://azure.microsoft.com/pricing/details/application-insights/).

## <a name="how-the-enterprise-plan-works"></a>Принцип работы плана "Корпоративный"

* Используя план "Корпоративный", вы платите только за количество узлов, с которых данные телеметрии отправляются в приложения.
 * *Узел* — это любой физический компьютер, виртуальная машина или экземпляр роли платформы как услуги, на котором размещено ваше приложение.
 * В число узлов не включаются компьютеры для разработки, клиентские браузеры и мобильные устройства.
 * Если приложение содержит несколько компонентов, отправляющих данные телеметрии, например веб-службу и рабочую роль сервера, такие компоненты учитываются отдельно.
 * Данные [динамического потока метрик](app-insights-live-stream.md) не учитываются при расчете стоимости. Сумма платы за подписку зависит от количества узлов, а не от количества приложений. Если вы используете пять узлов, которые отправляют телеметрию для 12 приложений, то плата взимается за пять узлов.
* Несмотря на то что суммы в тарифах указаны за целый месяц, плата взимается только за те часы, в течение которых узел отправлял данные телеметрии из приложения. Сумма почасовой платы вычисляется как указанная в тарифе ежемесячная плата, разделенная на 744 (то есть на количество часов в месяц длительностью 31 день).
* Для каждого обнаруженного узла на день выделяются данные объемом 200 МБ (с детализацией по часам). Выделенные, но не использованные объемы данных не переносятся на следующий день.
 * Если вы используете тарифный план "Корпоративный", для каждой подписки ежедневно будет выделяться определенная квота на объем данных в зависимости от количества узлов, отправляющих телеметрию в ресурсы Application Insights в рамках соответствующей подписки. Например, если вы используете 5 узлов, которые круглые сутки отправляют данные, вы получите совокупную квоту в 1 ГБ на все ресурсы Application Insights в этой подписке. Неважно, какие узлы передают больший объем информации, так как включенные данные распределяются на все узлы. Если в определенный день на ресурсы Application Insights будут переданы данные в объеме, превышающем дневную квоту для этой подписки, будет взиматься плата за каждый гигабайт избыточных данных. 
 * Ежедневная квота на объем передаваемых данных вычисляется в зависимости от количества часов за соответствующий день (в формате UTC), на протяжении которых каждый узел отправлял данные телеметрии. Это количество часов делится на 24 и умножается на 200 МБ. Таким образом, если четыре узла отправляли данные телеметрии в течение 15 часов (из 24), объем данных рассчитывается по следующей формуле: ((4 × 15) / 24) × 200 МБ = 500 МБ. Если за этот день узлы отправят 1 ГБ данных, то, исходя из цены в 2,30 доллара США за каждый гигабайт данных сверх квоты, плата за этот день составит 1,15 доллара США.
 * Ежедневный лимит плана "Корпоративный" не распространяется на приложения, для которых выбран план "Базовый". Неиспользованный лимит на следующий день не переносится. 

## <a name="examples-of-how-to-determine-distinct-node-count"></a>Примеры для определения количества уникальных узлов

| Сценарий                               | Общее количество узлов за день |
|:---------------------------------------|:----------------:|
| 1 приложение использует 3 экземпляра службы приложений Azure и 1 виртуальный сервер. | 4. |
| 3 приложения работают на 2 виртуальных машинах, ресурсы Application Insights для этих приложений находятся в одной подписке, и для них выбран план "Корпоративный". | 2 | 
| Каждое из 4 приложений, ресурсы Application Insights которых находятся в одной подписке, запускает 2 экземпляра на протяжении 16 часов с наименьшей загрузкой и 4 экземпляра на протяжении 8 часов пиковой загрузки. | 13,33 | 
| Облачные службы, у которых есть по 1 рабочей роли и 1 веб-роли, каждая их которых выполняется в 2 экземплярах. | 4. | 
| В кластере Azure Service Fabric с 5 узлами работают 50 микрослужб, для каждой из которых запущено по 3 экземпляра | 5|

* Точный подсчет количества узлов зависит от того, какой пакет SDK для Application Insights использует ваше приложение. 
  * В пакете SDK версии 2.2 и более новых версий пакет [SDK для Core](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) и [веб-пакет SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) Application Insights считают узлами каждый узел приложения. Например, имя компьютера для физического сервера или виртуальной машины или имя экземпляра для облачных служб.  Единственное исключение — приложение, использующее только [.NET Core](https://dotnet.github.io/) и пакет SDK для Core Application Insights. В этом случае для всех узлов регистрируется только один узел, так как имя узла недоступно. 
  * В более ранних версиях пакета SDK [веб-пакет SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) ведет себя так же, как и в новых версиях, но пакет [SDK для Core](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) учитывает только один узел, независимо от количества узлов приложения. 
  * Если приложение с помощью пакета SDK задает пользовательское значение для параметра **roleInstance** (Количество экземпляров роли), то по умолчанию это же значение будет использоваться и для определения количества узлов. 
  * Если вы используете новую версию пакета SDK для приложения, которое запускается на клиентских компьютерах или мобильных устройствах, может возвращаться очень большое количество узлов (из-за большого числа клиентских компьютеров или мобильных устройств). 
