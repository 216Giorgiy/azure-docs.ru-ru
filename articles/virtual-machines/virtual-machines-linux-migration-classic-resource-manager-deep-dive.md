<properties
	pageTitle="Техническое руководство по поддерживаемому платформой переносу из классической модели в модель Azure Resource Manager| Microsoft Azure"
	description="Эта статья является техническим руководством по поддерживаемому платформой переносу из классической модели в модель Azure Resource Manager."
	services="virtual-machines-linux"
	documentationCenter=""
	authors="mahthi"
	manager="timlt"
	editor=""
	tags="azure-resource-manager"/>

<tags
	ms.service="virtual-machines-linux"
	ms.workload="infrastructure-services"
	ms.tgt_pltfrm="vm-linux"
	ms.devlang="na"
	ms.topic="article"
	ms.date="07/18/2016"
	ms.author="kasing"/>

# Техническое руководство по поддерживаемому платформой переносу из классической модели в модель Azure Resource Manager

Эта статья представляет собой техническое руководство по миграции на уровне ресурсов и компонентов, которое позволит понять, как платформа переносит ресурсы из классической модели развертывания в модель развертывания с помощью Azure Resource Manager. Чтобы получить дополнительную информацию, прочтите статью с объявлением о выпуске службы [Поддерживаемый платформой перенос ресурсов IaaS из классической модели в модель Azure Resource Manager](virtual-machines-windows-migration-classic-resource-manager.md).

## Подробное руководство по миграции на уровне ресурсов и компонентов

В таблице ниже представлены ресурсы в классической модели и модели Resource Manager. Компоненты и ресурсы, не указанные в этой таблице, в настоящее время не поддерживаются.

| Представление классической модели | Представление Resource Manager | Подробные примечания | | |
|--------------------------------------------------------|-------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|---|
| Имя облачной службы | DNS-имя | Во время миграции для каждой облачной службы мы создаем новую группу ресурсов, присваивая ей имя по шаблону `<cloudservicename>-migrated`. Эта группа ресурсов будет содержать все ресурсы. Имя облачной службы становится DNS-именем, связанным с общедоступным IP-адресом. | | |
| Виртуальная машина. | Виртуальная машина. | Свойства, относящиеся к виртуальной машине, переносятся без изменений. Обратите внимание, что определенные данные osProfile, например имя компьютера, не сохранились в классической модели развертывания и после миграции остались пустыми. | | |
| Ресурсы дисков, подключенные к виртуальной машине | Скрытые диски, подключенные к виртуальной машине | Диски не моделируются в виде ресурсов верхнего уровня в модели развертывания с помощью Resource Manager. Они переносятся в качестве скрытых дисков в виртуальной машине. В настоящее время поддерживаются только диски, подключенные к виртуальной машине. Теперь для миграции виртуальных машин Resource Manager можно использовать классические учетные записи хранения. Это позволяет с легкостью перенести диски в модель Resource Manager без каких-либо обновлений. | | |
| Расширения виртуальных машин | Расширения виртуальных машин | Все расширения ресурсов (кроме расширений XML) переносятся из классической модели развертывания. | | |
| Сертификаты виртуальных машин | Сертификаты в хранилище ключей Azure | Если облачная служба содержит сертификаты службы, то платформа создаст новое хранилище ключей Azure для каждой облачной службы и переместит сертификаты в это хранилище ключей. В виртуальных машинах будут обновлены ссылки на сертификаты из хранилища ключей. | | |
| Конфигурация WinRM | Конфигурация WinRM в osProfile | Конфигурация службы удаленного управления Windows в ходе миграции перемещается без изменений. | | |
| Свойство группы доступности | Ресурс группы доступности | Спецификация группы доступности являлась свойством в виртуальной машине в классической модели развертывания. Группы доступности становятся ресурсами верхнего уровня в ходе миграции. Обратите внимание, что не поддерживаются следующие конфигурации: несколько групп доступности на одну облачную службу либо одна или несколько групп доступности с виртуальными машинами, которые не находятся в какой-либо группе доступности, в одной облачной службе. | | |
| Конфигурация сети в виртуальной машине | Основной сетевой интерфейс | Конфигурация сети в виртуальной машине после миграции представлена ресурсом основного сетевого интерфейса. У виртуальных машин, которые не находятся в виртуальной сети, при миграции изменится внутренний IP-адрес. | | |
| Несколько сетевых интерфейсов в виртуальной машине | Сетевые интерфейсы | Если с виртуальной машиной связано несколько сетевых интерфейсов, то в ходе миграции каждый из них (и все соответствующие свойства) становится ресурсом верхнего уровня в модели развертывания с помощью Resource Manager. | | |
| Набор конечных точек с балансировкой нагрузки | Подсистема балансировки нагрузки | В классической модели развертывания платформа назначает скрытый балансировщик нагрузки для каждой облачной службы. Во время миграции создается новый ресурс балансировщика нагрузки, а набор конечных точек с балансировкой нагрузки преобразуется в правила балансировщика нагрузки. | | |
| Правила преобразования сетевых адресов для входящих подключений | Правила преобразования сетевых адресов для входящих подключений | При миграции входные конечные точки, определенные на виртуальной машине, преобразуются в правила преобразования сетевых адресов для входящих подключений в балансировщике нагрузки. | | |
| Виртуальный IP-адрес | Общедоступный IP-адрес с DNS-именем | Виртуальный IP-адрес становится общедоступным IP-адресом, связанным с балансировщиком нагрузки. | | |
| Виртуальная сеть | Виртуальная сеть | Виртуальная сеть и все ее свойства переносятся в модель развертывания с помощью Resource Manager. Создается новая группа ресурсов с именем `-migrated`. Обратите внимание на [неподдерживаемые конфигурации](virtual-machines-windows-migration-classic-resource-manager.md). | | |
| Зарезервированные IP-адреса | Общедоступный IP-адрес с методом статического выделения | Зарезервированные IP-адреса, связанные с балансировщиком нагрузки, переносятся вместе с облачной службой или виртуальной машиной. Миграция несвязанных зарезервированных IP-адресов в настоящее время не поддерживается. | | |
| Общедоступный IP-адрес для каждой виртуальной машины | Общедоступный IP-адрес с методом динамического выделения | Общедоступный IP-адрес, связанный с виртуальной машиной, преобразуется в ресурс общедоступного IP-адреса со статическим методом выделения. | | |
| Группы NSG | Группы NSG | Группы безопасности сети, связанные с подсетью, в ходе миграции клонируются в модель развертывания с помощью Resource Manager. Обратите внимание, что группа безопасности сети в классической модели развертывания не удаляется в ходе миграции. Однако во время миграции группы безопасности сети для нее блокируются операции в плоскости управления. | | |
| "Серверы DNS" | "Серверы DNS" | DNS-серверы, связанные с виртуальной сетью или виртуальной машиной, переносятся в ходе миграции соответствующего ресурса вместе со всеми свойствами. | | |
| Определяемые пользователем маршруты | Определяемые пользователем маршруты | Определяемые пользователем маршруты, связанные с подсетью, в ходе миграции клонируются в модель развертывания с помощью Resource Manager. Обратите внимание, что определяемый пользователем маршрут в классической модели развертывания не удаляется в ходе миграции. Однако во время миграции определяемого пользователем маршрута для него блокируются операции в плоскости управления. | | |
| Свойство IP-пересылки в конфигурации сети виртуальной машины | Свойство IP-пересылки в сетевой карте | Свойство IP-пересылки в виртуальной машине во время миграции преобразуется в свойство в сетевом интерфейсе. | | |
| Балансировщик нагрузки с несколькими IP-адресами | Балансировщик нагрузки с несколькими ресурсами IP-адресов | Каждый общедоступный IP-адрес, связанный с балансировщиком нагрузки, после миграции преобразуется в ресурс общедоступного IP-адреса и связывается с балансировщиком нагрузки. | | |
| Внутренние DNS-имена в виртуальной машине | Внутренние DNS-имена в сетевой карте | Во время миграции внутренние DNS-суффиксы виртуальной машины переносятся в свойство только для чтения InternalDomainNameSuffix в сетевой карте. После миграции суффикс не изменяется, не должно измениться и разрешение виртуальной машины. | | |

## Демонстрация пошагового выполнения простой миграции

На следующих примерах снимков экрана показано представление облачной службы с виртуальной машиной (не в виртуальной сети) после фазы подготовки.

![Снимок экрана с представлением классической модели после подготовки](./media/virtual-machines-windows-migration-classic-resource-manager/classic-migration-prepare-portal.png) ![Снимок экрана с представлением модели Resource Manager после подготовки](./media/virtual-machines-windows-migration-classic-resource-manager/resourcemanager-migration-prepare-portal.png)

## Дальнейшие действия

Теперь, когда вы получили представление о миграции классических ресурсов IaaS в Resource Manager, можно приступить к переносу ресурсов.

- [Перенос ресурсов IaaS из классической модели в модель Azure Resource Manager с помощью Azure PowerShell](virtual-machines-windows-ps-migration-classic-resource-manager.md)
- [Перенос ресурсов IaaS из классической модели в модель Azure Resource Manager с помощью интерфейса командной строки Azure](virtual-machines-linux-cli-migration-classic-resource-manager.md)
- [Поддерживаемый платформой перенос ресурсов IaaS из классической модели в модель Azure Resource Manager](virtual-machines-windows-migration-classic-resource-manager.md)
- [Клонирование классической виртуальной машины в Azure Resource Manager с помощью сценариев PowerShell](virtual-machines-windows-migration-scripts.md)

<!---HONumber=AcomDC_0824_2016-->