<properties 
	pageTitle="Бизнес-приложение в Azure | Microsoft Azure" 
	description="Определение полезности бизнес-приложения в Azure, настройка тестовой среды и развертывание конфигурации высокого уровня доступности." 
	services="virtual-machines" 
	documentationCenter="" 
	authors="JoeDavies-MSFT" 
	manager="timlt" 
	editor=""
	tags="azure-resource-manager"/>

<tags 
	ms.service="virtual-machines" 
	ms.workload="infrastructure-services" 
	ms.tgt_pltfrm="Windows" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="11/09/2015" 
	ms.author="josephd"/>

# Службы инфраструктуры Azure: высокодоступное бизнес-приложение

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-rm-include.md)]Классическая модель развертывания.


Настройте свое первое или очередное специализированное веб-приложение для интрасети в Microsoft Azure и получите такие преимущества, как простота настройки и возможность быстрого развертывания приложения для увеличения его емкости.
 
Виртуальные машины и виртуальная сеть служб инфраструктуры Azure позволяют быстро развернуть и запустить бизнес-приложение с доступом для пользователей организации. Например, можно создать вот такую конфигурацию.

![](./media/virtual-machines-workload-high-availability-LOB-application/workload-lobapp-phase4.png)
 
Так как виртуальная сеть Azure является расширением локальной сети (соблюдаются все требования к маршрутизации трафика и именованию), пользователи будут работать с серверами бизнес-приложения так же, как если бы они были размещены в локальном центре данных.

Такая конфигурация позволяет легко расширить емкость приложения путем добавления новых виртуальных машин Azure. В этом случае текущие затраты на оборудование и обслуживание будут ниже, чем затраты на эквивалентные приложения, развернутые в центре данных.

Далее следует настроить бизнес-приложение для разработки и тестирования, размещенное в Azure.

## Создание бизнес-приложения для разработки и тестирования, размещенного в Azure

Распределенная виртуальная сеть соединена с локальной сетью через подключение VPN или ExpressRoute по принципу "сайт — сайт". Если вы хотите создать среду разработки и тестирования с практически финальной конфигурацией, чтобы поэкспериментировать с подключением к приложению и удаленным администрированием через VPN-подключение, см. статью [Настройка веб бизнес-приложения в гибридном облаке для тестирования](../virtual-network/virtual-networks-setup-lobapp-hybrid-cloud-testing.md).

![](./media/virtual-machines-workload-high-availability-LOB-application/CreateLOBAppHybridCloud_3.png)
 
Эту среду можно создать бесплатно, используя свою [подписку MSDN](http://azure.microsoft.com/pricing/member-offers/msdn-benefits/) или [пробную подписку Azure](http://azure.microsoft.com/pricing/free-trial/).

Далее нужно создать высокодоступное бизнес-приложение в Azure.

## Развертывание бизнес-приложения, размещенного в Azure

Типичная конфигурация высокодоступного бизнес-приложения в Azure выглядит так:

![](./media/virtual-machines-workload-high-availability-LOB-application/workload-lobapp-phase4.png)
 
Такая конфигурация состоит из:

- интрасетевого бизнес-приложения с веб-сервером и сервером базы данных;
- конфигурации AlwaysOn для SQL Server с двумя виртуальными машинами под управлением SQL Server и узлом большинства в кластере;
- доменных служб Active Directory в виртуальной сети с двумя репликами контроллера домена.

Общие сведения о бизнес-приложениях см. в разделе [проектов архитектуры для бизнес-приложений](http://msdn.microsoft.com/dn630664).

### Спецификация

Для такой типичной конфигурации требуется следующий набор компонентов и служб Azure:

- семь виртуальных машин;
- четыре дополнительных диска данных для контроллеров домена и виртуальных машин под управлением SQL Server;
- три группы доступности;
- одна распределенная виртуальная сеть;
- две учетные записи хранения;

Вот список виртуальных машин и их размеры по умолчанию для данной конфигурации.

Элемент | Описание виртуальной машины | Образ из коллекции | Размер по умолчанию 
--- | --- | --- | --- 
1\. | Первый контроллер домена | Центр обработки данных Windows Server 2012 R2 | D1
2\. | Второй контроллер домена | Центр обработки данных Windows Server 2012 R2 | D1
3\. | Сервер базы данных-источника | Microsoft SQL Server 2014 Enterprise — Windows Server 2012 R2 | D4
4\. | Сервер базы данных-получателя | Microsoft SQL Server 2014 Enterprise — Windows Server 2012 R2 | D4
5\. | Узел большинства кластера | Центр обработки данных Windows Server 2012 R2 | D1
6\. | Первый веб-сервер | Центр обработки данных Windows Server 2012 R2 | D3
7\. | Второй веб-сервер | Центр обработки данных Windows Server 2012 R2 | D3

Чтобы вычислить расчетную стоимость данной конфигурации, см. [Калькулятор цен Azure](https://azure.microsoft.com/pricing/calculator/).

1. В разделе **Модули** выберите параметр **Рассчитать**, а затем щелкните **Виртуальные машины** столько раз, чтобы получился список из семи виртуальных машин.
2. Для каждой виртуальной машины укажите следующие параметры:
	- Необходимый регион
	- Тип — **Windows**
	- Уровень цен — **Standard**
	- **Размер экземпляра** — размер по умолчанию из предыдущей таблицы или предполагаемый размер

> [AZURE.NOTE]Калькулятор цен Azure не включает дополнительные затраты на лицензирование SQL Server для двух виртуальных машин под управлением SQL Server 2014 Enterprise. Дополнительные сведения см. в статье [Цены на виртуальные машины — SQL](https://azure.microsoft.com/pricing/details/virtual-machines/#Sql).

### Этапы развертывания

Развертывание этой конфигурации выполняется в следующем порядке.

- Этап 1. Настройка Azure 

	С помощью Azure PowerShell создайте учетные записи хранения, группы доступности и распределенную виртуальную сеть. Подробные сведения см. в статье, посвященной [этапу 1](virtual-machines-workload-high-availability-LOB-application-phase1.md).

- Этап 2. Настройка контроллеров домена

	Настройте два контроллера домена реплик Active Directory и параметры DNS для виртуальной сети. Подробные сведения см. в статье, посвященной [этапу 2](virtual-machines-workload-high-availability-LOB-application-phase2.md).

- Этап 3. Настройка инфраструктуры сервера SQL Server

	Создайте виртуальные машины под управлением SQL Server и кластер. Подробные сведения см. в статье, посвященной [этапу 3](virtual-machines-workload-high-availability-LOB-application-phase3.md).

- Этап 4. Настройка веб-серверов.

	Создайте виртуальные машины с веб-серверами и добавьте на них свое бизнес-приложение. Подробные сведения см. в статье, посвященной [этапу 4](virtual-machines-workload-high-availability-LOB-application-phase4.md).

- Этап 5. Настройка группы доступности AlwaysOn для SQL Server.

	Подготовьте базы данных приложения, создайте группу доступности AlwaysOn для SQL Server и добавьте в нее базы данных приложения. Подробные сведения см. в статье, посвященной [этапу 5](virtual-machines-workload-high-availability-LOB-application-phase5.md).

После настройки можно легко расширить это бизнес-приложение, добавив в кластер веб-серверы или виртуальные машины под управлением SQL Server.

## Дополнительные ресурсы

[Развертывание высокодоступных бизнес-приложений в Azure](virtual-machines-workload-high-availability-LOB-application-overview.md)

[Архитектурный проект бизнес-приложений](http://msdn.microsoft.com/dn630664)

[Настройка веб-бизнес-приложения в гибридном облаке для тестирования](../virtual-network/virtual-networks-setup-lobapp-hybrid-cloud-testing.md)

[Руководство по реализации служб инфраструктуры Azure](virtual-machines-infrastructure-services-implementation-guidelines.md)

[Рабочая нагрузка служб инфраструктуры Azure: ферма SharePoint Server 2013](virtual-machines-workload-intranet-sharepoint-farm.md)

<!---HONumber=Nov15_HO3-->