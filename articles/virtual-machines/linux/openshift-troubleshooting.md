---
title: "Устранение неполадок развертывания OpenShift в Azure | Документация Майкрософт"
description: "Устранение неполадок развертывания OpenShift в Azure"
services: virtual-machines-linux
documentationcenter: virtual-machines
author: haroldw
manager: najoshi
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 
ms.author: haroldw
ms.openlocfilehash: ea3664870480f6ed170972a5f52940dc4a852219
ms.sourcegitcommit: b979d446ccbe0224109f71b3948d6235eb04a967
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2017
---
# <a name="troubleshooting-openshift-deployment-in-azure"></a>Устранение неполадок развертывания OpenShift в Azure

Если кластер OpenShift не развертывается успешно, существует ряд способов, которые могут помочь в устранении проблемы. Просмотрите состояние развертывания и сравните с приведенным ниже списком кодов завершения.

- Код завершения 3: имя пользователя/пароль для подписки Red Hat или идентификатор организации/ключ активации неверны.
- Код завершения 4: неверный идентификатор пула Red Hat или отсутствуют доступные права.
- Код завершения 5: не удалось подготовить тонкий пул тома Docker.
- Код завершения 6: сбой установки кластера OpenShift.
- Код завершения 7: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных служб Azure Cloud (проблема настройки основной конфигурации главного узла).
- Код завершения 8: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных служб Azure Cloud (проблема настройки главного узла).
- Код завершения 9: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных служб Azure Cloud (проблема настройки инфраструктуры или узла приложения).
- Код завершения 10: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных служб Azure Cloud (устранение проблем на главном узле или невозможность внеплановой настройки главного узла).
- Код завершения 11: не удалось выполнить развертывание метрик.
- Код завершения 12: не удалось выполнить развертывание ведения журнала.

Для кодов завершения 7–10 кластер OpenShift был установлен, но не удалось настроить поставщик облачных служб Azure. Вы можете подключиться к главному узлу (источник) по протоколу SSH или узлу-бастиону (платформа контейнеров), а оттуда подключиться к каждому из узлов в кластере и исправить проблемы.

Общей причиной сбоев с кодом завершения 7–9 является то, что у субъекта-службы не было надлежащих разрешений для доступа к подписке или группе ресурсов. Если проблема действительно в этом, назначьте правильные разрешения и вручную перезапустите сценарий, который не смог выполнить все последующие сценарии.
Обязательно перезапустите службу, которая завершилась сбоем (например, systemctl restart atomic-openshift-node.service), прежде чем выполнять сценарии снова.

Для дальнейшего устранения неполадок выполните подключение по протоколу SSH к своему главному узлу через порт 2200 (исходный) или к узлу-бастиону через порт 22 (платформа контейнеров). Вам нужно получить права привилегированного пользователя (sudo su -), а затем перейти к следующему каталогу: /var/lib/waagent/custom-script/download

В нем должны появиться папки с именем 0 и 1. В каждой из этих папок должны находиться два файла: stderr и stdout. Просмотрите эти файлы, чтобы определить, где произошел сбой.
