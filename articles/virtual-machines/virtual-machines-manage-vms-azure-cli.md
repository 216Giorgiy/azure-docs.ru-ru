<properties
   pageTitle="Управление виртуальными машинами Azure с помощью Azure CLI | Microsoft Azure"
   description="Описывается управление виртуальными машинами Azure с помощью Azure CLI для Mac, Linux и Windows."
   services="virtual-machines"
   documentationCenter="virtual-machines"
   authors="dlepow"
   manager="timlt"
   editor=""
   tags="azure-service-management"/>

   <tags
   ms.service="virtual-machines"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="vm-linux"
   ms.workload="infrastructure-services"
   ms.date="06/09/2015"
   ms.author="danlep"/>

# Управление виртуальными машинами с помощью Azure CLI для Mac, Linux и Windows

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-include.md)]В этой статье описывается процесс управления ресурсом, созданным с помощью классической модели развертывания. Вы также можете управлять ресурсом, созданным с помощью [модели развертывания на основе диспетчера ресурсов](virtual-machines-how-to-automate-azure-resource-manager.md).

Многие повседневные задачи управления виртуальными машинами можно автоматизировать с помощью Azure CLI. В этой статье приводятся примеры команд для простых задач, а также ссылки на статьи о командах для более сложных задач.

>[AZURE.NOTE]Если вы еще не установили и не настроили Azure CLI, то [здесь](../xplat-cli-install.md) можно получить инструкции. Если вы хотите быстро настроить те же задачи в PowerShell, см. раздел [Управление виртуальными машинами с помощью Azure PowerShell](virtual-machines-manage-vms-powershell.md).

## Как использовать примеры команд
Вам понадобится заменить определенный текст в командах в соответствии с вашей средой. Символы < and > обозначают текст, который необходимо заменить. При замене текста удалите символы, но оставьте на месте кавычки.

> [AZURE.NOTE]Если вам требуется хранить и обрабатывать выходные данные команд консоли программно, возможно, вам потребуется использовать инструмент синтаксического анализа JSON, такой как **[jq](https://github.com/stedolan/jq)** и **[jsawk](https://github.com/micha/jsawk)**, или подходящие языковые библиотеки.

## Отображение информации о виртуальной машине

Вы будете выполнять эту основную задачу очень часто. Используйте ее, чтобы получить информацию о виртуальной машине, выполнить задачи в виртуальной машине или получить выходные данные, которые необходимо сохранить в переменной.

Чтобы получить информацию о виртуальной машине, выполните эту команду и замените все, что заключено в кавычки, включая символы < and >:

     azure vm show -g <group name> -n <virtual machine name>

Чтобы сохранить выходные данные в переменной $vm в качестве документа в формате JSON, выполните:

    vmInfo=$(azure vm show -g <group name> -n <virtual machine name> --json)

Как вариант, вы также можете передать параметр stdout в файл.

## Вход в виртуальную машину под управлением ОС Linux

Как правило, к компьютерам Linux можно подключиться через SSH-порт. Дополнительную информацию см. в разделе [Использование SSH с Linux в Azure](virtual-machines-linux-use-ssh-key.md). Общие сведения о диспетчере ресурсов Azure
## Остановка виртуальной машины

Выполните следующую команду:

    azure vm stop <group name> <virtual machine name>

>[AZURE.IMPORTANT]Используйте этот параметр, чтобы сохранить виртуальный IP-адрес (VIP) облачной службы, если эта виртуальная машина является последней в этой службе. <br><br> При использовании параметра StayProvisioned вам по-прежнему будут выставлять счета за использование виртуальной машины.

## Запуск виртуальной машины

Выполните следующую команду: azure vm start (обзор диспетчера ресурсов Azure). <group name><virtual machine name>

## Подключение диска данных

Вам необходимо решить, какой диск подключать — новый диск или диск с данными. При подключении нового диска команда создает VHD-файл и присоединяет его.

Чтобы подключить новый диск, выполните следующую команду:

     azure vm disk attach-new <resource-group> <vm-name> <size-in-gb>

Чтобы подключить существующий диск, выполните следующую команду:

    azure vm disk attach <resource-group> <vm-name> [vhd-url]

## Создание виртуальной машины Linux

Для создания новой виртуальной машины под управлением Linux вам понадобится несколько значений, включая имя группы ресурсов, расположение, имя образа, имя виртуальной машины и учетная запись хранения для хранения VHD-файла резервного образа. После получения информации, которую вы хотите использовать, Azure CLI сможет создать интерактивный сеанс для ввода этих значений. Для этого следует ввести:

    azure vm create

Конечно, если у вас уже есть эти значения, можно найти соответствующие параметры, чтобы передать их напрямую, введя `azure help vm create`.

## Дальнейшие действия

Дополнительные примеры использования интерфейса командной строки Azure в режиме **ARM** см. в разделе [Использование интерфейса командной строки Microsoft Azure для Mac, Linux и Windows в режиме управления ресурсами Azure](../xplat-cli-resource-manager.md). Дополнительную информацию о ресурсах Azure и их основных понятиях см. в разделе [Обзор диспетчера ресурсов Azure](../resource-group-overview.md).

<!---HONumber=Oct15_HO1-->