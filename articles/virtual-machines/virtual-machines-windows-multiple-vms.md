<properties
	pageTitle="Создание нескольких виртуальных машин Azure | Microsoft Azure"
	description="Параметры для создания нескольких виртуальных машин в операционной системе Windows"
	services="virtual-machines-windows"
	documentationCenter=""
	authors="gbowerman"
	manager="timlt"
	editor=""
	tags="azure-resource-manager"/>

<tags
	ms.service="virtual-machines-windows"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="05/02/2016"
	ms.author="guybo"/>

# Создание нескольких виртуальных машин Azure

Очень часто возникают ситуации, когда необходимо создать большое количество схожих виртуальных машин. Например, для высокопроизводительных вычислительных систем, анализа большого объема данных, масштабируемых серверов среднего уровня и внутренних серверов, например веб-серверов (часто без отслеживания состояния), и распределенных баз данных.

В этой статье рассматриваются параметры, которые можно использовать для создания сразу нескольких виртуальных машин в Azure, когда средства создания виртуальных машин вручную использовать неудобно. Процессы, которые обычно применяются для создания одной виртуальной машины, не подходят, если требуется создать несколько виртуальных машин.

Один из способов создания нескольких схожих виртуальных машин — использовать Azure Resource Manager из _цикла ресурсов_.

## Циклы ресурсов

Циклы ресурсов — это синтаксическое сокращение, которое используется в шаблонах Azure Resource Manager. Они позволяют создавать набор одинаково настроенных ресурсов в цикле. Циклы ресурсов можно использовать для создания нескольких учетных записей хранения, сетевых интерфейсов или виртуальных машин. Дополнительные сведения о циклах ресурсов см. в статье [Create VMs in availability sets using resource loops](https://azure.microsoft.com/documentation/templates/201-vm-copy-index-loops/) (Создание виртуальных машин в группах доступности с использованием циклов ресурсов).

## Проблемы масштабирования

Несмотря на то, что циклы ресурсов упрощают масштабное создание облачной структуры и позволяют создавать более точные шаблоны, некоторые проблемы остаются. Например, при создании 100 виртуальных машин с использованием цикла ресурсов необходимо сопоставить сетевые адаптеры с соответствующими виртуальными машинами и учетными записями хранения. Число виртуальных машин может отличаться от числа учетных записей хранения, а значит, размеры циклов ресурсов также будут различными. Эти проблемы решаются, но с увеличением масштаба сложность возрастает.

Еще одна проблема возникает, если вам требуется инфраструктура с эластичным масштабированием. Например, если требуется инфраструктура автоматического масштабирования, которая автоматически увеличивает или уменьшает число виртуальных машин в соответствии с рабочей нагрузкой. Виртуальные машины не имеют интегрированного механизма для изменения (увеличения или уменьшения) числа виртуальных машин. Если масштаб уменьшается за счет удаления виртуальных машин, трудно обеспечить высокую доступность за счет распределения виртуальных машин между доменами обновлений и сбоев.

И наконец, при использовании цикла ресурсов в основную структуру отправляется множество вызовов для создания ресурсов. Когда многочисленные вызовы создают одинаковые ресурсы, Azure получает косвенную возможность усовершенствования этой инфраструктуры и выполнения оптимизации для повышения надежности и эффективности развертывания. В этом случае подходят _наборы для масштабирования виртуальных машин_.

## Наборы для масштабирования виртуальных машин

Наборы для масштабирования виртуальных машин относятся к ресурсам облачных служб Azure. Их можно использовать для развертывания набора идентичных виртуальных машин и управления ими. Так как все виртуальные машины настроены одинаково, наборы для масштабирования виртуальных машин легко увеличивать и уменьшать. Достаточно просто изменить количество виртуальных машин в наборе. Кроме того, их можно настраивать на автоматическое масштабирование в зависимости от требований к рабочей нагрузке.

Для приложений, которые нуждаются в масштабировании вычислительных ресурсов, операции масштабирования неявно распределяются между доменами сбоя и доменами обновления.

Вместо сопоставления нескольких ресурсов, таких как сетевые адаптеры и виртуальные машины, наборы для масштабирования виртуальных машин включают свойства сети, хранилища, виртуальных машин и расширений, которые можно настраивать централизованно.

Общие сведения о наборах для масштабирования виртуальных машин см. на [странице продукта](https://azure.microsoft.com/services/virtual-machine-scale-sets/), а дополнительные сведения — в [документации](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/).

<!---HONumber=AcomDC_0518_2016-->