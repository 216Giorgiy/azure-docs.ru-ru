<properties
	pageTitle="Создание нескольких виртуальных машин Azure | Microsoft Azure"
	description="Параметры для создания нескольких виртуальных машин в операционной системе Windows"
	services="virtual-machines-windows"
	documentationCenter=""
	authors="gbowerman"
	manager="timlt"
	editor=""
	tags="azure-resource-manager"/>

<tags
	ms.service="virtual-machines-windows"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="05/02/2016"
	ms.author="guybo"/>

# Создание нескольких виртуальных машин Azure

Очень часто возникают ситуации, когда необходимо создать большое количество схожих виртуальных машин, например высокопроизводительные вычислительные системы, анализ большого объема данных, масштабируемые серверы среднего уровня и внутренние серверы, например веб-серверы (часто без отслеживания состояния) и распределенные базы данных.

В этой статье обсуждаются параметры, которые можно использовать для создания сразу нескольких виртуальных машин в Azure, когда средства создания виртуальных машин вручную использовать неудобно.

Один из способов оптимизации при создании нескольких схожих виртуальных машин — это использовать диспетчер ресурсов Azure из _цикла ресурсов_.

## Циклы ресурсов

Циклы ресурсов — это синтаксическое сокращение, которое используется в шаблонах диспетчера ресурсов Azure и позволяет создавать набор одинаково настроенных ресурсов в цикле. Циклы ресурсов можно использовать, например, для создания учетных записей хранения, сетевых интерфейсов и виртуальных машин. Дополнительные сведения о циклах ресурсов см. в статье [Create VMs in Availability Sets using Resource Loops](https://azure.microsoft.com/documentation/templates/201-vm-copy-index-loops/) (Создание виртуальных машин в группах доступности с использованием циклов ресурсов).

## Проблемы масштабирования

Несмотря на то, что циклы ресурсов упрощают масштабное построение облачной структуры и позволяют создавать более краткие шаблоны, определенные проблемы остаются. Например, при создании 100 виртуальных машин с использованием цикла ресурсов для определения виртуальных машин необходимо сопоставить сетевые адаптеры с виртуальными машинами и учетными записями хранения. Число виртуальных машин может отличаться от числа учетных записей хранения, а значит, размеры циклов ресурсов могут отличаться. Эти проблемы решаются, но с увеличением масштаба сложность возрастает.

Еще одна проблема возникает, если вам требуется инфраструктура эластичного масштабирования, например автоматическое масштабирование — автоматическое увеличение или уменьшение числа виртуальных машин в соответствии с рабочей нагрузкой. Виртуальные машины не имеют интегрированного механизма для изменения (увеличения или уменьшения) числа виртуальных машин. Если масштаб увеличивается за счет удаления виртуальных машин, появляется еще одна сложная задача — обеспечить высокую доступность за счет распределения виртуальных машин между доменами обновлений и сбоев.

И наконец, несмотря на то, что циклы ресурсов являются синтаксическим сокращением, при их использовании в основную структуру отправляется множество вызовов для создания ресурсов. Когда многочисленные вызовы создают одинаковые ресурсы, Azure получает косвенную возможность усовершенствования этого дизайна и выполнения оптимизации для повышения надежности и эффективности развертывания. Здесь вступают в игру _наборы для масштабирования виртуальных машин_.

## Наборы для масштабирования виртуальных машин

Наборы для масштабирования виртуальных машин относятся к вычислительным ресурсам Azure. Их можно использовать для развертывания набора идентичных виртуальных машин и управления им. Поскольку все виртуальные машины настроены одинаково, наборы для масштабирования виртуальных машин легко увеличивать и уменьшать, просто изменяя число виртуальных машин в наборе, и можно настраивать на автоматическое масштабирование в зависимости от требований к рабочей нагрузке.

Для приложений, которые нуждаются в масштабировании вычислительных ресурсов, операции масштабирования неявно распределяются между доменами сбоя и доменами обновления.

Вместо сопоставления нескольких ресурсов, таких как сетевые адаптеры и виртуальные машины, наборы масштабирования включают свойства сети, хранилища, виртуальных машин и расширений, которые можно настраивать централизованно.

Ознакомительные сведения о наборах для масштабирования виртуальных машин см. на [странице продукта](https://azure.microsoft.com/services/virtual-machine-scale-sets/), а дополнительные сведения — в [документации](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/).

<!---HONumber=AcomDC_0504_2016-->