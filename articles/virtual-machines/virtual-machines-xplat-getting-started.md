<properties
   pageTitle="Как создать виртуальную машину Azure с помощью Azure CLI | Microsoft Azure"
   description="В этой статье описано, как установить интерфейс CLI Azure на любой платформе, как его использовать для подключения к учетной записи Azure и как с его помощью создавать виртуальные машины."
   services="virtual-machines"
   documentationCenter=""
   authors="dlepow"
   manager="timlt"
   editor="tysonn"
   tags="azure-service-management"/>

<tags
   ms.service="virtual-machines"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="command-line-interface"
   ms.workload="infrastructure-services"
   ms.date="06/09/2015"
   ms.author="danlep"/>

# Создание виртуальной машины с помощью интерфейса командной строки Azure

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-include.md)]В этой статье описывается процесс создания ресурсов с помощью классической модели развертывания. Для создания ресурса вы также можете использовать [модель развертывания диспетчера ресурсов](virtual-machines-deploy-rmtemplates-azure-cli.md).

Интерфейс CLI Azure позволяет управлять инфраструктурой Azure с любой платформы.

Чтобы приступить к созданию виртуальной машины, нужно установить CLI Azure и оформить подписку Azure. Давайте сделаем это. Если у вас еще нет учетной записи Azure, [вы можете бесплатно получить ее](http://azure.microsoft.com/pricing/free-trial/).

## Установка CLI Azure

Следуйте указаниям по [установке Azure CLI](../xplat-cli-install.md#install).

## Подключение к Azure с помощью интерфейса командной строки Azure CLI

Установленный интерфейс CLI Azure можно подключить к личной или рабочей учетной записи Azure. Ознакомьтесь с различными возможностями подписок в разделе [Подключение к подписке Azure](../xplat-cli-install.md#configure) и выберите нужную подписку.

## Создание виртуальной машины в Azure и подключение к ней

Чтобы приступить к созданию виртуальной машины, выберите (или передайте) нужный образ и воспользуйтесь командой `azure vm create`.

1. Чтобы выбрать образ в командной строке, можно выполнить команду `azure vm image list`, которая отображает список всех доступных образов виртуальных машин. Так как список образов очень большой, его можно разбить на страницы с помощью команды `more` или применить фильтр с помощью команды `grep` (Linux) или `findstr` (Windows). Например, если необходимо найти образы Ubuntu в Linux, воспользуйтесь указанной ниже командой.

        azure vm image list | grep Ubuntu

    Список найденных образов будет все еще большим, поэтому его можно дополнительно сузить по версии:

        azure vm image list | grep Ubuntu-14_10

    Теперь вы можете выбрать нужный образ и воспользоваться командой `show`, чтобы просмотреть подробную информацию о его свойствах:

        azure vm image show b39f27a8b8c64d52b05eac6a62ebad85__Ubuntu-14_10-amd64-server-20150202-ru-RU-30GB

2. Выбрав нужный образ виртуальной машины, выполните команду `vm create`, чтобы создать его. Эта команда имеет большое количество параметров, список которых можно просмотреть с помощью команды `help`:

        vm create --help

    Кроме самого образа, выбранного в действии 1, для создания виртуальной машины необходимо указать расположение, DNS-имя и имя пользователя.

    В качестве способа проверки подлинности можно выбрать проверку подлинности с помощью пароля (в командной строке или в интерактивном режиме) или сертификата. Если выбрана проверка подлинности с помощью пароля, нужно указать пароль длиной не менее 8 символов, включающий буквы верхнего и нижнего регистров и специальные символы (например, !@#$%^&+=). При вводе пароля в командной строке желательно указывать его в кавычках и экранировать специальные знаки.

    Для выбора расположения можно воспользоваться командой `vm location list` и выбрать близлежащий регион.

  Заданное DNS-имя должно быть уникальным (оно будет сопоставляться с `dnsname.cloudapp.net`) и совпадать с именем виртуальной машины, если оно отдельно не указано в командной строке.

    The Linux example below creates a VM in West US, opens the default SSH port 22 (the -e argument), and creates a user called `myadminuser`:

        azure vm create -e -l "West US"  my-new-cli-vm b39f27a8b8c64d52b05eac6a62ebad85__Ubuntu-14_10-amd64-server-20150202-ru-RU-30GB "myadminuser" "myAdm1n@passwd"

## Дальнейшие действия

Давайте попробуем поработать с виртуальной машиной.

Так как в примере выше открывается порт SSH по умолчанию, вы можете с легкостью подключиться к виртуальной машине сразу же после ее создания и запуска. Введите в командной строке Linux:

    ssh myadminuser@my-new-cli-vm.cloudapp.net

Дополнительные примеры использования Azure CLI для управления инфраструктурой Azure см. на [странице со справочной информацией о командах Azure CLI](../virtual-machines-command-line-tools.md).

<!--Image references-->
[5]: ./media/markdown-template-for-new-articles/octocats.png

<!---HONumber=Oct15_HO1-->