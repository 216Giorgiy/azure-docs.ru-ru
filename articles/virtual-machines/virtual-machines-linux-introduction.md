<properties
	pageTitle="Введение в Linux в Azure — учебник Azure"
	description="Узнайте о том, как использовать виртуальные машины Linux в Azure."
	services="virtual-machines"
	documentationCenter="python"
	authors="szarkos"
	manager="timlt"
	editor=""/>

<tags
	ms.service="virtual-machines"
	ms.workload="infrastructure-services"
	ms.tgt_pltfrm="vm-linux"
	ms.devlang="na"
	ms.topic="article"
	ms.date="06/11/2015"
	ms.author="szark"/>





#Введение в Linux в Azure

В этом разделе содержится обзор некоторых аспектов использования виртуальных машин Linux в облаке Azure. При использовании образа из коллекции развертывание виртуальной машины Linux осуществляется просто.

## Оглавление ##

* [Проверка подлинности: имена пользователей, пароли и ключи SSH](#authentication)
* [Получение привилегий суперпользователя с помощью sudo](#superuserprivileges)
* [Настройка брандмауэра](#firewallconfiguration)
* [Изменения имени узла](#hostnamechanges)
* [Запись образа виртуальной машины](#virtualmachine)
* [Подключение дисков](#attachingdisks)

## <a id="authentication"></a>Проверка подлинности: имена пользователей, пароли и ключи SSH

При создании виртуальной машины Linux с помощью портала управления Azure вам будет предложено указать имя пользователя, пароль или открытый ключ SSH. К имени пользователя при развертывании виртуальной машины Linux на платформе Azure применяется следующее ограничение: запрещается использовать имена учетных записей (идентификатор пользователя <100), которые уже используются в виртуальной машине (например, root).


 - См. статью [Создание виртуальной машины с ОС Linux](virtual-machines-linux-tutorial.md).
 - См. [Использование SSH с Linux в Azure](../linux-use-ssh-key.md)


## <a id="superuserprivileges"></a>Получение привилегий суперпользователя с помощью `sudo`

Учетная запись пользователя, указанная во время развертывания экземпляра виртуальной машины в Azure, является привилегированной учетной записью. Эта учетная запись настраивается агентом Linux Azure, чтобы обеспечить возможность повысить привилегии до уровня root (учетная запись суперпользователя) с помощью служебной программы `sudo`. После входа в систему с помощью этой учетной записи пользователя вы сможете выполнять команды от учетной записи root, используя синтаксис команды

	# sudo <COMMAND>

При необходимости можно получить доступ к оболочке root с помощью команды **sudo -s**.

- См. [Использование прав корневой учетной записи на виртуальных машинах Linux в Azure](virtual-machines-linux-use-root-privileges.md).


## <a id="firewallconfiguration"></a>Настройка брандмауэра

Azure предоставляет фильтр входящих пакетов, который ограничивает возможности подключения к портам, указанным на портале управления. По умолчанию разрешен только порт SSH. Можно открыть доступ к дополнительным портам на виртуальной машине Linux, настроив конечные точки на портале управления:

 - См. статью [Настройка конечных точек виртуальной машины](virtual-machines-set-up-endpoints.md).

Образы Linux в коллекции Azure не включают брандмауэр *iptables* по умолчанию. При необходимости этот брандмауэр можно настроить для предоставления дополнительных возможностей фильтрации.


## <a id="hostnamechanges"></a>Изменения имени узла

При начальном развертывании экземпляра образа Linux необходимо указать имя узла для виртуальной машины. После запуска виртуальной машины это имя узла публикуется на DNS-серверах платформы, чтобы несколько соединенных между собой виртуальных машин могли выполнять поиск IP-адресов с помощью имен узлов.

При необходимости изменения имени узла после развертывания виртуальной машины рекомендуется использовать команду

	# sudo hostname <newname>

Агент Linux Azure предоставляет функции автоматического обнаружения изменения имени узла и соответствующей настройки виртуальной машины для сохранения этого изменения и его публикации на DNS-серверах платформы.

 - [Руководство пользователя агента Linux для Azure](virtual-machines-linux-agent-user-guide.md)

### Cloud-Init
Образы **Ubuntu** и **CoreOS** используют пакет cloud-init в Azure, предоставляющий дополнительные возможности для начальной загрузки виртуальной машины.

 - [Включение пользовательских данных в виртуальную машину Azure](virtual-machines-how-to-inject-custom-data.md)
 - [Пользовательские данные и cloud-init в Microsoft Azure](http://azure.microsoft.com/blog/2014/04/21/custom-data-and-cloud-init-on-windows-azure/)
 - [Создание разделов подкачки Azure с помощью cloud-init](https://wiki.ubuntu.com/AzureSwapPartitions)
 - [Использование CoreOS в Azure](virtual-machines-linux-coreos-how-to.md)


## <a id="virtualmachine"></a>Запись образа виртуальной машины

Azure предоставляет возможность записи состояния существующей виртуальной машиной в образ, который впоследствии можно использовать для развертывания дополнительных экземпляров виртуальной машины. Агент Linux Azure может использоваться для отката некоторых настроек, которые были выполнены в процессе подготовки. Вы можете выполнить следующие действия, чтобы записать виртуальную машину в виде образа:

1. Выполните команду **waagent -deprovision** для отмены настройки подготовки. Или выполните команду **waagent -deprovision+user** при необходимости, чтобы удалить учетную запись пользователя, указанную во время подготовки, и все связанные с ней данные.

2. Остановите работу виртуальной машины или выключите ее.

3. Нажмите кнопку *Запись* на портале управления либо используйте средства Powershell или CLI, чтобы записать образ виртуальной машины.

 - См. статью [Запись образа виртуальной машины Linux для использования в качестве шаблона](virtual-machines-linux-capture-image.md).


## <a id="attachingdisks"></a>Подключение дисков

Каждая виртуальная машина также имеет подключенный временный локальный *диск ресурсов*. Так как данные на диске ресурсов могут плохо переносить перезагрузки, его часто используют приложения и процессы, выполняющиеся на виртуальной машине, для промежуточного и **временного** хранения данных. Он также используется для хранения страниц или замены файлов операционной системы.

В системе Linux диск ресурсов обычно управляется агентом Linux Azure, и он автоматически подключается к **/mnt/resource** (или **/mnt** на образах Ubuntu).


	>[AZURE.NOTE] Note that the resource disk is a **temporary** disk, and might be deleted and reformatted when the VM is rebooted.

В Linux диск данных можно назвать по ядру, например `/dev/sdc`, и пользователям придется выполнить разбиение на разделы, форматирование и подключение этого ресурса. Это действие подробно рассматривается в учебнике [Как присоединить диск данных к виртуальной машине Linux](virtual-machines-linux-how-to-attach-disk.md).

 - **Также см. статью** [Настройка программного RAID-массива в Linux](virtual-machines-linux-configure-raid.md).
 

<!---HONumber=August15_HO6-->