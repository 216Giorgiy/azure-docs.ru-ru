---
title: "Экспорт баз данных U-SQL с помощью Средств Azure Data Lake для Visual Studio | Документация Майкрософт"
description: "Сведения об использовании Средств Azure Data Lake для Visual Studio для экспорта базы данных U-SQL и ее одновременного импорта в локальную учетную запись."
services: data-lake-analytics
documentationcenter: 
author: yanancai
manager: 
editor: 
ms.assetid: dc9b21d8-c5f4-4f77-bcbc-eff458f48de2
ms.service: data-lake-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 11/27/2017
ms.author: yanacai
ms.openlocfilehash: 9f11e07f7fbaf2b708d6fbc8a746238745132bda
ms.sourcegitcommit: 29bac59f1d62f38740b60274cb4912816ee775ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2017
---
# <a name="how-to-export-u-sql-database"></a>Экспорт базы данных U-SQL

В этой статье вы узнаете, как использовать [Средства Azure Data Lake для Visual Studio](http://aka.ms/adltoolsvs), чтобы экспортировать базы данных U-SQL в виде одного сценария U-SQL и скачанных ресурсов. Импорт экспортированной базы данных в локальную учетную запись также поддерживается в том же процессе.

Пользователи обычно поддерживают несколько сред для разработки, тестирования и работы. Эти среды размещаются как в локальной учетной записи на локальном компьютере разработки, так и в учетной записи Azure Data Lake Analytics в Azure. При разработке и настройке запросов U-SQL в средах разработки и тестирования обычно разработчикам необходимо воссоздать все в рабочей базе данных. **Мастер экспорта баз данных** помогает ускорить этот процесс. Используя мастер, разработчики могут клонировать существующую среду базы данных и образцы данных в другие учетные записи Azure Data Lake Analytics.

## <a name="export-steps"></a>Экспорт

### <a name="step-1-right-click-the-database-in-server-explorer-and-click-export"></a>Шаг 1. Щелкните правой кнопкой мыши базу данных в обозревателе сервера и щелкните "Экспорт..."

Все доступные учетные записи Azure Data Lake Analytics перечислены в обозревателе серверов. Разверните узел, содержащий базу данных, которую вы хотите экспортировать, щелкните правой кнопкой мыши базу данных и выберите **Экспорт...**. Если вы не найдете контекстное меню, вам необходимо [обновить средство до последней версии](http://aka.ms/adltoolsvs).

![Экспорт базы данных с помощью Средств Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-export-database/export-database.png)

### <a name="step-2-configure-the-objects-you-want-to-export"></a>Шаг 2. Настройка объектов, которые требуется экспортировать

Иногда база данных большая, но требуется ее небольшая часть, тогда вы можете настроить подмножество объектов, которые вы хотите экспортировать в мастер экспорта. Обратите внимание, что действие экспорта выполняется с помощью запуска задания U-SQL, и поэтому экспорт из учетной записи Azure имеет определенную стоимость.

![Мастер экспорта базы данных с помощью Средств Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-export-database/export-database-wizard.png)

### <a name="step-3-check-the-objects-list-and-more-configurations"></a>Шаг 3. Проверка списка объектов и дополнительные конфигурации

На этом шаге вы можете еще раз проверить выбранные объекты в верхней части диалогового окна. Если возникли ошибки, можно щелкнуть "Назад", чтобы вернуться назад, и снова настроить объекты, которые хотите экспортировать.

Вы также можете использовать другие конфигурации для цели экспорта, описания этих конфигураций перечислены в таблице ниже:

|Конфигурация|Описание|
|-------------|-----------|
|Имя конечной папки|Это имя указывает, где требуется сохранить экспортированные ресурсы базы данных, такие как сборки, дополнительные файлы и выборочные данные. В корневой папке локальных данных создается папка с таким именем.|
|Каталог проекта|Этот путь определяет, где требуется сохранить экспортированный сценарий U-SQL, который содержит все определения объектов базы данных.|
|Только схема|Выбор этого параметра приводит к экспорту только определений и ресурсов базы данных (например, сборок и дополнительных файлов).|
|Схема и данные|Выбор этого параметра приводит к экспорту определений базы данных, ресурсов и данных. Экспортируются верхние N строк из таблицы.|
|Автоматический импорт в локальную базу данных|Установите флажок, чтобы экспортированная база данных была автоматически импортирована в локальную базу данных после завершения экспорта.|

![Конфигурация мастера экспорта базы данных с помощью Средств Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-export-database/export-database-wizard-configuration.png)

### <a name="step-4-check-the-export-results"></a>Шаг 4. Проверка результатов экспорта

После всех этих настроек и завершения экспорта вы можете найти экспортированные результаты в окне журнала в мастере. В журнале, отмеченном красным прямоугольником на снимке экрана внизу, вы можете найти местоположение экспортированного сценария U-SQL и ресурсов базы данных, включая сборки, дополнительные файлы и примеры данных.

![Завершение работы мастера экспорта базы данных с помощью Средств Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-export-database/export-database-wizard-completed.png)

## <a name="how-to-import-the-exported-database-to-local-account"></a>Импорт экспортированной базы данных в локальную учетную запись

Удобнее всего выполнить импорт, установив флажок **Импортировать локальную базу данных автоматически** во время процесса экспорта на шаге 3. Если вы забыли сделать это, вы можете найти экспортированный сценарий U-SQL через журнал экспорта и запустить локальный сценарий U-SQL, чтобы импортировать базу данных в свою локальную учетную запись.

## <a name="how-to-import-the-exported-database-to-azure-data-lake-analytics-account"></a>Импорт экспортированной базы данных в учетную запись Azure Data Lake Analytics

Для импорта базы данных в другую учетную запись Azure Data Lake Analytics необходимо выполнить два шага:

1. Отправьте экспортируемые ресурсы, включая сборки, дополнительные файлы и примеры данных для учетной записи Azure Data Lake Store по умолчанию учетной записи Azure Data Lake Analytics, в которую требуется выполнить импорт. Вы можете найти папку экспортированных ресурсов в локальной корневой папке данных и загрузить всю папку в корень учетной записи хранения по умолчанию.
2. Отправьте экспортированный сценарий U-SQL в учетную запись Azure Data Lake Analytics, в которую вы хотите импортировать базу данных после завершения отправки.

## <a name="known-limitation"></a>Известные ограничения

Если вы выбрали **Схема и данные** в мастере, средство выполняет задание U-SQL, чтобы экспортировать данные, хранящиеся в таблицах. Поэтому процесс экспорта данных может выполняться медленно и привести к расходам. 

## <a name="next-steps"></a>Дальнейшие действия

* [Data Definition Language (DDL) Statements (U-SQL)](https://msdn.microsoft.com/library/azure/mt621299.aspx) (Утверждение Data Definition Language в U-SQL) 
* [Тестирование и отладка заданий U-SQL с помощью локального выполнения и пакета SDK U-SQL для Azure Data Lake](data-lake-analytics-data-lake-tools-local-run.md)


