---
title: "Устранение неполадок, связанных с неправильным повторяющимся заданием | Документация Майкрософт"
description: "Узнайте, как выполнять отладку для неправильных повторяющихся заданий с помощью средств Azure Data Lake для Visual Studio."
services: data-lake-analytics
documentationcenter: 
author: yanancai
manager: 
editor: 
ms.assetid: dc9b21d8-c5f4-4f77-bcbc-eff458f48de2
ms.service: data-lake-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 09/27/2017
ms.author: yanacai
ms.openlocfilehash: a358f94b117c12511028a875e56b5c9dba8d3382
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="how-to-troubleshoot-an-abnormal-recurring-job"></a>Устранение неполадок, связанных с неправильным повторяющимся заданием

Из этого документа вы узнаете, как использовать [средства Azure Data Lake для Visual Studio](http://aka.ms/adltoolsvs) при устранении неполадок с повторяющимися заданиями. Дополнительные сведения о конвейере и повторяющихся заданиях вы найдете [здесь](https://blogs.msdn.microsoft.com/azuredatalake/2017/09/19/managing-pipeline-recurring-jobs-in-azure-data-lake-analytics-made-easy/).
В повторяющихся заданиях обычно используется одинаковая логика запроса и схожие входные данные. Например, если вы используете повторяющееся задание, чтобы каждый понедельник в 8:00 вычислять самого активного пользователя за прошлую неделю, во всех скриптах для этих заданий используется один шаблон с описанием логики запроса. В качестве входных данных им передаются сведения об активности пользователей за прошлую неделю. Использование одинаковой логики запроса и схожих входных данных обычно означает, что производительность заданий будет очень близкой и стабильной. Если же одно из повторяющихся заданий внезапно начнет выполняться ненадлежащим образом, завершится сбоем или сильно замедлится, вам помогут следующие действия:

1.  Просмотрите статистические отчеты по предыдущим запускам повторяющегося задания, чтобы оценить ситуацию.
2.  Сравните неправильное задание с любым из обычных. Возможно, вы заметите важные отличия.

**Представление связанных заданий** в средствах Azure Data Lake для Visual Studio поможет ускорить устранение неполадок в обоих случаях.

## <a name="step-1-find-recurring-jobs-and-open-related-job-view"></a>Шаг 1. Поиск повторяющихся заданий и просмотр представления связанных заданий

Чтобы использовать представление связанных заданий для устранения неполадок с повторяющимся заданием, найдите такое задание в Visual Studio и откройте представление связанных заданий.

### <a name="case-1-you-have-the-url-for-the-recurring-job"></a>Вариант 1. У вас есть URL-адрес повторяющегося задания

Последовательно выберите элементы **Инструменты > Data Lake > Представление заданий**, вставьте URL-адрес задания, чтобы открыть представление заданий в Visual Studio, а затем откройте представление связанных заданий.

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/view-related-job.png)
 
### <a name="case-2-you-have-the-pipeline-for-the-recurring-job-but-not-the-url"></a>Вариант 2. У вас есть конвейер для повторяющегося задания, но нет его URL-адреса

В Visual Studio средство просмотра конвейеров можно открыть через **Обозреватель серверов > Учетная запись Data Lake Analytics > Конвейеры** (если этот узел отсутствует в обозревателе серверов, скачайте последнюю версию средства [отсюда](http://aka.ms/adltoolsvs)). В средстве просмотра конвейеров в левой части перечислены все конвейеры для учетной записи ADLA. Разверните любой из конвейеров, просмотрите все повторяющиеся задания, найдите и щелкните то, которое вызывает проблемы. Справа откроется представление связанных заданий.

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/pipeline-browser.png)

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/recurring-job-view.png)

## <a name="step-2-analyze-statistics-report"></a>Шаг 2. Анализ статистического отчета

В верхней части представления связанных заданий отображаются сводные данные и статистический отчет. С их помощью вы можете выяснить потенциальную причину неполадок. 

1.  Прежде всего найдите в отчете неправильное задание. На оси X указано время отправки заданий, что позволит быстро найти нужное.
2.  Выполните инструкции ниже, чтобы проверить статистические показатели и сделать выводы о возможных причинах и методах устранения неполадок.

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/recurring-job-metrics-debugging-flow.png)

## <a name="step-3-compare-the-abnormal-recurring-job-to-a-normal-job"></a>Шаг 3. Сравнение неправильного повторяющегося задания с обычным

В списке в нижней части представления связанных заданий можно найти все отправленные запуски повторяющегося задания. Щелкните правой кнопкой мыши, чтобы сравнить неправильное задание с предыдущим при помощи представления "Отличия заданий". Это позволит получить дополнительные данные о возможных причинах и методах устранения проблемы.

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/compare-job.png)

Обычно следует обращать внимание на самые значительные отличия между двумя заданиями, так как они с наибольшей вероятностью приводят к проблемам с производительностью. Также вы можете выполнить следующие действия для дополнительной проверки:

![Представление связанных заданий в средствах Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-debug-recurring-job/recurring-job-diff-debugging-flow.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Отладка и решение проблем неравномерного распределения данных](data-lake-analytics-data-lake-tools-data-skew-solutions.md).
* [Отладка определяемого пользователем кода для заданий U-SQL, завершившихся сбоем](data-lake-analytics-debug-u-sql-jobs.md).