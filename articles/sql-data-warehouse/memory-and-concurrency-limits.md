---
title: Ограничения параллелизма и памяти для хранилища данных SQL Azure | Документация Майкрософт
description: Из этой статьи вы узнаете об ограничениях памяти и параллелизма, существующих для различных уровней производительности и классов ресурсов в хранилище данных SQL Azure.
services: sql-data-warehouse
author: ronortloff
manager: craigg-msft
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.component: manage
ms.date: 04/17/2018
ms.author: rortloff
ms.reviewer: igorstan
ms.openlocfilehash: 4e6e95e8601e7ab8b836e2aa1aa21ef4d5779954
ms.sourcegitcommit: 1362e3d6961bdeaebed7fb342c7b0b34f6f6417a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2018
---
# <a name="memory-and-concurrency-limits-for-azure-sql-data-warehouse"></a>Ограничения параллелизма и памяти для хранилища данных SQL Azure
Из этой статьи вы узнаете об ограничениях памяти и параллелизма, существующих для различных уровней производительности и классов ресурсов в хранилище данных SQL Azure. Дополнительные сведения об этих ограничениях, а также сведения о применении этих возможностей в вашем плане управления рабочими нагрузками см. в статье [Классы ресурсов для управления рабочими нагрузками](resource-classes-for-workload-management.md). 

## <a name="performance-tiers"></a>Уровни производительности

Хранилище данных SQL предлагает два уровня производительности, которые оптимизированы для аналитических рабочих нагрузок. Уровень производительности — это параметр, который определяет конфигурацию вашего хранилища данных. Этот параметр является одним из первых вариантов, который необходимо выбрать при создании хранилища данных.  

> [!VIDEO https://channel9.msdn.com/Events/Connect/2017/T140/player]

- На **уровне производительности, оптимизированном для эластичности**, уровень вычислений и хранения в архитектуре разделены. Этот вариант предназначен для рабочих нагрузок, для которых полезно такое разделение между вычислениями и хранилищем за счет частого масштабирования и поддержки коротких периодов пиковой активности. Этот уровень вычислений имеет самую низкую входную цену и масштабируется для поддержки большинства рабочих нагрузок клиентов.

- **Уровень производительности, оптимизированный для вычислений**, использует новейшие аппаратные средства Azure для внедрения нового кэша твердотельных накопителей NVMe, сохраняющего часто запрашиваемые данные близко к ЦП (которые и должны там быть). За счет автоматического распределения по уровням хранилища этот уровень производительности предназначен для сложных запросов, так как все операции ввода-вывода хранятся локально на вычислительном уровне. Кроме того, функция columnstore расширена для хранения неограниченного объема данных в хранилище данных SQL. Уровень производительности, оптимизированный для вычислений, предоставляет высочайший уровень масштабируемости, что позволяет увеличить масштаб до 30 000 единиц использования хранилища данных вычислений (cDWU). Этот уровень подходит для рабочих нагрузок, требующих постоянно высокого быстродействия и производительности.

## <a name="data-warehouse-limits"></a>Ограничения хранилища данных
В таблицах ниже приведена максимальная емкость хранилища данных для разных уровней производительности. Сведения о том, как изменить уровень производительности, см. в статье [Краткое руководство. Масштабирование вычислительных ресурсов в хранилище данных SQL Azure с помощью портала Azure](quickstart-scale-compute-portal.md).

### <a name="optimized-for-elasticity"></a>Оптимизация для эластичности

Уровни обслуживания для уровня производительности, оптимизированного для эластичности, находятся в диапазоне от DW100 до DW6000. 

| Уровень производительности | Максимальное число одновременных запросов | Вычислительные узлы | Распределения на один вычислительный узел | Максимальный объем памяти на одно распространение (МБ) | Максимальный объем памяти на одно хранилище данных (ГБ) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW100         | 4.                      | 1             | 60                             | 400                              |  24                                |
| DW200         | 8                      | 2             | 30                             | 800                              |  48                                |
| DW300         | 12                     | 3             | 20                             | 1200                            |  72                                |
| DW400         | 16                     | 4.             | 15                             | 1 600                            |  96                                |
| DW500         | 20                     | 5             | 12                             | 2 000                            | 120                                |
| DW600         | 24                     | 6             | 10                             | 2400                            | 144                                |
| DW1000        | 32                     | 10            | 6                              | 4000                            | 240                                |
| DW1200        | 32                     | 12            | 5                              | 4800                            | 288                                |
| DW1500        | 32                     | 15            | 4.                              | 6000                            | 360                                |
| DW2000        | 32                     | 20            | 3                              | 8000                            | 480                                |
| DW3000        | 32                     | 30            | 2                              | 12 000                           | 720                                |
| DW6000        | 32                     | 60            | 1                              | 24,000                           | 1440                               |

### <a name="optimized-for-compute"></a>Оптимизация для вычислений

Уровень производительности, оптимизированный для вычислений, предоставляет в два с половиной раза больше памяти для каждого запроса, чем уровень производительности, оптимизированный для эластичности. Именно дополнительная память обеспечивает высокую производительность уровня, оптимизированного для вычислений.  К уровням производительности, оптимизированным для вычислений, относятся уровни DW1000c–DW30000c. 

| Уровень производительности | Максимальное число одновременных запросов | Вычислительные узлы | Распределения на один вычислительный узел | Максимальный объем памяти на одно распределение (ГБ) | Максимальный объем памяти на одно хранилище данных (ГБ) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW1000c       | 32                     | 2             | 30                             |  10                              |   600                              |
| DW1500c       | 32                     | 3             | 20                             |  15                              |   900                              |
| DW2000c       | 32                     | 4.             | 15                             |  20                              |  1200                              |
| DW2500c       | 32                     | 5             | 12                             |  25                              |  1500                              |
| DW3000c       | 32                     | 6             | 10                             |  30                              |  1800                              |
| DW5000c       | 32                     | 10            | 6                              |  50                              |  3000                              |
| DW6000c       | 32                     | 12            | 5                              |  60                              |  3600                              |
| DW7500c       | 32                     | 15            | 4.                              |  75                              |  4500                              |
| DW10000c      | 32                     | 20            | 3                              | 100                              |  6000                              |
| DW15000c      | 32                     | 30            | 2                              | 150                              |  9000                              |
| DW30000c      | 32                     | 60            | 1                              | 300                              | 18000                              |

Максимальное количество cDWU на уровне DW30000c, который предоставляет 60 вычислительных узлов и одно распределение на узел вычислений. Например, хранилище данных объемом 600 ТБ на уровне DW30000c обрабатывает приблизительно 10 ТБ на один узел вычислений.


## <a name="concurrency-maximums"></a>Максимальные ограничения параллелизма
Чтобы каждый запрос имел достаточно ресурсов для эффективной работы, хранилище данных SQL отслеживает использование вычислительных ресурсов путем присвоения каждому запросу определенного количества слотов параллелизма. Система помещает запросы в очередь, где они ждут, пока не станет доступным достаточное количество [слотов](resource-classes-for-workload-management.md#concurrency-slots). 

Слоты параллелизма также определяют приоритеты ЦП. Дополнительные сведения см. в статье [Анализ рабочей нагрузки](analyze-your-workload.md).

### <a name="optimized-for-compute"></a>Оптимизация для вычислений
В следующей таблице показано максимальное число одновременных запросов и слотов параллелизма для каждого [класса динамических ресурсов](resource-classes-for-workload-management.md). Это применимо к уровню производительности, оптимизированному для вычислений.

**Классы динамических ресурсов**
| Уровень производительности | Максимальное число одновременных запросов | Доступные слоты параллелизма | Слоты, используемые smallrc | Слоты, используемые mediumrc | Слоты, используемые largerc | Слоты, используемые xlargerc |
|:-------------:|:--------------------------:|:---------------------------:|:---------------------:|:----------------------:|:---------------------:|:----------------------:|
| DW1000c       | 32                         |   40                        | 1                     |  8                     |  16                   |  32                    |
| DW1500c       | 32                         |   60                        | 1                     |  8                     |  16                   |  32                    |
| DW2000c       | 32                         |   80                        | 1                     | 16                     |  32                   |  64                    |
| DW2500c       | 32                         |  100                        | 1                     | 16                     |  32                   |  64                    |
| DW3000c       | 32                         |  120                        | 1                     | 16                     |  32                   |  64                    |
| DW5000c       | 32                         |  200                        | 1                     | 32                     |  64                   | 128                    |
| DW6000c       | 32                         |  240                        | 1                     | 32                     |  64                   | 128                    |
| DW7500c       | 32                         |  300                        | 1                     | 64                     | 128                   | 128                    |
| DW10000c      | 32                         |  400                        | 1                     | 64                     | 128                   | 256                    |
| DW15000c      | 32                         |  600                        | 1                     | 64                     | 128                   | 256                    |
| DW30000c      | 32                         | 1200                        | 1                     | 64                     | 128                   | 256                    |

**Классы статических ресурсов**

В следующей таблице показано максимальное число одновременных запросов и слотов параллелизма для каждого [класса статических ресурсов](resource-classes-for-workload-management.md).  

| Уровень обслуживания | Максимальное число одновременных запросов | Доступные слоты параллелизма |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:---------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW1000c       | 32                         |   40                        | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1500c       | 32                         |   60                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW2000c       | 32                         |   80                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW2500c       | 32                         |  100                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW3000c       | 32                         |  120                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW5000c       | 32                         |  200                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW6000c       | 32                         |  240                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW7500c       | 32                         |  300                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW10000c      | 32                         |  400                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW15000c      | 32                         |  600                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW30000c      | 32                         | 1200                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |

### <a name="optimized-for-elasticity"></a>Оптимизация для эластичности
В следующей таблице показано максимальное число одновременных запросов и слотов параллелизма для каждого [класса динамических ресурсов](resource-classes-for-workload-management.md).  Это применимо к уровню производительности, оптимизированному для эластичности.

**Классы динамических ресурсов**

| Уровень обслуживания | Максимальное число одновременных запросов | Доступные слоты параллелизма | smallrc | mediumrc | largerc | xlargerc |
|:-------------:|:--------------------------:|:---------------------------:|:-------:|:--------:|:-------:|:--------:|
| DW100         |  4.                         |   4.                         | 1       |  1       |  2      |   4.      |
| DW200         |  8                         |   8                         | 1       |  2       |  4.      |   8      |
| DW300         | 12                         |  12                         | 1       |  2       |  4.      |   8      |
| DW400         | 16                         |  16                         | 1       |  4.       |  8      |  16      |
| DW500         | 20                         |  20                         | 1       |  4.       |  8      |  16      |
| DW600         | 24                         |  24                         | 1       |  4.       |  8      |  16      |
| DW1000        | 32                         |  40                         | 1       |  8       | 16      |  32      |
| DW1200        | 32                         |  48                         | 1       |  8       | 16      |  32      |
| DW1500        | 32                         |  60                         | 1       |  8       | 16      |  32      |
| DW2000        | 32                         |  80                         | 1       | 16       | 32      |  64      |
| DW3000        | 32                         | 120                         | 1       | 16       | 32      |  64      |
| DW6000        | 32                         | 240                         | 1       | 32       | 64      | 128      |

**Классы статических ресурсов**. В следующей таблице показано максимальное число одновременных запросов и слотов параллелизма для каждого [класса статических ресурсов](resource-classes-for-workload-management.md).  Это применимо к уровню производительности, оптимизированному для эластичности.

| Уровень обслуживания | Максимальное число одновременных запросов | Максимальное число слотов параллелизма |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:-------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW100         | 4.                          |   4.                       | 1         | 2          | 4.          | 4.          |  4.         |  4.         |  4.         |   4.        |
| DW200         | 8                          |   8                       | 1         | 2          | 4.          | 8          |  8         |  8         |  8         |   8        |
| DW300         | 12                         |  12                       | 1         | 2          | 4.          | 8          |  8         |  8         |  8         |   8        |
| DW400         | 16                         |  16                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW500         | 20                         |  20                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW600         | 24                         |  24                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW1000        | 32                         |  40                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1200        | 32                         |  48                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1500        | 32                         |  60                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW2000        | 32                         |  80                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW3000        | 32                         | 120                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW6000        | 32                         | 240                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |

При достижении одного из этих пороговых значений, новые запросы помещаются в очередь и выполняются в порядке поступления.  После завершения запросов, а также после того, как число запросов и слотов падает ниже ограничения, хранилище данных SQL освобождает запросы в очереди. 

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о том, как использовать классы ресурсов для оптимизации рабочей нагрузки, см. в следующих статьях:
* [Классы ресурсов для управления рабочими нагрузками](resource-classes-for-workload-management.md)
* [Анализ рабочей нагрузки](analyze-your-workload.md)

