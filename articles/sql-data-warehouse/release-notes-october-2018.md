---
title: 'Хранилище данных SQL Azure: заметки о выпуске за октябрь 2018 г. | Документация Майкрософт'
description: Заметки о выпуске для хранилища данных SQL Azure.
services: sql-data-warehouse
author: twounder
manager: craigg
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.component: manage
ms.date: 12/04/2018
ms.author: mausher
ms.reviewer: twounder
ms.openlocfilehash: e67edf382a49839d890d2c1dec50c44bbb19705a
ms.sourcegitcommit: 5d837a7557363424e0183d5f04dcb23a8ff966bb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2018
ms.locfileid: "52966829"
---
# <a name="whats-new-in-azure-sql-data-warehouse-october-2018"></a>Что нового в Хранилище данных SQL Azure? Октябрь 2018 г.
Хранилище данных SQL Azure постоянно совершенствуется. В этой статье описаны новые возможности и изменения, вступившие в силу с октября 2018 года.

## <a name="devops-for-data-warehousing"></a>DevOps для системам хранения данных
Часто запрашиваемая функция для хранилища данных SQL теперь доступна в режиме предварительной версии с поддержкой средств SQL Server Data Tools (SSDT) для Visual Studio! Теперь разработчики смогут использовать для совместной работы единую базу кода с управлением версиями и быстро распространять изменения на любой экземпляр в любой точке мира. Вас это тоже интересует? Эта функция уже предоставляется в режиме предварительной версии. Чтобы зарегистрироваться, посетите страницу [с формой регистрации для использования предварительной версии SQL Server Data Tools для Хранилища данных SQL для Visual Studio](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR4-brmKy3TZOjoktwuHd7S1UODkwQ1lVMEw1NDBGRjNLRDNWOFlQRUpIRi4u). Учитывая высокий спрос, мы ограничиваем доступ к предварительной версии, чтобы обеспечить максимальное удобство для клиентов. Мы ставим задачу подтвердить ваш статус в течение семи рабочих дней после регистрации.

## <a name="row-level-security-generally-available"></a>Безопасность на уровне строк в общедоступной версии
Хранилище данных SQL Azure (хранилище данных SQL) теперь поддерживает безопасность на уровне строк (RLS), которая дает мощные возможности для защиты конфиденциальных данных. С появлением RLS вы сможете внедрять политики безопасности, которые управляют доступом конкретных пользователей к конкретным строкам в таблицах. RLS обеспечивает такой точный контроль доступа, не требуя изменять архитектуру хранилища данных. RLS упрощает реализацию системы безопасности в целом, перемещая логику ограничения доступа на уровень базы данных из уровня приложения, который отделен от данных. Также RLS избавляет от необходимости создавать представления специально для фильтрации строк при управлении доступом. Для всех наших клиентов эта функция безопасности корпоративного уровня предоставляется без дополнительной оплаты.

## <a name="advanced-advisors"></a>Расширенные помощники
Тонкая настройки для хранилища данных SQL Azure стала еще проще благодаря дополнительным рекомендациям и метрикам для хранилища данных. В Помощнике по Azure вам доступны дополнительные рекомендации по повышению производительности, в том числе следующие.
1.  Адаптивный кэш — узнавайте, когда выполнять масштабирование, чтобы оптимизировать использование кэша.
2.  Распределение таблиц — определяйте, когда реплицировать таблицы, чтобы сократить перемещение данных и повысить производительность рабочих нагрузок. 
3.  Tempdb — узнайте, когда потребуется масштабирование, и настройте классы ресурсов, чтобы снизить состязание за tempdb.

Метрики хранилища данных более тесно интегрированы с [Azure Monitor](https://azure.microsoft.com/blog/enhanced-capabilities-to-monitor-manage-and-integrate-sql-data-warehouse-in-the-azure-portal/), в том числе улучшена настраиваемая таблица мониторинга для метрик в колонке обзора, обновляемых практически в реальном времени. Вам больше не нужно покидать колонку обзора хранилища данных, чтобы получить доступ к метрикам Azure Monitor при отслеживании использования либо проверять и применять рекомендации для хранилища данных. Кроме того, доступны новые метрики, например использование tempdb и адаптивного кэша, дополняющие рекомендации по производительности.

## <a name="advanced-tuning-with-integrated-advisors"></a>Более тонкая настройка благодаря встроенным консультантам
Дополнительная настройка Хранилища данных SQL Azure теперь стала еще проще благодаря новым рекомендациям и метрикам для хранилища данных и новому интерфейсу колонки сводных данных на портале, которая теперь объединяет функции помощника по Azure и Azure Monitor.

## <a name="accelerated-database-recovery-adr"></a>Ускоренное восстановление базы данных (ADR)
Ускоренное восстановление базы данных (ADR) для Хранилища данных SQL Azure теперь находится в режиме общедоступной предварительной версии. ADR — это новая функция ядра СУБД SQL Server, которая значительно повышает доступность базы данных, особенно при наличии длительных транзакций, благодаря полностью обновленному процессу восстановления. Основных преимуществ ADR: быстрое и согласованное восстановление базы данных и мгновенный откат транзакций.

## <a name="azure-monitor-diagnostics-logs"></a>Журналы диагностики Azure Monitor
Теперь Хранилище данных SQL предоставляет расширенные аналитические сведения о рабочих нагрузках благодаря непосредственной интеграции с журналами диагностики Azure Monitor. Эта новая возможность позволяет разработчикам анализировать поведение рабочих нагрузок в течение продолжительного времени и принимать обоснованные решения касательно оптимизации запросов или управления производительностью. Теперь мы добавили внешний процесс ведения журнала, который реализован через [журналы диагностики Azure Monitor](https://docs.microsoft.com/azure/monitoring/monitoring-data-collection?toc=/azure/azure-monitor/toc.json#logs) и предоставляет дополнительные сведения о рабочей нагрузке хранилища данных. Одним нажатием кнопки вы теперь можете настроить журналы диагностики для устранения неполадок по истории производительности запросов с применением [Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-queries). Журналы диагностики Azure Monitor поддерживают настраиваемые периоды удержания за счет сохранения журналов в учетной записи хранения для аудита, возможность потоковой передачи журналов в концентраторы событий для получения аналитических данных телеметрии практически в реальном времени, а также возможность анализировать журналы, используя Log Analytics с [запросами журналов](). Журналы диагностики состоят из представлений телеметрии для хранилища данных, эквивалентных динамическим административным представлениям для устранения неполадок, связанных с производительностью Хранилища данных SQL. В этом первоначальном выпуске доступны следующие динамические административные представления системы:

- [sys.dm_pdw_exec_requests](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql)
- [sys.dm_pdw_request_steps](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-request-steps-transact-sql)
- [sys.dm_pdw_dms_workers](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-dms-workers-transact-sql)
- [sys.dm_pdw_waits](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-waits-transact-sql)
- [sys.dm_pdw_sql_requests](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-sql-requests-transact-sql)

## <a name="columnstore-memory-management"></a>Управление памятью columnstore
По мере того как количество групп строк для хранилища столбцов возрастает, увеличивается и объем памяти, необходимый для управления внутренними метаданными сегментов столбцов для этих групп строк.  В результате общая производительность запросов и результативность запросов к одному из динамических административных представлений columnstore может снизиться.  В этом выпуске реализованы улучшения, которые позволят оптимизировать размер внутренних метаданных в таких случаях. Это обеспечит удобство и высокую производительность при выполнении запросов. 

## <a name="azure-data-lake-storage-gen2-integration-ga"></a>Интеграция с Azure Data Lake Storage 2-го поколения (общедоступная версия)
Хранилище данных SQL Azure теперь имеет встроенную возможности интеграции с Azure Data Lake Storage 2-го поколения Клиенты теперь могут с помощью внешних таблиц загружать данные из ABFS в Хранилище данных SQL. Эта функция позволяет пользователям интегрировать пулы данных в Azure Data Lake Storage 2-го поколения. 

## <a name="bug-fixes"></a>Исправления ошибок

| Название | ОПИСАНИЕ |
|:---|:---|
| **Инструкция CETAS в Parquet завершается сбоем для ресурсов небольшого размера, размещенных в хранилищах данных DW2000 и большего размера** | Это исправление правильно определяет пустую ссылку на путь кода Parquet в инструкции CREATE EXTERNAL TABLE AS SELECT. |
|**Значение столбца идентификаторов может утрачиваться при некоторых операциях CTAS** | Значение столбца идентификаторов не всегда сохраняется при выполнении инструкции CTAS для другой таблицы. Сообщение об этом в блоге: [https://blog.westmonroepartners.com/azure-sql-dw-identity-column-bugs/](https://blog.westmonroepartners.com/azure-sql-dw-identity-column-bugs/). |
| **В некоторых случаях происходит внутренний сбой при завершении сеанса, пока запрос еще выполняется** | Это исправление создает исключение InvalidOperationException при завершении сеанса, пока запрос еще выполняется. |
| **(Развернуто в ноябре 2018 года.) Пользователи испытывали проблемы с производительностью при попытке загрузить несколько небольших файлов из ADLS 1-го поколения с помощью Polybase.** | Производительность системы была ограничена во время проверки маркера безопасности AAD. Кэширование маркеров безопасности помогло решить проблемы с производительностью. |


## <a name="next-steps"></a>Дополнительная информация
Теперь, когда вам уже известны некоторые сведения о хранилище данных SQL, узнайте о том, как его [создать][create a SQL Data Warehouse]. Если вы раньше не работали с Azure, используйте [глоссарий Azure][Azure glossary], чтобы узнать значение новых терминов. Или ознакомьтесь со следующими ресурсами, посвященными хранилищу данных SQL.  

* [Истории успеха клиентов]
* [Блоги]
* [Запросы функций]
* [Видеоролики]
* [Блоги группы консультирования клиентов]
* [Форум Stack Overflow]
* [Twitter]


[Блоги]: https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/
[Блоги группы консультирования клиентов]: https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/
[Истории успеха клиентов]: https://azure.microsoft.com/case-studies/?service=sql-data-warehouse
[Запросы функций]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Форум Stack Overflow]: http://stackoverflow.com/questions/tagged/azure-sqldw
[Twitter]: https://twitter.com/hashtag/SQLDW
[Видеоролики]: https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse
[create a SQL Data Warehouse]: ./create-data-warehouse-portal.md
[Azure glossary]: ../azure-glossary-cloud-terminology.md
