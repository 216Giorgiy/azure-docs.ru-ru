---
title: 'Хранилище данных SQL Azure: заметки о выпуске за декабрь 2018 г. | Документация Майкрософт'
description: Заметки о выпуске для хранилища данных SQL Azure.
services: sql-data-warehouse
author: twounder
manager: craigg
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.subservice: manage
ms.date: 12/12/2018
ms.author: mausher
ms.reviewer: twounder
ms.openlocfilehash: 0fa7004b9b0dd1ecf087566e7ce8a7d6ebf9be93
ms.sourcegitcommit: 5839af386c5a2ad46aaaeb90a13065ef94e61e74
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2019
ms.locfileid: "57842113"
---
# <a name="whats-new-in-azure-sql-data-warehouse-december-2018"></a>Что нового в Хранилище данных SQL Azure? Декабрь 2018 г.
Хранилище данных SQL Azure постоянно совершенствуется. В этой статье описаны новые возможности и изменения, вступившие в силу с декабря 2018 года.

## <a name="virtual-network-service-endpoints-generally-available"></a>Общедоступные конечные точки службы виртуальной сети
Этот выпуск включает общедоступную версию конечных точек службы виртуальной сети для Хранилища данных SQL Azure во всех регионах Azure. Конечные точки виртуальной сети позволяют изолировать подключение к логическому серверу из заданной подсети или набора подсетей в виртуальной сети. Трафик, поступающий из виртуальной сети в Хранилище данных SQL Azure, всегда остается в магистральной сети Azure. Этот прямой маршрут предпочтительнее, чем какие-либо специальные маршруты, предполагающие прием трафика из Интернета через виртуальные модули или локальные службы. Дополнительная плата за доступ к виртуальной сети через конечные точки службы не взимается. Текущая модель ценообразования для [Хранилища данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-data-warehouse/gen2/) применяется без изменений.

В этом выпуске также реализовано подключение PolyBase к [Azure Data Lake Storage 2-го поколения](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) (ADLS) через драйвер [файловой системы больших двоичных объектов Azure](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-abfs-driver) (ABFS). Хранилище Azure Data Lake Storage 2-го поколения обладает всеми качествами, необходимыми для выполнения каждого из этапов жизненного цикла данных аналитики для службы хранилища Azure. В нем объединены возможности двух существующих служб хранилища Azure (хранилище BLOB-объектов Azure и ADLS 1-го поколения). Функции, описанные в статье [Документация по Azure Data Lake Storage Gen1](https://docs.microsoft.com/azure/data-lake-store/index), например семантика файловой системы, защита на уровне файлов и масштабирование, объединены с экономичностью, многоуровневостью, возможностями высокой доступности и аварийного восстановления [хранилища BLOB-объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction). 

С помощью PolyBase также можно импортировать данные в Хранилище данных SQL Azure из хранилища Azure, закрепленного за вашей виртуальной сетью. Кроме того, PolyBase поддерживает экспорт данных из Хранилища данных SQL Azure в хранилище Azure, закрепленное за вашей виртуальной сетью. 

Дополнительные сведения о конечных точках службы виртуальной сети в Хранилище данных SQL Azure см. в [записи блога](https://azure.microsoft.com/blog/general-availability-of-vnet-service-endpoints-for-azure-sql-data-warehouse/) или [документации](https://docs.microsoft.com/azure/sql-database/sql-database-vnet-service-endpoint-rule-overview?toc=/azure/sql-data-warehouse/toc.json).

## <a name="automatic-performance-monitoring-preview"></a>Автоматический мониторинг производительности (предварительная версия)
[Хранилище запросов](https://docs.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-2017) теперь доступно в предварительной версии для Хранилища данных SQL Azure. Хранилище запросов упрощает устранение проблем с производительностью запросов за счет отслеживания запросов, планов запросов, статистики среды выполнения и журнала запросов, с помощью которых можно выполнять мониторинг активности и производительности хранилища данных. Хранилище запросов — это набор внутренних хранилищ и динамических административных представлений (DMV), с помощью которых можно:

- Выявить и настроить запросы, использующие больше всего ресурсов.
- Определите и усовершенствуйте нерегламентированные рабочие нагрузки.
- Оценить производительность запросов и влияние на план в случае изменений в статистике, индексах и размерах системы (параметр DWU).
- Ознакомиться с полным текстом всех выполняемых запросов.

Хранилище запросов содержит три фактических хранилища:  
- хранилище планов для сохранения сведений о планах выполнения; 
- хранилище статистики времени выполнения для хранения статистических сведений о выполнении;
- хранилище статистики ожидания для хранения статистических сведений об ожидании. 

Хранилище данных SQL автоматически управляет этими хранилищами и позволяет просматривать неограниченное число запросов, сохраненных за последние семь дней, без дополнительной платы. Чтобы включить хранилище запросов, просто выполните инструкцию T-SQL ALTER DATABASE:

```sql
ALTER DATABASE [Database Name] SET QUERY_STORE = ON;
```
Дополнительные сведения о хранилище запросов в Хранилище данных SQL Azure и динамических административных представлениях этого хранилища, например, [sys.query_store_query](https://docs.microsoft.com/sql/relational-databases/system-catalog-views/sys-query-store-query-transact-sql?view=sql-server-2017), см. в статье [Мониторинг производительности с использованием хранилища запросов](https://docs.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-2017). Вот [запись блога](https://azure.microsoft.com/blog/automatic-performance-monitoring-in-azure-sql-data-warehouse-with-query-store/) с объявлением о выпуске.

## <a name="lower-compute-tiers-for-azure-sql-data-warehouse-gen2"></a>Более низкие уровни вычисления для Хранилища данных SQL Azure 2-го поколения
Хранилище данных SQL Azure 2-го поколения теперь поддерживает более низкие уровни вычислений. Клиенты могут оценить лучшую производительность, гибкость и возможности безопасности Хранилища данных SQL Azure, начиная со 100 cDWU ([вычислительные единицы использования хранилища данных](https://docs.microsoft.com/azure/sql-data-warehouse/what-is-a-data-warehouse-unit-dwu-cdwu)), и увеличивать масштаб до 30 000 cDWU за считаные минуты. Начиная с середины декабря 2018 года клиенты могут использовать преимущества производительности и гибкость 2-го поколения на низких уровнях вычислений в [этих регионах](https://docs.microsoft.com/azure/sql-data-warehouse/gen2-lower-tier-regions). Поддержка для остальных регионов станет доступна в течение 2019 года.

Обеспечив точку входа для хранилищ данных следующего поколения, корпорация Майкрософт открыла возможности для ориентированных на прибыль пользователей, которые хотят оценить все преимущества безопасного, высокопроизводительного хранилища данных, не тратя время на поиски наиболее подходящей для них пробной среды. Пользователи могут начать со 100 cDWU (ниже чем текущая точка входа в 500 cDWU). Хранилище данных SQL 2-го поколения продолжает поддерживать операции остановки и возобновления и выходит за пределы обеспечения гибкости в вычислениях. 2 поколение также поддерживает неограниченную емкость хранилища столбцов, а также в 2,5 раза больше памяти для каждого запроса, до 128 одновременных запросов и функции [адаптивного кэширования](https://azure.microsoft.com/blog/adaptive-caching-powers-azure-sql-data-warehouse-performance-gains/). Эти функции в среднем дают в пять раз большую производительность по сравнению с той же единицей использования хранилища данных 1-го поколения за ту же цену. Геоизбыточные резервные копии являются стандартными для 2-го поколения со встроенной гарантированной защитой данных. Хранилище данных SQL Azure 2-го поколения может выполнить масштабирование, когда вам нужно.

## <a name="columnstore-background-merge"></a>Слияния в фоновом режиме ColumnStore
По умолчанию хранилище данных SQL Azure (Azure SQL DW) хранит данные в столбчатом формате с микроразделами, называемыми [группами строк](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-memory-optimizations-for-columnstore-compression). Иногда, из-за ограничений памяти при построении индекса или времени загрузки данных, группы строк могут быть сжаты в размере (меньше оптимального размера миллионов строк). Группы строк могут также стать фрагментированными из-за удалений. Небольшие или фрагментированные группы строк приводят к более высокому потреблению памяти, а также к неэффективному выполнению запросов. В этом выпуске Azure SQL DW задача фонового обслуживания columnstore объединяет небольшие сжатые группы строк, создавая большие группы строк, чтобы лучше использовать память и ускорить выполнение запросов.

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вам уже известны некоторые сведения о хранилище данных SQL, узнайте о том, как его [создать][create a SQL Data Warehouse]. Если вы раньше не работали с Azure, используйте [глоссарий Azure][Azure glossary], чтобы узнать значение новых терминов. Или ознакомьтесь со следующими ресурсами, посвященными хранилищу данных SQL.  

* [Истории успеха клиентов]
* [Блоги]
* [Запросы функций]
* [Видеоролики]
* [Блоги группы консультирования клиентов]
* [Форум Stack Overflow]
* [Twitter]


[Блоги]: https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/
[Блоги группы консультирования клиентов]: https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/
[Истории успеха клиентов]: https://azure.microsoft.com/case-studies/?service=sql-data-warehouse
[Запросы функций]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Форум Stack Overflow]: https://stackoverflow.com/questions/tagged/azure-sqldw
[Twitter]: https://twitter.com/hashtag/SQLDW
[Видеоролики]: https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse
[create a SQL Data Warehouse]: ./create-data-warehouse-portal.md
[Azure glossary]: ../azure-glossary-cloud-terminology.md
