<properties
   pageTitle="Масштабируемость производительности для хранилища данных SQL Azure | Microsoft Azure"
   description="Узнайте о возможностях масштабирования производительности в хранилище данных SQL Azure. Вы можете увеличивать масштаб, изменяя объем DWU, а также приостанавливать и возобновлять работу вычислительных ресурсов для сокращения затрат."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="barbkess"
   manager="barbkess"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="05/26/2016"
   ms.author="barbkess;sonyama"/>

# Масштабируемость производительности для хранилища данных SQL Azure

> [AZURE.SELECTOR]
- [Обзор](sql-data-warehouse-overview-scalability.md)
- [Портал](sql-data-warehouse-manage-scale-out-tasks.md)
- [PowerShell](sql-data-warehouse-manage-scale-out-tasks-powershell.md)
- [REST](sql-data-warehouse-manage-scale-out-tasks-rest-api.md)
- [TSQL](sql-data-warehouse-manage-scale-out-tasks-tsql.md)

Архитектура хранилища данных SQL разделяет хранилище и вычислительные ресурсы, что позволяет масштабировать их независимо друг от друга. Это позволяет масштабировать производительность и в то же время сокращать расходы, оплачивая производительность только тогда, когда она вам нужна.

В этом обзоре описываются указанные ниже возможности масштабирования производительности для хранилища данных SQL и приводятся рекомендации о том, как и когда их следует использовать:

- Масштабирование производительности путем корректировки единиц использования хранилища данных (DWU)
- Приостановка или возобновление работы вычислительных ресурсов

<a name="scale-performance-bk"></a>

## Масштабирование производительности

В хранилище данных SQL можно быстро увеличить или уменьшить производительность, настроив объем вычислительных ресурсов ЦП, памяти и пропускной способности ввода-вывода. Для масштабирования производительности достаточно настроить число единиц использования хранилища данных, которые хранилище данных SQL выделяет для базы данных. Хранилище данных SQL быстро вносит изменения и применяет все базовые изменения в оборудовании или программном обеспечении.

>[AZURE.NOTE] Прошло то время, когда для обеспечения высокой производительности хранилища данных необходимо было анализировать, какие типы процессоров, какой объем памяти и какой тип хранилища вам нужен. Разместив хранилище данных в облаке, вы больше не будете сталкиваться с проблемами, вызванными использованием оборудования, которое не является мощным. Вместо этого хранилище данных SQL задает вам вопрос о том, с какой скоростью необходимо анализировать данные.

### Что такое DWU?

*Единица хранилища данных* (DWU) — это мера базовых вычислительных ресурсов для базы данных в тот или иной момент времени. По мере увеличения числа DWU хранилище данных SQL выполняет операции в параллельном режиме (например, загрузку данных или запросы) на большем числе распределенных ресурсов ЦП и памяти. Это сокращает задержку и повышает производительность.

DWU зависят от скорости загрузки и сканирования. С увеличением DWU вы увеличиваете скорость загрузки и сканирования.

- **Скорость загрузки**. Количество записей, которое хранилище данных SQL может принять за секунду. В частности, это — количество записей, которое хранилище данных SQL может импортировать из хранилища BLOB-объектов Azure в кластеризованный индекс columnstore, используя PolyBase. 

- **Частота сканирования**. Количество записей, которое запрос можно получить из хранилища данных SQL за секунду. В частности, это — количество записей, которое хранилище данных SQL может выдать, выполнив запрос к хранилищу данных в кластеризованном индексе columnstore. Для проверки скорости сканирования используется стандартный запрос хранения данных, который сканирует большое количество строк, а затем выполняет сложное объединение. Эта операция требует большого количества операций ввода-вывода и интенсивного использования ЦП.

>[AZURE.NOTE] Мы измеряем и оцениваем повышение уровней производительности и скоро поделимся ожидаемыми показателями. В процессе тестирования предварительной версии мы постоянно будем улучшать эти показатели (т. е. повышать коэффициент сжатия и ускорять кэширование), чтобы обеспечить их прогнозируемую масштабируемость.

Список DWU см. в разделе "Цели уровня обслуживания" в статье об [ограничениях емкости][].

### Как масштабировать производительность

Чтобы добиться гибкого увеличения или уменьшения вычислительной мощности, просто измените параметр единиц хранилища данных (DWU) для своей базы данных. Незаметно для пользователя хранилище данных SQL останавливает экземпляр, изменяет выделение ресурсов ЦП и памяти, а затем перезапускает экземпляр.

DWU распределяются в блоки по 100 единиц, но не все блоки доступны. С увеличением DWU пропорционально увеличивается производительность. На более высоких уровнях DWU для заметного повышения производительности требуется добавление более чем 100 DWU. Чтобы помочь вам выбрать значимые шаги увеличения DWU, предлагаем уровни DWU, которые дадут вам наилучший результат.
 
Для настройки DWU можно использовать любые из следующих отдельных методов:

- [Масштабирование производительности с помощью портала Azure][]
- [Масштабирование производительности с помощью PowerShell][]
- [Масштабирование производительности с помощью API REST][]
- [Масштабирование производительности с помощью TSQL][]

### Сколько DWU нужно использовать
 
Производительность в хранилище данных SQL масштабируется линейно, и переход с одного уровня производительности к другому (например, с 100 DWU к 2000) происходит в считанные секунды. Это позволяет вам гибко экспериментировать с различными параметрами DWU, пока вы не подберете наиболее оптимальный сценарий.

> [AZURE.NOTE] При небольших объемах данных увеличение производительности может быть незаметным. Чтобы получить точные результаты тестирования производительности, мы советуем использовать 1 TБ в качестве начального объема.

Рекомендации по выборе оптимального объема DWU для рабочей нагрузки:

1. Если хранилище данных только создается, начните с небольшого количества DWU.
2. Отслеживайте производительность приложения, сравнивая ее с количеством выбранных DWU.
3. Определите, насколько выше или ниже должна быть производительность, которая оптимально соответствует требуемому вам уровню (учитывайте линейное масштабирование).
4. Увеличьте или уменьшите число DWU в соответствии с тем, насколько вы хотите увеличить или уменьшить скорость выполнения вашей рабочей нагрузки. Служба отреагирует незамедлительно и изменит количество вычислительных ресурсов в соответствии с новыми требованиями к объему DWU.
5. Вносите изменения, пока не достигнете уровня производительности, который оптимально отвечает вашим бизнес-требованиям.

### Когда следует масштабировать DWU

В целом DWU предназначены для простоты использования. Если вы хотите получить результаты быстрее, увеличьте количество DWU за отдельную оплату. Если вам не нужна большая вычислительная мощность, уменьшите количество DWU и оплачивайте только необходимые ресурсы.

Рекомендации по выборе времени для масштабирования DWU

1. Если рабочая нагрузка вашего приложения постоянно меняется, вы можете увеличивать и уменьшать объем DWU в соответствии с пиковыми и самыми низкими нагрузками. Например, если пиковый уровень нагрузки приходится на конец месяца, вы можете запланировать добавление DWU в пиковые дни и уменьшение производительности в конце этого периода.
1. Прежде чем выполнять ресурсоемкую загрузку данных или их преобразование, увеличьте объем DWU, чтобы быстрее получать доступ к данным.

<a name="pause-compute-bk"></a>

## Приостановка работы вычислительных ресурсов

[AZURE.INCLUDE [Описание приостановки работы хранилища данных SQL](../../includes/sql-data-warehouse-pause-description.md)]

Для приостановки базы данных можно использовать любые из следующих отдельных методов:

- [Приостановка работы вычислительных ресурсов с помощью портала Azure][]
- [Приостановка работы вычислительных ресурсов с помощью PowerShell][]
- [Приостановка работы вычислительных ресурсов с помощью API REST][]

<a name="resume-compute-bk"></a>

## Возобновление работы вычислительных ресурсов

[AZURE.INCLUDE [Описание возобновления работы хранилища данных SQL](../../includes/sql-data-warehouse-resume-description.md)]

Для возобновления базы данных можно использовать любые из следующих отдельных методов:

- [Возобновление работы вычислительных ресурсов с помощью портала Azure][]
- [Возобновление работы вычислительных ресурсов с помощью PowerShell][]
- [Возобновление работы вычислительных ресурсов с помощью API REST][]

<a name="next-steps-bk"></a>

## Дальнейшие действия
Приведенные ниже статьи помогут вам понять такие дополнительные ключевые концепции производительности и масштабируемости:

- [модель параллелизма;][]
- [создание таблиц;][]
- [выбор ключа распределения хэша для таблицы;][]
- [статистика для повышения производительности.][]

<!--Image reference-->

<!--Article references-->

[Масштабирование производительности с помощью портала Azure]: ./sql-data-warehouse-manage-scale-out-tasks.md#task-1-scale-performance
[Масштабирование производительности с помощью PowerShell]: ./sql-data-warehouse-manage-scale-out-tasks-powershell.md#task-1-scale-performance
[Масштабирование производительности с помощью API REST]: ./sql-data-warehouse-manage-scale-out-tasks-rest-api.md#task-1-scale-performance
[Масштабирование производительности с помощью TSQL]: ./sql-data-warehouse-manage-scale-out-tasks-tsql.md

[ограничениях емкости]: ./sql-data-warehouse-service-capacity-limits.md

[Приостановка работы вычислительных ресурсов с помощью портала Azure]: ./sql-data-warehouse-manage-scale-out-tasks.md#task-2-pause-compute
[Приостановка работы вычислительных ресурсов с помощью PowerShell]: ./sql-data-warehouse-manage-scale-out-tasks-powershell.md#task-2-pause-compute
[Приостановка работы вычислительных ресурсов с помощью API REST]: ./sql-data-warehouse-manage-scale-out-tasks-rest-api.md#task-2-pause-compute
[Возобновление работы вычислительных ресурсов с помощью портала Azure]: ./sql-data-warehouse-manage-scale-out-tasks.md#task-3-resume-compute
[Возобновление работы вычислительных ресурсов с помощью PowerShell]: ./sql-data-warehouse-manage-scale-out-tasks-powershell.md#task-3-resume-compute
[Возобновление работы вычислительных ресурсов с помощью API REST]: ./sql-data-warehouse-manage-scale-out-tasks-rest-api.md#task-3-resume-compute

[модель параллелизма;]: ./sql-data-warehouse-develop-concurrency.md
[создание таблиц;]: ./sql-data-warehouse-develop-table-design.md
[выбор ключа распределения хэша для таблицы;]: ./sql-data-warehouse-develop-hash-distribution-key.md
[статистика для повышения производительности.]: ./sql-data-warehouse-develop-statistics.md
[development overview]: ./sql-data-warehouse-overview-develop.md

<!--MSDN references-->


<!--Other Web references-->

[Azure portal]: http://portal.azure.com/

<!---HONumber=AcomDC_0601_2016-->