<properties
   pageTitle="Рабочая нагрузка хранилища данных"
   description="Эластичность хранилища данных SQL — это возможность повышать и понижать вычислительную мощность, а также приостанавливать вычислительную работу с помощью обычного ползунка изменения уровня производительности (количества DWU). В этой статье описываются метрики хранилища данных и их связь с DWU."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="barbkess"
   manager="jhubbard"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="09/22/2015"
   ms.author="barbkess;twounder;JRJ@BigBangData.co.uk"/>


# Рабочая нагрузка хранилища данных
Рабочая нагрузка хранилища данных — это все операции, которые выполняются в хранилище данных. Рабочая нагрузка хранилища охватывает весь процесс загрузки данных в хранилище, выполнение анализа, создание отчетов о хранилище, управление данными в хранилище и экспорт данных из хранилища. Глубина и ширина этих процессов зачастую зависят от уровня зрелости хранилища данных.


## Если вы не знакомы с системами хранения данных
Хранилище данных — это совокупность данных, загружаемых из одного или нескольких источников данных, которая используется для выполнения задач по бизнес-аналитике, например для создания отчетов и анализа данных.

Отличительной чертой хранилищ данных являются очереди, которые сканируют большое количество строк и большие диапазоны данных и могут возвращать относительно большие объемы результатов. Эти результаты впоследствии можно анализировать и создавать по ним различные отчеты. Хранилища данных также характеризуются относительно большими загрузками данных по сравнению с небольшими операциями вставки, обновления или удаления на уровне транзакций.

- Хранилище данных работает лучше, если способ хранения данных позволяет оптимизировать запросы, которые должны сканировать большое количество строк или большие диапазоны данных. Этот тип сканирования лучше всего работает, если данные хранятся и ищутся в столбцах, а не строках. 

>[AZURE.NOTE]В контексте запросов для аналитики и создания отчетов индекс columnstore в памяти, который использует столбчатое хранилище, обеспечивает пятикратное увеличение сжатия и десятикратное улучшение производительности запросов по сравнению с традиционными двоичными деревьями. Мы считаем индексы columnstore стандартом для хранения и сканирования больших объемов информации в хранилище данных.

- Требования хранилища данных отличаются от требований системы, которая оптимизирует интерактивную обработку транзакций (OLTP). В системе OLTP выполняется множество операций вставки, обновления и удаления. Эти операции ищут конкретные строки в таблице. Поиск в таблице выполняется эффективнее, если данные хранятся в строках. Данные можно сортировать и искать, используя подход "разделяй и властвуй", который называется двоичным деревом или поиском в двоичном дереве.


## Загрузка данных
Загрузка данных является важной частью рабочей нагрузки хранилища данных. В компаниях обычно работает высоконагруженная система OLTP, которая отслеживает изменения в течение дня, когда клиенты создают бизнес-транзакции. Периодически, чаще всего по ночам в период обслуживания, транзакции перемещаются или копируются в хранилище данных. Когда данные находятся в хранилище данных, аналитики могут анализировать их и принимать соответствующие решения.

- Обычно процесс загрузки называется ETL, что расшифровывается как извлечение, преобразование и загрузка (Extract, Transform и Load). Данные необходимо преобразовывать, чтобы они согласовывались с другими данными в хранилище. Ранее компании использовать выделенные ETL-серверы для выполнения преобразований. Теперь благодаря быстрым вычислениям с массовым параллелизмом данные можно сначала загрузить в хранилище данных SQL, а затем преобразовать их. Этот процесс называется "Извлечение, загрузка и преобразование (ELT)". Он становится новой стандартной рабочей нагрузкой хранилища данных.

> [AZURE.NOTE]Используя SQL Server CTP2, вы теперь можете анализировать таблицы OLTP в режиме реального времени. Вам по-прежнему требуется хранилище для хранения и анализа данных, но с помощью сервера можно выполнять анализ в режиме реального времени.
 
### Запросы для создания отчетов и анализа
Запросы для создания отчетов и анализа данных часто делятся на малые, средние и большие в зависимости от количества критериев, но обычно запросы классифицируются по времени. В большинстве хранилищ данных существует смешанная рабочая нагрузка, которая состоит из быстро выполняющихся и долго выполняющихся запросов. В каждом случае важно определить это сочетание и его частоту (ежечасно, ежедневно, в конце месяца, в конце квартала и т. д.). Важно понимать, что рабочая нагрузка смешанных запросов в сочетании с параллелизмом позволяет правильно планировать загрузку хранилища данных.

- Планирование загрузки может быть сложной задачей при использовании рабочей нагрузки смешанных запросов, особенно если вам требуется длительное время упреждения для добавления ресурсов в хранилище данных. С хранилищем данных SQL вам не нужно срочно планировать загрузку: вы можете увеличивать и уменьшать количество вычислительных ресурсов в любое время, поскольку вычислительные ресурсы и емкость хранилища не связаны друг с другом.

### Управление данными
Управление данными имеет большое значение, особенно если известно, что в ближайшем будущем на диске может закончиться свободное место. Хранилища данных обычно разделяют данные на осмысленные диапазоны, которые хранятся в виде секций таблицы. Все продукты на основе SQL Server позволяют перемещать разделы в таблицу и из нее. Этот переход между секциями позволяет перемещать старые данные в менее дорогое хранилище, а новые данные оставить доступными в онлайн-хранилище.

- Индексы columnstore поддерживают работу с секционированными таблицами. В случае с индексами columnstore секционированные таблицы используются для управления данными и архивирования. В таблицах с построчным хранением данных секции имеют большое значение для производительности запросов.  
 
- PolyBase играет важную роль в управлении данными. С помощью PolyBase вы можете архивировать старые данные в Hadoop или хранилище больших двоичных объектов Azure. Такая возможность предоставляет больше пространства для маневров, поскольку данные остаются в сети. Чтобы получить данные из Hadoop, может понадобиться больше времени. Но длительное время извлечения данных компенсирует затраты на хранение.
 
### Экспорт данных
Чтобы предоставить доступ к данным для создания отчетов и анализа, их можно отправить из хранилища данных на серверы, предназначенные для создания отчетов и выполнения анализа. Эти серверы называются киосками данных. Например, вы можете предварительно обработать данные для отчетов и экспортировать их из хранилища в несколько серверов по всему миру. Таким образом клиенты и аналитики получат к ним доступ.

- Данные для отчетов можно каждую ночь передавать на серверы отчетов (доступны только для чтения) в виде моментальных снимков ежедневных данных. Таким образом обеспечивается более высокая пропускная способность для клиентов и снижаются потребности хранилища данных в вычислительных ресурсах. С точки зрения безопасности киоски данных позволяют сократить число пользователей, имеющих доступ к хранилищу данных.
- Для целей аналитики вы можете создать в хранилище данных куб аналитики и анализировать информацию относительно хранилища данных. Или же можно предварительно обработать данные и экспортировать их на сервер аналитики для дальнейшего анализа. 

## Дальнейшие действия
Перед началом разработки хранилища данных ознакомьтесь с [общими сведениями о разработке][].

## Книги
[Хранение больших данных](https://www.manning.com/books/big-data-warehousing). Авторы: Картик Рамачандран (Karthik Ramachandran), Истван Шедеди (Istvan Szededi) и Ричард Зальцер (Richard L. Saltzer) (Manning Publications). [Глава 1](https://manning-content.s3.amazonaws.com/download/e/3d94acd-9512-46c8-b0b0-8c9c3c6a303b/BDW_MEAP_ch1.pdf)

<!--Image references-->

<!--Article references-->
[общими сведениями о разработке]: sql-data-warehouse-overview-develop.md

<!--MSDN references-->

<!--Other web references-->

<!---HONumber=Oct15_HO3-->