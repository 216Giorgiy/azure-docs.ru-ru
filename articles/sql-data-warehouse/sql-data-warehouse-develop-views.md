<properties
   pageTitle="Представления в хранилище данных SQL | Microsoft Azure"
   description="Советы по использованию представлений Transact-SQL в хранилище данных SQL Azure для разработки решений."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="jrowlandjones"
   manager="barbkess"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="07/01/2016"
   ms.author="jrj;barbkess;sonyama"/>


# Представления в хранилище данных SQL

Представления особенно удобны в хранилище данных SQL. Их можно использовать разными способами для повышения качества вашего решения. В этой статье представлены примеры того, как можно улучшить решение с помощью представлений; кроме того, здесь описаны ограничения, которые следует учитывать.

> [AZURE.NOTE] Синтаксис `CREATE VIEW` в этой статье не рассматривается. Информацию о синтаксисе см. в статье [CREATE VIEW][] на сайте MSDN.

## Архитектурная абстракция
Самый распространенный шаблон приложения — повторное создание таблиц с помощью инструкции CREATE TABLE AS SELECT (CTAS), после которой следует шаблон переименования объектов в процессе загрузки данных.

Приведенный ниже пример добавляет новые записи даты в измерение даты. Обратите внимание, что сначала создается новая таблица DimDate\_New, которая затем переименовывается для замены исходной версии таблицы.

```sql
CREATE TABLE dbo.DimDate_New
WITH (DISTRIBUTION = ROUND_ROBIN
, CLUSTERED INDEX (DateKey ASC)
)
AS
SELECT *
FROM   dbo.DimDate  AS prod
UNION ALL
SELECT *
FROM   dbo.DimDate_stg AS stg
;

RENAME OBJECT DimDate TO DimDate_Old;
RENAME OBJECT DimDate_New TO DimDate;

```

Но эти действия могут привести к тому, что таблицы могут появляться в представлении пользователя и исчезать из него; кроме того, могут появляться сообщения об ошибках "Таблица не существует". Представления нужны для предоставления пользователям доступа к согласованному уровню отображения данных, пока базовые объекты переименовываются. Если пользователи получают доступ к данным через представления, им не нужно видеть базовые таблицы. Таким образом, пользователи работают с единообразным пользовательским интерфейсом, а конструкторы хранилища данных могут разрабатывать модель данных и повышать производительность с помощью CTAS при загрузке данных.

## Оптимизация производительности
Представления также можно использовать для повышения эффективности соединений между таблицами. Например, в представление можно включить ключ избыточного распространения, заданный в критерии соединения, чтобы минимизировать перемещение данных. Еще одно преимущество представления — принудительное выполнение определенного запроса или указания по соединению. Благодаря представлениям соединения всегда выполняются правильно, поэтому пользователю не нужно запоминать правильную конструкцию соединений.

## Ограничения
Представления в хранилище данных SQL — это только метаданные. Поэтому следующие возможности недоступны.

- 	Нет возможности привязать схему.
- 	Базовые таблицы нельзя обновлять через представление.
- 	Для временных таблиц нельзя создавать представления.
- 	Не поддерживаются указания для EXPAND и NOEXPAND.
- 	В хранилище данных SQL нет индексированных представлений.


## Дальнейшие действия
Дополнительные советы по разработке см. в разделе [Общие сведения о разработке для хранилища данных SQL][]. Сведения о синтаксисе `CREATE VIEW` см. в статье [CREATE VIEW][].

<!--Image references-->

<!--Article references-->
[Общие сведения о разработке для хранилища данных SQL]: ./sql-data-warehouse-overview-develop.md

<!--MSDN references-->
[CREATE VIEW]: https://msdn.microsoft.com/ru-RU/library/ms187956.aspx

<!--Other Web references-->

<!---HONumber=AcomDC_0706_2016-->